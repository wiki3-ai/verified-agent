<!DOCTYPE html>
<html lang="en" vocab="http://schema.org/" typeof="SoftwareSourceCode">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>defthm - ACL2 Book</title>
  <meta property="name" content="defthm">
  <meta property="programmingLanguage" content="ACL2">
  
<style>
/* ACL2 Book HTML Documentation Styles */
/* Generated by cert2 - build2 system */

/* Dark theme (default) */
:root {
  --bg: #1e1e2e;
  --fg: #cdd6f4;
  --comment: #6c7086;
  --keyword: #cba6f7;
  --string: #a6e3a1;
  --function: #89b4fa;
  --type: #f9e2af;
  --link: #89dceb;
  --link-hover: #f5c2e7;
  --highlight: rgba(137, 180, 250, 0.2);
  --border: #313244;
  --block-bg: rgba(49, 50, 68, 0.5);
  --btn-bg: #313244;
  --btn-hover: rgba(137, 180, 250, 0.2);
}

/* Light theme */
[data-theme="light"] {
  --bg: #eff1f5;
  --fg: #4c4f69;
  --comment: #6c6f85;
  --keyword: #8839ef;
  --string: #40a02b;
  --function: #1e66f5;
  --type: #df8e1d;
  --link: #04a5e5;
  --link-hover: #ea76cb;
  --highlight: rgba(30, 102, 245, 0.15);
  --border: #ccd0da;
  --block-bg: rgba(204, 208, 218, 0.3);
  --btn-bg: #ccd0da;
  --btn-hover: rgba(30, 102, 245, 0.15);
}

body {
  font-family: 'JetBrains Mono', 'Fira Code', monospace;
  background: var(--bg);
  color: var(--fg);
  margin: 0;
  padding: 20px;
  line-height: 1.6;
  font-size: 14px;
  transition: background 0.1s, color 0.1s;
}

/* Controls toolbar */
.controls-left {
  position: fixed;
  top: 10px;
  left: 20px;
  display: flex;
  gap: 8px;
  align-items: center;
  z-index: 200;
  transition: transform 0.1s ease;
}

.controls-right {
  position: fixed;
  top: 10px;
  right: 20px;
  display: flex;
  gap: 8px;
  align-items: center;
  z-index: 200;
}

.control-btn {
  padding: 6px 12px;
  background: var(--btn-bg);
  border: 1px solid var(--border);
  border-radius: 4px;
  color: var(--fg);
  cursor: pointer;
  font-family: inherit;
  font-size: 14px;
  transition: all 0.1s;
}

.control-btn:hover {
  background: var(--btn-hover);
  border-color: var(--link);
}

.name-filter {
  padding: 6px 10px;
  background: var(--btn-bg);
  border: 1px solid var(--border);
  border-radius: 4px;
  color: var(--fg);
  font-family: inherit;
  font-size: 13px;
  width: 150px;
  transition: all 0.1s;
}

.name-filter:focus {
  outline: none;
  border-color: var(--link);
  width: 200px;
}

.name-filter::placeholder {
  color: var(--comment);
}

.regex-label {
  display: flex;
  align-items: center;
  gap: 4px;
  color: var(--comment);
  font-size: 12px;
  cursor: pointer;
}

.regex-label input {
  cursor: pointer;
}

.book-header {
  border-bottom: 2px solid var(--border);
  padding-bottom: 20px;
  margin-bottom: 20px;
}

.book-header h1 {
  color: var(--keyword);
  margin: 0;
}

.book-header .path {
  color: var(--comment);
  font-size: 0.9em;
}

.book-header .path .source-link {
  color: var(--comment);
  text-decoration: none;
}

.book-header .path .source-link:hover {
  color: var(--link);
  text-decoration: underline;
}

.form-block {
  margin: 10px 0;
  padding: 15px;
  background: var(--block-bg);
  border-radius: 8px;
  border-left: 3px solid var(--border);
}

.form-block.theorem { border-left-color: var(--keyword); }
.form-block.function { border-left-color: var(--function); }
.form-block.macro { border-left-color: var(--type); }
.form-block.include-book { border-left-color: var(--string); }

.form-block.hidden { display: none; }
.form-block.dimmed { opacity: 0.3; }

.form-block.highlight {
  animation: highlight-pulse 0.4s ease-out;
}

@keyframes highlight-pulse {
  0% { background: var(--highlight); box-shadow: 0 0 20px var(--link); }
  100% { background: rgba(49, 50, 68, 0.5); box-shadow: none; }
}

.form-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
}

.form-name {
  color: var(--function);
  font-weight: bold;
  cursor: pointer;
}

.form-name:hover {
  color: var(--link-hover);
  text-decoration: underline;
}

.form-type {
  color: var(--comment);
  font-size: 0.85em;
}

pre.code {
  margin: 0;
  overflow-x: auto;
  white-space: pre-wrap;
  word-wrap: break-word;
}

.sym-ref {
  color: var(--link);
  cursor: pointer;
  border-radius: 2px;
}

.sym-ref:hover {
  background: var(--highlight);
  color: var(--link-hover);
}

.sym-ref.local-def { color: var(--function); font-weight: bold; }
.sym-ref.external { color: var(--type); }

/* Symbol links (clickable hyperlinks) */
.sym-link {
  color: var(--link);
  text-decoration: none;
  border-radius: 2px;
  cursor: pointer;
  position: relative;
}

.sym-link:hover {
  background: var(--highlight);
  color: var(--link-hover);
  text-decoration: underline;
}

.sym-link.local-def {
  color: var(--function);
  font-weight: bold;
}

.sym-link.external {
  color: var(--type);
}

/* Tooltips using title attribute with custom styling */
.sym-link[title] {
  /* Browser will show title on hover */
}

/* Syntax highlighting in code blocks */
.keyword {
  color: var(--keyword);
}

.string {
  color: var(--string);
}

.number {
  color: #f77524; /* orange */
}

/* Include-book path links */
.include-path {
  color: var(--string);
  text-decoration: none;
  border-radius: 2px;
  cursor: pointer;
}

.include-path:hover {
  background: var(--highlight);
  color: var(--link-hover);
  text-decoration: underline;
}

/* Part buttons for defthm */
.part-buttons {
  display: flex;
  gap: 5px;
  margin: 10px 0;
  flex-wrap: wrap;
}

.part-btn {
  padding: 4px 10px;
  background: var(--border);
  border: 1px solid var(--comment);
  border-radius: 4px;
  color: var(--fg);
  cursor: pointer;
  font-size: 0.85em;
  font-family: inherit;
}

.part-btn:hover {
  background: var(--highlight);
  border-color: var(--link);
}

.part-btn.active {
  background: var(--link);
  color: var(--bg);
  border-color: var(--link);
}

/* References panel */
.refs-panel {
  margin-top: 10px;
  padding: 10px;
  background: rgba(0,0,0,0.2);
  border-radius: 4px;
  display: none;
}

.refs-panel.visible { display: block; }

.refs-panel h4 {
  margin: 0 0 5px 0;
  color: var(--comment);
  font-size: 0.9em;
}

.refs-list {
  display: flex;
  flex-wrap: wrap;
  gap: 5px;
}

/* Included books section */
.includes-section {
  margin-bottom: 20px;
  padding: 15px;
  background: rgba(49, 50, 68, 0.3);
  border-radius: 8px;
  border: 1px solid var(--border);
}

.includes-section h2 {
  margin: 0 0 10px 0;
  color: var(--comment);
  font-size: 1em;
  font-weight: normal;
}

.includes-list {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.include-link {
  padding: 6px 12px;
  background: var(--border);
  border-radius: 4px;
  color: var(--link);
  text-decoration: none;
  font-size: 0.9em;
  transition: all 0.1s;
}

.include-link:hover {
  background: var(--highlight);
  color: var(--link-hover);
}

.include-link.local {
  border-left: 2px solid var(--comment);
}

/* Filter status */
.filter-status {
  position: fixed;
  top: 10px;
  left: 20px;
  background: var(--bg);
  padding: 6px 12px;
  border: 1px solid var(--border);
  border-radius: 4px;
  z-index: 201;
  display: none;
  align-items: center;
  gap: 10px;
}

.filter-status.active {
  display: flex;
  align-items: center;
  gap: 10px;
}

.clear-filter {
  padding: 5px 15px;
  background: var(--keyword);
  color: var(--bg);
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

/* RDFa vocab indicator */
[vocab] { /* semantic web annotations present */ }

</style>

</head>
<body>
  <div class="controls-left">
    <input type="text" id="name-filter" class="name-filter" placeholder="Filter by name..." title="Filter definitions by name">
    <label class="regex-label"><input type="checkbox" id="regex-toggle"> regex</label>
  </div>

  <div class="controls-right">
    <button class="control-btn" id="theme-toggle" title="Toggle light/dark theme">☀️</button>
    <button class="control-btn" id="font-smaller" title="Decrease font size">A-</button>
    <button class="control-btn" id="font-larger" title="Increase font size">A+</button>
  </div>

  <div class="filter-status">
    <span class="filter-text">Filtering...</span>
    <button class="clear-filter">Clear Filter</button>
  </div>
  
  <div class="book-header">
    <h1 property="name">defthm</h1>
    <div class="path"><a href="defthm.lisp" class="source-link">defthm</a></div>
  </div>
  
  <main property="text">
<div class="form-block other" id="form-0" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-in-package" data-sym="IN-PACKAGE">in-package</a> <span class="string">"ACL2"</span>)</pre>
  </div>

<div class="form-block function" id="def-form-of-rewrite-quoted-constant-rule" data-defines="FORM-OF-REWRITE-QUOTED-CONSTANT-RULE" data-references="T,*ONE-WAY-UNIFY1-IMPLICIT-FNS*,MEMBER-EQ,OR,FARGN,VARIABLEP,CDDR,NULL,CDR,FFN-SYMB,SYMBOLP,FQUOTEP,NVARIABLEP,QUOTEP,EQUAL,QUOTE,EQ,NOT,AND,COND,RHS,LHS,EQUIV,DEFUN" data-used-by="CREATE-REWRITE-RULE,INTERPRET-TERM-AS-REWRITE-RULE2" data-part-name="FORM-OF-REWRITE-QUOTED-CONSTANT-RULE" data-part-args="RHS,LHS,EQUIV" data-part-body="T,*ONE-WAY-UNIFY1-IMPLICIT-FNS*,MEMBER-EQ,OR,FARGN,VARIABLEP,CDDR,NULL,CDR,FFN-SYMB,SYMBOLP,FQUOTEP,NVARIABLEP,RHS,LHS,QUOTEP,EQUAL,QUOTE,EQUIV,EQ,NOT,AND,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="FORM-OF-REWRITE-QUOTED-CONSTANT-RULE">form-of-rewrite-quoted-constant-rule</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-form-of-rewrite-quoted-constant-rule" data-sym="FORM-OF-REWRITE-QUOTED-CONSTANT-RULE" title="(defun form-of-rewrite-quoted-constant-rule (equiv lhs rhs)
  (cond ((and (not (eq equiv &#39;equal)) (quotep lhs) (quotep rhs)) 1)
        ((and (not (eq equiv &#39;equal)) (nvariablep lhs) (not (fquotep lhs))
              (symbolp (ffn-symb lhs)) (cdr lhs) (null (cddr lhs))
              (variablep (fargn lhs 1)) (eq (fargn lhs 1) rhs))
...">form-of-rewrite-quoted-constant-rule</a>
  (equiv lhs rhs)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> equiv 'equal)) (<a class="sym-link system" href="axioms.html#def-quotep" data-sym="QUOTEP">quotep</a> lhs) (<a class="sym-link system" href="axioms.html#def-quotep" data-sym="QUOTEP">quotep</a> rhs)) <span class="number">1</span>)
    ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> equiv 'equal))
       (<a class="sym-link system" href="axioms.html#def-nvariablep" data-sym="NVARIABLEP">nvariablep</a> lhs)
       (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-fquotep" data-sym="FQUOTEP">fquotep</a> lhs))
       (symbolp (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> lhs))
       (cdr lhs)
       (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> (<a class="sym-link system" href="axioms.html#def-cddr" data-sym="CDDR">cddr</a> lhs))
       (<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> lhs <span class="number">1</span>))
       (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> lhs <span class="number">1</span>) rhs)) <span class="number">2</span>)
    ((<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> lhs)
       (<a class="sym-link system" href="axioms.html#def-fquotep" data-sym="FQUOTEP">fquotep</a> lhs)
       (<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> lhs) *one-way-unify1-implicit-fns*)) <span class="number">3</span>)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> nil)))</pre>
  </div>

<div class="form-block function" id="def-interpret-term-as-rewrite-rule2" data-defines="INTERPRET-TERM-AS-REWRITE-RULE2" data-references="ALL-VARS,BAD-SYNP-HYP-MSG,LET,QUOTE,HARD,ER,T,FLAMBDA-APPLICATIONP,FQUOTEP,VARIABLEP,OR,LIST,FORM-OF-REWRITE-QUOTED-CONSTANT-RULE,NOT,AND,IF,MSG,EQUAL,COND,WRLD,RHS,LHS,EQUIV,HYPS,NAME,QC-FLG,DEFUN" data-used-by="INTERPRET-TERM-AS-REWRITE-RULE" data-part-name="INTERPRET-TERM-AS-REWRITE-RULE2" data-part-args="WRLD,RHS,LHS,EQUIV,HYPS,NAME,QC-FLG" data-part-body="WRLD,ALL-VARS,HYPS,BAD-SYNP-HYP-MSG,LET,INTERPRET-TERM-AS-REWRITE-RULE2,QUOTE,HARD,ER,T,FLAMBDA-APPLICATIONP,FQUOTEP,VARIABLEP,OR,LIST,EQUIV,FORM-OF-REWRITE-QUOTED-CONSTANT-RULE,NOT,AND,NAME,QC-FLG,IF,MSG,RHS,LHS,EQUAL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="INTERPRET-TERM-AS-REWRITE-RULE2">interpret-term-as-rewrite-rule2</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-interpret-term-as-rewrite-rule2" data-sym="INTERPRET-TERM-AS-REWRITE-RULE2" title="(defun interpret-term-as-rewrite-rule2 (qc-flg name hyps equiv lhs rhs wrld)
  (cond
   ((equal lhs rhs)
    (msg &quot;A ~x0 rule generated from ~x1 is illegal because it rewrites the ~
      term ~x2 to itself!  This can happen even when you submit a rule whose ~
...">interpret-term-as-rewrite-rule2</a>
  (qc-flg name hyps equiv lhs rhs wrld)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((equal lhs rhs) (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"A ~x0 rule generated from ~x1 is illegal because it rewrites the ~
      term ~x2 to itself!  This can happen even when you submit a rule whose ~
      left and right sides appear to be different, in the case that those two ~
      sides represent the same term (for example, after macroexpansion).  For ~
      general information about rewrite rules in ACL2, see :DOC rewrite.  You ~
      may wish to consider submitting a DEFTHM event ending with ~
      :RULE-CLASSES NIL."</span>
        (if qc-flg
          <span class="keyword">:rewrite-quoted-constant</span> <span class="keyword">:rewrite</span>)
        name
        lhs))
    ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> qc-flg
       (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link local-def" href="#def-form-of-rewrite-quoted-constant-rule" data-sym="FORM-OF-REWRITE-QUOTED-CONSTANT-RULE" title="(defun form-of-rewrite-quoted-constant-rule (equiv lhs rhs)
  (cond ((and (not (eq equiv &#39;equal)) (quotep lhs) (quotep rhs)) 1)
        ((and (not (eq equiv &#39;equal)) (nvariablep lhs) (not (fquotep lhs))
              (symbolp (ffn-symb lhs)) (cdr lhs) (null (cddr lhs))
              (variablep (fargn lhs 1)) (eq (fargn lhs 1) rhs))
...">form-of-rewrite-quoted-constant-rule</a> equiv lhs rhs))) (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"A :REWRITE-QUOTED-CONSTANT rule generated from ~x0 is illegal because ~
      the conclusion is not compatible with any of the allowed forms.  To be ~
      Form [1], the conclusion must be an equivalence (other than EQUAL) ~
      between two quoted constants.  To be Form [2], the conclusion must be ~
      an equivalence (other than EQUAL) between, on the left, a call of a ~
      monadic function symbol on a variable symbol and, on the right, that ~
      same variable symbol.  To be of Form [3], the conclusion must be an ~
      equivalence relation and the left-hand side must be a variable, a ~
      quoted constant, or a call of one of the function symbols in ~
      *ONE-WAY-UNifY1-IMPLICIT-FNS* so that the left-hand side can match a ~
      quoted constant.  But the conclusion of ~x0 is ~x1."</span>
        name
        (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> equiv lhs rhs)))
    ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> qc-flg)
       (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> lhs)
         (<a class="sym-link system" href="axioms.html#def-fquotep" data-sym="FQUOTEP">fquotep</a> lhs)
         (<a class="sym-link system" href="basis-b.html#def-flambda-applicationp" data-sym="FLAMBDA-APPLICATIONP">flambda-applicationp</a> lhs))) (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"A :REWRITE rule generated from ~x0 is illegal because it rewrites the ~
      ~@1 ~x2.  For general information about rewrite rules in ACL2, see :DOC ~
      rewrite."</span>
        name
        (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> lhs) <span class="string">"variable symbol"</span>)
          ((<a class="sym-link system" href="axioms.html#def-fquotep" data-sym="FQUOTEP">fquotep</a> lhs) <span class="string">"quoted constant"</span>)
          ((<a class="sym-link system" href="basis-b.html#def-flambda-applicationp" data-sym="FLAMBDA-APPLICATIONP">flambda-applicationp</a> lhs) <span class="string">"LET-expression"</span>)
          (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> hard
              '<a class="sym-link local-def" href="#def-interpret-term-as-rewrite-rule2" data-sym="INTERPRET-TERM-AS-REWRITE-RULE2" title="(defun interpret-term-as-rewrite-rule2 (qc-flg name hyps equiv lhs rhs wrld)
  (cond
   ((equal lhs rhs)
    (msg &quot;A ~x0 rule generated from ~x1 is illegal because it rewrites the ~
      term ~x2 to itself!  This can happen even when you submit a rule whose ~
...">interpret-term-as-rewrite-rule2</a>
              <span class="string">"Implementation error: forgot a case.  LHS:~|~x0."</span>
              lhs)))
        lhs))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((<a class="sym-link system" href="rewrite.html#def-bad-synp-hyp-msg" data-sym="BAD-SYNP-HYP-MSG">bad-synp-hyp-msg</a> (<a class="sym-link system" href="rewrite.html#def-bad-synp-hyp-msg" data-sym="BAD-SYNP-HYP-MSG">bad-synp-hyp-msg</a> hyps (<a class="sym-link system" href="axioms.html#def-all-vars" data-sym="ALL-VARS">all-vars</a> lhs) nil wrld)))
        (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (<a class="sym-link system" href="rewrite.html#def-bad-synp-hyp-msg" data-sym="BAD-SYNP-HYP-MSG">bad-synp-hyp-msg</a> (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"A ~x0 rule generated from ~x1 is illegal because ~@2"</span>
              (if qc-flg
                <span class="keyword">:rewrite-quoted-constant</span> <span class="keyword">:rewrite</span>)
              name
              <a class="sym-link system" href="rewrite.html#def-bad-synp-hyp-msg" data-sym="BAD-SYNP-HYP-MSG">bad-synp-hyp-msg</a>))
          (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> nil))))))</pre>
  </div>

<div class="form-block function" id="def-interpret-term-as-rewrite-rule1" data-defines="INTERPRET-TERM-AS-REWRITE-RULE1" data-references="*NIL*,NOT,T,*TS-BOOLEAN*,TS-SUBSETP,TYPE-SET,TS,EQ,TTREE,EQUIV,MV-LET,LHS,LET,EQUIVALENCE-RELATIONP,IF,LAMBDA-BODY,FARGS,LAMBDA-FORMALS,SUBCOR-VAR,FLAMBDAP,REMOVE-LAMBDAS,FARGN,EQUAL,*EQUALITY-ALIASES*,FFN-SYMB,MEMBER-EQ,FQUOTEP,*T*,IFF,QUOTE,MV,VARIABLEP,COND,WRLD,ENS,EQUIV-OKP,TERM,DEFUN" data-used-by="INTERPRET-TERM-AS-REWRITE-RULE" data-part-name="INTERPRET-TERM-AS-REWRITE-RULE1" data-part-args="WRLD,ENS,EQUIV-OKP,TERM" data-part-body="*NIL*,NOT,T,*TS-BOOLEAN*,TS-SUBSETP,TYPE-SET,TS,EQ,TTREE,EQUIV,MV-LET,LHS,LET,EQUIVALENCE-RELATIONP,IF,WRLD,ENS,EQUIV-OKP,LAMBDA-BODY,FARGS,LAMBDA-FORMALS,SUBCOR-VAR,INTERPRET-TERM-AS-REWRITE-RULE1,FLAMBDAP,REMOVE-LAMBDAS,FARGN,EQUAL,*EQUALITY-ALIASES*,FFN-SYMB,MEMBER-EQ,FQUOTEP,*T*,IFF,QUOTE,MV,TERM,VARIABLEP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="INTERPRET-TERM-AS-REWRITE-RULE1">interpret-term-as-rewrite-rule1</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-interpret-term-as-rewrite-rule1" data-sym="INTERPRET-TERM-AS-REWRITE-RULE1" title="(defun interpret-term-as-rewrite-rule1 (term equiv-okp ens wrld)
  (cond ((variablep term) (mv &#39;iff term term *t* nil))
        ((fquotep term) (mv &#39;iff term term *t* nil))
        ((member-eq (ffn-symb term) *equality-aliases*)
         (mv &#39;equal (fargn term 1) (remove-lambdas (fargn term 1))
...">interpret-term-as-rewrite-rule1</a>
  (term equiv-okp ens wrld)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> term) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> '<a class="sym-link system" href="axioms.html#def-iff" data-sym="IFF">iff</a> term term <a class="sym-link system" href="axioms.html#def-_2At_2A" data-sym="*T*">*t*</a> nil))
    ((<a class="sym-link system" href="axioms.html#def-fquotep" data-sym="FQUOTEP">fquotep</a> term) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> '<a class="sym-link system" href="axioms.html#def-iff" data-sym="IFF">iff</a> term term <a class="sym-link system" href="axioms.html#def-_2At_2A" data-sym="*T*">*t*</a> nil))
    ((<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term) *equality-aliases*) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> 'equal
        (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">1</span>)
        (<a class="sym-link system" href="defuns.html#def-remove-lambdas" data-sym="REMOVE-LAMBDAS">remove-lambdas</a> (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">1</span>))
        (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">2</span>)
        nil))
    ((<a class="sym-link system" href="basis-b.html#def-flambdap" data-sym="FLAMBDAP">flambdap</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term)) (<a class="sym-link local-def" href="#def-interpret-term-as-rewrite-rule1" data-sym="INTERPRET-TERM-AS-REWRITE-RULE1" title="(defun interpret-term-as-rewrite-rule1 (term equiv-okp ens wrld)
  (cond ((variablep term) (mv &#39;iff term term *t* nil))
        ((fquotep term) (mv &#39;iff term term *t* nil))
        ((member-eq (ffn-symb term) *equality-aliases*)
         (mv &#39;equal (fargn term 1) (remove-lambdas (fargn term 1))
...">interpret-term-as-rewrite-rule1</a> (<a class="sym-link system" href="basis-b.html#def-subcor-var" data-sym="SUBCOR-VAR">subcor-var</a> (<a class="sym-link system" href="basis-b.html#def-lambda-formals" data-sym="LAMBDA-FORMALS">lambda-formals</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term))
          (<a class="sym-link system" href="axioms.html#def-fargs" data-sym="FARGS">fargs</a> term)
          (<a class="sym-link system" href="basis-b.html#def-lambda-body" data-sym="LAMBDA-BODY">lambda-body</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term)))
        equiv-okp
        ens
        wrld))
    ((if equiv-okp
       (<a class="sym-link system" href="basis-b.html#def-equivalence-relationp" data-sym="EQUIVALENCE-RELATIONP">equivalence-relationp</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term) wrld)
       (<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term) '(equal <a class="sym-link system" href="axioms.html#def-iff" data-sym="IFF">iff</a>))) (let ((lhs (<a class="sym-link system" href="defuns.html#def-remove-lambdas" data-sym="REMOVE-LAMBDAS">remove-lambdas</a> (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">1</span>))))
        (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (equiv ttree)
          (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term) '<a class="sym-link system" href="axioms.html#def-iff" data-sym="IFF">iff</a>) (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (ts ttree)
                (type-set lhs nil nil nil ens wrld nil nil nil)
                (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((ts-subsetp ts *ts-boolean*) (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (ts ttree)
                      (type-set (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">2</span>) nil nil nil ens wrld ttree nil nil)
                      (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((ts-subsetp ts *ts-boolean*) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> 'equal ttree))
                        (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> '<a class="sym-link system" href="axioms.html#def-iff" data-sym="IFF">iff</a> nil)))))
                  (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> '<a class="sym-link system" href="axioms.html#def-iff" data-sym="IFF">iff</a> nil)))))
            (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term) nil)))
          (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> equiv (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">1</span>) lhs (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">2</span>) ttree))))
    ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term) '<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a>) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> 'equal
        (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">1</span>)
        (<a class="sym-link system" href="defuns.html#def-remove-lambdas" data-sym="REMOVE-LAMBDAS">remove-lambdas</a> (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">1</span>))
        <a class="sym-link system" href="axioms.html#def-_2Anil_2A" data-sym="*NIL*">*nil*</a>
        nil))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (ts ttree)
        (type-set term nil nil nil ens wrld nil nil nil)
        (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((ts-subsetp ts *ts-boolean*) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> 'equal term (<a class="sym-link system" href="defuns.html#def-remove-lambdas" data-sym="REMOVE-LAMBDAS">remove-lambdas</a> term) <a class="sym-link system" href="axioms.html#def-_2At_2A" data-sym="*T*">*t*</a> ttree))
          (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> '<a class="sym-link system" href="axioms.html#def-iff" data-sym="IFF">iff</a> term (<a class="sym-link system" href="defuns.html#def-remove-lambdas" data-sym="REMOVE-LAMBDAS">remove-lambdas</a> term) <a class="sym-link system" href="axioms.html#def-_2At_2A" data-sym="*T*">*t*</a> nil)))))))</pre>
  </div>

<div class="form-block function" id="def-interpret-term-as-rewrite-rule" data-defines="INTERPRET-TERM-AS-REWRITE-RULE" data-references="UNTRANSLATE,OBSERVATION-CW,AND,PROG2$,MV,TTREE2,RHS2,LHS2,LHS20,EQV2,COND,INTERPRET-TERM-AS-REWRITE-RULE2,MSG,LET,T,INTERPRET-TERM-AS-REWRITE-RULE1,TTREE,RHS,LHS,LHS0,EQV,MV-LET,WRLD,ENS,CTX,TERM,HYPS,NAME,QC-FLG,DEFUN" data-used-by="ADD-REWRITE-RULE2,CHK-ACCEPTABLE-REWRITE-RULE2" data-part-name="INTERPRET-TERM-AS-REWRITE-RULE" data-part-args="WRLD,ENS,CTX,TERM,HYPS,NAME,QC-FLG" data-part-body="UNTRANSLATE,OBSERVATION-CW,CTX,AND,PROG2$,MV,TTREE2,RHS2,LHS2,LHS20,EQV2,COND,HYPS,NAME,QC-FLG,INTERPRET-TERM-AS-REWRITE-RULE2,MSG,LET,WRLD,ENS,T,TERM,INTERPRET-TERM-AS-REWRITE-RULE1,TTREE,RHS,LHS,LHS0,EQV,MV-LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="INTERPRET-TERM-AS-REWRITE-RULE">interpret-term-as-rewrite-rule</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-interpret-term-as-rewrite-rule" data-sym="INTERPRET-TERM-AS-REWRITE-RULE" title="(defun interpret-term-as-rewrite-rule (qc-flg name hyps term ctx ens wrld)
  (mv-let (eqv lhs0 lhs rhs ttree)
          (interpret-term-as-rewrite-rule1 term t ens wrld)
          (let ((msg
                 (interpret-term-as-rewrite-rule2 qc-flg name hyps eqv lhs rhs
...">interpret-term-as-rewrite-rule</a>
  (qc-flg name hyps term ctx ens wrld)
  (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (eqv lhs0 lhs rhs ttree)
    (<a class="sym-link local-def" href="#def-interpret-term-as-rewrite-rule1" data-sym="INTERPRET-TERM-AS-REWRITE-RULE1" title="(defun interpret-term-as-rewrite-rule1 (term equiv-okp ens wrld)
  (cond ((variablep term) (mv &#39;iff term term *t* nil))
        ((fquotep term) (mv &#39;iff term term *t* nil))
        ((member-eq (ffn-symb term) *equality-aliases*)
         (mv &#39;equal (fargn term 1) (remove-lambdas (fargn term 1))
...">interpret-term-as-rewrite-rule1</a> term <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> ens wrld)
    (let ((<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> (<a class="sym-link local-def" href="#def-interpret-term-as-rewrite-rule2" data-sym="INTERPRET-TERM-AS-REWRITE-RULE2" title="(defun interpret-term-as-rewrite-rule2 (qc-flg name hyps equiv lhs rhs wrld)
  (cond
   ((equal lhs rhs)
    (msg &quot;A ~x0 rule generated from ~x1 is illegal because it rewrites the ~
      term ~x2 to itself!  This can happen even when you submit a rule whose ~
...">interpret-term-as-rewrite-rule2</a> qc-flg
           name
           hyps
           eqv
           lhs
           rhs
           wrld)))
      (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (eqv2 lhs20 lhs2 rhs2 ttree2)
            (<a class="sym-link local-def" href="#def-interpret-term-as-rewrite-rule1" data-sym="INTERPRET-TERM-AS-REWRITE-RULE1" title="(defun interpret-term-as-rewrite-rule1 (term equiv-okp ens wrld)
  (cond ((variablep term) (mv &#39;iff term term *t* nil))
        ((fquotep term) (mv &#39;iff term term *t* nil))
        ((member-eq (ffn-symb term) *equality-aliases*)
         (mv &#39;equal (fargn term 1) (remove-lambdas (fargn term 1))
...">interpret-term-as-rewrite-rule1</a> term nil ens wrld)
            (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link local-def" href="#def-interpret-term-as-rewrite-rule2" data-sym="INTERPRET-TERM-AS-REWRITE-RULE2" title="(defun interpret-term-as-rewrite-rule2 (qc-flg name hyps equiv lhs rhs wrld)
  (cond
   ((equal lhs rhs)
    (msg &quot;A ~x0 rule generated from ~x1 is illegal because it rewrites the ~
      term ~x2 to itself!  This can happen even when you submit a rule whose ~
...">interpret-term-as-rewrite-rule2</a> qc-flg
                 name
                 hyps
                 eqv2
                 lhs2
                 rhs2
                 wrld) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> <a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> eqv lhs0 lhs rhs ttree))
              (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-prog2_24" data-sym="PROG2$">prog2$</a> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> ctx
                    (<a class="sym-link system" href="basis-a.html#def-observation-cw" data-sym="OBSERVATION-CW">observation-cw</a> ctx
                      <span class="string">"The proposed rewrite rule ~x0 may ~
                                     suggest a conclusion of the form (Equiv ~
                                     Lhs Rhs) where:~|  Equiv: ~x1~|  Lhs:   ~
                                     ~x2~|  Rhs:   ~x3~|But such a rewrite ~
                                     rule would be illegal, so the conclusion ~
                                     is treated as follows instead.~|  Equiv: ~
                                     ~x4~|  Lhs:   ~x5~|  Rhs:   ~x6~|"</span>
                      name
                      eqv
                      (untranslate lhs nil wrld)
                      (untranslate rhs nil wrld)
                      eqv2
                      (untranslate lhs2 nil wrld)
                      (untranslate rhs2 nil wrld)))
                  (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil eqv2 lhs20 lhs2 rhs2 ttree2))))))
        (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil eqv lhs0 lhs rhs ttree))))))</pre>
  </div>

<div class="form-block mutual-recursion" id="def-non-recursive-fnnames-alist-rec" data-defines="NON-RECURSIVE-FNNAMES-ALIST-REC" data-references="CAR,CDR,ENDP,PSEUDO-TERM-LISTP,ILKS,LST,BASE-SYMBOL,SYM,ACCESS,DEF-BODY,ASSOC-EQ,ILKS-PER-ARGUMENT-SLOT,ACONS,FFN-SYMB,ASSOC-EQUAL,IF,FARGS,NON-RECURSIVE-FNNAMES-ALIST-REC-LST,FLAMBDA-APPLICATIONP,T,LAMBDA-OBJECT-BODY,*REWRITE-LAMBDA-MODEP-DEF-NUME*,*REWRITE-LAMBDA-MODEP-XNUME*,ENABLED-NUMEP,WELL-FORMED-LAMBDA-OBJECTP,SYMBOLP,NOT,UNQUOTE,EVG,LET,EQ,OR,FQUOTEP,VARIABLEP,COND,ALISTP,PLIST-WORLDP,ENABLED-STRUCTURE-P,PSEUDO-TERMP,AND,XARGS,DECLARE,ACC,ILK,WRLD,ENS,TERM,DEFUN,MUTUAL-RECURSION" data-used-by="NON-RECURSIVE-FNNAMES-ALIST" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="NON-RECURSIVE-FNNAMES-ALIST-REC">non-recursive-fnnames-alist-rec</span><span class="form-type">mutual-recursion</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-mutual-recursion" data-sym="MUTUAL-RECURSION">mutual-recursion</a> (<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-non-recursive-fnnames-alist-rec" data-sym="NON-RECURSIVE-FNNAMES-ALIST-REC" title="(mutual-recursion
 (defun non-recursive-fnnames-alist-rec (term ens wrld ilk acc)
   (declare
    (xargs :guard
     (and (pseudo-termp term) (enabled-structure-p ens) (plist-worldp wrld)
...">non-recursive-fnnames-alist-rec</a>
    (term ens wrld ilk acc)
    (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-pseudo-termp" data-sym="PSEUDO-TERMP">pseudo-termp</a> term)
          (enabled-structure-p ens)
          (<a class="sym-link system" href="axioms.html#def-plist-worldp" data-sym="PLIST-WORLDP">plist-worldp</a> wrld)
          (<a class="sym-link system" href="axioms.html#def-alistp" data-sym="ALISTP">alistp</a> acc))))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> term) acc)
      ((<a class="sym-link system" href="axioms.html#def-fquotep" data-sym="FQUOTEP">fquotep</a> term) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> ilk <span class="keyword">:fn?</span>) (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> ilk <span class="keyword">:fn</span>)) (let ((evg (<a class="sym-link system" href="axioms.html#def-unquote" data-sym="UNQUOTE">unquote</a> term)))
              (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (symbolp evg))
                   (well-formed-lambda-objectp evg wrld)
                   (enabled-numep <a class="sym-link system" href="axioms.html#def-_2Arewrite-lambda-modep-xnume_2A" data-sym="*REWRITE-LAMBDA-MODEP-XNUME*">*rewrite-lambda-modep-xnume*</a> ens)
                   (enabled-numep <a class="sym-link system" href="axioms.html#def-_2Arewrite-lambda-modep-def-nume_2A" data-sym="*REWRITE-LAMBDA-MODEP-DEF-NUME*">*rewrite-lambda-modep-def-nume*</a> ens)) (<a class="sym-link local-def" href="#def-non-recursive-fnnames-alist-rec" data-sym="NON-RECURSIVE-FNNAMES-ALIST-REC" title="(mutual-recursion
 (defun non-recursive-fnnames-alist-rec (term ens wrld ilk acc)
   (declare
    (xargs :guard
     (and (pseudo-termp term) (enabled-structure-p ens) (plist-worldp wrld)
...">non-recursive-fnnames-alist-rec</a> (<a class="sym-link system" href="axioms.html#def-lambda-object-body" data-sym="LAMBDA-OBJECT-BODY">lambda-object-body</a> evg)
                    ens
                    wrld
                    nil
                    acc))
                (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> acc))))
          (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> acc)))
      ((<a class="sym-link system" href="basis-b.html#def-flambda-applicationp" data-sym="FLAMBDA-APPLICATIONP">flambda-applicationp</a> term) (non-recursive-fnnames-alist-rec-lst (<a class="sym-link system" href="axioms.html#def-fargs" data-sym="FARGS">fargs</a> term)
          ens
          wrld
          nil
          (if (<a class="sym-link system" href="axioms.html#def-assoc-equal" data-sym="ASSOC-EQUAL">assoc-equal</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term) acc)
            acc
            (<a class="sym-link system" href="axioms.html#def-acons" data-sym="ACONS">acons</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term) nil acc))))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (non-recursive-fnnames-alist-rec-lst (<a class="sym-link system" href="axioms.html#def-fargs" data-sym="FARGS">fargs</a> term)
          ens
          wrld
          (ilks-per-argument-slot (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term) wrld)
          (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term) acc) acc)
            (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((<a class="sym-link system" href="basis-b.html#def-def-body" data-sym="DEF-BODY">def-body</a> (<a class="sym-link system" href="basis-b.html#def-def-body" data-sym="DEF-BODY">def-body</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term) wrld)))
                (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> <a class="sym-link system" href="basis-b.html#def-def-body" data-sym="DEF-BODY">def-body</a>
                     (enabled-numep (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> <a class="sym-link system" href="basis-b.html#def-def-body" data-sym="DEF-BODY">def-body</a> <a class="sym-link system" href="basis-b.html#def-def-body" data-sym="DEF-BODY">def-body</a> <span class="keyword">:nume</span>) ens)
                     (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> <a class="sym-link system" href="basis-b.html#def-def-body" data-sym="DEF-BODY">def-body</a> <a class="sym-link system" href="basis-b.html#def-def-body" data-sym="DEF-BODY">def-body</a> <span class="keyword">:recursivep</span>))) (let ((sym (base-symbol (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> <a class="sym-link system" href="basis-b.html#def-def-body" data-sym="DEF-BODY">def-body</a> <a class="sym-link system" href="basis-b.html#def-def-body" data-sym="DEF-BODY">def-body</a> <span class="keyword">:rune</span>))))
                      (<a class="sym-link system" href="axioms.html#def-acons" data-sym="ACONS">acons</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term)
                        (if (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> sym (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term))
                          nil
                          sym)
                        acc)))
                  (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> acc)))))))))
  (<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> non-recursive-fnnames-alist-rec-lst
    (lst ens wrld ilks acc)
    (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (pseudo-term-listp lst)
          (enabled-structure-p ens)
          (<a class="sym-link system" href="axioms.html#def-plist-worldp" data-sym="PLIST-WORLDP">plist-worldp</a> wrld)
          (<a class="sym-link system" href="axioms.html#def-alistp" data-sym="ALISTP">alistp</a> acc))))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> lst) acc)
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (non-recursive-fnnames-alist-rec-lst (cdr lst)
          ens
          wrld
          (cdr ilks)
          (<a class="sym-link local-def" href="#def-non-recursive-fnnames-alist-rec" data-sym="NON-RECURSIVE-FNNAMES-ALIST-REC" title="(mutual-recursion
 (defun non-recursive-fnnames-alist-rec (term ens wrld ilk acc)
   (declare
    (xargs :guard
     (and (pseudo-termp term) (enabled-structure-p ens) (plist-worldp wrld)
...">non-recursive-fnnames-alist-rec</a> (car lst)
            ens
            wrld
            (car ilks)
            acc))))))</pre>
  </div>

<div class="form-block function" id="def-non-recursive-fnnames-alist" data-defines="NON-RECURSIVE-FNNAMES-ALIST" data-references="NON-RECURSIVE-FNNAMES-ALIST-REC,REVERSE,WRLD,ENS,TERM,DEFUN" data-used-by="WARNED-NON-REC-FNS-ALIST-FOR-TP,CHK-TRIGGERS,CHK-REWRITE-RULE-WARNINGS" data-part-name="NON-RECURSIVE-FNNAMES-ALIST" data-part-args="WRLD,ENS,TERM" data-part-body="WRLD,ENS,TERM,NON-RECURSIVE-FNNAMES-ALIST-REC,REVERSE" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="NON-RECURSIVE-FNNAMES-ALIST">non-recursive-fnnames-alist</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-non-recursive-fnnames-alist" data-sym="NON-RECURSIVE-FNNAMES-ALIST" title="(defun non-recursive-fnnames-alist (term ens wrld)
  (reverse (non-recursive-fnnames-alist-rec term ens wrld nil nil)))">non-recursive-fnnames-alist</a>
  (term ens wrld)
  (<a class="sym-link system" href="axioms.html#def-reverse" data-sym="REVERSE">reverse</a> (<a class="sym-link local-def" href="#def-non-recursive-fnnames-alist-rec" data-sym="NON-RECURSIVE-FNNAMES-ALIST-REC" title="(mutual-recursion
 (defun non-recursive-fnnames-alist-rec (term ens wrld ilk acc)
   (declare
    (xargs :guard
     (and (pseudo-termp term) (enabled-structure-p ens) (plist-worldp wrld)
...">non-recursive-fnnames-alist-rec</a> term ens wrld nil nil)))</pre>
  </div>

<div class="form-block function" id="def-non-recursive-fnnames-alist-lst" data-defines="NON-RECURSIVE-FNNAMES-ALIST-LST" data-references="NON-RECURSIVE-FNNAMES-ALIST-REC-LST,REVERSE,WRLD,ENS,LST,DEFUN" data-used-by="WARNED-NON-REC-FNS-ALIST-FOR-TP,CHK-TRIGGERS,CHK-ACCEPTABLE-LINEAR-RULE2,CHK-REWRITE-RULE-WARNINGS" data-part-name="NON-RECURSIVE-FNNAMES-ALIST-LST" data-part-args="WRLD,ENS,LST" data-part-body="WRLD,ENS,LST,NON-RECURSIVE-FNNAMES-ALIST-REC-LST,REVERSE" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="NON-RECURSIVE-FNNAMES-ALIST-LST">non-recursive-fnnames-alist-lst</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-non-recursive-fnnames-alist-lst" data-sym="NON-RECURSIVE-FNNAMES-ALIST-LST" title="(defun non-recursive-fnnames-alist-lst (lst ens wrld)
  (reverse (non-recursive-fnnames-alist-rec-lst lst ens wrld nil nil)))">non-recursive-fnnames-alist-lst</a>
  (lst ens wrld)
  (<a class="sym-link system" href="axioms.html#def-reverse" data-sym="REVERSE">reverse</a> (non-recursive-fnnames-alist-rec-lst lst ens wrld nil nil)))</pre>
  </div>

<div class="form-block function" id="def-hide-lambdas1" data-defines="HIDE-LAMBDAS1" data-references="CDR,&,QUOTE,CAR,LIST,CONS,T,NULL,COND,FORMALS,DEFUN" data-used-by="HIDE-LAMBDAS" data-part-name="HIDE-LAMBDAS1" data-part-args="FORMALS" data-part-body="CDR,HIDE-LAMBDAS1,&,QUOTE,CAR,LIST,CONS,T,FORMALS,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HIDE-LAMBDAS1">hide-lambdas1</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hide-lambdas1" data-sym="HIDE-LAMBDAS1" title="(defun hide-lambdas1 (formals)
  (cond ((null formals) nil)
        (t (cons (list (car formals) &#39;&amp;) (hide-lambdas1 (cdr formals))))))">hide-lambdas1</a>
  (<a class="sym-link system" href="basis-b.html#def-formals" data-sym="FORMALS">formals</a>)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> <a class="sym-link system" href="basis-b.html#def-formals" data-sym="FORMALS">formals</a>) nil)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (cons (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (car <a class="sym-link system" href="basis-b.html#def-formals" data-sym="FORMALS">formals</a>) '&amp;) (<a class="sym-link local-def" href="#def-hide-lambdas1" data-sym="HIDE-LAMBDAS1" title="(defun hide-lambdas1 (formals)
  (cond ((null formals) nil)
        (t (cons (list (car formals) &#39;&amp;) (hide-lambdas1 (cdr formals))))))">hide-lambdas1</a> (cdr <a class="sym-link system" href="basis-b.html#def-formals" data-sym="FORMALS">formals</a>))))))</pre>
  </div>

<div class="form-block function" id="def-hide-lambdas" data-defines="HIDE-LAMBDAS" data-references="CDR,LAMBDA-BODY,LAMBDA-FORMALS,HIDE-LAMBDAS1,LET,QUOTE,LIST,CAR,FLAMBDAP,IF,CONS,T,NULL,COND,LST,DEFUN" data-used-by="CHK-ACCEPTABLE-TYPE-PRESCRIPTION-RULE,CHK-TRIGGERS,CHK-ACCEPTABLE-LINEAR-RULE2,CHK-REWRITE-RULE-WARNINGS" data-part-name="HIDE-LAMBDAS" data-part-args="LST" data-part-body="CDR,HIDE-LAMBDAS,LAMBDA-BODY,LAMBDA-FORMALS,HIDE-LAMBDAS1,LET,QUOTE,LIST,CAR,FLAMBDAP,IF,CONS,T,LST,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HIDE-LAMBDAS">hide-lambdas</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hide-lambdas" data-sym="HIDE-LAMBDAS" title="(defun hide-lambdas (lst)
  (cond ((null lst) nil)
        (t
         (cons
          (if (flambdap (car lst))
...">hide-lambdas</a>
  (lst)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> lst) nil)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (cons (if (<a class="sym-link system" href="basis-b.html#def-flambdap" data-sym="FLAMBDAP">flambdap</a> (car lst))
          (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> 'let
            (<a class="sym-link local-def" href="#def-hide-lambdas1" data-sym="HIDE-LAMBDAS1" title="(defun hide-lambdas1 (formals)
  (cond ((null formals) nil)
        (t (cons (list (car formals) &#39;&amp;) (hide-lambdas1 (cdr formals))))))">hide-lambdas1</a> (<a class="sym-link system" href="basis-b.html#def-lambda-formals" data-sym="LAMBDA-FORMALS">lambda-formals</a> (car lst)))
            (<a class="sym-link system" href="basis-b.html#def-lambda-body" data-sym="LAMBDA-BODY">lambda-body</a> (car lst)))
          (car lst))
        (<a class="sym-link local-def" href="#def-hide-lambdas" data-sym="HIDE-LAMBDAS" title="(defun hide-lambdas (lst)
  (cond ((null lst) nil)
        (t
         (cons
          (if (flambdap (car lst))
...">hide-lambdas</a> (cdr lst))))))</pre>
  </div>

<div class="form-block function" id="def-variantp" data-defines="VARIANTP" data-references="T,NO-DUPLICATESP-EQUAL,SYMBOL-LISTP,AND,MV,STRIP-CDRS,RANGE,LET,COND,ONE-WAY-UNIFY,UNIFY-SUBST,ANS,MV-LET,TERM2,TERM1,DEFUN" data-used-by="LOOP-STOPPER" data-part-name="VARIANTP" data-part-args="TERM2,TERM1" data-part-body="T,NO-DUPLICATESP-EQUAL,SYMBOL-LISTP,AND,MV,STRIP-CDRS,RANGE,LET,COND,TERM2,TERM1,ONE-WAY-UNIFY,UNIFY-SUBST,ANS,MV-LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="VARIANTP">variantp</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-variantp" data-sym="VARIANTP" title="(defun variantp (term1 term2)
  (mv-let (ans unify-subst) (one-way-unify term1 term2)
          (cond
           (ans
            (let ((range (strip-cdrs unify-subst)))
...">variantp</a>
  (term1 term2)
  (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (ans unify-subst)
    (one-way-unify term1 term2)
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (ans (let ((range (<a class="sym-link system" href="axioms.html#def-strip-cdrs" data-sym="STRIP-CDRS">strip-cdrs</a> unify-subst)))
          (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-symbol-listp" data-sym="SYMBOL-LISTP">symbol-listp</a> range) (<a class="sym-link system" href="axioms.html#def-no-duplicatesp-equal" data-sym="NO-DUPLICATESP-EQUAL">no-duplicatesp-equal</a> range))
            unify-subst)))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil nil)))))</pre>
  </div>

<div class="form-block mutual-recursion" id="def-surrounding-fns1" data-defines="SURROUNDING-FNS1" data-references="CAR,CDR,NULL,TERM-LIST,FFN-SYMB,FARGS,SURROUNDING-FNS-LST,FQUOTEP,T,ADD-TO-SET-EQ,SYMBOLP,NOT,HAS-LAMBDA,QUOTE,EQ,OR,IF,MEMBER-EQ,VARIABLEP,COND,ACC,FN,TERM,VARS,DEFUN,MUTUAL-RECURSION" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="SURROUNDING-FNS1">surrounding-fns1</span><span class="form-type">mutual-recursion</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-mutual-recursion" data-sym="MUTUAL-RECURSION">mutual-recursion</a> (<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-surrounding-fns1" data-sym="SURROUNDING-FNS1" title="(mutual-recursion
 (defun surrounding-fns1 (vars term fn acc)
   (cond
    ((variablep term)
     (cond
...">surrounding-fns1</a>
    (vars term fn acc)
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> term) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> term vars) (if (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> acc 'has-lambda) (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (symbolp fn)))
              'has-lambda
              (<a class="sym-link system" href="axioms.html#def-add-to-set-eq" data-sym="ADD-TO-SET-EQ">add-to-set-eq</a> fn acc)))
          (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> acc)))
      ((<a class="sym-link system" href="axioms.html#def-fquotep" data-sym="FQUOTEP">fquotep</a> term) acc)
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (surrounding-fns-lst vars (<a class="sym-link system" href="axioms.html#def-fargs" data-sym="FARGS">fargs</a> term) (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term) acc))))
  (<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> surrounding-fns-lst
    (vars term-list fn acc)
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> term-list) acc)
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (surrounding-fns-lst vars
          (cdr term-list)
          fn
          (<a class="sym-link local-def" href="#def-surrounding-fns1" data-sym="SURROUNDING-FNS1" title="(mutual-recursion
 (defun surrounding-fns1 (vars term fn acc)
   (cond
    ((variablep term)
     (cond
...">surrounding-fns1</a> vars (car term-list) fn acc))))))</pre>
  </div>

<div class="form-block function" id="def-surrounding-fns" data-defines="SURROUNDING-FNS" data-references="HAS-LAMBDA,QUOTE,EQ,IF,FFN-SYMB,FARGS,SURROUNDING-FNS-LST,ANS,LET,T,FQUOTEP,VARIABLEP,OR,COND,TERM,VARS,DEFUN" data-used-by="LOOP-STOPPER1" data-part-name="SURROUNDING-FNS" data-part-args="TERM,VARS" data-part-body="HAS-LAMBDA,QUOTE,EQ,IF,FFN-SYMB,FARGS,VARS,SURROUNDING-FNS-LST,ANS,LET,T,FQUOTEP,TERM,VARIABLEP,OR,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="SURROUNDING-FNS">surrounding-fns</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-surrounding-fns" data-sym="SURROUNDING-FNS" title="(defun surrounding-fns (vars term)
  (cond ((or (variablep term) (fquotep term)) nil)
        (t
         (let ((ans
                (surrounding-fns-lst vars (fargs term) (ffn-symb term) nil)))
...">surrounding-fns</a>
  (vars term)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> term) (<a class="sym-link system" href="axioms.html#def-fquotep" data-sym="FQUOTEP">fquotep</a> term)) nil)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((ans (surrounding-fns-lst vars (<a class="sym-link system" href="axioms.html#def-fargs" data-sym="FARGS">fargs</a> term) (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term) nil)))
        (if (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> ans 'has-lambda)
          nil
          ans)))))</pre>
  </div>

<div class="form-block function" id="def-loop-stopper1" data-defines="LOOP-STOPPER1" data-references="T,LIST,SURROUNDING-FNS,CDAR,CAAR,LIST*,CONS,CDR,CAR,MEMBER-EQ,NULL,COND,LHS,VARS,ALIST,DEFUN" data-used-by="LOOP-STOPPER" data-part-name="LOOP-STOPPER1" data-part-args="LHS,VARS,ALIST" data-part-body="T,LOOP-STOPPER1,LHS,LIST,SURROUNDING-FNS,CDAR,CAAR,LIST*,CONS,VARS,CDR,CAR,MEMBER-EQ,ALIST,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="LOOP-STOPPER1">loop-stopper1</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-loop-stopper1" data-sym="LOOP-STOPPER1" title="(defun loop-stopper1 (alist vars lhs)
  (cond ((null alist) nil)
        ((member-eq (car (car alist)) (cdr (member-eq (cdr (car alist)) vars)))
         (cons
          (list* (caar alist) (cdar alist)
...">loop-stopper1</a>
  (alist vars lhs)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> alist) nil)
    ((<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> (car (car alist))
       (cdr (<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> (cdr (car alist)) vars))) (cons (<a class="sym-link system" href="axioms.html#def-list_2A" data-sym="LIST*">list*</a> (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> alist)
          (<a class="sym-link system" href="axioms.html#def-cdar" data-sym="CDAR">cdar</a> alist)
          (<a class="sym-link local-def" href="#def-surrounding-fns" data-sym="SURROUNDING-FNS" title="(defun surrounding-fns (vars term)
  (cond ((or (variablep term) (fquotep term)) nil)
        (t
         (let ((ans
                (surrounding-fns-lst vars (fargs term) (ffn-symb term) nil)))
...">surrounding-fns</a> (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> alist) (<a class="sym-link system" href="axioms.html#def-cdar" data-sym="CDAR">cdar</a> alist)) lhs))
        (<a class="sym-link local-def" href="#def-loop-stopper1" data-sym="LOOP-STOPPER1" title="(defun loop-stopper1 (alist vars lhs)
  (cond ((null alist) nil)
        ((member-eq (car (car alist)) (cdr (member-eq (cdr (car alist)) vars)))
         (cons
          (list* (caar alist) (cdar alist)
...">loop-stopper1</a> (cdr alist) vars lhs)))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-loop-stopper1" data-sym="LOOP-STOPPER1" title="(defun loop-stopper1 (alist vars lhs)
  (cond ((null alist) nil)
        ((member-eq (car (car alist)) (cdr (member-eq (cdr (car alist)) vars)))
         (cons
          (list* (caar alist) (cdar alist)
...">loop-stopper1</a> (cdr alist) vars lhs))))</pre>
  </div>

<div class="form-block function" id="def-loop-stopper" data-defines="LOOP-STOPPER" data-references="T,ALL-VARS,LOOP-STOPPER1,COND,VARIANTP,UNIFY-SUBST,ANS,MV-LET,RHS,LHS,DEFUN" data-used-by="CHK-ACCEPTABLE-REWRITE-RULE,CHK-ACCEPTABLE-REWRITE-RULE1,CHK-ACCEPTABLE-REWRITE-RULE2,CHK-REWRITE-RULE-WARNINGS,CREATE-REWRITE-RULE" data-part-name="LOOP-STOPPER" data-part-args="RHS,LHS" data-part-body="T,ALL-VARS,LOOP-STOPPER1,COND,RHS,LHS,VARIANTP,UNIFY-SUBST,ANS,MV-LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="LOOP-STOPPER">loop-stopper</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-loop-stopper" data-sym="LOOP-STOPPER" title="(defun loop-stopper (lhs rhs)
  (mv-let (ans unify-subst) (variantp lhs rhs)
          (cond (ans (loop-stopper1 unify-subst (all-vars lhs) lhs)) (t nil))))">loop-stopper</a>
  (lhs rhs)
  (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (ans unify-subst)
    (<a class="sym-link local-def" href="#def-variantp" data-sym="VARIANTP" title="(defun variantp (term1 term2)
  (mv-let (ans unify-subst) (one-way-unify term1 term2)
          (cond
           (ans
            (let ((range (strip-cdrs unify-subst)))
...">variantp</a> lhs rhs)
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (ans (<a class="sym-link local-def" href="#def-loop-stopper1" data-sym="LOOP-STOPPER1" title="(defun loop-stopper1 (alist vars lhs)
  (cond ((null alist) nil)
        ((member-eq (car (car alist)) (cdr (member-eq (cdr (car alist)) vars)))
         (cons
          (list* (caar alist) (cdar alist)
...">loop-stopper1</a> unify-subst (<a class="sym-link system" href="axioms.html#def-all-vars" data-sym="ALL-VARS">all-vars</a> lhs) lhs))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> nil))))</pre>
  </div>

<div class="form-block function" id="def-remove-irrelevant-loop-stopper-pairs" data-defines="REMOVE-IRRELEVANT-LOOP-STOPPER-PAIRS" data-references="CDR,CAR,CONS,CADAR,CAAR,MEMBER-EQ,AND,IF,VARS,PAIRS,DEFUN" data-used-by="CREATE-REWRITE-RULE" data-part-name="REMOVE-IRRELEVANT-LOOP-STOPPER-PAIRS" data-part-args="VARS,PAIRS" data-part-body="CDR,REMOVE-IRRELEVANT-LOOP-STOPPER-PAIRS,CAR,CONS,CADAR,VARS,CAAR,MEMBER-EQ,AND,PAIRS,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="REMOVE-IRRELEVANT-LOOP-STOPPER-PAIRS">remove-irrelevant-loop-stopper-pairs</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-remove-irrelevant-loop-stopper-pairs" data-sym="REMOVE-IRRELEVANT-LOOP-STOPPER-PAIRS" title="(defun remove-irrelevant-loop-stopper-pairs (pairs vars)
  (if pairs
      (if (and (member-eq (caar pairs) vars) (member-eq (cadar pairs) vars))
          (cons (car pairs)
                (remove-irrelevant-loop-stopper-pairs (cdr pairs) vars))
...">remove-irrelevant-loop-stopper-pairs</a>
  (pairs vars)
  (if pairs
    (if (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> pairs) vars)
        (<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> (<a class="sym-link system" href="axioms.html#def-cadar" data-sym="CADAR">cadar</a> pairs) vars))
      (cons (car pairs)
        (<a class="sym-link local-def" href="#def-remove-irrelevant-loop-stopper-pairs" data-sym="REMOVE-IRRELEVANT-LOOP-STOPPER-PAIRS" title="(defun remove-irrelevant-loop-stopper-pairs (pairs vars)
  (if pairs
      (if (and (member-eq (caar pairs) vars) (member-eq (cadar pairs) vars))
          (cons (car pairs)
                (remove-irrelevant-loop-stopper-pairs (cdr pairs) vars))
...">remove-irrelevant-loop-stopper-pairs</a> (cdr pairs) vars))
      (<a class="sym-link local-def" href="#def-remove-irrelevant-loop-stopper-pairs" data-sym="REMOVE-IRRELEVANT-LOOP-STOPPER-PAIRS" title="(defun remove-irrelevant-loop-stopper-pairs (pairs vars)
  (if pairs
      (if (and (member-eq (caar pairs) vars) (member-eq (cadar pairs) vars))
          (cons (car pairs)
                (remove-irrelevant-loop-stopper-pairs (cdr pairs) vars))
...">remove-irrelevant-loop-stopper-pairs</a> (cdr pairs) vars))
    nil))</pre>
  </div>

<div class="form-block function" id="def-put-match-free-value" data-defines="PUT-MATCH-FREE-VALUE" data-references="HARD,ER,T,NULL,FREE-VAR-RUNES-ONCE,GLOBAL-VAL,CONS,FREE-VAR-RUNES-ALL,QUOTE,GLOBAL-SET,EQ,COND,WRLD,RUNE,MATCH-FREE-VALUE,DEFUN" data-used-by="PUTPROP-FORWARD-CHAINING-RULES-LST,ADD-LINEAR-RULE3,ADD-REWRITE-RULE2" data-part-name="PUT-MATCH-FREE-VALUE" data-part-args="WRLD,RUNE,MATCH-FREE-VALUE" data-part-body="PUT-MATCH-FREE-VALUE,HARD,ER,T,NULL,FREE-VAR-RUNES-ONCE,WRLD,GLOBAL-VAL,RUNE,CONS,FREE-VAR-RUNES-ALL,QUOTE,GLOBAL-SET,MATCH-FREE-VALUE,EQ,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="PUT-MATCH-FREE-VALUE">put-match-free-value</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-put-match-free-value" data-sym="PUT-MATCH-FREE-VALUE" title="(defun put-match-free-value (match-free-value rune wrld)
  (cond
   ((eq match-free-value :all)
    (global-set &#39;free-var-runes-all
                (cons rune (global-val &#39;free-var-runes-all wrld)) wrld))
...">put-match-free-value</a>
  (<a class="sym-link local-def" href="#def-match-free-value" data-sym="MATCH-FREE-VALUE" title="(defun match-free-value (match-free hyps pat wrld)
  (or match-free
      (and (free-vars-in-hyps hyps (all-vars pat) wrld)
           (or (match-free-default wrld) :all))))">match-free-value</a> rune wrld)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> <a class="sym-link local-def" href="#def-match-free-value" data-sym="MATCH-FREE-VALUE" title="(defun match-free-value (match-free hyps pat wrld)
  (or match-free
      (and (free-vars-in-hyps hyps (all-vars pat) wrld)
           (or (match-free-default wrld) :all))))">match-free-value</a> <span class="keyword">:all</span>) (<a class="sym-link system" href="basis-b.html#def-global-set" data-sym="GLOBAL-SET">global-set</a> 'free-var-runes-all
        (cons rune (<a class="sym-link system" href="axioms.html#def-global-val" data-sym="GLOBAL-VAL">global-val</a> 'free-var-runes-all wrld))
        wrld))
    ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> <a class="sym-link local-def" href="#def-match-free-value" data-sym="MATCH-FREE-VALUE" title="(defun match-free-value (match-free hyps pat wrld)
  (or match-free
      (and (free-vars-in-hyps hyps (all-vars pat) wrld)
           (or (match-free-default wrld) :all))))">match-free-value</a> <span class="keyword">:once</span>) (<a class="sym-link system" href="basis-b.html#def-global-set" data-sym="GLOBAL-SET">global-set</a> 'free-var-runes-once
        (cons rune (<a class="sym-link system" href="axioms.html#def-global-val" data-sym="GLOBAL-VAL">global-val</a> 'free-var-runes-once wrld))
        wrld))
    ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> <a class="sym-link local-def" href="#def-match-free-value" data-sym="MATCH-FREE-VALUE" title="(defun match-free-value (match-free hyps pat wrld)
  (or match-free
      (and (free-vars-in-hyps hyps (all-vars pat) wrld)
           (or (match-free-default wrld) :all))))">match-free-value</a>) wrld)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> hard
        '<a class="sym-link local-def" href="#def-put-match-free-value" data-sym="PUT-MATCH-FREE-VALUE" title="(defun put-match-free-value (match-free-value rune wrld)
  (cond
   ((eq match-free-value :all)
    (global-set &#39;free-var-runes-all
                (cons rune (global-val &#39;free-var-runes-all wrld)) wrld))
...">put-match-free-value</a>
        <span class="string">"Internal ACL2 error (called put-match-free-value with ~
         match-free-value equal to ~x0).  Please contact the ACL2 implementors."</span>
        <a class="sym-link local-def" href="#def-match-free-value" data-sym="MATCH-FREE-VALUE" title="(defun match-free-value (match-free hyps pat wrld)
  (or match-free
      (and (free-vars-in-hyps hyps (all-vars pat) wrld)
           (or (match-free-default wrld) :all))))">match-free-value</a>))))</pre>
  </div>

<div class="form-block function" id="def-free-vars-in-hyps" data-defines="FREE-VARS-IN-HYPS" data-references="SET-DIFFERENCE-EQ,UNION-EQ,ALL-VARS,HYP-VARS,LET,FARGN,CONS,CDR,NOT,AND,PAIRLIS$,CAR,BINDING-HYP-P,FLG,FORCEP,MV-LET,T,NULL,COND,WRLD,BOUND-VARS,HYPS,DEFUN" data-used-by="CHK-ACCEPTABLE-TYPE-PRESCRIPTION-RULE,CHK-TRIGGERS,MATCH-FREE-VALUE" data-part-name="FREE-VARS-IN-HYPS" data-part-args="WRLD,BOUND-VARS,HYPS" data-part-body="SET-DIFFERENCE-EQ,UNION-EQ,ALL-VARS,HYP-VARS,LET,FARGN,CONS,CDR,FREE-VARS-IN-HYPS,NOT,AND,WRLD,BOUND-VARS,PAIRLIS$,CAR,BINDING-HYP-P,FLG,FORCEP,MV-LET,T,HYPS,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="FREE-VARS-IN-HYPS">free-vars-in-hyps</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-free-vars-in-hyps" data-sym="FREE-VARS-IN-HYPS" title="(defun free-vars-in-hyps (hyps bound-vars wrld)
  (cond ((null hyps) nil)
        (t
         (mv-let (forcep flg)
                 (binding-hyp-p (car hyps) (pairlis$ bound-vars bound-vars)
...">free-vars-in-hyps</a>
  (hyps <a class="sym-link system" href="history-management.html#def-bound-vars" data-sym="BOUND-VARS">bound-vars</a> wrld)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> hyps) nil)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (forcep flg)
        (binding-hyp-p (car hyps)
          (<a class="sym-link system" href="axioms.html#def-pairlis_24" data-sym="PAIRLIS$">pairlis$</a> <a class="sym-link system" href="history-management.html#def-bound-vars" data-sym="BOUND-VARS">bound-vars</a> <a class="sym-link system" href="history-management.html#def-bound-vars" data-sym="BOUND-VARS">bound-vars</a>)
          wrld)
        (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> flg (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> forcep)) (<a class="sym-link local-def" href="#def-free-vars-in-hyps" data-sym="FREE-VARS-IN-HYPS" title="(defun free-vars-in-hyps (hyps bound-vars wrld)
  (cond ((null hyps) nil)
        (t
         (mv-let (forcep flg)
                 (binding-hyp-p (car hyps) (pairlis$ bound-vars bound-vars)
...">free-vars-in-hyps</a> (cdr hyps)
              (cons (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> (car hyps) <span class="number">1</span>) <a class="sym-link system" href="history-management.html#def-bound-vars" data-sym="BOUND-VARS">bound-vars</a>)
              wrld))
          (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((hyp-vars (<a class="sym-link system" href="axioms.html#def-all-vars" data-sym="ALL-VARS">all-vars</a> (car hyps))))
              (<a class="sym-link system" href="axioms.html#def-union-eq" data-sym="UNION-EQ">union-eq</a> (<a class="sym-link system" href="axioms.html#def-set-difference-eq" data-sym="SET-DIFFERENCE-EQ">set-difference-eq</a> hyp-vars <a class="sym-link system" href="history-management.html#def-bound-vars" data-sym="BOUND-VARS">bound-vars</a>)
                (<a class="sym-link local-def" href="#def-free-vars-in-hyps" data-sym="FREE-VARS-IN-HYPS" title="(defun free-vars-in-hyps (hyps bound-vars wrld)
  (cond ((null hyps) nil)
        (t
         (mv-let (forcep flg)
                 (binding-hyp-p (car hyps) (pairlis$ bound-vars bound-vars)
...">free-vars-in-hyps</a> (cdr hyps)
                  (<a class="sym-link system" href="axioms.html#def-union-eq" data-sym="UNION-EQ">union-eq</a> hyp-vars <a class="sym-link system" href="history-management.html#def-bound-vars" data-sym="BOUND-VARS">bound-vars</a>)
                  wrld)))))))))</pre>
  </div>

<div class="form-block function" id="def-free-vars-in-hyps-simple" data-defines="FREE-VARS-IN-HYPS-SIMPLE" data-references="CDR,SET-DIFFERENCE-EQ,UNION-EQ,CAR,ALL-VARS,HYP-VARS,LET,T,NULL,COND,BOUND-VARS,HYPS,DEFUN" data-used-by="FREE-VARS-IN-FC-HYPS" data-part-name="FREE-VARS-IN-HYPS-SIMPLE" data-part-args="BOUND-VARS,HYPS" data-part-body="CDR,FREE-VARS-IN-HYPS-SIMPLE,BOUND-VARS,SET-DIFFERENCE-EQ,UNION-EQ,CAR,ALL-VARS,HYP-VARS,LET,T,HYPS,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="FREE-VARS-IN-HYPS-SIMPLE">free-vars-in-hyps-simple</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-free-vars-in-hyps-simple" data-sym="FREE-VARS-IN-HYPS-SIMPLE" title="(defun free-vars-in-hyps-simple (hyps bound-vars)
  (cond ((null hyps) nil)
        (t
         (let ((hyp-vars (all-vars (car hyps))))
           (union-eq (set-difference-eq hyp-vars bound-vars)
...">free-vars-in-hyps-simple</a>
  (hyps <a class="sym-link system" href="history-management.html#def-bound-vars" data-sym="BOUND-VARS">bound-vars</a>)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> hyps) nil)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((hyp-vars (<a class="sym-link system" href="axioms.html#def-all-vars" data-sym="ALL-VARS">all-vars</a> (car hyps))))
        (<a class="sym-link system" href="axioms.html#def-union-eq" data-sym="UNION-EQ">union-eq</a> (<a class="sym-link system" href="axioms.html#def-set-difference-eq" data-sym="SET-DIFFERENCE-EQ">set-difference-eq</a> hyp-vars <a class="sym-link system" href="history-management.html#def-bound-vars" data-sym="BOUND-VARS">bound-vars</a>)
          (<a class="sym-link local-def" href="#def-free-vars-in-hyps-simple" data-sym="FREE-VARS-IN-HYPS-SIMPLE" title="(defun free-vars-in-hyps-simple (hyps bound-vars)
  (cond ((null hyps) nil)
        (t
         (let ((hyp-vars (all-vars (car hyps))))
           (union-eq (set-difference-eq hyp-vars bound-vars)
...">free-vars-in-hyps-simple</a> (cdr hyps)
            (<a class="sym-link system" href="axioms.html#def-union-eq" data-sym="UNION-EQ">union-eq</a> hyp-vars <a class="sym-link system" href="history-management.html#def-bound-vars" data-sym="BOUND-VARS">bound-vars</a>)))))))</pre>
  </div>

<div class="form-block function" id="def-free-vars-in-fc-hyps" data-defines="FREE-VARS-IN-FC-HYPS" data-references="CDR,FREE-VARS-IN-HYPS-SIMPLE,OR,CAR,ALL-VARS,VARS,LET,ENDP,IF,CONCLS,HYPS,TRIGGERS,DEFUN" data-used-by="MATCH-FREE-FC-VALUE" data-part-name="FREE-VARS-IN-FC-HYPS" data-part-args="CONCLS,HYPS,TRIGGERS" data-part-body="CDR,FREE-VARS-IN-FC-HYPS,CONCLS,HYPS,FREE-VARS-IN-HYPS-SIMPLE,OR,CAR,ALL-VARS,VARS,LET,TRIGGERS,ENDP,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="FREE-VARS-IN-FC-HYPS">free-vars-in-fc-hyps</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-free-vars-in-fc-hyps" data-sym="FREE-VARS-IN-FC-HYPS" title="(defun free-vars-in-fc-hyps (triggers hyps concls)
  (if (endp triggers)
      nil
      (let ((vars (all-vars (car triggers))))
        (or (free-vars-in-hyps-simple hyps vars)
...">free-vars-in-fc-hyps</a>
  (triggers hyps concls)
  (if (<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> triggers)
    nil
    (let ((vars (<a class="sym-link system" href="axioms.html#def-all-vars" data-sym="ALL-VARS">all-vars</a> (car triggers))))
      (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link local-def" href="#def-free-vars-in-hyps-simple" data-sym="FREE-VARS-IN-HYPS-SIMPLE" title="(defun free-vars-in-hyps-simple (hyps bound-vars)
  (cond ((null hyps) nil)
        (t
         (let ((hyp-vars (all-vars (car hyps))))
           (union-eq (set-difference-eq hyp-vars bound-vars)
...">free-vars-in-hyps-simple</a> hyps vars)
        (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link local-def" href="#def-free-vars-in-hyps-simple" data-sym="FREE-VARS-IN-HYPS-SIMPLE" title="(defun free-vars-in-hyps-simple (hyps bound-vars)
  (cond ((null hyps) nil)
        (t
         (let ((hyp-vars (all-vars (car hyps))))
           (union-eq (set-difference-eq hyp-vars bound-vars)
...">free-vars-in-hyps-simple</a> concls vars)
          (<a class="sym-link local-def" href="#def-free-vars-in-fc-hyps" data-sym="FREE-VARS-IN-FC-HYPS" title="(defun free-vars-in-fc-hyps (triggers hyps concls)
  (if (endp triggers)
      nil
      (let ((vars (all-vars (car triggers))))
        (or (free-vars-in-hyps-simple hyps vars)
...">free-vars-in-fc-hyps</a> (cdr triggers) hyps concls))))))</pre>
  </div>

<div class="form-block function" id="def-free-vars-in-hyps-considering-bind-free" data-defines="FREE-VARS-IN-HYPS-CONSIDERING-BIND-FREE" data-references="SET-DIFFERENCE-EQ,ALL-VARS,HYP-VARS,LET,HARD,ER,UNION-EQ,CADR,COLLECT-NON-LEGAL-VARIABLEPS,QUOTEP,*T*,*NIL*,EQUAL,SYNP,QUOTE,FFN-SYMB-P,FARGN,CONS,CDR,NOT,AND,PAIRLIS$,CAR,BINDING-HYP-P,FLG,FORCEP,MV-LET,T,NULL,COND,WRLD,BOUND-VARS,HYPS,DEFUN" data-used-by="CHK-ACCEPTABLE-LINEAR-RULE2,CHK-REWRITE-RULE-WARNINGS,ALL-VARS-IN-HYPS" data-part-name="FREE-VARS-IN-HYPS-CONSIDERING-BIND-FREE" data-part-args="WRLD,BOUND-VARS,HYPS" data-part-body="SET-DIFFERENCE-EQ,ALL-VARS,HYP-VARS,LET,HARD,ER,UNION-EQ,CADR,COLLECT-NON-LEGAL-VARIABLEPS,QUOTEP,*T*,*NIL*,EQUAL,SYNP,QUOTE,FFN-SYMB-P,FARGN,CONS,CDR,FREE-VARS-IN-HYPS-CONSIDERING-BIND-FREE,NOT,AND,WRLD,BOUND-VARS,PAIRLIS$,CAR,BINDING-HYP-P,FLG,FORCEP,MV-LET,T,HYPS,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="FREE-VARS-IN-HYPS-CONSIDERING-BIND-FREE">free-vars-in-hyps-considering-bind-free</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-free-vars-in-hyps-considering-bind-free" data-sym="FREE-VARS-IN-HYPS-CONSIDERING-BIND-FREE" title="(defun free-vars-in-hyps-considering-bind-free (hyps bound-vars wrld)
  (cond ((null hyps) nil)
        (t
         (mv-let (forcep flg)
                 (binding-hyp-p (car hyps) (pairlis$ bound-vars bound-vars)
...">free-vars-in-hyps-considering-bind-free</a>
  (hyps <a class="sym-link system" href="history-management.html#def-bound-vars" data-sym="BOUND-VARS">bound-vars</a> wrld)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> hyps) nil)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (forcep flg)
        (binding-hyp-p (car hyps)
          (<a class="sym-link system" href="axioms.html#def-pairlis_24" data-sym="PAIRLIS$">pairlis$</a> <a class="sym-link system" href="history-management.html#def-bound-vars" data-sym="BOUND-VARS">bound-vars</a> <a class="sym-link system" href="history-management.html#def-bound-vars" data-sym="BOUND-VARS">bound-vars</a>)
          wrld)
        (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> flg (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> forcep)) (<a class="sym-link local-def" href="#def-free-vars-in-hyps-considering-bind-free" data-sym="FREE-VARS-IN-HYPS-CONSIDERING-BIND-FREE" title="(defun free-vars-in-hyps-considering-bind-free (hyps bound-vars wrld)
  (cond ((null hyps) nil)
        (t
         (mv-let (forcep flg)
                 (binding-hyp-p (car hyps) (pairlis$ bound-vars bound-vars)
...">free-vars-in-hyps-considering-bind-free</a> (cdr hyps)
              (cons (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> (car hyps) <span class="number">1</span>) <a class="sym-link system" href="history-management.html#def-bound-vars" data-sym="BOUND-VARS">bound-vars</a>)
              wrld))
          ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="basis-b.html#def-ffn-symb-p" data-sym="FFN-SYMB-P">ffn-symb-p</a> (car hyps) '<a class="sym-link system" href="axioms.html#def-synp" data-sym="SYNP">synp</a>)
             (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (equal (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> (car hyps) <span class="number">1</span>) <a class="sym-link system" href="axioms.html#def-_2Anil_2A" data-sym="*NIL*">*nil*</a>))) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((equal (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> (car hyps) <span class="number">1</span>) <a class="sym-link system" href="axioms.html#def-_2At_2A" data-sym="*T*">*t*</a>) nil)
              ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-quotep" data-sym="QUOTEP">quotep</a> (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> (car hyps) <span class="number">1</span>))
                 (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (collect-non-legal-variableps (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> (car hyps) <span class="number">1</span>))))) (<a class="sym-link local-def" href="#def-free-vars-in-hyps-considering-bind-free" data-sym="FREE-VARS-IN-HYPS-CONSIDERING-BIND-FREE" title="(defun free-vars-in-hyps-considering-bind-free (hyps bound-vars wrld)
  (cond ((null hyps) nil)
        (t
         (mv-let (forcep flg)
                 (binding-hyp-p (car hyps) (pairlis$ bound-vars bound-vars)
...">free-vars-in-hyps-considering-bind-free</a> (cdr hyps)
                  (<a class="sym-link system" href="axioms.html#def-union-eq" data-sym="UNION-EQ">union-eq</a> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> (car hyps) <span class="number">1</span>)) <a class="sym-link system" href="history-management.html#def-bound-vars" data-sym="BOUND-VARS">bound-vars</a>)
                  wrld))
              (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> hard
                  '<a class="sym-link local-def" href="#def-free-vars-in-hyps-considering-bind-free" data-sym="FREE-VARS-IN-HYPS-CONSIDERING-BIND-FREE" title="(defun free-vars-in-hyps-considering-bind-free (hyps bound-vars wrld)
  (cond ((null hyps) nil)
        (t
         (mv-let (forcep flg)
                 (binding-hyp-p (car hyps) (pairlis$ bound-vars bound-vars)
...">free-vars-in-hyps-considering-bind-free</a>
                  <span class="string">"We thought the first argument of synp in this context ~
                       was either &#39;NIL, &#39;T, or else a quoted true list of ~
                       variables, but ~x0 is not!"</span>
                  (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> (car hyps) <span class="number">1</span>)))))
          (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((hyp-vars (<a class="sym-link system" href="axioms.html#def-all-vars" data-sym="ALL-VARS">all-vars</a> (car hyps))))
              (<a class="sym-link system" href="axioms.html#def-union-eq" data-sym="UNION-EQ">union-eq</a> (<a class="sym-link system" href="axioms.html#def-set-difference-eq" data-sym="SET-DIFFERENCE-EQ">set-difference-eq</a> hyp-vars <a class="sym-link system" href="history-management.html#def-bound-vars" data-sym="BOUND-VARS">bound-vars</a>)
                (<a class="sym-link local-def" href="#def-free-vars-in-hyps-considering-bind-free" data-sym="FREE-VARS-IN-HYPS-CONSIDERING-BIND-FREE" title="(defun free-vars-in-hyps-considering-bind-free (hyps bound-vars wrld)
  (cond ((null hyps) nil)
        (t
         (mv-let (forcep flg)
                 (binding-hyp-p (car hyps) (pairlis$ bound-vars bound-vars)
...">free-vars-in-hyps-considering-bind-free</a> (cdr hyps)
                  (<a class="sym-link system" href="axioms.html#def-union-eq" data-sym="UNION-EQ">union-eq</a> hyp-vars <a class="sym-link system" href="history-management.html#def-bound-vars" data-sym="BOUND-VARS">bound-vars</a>)
                  wrld)))))))))</pre>
  </div>

<div class="form-block function" id="def-all-vars-in-hyps" data-defines="ALL-VARS-IN-HYPS" data-references="ALL-VARS,FREE-VARS-IN-HYPS-CONSIDERING-BIND-FREE,HARD,ER,UNION-EQ,CADR,COLLECT-NON-LEGAL-VARIABLEPS,NOT,QUOTEP,AND,*T*,*NIL*,FARGN,EQUAL,SYNP,QUOTE,FFN-SYMB,FQUOTEP,ADD-TO-SET-EQ,CAR,VARIABLEP,EQ,CDR,VARS,LET,T,NULL,COND,HYPS,DEFUN" data-used-by="CHK-LEGAL-LINEAR-TRIGGER-TERMS1,ADD-LINEAR-RULE2,CHK-ACCEPTABLE-LINEAR-RULE2" data-part-name="ALL-VARS-IN-HYPS" data-part-args="HYPS" data-part-body="ALL-VARS,FREE-VARS-IN-HYPS-CONSIDERING-BIND-FREE,HARD,ER,UNION-EQ,CADR,COLLECT-NON-LEGAL-VARIABLEPS,NOT,QUOTEP,AND,*T*,*NIL*,FARGN,EQUAL,SYNP,QUOTE,FFN-SYMB,FQUOTEP,ADD-TO-SET-EQ,CAR,VARIABLEP,EQ,CDR,ALL-VARS-IN-HYPS,VARS,LET,T,HYPS,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ALL-VARS-IN-HYPS">all-vars-in-hyps</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-all-vars-in-hyps" data-sym="ALL-VARS-IN-HYPS" title="(defun all-vars-in-hyps (hyps)
  (cond ((null hyps) nil)
        (t
         (let ((vars (all-vars-in-hyps (cdr hyps))))
           (cond ((eq vars t) t)
...">all-vars-in-hyps</a>
  (hyps)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> hyps) nil)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((vars (<a class="sym-link local-def" href="#def-all-vars-in-hyps" data-sym="ALL-VARS-IN-HYPS" title="(defun all-vars-in-hyps (hyps)
  (cond ((null hyps) nil)
        (t
         (let ((vars (all-vars-in-hyps (cdr hyps))))
           (cond ((eq vars t) t)
...">all-vars-in-hyps</a> (cdr hyps))))
        (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> vars <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)
          ((<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> (car hyps)) (<a class="sym-link system" href="axioms.html#def-add-to-set-eq" data-sym="ADD-TO-SET-EQ">add-to-set-eq</a> (car hyps) vars))
          ((<a class="sym-link system" href="axioms.html#def-fquotep" data-sym="FQUOTEP">fquotep</a> (car hyps)) vars)
          ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> (car hyps)) '<a class="sym-link system" href="axioms.html#def-synp" data-sym="SYNP">synp</a>) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((equal (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> (car hyps) <span class="number">1</span>) <a class="sym-link system" href="axioms.html#def-_2Anil_2A" data-sym="*NIL*">*nil*</a>) vars)
              ((equal (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> (car hyps) <span class="number">1</span>) <a class="sym-link system" href="axioms.html#def-_2At_2A" data-sym="*T*">*t*</a>) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)
              ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-quotep" data-sym="QUOTEP">quotep</a> (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> (car hyps) <span class="number">1</span>))
                 (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (collect-non-legal-variableps (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> (car hyps) <span class="number">1</span>))))) (<a class="sym-link system" href="axioms.html#def-union-eq" data-sym="UNION-EQ">union-eq</a> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> (car hyps) <span class="number">1</span>)) vars))
              (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> hard
                  '<a class="sym-link local-def" href="#def-free-vars-in-hyps-considering-bind-free" data-sym="FREE-VARS-IN-HYPS-CONSIDERING-BIND-FREE" title="(defun free-vars-in-hyps-considering-bind-free (hyps bound-vars wrld)
  (cond ((null hyps) nil)
        (t
         (mv-let (forcep flg)
                 (binding-hyp-p (car hyps) (pairlis$ bound-vars bound-vars)
...">free-vars-in-hyps-considering-bind-free</a>
                  <span class="string">"We thought the first argument of synp in this context ~
                      was either &#39;NIL, &#39;T, or else a quoted true list of ~
                      variables, but ~x0 is not!"</span>
                  (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> (car hyps) <span class="number">1</span>)))))
          (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-union-eq" data-sym="UNION-EQ">union-eq</a> (<a class="sym-link system" href="axioms.html#def-all-vars" data-sym="ALL-VARS">all-vars</a> (car hyps)) vars)))))))</pre>
  </div>

<div class="form-block function" id="def-match-free-value" data-defines="MATCH-FREE-VALUE" data-references="MATCH-FREE-DEFAULT,ALL-VARS,FREE-VARS-IN-HYPS,AND,OR,WRLD,PAT,HYPS,MATCH-FREE,DEFUN" data-used-by="ADD-LINEAR-RULE3,ADD-REWRITE-RULE2,CREATE-REWRITE-RULE,PUT-MATCH-FREE-VALUE" data-part-name="MATCH-FREE-VALUE" data-part-args="WRLD,PAT,HYPS,MATCH-FREE" data-part-body="MATCH-FREE-DEFAULT,WRLD,PAT,ALL-VARS,HYPS,FREE-VARS-IN-HYPS,AND,MATCH-FREE,OR" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="MATCH-FREE-VALUE">match-free-value</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-match-free-value" data-sym="MATCH-FREE-VALUE" title="(defun match-free-value (match-free hyps pat wrld)
  (or match-free
      (and (free-vars-in-hyps hyps (all-vars pat) wrld)
           (or (match-free-default wrld) :all))))">match-free-value</a>
  (match-free hyps pat wrld)
  (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> match-free
    (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link local-def" href="#def-free-vars-in-hyps" data-sym="FREE-VARS-IN-HYPS" title="(defun free-vars-in-hyps (hyps bound-vars wrld)
  (cond ((null hyps) nil)
        (t
         (mv-let (forcep flg)
                 (binding-hyp-p (car hyps) (pairlis$ bound-vars bound-vars)
...">free-vars-in-hyps</a> hyps (<a class="sym-link system" href="axioms.html#def-all-vars" data-sym="ALL-VARS">all-vars</a> pat) wrld)
      (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-match-free-default" data-sym="MATCH-FREE-DEFAULT">match-free-default</a> wrld) <span class="keyword">:all</span>))))</pre>
  </div>

<div class="form-block function" id="def-match-free-fc-value" data-defines="MATCH-FREE-FC-VALUE" data-references="MATCH-FREE-DEFAULT,FREE-VARS-IN-FC-HYPS,AND,OR,WRLD,TRIGGERS,CONCLS,HYPS,MATCH-FREE,DEFUN" data-used-by="ADD-FORWARD-CHAINING-RULE" data-part-name="MATCH-FREE-FC-VALUE" data-part-args="WRLD,TRIGGERS,CONCLS,HYPS,MATCH-FREE" data-part-body="WRLD,MATCH-FREE-DEFAULT,CONCLS,HYPS,TRIGGERS,FREE-VARS-IN-FC-HYPS,AND,MATCH-FREE,OR" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="MATCH-FREE-FC-VALUE">match-free-fc-value</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-match-free-fc-value" data-sym="MATCH-FREE-FC-VALUE" title="(defun match-free-fc-value (match-free hyps concls triggers wrld)
  (or match-free
      (and (free-vars-in-fc-hyps triggers hyps concls)
           (or (match-free-default wrld) :all))))">match-free-fc-value</a>
  (match-free hyps concls triggers wrld)
  (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> match-free
    (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link local-def" href="#def-free-vars-in-fc-hyps" data-sym="FREE-VARS-IN-FC-HYPS" title="(defun free-vars-in-fc-hyps (triggers hyps concls)
  (if (endp triggers)
      nil
      (let ((vars (all-vars (car triggers))))
        (or (free-vars-in-hyps-simple hyps vars)
...">free-vars-in-fc-hyps</a> triggers hyps concls)
      (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-match-free-default" data-sym="MATCH-FREE-DEFAULT">match-free-default</a> wrld) <span class="keyword">:all</span>))))</pre>
  </div>

<div class="form-block function" id="def-rule-backchain-limit-lst" data-defines="RULE-BACKCHAIN-LIMIT-LST" data-references="LENGTH,MAKE-LIST,EQ,AND,DEFAULT-BACKCHAIN-LIMIT,LIMIT,LET,T,CADR,COND,FLG,WRLD,HYPS,BACKCHAIN-LIMIT-LST,DEFUN" data-used-by="ADD-TYPE-PRESCRIPTION-RULE,ADD-META-RULE,ADD-LINEAR-RULE3,CREATE-REWRITE-RULE" data-part-name="RULE-BACKCHAIN-LIMIT-LST" data-part-args="FLG,WRLD,HYPS,BACKCHAIN-LIMIT-LST" data-part-body="HYPS,LENGTH,MAKE-LIST,EQ,AND,FLG,WRLD,DEFAULT-BACKCHAIN-LIMIT,LIMIT,LET,T,CADR,BACKCHAIN-LIMIT-LST,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="RULE-BACKCHAIN-LIMIT-LST">rule-backchain-limit-lst</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-rule-backchain-limit-lst" data-sym="RULE-BACKCHAIN-LIMIT-LST" title="(defun rule-backchain-limit-lst (backchain-limit-lst hyps wrld flg)
  (cond (backchain-limit-lst (cadr backchain-limit-lst))
        (t
         (let ((limit (default-backchain-limit wrld flg)))
           (and limit
...">rule-backchain-limit-lst</a>
  (backchain-limit-lst hyps wrld flg)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (backchain-limit-lst (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> backchain-limit-lst))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((limit (<a class="sym-link system" href="axioms.html#def-default-backchain-limit" data-sym="DEFAULT-BACKCHAIN-LIMIT">default-backchain-limit</a> wrld flg)))
        (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> limit
          (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> flg <span class="keyword">:meta</span>) limit)
            (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-make-list" data-sym="MAKE-LIST">make-list</a> (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> hyps) <span class="keyword">:initial-element</span> limit))))))))</pre>
  </div>

<div class="form-block function" id="def-create-rewrite-rule" data-defines="CREATE-REWRITE-RULE" data-references="RULE-BACKCHAIN-LIMIT-LST,FORM-OF-REWRITE-QUOTED-CONSTANT-RULE,CONS,BACKCHAIN,T,ABBREVIATION,ALL-VARS-BAG,ABBREVIATIONP,NULL,REWRITE-QUOTED-CONSTANT,QUOTE,COND,FREE-VARSP,REWRITE-RULE,MAKE,EQUAL,NOT,AND,OR,ALL-VARS,CADR,REMOVE-IRRELEVANT-LOOP-STOPPER-PAIRS,IF,LOOP-STOPPER,PREPROCESS-HYPS,LET,WRLD,MATCH-FREE-VALUE,BACKCHAIN-LIMIT-LST,LOOP-STOPPER-LST,RHS,LHS,LHS0,EQUIV,HYPS,NUME,RUNE,QC-FLG,DEFUN" data-used-by="ADD-REWRITE-RULE2,CHK-ACCEPTABLE-REWRITE-RULE2" data-part-name="CREATE-REWRITE-RULE" data-part-args="WRLD,MATCH-FREE-VALUE,BACKCHAIN-LIMIT-LST,LOOP-STOPPER-LST,RHS,LHS,LHS0,EQUIV,HYPS,NUME,RUNE,QC-FLG" data-part-body="MATCH-FREE-VALUE,BACKCHAIN-LIMIT-LST,RULE-BACKCHAIN-LIMIT-LST,FORM-OF-REWRITE-QUOTED-CONSTANT-RULE,CONS,BACKCHAIN,T,ABBREVIATION,ALL-VARS-BAG,ABBREVIATIONP,NULL,REWRITE-QUOTED-CONSTANT,QUOTE,QC-FLG,COND,FREE-VARSP,EQUIV,NUME,RUNE,REWRITE-RULE,MAKE,LHS0,EQUAL,NOT,AND,RHS,OR,LHS,ALL-VARS,CADR,REMOVE-IRRELEVANT-LOOP-STOPPER-PAIRS,LOOP-STOPPER-LST,IF,LOOP-STOPPER,WRLD,PREPROCESS-HYPS,HYPS,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CREATE-REWRITE-RULE">create-rewrite-rule</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-create-rewrite-rule" data-sym="CREATE-REWRITE-RULE" title="(defun create-rewrite-rule
       (qc-flg rune nume hyps equiv lhs0 lhs rhs loop-stopper-lst
        backchain-limit-lst match-free-value wrld)
  (let ((hyps (preprocess-hyps hyps wrld))
        (loop-stopper
...">create-rewrite-rule</a>
  (qc-flg rune
    nume
    hyps
    equiv
    lhs0
    lhs
    rhs
    loop-stopper-lst
    backchain-limit-lst
    <a class="sym-link local-def" href="#def-match-free-value" data-sym="MATCH-FREE-VALUE" title="(defun match-free-value (match-free hyps pat wrld)
  (or match-free
      (and (free-vars-in-hyps hyps (all-vars pat) wrld)
           (or (match-free-default wrld) :all))))">match-free-value</a>
    wrld)
  (let ((hyps (<a class="sym-link system" href="defuns.html#def-preprocess-hyps" data-sym="PREPROCESS-HYPS">preprocess-hyps</a> hyps wrld)) (<a class="sym-link local-def" href="#def-loop-stopper" data-sym="LOOP-STOPPER" title="(defun loop-stopper (lhs rhs)
  (mv-let (ans unify-subst) (variantp lhs rhs)
          (cond (ans (loop-stopper1 unify-subst (all-vars lhs) lhs)) (t nil))))">loop-stopper</a> (if loop-stopper-lst
          (<a class="sym-link local-def" href="#def-remove-irrelevant-loop-stopper-pairs" data-sym="REMOVE-IRRELEVANT-LOOP-STOPPER-PAIRS" title="(defun remove-irrelevant-loop-stopper-pairs (pairs vars)
  (if pairs
      (if (and (member-eq (caar pairs) vars) (member-eq (cadar pairs) vars))
          (cons (car pairs)
                (remove-irrelevant-loop-stopper-pairs (cdr pairs) vars))
...">remove-irrelevant-loop-stopper-pairs</a> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> loop-stopper-lst)
            (<a class="sym-link system" href="axioms.html#def-all-vars" data-sym="ALL-VARS">all-vars</a> lhs))
          (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link local-def" href="#def-loop-stopper" data-sym="LOOP-STOPPER" title="(defun loop-stopper (lhs rhs)
  (mv-let (ans unify-subst) (variantp lhs rhs)
          (cond (ans (loop-stopper1 unify-subst (all-vars lhs) lhs)) (t nil))))">loop-stopper</a> lhs rhs)
            (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (equal lhs0 lhs)) (<a class="sym-link local-def" href="#def-loop-stopper" data-sym="LOOP-STOPPER" title="(defun loop-stopper (lhs rhs)
  (mv-let (ans unify-subst) (variantp lhs rhs)
          (cond (ans (loop-stopper1 unify-subst (all-vars lhs) lhs)) (t nil))))">loop-stopper</a> lhs0 rhs))))))
    (<a class="sym-link system" href="basis-a.html#def-make" data-sym="MAKE">make</a> rewrite-rule
      <span class="keyword">:rune</span> rune
      <span class="keyword">:nume</span> nume
      <span class="keyword">:hyps</span> hyps
      <span class="keyword">:equiv</span> equiv
      <span class="keyword">:lhs</span> lhs
      <span class="keyword">:var-info</span> (free-varsp lhs nil)
      <span class="keyword">:rhs</span> rhs
      <span class="keyword">:subclass</span> (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (qc-flg 'rewrite-quoted-constant)
        ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> hyps)
           (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> <a class="sym-link local-def" href="#def-loop-stopper" data-sym="LOOP-STOPPER" title="(defun loop-stopper (lhs rhs)
  (mv-let (ans unify-subst) (variantp lhs rhs)
          (cond (ans (loop-stopper1 unify-subst (all-vars lhs) lhs)) (t nil))))">loop-stopper</a>)
           (abbreviationp nil (all-vars-bag lhs nil) rhs)) 'abbreviation)
        (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> 'backchain))
      <span class="keyword">:heuristic-info</span> (if qc-flg
        (cons (<a class="sym-link local-def" href="#def-form-of-rewrite-quoted-constant-rule" data-sym="FORM-OF-REWRITE-QUOTED-CONSTANT-RULE" title="(defun form-of-rewrite-quoted-constant-rule (equiv lhs rhs)
  (cond ((and (not (eq equiv &#39;equal)) (quotep lhs) (quotep rhs)) 1)
        ((and (not (eq equiv &#39;equal)) (nvariablep lhs) (not (fquotep lhs))
              (symbolp (ffn-symb lhs)) (cdr lhs) (null (cddr lhs))
              (variablep (fargn lhs 1)) (eq (fargn lhs 1) rhs))
...">form-of-rewrite-quoted-constant-rule</a> equiv lhs rhs)
          <a class="sym-link local-def" href="#def-loop-stopper" data-sym="LOOP-STOPPER" title="(defun loop-stopper (lhs rhs)
  (mv-let (ans unify-subst) (variantp lhs rhs)
          (cond (ans (loop-stopper1 unify-subst (all-vars lhs) lhs)) (t nil))))">loop-stopper</a>)
        <a class="sym-link local-def" href="#def-loop-stopper" data-sym="LOOP-STOPPER" title="(defun loop-stopper (lhs rhs)
  (mv-let (ans unify-subst) (variantp lhs rhs)
          (cond (ans (loop-stopper1 unify-subst (all-vars lhs) lhs)) (t nil))))">loop-stopper</a>)
      <span class="keyword">:backchain-limit-lst</span> (<a class="sym-link local-def" href="#def-rule-backchain-limit-lst" data-sym="RULE-BACKCHAIN-LIMIT-LST" title="(defun rule-backchain-limit-lst (backchain-limit-lst hyps wrld flg)
  (cond (backchain-limit-lst (cadr backchain-limit-lst))
        (t
         (let ((limit (default-backchain-limit wrld flg)))
           (and limit
...">rule-backchain-limit-lst</a> backchain-limit-lst
        hyps
        wrld
        <span class="keyword">:rewrite</span>)
      <span class="keyword">:match-free</span> <a class="sym-link local-def" href="#def-match-free-value" data-sym="MATCH-FREE-VALUE" title="(defun match-free-value (match-free hyps pat wrld)
  (or match-free
      (and (free-vars-in-hyps hyps (all-vars pat) wrld)
           (or (match-free-default wrld) :all))))">match-free-value</a>)))</pre>
  </div>

<div class="form-block function" id="def-hyps-that-instantiate-free-vars" data-defines="HYPS-THAT-INSTANTIATE-FREE-VARS" data-references="T,CDR,SET-DIFFERENCE-EQ,CONS,CAR,ALL-VARS,INTERSECTP-EQ,NULL,COND,HYPS,FREE-VARS,DEFUN" data-used-by="CHK-ACCEPTABLE-TYPE-PRESCRIPTION-RULE,CHK-TRIGGERS,MAKE-FREE-MAX-TERMS-MSG1,CHK-REWRITE-RULE-WARNINGS" data-part-name="HYPS-THAT-INSTANTIATE-FREE-VARS" data-part-args="HYPS,FREE-VARS" data-part-body="T,CDR,SET-DIFFERENCE-EQ,HYPS-THAT-INSTANTIATE-FREE-VARS,CONS,HYPS,CAR,ALL-VARS,INTERSECTP-EQ,FREE-VARS,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HYPS-THAT-INSTANTIATE-FREE-VARS">hyps-that-instantiate-free-vars</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hyps-that-instantiate-free-vars" data-sym="HYPS-THAT-INSTANTIATE-FREE-VARS" title="(defun hyps-that-instantiate-free-vars (free-vars hyps)
  (cond ((null free-vars) nil)
        ((intersectp-eq free-vars (all-vars (car hyps)))
         (cons (car hyps)
               (hyps-that-instantiate-free-vars
...">hyps-that-instantiate-free-vars</a>
  (free-vars hyps)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> free-vars) nil)
    ((<a class="sym-link system" href="axioms.html#def-intersectp-eq" data-sym="INTERSECTP-EQ">intersectp-eq</a> free-vars (<a class="sym-link system" href="axioms.html#def-all-vars" data-sym="ALL-VARS">all-vars</a> (car hyps))) (cons (car hyps)
        (<a class="sym-link local-def" href="#def-hyps-that-instantiate-free-vars" data-sym="HYPS-THAT-INSTANTIATE-FREE-VARS" title="(defun hyps-that-instantiate-free-vars (free-vars hyps)
  (cond ((null free-vars) nil)
        ((intersectp-eq free-vars (all-vars (car hyps)))
         (cons (car hyps)
               (hyps-that-instantiate-free-vars
...">hyps-that-instantiate-free-vars</a> (<a class="sym-link system" href="axioms.html#def-set-difference-eq" data-sym="SET-DIFFERENCE-EQ">set-difference-eq</a> free-vars (<a class="sym-link system" href="axioms.html#def-all-vars" data-sym="ALL-VARS">all-vars</a> (car hyps)))
          (cdr hyps))))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-hyps-that-instantiate-free-vars" data-sym="HYPS-THAT-INSTANTIATE-FREE-VARS" title="(defun hyps-that-instantiate-free-vars (free-vars hyps)
  (cond ((null free-vars) nil)
        ((intersectp-eq free-vars (all-vars (car hyps)))
         (cons (car hyps)
               (hyps-that-instantiate-free-vars
...">hyps-that-instantiate-free-vars</a> free-vars (cdr hyps)))))</pre>
  </div>

<div class="form-block mutual-recursion" id="def-maybe-one-way-unify" data-defines="MAYBE-ONE-WAY-UNIFY" data-references="CAR,AND,ENDP,TERM-LST,PAT-LST,FARGS,MAYBE-ONE-WAY-UNIFY-LST,FFN-SYMB,T,EQUAL,FQUOTEP,CDR,EQ,NOT,OR,ASSOC-EQ,PAIR,LET,VARIABLEP,COND,ALIST,TERM,PAT,DEFUN,MUTUAL-RECURSION" data-used-by="MAYBE-ONE-WAY-UNIFY-WITH-SOME" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="MAYBE-ONE-WAY-UNIFY">maybe-one-way-unify</span><span class="form-type">mutual-recursion</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-mutual-recursion" data-sym="MUTUAL-RECURSION">mutual-recursion</a> (<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-maybe-one-way-unify" data-sym="MAYBE-ONE-WAY-UNIFY" title="(mutual-recursion
 (defun maybe-one-way-unify (pat term alist)
   (cond
    ((variablep pat)
     (let ((pair (assoc-eq pat alist)))
...">maybe-one-way-unify</a>
    (pat term alist)
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> pat) (let ((pair (<a class="sym-link system" href="axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a> pat alist)))
          (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> pair) (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> pat (cdr pair)))))
      ((<a class="sym-link system" href="axioms.html#def-fquotep" data-sym="FQUOTEP">fquotep</a> pat) (equal pat term))
      ((<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> term) nil)
      ((<a class="sym-link system" href="axioms.html#def-fquotep" data-sym="FQUOTEP">fquotep</a> term) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)
      ((equal (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> pat) (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term)) (maybe-one-way-unify-lst (<a class="sym-link system" href="axioms.html#def-fargs" data-sym="FARGS">fargs</a> pat) (<a class="sym-link system" href="axioms.html#def-fargs" data-sym="FARGS">fargs</a> term) alist))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> nil)))
  (<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> maybe-one-way-unify-lst
    (pat-lst term-lst alist)
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> pat-lst) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link local-def" href="#def-maybe-one-way-unify" data-sym="MAYBE-ONE-WAY-UNIFY" title="(mutual-recursion
 (defun maybe-one-way-unify (pat term alist)
   (cond
    ((variablep pat)
     (let ((pair (assoc-eq pat alist)))
...">maybe-one-way-unify</a> (car pat-lst) (car term-lst) alist)
          (maybe-one-way-unify-lst (cdr pat-lst) (cdr term-lst) alist))))))</pre>
  </div>

<div class="form-block function" id="def-maybe-one-way-unify-with-some" data-defines="MAYBE-ONE-WAY-UNIFY-WITH-SOME" data-references="CDR,T,CAR,MAYBE-ONE-WAY-UNIFY,ENDP,COND,ALIST,TERM-LST,PAT,DEFUN" data-used-by="MAYBE-SUBSUMES" data-part-name="MAYBE-ONE-WAY-UNIFY-WITH-SOME" data-part-args="ALIST,TERM-LST,PAT" data-part-body="CDR,MAYBE-ONE-WAY-UNIFY-WITH-SOME,T,ALIST,CAR,PAT,MAYBE-ONE-WAY-UNIFY,TERM-LST,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="MAYBE-ONE-WAY-UNIFY-WITH-SOME">maybe-one-way-unify-with-some</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-maybe-one-way-unify-with-some" data-sym="MAYBE-ONE-WAY-UNIFY-WITH-SOME" title="(defun maybe-one-way-unify-with-some (pat term-lst alist)
  (cond ((endp term-lst) nil)
        ((maybe-one-way-unify pat (car term-lst) alist) t)
        (t (maybe-one-way-unify-with-some pat (cdr term-lst) alist))))">maybe-one-way-unify-with-some</a>
  (pat term-lst alist)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> term-lst) nil)
    ((<a class="sym-link local-def" href="#def-maybe-one-way-unify" data-sym="MAYBE-ONE-WAY-UNIFY" title="(mutual-recursion
 (defun maybe-one-way-unify (pat term alist)
   (cond
    ((variablep pat)
     (let ((pair (assoc-eq pat alist)))
...">maybe-one-way-unify</a> pat (car term-lst) alist) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-maybe-one-way-unify-with-some" data-sym="MAYBE-ONE-WAY-UNIFY-WITH-SOME" title="(defun maybe-one-way-unify-with-some (pat term-lst alist)
  (cond ((endp term-lst) nil)
        ((maybe-one-way-unify pat (car term-lst) alist) t)
        (t (maybe-one-way-unify-with-some pat (cdr term-lst) alist))))">maybe-one-way-unify-with-some</a> pat (cdr term-lst) alist))))</pre>
  </div>

<div class="form-block function" id="def-maybe-subsumes" data-defines="MAYBE-SUBSUMES" data-references="CDR,CAR,MAYBE-ONE-WAY-UNIFY-WITH-SOME,T,NULL,COND,ALIST,CL2,CL1,DEFUN" data-used-by="SUBSUMES-REWRITE-RULE" data-part-name="MAYBE-SUBSUMES" data-part-args="ALIST,CL2,CL1" data-part-body="CDR,MAYBE-SUBSUMES,ALIST,CL2,CAR,MAYBE-ONE-WAY-UNIFY-WITH-SOME,T,CL1,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="MAYBE-SUBSUMES">maybe-subsumes</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-maybe-subsumes" data-sym="MAYBE-SUBSUMES" title="(defun maybe-subsumes (cl1 cl2 alist)
  (cond ((null cl1) t)
        ((maybe-one-way-unify-with-some (car cl1) cl2 alist)
         (maybe-subsumes (cdr cl1) cl2 alist))
        (t nil)))">maybe-subsumes</a>
  (cl1 cl2 alist)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> cl1) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)
    ((<a class="sym-link local-def" href="#def-maybe-one-way-unify-with-some" data-sym="MAYBE-ONE-WAY-UNIFY-WITH-SOME" title="(defun maybe-one-way-unify-with-some (pat term-lst alist)
  (cond ((endp term-lst) nil)
        ((maybe-one-way-unify pat (car term-lst) alist) t)
        (t (maybe-one-way-unify-with-some pat (cdr term-lst) alist))))">maybe-one-way-unify-with-some</a> (car cl1) cl2 alist) (<a class="sym-link local-def" href="#def-maybe-subsumes" data-sym="MAYBE-SUBSUMES" title="(defun maybe-subsumes (cl1 cl2 alist)
  (cond ((null cl1) t)
        ((maybe-one-way-unify-with-some (car cl1) cl2 alist)
         (maybe-subsumes (cdr cl1) cl2 alist))
        (t nil)))">maybe-subsumes</a> (cdr cl1) cl2 alist))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> nil)))</pre>
  </div>

<div class="form-block function" id="def-subsumes-rewrite-rule" data-defines="SUBSUMES-REWRITE-RULE" data-references="T,*INIT-SUBSUMES-COUNT*,SUBSUMES,EQ,MAYBE-SUBSUMES,ONE-WAY-UNIFY,UNIFY-SUBST,ANS,MV-LET,REFINEMENTP,REWRITE-RULE,ACCESS,CAR,EQL,NOT,AND,WRLD,RULE2,RULE1,DEFUN" data-used-by="FIND-SUBSUMING-RULE-NAMES,FIND-SUBSUMED-RULE-NAMES" data-part-name="SUBSUMES-REWRITE-RULE" data-part-args="WRLD,RULE2,RULE1" data-part-body="T,*INIT-SUBSUMES-COUNT*,SUBSUMES,EQ,MAYBE-SUBSUMES,ONE-WAY-UNIFY,UNIFY-SUBST,ANS,MV-LET,WRLD,REFINEMENTP,RULE2,RULE1,REWRITE-RULE,ACCESS,CAR,EQL,NOT,AND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="SUBSUMES-REWRITE-RULE">subsumes-rewrite-rule</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-subsumes-rewrite-rule" data-sym="SUBSUMES-REWRITE-RULE" title="(defun subsumes-rewrite-rule (rule1 rule2 wrld)
  (and (not (eql (car (access rewrite-rule rule1 :heuristic-info)) 2))
       (not (eql (car (access rewrite-rule rule2 :heuristic-info)) 2))
       (refinementp (access rewrite-rule rule1 :equiv)
                    (access rewrite-rule rule2 :equiv) wrld)
...">subsumes-rewrite-rule</a>
  (rule1 rule2 wrld)
  (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eql" data-sym="EQL">eql</a> (car (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> rewrite-rule rule1 <span class="keyword">:heuristic-info</span>)) <span class="number">2</span>))
    (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eql" data-sym="EQL">eql</a> (car (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> rewrite-rule rule2 <span class="keyword">:heuristic-info</span>)) <span class="number">2</span>))
    (<a class="sym-link system" href="rewrite.html#def-refinementp" data-sym="REFINEMENTP">refinementp</a> (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> rewrite-rule rule1 <span class="keyword">:equiv</span>)
      (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> rewrite-rule rule2 <span class="keyword">:equiv</span>)
      wrld)
    (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (ans unify-subst)
      (one-way-unify (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> rewrite-rule rule1 <span class="keyword">:lhs</span>)
        (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> rewrite-rule rule2 <span class="keyword">:lhs</span>))
      (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> ans
        (<a class="sym-link local-def" href="#def-maybe-subsumes" data-sym="MAYBE-SUBSUMES" title="(defun maybe-subsumes (cl1 cl2 alist)
  (cond ((null cl1) t)
        ((maybe-one-way-unify-with-some (car cl1) cl2 alist)
         (maybe-subsumes (cdr cl1) cl2 alist))
        (t nil)))">maybe-subsumes</a> (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> rewrite-rule rule1 <span class="keyword">:hyps</span>)
          (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> rewrite-rule rule2 <span class="keyword">:hyps</span>)
          unify-subst)
        (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (subsumes *init-subsumes-count*
            (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> rewrite-rule rule1 <span class="keyword">:hyps</span>)
            (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> rewrite-rule rule2 <span class="keyword">:hyps</span>)
            unify-subst)
          <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)))))</pre>
  </div>

<div class="form-block function" id="def-find-subsumed-rule-names" data-defines="FIND-SUBSUMED-RULE-NAMES" data-references="T,CDR,BASE-SYMBOL,CONS,SUBSUMES-REWRITE-RULE,DEFINITION,META,QUOTE,EQ,NOT,CAR,REWRITE-RULE,ACCESS,ENABLED-NUMEP,AND,NULL,COND,WRLD,ENS,RULE,LST,DEFUN" data-used-by="CHK-REWRITE-RULE-WARNINGS" data-part-name="FIND-SUBSUMED-RULE-NAMES" data-part-args="WRLD,ENS,RULE,LST" data-part-body="T,CDR,FIND-SUBSUMED-RULE-NAMES,BASE-SYMBOL,CONS,WRLD,RULE,SUBSUMES-REWRITE-RULE,DEFINITION,META,QUOTE,EQ,NOT,ENS,CAR,REWRITE-RULE,ACCESS,ENABLED-NUMEP,AND,LST,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="FIND-SUBSUMED-RULE-NAMES">find-subsumed-rule-names</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-find-subsumed-rule-names" data-sym="FIND-SUBSUMED-RULE-NAMES" title="(defun find-subsumed-rule-names (lst rule ens wrld)
  (cond ((null lst) nil)
        ((and (enabled-numep (access rewrite-rule (car lst) :nume) ens)
              (not (eq (access rewrite-rule (car lst) :subclass) &#39;meta))
              (not (eq (access rewrite-rule (car lst) :subclass) &#39;definition))
...">find-subsumed-rule-names</a>
  (lst rule ens wrld)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> lst) nil)
    ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (enabled-numep (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> rewrite-rule (car lst) <span class="keyword">:nume</span>) ens)
       (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> rewrite-rule (car lst) <span class="keyword">:subclass</span>) 'meta))
       (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> rewrite-rule (car lst) <span class="keyword">:subclass</span>) 'definition))
       (<a class="sym-link local-def" href="#def-subsumes-rewrite-rule" data-sym="SUBSUMES-REWRITE-RULE" title="(defun subsumes-rewrite-rule (rule1 rule2 wrld)
  (and (not (eql (car (access rewrite-rule rule1 :heuristic-info)) 2))
       (not (eql (car (access rewrite-rule rule2 :heuristic-info)) 2))
       (refinementp (access rewrite-rule rule1 :equiv)
                    (access rewrite-rule rule2 :equiv) wrld)
...">subsumes-rewrite-rule</a> rule (car lst) wrld)) (cons (base-symbol (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> rewrite-rule (car lst) <span class="keyword">:rune</span>))
        (<a class="sym-link local-def" href="#def-find-subsumed-rule-names" data-sym="FIND-SUBSUMED-RULE-NAMES" title="(defun find-subsumed-rule-names (lst rule ens wrld)
  (cond ((null lst) nil)
        ((and (enabled-numep (access rewrite-rule (car lst) :nume) ens)
              (not (eq (access rewrite-rule (car lst) :subclass) &#39;meta))
              (not (eq (access rewrite-rule (car lst) :subclass) &#39;definition))
...">find-subsumed-rule-names</a> (cdr lst) rule ens wrld)))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-find-subsumed-rule-names" data-sym="FIND-SUBSUMED-RULE-NAMES" title="(defun find-subsumed-rule-names (lst rule ens wrld)
  (cond ((null lst) nil)
        ((and (enabled-numep (access rewrite-rule (car lst) :nume) ens)
              (not (eq (access rewrite-rule (car lst) :subclass) &#39;meta))
              (not (eq (access rewrite-rule (car lst) :subclass) &#39;definition))
...">find-subsumed-rule-names</a> (cdr lst) rule ens wrld))))</pre>
  </div>

<div class="form-block function" id="def-find-subsuming-rule-names" data-defines="FIND-SUBSUMING-RULE-NAMES" data-references="T,CDR,BASE-SYMBOL,CONS,SUBSUMES-REWRITE-RULE,DEFINITION,META,QUOTE,EQ,NOT,CAR,REWRITE-RULE,ACCESS,ENABLED-NUMEP,AND,NULL,COND,WRLD,ENS,RULE,LST,DEFUN" data-used-by="CHK-REWRITE-RULE-WARNINGS" data-part-name="FIND-SUBSUMING-RULE-NAMES" data-part-args="WRLD,ENS,RULE,LST" data-part-body="T,CDR,FIND-SUBSUMING-RULE-NAMES,BASE-SYMBOL,CONS,WRLD,RULE,SUBSUMES-REWRITE-RULE,DEFINITION,META,QUOTE,EQ,NOT,ENS,CAR,REWRITE-RULE,ACCESS,ENABLED-NUMEP,AND,LST,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="FIND-SUBSUMING-RULE-NAMES">find-subsuming-rule-names</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-find-subsuming-rule-names" data-sym="FIND-SUBSUMING-RULE-NAMES" title="(defun find-subsuming-rule-names (lst rule ens wrld)
  (cond ((null lst) nil)
        ((and (enabled-numep (access rewrite-rule (car lst) :nume) ens)
              (not (eq (access rewrite-rule (car lst) :subclass) &#39;meta))
              (not (eq (access rewrite-rule (car lst) :subclass) &#39;definition))
...">find-subsuming-rule-names</a>
  (lst rule ens wrld)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> lst) nil)
    ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (enabled-numep (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> rewrite-rule (car lst) <span class="keyword">:nume</span>) ens)
       (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> rewrite-rule (car lst) <span class="keyword">:subclass</span>) 'meta))
       (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> rewrite-rule (car lst) <span class="keyword">:subclass</span>) 'definition))
       (<a class="sym-link local-def" href="#def-subsumes-rewrite-rule" data-sym="SUBSUMES-REWRITE-RULE" title="(defun subsumes-rewrite-rule (rule1 rule2 wrld)
  (and (not (eql (car (access rewrite-rule rule1 :heuristic-info)) 2))
       (not (eql (car (access rewrite-rule rule2 :heuristic-info)) 2))
       (refinementp (access rewrite-rule rule1 :equiv)
                    (access rewrite-rule rule2 :equiv) wrld)
...">subsumes-rewrite-rule</a> (car lst) rule wrld)) (cons (base-symbol (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> rewrite-rule (car lst) <span class="keyword">:rune</span>))
        (<a class="sym-link local-def" href="#def-find-subsuming-rule-names" data-sym="FIND-SUBSUMING-RULE-NAMES" title="(defun find-subsuming-rule-names (lst rule ens wrld)
  (cond ((null lst) nil)
        ((and (enabled-numep (access rewrite-rule (car lst) :nume) ens)
              (not (eq (access rewrite-rule (car lst) :subclass) &#39;meta))
              (not (eq (access rewrite-rule (car lst) :subclass) &#39;definition))
...">find-subsuming-rule-names</a> (cdr lst) rule ens wrld)))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-find-subsuming-rule-names" data-sym="FIND-SUBSUMING-RULE-NAMES" title="(defun find-subsuming-rule-names (lst rule ens wrld)
  (cond ((null lst) nil)
        ((and (enabled-numep (access rewrite-rule (car lst) :nume) ens)
              (not (eq (access rewrite-rule (car lst) :subclass) &#39;meta))
              (not (eq (access rewrite-rule (car lst) :subclass) &#39;definition))
...">find-subsuming-rule-names</a> (cdr lst) rule ens wrld))))</pre>
  </div>

<div class="form-block function" id="def-forced-hyps" data-defines="FORCED-HYPS" data-references="T,CDR,CONS,CASE-SPLIT,FORCE,QUOTE,FFN-SYMB,EQ,OR,CAR,NVARIABLEP,AND,NULL,COND,LST,DEFUN" data-used-by="CHK-ACCEPTABLE-TYPE-PRESCRIPTION-RULE,CHK-TRIGGERS,CHK-REWRITE-RULE-WARNINGS" data-part-name="FORCED-HYPS" data-part-args="LST" data-part-body="T,CDR,FORCED-HYPS,CONS,CASE-SPLIT,FORCE,QUOTE,FFN-SYMB,EQ,OR,CAR,NVARIABLEP,AND,LST,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="FORCED-HYPS">forced-hyps</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-forced-hyps" data-sym="FORCED-HYPS" title="(defun forced-hyps (lst)
  (cond ((null lst) nil)
        ((and (nvariablep (car lst))
              (or (eq (ffn-symb (car lst)) &#39;force)
                  (eq (ffn-symb (car lst)) &#39;case-split)))
...">forced-hyps</a>
  (lst)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> lst) nil)
    ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-nvariablep" data-sym="NVARIABLEP">nvariablep</a> (car lst))
       (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> (car lst)) '<a class="sym-link system" href="axioms.html#def-force" data-sym="FORCE">force</a>)
         (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> (car lst)) '<a class="sym-link system" href="axioms.html#def-case-split" data-sym="CASE-SPLIT">case-split</a>))) (cons (car lst) (<a class="sym-link local-def" href="#def-forced-hyps" data-sym="FORCED-HYPS" title="(defun forced-hyps (lst)
  (cond ((null lst) nil)
        ((and (nvariablep (car lst))
              (or (eq (ffn-symb (car lst)) &#39;force)
                  (eq (ffn-symb (car lst)) &#39;case-split)))
...">forced-hyps</a> (cdr lst))))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-forced-hyps" data-sym="FORCED-HYPS" title="(defun forced-hyps (lst)
  (cond ((null lst) nil)
        ((and (nvariablep (car lst))
              (or (eq (ffn-symb (car lst)) &#39;force)
                  (eq (ffn-symb (car lst)) &#39;case-split)))
...">forced-hyps</a> (cdr lst)))))</pre>
  </div>

<div class="form-block function" id="def-strip-top-level-nots-and-forces" data-defines="STRIP-TOP-LEVEL-NOTS-AND-FORCES" data-references="CDR,CONS,IGNORE,DECLARE,FARGN,CASE-SPLIT,FORCE,QUOTE,FFN-SYMB,EQ,OR,CAR,NVARIABLEP,AND,IF,STRIP-NOT,ATM,NOT-FLG,MV-LET,T,NULL,COND,HYPS,DEFUN" data-used-by="CHK-TRIGGERS,CHK-REWRITE-RULE-WARNINGS" data-part-name="STRIP-TOP-LEVEL-NOTS-AND-FORCES" data-part-args="HYPS" data-part-body="CDR,STRIP-TOP-LEVEL-NOTS-AND-FORCES,CONS,IGNORE,DECLARE,FARGN,CASE-SPLIT,FORCE,QUOTE,FFN-SYMB,EQ,OR,CAR,NVARIABLEP,AND,IF,STRIP-NOT,ATM,NOT-FLG,MV-LET,T,HYPS,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="STRIP-TOP-LEVEL-NOTS-AND-FORCES">strip-top-level-nots-and-forces</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-strip-top-level-nots-and-forces" data-sym="STRIP-TOP-LEVEL-NOTS-AND-FORCES" title="(defun strip-top-level-nots-and-forces (hyps)
  (cond ((null hyps) nil)
        (t
         (mv-let (not-flg atm)
                 (strip-not
...">strip-top-level-nots-and-forces</a>
  (hyps)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> hyps) nil)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (not-flg atm)
        (<a class="sym-link system" href="basis-b.html#def-strip-not" data-sym="STRIP-NOT">strip-not</a> (if (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-nvariablep" data-sym="NVARIABLEP">nvariablep</a> (car hyps))
              (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> (car hyps)) '<a class="sym-link system" href="axioms.html#def-force" data-sym="FORCE">force</a>)
                (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> (car hyps)) '<a class="sym-link system" href="axioms.html#def-case-split" data-sym="CASE-SPLIT">case-split</a>)))
            (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> (car hyps) <span class="number">1</span>)
            (car hyps)))
        (declare (ignore not-flg))
        (cons atm (<a class="sym-link local-def" href="#def-strip-top-level-nots-and-forces" data-sym="STRIP-TOP-LEVEL-NOTS-AND-FORCES" title="(defun strip-top-level-nots-and-forces (hyps)
  (cond ((null hyps) nil)
        (t
         (mv-let (not-flg atm)
                 (strip-not
...">strip-top-level-nots-and-forces</a> (cdr hyps)))))))</pre>
  </div>

<div class="form-block function" id="def-free-variable-error_3F" data-defines="FREE-VARIABLE-ERROR?" data-references="VALUE,SET-MATCH-FREE-ERROR,EQ,SOFT,ER,MATCH-FREE-ERROR,QUOTE,F-GET-GLOBAL,MATCH-FREE-DEFAULT,NULL,AND,IF,STATE,WRLD,CTX,NAME,TOKEN,DEFUN" data-used-by="CHK-TRIGGERS,CHK-ACCEPTABLE-LINEAR-RULE2,CHK-REWRITE-RULE-WARNINGS" data-part-name="FREE-VARIABLE-ERROR?" data-part-args="STATE,WRLD,CTX,NAME,TOKEN" data-part-body="VALUE,SET-MATCH-FREE-ERROR,NAME,TOKEN,EQ,CTX,SOFT,ER,STATE,MATCH-FREE-ERROR,QUOTE,F-GET-GLOBAL,WRLD,MATCH-FREE-DEFAULT,NULL,AND,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="FREE-VARIABLE-ERROR?">free-variable-error?</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-free-variable-error_3F" data-sym="FREE-VARIABLE-ERROR?" title="(defun free-variable-error? (token name ctx wrld state)
  (if (and (null (match-free-default wrld))
           (f-get-global &#39;match-free-error state))
      (er soft ctx
          &quot;The warning above has caused this error in order to make it clear ~
...">free-variable-error?</a>
  (token name ctx wrld state)
  (if (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> (<a class="sym-link system" href="axioms.html#def-match-free-default" data-sym="MATCH-FREE-DEFAULT">match-free-default</a> wrld))
      (<a class="sym-link system" href="axioms.html#def-f-get-global" data-sym="F-GET-GLOBAL">f-get-global</a> 'match-free-error state))
    (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
      ctx
      <span class="string">"The warning above has caused this error in order to make it clear ~
           that there are free variables in ~s0 of a ~x1 rule generated from ~
           ~x2.  This error can be suppressed for the rest of this ACL2 ~
           session by submitting the following form:~|~%~x3~|~%However, you ~
           are advised not to do so until you have read the documentation on ~
           ``free variables&#39;&#39; (see :DOC free-variables) in order to understand ~
           the issues.  In particular, you can supply a :match-free value for ~
           the :rewrite rule class (see :DOC rule-classes) or a default for ~
           the book under development (see :DOC set-match-free-default)."</span>
      (if (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> token <span class="keyword">:forward-chaining</span>)
        <span class="string">"some trigger term"</span>
        <span class="string">"the hypotheses"</span>)
      token
      name
      '(<a class="sym-link system" href="axioms.html#def-set-match-free-error" data-sym="SET-MATCH-FREE-ERROR">set-match-free-error</a> nil))
    (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil)))</pre>
  </div>

<div class="form-block function" id="def-extend-geneqv-alist" data-defines="EXTEND-GENEQV-ALIST" data-references="ASSOC-EQ,CDR,UNION-GENEQV,PUT-ASSOC-EQ,WRLD,ALIST,GENEQV,VAR,DEFUN" data-used-by="DOUBLE-REWRITE-OPPORTUNITIES,UNCOVERED-EQUIVS-ALIST,COVERED-GENEQV-ALIST" data-part-name="EXTEND-GENEQV-ALIST" data-part-args="WRLD,ALIST,GENEQV,VAR" data-part-body="WRLD,ALIST,ASSOC-EQ,CDR,GENEQV,UNION-GENEQV,VAR,PUT-ASSOC-EQ" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="EXTEND-GENEQV-ALIST">extend-geneqv-alist</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-extend-geneqv-alist" data-sym="EXTEND-GENEQV-ALIST" title="(defun extend-geneqv-alist (var geneqv alist wrld)
  (put-assoc-eq var (union-geneqv geneqv (cdr (assoc-eq var alist)) wrld)
                alist))">extend-geneqv-alist</a>
  (var geneqv alist wrld)
  (<a class="sym-link system" href="axioms.html#def-put-assoc-eq" data-sym="PUT-ASSOC-EQ">put-assoc-eq</a> var
    (<a class="sym-link system" href="rewrite.html#def-union-geneqv" data-sym="UNION-GENEQV">union-geneqv</a> geneqv (cdr (<a class="sym-link system" href="axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a> var alist)) wrld)
    alist))</pre>
  </div>

<div class="form-block mutual-recursion" id="def-covered-geneqv-alist" data-defines="COVERED-GENEQV-ALIST" data-references="1+,CONS,CDR,CAR,GENEQV-AND-PEQUIV-INFO-FOR-REWRITE,CHILD-PEQUIV-INFO,CHILD-GENEQV,ENDP,PARENT-GENEQV,PARENT-FN,BKPTR,ARGS-REV,ARGS,PEQUIVS-FOR-REWRITE-ARGS,SHALLOW-PEQUIV-LST,DEEP-PEQUIV-LST,MV-LET,T,FFN-SYMB,GENEQV-LST,FARGS,COVERED-GENEQV-ALIST-LST,FLAMBDA-APPLICATIONP,FQUOTEP,EXTEND-GENEQV-ALIST,VARIABLEP,COND,WRLD,ENS,ALIST,PEQUIV-INFO,GENEQV,TERM,DEFUN,MUTUAL-RECURSION" data-used-by="SHOW-DOUBLE-REWRITE-OPPORTUNITIES-LINEAR,CHK-REWRITE-RULE-WARNINGS,DOUBLE-REWRITE-OPPORTUNITIES" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="COVERED-GENEQV-ALIST">covered-geneqv-alist</span><span class="form-type">mutual-recursion</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-mutual-recursion" data-sym="MUTUAL-RECURSION">mutual-recursion</a> (<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-covered-geneqv-alist" data-sym="COVERED-GENEQV-ALIST" title="(mutual-recursion
 (defun covered-geneqv-alist (term geneqv pequiv-info alist ens wrld)
   (cond ((variablep term) (extend-geneqv-alist term geneqv alist wrld))
         ((fquotep term) alist)
         ((flambda-applicationp term)
...">covered-geneqv-alist</a>
    (term geneqv pequiv-info alist ens wrld)
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> term) (<a class="sym-link local-def" href="#def-extend-geneqv-alist" data-sym="EXTEND-GENEQV-ALIST" title="(defun extend-geneqv-alist (var geneqv alist wrld)
  (put-assoc-eq var (union-geneqv geneqv (cdr (assoc-eq var alist)) wrld)
                alist))">extend-geneqv-alist</a> term geneqv alist wrld))
      ((<a class="sym-link system" href="axioms.html#def-fquotep" data-sym="FQUOTEP">fquotep</a> term) alist)
      ((<a class="sym-link system" href="basis-b.html#def-flambda-applicationp" data-sym="FLAMBDA-APPLICATIONP">flambda-applicationp</a> term) (covered-geneqv-alist-lst (<a class="sym-link system" href="axioms.html#def-fargs" data-sym="FARGS">fargs</a> term)
          nil
          <span class="number">1</span>
          (<a class="sym-link system" href="rewrite.html#def-geneqv-lst" data-sym="GENEQV-LST">geneqv-lst</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term) geneqv nil wrld)
          (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term)
          geneqv
          nil
          nil
          alist
          ens
          wrld))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (deep-pequiv-lst shallow-pequiv-lst)
          (<a class="sym-link system" href="rewrite.html#def-pequivs-for-rewrite-args" data-sym="PEQUIVS-FOR-REWRITE-ARGS">pequivs-for-rewrite-args</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term)
            geneqv
            pequiv-info
            wrld
            ens)
          (covered-geneqv-alist-lst (<a class="sym-link system" href="axioms.html#def-fargs" data-sym="FARGS">fargs</a> term)
            nil
            <span class="number">1</span>
            (<a class="sym-link system" href="rewrite.html#def-geneqv-lst" data-sym="GENEQV-LST">geneqv-lst</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term) geneqv nil wrld)
            (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term)
            geneqv
            deep-pequiv-lst
            shallow-pequiv-lst
            alist
            ens
            wrld)))))
  (<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> covered-geneqv-alist-lst
    (<a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a> args-rev
      bkptr
      <a class="sym-link system" href="rewrite.html#def-geneqv-lst" data-sym="GENEQV-LST">geneqv-lst</a>
      parent-fn
      parent-geneqv
      deep-pequiv-lst
      shallow-pequiv-lst
      alist
      ens
      wrld)
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>) alist)
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (child-geneqv child-pequiv-info)
          (<a class="sym-link system" href="rewrite.html#def-geneqv-and-pequiv-info-for-rewrite" data-sym="GENEQV-AND-PEQUIV-INFO-FOR-REWRITE">geneqv-and-pequiv-info-for-rewrite</a> parent-fn
            bkptr
            args-rev
            <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>
            nil
            parent-geneqv
            (car <a class="sym-link system" href="rewrite.html#def-geneqv-lst" data-sym="GENEQV-LST">geneqv-lst</a>)
            deep-pequiv-lst
            shallow-pequiv-lst
            wrld)
          (covered-geneqv-alist-lst (cdr <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>)
            (cons (car <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>) args-rev)
            (<a class="sym-link system" href="axioms.html#def-1_2B" data-sym="1+">1+</a> bkptr)
            (cdr <a class="sym-link system" href="rewrite.html#def-geneqv-lst" data-sym="GENEQV-LST">geneqv-lst</a>)
            parent-fn
            parent-geneqv
            deep-pequiv-lst
            shallow-pequiv-lst
            (<a class="sym-link local-def" href="#def-covered-geneqv-alist" data-sym="COVERED-GENEQV-ALIST" title="(mutual-recursion
 (defun covered-geneqv-alist (term geneqv pequiv-info alist ens wrld)
   (cond ((variablep term) (extend-geneqv-alist term geneqv alist wrld))
         ((fquotep term) alist)
         ((flambda-applicationp term)
...">covered-geneqv-alist</a> (car <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>)
              child-geneqv
              child-pequiv-info
              alist
              ens
              wrld)
            ens
            wrld))))))</pre>
  </div>

<div class="form-block function" id="def-uncovered-equivs" data-defines="UNCOVERED-EQUIVS" data-references="CONS,GENEQV-REFINEMENTP,CDR,RST,CAR,CONGRUENCE-RULE,ACCESS,EQUIV,LET,T,ENDP,COND,WRLD,COVERED-GENEQV,GENEQV,DEFUN" data-used-by="UNCOVERED-EQUIVS-ALIST" data-part-name="UNCOVERED-EQUIVS" data-part-args="WRLD,COVERED-GENEQV,GENEQV" data-part-body="CONS,GENEQV-REFINEMENTP,WRLD,COVERED-GENEQV,CDR,UNCOVERED-EQUIVS,RST,CAR,CONGRUENCE-RULE,ACCESS,EQUIV,LET,T,GENEQV,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="UNCOVERED-EQUIVS">uncovered-equivs</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-uncovered-equivs" data-sym="UNCOVERED-EQUIVS" title="(defun uncovered-equivs (geneqv covered-geneqv wrld)
  (cond ((endp geneqv) nil)
        (t
         (let ((equiv (access congruence-rule (car geneqv) :equiv))
               (rst (uncovered-equivs (cdr geneqv) covered-geneqv wrld)))
...">uncovered-equivs</a>
  (geneqv covered-geneqv wrld)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> geneqv) nil)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((equiv (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> congruence-rule (car geneqv) <span class="keyword">:equiv</span>)) (rst (<a class="sym-link local-def" href="#def-uncovered-equivs" data-sym="UNCOVERED-EQUIVS" title="(defun uncovered-equivs (geneqv covered-geneqv wrld)
  (cond ((endp geneqv) nil)
        (t
         (let ((equiv (access congruence-rule (car geneqv) :equiv))
               (rst (uncovered-equivs (cdr geneqv) covered-geneqv wrld)))
...">uncovered-equivs</a> (cdr geneqv) covered-geneqv wrld)))
        (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="rewrite.html#def-geneqv-refinementp" data-sym="GENEQV-REFINEMENTP">geneqv-refinementp</a> equiv covered-geneqv wrld) rst)
          (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (cons equiv rst)))))))</pre>
  </div>

<div class="form-block mutual-recursion" id="def-uncovered-equivs-alist" data-defines="UNCOVERED-EQUIVS-ALIST" data-references="CONS,CAR,GENEQV-AND-PEQUIV-INFO-FOR-REWRITE,CHILD-PEQUIV-INFO,CHILD-GENEQV,ENDP,OBJ-NOT-?-LST,PARENT-GENEQV,PARENT-FN,BKPTR,ARGS-REV,ARGS,PEQUIVS-FOR-REWRITE-ARGS,SHALLOW-PEQUIV-LST,DEEP-PEQUIV-LST,MV-LET,LIST,IF,GENEQV-LST,FARGS,UNCOVERED-EQUIVS-ALIST-LST,FLAMBDA-APPLICATIONP,DOUBLE-REWRITE,QUOTE,FFN-SYMB,EQ,FQUOTEP,OR,1+,UNION-EQ,PUT-ASSOC-EQ,UNCOVERED-EQUIVS,CDR,COVERED-GENEQV,LET*,T,*GENEQV-IFF*,EQUAL,AND,EXTEND-GENEQV-ALIST,MV,NULL,ASSOC-EQ,BINDING,LET,VARIABLEP,COND,WRLD,ENS,ACC-COUNTS,ACC-EQUIVS,OBJ-NOT-?,VAR-GENEQV-ALIST0,VAR-GENEQV-ALIST,PEQUIV-INFO,GENEQV,TERM,DEFUN,MUTUAL-RECURSION" data-used-by="DOUBLE-REWRITE-OPPORTUNITIES" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="UNCOVERED-EQUIVS-ALIST">uncovered-equivs-alist</span><span class="form-type">mutual-recursion</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-mutual-recursion" data-sym="MUTUAL-RECURSION">mutual-recursion</a> (<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-uncovered-equivs-alist" data-sym="UNCOVERED-EQUIVS-ALIST" title="(mutual-recursion
 (defun uncovered-equivs-alist
        (term geneqv pequiv-info var-geneqv-alist var-geneqv-alist0 obj-not-?
         acc-equivs acc-counts ens wrld)
   (cond
...">uncovered-equivs-alist</a>
    (term geneqv
      pequiv-info
      var-geneqv-alist
      var-geneqv-alist0
      obj-not-?
      acc-equivs
      acc-counts
      ens
      wrld)
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> term) (let ((binding (<a class="sym-link system" href="axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a> term var-geneqv-alist0)))
          (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> binding) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> acc-equivs
                acc-counts
                (<a class="sym-link local-def" href="#def-extend-geneqv-alist" data-sym="EXTEND-GENEQV-ALIST" title="(defun extend-geneqv-alist (var geneqv alist wrld)
  (put-assoc-eq var (union-geneqv geneqv (cdr (assoc-eq var alist)) wrld)
                alist))">extend-geneqv-alist</a> term geneqv var-geneqv-alist wrld)))
            ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> obj-not-? (equal geneqv <a class="sym-link system" href="rewrite.html#def-_2Ageneqv-iff_2A" data-sym="*GENEQV-IFF*">*geneqv-iff*</a>)) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> acc-equivs acc-counts var-geneqv-alist))
            (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((covered-geneqv (cdr binding)) (<a class="sym-link local-def" href="#def-uncovered-equivs" data-sym="UNCOVERED-EQUIVS" title="(defun uncovered-equivs (geneqv covered-geneqv wrld)
  (cond ((endp geneqv) nil)
        (t
         (let ((equiv (access congruence-rule (car geneqv) :equiv))
               (rst (uncovered-equivs (cdr geneqv) covered-geneqv wrld)))
...">uncovered-equivs</a> (<a class="sym-link local-def" href="#def-uncovered-equivs" data-sym="UNCOVERED-EQUIVS" title="(defun uncovered-equivs (geneqv covered-geneqv wrld)
  (cond ((endp geneqv) nil)
        (t
         (let ((equiv (access congruence-rule (car geneqv) :equiv))
               (rst (uncovered-equivs (cdr geneqv) covered-geneqv wrld)))
...">uncovered-equivs</a> geneqv covered-geneqv wrld)))
                (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (<a class="sym-link local-def" href="#def-uncovered-equivs" data-sym="UNCOVERED-EQUIVS" title="(defun uncovered-equivs (geneqv covered-geneqv wrld)
  (cond ((endp geneqv) nil)
        (t
         (let ((equiv (access congruence-rule (car geneqv) :equiv))
               (rst (uncovered-equivs (cdr geneqv) covered-geneqv wrld)))
...">uncovered-equivs</a> (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> (<a class="sym-link system" href="axioms.html#def-put-assoc-eq" data-sym="PUT-ASSOC-EQ">put-assoc-eq</a> term
                        (<a class="sym-link system" href="axioms.html#def-union-eq" data-sym="UNION-EQ">union-eq</a> <a class="sym-link local-def" href="#def-uncovered-equivs" data-sym="UNCOVERED-EQUIVS" title="(defun uncovered-equivs (geneqv covered-geneqv wrld)
  (cond ((endp geneqv) nil)
        (t
         (let ((equiv (access congruence-rule (car geneqv) :equiv))
               (rst (uncovered-equivs (cdr geneqv) covered-geneqv wrld)))
...">uncovered-equivs</a> (cdr (<a class="sym-link system" href="axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a> term acc-equivs)))
                        acc-equivs)
                      (<a class="sym-link system" href="axioms.html#def-put-assoc-eq" data-sym="PUT-ASSOC-EQ">put-assoc-eq</a> term
                        (<a class="sym-link system" href="axioms.html#def-1_2B" data-sym="1+">1+</a> (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (cdr (<a class="sym-link system" href="axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a> term acc-counts)) <span class="number">0</span>))
                        acc-counts)
                      var-geneqv-alist))
                  (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> acc-equivs acc-counts var-geneqv-alist))))))))
      ((<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-fquotep" data-sym="FQUOTEP">fquotep</a> term) (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term) '<a class="sym-link system" href="axioms.html#def-double-rewrite" data-sym="DOUBLE-REWRITE">double-rewrite</a>)) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> acc-equivs acc-counts var-geneqv-alist))
      ((<a class="sym-link system" href="basis-b.html#def-flambda-applicationp" data-sym="FLAMBDA-APPLICATIONP">flambda-applicationp</a> term) (uncovered-equivs-alist-lst (<a class="sym-link system" href="axioms.html#def-fargs" data-sym="FARGS">fargs</a> term)
          nil
          <span class="number">1</span>
          (<a class="sym-link system" href="rewrite.html#def-geneqv-lst" data-sym="GENEQV-LST">geneqv-lst</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term) geneqv nil wrld)
          (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term)
          geneqv
          nil
          nil
          var-geneqv-alist
          var-geneqv-alist0
          (if (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> obj-not-? (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term) 'if))
            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> nil <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)
            nil)
          acc-equivs
          acc-counts
          ens
          wrld))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (deep-pequiv-lst shallow-pequiv-lst)
          (<a class="sym-link system" href="rewrite.html#def-pequivs-for-rewrite-args" data-sym="PEQUIVS-FOR-REWRITE-ARGS">pequivs-for-rewrite-args</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term)
            geneqv
            pequiv-info
            wrld
            ens)
          (uncovered-equivs-alist-lst (<a class="sym-link system" href="axioms.html#def-fargs" data-sym="FARGS">fargs</a> term)
            nil
            <span class="number">1</span>
            (<a class="sym-link system" href="rewrite.html#def-geneqv-lst" data-sym="GENEQV-LST">geneqv-lst</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term) geneqv nil wrld)
            (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term)
            geneqv
            deep-pequiv-lst
            shallow-pequiv-lst
            var-geneqv-alist
            var-geneqv-alist0
            (if (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> obj-not-? (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term) 'if))
              (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> nil <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)
              nil)
            acc-equivs
            acc-counts
            ens
            wrld)))))
  (<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> uncovered-equivs-alist-lst
    (<a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a> args-rev
      bkptr
      <a class="sym-link system" href="rewrite.html#def-geneqv-lst" data-sym="GENEQV-LST">geneqv-lst</a>
      parent-fn
      parent-geneqv
      deep-pequiv-lst
      shallow-pequiv-lst
      var-geneqv-alist
      var-geneqv-alist0
      obj-not-?-lst
      acc-equivs
      acc-counts
      ens
      wrld)
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> acc-equivs acc-counts var-geneqv-alist))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (child-geneqv child-pequiv-info)
          (<a class="sym-link system" href="rewrite.html#def-geneqv-and-pequiv-info-for-rewrite" data-sym="GENEQV-AND-PEQUIV-INFO-FOR-REWRITE">geneqv-and-pequiv-info-for-rewrite</a> parent-fn
            bkptr
            args-rev
            <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>
            nil
            parent-geneqv
            (car <a class="sym-link system" href="rewrite.html#def-geneqv-lst" data-sym="GENEQV-LST">geneqv-lst</a>)
            deep-pequiv-lst
            shallow-pequiv-lst
            wrld)
          (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (acc-equivs acc-counts var-geneqv-alist)
            (<a class="sym-link local-def" href="#def-uncovered-equivs-alist" data-sym="UNCOVERED-EQUIVS-ALIST" title="(mutual-recursion
 (defun uncovered-equivs-alist
        (term geneqv pequiv-info var-geneqv-alist var-geneqv-alist0 obj-not-?
         acc-equivs acc-counts ens wrld)
   (cond
...">uncovered-equivs-alist</a> (car <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>)
              child-geneqv
              child-pequiv-info
              var-geneqv-alist
              var-geneqv-alist0
              (car obj-not-?-lst)
              acc-equivs
              acc-counts
              ens
              wrld)
            (uncovered-equivs-alist-lst (cdr <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>)
              (cons (car <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>) args-rev)
              (<a class="sym-link system" href="axioms.html#def-1_2B" data-sym="1+">1+</a> bkptr)
              (cdr <a class="sym-link system" href="rewrite.html#def-geneqv-lst" data-sym="GENEQV-LST">geneqv-lst</a>)
              parent-fn
              parent-geneqv
              deep-pequiv-lst
              shallow-pequiv-lst
              var-geneqv-alist
              var-geneqv-alist0
              (cdr obj-not-?-lst)
              acc-equivs
              acc-counts
              ens
              wrld)))))))</pre>
  </div>

<div class="form-block function" id="def-double-rewrite-opportunities" data-defines="DOUBLE-REWRITE-OPPORTUNITIES" data-references="MSG,CONS,CDR-RESULT,EXTEND-GENEQV-ALIST,VARIABLEP,ASSERT$,COVERED-GENEQV-ALIST,CDR,1+,*GENEQV-IFF*,GENEQV-LST,CADR,NEW-GENEQV,DOUBLE-REWRITE,QUOTE,FFN-SYMB-P,TERM,TERM0,VAR,FFN-SYMB,EQUIV,LET*,FARGN,HYP,LET,CAR,BINDING-HYP-P,BIND-FLG,FORCEP,T,LIST*,LIST,IF,IGNORE,DECLARE,UNCOVERED-EQUIVS-ALIST,VAR-COUNTS,VAR-EQUIVS-ALIST,MV-LET,ENDP,COND,WRLD,ENS,FINAL-GENEQV,FINAL-LOCATION,FINAL-TERM,VAR-GENEQV-ALIST,HYPS,HYP-INDEX,DEFUN" data-used-by="SHOW-DOUBLE-REWRITE-OPPORTUNITIES-LINEAR,CHK-REWRITE-RULE-WARNINGS" data-part-name="DOUBLE-REWRITE-OPPORTUNITIES" data-part-args="WRLD,ENS,FINAL-GENEQV,FINAL-LOCATION,FINAL-TERM,VAR-GENEQV-ALIST,HYPS,HYP-INDEX" data-part-body="MSG,CONS,CDR-RESULT,EXTEND-GENEQV-ALIST,VARIABLEP,ASSERT$,COVERED-GENEQV-ALIST,CDR,HYP-INDEX,1+,DOUBLE-REWRITE-OPPORTUNITIES,*GENEQV-IFF*,GENEQV-LST,CADR,NEW-GENEQV,DOUBLE-REWRITE,QUOTE,FFN-SYMB-P,TERM,TERM0,VAR,FFN-SYMB,EQUIV,LET*,FARGN,HYP,LET,CAR,BINDING-HYP-P,BIND-FLG,FORCEP,T,FINAL-LOCATION,LIST*,LIST,IF,IGNORE,DECLARE,WRLD,ENS,FINAL-GENEQV,FINAL-TERM,UNCOVERED-EQUIVS-ALIST,VAR-GENEQV-ALIST,VAR-COUNTS,VAR-EQUIVS-ALIST,MV-LET,HYPS,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DOUBLE-REWRITE-OPPORTUNITIES">double-rewrite-opportunities</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-double-rewrite-opportunities" data-sym="DOUBLE-REWRITE-OPPORTUNITIES" title="(defun double-rewrite-opportunities
       (hyp-index hyps var-geneqv-alist final-term final-location final-geneqv
        ens wrld)
  (cond
   ((endp hyps)
...">double-rewrite-opportunities</a>
  (hyp-index hyps
    var-geneqv-alist
    final-term
    final-location
    final-geneqv
    ens
    wrld)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> hyps) (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (var-equivs-alist <a class="sym-link system" href="rewrite.html#def-var-counts" data-sym="VAR-COUNTS">var-counts</a> var-geneqv-alist)
        (<a class="sym-link local-def" href="#def-uncovered-equivs-alist" data-sym="UNCOVERED-EQUIVS-ALIST" title="(mutual-recursion
 (defun uncovered-equivs-alist
        (term geneqv pequiv-info var-geneqv-alist var-geneqv-alist0 obj-not-?
         acc-equivs acc-counts ens wrld)
   (cond
...">uncovered-equivs-alist</a> final-term
          final-geneqv
          nil
          var-geneqv-alist
          var-geneqv-alist
          nil
          nil
          nil
          ens
          wrld)
        (declare (ignore var-geneqv-alist))
        (if var-equivs-alist
          (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (<a class="sym-link system" href="axioms.html#def-list_2A" data-sym="LIST*">list*</a> final-location var-equivs-alist <a class="sym-link system" href="rewrite.html#def-var-counts" data-sym="VAR-COUNTS">var-counts</a>))
          nil)))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (forcep bind-flg)
        (binding-hyp-p (car hyps) var-geneqv-alist wrld)
        (let ((hyp (if forcep
               (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> (car hyps) <span class="number">1</span>)
               (car hyps))))
          (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (bind-flg (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((equiv (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> hyp)) (var (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> hyp <span class="number">1</span>))
                  (term0 (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> hyp <span class="number">2</span>))
                  (term (if (<a class="sym-link system" href="basis-b.html#def-ffn-symb-p" data-sym="FFN-SYMB-P">ffn-symb-p</a> term0 '<a class="sym-link system" href="axioms.html#def-double-rewrite" data-sym="DOUBLE-REWRITE">double-rewrite</a>)
                      (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> term0 <span class="number">1</span>)
                      term0))
                  (new-geneqv (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="rewrite.html#def-geneqv-lst" data-sym="GENEQV-LST">geneqv-lst</a> equiv <a class="sym-link system" href="rewrite.html#def-_2Ageneqv-iff_2A" data-sym="*GENEQV-IFF*">*geneqv-iff*</a> nil wrld))))
                (<a class="sym-link local-def" href="#def-double-rewrite-opportunities" data-sym="DOUBLE-REWRITE-OPPORTUNITIES" title="(defun double-rewrite-opportunities
       (hyp-index hyps var-geneqv-alist final-term final-location final-geneqv
        ens wrld)
  (cond
   ((endp hyps)
...">double-rewrite-opportunities</a> (<a class="sym-link system" href="axioms.html#def-1_2B" data-sym="1+">1+</a> hyp-index)
                  (cdr hyps)
                  (<a class="sym-link local-def" href="#def-covered-geneqv-alist" data-sym="COVERED-GENEQV-ALIST" title="(mutual-recursion
 (defun covered-geneqv-alist (term geneqv pequiv-info alist ens wrld)
   (cond ((variablep term) (extend-geneqv-alist term geneqv alist wrld))
         ((fquotep term) alist)
         ((flambda-applicationp term)
...">covered-geneqv-alist</a> term
                    new-geneqv
                    nil
                    (<a class="sym-link system" href="axioms.html#def-assert_24" data-sym="ASSERT$">assert$</a> (<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> var)
                      (<a class="sym-link local-def" href="#def-extend-geneqv-alist" data-sym="EXTEND-GENEQV-ALIST" title="(defun extend-geneqv-alist (var geneqv alist wrld)
  (put-assoc-eq var (union-geneqv geneqv (cdr (assoc-eq var alist)) wrld)
                alist))">extend-geneqv-alist</a> var new-geneqv var-geneqv-alist wrld))
                    ens
                    wrld)
                  final-term
                  final-location
                  final-geneqv
                  ens
                  wrld)))
            (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (var-equivs-alist <a class="sym-link system" href="rewrite.html#def-var-counts" data-sym="VAR-COUNTS">var-counts</a> var-geneqv-alist)
                (<a class="sym-link local-def" href="#def-uncovered-equivs-alist" data-sym="UNCOVERED-EQUIVS-ALIST" title="(mutual-recursion
 (defun uncovered-equivs-alist
        (term geneqv pequiv-info var-geneqv-alist var-geneqv-alist0 obj-not-?
         acc-equivs acc-counts ens wrld)
   (cond
...">uncovered-equivs-alist</a> (car hyps)
                  <a class="sym-link system" href="rewrite.html#def-_2Ageneqv-iff_2A" data-sym="*GENEQV-IFF*">*geneqv-iff*</a>
                  nil
                  var-geneqv-alist
                  var-geneqv-alist
                  <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
                  nil
                  nil
                  ens
                  wrld)
                (let ((cdr-result (<a class="sym-link local-def" href="#def-double-rewrite-opportunities" data-sym="DOUBLE-REWRITE-OPPORTUNITIES" title="(defun double-rewrite-opportunities
       (hyp-index hyps var-geneqv-alist final-term final-location final-geneqv
        ens wrld)
  (cond
   ((endp hyps)
...">double-rewrite-opportunities</a> (<a class="sym-link system" href="axioms.html#def-1_2B" data-sym="1+">1+</a> hyp-index)
                       (cdr hyps)
                       var-geneqv-alist
                       final-term
                       final-location
                       final-geneqv
                       ens
                       wrld)))
                  (if var-equivs-alist
                    (cons (<a class="sym-link system" href="axioms.html#def-list_2A" data-sym="LIST*">list*</a> (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"the ~n0 hypothesis"</span> (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> hyp-index))
                        var-equivs-alist
                        <a class="sym-link system" href="rewrite.html#def-var-counts" data-sym="VAR-COUNTS">var-counts</a>)
                      cdr-result)
                    cdr-result))))))))))</pre>
  </div>

<div class="form-block function" id="def-show-double-rewrite-opportunities1" data-defines="SHOW-DOUBLE-REWRITE-OPPORTUNITIES1" data-references="QUOTE,LIST,EQL,IF,CDAR,DOUBLE-REWRITE,QUASIQUOTE,WARNING$,CDR,ASSERT$,ASSOC-EQ,PAIR,LET,COUNT,CAAR,VAR,LET*,PPROGN,T,ENDP,COND,STATE,CTX,MAX-TERM-MSG,NAME,TOKEN,VAR-COUNT-ALIST,VAR-EQUIVS-ALIST,LOCATION,DEFUN" data-used-by="SHOW-DOUBLE-REWRITE-OPPORTUNITIES" data-part-name="SHOW-DOUBLE-REWRITE-OPPORTUNITIES1" data-part-args="STATE,CTX,MAX-TERM-MSG,NAME,TOKEN,VAR-COUNT-ALIST,VAR-EQUIVS-ALIST,LOCATION" data-part-body="SHOW-DOUBLE-REWRITE-OPPORTUNITIES1,QUOTE,LIST,LOCATION,EQL,IF,CDAR,MAX-TERM-MSG,NAME,TOKEN,DOUBLE-REWRITE,QUASIQUOTE,CTX,WARNING$,CDR,ASSERT$,VAR-COUNT-ALIST,ASSOC-EQ,PAIR,LET,COUNT,CAAR,VAR,LET*,PPROGN,T,STATE,VAR-EQUIVS-ALIST,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="SHOW-DOUBLE-REWRITE-OPPORTUNITIES1">show-double-rewrite-opportunities1</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-show-double-rewrite-opportunities1" data-sym="SHOW-DOUBLE-REWRITE-OPPORTUNITIES1" title="(defun show-double-rewrite-opportunities1
       (location var-equivs-alist var-count-alist token name max-term-msg ctx
        state)
  (cond ((endp var-equivs-alist) state)
        (t
...">show-double-rewrite-opportunities1</a>
  (location var-equivs-alist
    var-count-alist
    token
    name
    max-term-msg
    ctx
    state)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> var-equivs-alist) state)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((var (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> var-equivs-alist)) (<a class="sym-link system" href="axioms.html#def-count" data-sym="COUNT">count</a> (let ((pair (<a class="sym-link system" href="axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a> var var-count-alist)))
                (<a class="sym-link system" href="axioms.html#def-assert_24" data-sym="ASSERT$">assert$</a> pair (cdr pair)))))
          (<a class="sym-link system" href="axioms.html#def-warning_24" data-sym="WARNING$">warning$</a> ctx
            (<span class="string">"Double-rewrite"</span>)
            `(<span class="string">"In a ~x0 rule generated from ~x1~@2, ~
                                  equivalence relation~#3~[ ~&amp;3 is~/s ~&amp;3 ~
                                  are~] maintained at ~n4 problematic ~
                                  occurrence~#5~[~/s~] of variable ~x6 in ~
                                  ~@7, but not at any binding occurrence of ~
                                  ~x6.  Consider replacing ~#5~[that ~
                                  occurrence~/those ~n4 occurrences~] of ~x6 ~
                                  in ~@7 with ~x8.  See :doc double-rewrite ~
                                  for more information on this issue."</span> (<span class="keyword">:doc</span> <a class="sym-link system" href="axioms.html#def-double-rewrite" data-sym="DOUBLE-REWRITE">double-rewrite</a>)
              (<span class="keyword">:equivalence-relations</span> ,(CDAR VAR-EQUIVS-ALIST))
              (<span class="keyword">:location</span> ,LOCATION)
              ,@(AND (NOT (EQUAL MAX-TERM-MSG &quot;&quot;)) `((:MAX-TERM-MSG ,MAX-TERM-MSG)))
              (<span class="keyword">:new-rule</span> ,NAME)
              (<span class="keyword">:number-of-problematic-occurrences</span> ,COUNT)
              (<span class="keyword">:rule-class</span> ,TOKEN)
              (<span class="keyword">:variable</span> ,VAR))
            token
            name
            max-term-msg
            (<a class="sym-link system" href="axioms.html#def-cdar" data-sym="CDAR">cdar</a> var-equivs-alist)
            <a class="sym-link system" href="axioms.html#def-count" data-sym="COUNT">count</a>
            (if (<a class="sym-link system" href="axioms.html#def-eql" data-sym="EQL">eql</a> <a class="sym-link system" href="axioms.html#def-count" data-sym="COUNT">count</a> <span class="number">1</span>)
              <span class="number">0</span>
              <span class="number">1</span>)
            var
            location
            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> '<a class="sym-link system" href="axioms.html#def-double-rewrite" data-sym="DOUBLE-REWRITE">double-rewrite</a> var)))
        (<a class="sym-link local-def" href="#def-show-double-rewrite-opportunities1" data-sym="SHOW-DOUBLE-REWRITE-OPPORTUNITIES1" title="(defun show-double-rewrite-opportunities1
       (location var-equivs-alist var-count-alist token name max-term-msg ctx
        state)
  (cond ((endp var-equivs-alist) state)
        (t
...">show-double-rewrite-opportunities1</a> location
          (cdr var-equivs-alist)
          var-count-alist
          token
          name
          max-term-msg
          ctx
          state)))))</pre>
  </div>

<div class="form-block function" id="def-show-double-rewrite-opportunities" data-defines="SHOW-DOUBLE-REWRITE-OPPORTUNITIES" data-references="CDR,CDDAR,CADAR,CAAR,SHOW-DOUBLE-REWRITE-OPPORTUNITIES1,PPROGN,T,ENDP,COND,STATE,CTX,MAX-TERM-MSG,NAME,TOKEN,HYP-VAR-EQUIVS-COUNTS-ALIST-PAIRS,DEFUN" data-used-by="SHOW-DOUBLE-REWRITE-OPPORTUNITIES-LINEAR,CHK-REWRITE-RULE-WARNINGS" data-part-name="SHOW-DOUBLE-REWRITE-OPPORTUNITIES" data-part-args="STATE,CTX,MAX-TERM-MSG,NAME,TOKEN,HYP-VAR-EQUIVS-COUNTS-ALIST-PAIRS" data-part-body="CDR,SHOW-DOUBLE-REWRITE-OPPORTUNITIES,CTX,MAX-TERM-MSG,NAME,TOKEN,CDDAR,CADAR,CAAR,SHOW-DOUBLE-REWRITE-OPPORTUNITIES1,PPROGN,T,STATE,HYP-VAR-EQUIVS-COUNTS-ALIST-PAIRS,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="SHOW-DOUBLE-REWRITE-OPPORTUNITIES">show-double-rewrite-opportunities</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-show-double-rewrite-opportunities" data-sym="SHOW-DOUBLE-REWRITE-OPPORTUNITIES" title="(defun show-double-rewrite-opportunities
       (hyp-var-equivs-counts-alist-pairs token name max-term-msg ctx state)
  (cond ((endp hyp-var-equivs-counts-alist-pairs) state)
        (t
         (pprogn
...">show-double-rewrite-opportunities</a>
  (hyp-var-equivs-counts-alist-pairs token
    name
    max-term-msg
    ctx
    state)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> hyp-var-equivs-counts-alist-pairs) state)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link local-def" href="#def-show-double-rewrite-opportunities1" data-sym="SHOW-DOUBLE-REWRITE-OPPORTUNITIES1" title="(defun show-double-rewrite-opportunities1
       (location var-equivs-alist var-count-alist token name max-term-msg ctx
        state)
  (cond ((endp var-equivs-alist) state)
        (t
...">show-double-rewrite-opportunities1</a> (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> hyp-var-equivs-counts-alist-pairs)
          (<a class="sym-link system" href="axioms.html#def-cadar" data-sym="CADAR">cadar</a> hyp-var-equivs-counts-alist-pairs)
          (<a class="sym-link system" href="axioms.html#def-cddar" data-sym="CDDAR">cddar</a> hyp-var-equivs-counts-alist-pairs)
          token
          name
          max-term-msg
          ctx
          state)
        (<a class="sym-link local-def" href="#def-show-double-rewrite-opportunities" data-sym="SHOW-DOUBLE-REWRITE-OPPORTUNITIES" title="(defun show-double-rewrite-opportunities
       (hyp-var-equivs-counts-alist-pairs token name max-term-msg ctx state)
  (cond ((endp hyp-var-equivs-counts-alist-pairs) state)
        (t
         (pprogn
...">show-double-rewrite-opportunities</a> (cdr hyp-var-equivs-counts-alist-pairs)
          token
          name
          max-term-msg
          ctx
          state)))))</pre>
  </div>

<div class="form-block function" id="def-irrelevant-loop-stopper-pairs" data-defines="IRRELEVANT-LOOP-STOPPER-PAIRS" data-references="CAR,CONS,CDR,CADAR,CAAR,MEMBER-EQ,AND,IF,VARS,PAIRS,DEFUN" data-used-by="CHK-REWRITE-RULE-WARNINGS" data-part-name="IRRELEVANT-LOOP-STOPPER-PAIRS" data-part-args="VARS,PAIRS" data-part-body="CAR,CONS,CDR,IRRELEVANT-LOOP-STOPPER-PAIRS,CADAR,VARS,CAAR,MEMBER-EQ,AND,PAIRS,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="IRRELEVANT-LOOP-STOPPER-PAIRS">irrelevant-loop-stopper-pairs</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-irrelevant-loop-stopper-pairs" data-sym="IRRELEVANT-LOOP-STOPPER-PAIRS" title="(defun irrelevant-loop-stopper-pairs (pairs vars)
  (if pairs
      (if (and (member-eq (caar pairs) vars) (member-eq (cadar pairs) vars))
          (irrelevant-loop-stopper-pairs (cdr pairs) vars)
          (cons (car pairs) (irrelevant-loop-stopper-pairs (cdr pairs) vars)))">irrelevant-loop-stopper-pairs</a>
  (pairs vars)
  (if pairs
    (if (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> pairs) vars)
        (<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> (<a class="sym-link system" href="axioms.html#def-cadar" data-sym="CADAR">cadar</a> pairs) vars))
      (<a class="sym-link local-def" href="#def-irrelevant-loop-stopper-pairs" data-sym="IRRELEVANT-LOOP-STOPPER-PAIRS" title="(defun irrelevant-loop-stopper-pairs (pairs vars)
  (if pairs
      (if (and (member-eq (caar pairs) vars) (member-eq (cadar pairs) vars))
          (irrelevant-loop-stopper-pairs (cdr pairs) vars)
          (cons (car pairs) (irrelevant-loop-stopper-pairs (cdr pairs) vars)))">irrelevant-loop-stopper-pairs</a> (cdr pairs) vars)
      (cons (car pairs)
        (<a class="sym-link local-def" href="#def-irrelevant-loop-stopper-pairs" data-sym="IRRELEVANT-LOOP-STOPPER-PAIRS" title="(defun irrelevant-loop-stopper-pairs (pairs vars)
  (if pairs
      (if (and (member-eq (caar pairs) vars) (member-eq (cadar pairs) vars))
          (irrelevant-loop-stopper-pairs (cdr pairs) vars)
          (cons (car pairs) (irrelevant-loop-stopper-pairs (cdr pairs) vars)))">irrelevant-loop-stopper-pairs</a> (cdr pairs) vars)))
    nil))</pre>
  </div>

<div class="form-block function" id="def-non-rec-def-rules-msg-1" data-defines="NON-REC-DEF-RULES-MSG-1" data-references="CAAR,MSG,CONS,T,CDR,CDAR,NULL,ENDP,COND,ALIST,DEFUN" data-used-by="NON-REC-DEF-RULES-MSG" data-part-name="NON-REC-DEF-RULES-MSG-1" data-part-args="ALIST" data-part-body="CAAR,MSG,CONS,T,CDR,NON-REC-DEF-RULES-MSG-1,CDAR,NULL,ALIST,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="NON-REC-DEF-RULES-MSG-1">non-rec-def-rules-msg-1</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-non-rec-def-rules-msg-1" data-sym="NON-REC-DEF-RULES-MSG-1" title="(defun non-rec-def-rules-msg-1 (alist)
  (cond ((endp alist) nil)
        ((null (cdar alist)) (non-rec-def-rules-msg-1 (cdr alist)))
        (t
         (cons (msg &quot;~x0 is defined with ~x1&quot; (caar alist) (cdar alist))">non-rec-def-rules-msg-1</a>
  (alist)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> alist) nil)
    ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> (<a class="sym-link system" href="axioms.html#def-cdar" data-sym="CDAR">cdar</a> alist)) (<a class="sym-link local-def" href="#def-non-rec-def-rules-msg-1" data-sym="NON-REC-DEF-RULES-MSG-1" title="(defun non-rec-def-rules-msg-1 (alist)
  (cond ((endp alist) nil)
        ((null (cdar alist)) (non-rec-def-rules-msg-1 (cdr alist)))
        (t
         (cons (msg &quot;~x0 is defined with ~x1&quot; (caar alist) (cdar alist))">non-rec-def-rules-msg-1</a> (cdr alist)))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (cons (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"~x0 is defined with ~x1"</span> (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> alist) (<a class="sym-link system" href="axioms.html#def-cdar" data-sym="CDAR">cdar</a> alist))
        (<a class="sym-link local-def" href="#def-non-rec-def-rules-msg-1" data-sym="NON-REC-DEF-RULES-MSG-1" title="(defun non-rec-def-rules-msg-1 (alist)
  (cond ((endp alist) nil)
        ((null (cdar alist)) (non-rec-def-rules-msg-1 (cdr alist)))
        (t
         (cons (msg &quot;~x0 is defined with ~x1&quot; (caar alist) (cdar alist))">non-rec-def-rules-msg-1</a> (cdr alist))))))</pre>
  </div>

<div class="form-block function" id="def-non-rec-def-rules-msg" data-defines="NON-REC-DEF-RULES-MSG" data-references="LIST,MSG,T,NULL,COND,NON-REC-DEF-RULES-MSG-1,LST,LET,ALIST,DEFUN" data-used-by="CHK-ACCEPTABLE-TYPE-PRESCRIPTION-RULE,CHK-TRIGGERS,CHK-ACCEPTABLE-LINEAR-RULE2,CHK-REWRITE-RULE-WARNINGS" data-part-name="NON-REC-DEF-RULES-MSG" data-part-args="ALIST" data-part-body="LIST,MSG,T,NULL,COND,ALIST,NON-REC-DEF-RULES-MSG-1,LST,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="NON-REC-DEF-RULES-MSG">non-rec-def-rules-msg</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-non-rec-def-rules-msg" data-sym="NON-REC-DEF-RULES-MSG" title="(defun non-rec-def-rules-msg (alist)
  (let ((lst (non-rec-def-rules-msg-1 alist)))
    (cond ((null lst) &quot;&quot;)
          (t
           (msg &quot;  (Note that ~*0&quot;">non-rec-def-rules-msg</a>
  (alist)
  (let ((lst (<a class="sym-link local-def" href="#def-non-rec-def-rules-msg-1" data-sym="NON-REC-DEF-RULES-MSG-1" title="(defun non-rec-def-rules-msg-1 (alist)
  (cond ((endp alist) nil)
        ((null (cdar alist)) (non-rec-def-rules-msg-1 (cdr alist)))
        (t
         (cons (msg &quot;~x0 is defined with ~x1&quot; (caar alist) (cdar alist))">non-rec-def-rules-msg-1</a> alist)))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> lst) <span class="string">""</span>)
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"  (Note that ~*0"</span>
          (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="string">"impossible"</span> <span class="string">"~@*.)"</span> <span class="string">"~@* and "</span> <span class="string">"~@*, "</span> lst))))))</pre>
  </div>

<div class="form-block function" id="def-chk-rewrite-rule-warnings" data-defines="CHK-REWRITE-RULE-WARNINGS" data-references="IRRELEVANT-LOOP-STOPPER-PAIRS,BAD-PAIRS,LET,ZERO-ONE-OR-MORE,ALL-VARS1-LST,SET-DIFFERENCE-EQ,CDR,FORCED-HYPS,VALUE,FREE-VARIABLE-ERROR?,TILDE-*-UNTRANSLATE-LST-PHRASE,FREE-VARIABLES,NULL,ER-PROGN,NON-REC-DEF-RULES-MSG,STRIP-CARS,HIDE-LAMBDAS,QUASIQUOTE,WARNING$,SHOW-DOUBLE-REWRITE-OPPORTUNITIES,PPROGN,COVERED-GENEQV-ALIST,DOUBLE-REWRITE-OPPORTUNITIES,GENEQV-LST,CADR,GENEQV,EQUIV,FIND-SUBSUMING-RULE-NAMES,SUBSUMING-RULE-NAMES,LEMMAS,FFN-SYMB,GETPROPC,REWRITE-QUOTED-CONSTANT-RULES,GLOBAL-VAL,IF,FIND-SUBSUMED-RULE-NAMES,SUBSUMED-RULE-NAMES,SUBSUME-CHECK-ENABLED,STRIP-TOP-LEVEL-NOTS-AND-FORCES,NON-RECURSIVE-FNNAMES-ALIST-LST,NON-REC-FNS-INST-HYPS-ALIST,HYPS-THAT-INSTANTIATE-FREE-VARS,INST-HYPS,FREE-VARS-IN-HYPS-CONSIDERING-BIND-FREE,FREE-VARS,RHS-VARS,ALL-VARS,LHS-VARS,NON-RECURSIVE-FNNAMES-ALIST,AND,NON-REC-FNS-LHS-ALIST,WARNING-DISABLED-P,NOT,WARN-NON-REC,LHS,HYPS,T,REWRITE-QUOTED-CONSTANT,DEFINITION,QUOTE,REWRITE-RULE,ACCESS,EQ,COND,TOKEN,LET*,STATE,WRLD,ENS,CTX,RULE,LOOP-STOPPER,MATCH-FREE,NAME,DEFUN" data-used-by="CHK-ACCEPTABLE-DEFINITION-RULE,CHK-ACCEPTABLE-REWRITE-RULE2" data-part-name="CHK-REWRITE-RULE-WARNINGS" data-part-args="STATE,WRLD,ENS,CTX,RULE,LOOP-STOPPER,MATCH-FREE,NAME" data-part-body="LOOP-STOPPER,IRRELEVANT-LOOP-STOPPER-PAIRS,BAD-PAIRS,LET,ZERO-ONE-OR-MORE,ALL-VARS1-LST,SET-DIFFERENCE-EQ,CDR,FORCED-HYPS,VALUE,FREE-VARIABLE-ERROR?,TILDE-*-UNTRANSLATE-LST-PHRASE,FREE-VARIABLES,MATCH-FREE,NULL,ER-PROGN,NON-REC-DEF-RULES-MSG,STRIP-CARS,HIDE-LAMBDAS,QUASIQUOTE,WARNING$,STATE,CTX,NAME,SHOW-DOUBLE-REWRITE-OPPORTUNITIES,PPROGN,COVERED-GENEQV-ALIST,DOUBLE-REWRITE-OPPORTUNITIES,GENEQV-LST,CADR,GENEQV,EQUIV,FIND-SUBSUMING-RULE-NAMES,SUBSUMING-RULE-NAMES,LEMMAS,FFN-SYMB,GETPROPC,REWRITE-QUOTED-CONSTANT-RULES,GLOBAL-VAL,IF,FIND-SUBSUMED-RULE-NAMES,SUBSUMED-RULE-NAMES,SUBSUME-CHECK-ENABLED,STRIP-TOP-LEVEL-NOTS-AND-FORCES,NON-RECURSIVE-FNNAMES-ALIST-LST,NON-REC-FNS-INST-HYPS-ALIST,HYPS-THAT-INSTANTIATE-FREE-VARS,INST-HYPS,FREE-VARS-IN-HYPS-CONSIDERING-BIND-FREE,FREE-VARS,RHS-VARS,ALL-VARS,LHS-VARS,WRLD,ENS,NON-RECURSIVE-FNNAMES-ALIST,AND,NON-REC-FNS-LHS-ALIST,WARNING-DISABLED-P,NOT,WARN-NON-REC,LHS,HYPS,T,REWRITE-QUOTED-CONSTANT,DEFINITION,QUOTE,RULE,REWRITE-RULE,ACCESS,EQ,COND,TOKEN,LET*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CHK-REWRITE-RULE-WARNINGS">chk-rewrite-rule-warnings</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-chk-rewrite-rule-warnings" data-sym="CHK-REWRITE-RULE-WARNINGS" title="(defun chk-rewrite-rule-warnings
       (name match-free loop-stopper rule ctx ens wrld state)
  (let* ((token
          (cond
           ((eq (access rewrite-rule rule :subclass) &#39;definition) :definition)
...">chk-rewrite-rule-warnings</a>
  (name match-free <a class="sym-link local-def" href="#def-loop-stopper" data-sym="LOOP-STOPPER" title="(defun loop-stopper (lhs rhs)
  (mv-let (ans unify-subst) (variantp lhs rhs)
          (cond (ans (loop-stopper1 unify-subst (all-vars lhs) lhs)) (t nil))))">loop-stopper</a> rule ctx ens wrld state)
  (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((token (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> rewrite-rule rule <span class="keyword">:subclass</span>) 'definition) <span class="keyword">:definition</span>)
         ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> rewrite-rule rule <span class="keyword">:subclass</span>)
            'rewrite-quoted-constant) <span class="keyword">:rewrite-quoted-constant</span>)
         (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <span class="keyword">:rewrite</span>))) (hyps (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> rewrite-rule rule <span class="keyword">:hyps</span>))
      (lhs (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> rewrite-rule rule <span class="keyword">:lhs</span>))
      (warn-non-rec (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="basis-a.html#def-warning-disabled-p" data-sym="WARNING-DISABLED-P">warning-disabled-p</a> <span class="string">"Non-rec"</span>)))
      (non-rec-fns-lhs-alist (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> warn-non-rec
          (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> token <span class="keyword">:rewrite-quoted-constant</span>))
          (<a class="sym-link local-def" href="#def-non-recursive-fnnames-alist" data-sym="NON-RECURSIVE-FNNAMES-ALIST" title="(defun non-recursive-fnnames-alist (term ens wrld)
  (reverse (non-recursive-fnnames-alist-rec term ens wrld nil nil)))">non-recursive-fnnames-alist</a> lhs ens wrld)))
      (lhs-vars (<a class="sym-link system" href="axioms.html#def-all-vars" data-sym="ALL-VARS">all-vars</a> lhs))
      (rhs-vars (<a class="sym-link system" href="axioms.html#def-all-vars" data-sym="ALL-VARS">all-vars</a> (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> rewrite-rule rule <span class="keyword">:rhs</span>)))
      (free-vars (<a class="sym-link local-def" href="#def-free-vars-in-hyps-considering-bind-free" data-sym="FREE-VARS-IN-HYPS-CONSIDERING-BIND-FREE" title="(defun free-vars-in-hyps-considering-bind-free (hyps bound-vars wrld)
  (cond ((null hyps) nil)
        (t
         (mv-let (forcep flg)
                 (binding-hyp-p (car hyps) (pairlis$ bound-vars bound-vars)
...">free-vars-in-hyps-considering-bind-free</a> hyps lhs-vars wrld))
      (inst-hyps (<a class="sym-link local-def" href="#def-hyps-that-instantiate-free-vars" data-sym="HYPS-THAT-INSTANTIATE-FREE-VARS" title="(defun hyps-that-instantiate-free-vars (free-vars hyps)
  (cond ((null free-vars) nil)
        ((intersectp-eq free-vars (all-vars (car hyps)))
         (cons (car hyps)
               (hyps-that-instantiate-free-vars
...">hyps-that-instantiate-free-vars</a> free-vars hyps))
      (non-rec-fns-inst-hyps-alist (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> warn-non-rec
          (<a class="sym-link local-def" href="#def-non-recursive-fnnames-alist-lst" data-sym="NON-RECURSIVE-FNNAMES-ALIST-LST" title="(defun non-recursive-fnnames-alist-lst (lst ens wrld)
  (reverse (non-recursive-fnnames-alist-rec-lst lst ens wrld nil nil)))">non-recursive-fnnames-alist-lst</a> (<a class="sym-link local-def" href="#def-strip-top-level-nots-and-forces" data-sym="STRIP-TOP-LEVEL-NOTS-AND-FORCES" title="(defun strip-top-level-nots-and-forces (hyps)
  (cond ((null hyps) nil)
        (t
         (mv-let (not-flg atm)
                 (strip-not
...">strip-top-level-nots-and-forces</a> inst-hyps)
            ens
            wrld)))
      (subsume-check-enabled (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="basis-a.html#def-warning-disabled-p" data-sym="WARNING-DISABLED-P">warning-disabled-p</a> <span class="string">"Subsume"</span>)))
      (subsumed-rule-names (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> subsume-check-enabled
          (<a class="sym-link local-def" href="#def-find-subsumed-rule-names" data-sym="FIND-SUBSUMED-RULE-NAMES" title="(defun find-subsumed-rule-names (lst rule ens wrld)
  (cond ((null lst) nil)
        ((and (enabled-numep (access rewrite-rule (car lst) :nume) ens)
              (not (eq (access rewrite-rule (car lst) :subclass) &#39;meta))
              (not (eq (access rewrite-rule (car lst) :subclass) &#39;definition))
...">find-subsumed-rule-names</a> (if (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> token <span class="keyword">:rewrite-quoted-constant</span>)
              (<a class="sym-link system" href="axioms.html#def-global-val" data-sym="GLOBAL-VAL">global-val</a> 'rewrite-quoted-constant-rules wrld)
              (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> lhs) 'lemmas nil wrld))
            rule
            ens
            wrld)))
      (subsuming-rule-names (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> subsume-check-enabled
          (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> token <span class="keyword">:rewrite-quoted-constant</span>))
          (<a class="sym-link local-def" href="#def-find-subsuming-rule-names" data-sym="FIND-SUBSUMING-RULE-NAMES" title="(defun find-subsuming-rule-names (lst rule ens wrld)
  (cond ((null lst) nil)
        ((and (enabled-numep (access rewrite-rule (car lst) :nume) ens)
              (not (eq (access rewrite-rule (car lst) :subclass) &#39;meta))
              (not (eq (access rewrite-rule (car lst) :subclass) &#39;definition))
...">find-subsuming-rule-names</a> (if (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> token <span class="keyword">:rewrite-quoted-constant</span>)
              (<a class="sym-link system" href="axioms.html#def-global-val" data-sym="GLOBAL-VAL">global-val</a> 'rewrite-quoted-constant-rules wrld)
              (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> lhs) 'lemmas nil wrld))
            rule
            ens
            wrld)))
      (equiv (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> rewrite-rule rule <span class="keyword">:equiv</span>))
      (geneqv (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="rewrite.html#def-geneqv-lst" data-sym="GENEQV-LST">geneqv-lst</a> equiv nil nil wrld)))
      (<a class="sym-link local-def" href="#def-double-rewrite-opportunities" data-sym="DOUBLE-REWRITE-OPPORTUNITIES" title="(defun double-rewrite-opportunities
       (hyp-index hyps var-geneqv-alist final-term final-location final-geneqv
        ens wrld)
  (cond
   ((endp hyps)
...">double-rewrite-opportunities</a> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="basis-a.html#def-warning-disabled-p" data-sym="WARNING-DISABLED-P">warning-disabled-p</a> <span class="string">"Double-rewrite"</span>))
          (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> token <span class="keyword">:rewrite-quoted-constant</span>))
          (<a class="sym-link local-def" href="#def-double-rewrite-opportunities" data-sym="DOUBLE-REWRITE-OPPORTUNITIES" title="(defun double-rewrite-opportunities
       (hyp-index hyps var-geneqv-alist final-term final-location final-geneqv
        ens wrld)
  (cond
   ((endp hyps)
...">double-rewrite-opportunities</a> <span class="number">1</span>
            hyps
            (<a class="sym-link local-def" href="#def-covered-geneqv-alist" data-sym="COVERED-GENEQV-ALIST" title="(mutual-recursion
 (defun covered-geneqv-alist (term geneqv pequiv-info alist ens wrld)
   (cond ((variablep term) (extend-geneqv-alist term geneqv alist wrld))
         ((fquotep term) alist)
         ((flambda-applicationp term)
...">covered-geneqv-alist</a> lhs geneqv nil nil ens wrld)
            (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> rewrite-rule rule <span class="keyword">:rhs</span>)
            <span class="string">"the right-hand side"</span>
            geneqv
            ens
            wrld))))
    (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (<a class="sym-link local-def" href="#def-double-rewrite-opportunities" data-sym="DOUBLE-REWRITE-OPPORTUNITIES" title="(defun double-rewrite-opportunities
       (hyp-index hyps var-geneqv-alist final-term final-location final-geneqv
        ens wrld)
  (cond
   ((endp hyps)
...">double-rewrite-opportunities</a> (<a class="sym-link local-def" href="#def-show-double-rewrite-opportunities" data-sym="SHOW-DOUBLE-REWRITE-OPPORTUNITIES" title="(defun show-double-rewrite-opportunities
       (hyp-var-equivs-counts-alist-pairs token name max-term-msg ctx state)
  (cond ((endp hyp-var-equivs-counts-alist-pairs) state)
        (t
         (pprogn
...">show-double-rewrite-opportunities</a> <a class="sym-link local-def" href="#def-double-rewrite-opportunities" data-sym="DOUBLE-REWRITE-OPPORTUNITIES" title="(defun double-rewrite-opportunities
       (hyp-index hyps var-geneqv-alist final-term final-location final-geneqv
        ens wrld)
  (cond
   ((endp hyps)
...">double-rewrite-opportunities</a>
            token
            name
            <span class="string">""</span>
            ctx
            state))
        (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> state))
      (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (non-rec-fns-lhs-alist (<a class="sym-link system" href="axioms.html#def-warning_24" data-sym="WARNING$">warning$</a> ctx
            <span class="string">"Non-rec"</span>
            `(<span class="string">"A ~x0 rule generated from ~x1 will be triggered only by ~
                    terms containing the function symbol~#2~[ ~&amp;2, which has ~
                    a non-recursive definition.~@3  Unless this definition ~
                    is~/s ~&amp;2, which have non-recursive definitions.~@3  ~
                    Unless these definitions are~] disabled, this rule is ~
                    unlikely ever to be used."</span> (<span class="keyword">:non-recursive-fns-lhs</span> ,(HIDE-LAMBDAS (STRIP-CARS NON-REC-FNS-LHS-ALIST)))
              (<span class="keyword">:name</span> ,NAME)
              (<span class="keyword">:rule-class</span> ,TOKEN))
            token
            name
            (<a class="sym-link local-def" href="#def-hide-lambdas" data-sym="HIDE-LAMBDAS" title="(defun hide-lambdas (lst)
  (cond ((null lst) nil)
        (t
         (cons
          (if (flambdap (car lst))
...">hide-lambdas</a> (<a class="sym-link system" href="axioms.html#def-strip-cars" data-sym="STRIP-CARS">strip-cars</a> non-rec-fns-lhs-alist))
            (<a class="sym-link local-def" href="#def-non-rec-def-rules-msg" data-sym="NON-REC-DEF-RULES-MSG" title="(defun non-rec-def-rules-msg (alist)
  (let ((lst (non-rec-def-rules-msg-1 alist)))
    (cond ((null lst) &quot;&quot;)
          (t
           (msg &quot;  (Note that ~*0&quot;">non-rec-def-rules-msg</a> non-rec-fns-lhs-alist)))
        (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> state))
      (<a class="sym-link system" href="axioms.html#def-er-progn" data-sym="ER-PROGN">er-progn</a> (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> free-vars (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> match-free)) (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link system" href="axioms.html#def-warning_24" data-sym="WARNING$">warning$</a> ctx
                <span class="string">"Free"</span>
                `(<span class="string">"A ~x0 rule generated from ~x1 contains the free ~
                    variable~#2~[ ~&amp;2.  This variable~/s ~&amp;2.  These ~
                    variables~] will be chosen by searching for ~#3~[an ~
                    instance~/instances~] of ~*4 in the context of the term ~
                    being rewritten.  This is generally a severe restriction ~
                    on the applicability of a ~x0 rule.  See :DOC ~
                    free-variables."</span> (<span class="keyword">:doc</span> free-variables)
                  (<span class="keyword">:free-variables</span> ,FREE-VARS)
                  (<span class="keyword">:instantiated-hyps</span> ,(UNTRANSLATE-LST INST-HYPS T WRLD))
                  (<span class="keyword">:name</span> ,NAME)
                  (<span class="keyword">:rule-class</span> ,TOKEN))
                token
                name
                free-vars
                inst-hyps
                (tilde-*-untranslate-lst-phrase inst-hyps nil <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> wrld))
              (<a class="sym-link local-def" href="#def-free-variable-error_3F" data-sym="FREE-VARIABLE-ERROR?" title="(defun free-variable-error? (token name ctx wrld state)
  (if (and (null (match-free-default wrld))
           (f-get-global &#39;match-free-error state))
      (er soft ctx
          &quot;The warning above has caused this error in order to make it clear ~
...">free-variable-error?</a> token name ctx wrld state)))
          (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil)))
        (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> free-vars (<a class="sym-link local-def" href="#def-forced-hyps" data-sym="FORCED-HYPS" title="(defun forced-hyps (lst)
  (cond ((null lst) nil)
        ((and (nvariablep (car lst))
              (or (eq (ffn-symb (car lst)) &#39;force)
                  (eq (ffn-symb (car lst)) &#39;case-split)))
...">forced-hyps</a> inst-hyps)) (<a class="sym-link system" href="axioms.html#def-warning_24" data-sym="WARNING$">warning$</a> ctx
                <span class="string">"Free"</span>
                <span class="string">"For the forced ~#0~[hypothesis~/hypotheses~], ~*1, used ~
                    to instantiate free variables we will search for ~#0~[an ~
                    instance of the argument~/instances of the arguments~] ~
                    rather than ~#0~[an instance~/instances~] of the FORCE or ~
                    CASE-SPLIT ~#0~[term itself~/terms themselves~].  If a ~
                    search fails for such a hypothesis, we will cause a case ~
                    split on the partially instantiated hypothesis.  Note ~
                    that this case split will introduce a ``free variable&#39;&#39; ~
                    into the conjecture.  While sound, this will establish a ~
                    goal almost certain to fail since the restriction ~
                    described by this apparently necessary hypothesis ~
                    constrains a variable not involved in the problem.  To ~
                    highlight this oddity, we will rename the free variables ~
                    in such forced hypotheses by prefixing them with ~
                    ``UNBOUND-FREE-&#39;&#39;.  This is not guaranteed to generate a ~
                    new variable but at least it generates an unusual one.  ~
                    If you see such a variable in a subsequent proof (and did ~
                    not introduce them yourself) you should consider the ~
                    possibility that the free variables of this rewrite rule ~
                    were forced into the conjecture."</span>
                (if (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> (cdr (<a class="sym-link local-def" href="#def-forced-hyps" data-sym="FORCED-HYPS" title="(defun forced-hyps (lst)
  (cond ((null lst) nil)
        ((and (nvariablep (car lst))
              (or (eq (ffn-symb (car lst)) &#39;force)
                  (eq (ffn-symb (car lst)) &#39;case-split)))
...">forced-hyps</a> inst-hyps)))
                  <span class="number">0</span>
                  <span class="number">1</span>)
                (tilde-*-untranslate-lst-phrase (<a class="sym-link local-def" href="#def-forced-hyps" data-sym="FORCED-HYPS" title="(defun forced-hyps (lst)
  (cond ((null lst) nil)
        ((and (nvariablep (car lst))
              (or (eq (ffn-symb (car lst)) &#39;force)
                  (eq (ffn-symb (car lst)) &#39;case-split)))
...">forced-hyps</a> inst-hyps)
                  nil
                  <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
                  wrld)))
            (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> state))
          (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-set-difference-eq" data-sym="SET-DIFFERENCE-EQ">set-difference-eq</a> rhs-vars lhs-vars) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-set-difference-eq" data-sym="SET-DIFFERENCE-EQ">set-difference-eq</a> rhs-vars (all-vars1-lst hyps lhs-vars)) (<a class="sym-link system" href="axioms.html#def-warning_24" data-sym="WARNING$">warning$</a> ctx
                    <span class="string">"Free"</span>
                    <span class="string">"A ~x0 rule generated from ~x1 contains the free ~
                      variable~#2~[~/s~] ~&amp;2 on the right-hand side of the ~
                      rule, which ~#2~[is~/are~] not bound on the left-hand ~
                      side~#3~[~/ or in the hypothesis~/ or in any ~
                      hypothesis~].  This can cause new variables to be ~
                      introduced into the proof, which may surprise you."</span>
                    token
                    name
                    (<a class="sym-link system" href="axioms.html#def-set-difference-eq" data-sym="SET-DIFFERENCE-EQ">set-difference-eq</a> rhs-vars (all-vars1-lst hyps lhs-vars))
                    (<a class="sym-link system" href="basis-a.html#def-zero-one-or-more" data-sym="ZERO-ONE-OR-MORE">zero-one-or-more</a> hyps)))
                (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> state)))
            (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> state))
          (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (non-rec-fns-inst-hyps-alist (<a class="sym-link system" href="axioms.html#def-warning_24" data-sym="WARNING$">warning$</a> ctx
                <span class="string">"Non-rec"</span>
                `(<span class="string">"As noted, we will instantiate the free ~
                      variable~#0~[~/s~], ~&amp;0, of a ~x1 rule generated from ~
                      ~x2, by searching for the ~#3~[hypothesis~/set of ~
                      hypotheses~] shown above.  However, ~#3~[this ~
                      hypothesis mentions~/these hypotheses mention~] the ~
                      function symbol~#4~[ ~&amp;4, which has a non-recursive ~
                      definition.~@5  Unless this definition is disabled, ~
                      that function symbol is~/s ~&amp;4, which have ~
                      non-recursive definitions.~@5  Unless these definitions ~
                      are disabled, those function symbols are~] unlikely to ~
                      occur in the conjecture being proved and hence the ~
                      search for the required ~#3~[hypothesis~/hypotheses~] ~
                      will likely fail."</span> (<span class="keyword">:free-variables</span> ,FREE-VARS)
                  (<span class="keyword">:instantiated-hyps</span> ,INST-HYPS)
                  (<span class="keyword">:non-rec-fns-inst-hyps</span> ,(HIDE-LAMBDAS (STRIP-CARS NON-REC-FNS-INST-HYPS-ALIST)))
                  (<span class="keyword">:name</span> ,NAME)
                  (<span class="keyword">:rule-class</span> ,TOKEN))
                free-vars
                token
                name
                inst-hyps
                (<a class="sym-link local-def" href="#def-hide-lambdas" data-sym="HIDE-LAMBDAS" title="(defun hide-lambdas (lst)
  (cond ((null lst) nil)
        (t
         (cons
          (if (flambdap (car lst))
...">hide-lambdas</a> (<a class="sym-link system" href="axioms.html#def-strip-cars" data-sym="STRIP-CARS">strip-cars</a> non-rec-fns-inst-hyps-alist))
                (<a class="sym-link local-def" href="#def-non-rec-def-rules-msg" data-sym="NON-REC-DEF-RULES-MSG" title="(defun non-rec-def-rules-msg (alist)
  (let ((lst (non-rec-def-rules-msg-1 alist)))
    (cond ((null lst) &quot;&quot;)
          (t
           (msg &quot;  (Note that ~*0&quot;">non-rec-def-rules-msg</a> non-rec-fns-inst-hyps-alist)))
            (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> state))
          (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (subsumed-rule-names (<a class="sym-link system" href="axioms.html#def-warning_24" data-sym="WARNING$">warning$</a> ctx
                (<span class="string">"Subsume"</span>)
                `(<span class="string">"A newly proposed ~x0 rule generated from ~x1 probably ~
                     subsumes the previously added ~x3 rule~#2~[~/s~] ~
                     ~&amp;2, in the sense that the new rule will now probably be ~
                     applied whenever the old rule~#2~[~/s~] would have been."</span> (<span class="keyword">:new-rule</span> ,NAME)
                  (<span class="keyword">:rule-class-new</span> ,TOKEN)
                  (<span class="keyword">:rule-class-old</span> ,(IF (EQ TOKEN :REWRITE-QUOTED-CONSTANT)
     :REWRITE-QUOTED-CONSTANT
     :REWRITE))
                  (<span class="keyword">:subsumed-rules</span> ,SUBSUMED-RULE-NAMES))
                token
                name
                subsumed-rule-names
                (if (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> token <span class="keyword">:rewrite-quoted-constant</span>)
                  <span class="keyword">:rewrite-quoted-constant</span> <span class="keyword">:rewrite</span>)))
            (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> state))
          (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (subsuming-rule-names (<a class="sym-link system" href="axioms.html#def-warning_24" data-sym="WARNING$">warning$</a> ctx
                (<span class="string">"Subsume"</span>)
                `(<span class="string">"The previously added rule~#1~[~/s~] ~&amp;1 ~
                     subsume~#1~[s~/~] a newly proposed ~x0 rule generated ~
                     from ~x2, in the sense that the old rule~#1~[ rewrites a ~
                     more general target~/s rewrite more general targets~].  ~
                     Because the new rule will be tried first, it may ~
                     nonetheless find application."</span> (<span class="keyword">:new-rule</span> ,NAME)
                  (<span class="keyword">:rule-class</span> ,TOKEN)
                  (<span class="keyword">:subsuming-rules</span> ,SUBSUMING-RULE-NAMES))
                token
                subsuming-rule-names
                name))
            (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> state))
          (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="basis-a.html#def-warning-disabled-p" data-sym="WARNING-DISABLED-P">warning-disabled-p</a> <span class="string">"Loop-Stopper"</span>) state)
            (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((bad-pairs (<a class="sym-link local-def" href="#def-irrelevant-loop-stopper-pairs" data-sym="IRRELEVANT-LOOP-STOPPER-PAIRS" title="(defun irrelevant-loop-stopper-pairs (pairs vars)
  (if pairs
      (if (and (member-eq (caar pairs) vars) (member-eq (cadar pairs) vars))
          (irrelevant-loop-stopper-pairs (cdr pairs) vars)
          (cons (car pairs) (irrelevant-loop-stopper-pairs (cdr pairs) vars)))">irrelevant-loop-stopper-pairs</a> <a class="sym-link local-def" href="#def-loop-stopper" data-sym="LOOP-STOPPER" title="(defun loop-stopper (lhs rhs)
  (mv-let (ans unify-subst) (variantp lhs rhs)
          (cond (ans (loop-stopper1 unify-subst (all-vars lhs) lhs)) (t nil))))">loop-stopper</a> lhs-vars)))
                (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (bad-pairs (<a class="sym-link system" href="axioms.html#def-warning_24" data-sym="WARNING$">warning$</a> ctx
                      (<span class="string">"Loop-Stopper"</span>)
                      <span class="string">"When the ~x0 rule generated from ~x1 is created, ~
                          the ~#2~[entry~/entries~] ~&amp;2 from the specified ~
                          :LOOP-STOPPER will be ignored because the two ~
                          specified variables do not both occur on the ~
                          left-hand side of the rule.  See :DOC loop-stopper."</span>
                      token
                      name
                      bad-pairs))
                  (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> state)))))
          (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil))))))</pre>
  </div>

<div class="form-block function" id="def-chk-acceptable-rewrite-rule2" data-defines="CHK-ACCEPTABLE-REWRITE-RULE2" data-references="VALUE,CHK-REWRITE-RULE-WARNINGS,ER-PROGN,*FAKE-RUNE-FOR-ANONYMOUS-ENABLED-RULE*,CREATE-REWRITE-RULE,REWRITE-RULE,LET,T,SOFT,ER,COND,IGNORE,DECLARE,INTERPRET-TERM-AS-REWRITE-RULE,TTREE,RHS,LHS,LHS0,EQV,MSG,MV-LET,STATE,WRLD,ENS,CTX,CONCL,HYPS,LOOP-STOPPER,MATCH-FREE,NAME,QC-FLG,DEFUN" data-used-by="CHK-ACCEPTABLE-REWRITE-RULE1" data-part-name="CHK-ACCEPTABLE-REWRITE-RULE2" data-part-args="STATE,WRLD,ENS,CTX,CONCL,HYPS,LOOP-STOPPER,MATCH-FREE,NAME,QC-FLG" data-part-body="VALUE,STATE,LOOP-STOPPER,MATCH-FREE,CHK-REWRITE-RULE-WARNINGS,ER-PROGN,*FAKE-RUNE-FOR-ANONYMOUS-ENABLED-RULE*,CREATE-REWRITE-RULE,REWRITE-RULE,LET,T,SOFT,ER,COND,IGNORE,DECLARE,WRLD,ENS,CTX,CONCL,HYPS,NAME,QC-FLG,INTERPRET-TERM-AS-REWRITE-RULE,TTREE,RHS,LHS,LHS0,EQV,MSG,MV-LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CHK-ACCEPTABLE-REWRITE-RULE2">chk-acceptable-rewrite-rule2</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-chk-acceptable-rewrite-rule2" data-sym="CHK-ACCEPTABLE-REWRITE-RULE2" title="(defun chk-acceptable-rewrite-rule2
       (qc-flg name match-free loop-stopper hyps concl ctx ens wrld state)
  (mv-let (msg eqv lhs0 lhs rhs ttree)
          (interpret-term-as-rewrite-rule qc-flg name hyps concl ctx ens wrld)
          (declare (ignore lhs0))
...">chk-acceptable-rewrite-rule2</a>
  (qc-flg name
    match-free
    <a class="sym-link local-def" href="#def-loop-stopper" data-sym="LOOP-STOPPER" title="(defun loop-stopper (lhs rhs)
  (mv-let (ans unify-subst) (variantp lhs rhs)
          (cond (ans (loop-stopper1 unify-subst (all-vars lhs) lhs)) (t nil))))">loop-stopper</a>
    hyps
    concl
    ctx
    ens
    wrld
    state)
  (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> eqv lhs0 lhs rhs ttree)
    (<a class="sym-link local-def" href="#def-interpret-term-as-rewrite-rule" data-sym="INTERPRET-TERM-AS-REWRITE-RULE" title="(defun interpret-term-as-rewrite-rule (qc-flg name hyps term ctx ens wrld)
  (mv-let (eqv lhs0 lhs rhs ttree)
          (interpret-term-as-rewrite-rule1 term t ens wrld)
          (let ((msg
                 (interpret-term-as-rewrite-rule2 qc-flg name hyps eqv lhs rhs
...">interpret-term-as-rewrite-rule</a> qc-flg
      name
      hyps
      concl
      ctx
      ens
      wrld)
    (declare (ignore lhs0))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft ctx <span class="string">"~@0"</span> <a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a>))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((rewrite-rule (<a class="sym-link local-def" href="#def-create-rewrite-rule" data-sym="CREATE-REWRITE-RULE" title="(defun create-rewrite-rule
       (qc-flg rune nume hyps equiv lhs0 lhs rhs loop-stopper-lst
        backchain-limit-lst match-free-value wrld)
  (let ((hyps (preprocess-hyps hyps wrld))
        (loop-stopper
...">create-rewrite-rule</a> qc-flg
               *fake-rune-for-anonymous-enabled-rule*
               nil
               hyps
               eqv
               lhs
               lhs
               rhs
               nil
               nil
               nil
               wrld)))
          (<a class="sym-link system" href="axioms.html#def-er-progn" data-sym="ER-PROGN">er-progn</a> (<a class="sym-link local-def" href="#def-chk-rewrite-rule-warnings" data-sym="CHK-REWRITE-RULE-WARNINGS" title="(defun chk-rewrite-rule-warnings
       (name match-free loop-stopper rule ctx ens wrld state)
  (let* ((token
          (cond
           ((eq (access rewrite-rule rule :subclass) &#39;definition) :definition)
...">chk-rewrite-rule-warnings</a> name
              match-free
              <a class="sym-link local-def" href="#def-loop-stopper" data-sym="LOOP-STOPPER" title="(defun loop-stopper (lhs rhs)
  (mv-let (ans unify-subst) (variantp lhs rhs)
          (cond (ans (loop-stopper1 unify-subst (all-vars lhs) lhs)) (t nil))))">loop-stopper</a>
              rewrite-rule
              ctx
              ens
              wrld
              state)
            (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> ttree)))))))</pre>
  </div>

<div class="form-block function" id="def-chk-acceptable-rewrite-rule1" data-defines="CHK-ACCEPTABLE-REWRITE-RULE1" data-references="CONS-TAG-TREES,CDR,TTREE,CDAR,CAAR,CHK-ACCEPTABLE-REWRITE-RULE2,TTREE1,ER-LET*,T,VALUE,NULL,COND,STATE,WRLD,ENS,CTX,LST,LOOP-STOPPER,MATCH-FREE,NAME,QC-FLG,DEFUN" data-used-by="CHK-ACCEPTABLE-REWRITE-RULE" data-part-name="CHK-ACCEPTABLE-REWRITE-RULE1" data-part-args="STATE,WRLD,ENS,CTX,LST,LOOP-STOPPER,MATCH-FREE,NAME,QC-FLG" data-part-body="CONS-TAG-TREES,CDR,CHK-ACCEPTABLE-REWRITE-RULE1,TTREE,STATE,WRLD,ENS,CTX,CDAR,CAAR,LOOP-STOPPER,MATCH-FREE,NAME,QC-FLG,CHK-ACCEPTABLE-REWRITE-RULE2,TTREE1,ER-LET*,T,VALUE,LST,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CHK-ACCEPTABLE-REWRITE-RULE1">chk-acceptable-rewrite-rule1</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-chk-acceptable-rewrite-rule1" data-sym="CHK-ACCEPTABLE-REWRITE-RULE1" title="(defun chk-acceptable-rewrite-rule1
       (qc-flg name match-free loop-stopper lst ctx ens wrld state)
  (cond ((null lst) (value nil))
        (t
         (er-let*
...">chk-acceptable-rewrite-rule1</a>
  (qc-flg name match-free <a class="sym-link local-def" href="#def-loop-stopper" data-sym="LOOP-STOPPER" title="(defun loop-stopper (lhs rhs)
  (mv-let (ans unify-subst) (variantp lhs rhs)
          (cond (ans (loop-stopper1 unify-subst (all-vars lhs) lhs)) (t nil))))">loop-stopper</a> lst ctx ens wrld state)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> lst) (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="basis-b.html#def-er-let_2A" data-sym="ER-LET*">er-let*</a> ((ttree1 (<a class="sym-link local-def" href="#def-chk-acceptable-rewrite-rule2" data-sym="CHK-ACCEPTABLE-REWRITE-RULE2" title="(defun chk-acceptable-rewrite-rule2
       (qc-flg name match-free loop-stopper hyps concl ctx ens wrld state)
  (mv-let (msg eqv lhs0 lhs rhs ttree)
          (interpret-term-as-rewrite-rule qc-flg name hyps concl ctx ens wrld)
          (declare (ignore lhs0))
...">chk-acceptable-rewrite-rule2</a> qc-flg
             name
             match-free
             <a class="sym-link local-def" href="#def-loop-stopper" data-sym="LOOP-STOPPER" title="(defun loop-stopper (lhs rhs)
  (mv-let (ans unify-subst) (variantp lhs rhs)
          (cond (ans (loop-stopper1 unify-subst (all-vars lhs) lhs)) (t nil))))">loop-stopper</a>
             (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> lst)
             (<a class="sym-link system" href="axioms.html#def-cdar" data-sym="CDAR">cdar</a> lst)
             ctx
             ens
             wrld
             state)) (ttree (<a class="sym-link local-def" href="#def-chk-acceptable-rewrite-rule1" data-sym="CHK-ACCEPTABLE-REWRITE-RULE1" title="(defun chk-acceptable-rewrite-rule1
       (qc-flg name match-free loop-stopper lst ctx ens wrld state)
  (cond ((null lst) (value nil))
        (t
         (er-let*
...">chk-acceptable-rewrite-rule1</a> qc-flg
              name
              match-free
              <a class="sym-link local-def" href="#def-loop-stopper" data-sym="LOOP-STOPPER" title="(defun loop-stopper (lhs rhs)
  (mv-let (ans unify-subst) (variantp lhs rhs)
          (cond (ans (loop-stopper1 unify-subst (all-vars lhs) lhs)) (t nil))))">loop-stopper</a>
              (cdr lst)
              ctx
              ens
              wrld
              state)))
        (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (cons-tag-trees ttree1 ttree))))))</pre>
  </div>

<div class="form-block function" id="def-chk-acceptable-rewrite-rule" data-defines="CHK-ACCEPTABLE-REWRITE-RULE" data-references="REMOVE-GUARD-HOLDERS-LAMP,REMOVE-GUARD-HOLDERS,UNPRETTYIFY,POSSIBLY-CLEAN-UP-DIRTY-LAMBDA-OBJECTS-IN-PAIRS,CHK-ACCEPTABLE-REWRITE-RULE1,STATE,WRLD,ENS,CTX,TERM,LOOP-STOPPER,MATCH-FREE,NAME,QC-FLG,DEFUN" data-used-by="CHK-ACCEPTABLE-X-RULE" data-part-name="CHK-ACCEPTABLE-REWRITE-RULE" data-part-args="STATE,WRLD,ENS,CTX,TERM,LOOP-STOPPER,MATCH-FREE,NAME,QC-FLG" data-part-body="STATE,ENS,CTX,REMOVE-GUARD-HOLDERS-LAMP,WRLD,TERM,REMOVE-GUARD-HOLDERS,UNPRETTYIFY,POSSIBLY-CLEAN-UP-DIRTY-LAMBDA-OBJECTS-IN-PAIRS,LOOP-STOPPER,MATCH-FREE,NAME,QC-FLG,CHK-ACCEPTABLE-REWRITE-RULE1" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CHK-ACCEPTABLE-REWRITE-RULE">chk-acceptable-rewrite-rule</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-chk-acceptable-rewrite-rule" data-sym="CHK-ACCEPTABLE-REWRITE-RULE" title="(defun chk-acceptable-rewrite-rule
       (qc-flg name match-free loop-stopper term ctx ens wrld state)
  (chk-acceptable-rewrite-rule1 qc-flg name match-free loop-stopper
                                (possibly-clean-up-dirty-lambda-objects-in-pairs
                                 (unprettyify (remove-guard-holders term wrld))
...">chk-acceptable-rewrite-rule</a>
  (qc-flg name
    match-free
    <a class="sym-link local-def" href="#def-loop-stopper" data-sym="LOOP-STOPPER" title="(defun loop-stopper (lhs rhs)
  (mv-let (ans unify-subst) (variantp lhs rhs)
          (cond (ans (loop-stopper1 unify-subst (all-vars lhs) lhs)) (t nil))))">loop-stopper</a>
    term
    ctx
    ens
    wrld
    state)
  (<a class="sym-link local-def" href="#def-chk-acceptable-rewrite-rule1" data-sym="CHK-ACCEPTABLE-REWRITE-RULE1" title="(defun chk-acceptable-rewrite-rule1
       (qc-flg name match-free loop-stopper lst ctx ens wrld state)
  (cond ((null lst) (value nil))
        (t
         (er-let*
...">chk-acceptable-rewrite-rule1</a> qc-flg
    name
    match-free
    <a class="sym-link local-def" href="#def-loop-stopper" data-sym="LOOP-STOPPER" title="(defun loop-stopper (lhs rhs)
  (mv-let (ans unify-subst) (variantp lhs rhs)
          (cond (ans (loop-stopper1 unify-subst (all-vars lhs) lhs)) (t nil))))">loop-stopper</a>
    (possibly-clean-up-dirty-lambda-objects-in-pairs (unprettyify (remove-guard-holders term wrld))
      wrld
      (remove-guard-holders-lamp))
    ctx
    ens
    wrld
    state))</pre>
  </div>

<div class="form-block function" id="def-add-rewrite-rule2" data-defines="ADD-REWRITE-RULE2" data-references="PUT-MATCH-FREE-VALUE,GETPROPC,LEMMAS,FFN-SYMB,PUTPROP,GLOBAL-VAL,CONS,REWRITE-QUOTED-CONSTANT-RULES,GLOBAL-SET,IF,WRLD1,CREATE-REWRITE-RULE,REWRITE-RULE,MATCH-FREE-VALUE,LET*,T,QUOTE,HARD,ER,COND,IGNORE,DECLARE,BASE-SYMBOL,INTERPRET-TERM-AS-REWRITE-RULE,TTREE,RHS,LHS,LHS0,EQV,MSG,MV-LET,WRLD,ENS,MATCH-FREE,BACKCHAIN-LIMIT-LST,LOOP-STOPPER-LST,CONCL,HYPS,NUME,RUNE,QC-FLG,DEFUN" data-used-by="ADD-REWRITE-RULE1" data-part-name="ADD-REWRITE-RULE2" data-part-args="WRLD,ENS,MATCH-FREE,BACKCHAIN-LIMIT-LST,LOOP-STOPPER-LST,CONCL,HYPS,NUME,RUNE,QC-FLG" data-part-body="PUT-MATCH-FREE-VALUE,GETPROPC,LEMMAS,FFN-SYMB,PUTPROP,GLOBAL-VAL,CONS,REWRITE-QUOTED-CONSTANT-RULES,GLOBAL-SET,IF,WRLD1,BACKCHAIN-LIMIT-LST,LOOP-STOPPER-LST,NUME,CREATE-REWRITE-RULE,REWRITE-RULE,MATCH-FREE,MATCH-FREE-VALUE,LET*,T,ADD-REWRITE-RULE2,QUOTE,HARD,ER,COND,IGNORE,DECLARE,WRLD,ENS,CONCL,HYPS,RUNE,BASE-SYMBOL,QC-FLG,INTERPRET-TERM-AS-REWRITE-RULE,TTREE,RHS,LHS,LHS0,EQV,MSG,MV-LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ADD-REWRITE-RULE2">add-rewrite-rule2</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-add-rewrite-rule2" data-sym="ADD-REWRITE-RULE2" title="(defun add-rewrite-rule2
       (qc-flg rune nume hyps concl loop-stopper-lst backchain-limit-lst
        match-free ens wrld)
  (mv-let (msg eqv lhs0 lhs rhs ttree)
          (interpret-term-as-rewrite-rule qc-flg (base-symbol rune) hyps concl
...">add-rewrite-rule2</a>
  (qc-flg rune
    nume
    hyps
    concl
    loop-stopper-lst
    backchain-limit-lst
    match-free
    ens
    wrld)
  (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> eqv lhs0 lhs rhs ttree)
    (<a class="sym-link local-def" href="#def-interpret-term-as-rewrite-rule" data-sym="INTERPRET-TERM-AS-REWRITE-RULE" title="(defun interpret-term-as-rewrite-rule (qc-flg name hyps term ctx ens wrld)
  (mv-let (eqv lhs0 lhs rhs ttree)
          (interpret-term-as-rewrite-rule1 term t ens wrld)
          (let ((msg
                 (interpret-term-as-rewrite-rule2 qc-flg name hyps eqv lhs rhs
...">interpret-term-as-rewrite-rule</a> qc-flg
      (base-symbol rune)
      hyps
      concl
      nil
      ens
      wrld)
    (declare (ignore ttree))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> hard
          '<a class="sym-link local-def" href="#def-add-rewrite-rule2" data-sym="ADD-REWRITE-RULE2" title="(defun add-rewrite-rule2
       (qc-flg rune nume hyps concl loop-stopper-lst backchain-limit-lst
        match-free ens wrld)
  (mv-let (msg eqv lhs0 lhs rhs ttree)
          (interpret-term-as-rewrite-rule qc-flg (base-symbol rune) hyps concl
...">add-rewrite-rule2</a>
          <span class="string">"We believe that this error is occurring because the conclusion of a ~
          proposed :REWRITE or :REWRITE-QUOTED-CONSTANT rule generated from ~
          ~x0 is of the form (equiv LHS RHS), where equiv was a known ~
          equivalence relation when this rule was originally processed, but ~
          that is no longer the case.  In any case, the rule is now ~
          ill-formed. Perhaps you can fix this problem by making equiv an ~
          equivalence relation non-locally."</span>
          (base-symbol rune)))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((<a class="sym-link local-def" href="#def-match-free-value" data-sym="MATCH-FREE-VALUE" title="(defun match-free-value (match-free hyps pat wrld)
  (or match-free
      (and (free-vars-in-hyps hyps (all-vars pat) wrld)
           (or (match-free-default wrld) :all))))">match-free-value</a> (<a class="sym-link local-def" href="#def-match-free-value" data-sym="MATCH-FREE-VALUE" title="(defun match-free-value (match-free hyps pat wrld)
  (or match-free
      (and (free-vars-in-hyps hyps (all-vars pat) wrld)
           (or (match-free-default wrld) :all))))">match-free-value</a> match-free hyps lhs wrld)) (rewrite-rule (<a class="sym-link local-def" href="#def-create-rewrite-rule" data-sym="CREATE-REWRITE-RULE" title="(defun create-rewrite-rule
       (qc-flg rune nume hyps equiv lhs0 lhs rhs loop-stopper-lst
        backchain-limit-lst match-free-value wrld)
  (let ((hyps (preprocess-hyps hyps wrld))
        (loop-stopper
...">create-rewrite-rule</a> qc-flg
                rune
                nume
                hyps
                eqv
                lhs0
                lhs
                rhs
                loop-stopper-lst
                backchain-limit-lst
                <a class="sym-link local-def" href="#def-match-free-value" data-sym="MATCH-FREE-VALUE" title="(defun match-free-value (match-free hyps pat wrld)
  (or match-free
      (and (free-vars-in-hyps hyps (all-vars pat) wrld)
           (or (match-free-default wrld) :all))))">match-free-value</a>
                wrld))
            (wrld1 (if qc-flg
                (<a class="sym-link system" href="basis-b.html#def-global-set" data-sym="GLOBAL-SET">global-set</a> 'rewrite-quoted-constant-rules
                  (cons rewrite-rule
                    (<a class="sym-link system" href="axioms.html#def-global-val" data-sym="GLOBAL-VAL">global-val</a> 'rewrite-quoted-constant-rules wrld))
                  wrld)
                (<a class="sym-link system" href="axioms.html#def-putprop" data-sym="PUTPROP">putprop</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> lhs)
                  'lemmas
                  (cons rewrite-rule
                    (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> lhs) 'lemmas nil wrld))
                  wrld))))
          (<a class="sym-link local-def" href="#def-put-match-free-value" data-sym="PUT-MATCH-FREE-VALUE" title="(defun put-match-free-value (match-free-value rune wrld)
  (cond
   ((eq match-free-value :all)
    (global-set &#39;free-var-runes-all
                (cons rune (global-val &#39;free-var-runes-all wrld)) wrld))
...">put-match-free-value</a> <a class="sym-link local-def" href="#def-match-free-value" data-sym="MATCH-FREE-VALUE" title="(defun match-free-value (match-free hyps pat wrld)
  (or match-free
      (and (free-vars-in-hyps hyps (all-vars pat) wrld)
           (or (match-free-default wrld) :all))))">match-free-value</a> rune wrld1))))))</pre>
  </div>

<div class="form-block function" id="def-add-rewrite-rule1" data-defines="ADD-REWRITE-RULE1" data-references="CDAR,CAAR,ADD-REWRITE-RULE2,CDR,T,NULL,COND,WRLD,ENS,MATCH-FREE,BACKCHAIN-LIMIT-LST,LOOP-STOPPER-LST,LST,NUME,RUNE,QC-FLG,DEFUN" data-used-by="ADD-REWRITE-RULE" data-part-name="ADD-REWRITE-RULE1" data-part-args="WRLD,ENS,MATCH-FREE,BACKCHAIN-LIMIT-LST,LOOP-STOPPER-LST,LST,NUME,RUNE,QC-FLG" data-part-body="CDAR,CAAR,ADD-REWRITE-RULE2,ENS,MATCH-FREE,BACKCHAIN-LIMIT-LST,LOOP-STOPPER-LST,CDR,NUME,RUNE,QC-FLG,ADD-REWRITE-RULE1,T,WRLD,LST,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ADD-REWRITE-RULE1">add-rewrite-rule1</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-add-rewrite-rule1" data-sym="ADD-REWRITE-RULE1" title="(defun add-rewrite-rule1
       (qc-flg rune nume lst loop-stopper-lst backchain-limit-lst match-free
        ens wrld)
  (cond ((null lst) wrld)
        (t
...">add-rewrite-rule1</a>
  (qc-flg rune
    nume
    lst
    loop-stopper-lst
    backchain-limit-lst
    match-free
    ens
    wrld)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> lst) wrld)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-add-rewrite-rule1" data-sym="ADD-REWRITE-RULE1" title="(defun add-rewrite-rule1
       (qc-flg rune nume lst loop-stopper-lst backchain-limit-lst match-free
        ens wrld)
  (cond ((null lst) wrld)
        (t
...">add-rewrite-rule1</a> qc-flg
        rune
        nume
        (cdr lst)
        loop-stopper-lst
        backchain-limit-lst
        match-free
        ens
        (<a class="sym-link local-def" href="#def-add-rewrite-rule2" data-sym="ADD-REWRITE-RULE2" title="(defun add-rewrite-rule2
       (qc-flg rune nume hyps concl loop-stopper-lst backchain-limit-lst
        match-free ens wrld)
  (mv-let (msg eqv lhs0 lhs rhs ttree)
          (interpret-term-as-rewrite-rule qc-flg (base-symbol rune) hyps concl
...">add-rewrite-rule2</a> qc-flg
          rune
          nume
          (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> lst)
          (<a class="sym-link system" href="axioms.html#def-cdar" data-sym="CDAR">cdar</a> lst)
          loop-stopper-lst
          backchain-limit-lst
          match-free
          ens
          wrld)))))</pre>
  </div>

<div class="form-block function" id="def-add-rewrite-rule" data-defines="ADD-REWRITE-RULE" data-references="REMOVE-GUARD-HOLDERS-LAMP,REMOVE-GUARD-HOLDERS,UNPRETTYIFY,POSSIBLY-CLEAN-UP-DIRTY-LAMBDA-OBJECTS-IN-PAIRS,ADD-REWRITE-RULE1,WRLD,ENS,MATCH-FREE,BACKCHAIN-LIMIT-LST,TERM,LOOP-STOPPER-LST,NUME,RUNE,QC-FLG,DEFUN" data-used-by="ADD-X-RULE" data-part-name="ADD-REWRITE-RULE" data-part-args="WRLD,ENS,MATCH-FREE,BACKCHAIN-LIMIT-LST,TERM,LOOP-STOPPER-LST,NUME,RUNE,QC-FLG" data-part-body="ENS,MATCH-FREE,BACKCHAIN-LIMIT-LST,LOOP-STOPPER-LST,REMOVE-GUARD-HOLDERS-LAMP,WRLD,TERM,REMOVE-GUARD-HOLDERS,UNPRETTYIFY,POSSIBLY-CLEAN-UP-DIRTY-LAMBDA-OBJECTS-IN-PAIRS,NUME,RUNE,QC-FLG,ADD-REWRITE-RULE1" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ADD-REWRITE-RULE">add-rewrite-rule</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-add-rewrite-rule" data-sym="ADD-REWRITE-RULE" title="(defun add-rewrite-rule
       (qc-flg rune nume loop-stopper-lst term backchain-limit-lst match-free
        ens wrld)
  (add-rewrite-rule1 qc-flg rune nume
                     (possibly-clean-up-dirty-lambda-objects-in-pairs
...">add-rewrite-rule</a>
  (qc-flg rune
    nume
    loop-stopper-lst
    term
    backchain-limit-lst
    match-free
    ens
    wrld)
  (<a class="sym-link local-def" href="#def-add-rewrite-rule1" data-sym="ADD-REWRITE-RULE1" title="(defun add-rewrite-rule1
       (qc-flg rune nume lst loop-stopper-lst backchain-limit-lst match-free
        ens wrld)
  (cond ((null lst) wrld)
        (t
...">add-rewrite-rule1</a> qc-flg
    rune
    nume
    (possibly-clean-up-dirty-lambda-objects-in-pairs (unprettyify (remove-guard-holders term wrld))
      wrld
      (remove-guard-holders-lamp))
    loop-stopper-lst
    backchain-limit-lst
    match-free
    ens
    wrld))</pre>
  </div>

<div class="form-block function" id="def-expand-inequality-fncall1" data-defines="EXPAND-INEQUALITY-FNCALL1" data-references="OTHERWISE,NOT,/=,FARGN,EQUAL,QUOTE,MCONS-TERM*,=,<,CASE,FFN-SYMB,FN,LET,TERM,DEFUN" data-used-by="EXPAND-INEQUALITY-FNCALL" data-part-name="EXPAND-INEQUALITY-FNCALL1" data-part-args="TERM" data-part-body="OTHERWISE,NOT,/=,FARGN,EQUAL,QUOTE,MCONS-TERM*,=,<,CASE,TERM,FFN-SYMB,FN,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="EXPAND-INEQUALITY-FNCALL1">expand-inequality-fncall1</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-expand-inequality-fncall1" data-sym="EXPAND-INEQUALITY-FNCALL1" title="(defun expand-inequality-fncall1 (term)
  (let ((fn (ffn-symb term)))
    (case fn
      (&lt; term)
      (= (mcons-term* &#39;equal (fargn term 1) (fargn term 2)))
...">expand-inequality-fncall1</a>
  (term)
  (let ((fn (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term)))
    (<a class="sym-link system" href="axioms.html#def-case" data-sym="CASE">case</a> fn
      (&lt; term)
      (<a class="sym-link system" href="axioms.html#def-_3D" data-sym="=">=</a> (<a class="sym-link system" href="basis-b.html#def-mcons-term_2A" data-sym="MCONS-TERM*">mcons-term*</a> 'equal (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">1</span>) (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">2</span>)))
      (<a class="sym-link system" href="axioms.html#def-_2F_3D" data-sym="/=">/=</a> (<a class="sym-link system" href="basis-b.html#def-mcons-term_2A" data-sym="MCONS-TERM*">mcons-term*</a> '<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a>
          (<a class="sym-link system" href="basis-b.html#def-mcons-term_2A" data-sym="MCONS-TERM*">mcons-term*</a> 'equal (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">1</span>) (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">2</span>))))
      (otherwise term))))</pre>
  </div>

<div class="form-block function" id="def-expand-inequality-fncall" data-defines="EXPAND-INEQUALITY-FNCALL" data-references="DUMB-NEGATE-LIT,EXPAND-INEQUALITY-FNCALL1,T,FQUOTEP,VARIABLEP,COND,LET,STRIP-NOT,ATM,NEGATIVEP,MV-LET,TERM,DEFUN" data-used-by="ADD-LINEAR-RULE2,CHK-ACCEPTABLE-LINEAR-RULE2" data-part-name="EXPAND-INEQUALITY-FNCALL" data-part-args="TERM" data-part-body="DUMB-NEGATE-LIT,EXPAND-INEQUALITY-FNCALL1,T,FQUOTEP,VARIABLEP,COND,LET,TERM,STRIP-NOT,ATM,NEGATIVEP,MV-LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="EXPAND-INEQUALITY-FNCALL">expand-inequality-fncall</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-expand-inequality-fncall" data-sym="EXPAND-INEQUALITY-FNCALL" title="(defun expand-inequality-fncall (term)
  (mv-let (negativep atm) (strip-not term)
          (let ((atm
                 (cond ((variablep atm) atm) ((fquotep atm) atm)
                       (t (expand-inequality-fncall1 atm)))))">expand-inequality-fncall</a>
  (term)
  (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (negativep atm)
    (<a class="sym-link system" href="basis-b.html#def-strip-not" data-sym="STRIP-NOT">strip-not</a> term)
    (let ((atm (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> atm) atm)
           ((<a class="sym-link system" href="axioms.html#def-fquotep" data-sym="FQUOTEP">fquotep</a> atm) atm)
           (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-expand-inequality-fncall1" data-sym="EXPAND-INEQUALITY-FNCALL1" title="(defun expand-inequality-fncall1 (term)
  (let ((fn (ffn-symb term)))
    (case fn
      (&lt; term)
      (= (mcons-term* &#39;equal (fargn term 1) (fargn term 2)))
...">expand-inequality-fncall1</a> atm)))))
      (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (negativep (<a class="sym-link system" href="basis-b.html#def-dumb-negate-lit" data-sym="DUMB-NEGATE-LIT">dumb-negate-lit</a> atm)) (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> atm)))))</pre>
  </div>

<div class="form-block function" id="def-all-vars-in-poly-lst" data-defines="ALL-VARS-IN-POLY-LST" data-references="CDR,CAR,POLY,ACCESS,STRIP-CARS,UNION-EQUAL,T,NULL,COND,LST,DEFUN" data-used-by="ADD-LINEAR-RULE2,CHK-ACCEPTABLE-LINEAR-RULE2" data-part-name="ALL-VARS-IN-POLY-LST" data-part-args="LST" data-part-body="CDR,ALL-VARS-IN-POLY-LST,CAR,POLY,ACCESS,STRIP-CARS,UNION-EQUAL,T,LST,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ALL-VARS-IN-POLY-LST">all-vars-in-poly-lst</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-all-vars-in-poly-lst" data-sym="ALL-VARS-IN-POLY-LST" title="(defun all-vars-in-poly-lst (lst)
  (cond ((null lst) nil)
        (t
         (union-equal (strip-cars (access poly (car lst) :alist))
                      (all-vars-in-poly-lst (cdr lst))))))">all-vars-in-poly-lst</a>
  (lst)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> lst) nil)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-union-equal" data-sym="UNION-EQUAL">union-equal</a> (<a class="sym-link system" href="axioms.html#def-strip-cars" data-sym="STRIP-CARS">strip-cars</a> (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> poly (car lst) <span class="keyword">:alist</span>))
        (<a class="sym-link local-def" href="#def-all-vars-in-poly-lst" data-sym="ALL-VARS-IN-POLY-LST" title="(defun all-vars-in-poly-lst (lst)
  (cond ((null lst) nil)
        (t
         (union-equal (strip-cars (access poly (car lst) :alist))
                      (all-vars-in-poly-lst (cdr lst))))))">all-vars-in-poly-lst</a> (cdr lst))))))</pre>
  </div>

<div class="form-block function" id="def-subbagp-eq" data-defines="SUBBAGP-EQ" data-references="REMOVE1-EQ,CDR,CAR,MEMBER-EQ,T,NULL,COND,BAG2,BAG1,DEFUN" data-used-by="ALWAYS-BIGGERP" data-part-name="SUBBAGP-EQ" data-part-args="BAG2,BAG1" data-part-body="REMOVE1-EQ,CDR,SUBBAGP-EQ,CAR,MEMBER-EQ,BAG2,T,BAG1,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="SUBBAGP-EQ">subbagp-eq</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-subbagp-eq" data-sym="SUBBAGP-EQ" title="(defun subbagp-eq (bag1 bag2)
  (cond ((null bag1) t) ((null bag2) nil)
        ((member-eq (car bag1) bag2)
         (subbagp-eq (cdr bag1) (remove1-eq (car bag1) bag2)))
        (t nil)))">subbagp-eq</a>
  (bag1 bag2)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> bag1) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)
    ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> bag2) nil)
    ((<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> (car bag1) bag2) (<a class="sym-link local-def" href="#def-subbagp-eq" data-sym="SUBBAGP-EQ" title="(defun subbagp-eq (bag1 bag2)
  (cond ((null bag1) t) ((null bag2) nil)
        ((member-eq (car bag1) bag2)
         (subbagp-eq (cdr bag1) (remove1-eq (car bag1) bag2)))
        (t nil)))">subbagp-eq</a> (cdr bag1) (<a class="sym-link system" href="axioms.html#def-remove1-eq" data-sym="REMOVE1-EQ">remove1-eq</a> (car bag1) bag2)))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> nil)))</pre>
  </div>

<div class="form-block function" id="def-always-biggerp-data" data-defines="ALWAYS-BIGGERP-DATA" data-references="ALL-VARS-BAG,CONS,FN-COUNT,P-FN-CNT,FN-CNT,MV-LET,TERM,DEFUN" data-used-by="ALWAYS-BIGGERP-DATA-LST" data-part-name="ALWAYS-BIGGERP-DATA" data-part-args="TERM" data-part-body="ALL-VARS-BAG,CONS,TERM,FN-COUNT,P-FN-CNT,FN-CNT,MV-LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ALWAYS-BIGGERP-DATA">always-biggerp-data</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-always-biggerp-data" data-sym="ALWAYS-BIGGERP-DATA" title="(defun always-biggerp-data (term)
  (mv-let (fn-cnt p-fn-cnt) (fn-count term)
          (cons term (cons fn-cnt (cons p-fn-cnt (all-vars-bag term nil))))))">always-biggerp-data</a>
  (term)
  (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (fn-cnt p-fn-cnt)
    (fn-count term)
    (cons term
      (cons fn-cnt (cons p-fn-cnt (all-vars-bag term nil))))))</pre>
  </div>

<div class="form-block function" id="def-always-biggerp-data-lst" data-defines="ALWAYS-BIGGERP-DATA-LST" data-references="CDR,CAR,ALWAYS-BIGGERP-DATA,CONS,T,NULL,COND,LST,DEFUN" data-used-by="MAXIMAL-TERMS" data-part-name="ALWAYS-BIGGERP-DATA-LST" data-part-args="LST" data-part-body="CDR,ALWAYS-BIGGERP-DATA-LST,CAR,ALWAYS-BIGGERP-DATA,CONS,T,LST,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ALWAYS-BIGGERP-DATA-LST">always-biggerp-data-lst</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-always-biggerp-data-lst" data-sym="ALWAYS-BIGGERP-DATA-LST" title="(defun always-biggerp-data-lst (lst)
  (cond ((null lst) nil)
        (t
         (cons (always-biggerp-data (car lst))
               (always-biggerp-data-lst (cdr lst))))))">always-biggerp-data-lst</a>
  (lst)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> lst) nil)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (cons (<a class="sym-link local-def" href="#def-always-biggerp-data" data-sym="ALWAYS-BIGGERP-DATA" title="(defun always-biggerp-data (term)
  (mv-let (fn-cnt p-fn-cnt) (fn-count term)
          (cons term (cons fn-cnt (cons p-fn-cnt (all-vars-bag term nil))))))">always-biggerp-data</a> (car lst))
        (<a class="sym-link local-def" href="#def-always-biggerp-data-lst" data-sym="ALWAYS-BIGGERP-DATA-LST" title="(defun always-biggerp-data-lst (lst)
  (cond ((null lst) nil)
        (t
         (cons (always-biggerp-data (car lst))
               (always-biggerp-data-lst (cdr lst))))))">always-biggerp-data-lst</a> (cdr lst))))))</pre>
  </div>

<div class="form-block function" id="def-always-biggerp" data-defines="ALWAYS-BIGGERP" data-references="CDDDR,SUBBAGP-EQ,CADDR,EQL,CADR,>,OR,AND,ABD2,ABD1,DEFUN" data-used-by="NO-ELEMENT-ALWAYS-BIGGERP" data-part-name="ALWAYS-BIGGERP" data-part-args="ABD2,ABD1" data-part-body="CDDDR,SUBBAGP-EQ,CADDR,EQL,ABD2,ABD1,CADR,>,OR,AND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ALWAYS-BIGGERP">always-biggerp</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-always-biggerp" data-sym="ALWAYS-BIGGERP" title="(defun always-biggerp (abd1 abd2)
  (and
   (or (&gt; (cadr abd1) (cadr abd2))
       (and (eql (cadr abd1) (cadr abd2)) (&gt; (caddr abd1) (caddr abd2))))
   (subbagp-eq (cdddr abd2) (cdddr abd1))))">always-biggerp</a>
  (abd1 abd2)
  (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-_3E" data-sym="&gt;">&gt;</a> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> abd1) (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> abd2))
      (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-eql" data-sym="EQL">eql</a> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> abd1) (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> abd2))
        (<a class="sym-link system" href="axioms.html#def-_3E" data-sym="&gt;">&gt;</a> (<a class="sym-link system" href="axioms.html#def-caddr" data-sym="CADDR">caddr</a> abd1) (<a class="sym-link system" href="axioms.html#def-caddr" data-sym="CADDR">caddr</a> abd2))))
    (<a class="sym-link local-def" href="#def-subbagp-eq" data-sym="SUBBAGP-EQ" title="(defun subbagp-eq (bag1 bag2)
  (cond ((null bag1) t) ((null bag2) nil)
        ((member-eq (car bag1) bag2)
         (subbagp-eq (cdr bag1) (remove1-eq (car bag1) bag2)))
        (t nil)))">subbagp-eq</a> (<a class="sym-link system" href="axioms.html#def-cdddr" data-sym="CDDDR">cdddr</a> abd2) (<a class="sym-link system" href="axioms.html#def-cdddr" data-sym="CDDDR">cdddr</a> abd1))))</pre>
  </div>

<div class="form-block function" id="def-no-element-always-biggerp" data-defines="NO-ELEMENT-ALWAYS-BIGGERP" data-references="CDR,CAR,ALWAYS-BIGGERP,T,NULL,COND,ABD,ABD-LST,DEFUN" data-used-by="MAXIMAL-TERMS1" data-part-name="NO-ELEMENT-ALWAYS-BIGGERP" data-part-args="ABD,ABD-LST" data-part-body="CDR,NO-ELEMENT-ALWAYS-BIGGERP,ABD,CAR,ALWAYS-BIGGERP,T,ABD-LST,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="NO-ELEMENT-ALWAYS-BIGGERP">no-element-always-biggerp</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-no-element-always-biggerp" data-sym="NO-ELEMENT-ALWAYS-BIGGERP" title="(defun no-element-always-biggerp (abd-lst abd)
  (cond ((null abd-lst) t) ((always-biggerp (car abd-lst) abd) nil)
        (t (no-element-always-biggerp (cdr abd-lst) abd))))">no-element-always-biggerp</a>
  (abd-lst abd)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> abd-lst) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)
    ((<a class="sym-link local-def" href="#def-always-biggerp" data-sym="ALWAYS-BIGGERP" title="(defun always-biggerp (abd1 abd2)
  (and
   (or (&gt; (cadr abd1) (cadr abd2))
       (and (eql (cadr abd1) (cadr abd2)) (&gt; (caddr abd1) (caddr abd2))))
   (subbagp-eq (cdddr abd2) (cdddr abd1))))">always-biggerp</a> (car abd-lst) abd) nil)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-no-element-always-biggerp" data-sym="NO-ELEMENT-ALWAYS-BIGGERP" title="(defun no-element-always-biggerp (abd-lst abd)
  (cond ((null abd-lst) t) ((always-biggerp (car abd-lst) abd) nil)
        (t (no-element-always-biggerp (cdr abd-lst) abd))))">no-element-always-biggerp</a> (cdr abd-lst) abd))))</pre>
  </div>

<div class="form-block function" id="def-maximal-terms1" data-defines="MAXIMAL-TERMS1" data-references="T,CDR,CONS,NO-ELEMENT-ALWAYS-BIGGERP,CDDDR,SUBSETP-EQ,IF,QUOTE,FFN-SYMB,EQ,FLAMBDA-APPLICATIONP,FQUOTEP,NOT,CAR,NVARIABLEP,AND,NULL,COND,NEEDED-VARS,ABD-LST0,ABD-LST,DEFUN" data-used-by="MAXIMAL-TERMS" data-part-name="MAXIMAL-TERMS1" data-part-args="NEEDED-VARS,ABD-LST0,ABD-LST" data-part-body="T,CDR,MAXIMAL-TERMS1,CONS,ABD-LST0,NO-ELEMENT-ALWAYS-BIGGERP,CDDDR,NEEDED-VARS,SUBSETP-EQ,IF,QUOTE,FFN-SYMB,EQ,FLAMBDA-APPLICATIONP,FQUOTEP,NOT,CAR,NVARIABLEP,AND,ABD-LST,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="MAXIMAL-TERMS1">maximal-terms1</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-maximal-terms1" data-sym="MAXIMAL-TERMS1" title="(defun maximal-terms1 (abd-lst abd-lst0 needed-vars)
  (cond ((null abd-lst) nil)
        ((and (nvariablep (car (car abd-lst)))
              (not (fquotep (car (car abd-lst))))
              (not (flambda-applicationp (car (car abd-lst))))
...">maximal-terms1</a>
  (abd-lst abd-lst0 needed-vars)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> abd-lst) nil)
    ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-nvariablep" data-sym="NVARIABLEP">nvariablep</a> (car (car abd-lst)))
       (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-fquotep" data-sym="FQUOTEP">fquotep</a> (car (car abd-lst))))
       (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="basis-b.html#def-flambda-applicationp" data-sym="FLAMBDA-APPLICATIONP">flambda-applicationp</a> (car (car abd-lst))))
       (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> (car (car abd-lst))) 'if))
       (<a class="sym-link system" href="axioms.html#def-subsetp-eq" data-sym="SUBSETP-EQ">subsetp-eq</a> needed-vars (<a class="sym-link system" href="axioms.html#def-cdddr" data-sym="CDDDR">cdddr</a> (car abd-lst)))
       (<a class="sym-link local-def" href="#def-no-element-always-biggerp" data-sym="NO-ELEMENT-ALWAYS-BIGGERP" title="(defun no-element-always-biggerp (abd-lst abd)
  (cond ((null abd-lst) t) ((always-biggerp (car abd-lst) abd) nil)
        (t (no-element-always-biggerp (cdr abd-lst) abd))))">no-element-always-biggerp</a> abd-lst0 (car abd-lst))) (cons (car (car abd-lst))
        (<a class="sym-link local-def" href="#def-maximal-terms1" data-sym="MAXIMAL-TERMS1" title="(defun maximal-terms1 (abd-lst abd-lst0 needed-vars)
  (cond ((null abd-lst) nil)
        ((and (nvariablep (car (car abd-lst)))
              (not (fquotep (car (car abd-lst))))
              (not (flambda-applicationp (car (car abd-lst))))
...">maximal-terms1</a> (cdr abd-lst) abd-lst0 needed-vars)))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-maximal-terms1" data-sym="MAXIMAL-TERMS1" title="(defun maximal-terms1 (abd-lst abd-lst0 needed-vars)
  (cond ((null abd-lst) nil)
        ((and (nvariablep (car (car abd-lst)))
              (not (fquotep (car (car abd-lst))))
              (not (flambda-applicationp (car (car abd-lst))))
...">maximal-terms1</a> (cdr abd-lst) abd-lst0 needed-vars))))</pre>
  </div>

<div class="form-block function" id="def-maximal-terms" data-defines="MAXIMAL-TERMS" data-references="SET-DIFFERENCE-EQ,T,EQ,IF,MAXIMAL-TERMS1,ALWAYS-BIGGERP-DATA-LST,ABD-LST,LET,CONCL-VARS,HYP-VARS,LST,DEFUN" data-used-by="ADD-LINEAR-RULE2,CHK-ACCEPTABLE-LINEAR-RULE2" data-part-name="MAXIMAL-TERMS" data-part-args="CONCL-VARS,HYP-VARS,LST" data-part-body="CONCL-VARS,SET-DIFFERENCE-EQ,T,HYP-VARS,EQ,IF,MAXIMAL-TERMS1,LST,ALWAYS-BIGGERP-DATA-LST,ABD-LST,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="MAXIMAL-TERMS">maximal-terms</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-maximal-terms" data-sym="MAXIMAL-TERMS" title="(defun maximal-terms (lst hyp-vars concl-vars)
  (let ((abd-lst (always-biggerp-data-lst lst)))
    (maximal-terms1 abd-lst abd-lst
                    (if (eq hyp-vars t)
                        nil">maximal-terms</a>
  (lst hyp-vars concl-vars)
  (let ((abd-lst (<a class="sym-link local-def" href="#def-always-biggerp-data-lst" data-sym="ALWAYS-BIGGERP-DATA-LST" title="(defun always-biggerp-data-lst (lst)
  (cond ((null lst) nil)
        (t
         (cons (always-biggerp-data (car lst))
               (always-biggerp-data-lst (cdr lst))))))">always-biggerp-data-lst</a> lst)))
    (<a class="sym-link local-def" href="#def-maximal-terms1" data-sym="MAXIMAL-TERMS1" title="(defun maximal-terms1 (abd-lst abd-lst0 needed-vars)
  (cond ((null abd-lst) nil)
        ((and (nvariablep (car (car abd-lst)))
              (not (fquotep (car (car abd-lst))))
              (not (flambda-applicationp (car (car abd-lst))))
...">maximal-terms1</a> abd-lst
      abd-lst
      (if (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> hyp-vars <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)
        nil
        (<a class="sym-link system" href="axioms.html#def-set-difference-eq" data-sym="SET-DIFFERENCE-EQ">set-difference-eq</a> concl-vars hyp-vars)))))</pre>
  </div>

<div class="form-block function" id="def-collect-when-ffnnamesp" data-defines="COLLECT-WHEN-FFNNAMESP" data-references="T,CDR,CONS,CAR,FFNNAMESP,NULL,COND,LST,FNS,DEFUN" data-used-by="CHK-ACCEPTABLE-LINEAR-RULE2" data-part-name="COLLECT-WHEN-FFNNAMESP" data-part-args="LST,FNS" data-part-body="T,CDR,COLLECT-WHEN-FFNNAMESP,CONS,CAR,FNS,FFNNAMESP,LST,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="COLLECT-WHEN-FFNNAMESP">collect-when-ffnnamesp</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-collect-when-ffnnamesp" data-sym="COLLECT-WHEN-FFNNAMESP" title="(defun collect-when-ffnnamesp (fns lst)
  (cond ((null lst) nil)
        ((ffnnamesp fns (car lst))
         (cons (car lst) (collect-when-ffnnamesp fns (cdr lst))))
        (t (collect-when-ffnnamesp fns (cdr lst)))))">collect-when-ffnnamesp</a>
  (fns lst)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> lst) nil)
    ((<a class="sym-link system" href="rewrite.html#def-ffnnamesp" data-sym="FFNNAMESP">ffnnamesp</a> fns (car lst)) (cons (car lst) (<a class="sym-link local-def" href="#def-collect-when-ffnnamesp" data-sym="COLLECT-WHEN-FFNNAMESP" title="(defun collect-when-ffnnamesp (fns lst)
  (cond ((null lst) nil)
        ((ffnnamesp fns (car lst))
         (cons (car lst) (collect-when-ffnnamesp fns (cdr lst))))
        (t (collect-when-ffnnamesp fns (cdr lst)))))">collect-when-ffnnamesp</a> fns (cdr lst))))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-collect-when-ffnnamesp" data-sym="COLLECT-WHEN-FFNNAMESP" title="(defun collect-when-ffnnamesp (fns lst)
  (cond ((null lst) nil)
        ((ffnnamesp fns (car lst))
         (cons (car lst) (collect-when-ffnnamesp fns (cdr lst))))
        (t (collect-when-ffnnamesp fns (cdr lst)))))">collect-when-ffnnamesp</a> fns (cdr lst)))))</pre>
  </div>

<div class="form-block function" id="def-make-free-max-terms-msg1" data-defines="MAKE-FREE-MAX-TERMS-MSG1" data-references="HYPS-THAT-INSTANTIATE-FREE-VARS,SET-DIFFERENCE-EQ,LIST,CONS,T,CDR,CAR,ALL-VARS,SUBSETP-EQ,NULL,COND,HYPS,VARS,MAX-TERMS,DEFUN" data-used-by="MAKE-FREE-MAX-TERMS-MSG" data-part-name="MAKE-FREE-MAX-TERMS-MSG1" data-part-args="HYPS,VARS,MAX-TERMS" data-part-body="HYPS-THAT-INSTANTIATE-FREE-VARS,SET-DIFFERENCE-EQ,LIST,CONS,T,HYPS,CDR,MAKE-FREE-MAX-TERMS-MSG1,CAR,ALL-VARS,VARS,SUBSETP-EQ,MAX-TERMS,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="MAKE-FREE-MAX-TERMS-MSG1">make-free-max-terms-msg1</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-make-free-max-terms-msg1" data-sym="MAKE-FREE-MAX-TERMS-MSG1" title="(defun make-free-max-terms-msg1 (max-terms vars hyps)
  (cond ((null max-terms) nil)
        ((subsetp-eq vars (all-vars (car max-terms)))
         (make-free-max-terms-msg1 (cdr max-terms) vars hyps))
        (t
...">make-free-max-terms-msg1</a>
  (max-terms vars hyps)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> max-terms) nil)
    ((<a class="sym-link system" href="axioms.html#def-subsetp-eq" data-sym="SUBSETP-EQ">subsetp-eq</a> vars (<a class="sym-link system" href="axioms.html#def-all-vars" data-sym="ALL-VARS">all-vars</a> (car max-terms))) (<a class="sym-link local-def" href="#def-make-free-max-terms-msg1" data-sym="MAKE-FREE-MAX-TERMS-MSG1" title="(defun make-free-max-terms-msg1 (max-terms vars hyps)
  (cond ((null max-terms) nil)
        ((subsetp-eq vars (all-vars (car max-terms)))
         (make-free-max-terms-msg1 (cdr max-terms) vars hyps))
        (t
...">make-free-max-terms-msg1</a> (cdr max-terms) vars hyps))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (cons (cons <span class="string">"When ~xN is triggered by ~xT the variable~#V~[~/s~] ~&amp;V ~
              will be chosen by searching for ~#H~[an ~
              instance~/instances~] of ~&amp;H among the hypotheses of the ~
              conjecture being rewritten.  "</span>
          (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (cons #\T (car max-terms))
            (cons #\V
              (<a class="sym-link system" href="axioms.html#def-set-difference-eq" data-sym="SET-DIFFERENCE-EQ">set-difference-eq</a> vars (<a class="sym-link system" href="axioms.html#def-all-vars" data-sym="ALL-VARS">all-vars</a> (car max-terms))))
            (cons #\H
              (<a class="sym-link local-def" href="#def-hyps-that-instantiate-free-vars" data-sym="HYPS-THAT-INSTANTIATE-FREE-VARS" title="(defun hyps-that-instantiate-free-vars (free-vars hyps)
  (cond ((null free-vars) nil)
        ((intersectp-eq free-vars (all-vars (car hyps)))
         (cons (car hyps)
               (hyps-that-instantiate-free-vars
...">hyps-that-instantiate-free-vars</a> (<a class="sym-link system" href="axioms.html#def-set-difference-eq" data-sym="SET-DIFFERENCE-EQ">set-difference-eq</a> vars (<a class="sym-link system" href="axioms.html#def-all-vars" data-sym="ALL-VARS">all-vars</a> (car max-terms)))
                hyps))))
        (<a class="sym-link local-def" href="#def-make-free-max-terms-msg1" data-sym="MAKE-FREE-MAX-TERMS-MSG1" title="(defun make-free-max-terms-msg1 (max-terms vars hyps)
  (cond ((null max-terms) nil)
        ((subsetp-eq vars (all-vars (car max-terms)))
         (make-free-max-terms-msg1 (cdr max-terms) vars hyps))
        (t
...">make-free-max-terms-msg1</a> (cdr max-terms) vars hyps)))))</pre>
  </div>

<div class="form-block function" id="def-make-free-max-terms-msg" data-defines="MAKE-FREE-MAX-TERMS-MSG" data-references="CONS,LIST,MAKE-FREE-MAX-TERMS-MSG1,LIST*,HYPS,VARS,MAX-TERMS,NAME,DEFUN" data-used-by="CHK-ACCEPTABLE-LINEAR-RULE2" data-part-name="MAKE-FREE-MAX-TERMS-MSG" data-part-args="HYPS,VARS,MAX-TERMS,NAME" data-part-body="NAME,CONS,LIST,HYPS,VARS,MAX-TERMS,MAKE-FREE-MAX-TERMS-MSG1,LIST*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="MAKE-FREE-MAX-TERMS-MSG">make-free-max-terms-msg</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-make-free-max-terms-msg" data-sym="MAKE-FREE-MAX-TERMS-MSG" title="(defun make-free-max-terms-msg (name max-terms vars hyps)
  (list* &quot;&quot; &quot;~@*&quot; &quot;~@*&quot; &quot;~@*&quot; (make-free-max-terms-msg1 max-terms vars hyps)
         (list (cons #\N name))))">make-free-max-terms-msg</a>
  (name max-terms vars hyps)
  (<a class="sym-link system" href="axioms.html#def-list_2A" data-sym="LIST*">list*</a> <span class="string">""</span>
    <span class="string">"~@*"</span>
    <span class="string">"~@*"</span>
    <span class="string">"~@*"</span>
    (<a class="sym-link local-def" href="#def-make-free-max-terms-msg1" data-sym="MAKE-FREE-MAX-TERMS-MSG1" title="(defun make-free-max-terms-msg1 (max-terms vars hyps)
  (cond ((null max-terms) nil)
        ((subsetp-eq vars (all-vars (car max-terms)))
         (make-free-max-terms-msg1 (cdr max-terms) vars hyps))
        (t
...">make-free-max-terms-msg1</a> max-terms vars hyps)
    (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (cons #\N name))))</pre>
  </div>

<div class="form-block function" id="def-external-linearize" data-defines="EXTERNAL-LINEARIZE" data-references="OK-TO-FORCE-ENS,T,LINEARIZE,STATE,WRLD,ENS,TERM,DEFUN" data-used-by="ADD-LINEAR-RULE2,CHK-ACCEPTABLE-LINEAR-RULE2" data-part-name="EXTERNAL-LINEARIZE" data-part-args="STATE,WRLD,ENS,TERM" data-part-body="STATE,WRLD,OK-TO-FORCE-ENS,ENS,T,TERM,LINEARIZE" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="EXTERNAL-LINEARIZE">external-linearize</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-external-linearize" data-sym="EXTERNAL-LINEARIZE" title="(defun external-linearize (term ens wrld state)
  (linearize term t nil ens (ok-to-force-ens ens) wrld nil state))">external-linearize</a>
  (term ens wrld state)
  (linearize term
    <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
    nil
    ens
    (ok-to-force-ens ens)
    wrld
    nil
    state))</pre>
  </div>

<div class="form-block function" id="def-bad-synp-hyp-msg-for-linear" data-defines="BAD-SYNP-HYP-MSG-FOR-LINEAR" data-references="CDR,CAR,ALL-VARS,BAD-SYNP-HYP-MSG,LET,MV,NULL,IF,WRLD,HYPS,MAX-TERMS,DEFUN" data-used-by="CHK-ACCEPTABLE-LINEAR-RULE2" data-part-name="BAD-SYNP-HYP-MSG-FOR-LINEAR" data-part-args="WRLD,HYPS,MAX-TERMS" data-part-body="CDR,BAD-SYNP-HYP-MSG-FOR-LINEAR,WRLD,CAR,ALL-VARS,HYPS,BAD-SYNP-HYP-MSG,LET,MV,MAX-TERMS,NULL,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="BAD-SYNP-HYP-MSG-FOR-LINEAR">bad-synp-hyp-msg-for-linear</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-bad-synp-hyp-msg-for-linear" data-sym="BAD-SYNP-HYP-MSG-FOR-LINEAR" title="(defun bad-synp-hyp-msg-for-linear (max-terms hyps wrld)
  (if (null max-terms)
      (mv nil nil)
      (let ((bad-synp-hyp-msg
             (bad-synp-hyp-msg hyps (all-vars (car max-terms)) nil wrld)))
...">bad-synp-hyp-msg-for-linear</a>
  (max-terms hyps wrld)
  (if (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> max-terms)
    (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil nil)
    (let ((<a class="sym-link system" href="rewrite.html#def-bad-synp-hyp-msg" data-sym="BAD-SYNP-HYP-MSG">bad-synp-hyp-msg</a> (<a class="sym-link system" href="rewrite.html#def-bad-synp-hyp-msg" data-sym="BAD-SYNP-HYP-MSG">bad-synp-hyp-msg</a> hyps (<a class="sym-link system" href="axioms.html#def-all-vars" data-sym="ALL-VARS">all-vars</a> (car max-terms)) nil wrld)))
      (if <a class="sym-link system" href="rewrite.html#def-bad-synp-hyp-msg" data-sym="BAD-SYNP-HYP-MSG">bad-synp-hyp-msg</a>
        (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> <a class="sym-link system" href="rewrite.html#def-bad-synp-hyp-msg" data-sym="BAD-SYNP-HYP-MSG">bad-synp-hyp-msg</a> (car max-terms))
        (<a class="sym-link local-def" href="#def-bad-synp-hyp-msg-for-linear" data-sym="BAD-SYNP-HYP-MSG-FOR-LINEAR" title="(defun bad-synp-hyp-msg-for-linear (max-terms hyps wrld)
  (if (null max-terms)
      (mv nil nil)
      (let ((bad-synp-hyp-msg
             (bad-synp-hyp-msg hyps (all-vars (car max-terms)) nil wrld)))
...">bad-synp-hyp-msg-for-linear</a> (cdr max-terms) hyps wrld)))))</pre>
  </div>

<div class="form-block function" id="def-show-double-rewrite-opportunities-linear" data-defines="SHOW-DOUBLE-REWRITE-OPPORTUNITIES-LINEAR" data-references="CDR,UNTRANSLATE,MSG,*GENEQV-IFF*,CAR,COVERED-GENEQV-ALIST,DOUBLE-REWRITE-OPPORTUNITIES,SHOW-DOUBLE-REWRITE-OPPORTUNITIES,PPROGN,T,ENDP,COND,STATE,WRLD,ENS,CTX,NAME,FINAL-TERM,MAX-TERMS,HYPS,DEFUN" data-used-by="CHK-ACCEPTABLE-LINEAR-RULE2" data-part-name="SHOW-DOUBLE-REWRITE-OPPORTUNITIES-LINEAR" data-part-args="STATE,WRLD,ENS,CTX,NAME,FINAL-TERM,MAX-TERMS,HYPS" data-part-body="CDR,SHOW-DOUBLE-REWRITE-OPPORTUNITIES-LINEAR,CTX,UNTRANSLATE,MSG,NAME,*GENEQV-IFF*,FINAL-TERM,WRLD,ENS,CAR,COVERED-GENEQV-ALIST,HYPS,DOUBLE-REWRITE-OPPORTUNITIES,SHOW-DOUBLE-REWRITE-OPPORTUNITIES,PPROGN,T,STATE,MAX-TERMS,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="SHOW-DOUBLE-REWRITE-OPPORTUNITIES-LINEAR">show-double-rewrite-opportunities-linear</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-show-double-rewrite-opportunities-linear" data-sym="SHOW-DOUBLE-REWRITE-OPPORTUNITIES-LINEAR" title="(defun show-double-rewrite-opportunities-linear
       (hyps max-terms final-term name ctx ens wrld state)
  (cond ((endp max-terms) state)
        (t
         (pprogn
...">show-double-rewrite-opportunities-linear</a>
  (hyps max-terms final-term name ctx ens wrld state)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> max-terms) state)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link local-def" href="#def-show-double-rewrite-opportunities" data-sym="SHOW-DOUBLE-REWRITE-OPPORTUNITIES" title="(defun show-double-rewrite-opportunities
       (hyp-var-equivs-counts-alist-pairs token name max-term-msg ctx state)
  (cond ((endp hyp-var-equivs-counts-alist-pairs) state)
        (t
         (pprogn
...">show-double-rewrite-opportunities</a> (<a class="sym-link local-def" href="#def-double-rewrite-opportunities" data-sym="DOUBLE-REWRITE-OPPORTUNITIES" title="(defun double-rewrite-opportunities
       (hyp-index hyps var-geneqv-alist final-term final-location final-geneqv
        ens wrld)
  (cond
   ((endp hyps)
...">double-rewrite-opportunities</a> <span class="number">1</span>
            hyps
            (<a class="sym-link local-def" href="#def-covered-geneqv-alist" data-sym="COVERED-GENEQV-ALIST" title="(mutual-recursion
 (defun covered-geneqv-alist (term geneqv pequiv-info alist ens wrld)
   (cond ((variablep term) (extend-geneqv-alist term geneqv alist wrld))
         ((fquotep term) alist)
         ((flambda-applicationp term)
...">covered-geneqv-alist</a> (car max-terms) nil nil nil ens wrld)
            final-term
            <span class="string">"the conclusion"</span>
            <a class="sym-link system" href="rewrite.html#def-_2Ageneqv-iff_2A" data-sym="*GENEQV-IFF*">*geneqv-iff*</a>
            ens
            wrld)
          <span class="keyword">:linear</span> name
          (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">" for trigger term ~x0"</span>
            (untranslate (car max-terms) nil wrld))
          ctx
          state)
        (<a class="sym-link local-def" href="#def-show-double-rewrite-opportunities-linear" data-sym="SHOW-DOUBLE-REWRITE-OPPORTUNITIES-LINEAR" title="(defun show-double-rewrite-opportunities-linear
       (hyps max-terms final-term name ctx ens wrld state)
  (cond ((endp max-terms) state)
        (t
         (pprogn
...">show-double-rewrite-opportunities-linear</a> hyps
          (cdr max-terms)
          final-term
          name
          ctx
          ens
          wrld
          state)))))</pre>
  </div>

<div class="form-block function" id="def-no-linear-msg" data-defines="NO-LINEAR-MSG" data-references="T,UNTRANSLATE,QUOTEP,IF,IGNORE,DECLARE,EVAL-GROUND-SUBEXPRESSIONS,TTREE,X,FLG,MV-LET,MSG,STATE,WRLD,ENS,EXTRA,CONCL,NAME,DEFUN" data-used-by="ADD-LINEAR-RULE2,CHK-ACCEPTABLE-LINEAR-RULE2" data-part-name="NO-LINEAR-MSG" data-part-args="STATE,WRLD,ENS,EXTRA,CONCL,NAME" data-part-body="EXTRA,T,UNTRANSLATE,QUOTEP,IF,IGNORE,DECLARE,STATE,WRLD,ENS,CONCL,EVAL-GROUND-SUBEXPRESSIONS,TTREE,X,FLG,MV-LET,NAME,MSG" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="NO-LINEAR-MSG">no-linear-msg</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-no-linear-msg" data-sym="NO-LINEAR-MSG" title="(defun no-linear-msg (name concl extra ens wrld state)
  (msg &quot;No :LINEAR rule can be generated from ~x0.  See :DOC linear.~@1~@2&quot;
       name
       (mv-let (flg x ttree)
               (eval-ground-subexpressions concl ens wrld state nil)
...">no-linear-msg</a>
  (name concl extra ens wrld state)
  (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"No :LINEAR rule can be generated from ~x0.  See :DOC linear.~@1~@2"</span>
    name
    (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (flg x ttree)
      (eval-ground-subexpressions concl ens wrld state nil)
      (declare (ignore flg ttree))
      (if (<a class="sym-link system" href="axioms.html#def-quotep" data-sym="QUOTEP">quotep</a> x)
        (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"  Note that after ground evaluation, the ~
                           conclusion, ~x0, was treated as the constant, ~x1."</span>
          (untranslate concl <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> wrld)
          (untranslate x <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> wrld))
        <span class="string">""</span>))
    extra))</pre>
  </div>

<div class="form-block function" id="def-all-non-numeric" data-defines="ALL-NON-NUMERIC" data-references="CDR,*TS-ACL2-NUMBER*,TS-INTERSECTP,IGNORE,DECLARE,CAR,TYPE-SET,TTREE,TS,MV-LET,T,ENDP,COND,WRLD,ENS,LST,DEFUN" data-used-by="CHK-ACCEPTABLE-LINEAR-RULE2" data-part-name="ALL-NON-NUMERIC" data-part-args="WRLD,ENS,LST" data-part-body="CDR,ALL-NON-NUMERIC,*TS-ACL2-NUMBER*,TS-INTERSECTP,IGNORE,DECLARE,WRLD,ENS,CAR,TYPE-SET,TTREE,TS,MV-LET,T,LST,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ALL-NON-NUMERIC">all-non-numeric</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-all-non-numeric" data-sym="ALL-NON-NUMERIC" title="(defun all-non-numeric (lst ens wrld)
  (cond ((endp lst) t)
        (t
         (mv-let (ts ttree)
                 (type-set (car lst) nil nil nil ens wrld nil nil nil)
...">all-non-numeric</a>
  (lst ens wrld)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> lst) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (ts ttree)
        (type-set (car lst) nil nil nil ens wrld nil nil nil)
        (declare (ignore ttree))
        (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="basis-b.html#def-ts-intersectp" data-sym="TS-INTERSECTP">ts-intersectp</a> ts *ts-acl2-number*) nil)
          (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-all-non-numeric" data-sym="ALL-NON-NUMERIC" title="(defun all-non-numeric (lst ens wrld)
  (cond ((endp lst) t)
        (t
         (mv-let (ts ttree)
                 (type-set (car lst) nil nil nil ens wrld nil nil nil)
...">all-non-numeric</a> (cdr lst) ens wrld)))))))</pre>
  </div>

<div class="form-block function" id="def-chk-acceptable-linear-rule2" data-defines="CHK-ACCEPTABLE-LINEAR-RULE2" data-references="VALUE,FREE-VARIABLE-ERROR?,MSG,EQL,LEN-BAD-MAX-TERMS,LEN-MAX-TERMS,LET,NTH,LENGTH,NON-REC-DEF-RULES-MSG,HIDE-LAMBDAS,QUASIQUOTE,WARNING$,EQUAL,SHOW-DOUBLE-REWRITE-OPPORTUNITIES-LINEAR,PPROGN,BAD-SYNP-HYP-MSG-FOR-LINEAR,BAD-MAX-TERM,BAD-SYNP-HYP-MSG,MV-LET,UNTRANSLATE-LST,IF,ALL-NON-NUMERIC,MAKE-FREE-MAX-TERMS-MSG,FREE-MAX-TERMS-MSG,COLLECT-WHEN-FFNNAMESP,BAD-MAX-TERMS,STRIP-CARS,NON-REC-FNS,NON-RECURSIVE-FNNAMES-ALIST-LST,NON-REC-FNS-ALIST,WARNING-DISABLED-P,WARN-NON-REC,ALL-VARS,MAXIMAL-TERMS,OR,MAX-TERMS,CAR,ALL-VARS-IN-POLY-LST,FREE-VARS-IN-HYPS-CONSIDERING-BIND-FREE,POTENTIAL-FREE-VARS,ALL-VARS-IN-HYPS,ALL-VARS-HYPS,T,UNTRANSLATE,CDR,NOT,NO-LINEAR-MSG,SOFT,ER,COND,EXTERNAL-LINEARIZE,NULL,AND,LST,EXPAND-INEQUALITY-FNCALL,XCONCL,LET*,STATE,WRLD,ENS,CTX,CONCL,HYPS,TRIGGER-TERMS,MATCH-FREE,NAME,DEFUN" data-used-by="CHK-ACCEPTABLE-LINEAR-RULE1" data-part-name="CHK-ACCEPTABLE-LINEAR-RULE2" data-part-args="STATE,WRLD,ENS,CTX,CONCL,HYPS,TRIGGER-TERMS,MATCH-FREE,NAME" data-part-body="VALUE,FREE-VARIABLE-ERROR?,MSG,EQL,LEN-BAD-MAX-TERMS,LEN-MAX-TERMS,LET,MATCH-FREE,NTH,LENGTH,NON-REC-DEF-RULES-MSG,HIDE-LAMBDAS,QUASIQUOTE,WARNING$,EQUAL,SHOW-DOUBLE-REWRITE-OPPORTUNITIES-LINEAR,PPROGN,BAD-SYNP-HYP-MSG-FOR-LINEAR,BAD-MAX-TERM,BAD-SYNP-HYP-MSG,MV-LET,UNTRANSLATE-LST,IF,ALL-NON-NUMERIC,MAKE-FREE-MAX-TERMS-MSG,FREE-MAX-TERMS-MSG,COLLECT-WHEN-FFNNAMESP,BAD-MAX-TERMS,STRIP-CARS,NON-REC-FNS,NON-RECURSIVE-FNNAMES-ALIST-LST,NON-REC-FNS-ALIST,WARNING-DISABLED-P,WARN-NON-REC,ALL-VARS,MAXIMAL-TERMS,OR,MAX-TERMS,CAR,ALL-VARS-IN-POLY-LST,FREE-VARS-IN-HYPS-CONSIDERING-BIND-FREE,POTENTIAL-FREE-VARS,HYPS,ALL-VARS-IN-HYPS,ALL-VARS-HYPS,T,UNTRANSLATE,CDR,NOT,NAME,NO-LINEAR-MSG,CTX,SOFT,ER,COND,STATE,WRLD,ENS,EXTERNAL-LINEARIZE,TRIGGER-TERMS,NULL,AND,LST,CONCL,EXPAND-INEQUALITY-FNCALL,XCONCL,LET*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CHK-ACCEPTABLE-LINEAR-RULE2">chk-acceptable-linear-rule2</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-chk-acceptable-linear-rule2" data-sym="CHK-ACCEPTABLE-LINEAR-RULE2" title="(defun chk-acceptable-linear-rule2
       (name match-free trigger-terms hyps concl ctx ens wrld state)
  (let* ((xconcl (expand-inequality-fncall concl))
         (lst
          (and (null trigger-terms)
...">chk-acceptable-linear-rule2</a>
  (name match-free
    trigger-terms
    hyps
    concl
    ctx
    ens
    wrld
    state)
  (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((xconcl (<a class="sym-link local-def" href="#def-expand-inequality-fncall" data-sym="EXPAND-INEQUALITY-FNCALL" title="(defun expand-inequality-fncall (term)
  (mv-let (negativep atm) (strip-not term)
          (let ((atm
                 (cond ((variablep atm) atm) ((fquotep atm) atm)
                       (t (expand-inequality-fncall1 atm)))))">expand-inequality-fncall</a> concl)) (lst (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> trigger-terms)
          (<a class="sym-link local-def" href="#def-external-linearize" data-sym="EXTERNAL-LINEARIZE" title="(defun external-linearize (term ens wrld state)
  (linearize term t nil ens (ok-to-force-ens ens) wrld nil state))">external-linearize</a> xconcl ens wrld state))))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> trigger-terms) (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> lst)) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
          ctx
          <span class="string">"~@0"</span>
          (<a class="sym-link local-def" href="#def-no-linear-msg" data-sym="NO-LINEAR-MSG" title="(defun no-linear-msg (name concl extra ens wrld state)
  (msg &quot;No :LINEAR rule can be generated from ~x0.  See :DOC linear.~@1~@2&quot;
       name
       (mv-let (flg x ttree)
               (eval-ground-subexpressions concl ens wrld state nil)
...">no-linear-msg</a> name concl <span class="string">""</span> ens wrld state)))
      ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> (cdr lst))) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
          ctx
          <span class="string">"No :LINEAR rule can be generated from ~x0 because the ~
                linearization of its conclusion, which in normal form is ~p1, ~
                produces a disjunction of polynomial inequalities.  See :DOC ~
                linear."</span>
          name
          (untranslate xconcl <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> wrld)))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((all-vars-hyps (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> trigger-terms) (<a class="sym-link local-def" href="#def-all-vars-in-hyps" data-sym="ALL-VARS-IN-HYPS" title="(defun all-vars-in-hyps (hyps)
  (cond ((null hyps) nil)
        (t
         (let ((vars (all-vars-in-hyps (cdr hyps))))
           (cond ((eq vars t) t)
...">all-vars-in-hyps</a> hyps))) (potential-free-vars (<a class="sym-link local-def" href="#def-free-vars-in-hyps-considering-bind-free" data-sym="FREE-VARS-IN-HYPS-CONSIDERING-BIND-FREE" title="(defun free-vars-in-hyps-considering-bind-free (hyps bound-vars wrld)
  (cond ((null hyps) nil)
        (t
         (mv-let (forcep flg)
                 (binding-hyp-p (car hyps) (pairlis$ bound-vars bound-vars)
...">free-vars-in-hyps-considering-bind-free</a> hyps nil wrld))
            (<a class="sym-link local-def" href="#def-all-vars-in-poly-lst" data-sym="ALL-VARS-IN-POLY-LST" title="(defun all-vars-in-poly-lst (lst)
  (cond ((null lst) nil)
        (t
         (union-equal (strip-cars (access poly (car lst) :alist))
                      (all-vars-in-poly-lst (cdr lst))))))">all-vars-in-poly-lst</a> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> trigger-terms) (<a class="sym-link local-def" href="#def-all-vars-in-poly-lst" data-sym="ALL-VARS-IN-POLY-LST" title="(defun all-vars-in-poly-lst (lst)
  (cond ((null lst) nil)
        (t
         (union-equal (strip-cars (access poly (car lst) :alist))
                      (all-vars-in-poly-lst (cdr lst))))))">all-vars-in-poly-lst</a> (car lst))))
            (max-terms (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> trigger-terms
                (<a class="sym-link local-def" href="#def-maximal-terms" data-sym="MAXIMAL-TERMS" title="(defun maximal-terms (lst hyp-vars concl-vars)
  (let ((abd-lst (always-biggerp-data-lst lst)))
    (maximal-terms1 abd-lst abd-lst
                    (if (eq hyp-vars t)
                        nil">maximal-terms</a> <a class="sym-link local-def" href="#def-all-vars-in-poly-lst" data-sym="ALL-VARS-IN-POLY-LST" title="(defun all-vars-in-poly-lst (lst)
  (cond ((null lst) nil)
        (t
         (union-equal (strip-cars (access poly (car lst) :alist))
                      (all-vars-in-poly-lst (cdr lst))))))">all-vars-in-poly-lst</a>
                  all-vars-hyps
                  (<a class="sym-link system" href="axioms.html#def-all-vars" data-sym="ALL-VARS">all-vars</a> concl))))
            (warn-non-rec (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="basis-a.html#def-warning-disabled-p" data-sym="WARNING-DISABLED-P">warning-disabled-p</a> <span class="string">"Non-rec"</span>)))
            (non-rec-fns-alist (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> warn-non-rec
                (<a class="sym-link local-def" href="#def-non-recursive-fnnames-alist-lst" data-sym="NON-RECURSIVE-FNNAMES-ALIST-LST" title="(defun non-recursive-fnnames-alist-lst (lst ens wrld)
  (reverse (non-recursive-fnnames-alist-rec-lst lst ens wrld nil nil)))">non-recursive-fnnames-alist-lst</a> max-terms ens wrld)))
            (non-rec-fns (<a class="sym-link system" href="axioms.html#def-strip-cars" data-sym="STRIP-CARS">strip-cars</a> non-rec-fns-alist))
            (bad-max-terms (<a class="sym-link local-def" href="#def-collect-when-ffnnamesp" data-sym="COLLECT-WHEN-FFNNAMESP" title="(defun collect-when-ffnnamesp (fns lst)
  (cond ((null lst) nil)
        ((ffnnamesp fns (car lst))
         (cons (car lst) (collect-when-ffnnamesp fns (cdr lst))))
        (t (collect-when-ffnnamesp fns (cdr lst)))))">collect-when-ffnnamesp</a> non-rec-fns max-terms))
            (free-max-terms-msg (<a class="sym-link local-def" href="#def-make-free-max-terms-msg" data-sym="MAKE-FREE-MAX-TERMS-MSG" title="(defun make-free-max-terms-msg (name max-terms vars hyps)
  (list* &quot;&quot; &quot;~@*&quot; &quot;~@*&quot; &quot;~@*&quot; (make-free-max-terms-msg1 max-terms vars hyps)
         (list (cons #\N name))))">make-free-max-terms-msg</a> name
                max-terms
                potential-free-vars
                hyps)))
          (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> max-terms) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> trigger-terms) (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> <a class="sym-link local-def" href="#def-all-vars-in-poly-lst" data-sym="ALL-VARS-IN-POLY-LST" title="(defun all-vars-in-poly-lst (lst)
  (cond ((null lst) nil)
        (t
         (union-equal (strip-cars (access poly (car lst) :alist))
                      (all-vars-in-poly-lst (cdr lst))))))">all-vars-in-poly-lst</a>)) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                    ctx
                    <span class="string">"No :LINEAR rule can be generated from ~x0 because there ~
                      are no ``maximal terms&#39;&#39; in the inequality produced ~
                      from its conclusion.  In fact, the inequality has ~
                      simplified to one that has no variables."</span>
                    name))
                (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                    ctx
                    <span class="string">"No :LINEAR rule can be generated from ~x0 because there ~
                      are no ``maximal terms&#39;&#39; in the inequality produced ~
                      from its conclusion.  The inequality produced from its ~
                      conclusion involves a linear polynomial in the ~
                      unknown~#1~[~/s~] ~&amp;1.  No unknown above has the three ~
                      properties of a maximal term (see :DOC linear).  What ~
                      can you do?  The most direct solution is to make this a ~
                      :REWRITE rule rather than a :LINEAR rule.  Of course, ~
                      you then have to make sure your intended application ~
                      can suffer it being a :REWRITE rule!  A more ~
                      challenging (and sometimes more rewarding) alternative ~
                      is to package up some of your functions into a new ~
                      non-recursive function (either in the unknowns or the ~
                      hypotheses) so as to create a maximal term.  Of course, ~
                      if you do that, you have to arrange to use that ~
                      non-recursive function in the intended applications of ~
                      this rule."</span>
                    name
                    <a class="sym-link local-def" href="#def-all-vars-in-poly-lst" data-sym="ALL-VARS-IN-POLY-LST" title="(defun all-vars-in-poly-lst (lst)
  (cond ((null lst) nil)
        (t
         (union-equal (strip-cars (access poly (car lst) :alist))
                      (all-vars-in-poly-lst (cdr lst))))))">all-vars-in-poly-lst</a>))))
            ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> trigger-terms)
               (<a class="sym-link local-def" href="#def-all-non-numeric" data-sym="ALL-NON-NUMERIC" title="(defun all-non-numeric (lst ens wrld)
  (cond ((endp lst) t)
        (t
         (mv-let (ts ttree)
                 (type-set (car lst) nil nil nil ens wrld nil nil nil)
...">all-non-numeric</a> <a class="sym-link local-def" href="#def-all-vars-in-poly-lst" data-sym="ALL-VARS-IN-POLY-LST" title="(defun all-vars-in-poly-lst (lst)
  (cond ((null lst) nil)
        (t
         (union-equal (strip-cars (access poly (car lst) :alist))
                      (all-vars-in-poly-lst (cdr lst))))))">all-vars-in-poly-lst</a> ens wrld)) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                ctx
                <span class="string">"The conclusion of a :LINEAR rule produces a polynomial ~
                    c1*x1 + ... + cn*xn where each ci is a constant and each ~
                    xi is a term.  See :DOC linear.  However, in this case ~
                    the conclusion, ~x1, generates such a polynomial ~
                    ~#2~[with a single term, ~x3, and that term is~/for which ~
                    all of the terms xi are~] provably non-numeric; so the ~
                    proposed rule ~x0 would not be reasonable.~#2~[~/  Here ~
                    is that list of terms:~|~%~x3.~]"</span>
                name
                (untranslate concl <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> wrld)
                (if (cdr <a class="sym-link local-def" href="#def-all-vars-in-poly-lst" data-sym="ALL-VARS-IN-POLY-LST" title="(defun all-vars-in-poly-lst (lst)
  (cond ((null lst) nil)
        (t
         (union-equal (strip-cars (access poly (car lst) :alist))
                      (all-vars-in-poly-lst (cdr lst))))))">all-vars-in-poly-lst</a>)
                  <span class="number">1</span>
                  <span class="number">0</span>)
                (if (cdr <a class="sym-link local-def" href="#def-all-vars-in-poly-lst" data-sym="ALL-VARS-IN-POLY-LST" title="(defun all-vars-in-poly-lst (lst)
  (cond ((null lst) nil)
        (t
         (union-equal (strip-cars (access poly (car lst) :alist))
                      (all-vars-in-poly-lst (cdr lst))))))">all-vars-in-poly-lst</a>)
                  (untranslate-lst <a class="sym-link local-def" href="#def-all-vars-in-poly-lst" data-sym="ALL-VARS-IN-POLY-LST" title="(defun all-vars-in-poly-lst (lst)
  (cond ((null lst) nil)
        (t
         (union-equal (strip-cars (access poly (car lst) :alist))
                      (all-vars-in-poly-lst (cdr lst))))))">all-vars-in-poly-lst</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> wrld)
                  (untranslate (car <a class="sym-link local-def" href="#def-all-vars-in-poly-lst" data-sym="ALL-VARS-IN-POLY-LST" title="(defun all-vars-in-poly-lst (lst)
  (cond ((null lst) nil)
        (t
         (union-equal (strip-cars (access poly (car lst) :alist))
                      (all-vars-in-poly-lst (cdr lst))))))">all-vars-in-poly-lst</a>) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> wrld))))
            (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (<a class="sym-link system" href="rewrite.html#def-bad-synp-hyp-msg" data-sym="BAD-SYNP-HYP-MSG">bad-synp-hyp-msg</a> bad-max-term)
                (<a class="sym-link local-def" href="#def-bad-synp-hyp-msg-for-linear" data-sym="BAD-SYNP-HYP-MSG-FOR-LINEAR" title="(defun bad-synp-hyp-msg-for-linear (max-terms hyps wrld)
  (if (null max-terms)
      (mv nil nil)
      (let ((bad-synp-hyp-msg
             (bad-synp-hyp-msg hyps (all-vars (car max-terms)) nil wrld)))
...">bad-synp-hyp-msg-for-linear</a> max-terms hyps wrld)
                (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (<a class="sym-link system" href="rewrite.html#def-bad-synp-hyp-msg" data-sym="BAD-SYNP-HYP-MSG">bad-synp-hyp-msg</a> (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                      ctx
                      <span class="string">"While checking the hypotheses of ~x0 and using the ~
                        trigger term ~x1, the following error message was ~
                        generated:~%~%~@2"</span>
                      name
                      bad-max-term
                      <a class="sym-link system" href="rewrite.html#def-bad-synp-hyp-msg" data-sym="BAD-SYNP-HYP-MSG">bad-synp-hyp-msg</a>))
                  (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (if (<a class="sym-link system" href="basis-a.html#def-warning-disabled-p" data-sym="WARNING-DISABLED-P">warning-disabled-p</a> <span class="string">"Double-rewrite"</span>)
                        state
                        (<a class="sym-link local-def" href="#def-show-double-rewrite-opportunities-linear" data-sym="SHOW-DOUBLE-REWRITE-OPPORTUNITIES-LINEAR" title="(defun show-double-rewrite-opportunities-linear
       (hyps max-terms final-term name ctx ens wrld state)
  (cond ((endp max-terms) state)
        (t
         (pprogn
...">show-double-rewrite-opportunities-linear</a> hyps
                          max-terms
                          concl
                          name
                          ctx
                          ens
                          wrld
                          state))
                      (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((equal max-terms bad-max-terms) (<a class="sym-link system" href="axioms.html#def-warning_24" data-sym="WARNING$">warning$</a> ctx
                            <span class="string">"Non-rec"</span>
                            `(<span class="string">"A :LINEAR rule generated from ~x0 will be ~
                                   triggered only by terms containing the ~
                                   function symbol~#1~[ ~&amp;1, which has a ~
                                   non-recursive definition.~@2  Unless this ~
                                   definition is~/s ~&amp;1, which have ~
                                   non-recursive definitions.~@2  Unless ~
                                   these definitions are~] disabled, such ~
                                   triggering terms are unlikely to arise and ~
                                   so ~x0 is unlikely to ever be used."</span> (<span class="keyword">:name</span> ,NAME)
                              (<span class="keyword">:non-recursive-fns</span> ,(HIDE-LAMBDAS NON-REC-FNS))
                              (<span class="keyword">:rule-class</span> <span class="keyword">:linear</span>))
                            name
                            (<a class="sym-link local-def" href="#def-hide-lambdas" data-sym="HIDE-LAMBDAS" title="(defun hide-lambdas (lst)
  (cond ((null lst) nil)
        (t
         (cons
          (if (flambdap (car lst))
...">hide-lambdas</a> non-rec-fns)
                            (<a class="sym-link local-def" href="#def-non-rec-def-rules-msg" data-sym="NON-REC-DEF-RULES-MSG" title="(defun non-rec-def-rules-msg (alist)
  (let ((lst (non-rec-def-rules-msg-1 alist)))
    (cond ((null lst) &quot;&quot;)
          (t
           (msg &quot;  (Note that ~*0&quot;">non-rec-def-rules-msg</a> non-rec-fns-alist)))
                        (bad-max-terms (<a class="sym-link system" href="axioms.html#def-warning_24" data-sym="WARNING$">warning$</a> ctx
                            <span class="string">"Non-rec"</span>
                            <span class="string">"A :LINEAR rule generated from ~x0 will be ~
                                 triggered by the terms ~&amp;1. ~N2 of these ~
                                 terms, namely ~&amp;3, contain~#3~[s~/~] the ~
                                 function symbol~#4~[ ~&amp;4, which has a ~
                                 non-recursive definition.~@5  Unless this ~
                                 definition is~/s ~&amp;4, which have ~
                                 non-recursive definitions.~@5  Unless these ~
                                 definitions are~] disabled, ~x0 is unlikely ~
                                 to be triggered via ~#3~[this term~/these ~
                                 terms~]."</span>
                            name
                            max-terms
                            (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> bad-max-terms)
                            bad-max-terms
                            (<a class="sym-link local-def" href="#def-hide-lambdas" data-sym="HIDE-LAMBDAS" title="(defun hide-lambdas (lst)
  (cond ((null lst) nil)
        (t
         (cons
          (if (flambdap (car lst))
...">hide-lambdas</a> non-rec-fns)
                            (<a class="sym-link local-def" href="#def-non-rec-def-rules-msg" data-sym="NON-REC-DEF-RULES-MSG" title="(defun non-rec-def-rules-msg (alist)
  (let ((lst (non-rec-def-rules-msg-1 alist)))
    (cond ((null lst) &quot;&quot;)
          (t
           (msg &quot;  (Note that ~*0&quot;">non-rec-def-rules-msg</a> non-rec-fns-alist)))
                        (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> state))
                      (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-nth" data-sym="NTH">nth</a> <span class="number">4</span> free-max-terms-msg) (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> match-free)) (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link system" href="axioms.html#def-warning_24" data-sym="WARNING$">warning$</a> ctx
                              <span class="string">"Free"</span>
                              <span class="string">"A :LINEAR rule generated from ~x0 will be ~
                                  triggered by the term~#1~[~/s~] ~&amp;1.  ~
                                  ~*2This is generally a severe restriction ~
                                  on the applicability of the :LINEAR rule~@3."</span>
                              name
                              max-terms
                              free-max-terms-msg
                              (let ((len-max-terms (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> max-terms)) (len-bad-max-terms (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> (<a class="sym-link system" href="axioms.html#def-nth" data-sym="NTH">nth</a> <span class="number">4</span> free-max-terms-msg))))
                                (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-eql" data-sym="EQL">eql</a> len-bad-max-terms len-max-terms) <span class="string">""</span>)
                                  ((<a class="sym-link system" href="axioms.html#def-eql" data-sym="EQL">eql</a> len-bad-max-terms <span class="number">1</span>) <span class="string">" for this trigger"</span>)
                                  (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">" for these ~n0 triggers"</span> len-bad-max-terms)))))
                            (<a class="sym-link local-def" href="#def-free-variable-error_3F" data-sym="FREE-VARIABLE-ERROR?" title="(defun free-variable-error? (token name ctx wrld state)
  (if (and (null (match-free-default wrld))
           (f-get-global &#39;match-free-error state))
      (er soft ctx
          &quot;The warning above has caused this error in order to make it clear ~
...">free-variable-error?</a> <span class="keyword">:linear</span> name ctx wrld state)))
                        (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil))))))))))))))</pre>
  </div>

<div class="form-block function" id="def-chk-acceptable-linear-rule1" data-defines="CHK-ACCEPTABLE-LINEAR-RULE1" data-references="CDR,CDAR,CAAR,CHK-ACCEPTABLE-LINEAR-RULE2,ER-PROGN,T,VALUE,NULL,COND,STATE,WRLD,ENS,CTX,LST,TRIGGER-TERMS,MATCH-FREE,NAME,DEFUN" data-used-by="CHK-ACCEPTABLE-LINEAR-RULE" data-part-name="CHK-ACCEPTABLE-LINEAR-RULE1" data-part-args="STATE,WRLD,ENS,CTX,LST,TRIGGER-TERMS,MATCH-FREE,NAME" data-part-body="CDR,CHK-ACCEPTABLE-LINEAR-RULE1,STATE,WRLD,ENS,CTX,CDAR,CAAR,TRIGGER-TERMS,MATCH-FREE,NAME,CHK-ACCEPTABLE-LINEAR-RULE2,ER-PROGN,T,VALUE,LST,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CHK-ACCEPTABLE-LINEAR-RULE1">chk-acceptable-linear-rule1</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-chk-acceptable-linear-rule1" data-sym="CHK-ACCEPTABLE-LINEAR-RULE1" title="(defun chk-acceptable-linear-rule1
       (name match-free trigger-terms lst ctx ens wrld state)
  (cond ((null lst) (value nil))
        (t
         (er-progn
...">chk-acceptable-linear-rule1</a>
  (name match-free trigger-terms lst ctx ens wrld state)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> lst) (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-er-progn" data-sym="ER-PROGN">er-progn</a> (<a class="sym-link local-def" href="#def-chk-acceptable-linear-rule2" data-sym="CHK-ACCEPTABLE-LINEAR-RULE2" title="(defun chk-acceptable-linear-rule2
       (name match-free trigger-terms hyps concl ctx ens wrld state)
  (let* ((xconcl (expand-inequality-fncall concl))
         (lst
          (and (null trigger-terms)
...">chk-acceptable-linear-rule2</a> name
          match-free
          trigger-terms
          (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> lst)
          (<a class="sym-link system" href="axioms.html#def-cdar" data-sym="CDAR">cdar</a> lst)
          ctx
          ens
          wrld
          state)
        (<a class="sym-link local-def" href="#def-chk-acceptable-linear-rule1" data-sym="CHK-ACCEPTABLE-LINEAR-RULE1" title="(defun chk-acceptable-linear-rule1
       (name match-free trigger-terms lst ctx ens wrld state)
  (cond ((null lst) (value nil))
        (t
         (er-progn
...">chk-acceptable-linear-rule1</a> name
          match-free
          trigger-terms
          (cdr lst)
          ctx
          ens
          wrld
          state)))))</pre>
  </div>

<div class="form-block function" id="def-chk-acceptable-linear-rule" data-defines="CHK-ACCEPTABLE-LINEAR-RULE" data-references="REMOVE-GUARD-HOLDERS-LAMP,REMOVE-GUARD-HOLDERS,UNPRETTYIFY,POSSIBLY-CLEAN-UP-DIRTY-LAMBDA-OBJECTS-IN-PAIRS,CHK-ACCEPTABLE-LINEAR-RULE1,STATE,WRLD,ENS,CTX,TERM,TRIGGER-TERMS,MATCH-FREE,NAME,DEFUN" data-used-by="CHK-ACCEPTABLE-X-RULE" data-part-name="CHK-ACCEPTABLE-LINEAR-RULE" data-part-args="STATE,WRLD,ENS,CTX,TERM,TRIGGER-TERMS,MATCH-FREE,NAME" data-part-body="STATE,ENS,CTX,REMOVE-GUARD-HOLDERS-LAMP,WRLD,TERM,REMOVE-GUARD-HOLDERS,UNPRETTYIFY,POSSIBLY-CLEAN-UP-DIRTY-LAMBDA-OBJECTS-IN-PAIRS,TRIGGER-TERMS,MATCH-FREE,NAME,CHK-ACCEPTABLE-LINEAR-RULE1" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CHK-ACCEPTABLE-LINEAR-RULE">chk-acceptable-linear-rule</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-chk-acceptable-linear-rule" data-sym="CHK-ACCEPTABLE-LINEAR-RULE" title="(defun chk-acceptable-linear-rule
       (name match-free trigger-terms term ctx ens wrld state)
  (chk-acceptable-linear-rule1 name match-free trigger-terms
                               (possibly-clean-up-dirty-lambda-objects-in-pairs
                                (unprettyify (remove-guard-holders term wrld))
...">chk-acceptable-linear-rule</a>
  (name match-free trigger-terms term ctx ens wrld state)
  (<a class="sym-link local-def" href="#def-chk-acceptable-linear-rule1" data-sym="CHK-ACCEPTABLE-LINEAR-RULE1" title="(defun chk-acceptable-linear-rule1
       (name match-free trigger-terms lst ctx ens wrld state)
  (cond ((null lst) (value nil))
        (t
         (er-progn
...">chk-acceptable-linear-rule1</a> name
    match-free
    trigger-terms
    (possibly-clean-up-dirty-lambda-objects-in-pairs (unprettyify (remove-guard-holders term wrld))
      wrld
      (remove-guard-holders-lamp))
    ctx
    ens
    wrld
    state))</pre>
  </div>

<div class="form-block function" id="def-add-linear-rule3" data-defines="ADD-LINEAR-RULE3" data-references="PUT-MATCH-FREE-VALUE,IF,OR,CDR,GETPROPC,CONS,LINEAR-LEMMAS,QUOTE,ACCESS,FFN-SYMB,PUTPROP,WRLD1,RULE-BACKCHAIN-LIMIT-LST,LINEAR-LEMMA,MAKE,LINEAR-RULE,CAR,MATCH-FREE-VALUE,LET*,T,NULL,COND,WRLD,PUT-MATCH-FREE-DONE,MATCH-FREE,BACKCHAIN-LIMIT-LST,MAX-TERMS,CONCL,HYPS,NUME,RUNE,DEFUN" data-used-by="ADD-LINEAR-RULE2" data-part-name="ADD-LINEAR-RULE3" data-part-args="WRLD,PUT-MATCH-FREE-DONE,MATCH-FREE,BACKCHAIN-LIMIT-LST,MAX-TERMS,CONCL,HYPS,NUME,RUNE" data-part-body="PUT-MATCH-FREE-VALUE,IF,PUT-MATCH-FREE-DONE,OR,CDR,ADD-LINEAR-RULE3,GETPROPC,CONS,LINEAR-LEMMAS,QUOTE,ACCESS,FFN-SYMB,PUTPROP,WRLD1,BACKCHAIN-LIMIT-LST,RULE-BACKCHAIN-LIMIT-LST,CONCL,NUME,RUNE,LINEAR-LEMMA,MAKE,LINEAR-RULE,CAR,HYPS,MATCH-FREE,MATCH-FREE-VALUE,LET*,T,WRLD,MAX-TERMS,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ADD-LINEAR-RULE3">add-linear-rule3</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-add-linear-rule3" data-sym="ADD-LINEAR-RULE3" title="(defun add-linear-rule3
       (rune nume hyps concl max-terms backchain-limit-lst match-free
        put-match-free-done wrld)
  (cond ((null max-terms) wrld)
        (t
...">add-linear-rule3</a>
  (rune nume
    hyps
    concl
    max-terms
    backchain-limit-lst
    match-free
    put-match-free-done
    wrld)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> max-terms) wrld)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((<a class="sym-link local-def" href="#def-match-free-value" data-sym="MATCH-FREE-VALUE" title="(defun match-free-value (match-free hyps pat wrld)
  (or match-free
      (and (free-vars-in-hyps hyps (all-vars pat) wrld)
           (or (match-free-default wrld) :all))))">match-free-value</a> (<a class="sym-link local-def" href="#def-match-free-value" data-sym="MATCH-FREE-VALUE" title="(defun match-free-value (match-free hyps pat wrld)
  (or match-free
      (and (free-vars-in-hyps hyps (all-vars pat) wrld)
           (or (match-free-default wrld) :all))))">match-free-value</a> match-free hyps (car max-terms) wrld)) (linear-rule (<a class="sym-link system" href="basis-a.html#def-make" data-sym="MAKE">make</a> linear-lemma
              <span class="keyword">:rune</span> rune
              <span class="keyword">:nume</span> nume
              <span class="keyword">:hyps</span> hyps
              <span class="keyword">:concl</span> concl
              <span class="keyword">:max-term</span> (car max-terms)
              <span class="keyword">:backchain-limit-lst</span> (<a class="sym-link local-def" href="#def-rule-backchain-limit-lst" data-sym="RULE-BACKCHAIN-LIMIT-LST" title="(defun rule-backchain-limit-lst (backchain-limit-lst hyps wrld flg)
  (cond (backchain-limit-lst (cadr backchain-limit-lst))
        (t
         (let ((limit (default-backchain-limit wrld flg)))
           (and limit
...">rule-backchain-limit-lst</a> backchain-limit-lst
                hyps
                wrld
                <span class="keyword">:rewrite</span>)
              <span class="keyword">:match-free</span> <a class="sym-link local-def" href="#def-match-free-value" data-sym="MATCH-FREE-VALUE" title="(defun match-free-value (match-free hyps pat wrld)
  (or match-free
      (and (free-vars-in-hyps hyps (all-vars pat) wrld)
           (or (match-free-default wrld) :all))))">match-free-value</a>))
          (wrld1 (<a class="sym-link system" href="axioms.html#def-putprop" data-sym="PUTPROP">putprop</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> linear-lemma linear-rule <span class="keyword">:max-term</span>))
              'linear-lemmas
              (cons linear-rule
                (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> linear-lemma linear-rule <span class="keyword">:max-term</span>))
                  'linear-lemmas
                  nil
                  wrld))
              wrld)))
        (<a class="sym-link local-def" href="#def-add-linear-rule3" data-sym="ADD-LINEAR-RULE3" title="(defun add-linear-rule3
       (rune nume hyps concl max-terms backchain-limit-lst match-free
        put-match-free-done wrld)
  (cond ((null max-terms) wrld)
        (t
...">add-linear-rule3</a> rune
          nume
          hyps
          concl
          (cdr max-terms)
          backchain-limit-lst
          match-free
          (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> put-match-free-done <a class="sym-link local-def" href="#def-match-free-value" data-sym="MATCH-FREE-VALUE" title="(defun match-free-value (match-free hyps pat wrld)
  (or match-free
      (and (free-vars-in-hyps hyps (all-vars pat) wrld)
           (or (match-free-default wrld) :all))))">match-free-value</a>)
          (if put-match-free-done
            wrld1
            (<a class="sym-link local-def" href="#def-put-match-free-value" data-sym="PUT-MATCH-FREE-VALUE" title="(defun put-match-free-value (match-free-value rune wrld)
  (cond
   ((eq match-free-value :all)
    (global-set &#39;free-var-runes-all
                (cons rune (global-val &#39;free-var-runes-all wrld)) wrld))
...">put-match-free-value</a> <a class="sym-link local-def" href="#def-match-free-value" data-sym="MATCH-FREE-VALUE" title="(defun match-free-value (match-free hyps pat wrld)
  (or match-free
      (and (free-vars-in-hyps hyps (all-vars pat) wrld)
           (or (match-free-default wrld) :all))))">match-free-value</a> rune wrld1)))))))</pre>
  </div>

<div class="form-block function" id="def-add-linear-rule2" data-defines="ADD-LINEAR-RULE2" data-references="ADD-LINEAR-RULE3,T,ENCAPSULATE,INCLUDE-BOOK,MSG,BASE-SYMBOL,NO-LINEAR-MSG,QUOTE,HARD,ER,COND,ALL-VARS,CAR,ALL-VARS-IN-POLY-LST,MAXIMAL-TERMS,OR,MAX-TERMS,ALL-VARS-IN-HYPS,ALL-VARS-HYPS,PREPROCESS-HYPS,EXTERNAL-LINEARIZE,NULL,AND,LST,EXPAND-INEQUALITY-FNCALL,XCONCL,REMOVE-GUARD-HOLDERS,LET*,STATE,WRLD,ENS,MATCH-FREE,BACKCHAIN-LIMIT-LST,CONCL,HYPS,TRIGGER-TERMS,NUME,RUNE,DEFUN" data-used-by="ADD-LINEAR-RULE1" data-part-name="ADD-LINEAR-RULE2" data-part-args="STATE,WRLD,ENS,MATCH-FREE,BACKCHAIN-LIMIT-LST,CONCL,HYPS,TRIGGER-TERMS,NUME,RUNE" data-part-body="MATCH-FREE,BACKCHAIN-LIMIT-LST,NUME,ADD-LINEAR-RULE3,T,ENCAPSULATE,INCLUDE-BOOK,MSG,RUNE,BASE-SYMBOL,NO-LINEAR-MSG,ADD-LINEAR-RULE2,QUOTE,HARD,ER,COND,ALL-VARS,CAR,ALL-VARS-IN-POLY-LST,MAXIMAL-TERMS,OR,MAX-TERMS,ALL-VARS-IN-HYPS,ALL-VARS-HYPS,PREPROCESS-HYPS,HYPS,STATE,ENS,EXTERNAL-LINEARIZE,TRIGGER-TERMS,NULL,AND,LST,EXPAND-INEQUALITY-FNCALL,XCONCL,WRLD,REMOVE-GUARD-HOLDERS,CONCL,LET*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ADD-LINEAR-RULE2">add-linear-rule2</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-add-linear-rule2" data-sym="ADD-LINEAR-RULE2" title="(defun add-linear-rule2
       (rune nume trigger-terms hyps concl backchain-limit-lst match-free ens
        wrld state)
  (let* ((concl (remove-guard-holders concl wrld))
         (xconcl (expand-inequality-fncall concl))
...">add-linear-rule2</a>
  (rune nume
    trigger-terms
    hyps
    concl
    backchain-limit-lst
    match-free
    ens
    wrld
    state)
  (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((concl (remove-guard-holders concl wrld)) (xconcl (<a class="sym-link local-def" href="#def-expand-inequality-fncall" data-sym="EXPAND-INEQUALITY-FNCALL" title="(defun expand-inequality-fncall (term)
  (mv-let (negativep atm) (strip-not term)
          (let ((atm
                 (cond ((variablep atm) atm) ((fquotep atm) atm)
                       (t (expand-inequality-fncall1 atm)))))">expand-inequality-fncall</a> concl))
      (lst (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> trigger-terms)
          (<a class="sym-link local-def" href="#def-external-linearize" data-sym="EXTERNAL-LINEARIZE" title="(defun external-linearize (term ens wrld state)
  (linearize term t nil ens (ok-to-force-ens ens) wrld nil state))">external-linearize</a> xconcl ens wrld state)))
      (hyps (<a class="sym-link system" href="defuns.html#def-preprocess-hyps" data-sym="PREPROCESS-HYPS">preprocess-hyps</a> hyps wrld))
      (all-vars-hyps (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> trigger-terms) (<a class="sym-link local-def" href="#def-all-vars-in-hyps" data-sym="ALL-VARS-IN-HYPS" title="(defun all-vars-in-hyps (hyps)
  (cond ((null hyps) nil)
        (t
         (let ((vars (all-vars-in-hyps (cdr hyps))))
           (cond ((eq vars t) t)
...">all-vars-in-hyps</a> hyps)))
      (max-terms (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> trigger-terms
          (<a class="sym-link local-def" href="#def-maximal-terms" data-sym="MAXIMAL-TERMS" title="(defun maximal-terms (lst hyp-vars concl-vars)
  (let ((abd-lst (always-biggerp-data-lst lst)))
    (maximal-terms1 abd-lst abd-lst
                    (if (eq hyp-vars t)
                        nil">maximal-terms</a> (<a class="sym-link local-def" href="#def-all-vars-in-poly-lst" data-sym="ALL-VARS-IN-POLY-LST" title="(defun all-vars-in-poly-lst (lst)
  (cond ((null lst) nil)
        (t
         (union-equal (strip-cars (access poly (car lst) :alist))
                      (all-vars-in-poly-lst (cdr lst))))))">all-vars-in-poly-lst</a> (car lst))
            all-vars-hyps
            (<a class="sym-link system" href="axioms.html#def-all-vars" data-sym="ALL-VARS">all-vars</a> concl)))))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> trigger-terms) (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> lst)) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> hard
          '<a class="sym-link local-def" href="#def-add-linear-rule2" data-sym="ADD-LINEAR-RULE2" title="(defun add-linear-rule2
       (rune nume trigger-terms hyps concl backchain-limit-lst match-free ens
        wrld state)
  (let* ((concl (remove-guard-holders concl wrld))
         (xconcl (expand-inequality-fncall concl))
...">add-linear-rule2</a>
          <span class="string">"~@0"</span>
          (<a class="sym-link local-def" href="#def-no-linear-msg" data-sym="NO-LINEAR-MSG" title="(defun no-linear-msg (name concl extra ens wrld state)
  (msg &quot;No :LINEAR rule can be generated from ~x0.  See :DOC linear.~@1~@2&quot;
       name
       (mv-let (flg x ttree)
               (eval-ground-subexpressions concl ens wrld state nil)
...">no-linear-msg</a> (base-symbol rune)
            concl
            (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"  This can happen during ~x0 or the ~
                                    second pass of a call of ~x1, when the ~
                                    current-theory is different than when the ~
                                    rule was originally checked.  You can ~
                                    avoid this error by supplying ~
                                    :trigger-terms in your :linear rule-class."</span>
              '<a class="sym-link system" href="axioms.html#def-include-book" data-sym="INCLUDE-BOOK">include-book</a>
              '<a class="sym-link system" href="axioms.html#def-encapsulate" data-sym="ENCAPSULATE">encapsulate</a>)
            ens
            wrld
            state)))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-add-linear-rule3" data-sym="ADD-LINEAR-RULE3" title="(defun add-linear-rule3
       (rune nume hyps concl max-terms backchain-limit-lst match-free
        put-match-free-done wrld)
  (cond ((null max-terms) wrld)
        (t
...">add-linear-rule3</a> rune
          nume
          hyps
          xconcl
          max-terms
          backchain-limit-lst
          match-free
          nil
          wrld)))))</pre>
  </div>

<div class="form-block function" id="def-add-linear-rule1" data-defines="ADD-LINEAR-RULE1" data-references="CDAR,CAAR,ADD-LINEAR-RULE2,CDR,T,NULL,COND,STATE,WRLD,ENS,MATCH-FREE,BACKCHAIN-LIMIT-LST,LST,TRIGGER-TERMS,NUME,RUNE,DEFUN" data-used-by="ADD-LINEAR-RULE" data-part-name="ADD-LINEAR-RULE1" data-part-args="STATE,WRLD,ENS,MATCH-FREE,BACKCHAIN-LIMIT-LST,LST,TRIGGER-TERMS,NUME,RUNE" data-part-body="STATE,CDAR,CAAR,ADD-LINEAR-RULE2,ENS,MATCH-FREE,BACKCHAIN-LIMIT-LST,CDR,TRIGGER-TERMS,NUME,RUNE,ADD-LINEAR-RULE1,T,WRLD,LST,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ADD-LINEAR-RULE1">add-linear-rule1</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-add-linear-rule1" data-sym="ADD-LINEAR-RULE1" title="(defun add-linear-rule1
       (rune nume trigger-terms lst backchain-limit-lst match-free ens wrld
        state)
  (cond ((null lst) wrld)
        (t
...">add-linear-rule1</a>
  (rune nume
    trigger-terms
    lst
    backchain-limit-lst
    match-free
    ens
    wrld
    state)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> lst) wrld)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-add-linear-rule1" data-sym="ADD-LINEAR-RULE1" title="(defun add-linear-rule1
       (rune nume trigger-terms lst backchain-limit-lst match-free ens wrld
        state)
  (cond ((null lst) wrld)
        (t
...">add-linear-rule1</a> rune
        nume
        trigger-terms
        (cdr lst)
        backchain-limit-lst
        match-free
        ens
        (<a class="sym-link local-def" href="#def-add-linear-rule2" data-sym="ADD-LINEAR-RULE2" title="(defun add-linear-rule2
       (rune nume trigger-terms hyps concl backchain-limit-lst match-free ens
        wrld state)
  (let* ((concl (remove-guard-holders concl wrld))
         (xconcl (expand-inequality-fncall concl))
...">add-linear-rule2</a> rune
          nume
          trigger-terms
          (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> lst)
          (<a class="sym-link system" href="axioms.html#def-cdar" data-sym="CDAR">cdar</a> lst)
          backchain-limit-lst
          match-free
          ens
          wrld
          state)
        state))))</pre>
  </div>

<div class="form-block function" id="def-add-linear-rule" data-defines="ADD-LINEAR-RULE" data-references="REMOVE-GUARD-HOLDERS-LAMP,REMOVE-GUARD-HOLDERS,UNPRETTYIFY,POSSIBLY-CLEAN-UP-DIRTY-LAMBDA-OBJECTS-IN-PAIRS,ADD-LINEAR-RULE1,STATE,WRLD,ENS,MATCH-FREE,BACKCHAIN-LIMIT-LST,TERM,TRIGGER-TERMS,NUME,RUNE,DEFUN" data-used-by="ADD-X-RULE" data-part-name="ADD-LINEAR-RULE" data-part-args="STATE,WRLD,ENS,MATCH-FREE,BACKCHAIN-LIMIT-LST,TERM,TRIGGER-TERMS,NUME,RUNE" data-part-body="STATE,ENS,MATCH-FREE,BACKCHAIN-LIMIT-LST,REMOVE-GUARD-HOLDERS-LAMP,WRLD,TERM,REMOVE-GUARD-HOLDERS,UNPRETTYIFY,POSSIBLY-CLEAN-UP-DIRTY-LAMBDA-OBJECTS-IN-PAIRS,TRIGGER-TERMS,NUME,RUNE,ADD-LINEAR-RULE1" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ADD-LINEAR-RULE">add-linear-rule</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-add-linear-rule" data-sym="ADD-LINEAR-RULE" title="(defun add-linear-rule
       (rune nume trigger-terms term backchain-limit-lst match-free ens wrld
        state)
  (add-linear-rule1 rune nume trigger-terms
                    (possibly-clean-up-dirty-lambda-objects-in-pairs
...">add-linear-rule</a>
  (rune nume
    trigger-terms
    term
    backchain-limit-lst
    match-free
    ens
    wrld
    state)
  (<a class="sym-link local-def" href="#def-add-linear-rule1" data-sym="ADD-LINEAR-RULE1" title="(defun add-linear-rule1
       (rune nume trigger-terms lst backchain-limit-lst match-free ens wrld
        state)
  (cond ((null lst) wrld)
        (t
...">add-linear-rule1</a> rune
    nume
    trigger-terms
    (possibly-clean-up-dirty-lambda-objects-in-pairs (unprettyify (remove-guard-holders term wrld))
      wrld
      (remove-guard-holders-lamp))
    backchain-limit-lst
    match-free
    ens
    wrld
    state))</pre>
  </div>

<div class="form-block function" id="def-destructure-well-founded-relation-rule" data-defines="DESTRUCTURE-WELL-FOUNDED-RELATION-RULE" data-references="&,T,MV,EQ,NOT,VARIABLEP,SYMBOLP,AND,COND,O<,REL,Y,FN,O-P,X,MP,IMPLIES,IF,QUOTE,CASE-MATCH,TERM,DEFUN" data-used-by="ADD-WELL-FOUNDED-RELATION-RULE,CHK-ACCEPTABLE-WELL-FOUNDED-RELATION-RULE" data-part-name="DESTRUCTURE-WELL-FOUNDED-RELATION-RULE" data-part-args="TERM" data-part-body="&,T,MV,EQ,NOT,VARIABLEP,SYMBOLP,AND,COND,O<,REL,Y,FN,O-P,X,MP,IMPLIES,IF,QUOTE,TERM,CASE-MATCH" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DESTRUCTURE-WELL-FOUNDED-RELATION-RULE">destructure-well-founded-relation-rule</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-destructure-well-founded-relation-rule" data-sym="DESTRUCTURE-WELL-FOUNDED-RELATION-RULE" title="(defun destructure-well-founded-relation-rule (term)
  (case-match term
              ((&#39;if (&#39;implies (mp x) (&#39;o-p (fn x)))
                (&#39;implies (&#39;if (mp x) (&#39;if (mp y) (rel x y) &#39;&#39;nil) &#39;&#39;nil)
                 (&#39;o&lt; (fn x) (fn y)))
...">destructure-well-founded-relation-rule</a>
  (term)
  (<a class="sym-link system" href="basis-a.html#def-case-match" data-sym="CASE-MATCH">case-match</a> term
    (('if ('<a class="sym-link system" href="axioms.html#def-implies" data-sym="IMPLIES">implies</a> (mp x) ('<a class="sym-link system" href="axioms.html#def-o-p" data-sym="O-P">o-p</a> (fn x)))
       ('<a class="sym-link system" href="axioms.html#def-implies" data-sym="IMPLIES">implies</a> ('if (mp x) ('if (mp y) (rel x y) ''nil) ''nil)
         ('<a class="sym-link system" href="axioms.html#def-o_3C" data-sym="O&lt;">o&lt;</a> (fn x) (fn y)))
       ''nil) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (symbolp mp)
           (<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> x)
           (symbolp fn)
           (<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> y)
           (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> x y))
           (symbolp rel)) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> mp rel))
        (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil nil))))
    (('if ('<a class="sym-link system" href="axioms.html#def-o-p" data-sym="O-P">o-p</a> (fn x))
       ('<a class="sym-link system" href="axioms.html#def-implies" data-sym="IMPLIES">implies</a> (rel x y) ('<a class="sym-link system" href="axioms.html#def-o_3C" data-sym="O&lt;">o&lt;</a> (fn x) (fn y)))
       ''nil) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> x)
           (symbolp fn)
           (<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> y)
           (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> x y))
           (symbolp rel)) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> rel))
        (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil nil))))
    (&amp; (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil nil))))</pre>
  </div>

<div class="form-block function" id="def-chk-acceptable-well-founded-relation-rule" data-defines="CHK-ACCEPTABLE-WELL-FOUNDED-RELATION-RULE" data-references="VALUE,MSG,T,IF,CDDR,CADR,EQ,NOT,WELL-FOUNDED-RELATION-ALIST,QUOTE,GLOBAL-VAL,ASSOC-EQ,AND,SOFT,ER,NULL,COND,DESTRUCTURE-WELL-FOUNDED-RELATION-RULE,REL,MP,MV-LET,STATE,WRLD,CTX,TERM,NAME,DEFUN" data-used-by="CHK-ACCEPTABLE-X-RULE" data-part-name="CHK-ACCEPTABLE-WELL-FOUNDED-RELATION-RULE" data-part-args="STATE,WRLD,CTX,TERM,NAME" data-part-body="VALUE,MSG,T,IF,CDDR,CADR,EQ,NOT,WRLD,WELL-FOUNDED-RELATION-ALIST,QUOTE,GLOBAL-VAL,ASSOC-EQ,AND,NAME,CTX,SOFT,ER,NULL,COND,TERM,DESTRUCTURE-WELL-FOUNDED-RELATION-RULE,REL,MP,MV-LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CHK-ACCEPTABLE-WELL-FOUNDED-RELATION-RULE">chk-acceptable-well-founded-relation-rule</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-chk-acceptable-well-founded-relation-rule" data-sym="CHK-ACCEPTABLE-WELL-FOUNDED-RELATION-RULE" title="(defun chk-acceptable-well-founded-relation-rule (name term ctx wrld state)
  (mv-let (mp rel) (destructure-well-founded-relation-rule term)
          (cond
           ((null mp)
            (er soft ctx
...">chk-acceptable-well-founded-relation-rule</a>
  (name term ctx wrld state)
  (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (mp rel)
    (<a class="sym-link local-def" href="#def-destructure-well-founded-relation-rule" data-sym="DESTRUCTURE-WELL-FOUNDED-RELATION-RULE" title="(defun destructure-well-founded-relation-rule (term)
  (case-match term
              ((&#39;if (&#39;implies (mp x) (&#39;o-p (fn x)))
                (&#39;implies (&#39;if (mp x) (&#39;if (mp y) (rel x y) &#39;&#39;nil) &#39;&#39;nil)
                 (&#39;o&lt; (fn x) (fn y)))
...">destructure-well-founded-relation-rule</a> term)
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> mp) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
          ctx
          <span class="string">"No :WELL-FOUNDED-RELATION rule can be generated for ~x0 ~
          because it does not have either of the two general forms ~
          described in :DOC well-founded-relation."</span>
          name))
      ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a> rel
           (<a class="sym-link system" href="axioms.html#def-global-val" data-sym="GLOBAL-VAL">global-val</a> 'well-founded-relation-alist wrld))
         (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a> rel
                 (<a class="sym-link system" href="axioms.html#def-global-val" data-sym="GLOBAL-VAL">global-val</a> 'well-founded-relation-alist wrld)))
             mp))) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
          ctx
          <span class="string">"~x0 was shown in ~x1 to be well-founded~@2  We do not permit more ~
          than one domain to be associated with a well-founded relation.  To ~
          proceed in this direction, you should define some new function ~
          symbol to be ~x0 and state your well-foundedness in terms of the ~
          new function."</span>
          rel
          (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-cddr" data-sym="CDDR">cddr</a> (<a class="sym-link system" href="axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a> rel
                (<a class="sym-link system" href="axioms.html#def-global-val" data-sym="GLOBAL-VAL">global-val</a> 'well-founded-relation-alist wrld))))
          (if (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a> rel
                  (<a class="sym-link system" href="axioms.html#def-global-val" data-sym="GLOBAL-VAL">global-val</a> 'well-founded-relation-alist wrld)))
              <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)
            <span class="string">"."</span>
            (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">" on objects satisfying ~x0."</span>
              (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a> rel
                  (<a class="sym-link system" href="axioms.html#def-global-val" data-sym="GLOBAL-VAL">global-val</a> 'well-founded-relation-alist wrld)))))))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil)))))</pre>
  </div>

<div class="form-block function" id="def-add-well-founded-relation-rule" data-defines="ADD-WELL-FOUNDED-RELATION-RULE" data-references="GLOBAL-VAL,CONS,WELL-FOUNDED-RELATION-ALIST,QUOTE,GLOBAL-SET,DESTRUCTURE-WELL-FOUNDED-RELATION-RULE,REL,MP,MV-LET,IGNORE,DECLARE,WRLD,TERM,NUME,RUNE,DEFUN" data-used-by="ADD-X-RULE" data-part-name="ADD-WELL-FOUNDED-RELATION-RULE" data-part-args="WRLD,TERM,NUME,RUNE" data-part-declare="NUME,IGNORE,DECLARE" data-part-body="WRLD,GLOBAL-VAL,RUNE,CONS,WELL-FOUNDED-RELATION-ALIST,QUOTE,GLOBAL-SET,TERM,DESTRUCTURE-WELL-FOUNDED-RELATION-RULE,REL,MP,MV-LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ADD-WELL-FOUNDED-RELATION-RULE">add-well-founded-relation-rule</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-add-well-founded-relation-rule" data-sym="ADD-WELL-FOUNDED-RELATION-RULE" title="(defun add-well-founded-relation-rule (rune nume term wrld)
  (declare (ignore nume))
  (mv-let (mp rel) (destructure-well-founded-relation-rule term)
          (global-set &#39;well-founded-relation-alist
                      (cons (cons rel (cons mp rune))
...">add-well-founded-relation-rule</a>
  (rune nume term wrld)
  (declare (ignore nume))
  (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (mp rel)
    (<a class="sym-link local-def" href="#def-destructure-well-founded-relation-rule" data-sym="DESTRUCTURE-WELL-FOUNDED-RELATION-RULE" title="(defun destructure-well-founded-relation-rule (term)
  (case-match term
              ((&#39;if (&#39;implies (mp x) (&#39;o-p (fn x)))
                (&#39;implies (&#39;if (mp x) (&#39;if (mp y) (rel x y) &#39;&#39;nil) &#39;&#39;nil)
                 (&#39;o&lt; (fn x) (fn y)))
...">destructure-well-founded-relation-rule</a> term)
    (<a class="sym-link system" href="basis-b.html#def-global-set" data-sym="GLOBAL-SET">global-set</a> 'well-founded-relation-alist
      (cons (cons rel (cons mp rune))
        (<a class="sym-link system" href="axioms.html#def-global-val" data-sym="GLOBAL-VAL">global-val</a> 'well-founded-relation-alist wrld))
      wrld)))</pre>
  </div>

<div class="form-block function" id="def-chk-acceptable-built-in-clause-rule2" data-defines="CHK-ACCEPTABLE-BUILT-IN-CLAUSE-RULE2" data-references="VALUE,IMPLIES,UNTRANSLATE,SOFT,ER,COND,SR-LIMIT,T,CLAUSIFY,CLAUSES,*T*,CONJOIN,QUOTE,MCONS-TERM*,NULL,IF,TERM,LET*,STATE,WRLD,CTX,CONCL,HYPS,NAME,DEFUN" data-used-by="CHK-ACCEPTABLE-BUILT-IN-CLAUSE-RULE1" data-part-name="CHK-ACCEPTABLE-BUILT-IN-CLAUSE-RULE2" data-part-args="STATE,WRLD,CTX,CONCL,HYPS,NAME" data-part-body="VALUE,IMPLIES,UNTRANSLATE,NAME,CTX,SOFT,ER,COND,WRLD,SR-LIMIT,T,CLAUSIFY,CLAUSES,*T*,CONJOIN,QUOTE,MCONS-TERM*,CONCL,HYPS,NULL,IF,TERM,LET*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CHK-ACCEPTABLE-BUILT-IN-CLAUSE-RULE2">chk-acceptable-built-in-clause-rule2</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-chk-acceptable-built-in-clause-rule2" data-sym="CHK-ACCEPTABLE-BUILT-IN-CLAUSE-RULE2" title="(defun chk-acceptable-built-in-clause-rule2 (name hyps concl ctx wrld state)
  (let* ((term
          (if (null hyps)
              concl
              (mcons-term* &#39;if (conjoin hyps) concl *t*)))
...">chk-acceptable-built-in-clause-rule2</a>
  (name hyps concl ctx wrld state)
  (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((term (if (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> hyps)
         concl
         (<a class="sym-link system" href="basis-b.html#def-mcons-term_2A" data-sym="MCONS-TERM*">mcons-term*</a> 'if (<a class="sym-link system" href="axioms.html#def-conjoin" data-sym="CONJOIN">conjoin</a> hyps) concl <a class="sym-link system" href="axioms.html#def-_2At_2A" data-sym="*T*">*t*</a>))) (clauses (<a class="sym-link system" href="rewrite.html#def-clausify" data-sym="CLAUSIFY">clausify</a> term nil <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-sr-limit" data-sym="SR-LIMIT">sr-limit</a> wrld))))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> clauses) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
          ctx
          <span class="string">"~x0 is an illegal :built-in-clause rule because ~p1 clausifies ~
                to nil, indicating that it is a propositional tautology.  See ~
                :DOC built-in-clause."</span>
          name
          (untranslate (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> hyps) concl)
              (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="basis-b.html#def-mcons-term_2A" data-sym="MCONS-TERM*">mcons-term*</a> '<a class="sym-link system" href="axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="axioms.html#def-conjoin" data-sym="CONJOIN">conjoin</a> hyps) concl)))
            <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
            wrld)))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil)))))</pre>
  </div>

<div class="form-block function" id="def-chk-acceptable-built-in-clause-rule1" data-defines="CHK-ACCEPTABLE-BUILT-IN-CLAUSE-RULE1" data-references="CDR,CDAR,CAAR,CHK-ACCEPTABLE-BUILT-IN-CLAUSE-RULE2,ER-PROGN,T,VALUE,NULL,COND,STATE,WRLD,CTX,LST,NAME,DEFUN" data-used-by="CHK-ACCEPTABLE-BUILT-IN-CLAUSE-RULE" data-part-name="CHK-ACCEPTABLE-BUILT-IN-CLAUSE-RULE1" data-part-args="STATE,WRLD,CTX,LST,NAME" data-part-body="CDR,CHK-ACCEPTABLE-BUILT-IN-CLAUSE-RULE1,STATE,WRLD,CTX,CDAR,CAAR,NAME,CHK-ACCEPTABLE-BUILT-IN-CLAUSE-RULE2,ER-PROGN,T,VALUE,LST,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CHK-ACCEPTABLE-BUILT-IN-CLAUSE-RULE1">chk-acceptable-built-in-clause-rule1</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-chk-acceptable-built-in-clause-rule1" data-sym="CHK-ACCEPTABLE-BUILT-IN-CLAUSE-RULE1" title="(defun chk-acceptable-built-in-clause-rule1 (name lst ctx wrld state)
  (cond ((null lst) (value nil))
        (t
         (er-progn
          (chk-acceptable-built-in-clause-rule2 name (caar lst) (cdar lst) ctx
...">chk-acceptable-built-in-clause-rule1</a>
  (name lst ctx wrld state)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> lst) (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-er-progn" data-sym="ER-PROGN">er-progn</a> (<a class="sym-link local-def" href="#def-chk-acceptable-built-in-clause-rule2" data-sym="CHK-ACCEPTABLE-BUILT-IN-CLAUSE-RULE2" title="(defun chk-acceptable-built-in-clause-rule2 (name hyps concl ctx wrld state)
  (let* ((term
          (if (null hyps)
              concl
              (mcons-term* &#39;if (conjoin hyps) concl *t*)))
...">chk-acceptable-built-in-clause-rule2</a> name
          (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> lst)
          (<a class="sym-link system" href="axioms.html#def-cdar" data-sym="CDAR">cdar</a> lst)
          ctx
          wrld
          state)
        (<a class="sym-link local-def" href="#def-chk-acceptable-built-in-clause-rule1" data-sym="CHK-ACCEPTABLE-BUILT-IN-CLAUSE-RULE1" title="(defun chk-acceptable-built-in-clause-rule1 (name lst ctx wrld state)
  (cond ((null lst) (value nil))
        (t
         (er-progn
          (chk-acceptable-built-in-clause-rule2 name (caar lst) (cdar lst) ctx
...">chk-acceptable-built-in-clause-rule1</a> name
          (cdr lst)
          ctx
          wrld
          state)))))</pre>
  </div>

<div class="form-block function" id="def-chk-acceptable-built-in-clause-rule" data-defines="CHK-ACCEPTABLE-BUILT-IN-CLAUSE-RULE" data-references="UNPRETTYIFY,CHK-ACCEPTABLE-BUILT-IN-CLAUSE-RULE1,STATE,WRLD,CTX,TERM,NAME,DEFUN" data-used-by="CHK-ACCEPTABLE-X-RULE" data-part-name="CHK-ACCEPTABLE-BUILT-IN-CLAUSE-RULE" data-part-args="STATE,WRLD,CTX,TERM,NAME" data-part-body="STATE,WRLD,CTX,TERM,UNPRETTYIFY,NAME,CHK-ACCEPTABLE-BUILT-IN-CLAUSE-RULE1" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CHK-ACCEPTABLE-BUILT-IN-CLAUSE-RULE">chk-acceptable-built-in-clause-rule</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-chk-acceptable-built-in-clause-rule" data-sym="CHK-ACCEPTABLE-BUILT-IN-CLAUSE-RULE" title="(defun chk-acceptable-built-in-clause-rule (name term ctx wrld state)
  (chk-acceptable-built-in-clause-rule1 name (unprettyify term) ctx wrld state))">chk-acceptable-built-in-clause-rule</a>
  (name term ctx wrld state)
  (<a class="sym-link local-def" href="#def-chk-acceptable-built-in-clause-rule1" data-sym="CHK-ACCEPTABLE-BUILT-IN-CLAUSE-RULE1" title="(defun chk-acceptable-built-in-clause-rule1 (name lst ctx wrld state)
  (cond ((null lst) (value nil))
        (t
         (er-progn
          (chk-acceptable-built-in-clause-rule2 name (caar lst) (cdar lst) ctx
...">chk-acceptable-built-in-clause-rule1</a> name
    (unprettyify term)
    ctx
    wrld
    state))</pre>
  </div>

<div class="form-block mutual-recursion" id="def-fn-and-maximal-level-no" data-defines="FN-AND-MAXIMAL-LEVEL-NO" data-references="CDR,CAR,NULL,LST,>,GET-LEVEL-NO,N,LET,T,*ONE-WAY-UNIFY1-IMPLICIT-FNS*,MEMBER-EQ,FARGS,FN-AND-MAXIMAL-LEVEL-NO-LST,LAMBDA-BODY,MV-LET,FFN-SYMB,FLAMBDAP,FQUOTEP,MV,VARIABLEP,COND,MAX,FN,WRLD,TERM,DEFUN,MUTUAL-RECURSION" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="FN-AND-MAXIMAL-LEVEL-NO">fn-and-maximal-level-no</span><span class="form-type">mutual-recursion</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-mutual-recursion" data-sym="MUTUAL-RECURSION">mutual-recursion</a> (<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-fn-and-maximal-level-no" data-sym="FN-AND-MAXIMAL-LEVEL-NO" title="(mutual-recursion
 (defun fn-and-maximal-level-no (term wrld fn max)
   (cond ((variablep term) (mv fn max)) ((fquotep term) (mv fn max))
         ((flambdap (ffn-symb term))
          (mv-let (fn max)
...">fn-and-maximal-level-no</a>
    (term wrld fn max)
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> term) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> fn max))
      ((<a class="sym-link system" href="axioms.html#def-fquotep" data-sym="FQUOTEP">fquotep</a> term) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> fn max))
      ((<a class="sym-link system" href="basis-b.html#def-flambdap" data-sym="FLAMBDAP">flambdap</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term)) (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (fn max)
          (<a class="sym-link local-def" href="#def-fn-and-maximal-level-no" data-sym="FN-AND-MAXIMAL-LEVEL-NO" title="(mutual-recursion
 (defun fn-and-maximal-level-no (term wrld fn max)
   (cond ((variablep term) (mv fn max)) ((fquotep term) (mv fn max))
         ((flambdap (ffn-symb term))
          (mv-let (fn max)
...">fn-and-maximal-level-no</a> (<a class="sym-link system" href="basis-b.html#def-lambda-body" data-sym="LAMBDA-BODY">lambda-body</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term))
            wrld
            fn
            max)
          (fn-and-maximal-level-no-lst (<a class="sym-link system" href="axioms.html#def-fargs" data-sym="FARGS">fargs</a> term) wrld fn max)))
      ((<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term) *one-way-unify1-implicit-fns*) (fn-and-maximal-level-no-lst (<a class="sym-link system" href="axioms.html#def-fargs" data-sym="FARGS">fargs</a> term) wrld fn max))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((n (get-level-no (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term) wrld)))
          (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-_3E" data-sym="&gt;">&gt;</a> n max) (fn-and-maximal-level-no-lst (<a class="sym-link system" href="axioms.html#def-fargs" data-sym="FARGS">fargs</a> term)
                wrld
                (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term)
                n))
            (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (fn-and-maximal-level-no-lst (<a class="sym-link system" href="axioms.html#def-fargs" data-sym="FARGS">fargs</a> term) wrld fn max)))))))
  (<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> fn-and-maximal-level-no-lst
    (lst wrld fn max)
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> lst) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> fn max))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (fn max)
          (<a class="sym-link local-def" href="#def-fn-and-maximal-level-no" data-sym="FN-AND-MAXIMAL-LEVEL-NO" title="(mutual-recursion
 (defun fn-and-maximal-level-no (term wrld fn max)
   (cond ((variablep term) (mv fn max)) ((fquotep term) (mv fn max))
         ((flambdap (ffn-symb term))
          (mv-let (fn max)
...">fn-and-maximal-level-no</a> (car lst) wrld fn max)
          (fn-and-maximal-level-no-lst (cdr lst) wrld fn max))))))</pre>
  </div>

<div class="form-block function" id="def-built-in-clause-discriminator-fn" data-defines="BUILT-IN-CLAUSE-DISCRIMINATOR-FN" data-references="IGNORE,DECLARE,FN-AND-MAXIMAL-LEVEL-NO-LST,MAX,FN,MV-LET,WRLD,CL,DEFUN" data-used-by="ALL-FNNAMES-SUBSUMER" data-part-name="BUILT-IN-CLAUSE-DISCRIMINATOR-FN" data-part-args="WRLD,CL" data-part-body="IGNORE,DECLARE,WRLD,CL,FN-AND-MAXIMAL-LEVEL-NO-LST,MAX,FN,MV-LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="BUILT-IN-CLAUSE-DISCRIMINATOR-FN">built-in-clause-discriminator-fn</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-built-in-clause-discriminator-fn" data-sym="BUILT-IN-CLAUSE-DISCRIMINATOR-FN" title="(defun built-in-clause-discriminator-fn (cl wrld)
  (mv-let (fn max) (fn-and-maximal-level-no-lst cl wrld nil -1)
          (declare (ignore max)) fn))">built-in-clause-discriminator-fn</a>
  (cl wrld)
  (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (fn max)
    (fn-and-maximal-level-no-lst cl wrld nil <span class="number">-1</span>)
    (declare (ignore max))
    fn))</pre>
  </div>

<div class="form-block function" id="def-all-fnnames-subsumer" data-defines="ALL-FNNAMES-SUBSUMER" data-references="REMOVE1-EQ,CONS,T,NULL,COND,BUILT-IN-CLAUSE-DISCRIMINATOR-FN,DISCRIM-FN,*ONE-WAY-UNIFY1-IMPLICIT-FNS*,ALL-FNNAMES-LST,SET-DIFFERENCE-EQ,SYMS,LET,WRLD,CL,DEFUN" data-used-by="CLASSIFY-AND-STORE-BUILT-IN-CLAUSE-RULES,CHK-INITIAL-BUILT-IN-CLAUSES,MAKE-BUILT-IN-CLAUSE-RULES1" data-part-name="ALL-FNNAMES-SUBSUMER" data-part-args="WRLD,CL" data-part-body="REMOVE1-EQ,CONS,T,NULL,COND,WRLD,BUILT-IN-CLAUSE-DISCRIMINATOR-FN,DISCRIM-FN,*ONE-WAY-UNIFY1-IMPLICIT-FNS*,CL,ALL-FNNAMES-LST,SET-DIFFERENCE-EQ,SYMS,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ALL-FNNAMES-SUBSUMER">all-fnnames-subsumer</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-all-fnnames-subsumer" data-sym="ALL-FNNAMES-SUBSUMER" title="(defun all-fnnames-subsumer (cl wrld)
  (let ((syms
         (set-difference-eq (all-fnnames-lst cl)
                            *one-way-unify1-implicit-fns*))
        (discrim-fn (built-in-clause-discriminator-fn cl wrld)))
...">all-fnnames-subsumer</a>
  (cl wrld)
  (let ((syms (<a class="sym-link system" href="axioms.html#def-set-difference-eq" data-sym="SET-DIFFERENCE-EQ">set-difference-eq</a> (all-fnnames-lst cl)
         *one-way-unify1-implicit-fns*)) (discrim-fn (<a class="sym-link local-def" href="#def-built-in-clause-discriminator-fn" data-sym="BUILT-IN-CLAUSE-DISCRIMINATOR-FN" title="(defun built-in-clause-discriminator-fn (cl wrld)
  (mv-let (fn max) (fn-and-maximal-level-no-lst cl wrld nil -1)
          (declare (ignore max)) fn))">built-in-clause-discriminator-fn</a> cl wrld)))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> discrim-fn) syms)
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (cons discrim-fn (<a class="sym-link system" href="axioms.html#def-remove1-eq" data-sym="REMOVE1-EQ">remove1-eq</a> discrim-fn syms))))))</pre>
  </div>

<div class="form-block function" id="def-make-built-in-clause-rules1" data-defines="MAKE-BUILT-IN-CLAUSE-RULES1" data-references="CDR,ALL-FNNAMES-SUBSUMER,BUILT-IN-CLAUSE,MAKE,BUTLAST,LAST,CAR,CONS,CL,LET,T,NULL,COND,WRLD,CLAUSES,NUME,RUNE,DEFUN" data-used-by="MAKE-BUILT-IN-CLAUSE-RULES" data-part-name="MAKE-BUILT-IN-CLAUSE-RULES1" data-part-args="WRLD,CLAUSES,NUME,RUNE" data-part-body="CDR,MAKE-BUILT-IN-CLAUSE-RULES1,WRLD,ALL-FNNAMES-SUBSUMER,NUME,RUNE,BUILT-IN-CLAUSE,MAKE,BUTLAST,LAST,CAR,CONS,CL,LET,T,CLAUSES,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="MAKE-BUILT-IN-CLAUSE-RULES1">make-built-in-clause-rules1</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-make-built-in-clause-rules1" data-sym="MAKE-BUILT-IN-CLAUSE-RULES1" title="(defun make-built-in-clause-rules1 (rune nume clauses wrld)
  (cond ((null clauses) nil)
        (t
         (let ((cl (cons (car (last (car clauses))) (butlast (car clauses) 1))))
           (cons
...">make-built-in-clause-rules1</a>
  (rune nume clauses wrld)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> clauses) nil)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((cl (cons (car (<a class="sym-link system" href="axioms.html#def-last" data-sym="LAST">last</a> (car clauses))) (<a class="sym-link system" href="axioms.html#def-butlast" data-sym="BUTLAST">butlast</a> (car clauses) <span class="number">1</span>))))
        (cons (<a class="sym-link system" href="basis-a.html#def-make" data-sym="MAKE">make</a> built-in-clause
            <span class="keyword">:rune</span> rune
            <span class="keyword">:nume</span> nume
            <span class="keyword">:clause</span> cl
            <span class="keyword">:all-fnnames</span> (<a class="sym-link local-def" href="#def-all-fnnames-subsumer" data-sym="ALL-FNNAMES-SUBSUMER" title="(defun all-fnnames-subsumer (cl wrld)
  (let ((syms
         (set-difference-eq (all-fnnames-lst cl)
                            *one-way-unify1-implicit-fns*))
        (discrim-fn (built-in-clause-discriminator-fn cl wrld)))
...">all-fnnames-subsumer</a> cl wrld))
          (<a class="sym-link local-def" href="#def-make-built-in-clause-rules1" data-sym="MAKE-BUILT-IN-CLAUSE-RULES1" title="(defun make-built-in-clause-rules1 (rune nume clauses wrld)
  (cond ((null clauses) nil)
        (t
         (let ((cl (cons (car (last (car clauses))) (butlast (car clauses) 1))))
           (cons
...">make-built-in-clause-rules1</a> rune nume (cdr clauses) wrld))))))</pre>
  </div>

<div class="form-block function" id="def-chk-initial-built-in-clauses" data-defines="CHK-INITIAL-BUILT-IN-CLAUSES" data-references="EQUAL,NOT,OR,QUOTE,*FAKE-RUNE-FOR-ANONYMOUS-ENABLED-RULE*,MAKE,QUASIQUOTE,CONS,CDR,ALL-FNNAMES-SUBSUMER,FNNAMES2,FNNAMES1,CAR,BUILT-IN-CLAUSE,ACCESS,CLAUSE,LET*,T,REVERSE,NULL,COND,SOME-BADP,GOOD-LST,WRLD,LST,DEFUN" data-part-name="CHK-INITIAL-BUILT-IN-CLAUSES" data-part-args="SOME-BADP,GOOD-LST,WRLD,LST" data-part-body="EQUAL,NOT,OR,QUOTE,*FAKE-RUNE-FOR-ANONYMOUS-ENABLED-RULE*,MAKE,QUASIQUOTE,CONS,CDR,CHK-INITIAL-BUILT-IN-CLAUSES,WRLD,ALL-FNNAMES-SUBSUMER,FNNAMES2,FNNAMES1,CAR,BUILT-IN-CLAUSE,ACCESS,CLAUSE,LET*,T,GOOD-LST,REVERSE,SOME-BADP,LST,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CHK-INITIAL-BUILT-IN-CLAUSES">chk-initial-built-in-clauses</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-chk-initial-built-in-clauses" data-sym="CHK-INITIAL-BUILT-IN-CLAUSES" title="(defun chk-initial-built-in-clauses (lst wrld good-lst some-badp)
  (cond ((null lst) (cond (some-badp (reverse good-lst)) (t nil)))
        (t
         (let* ((clause (access built-in-clause (car lst) :clause))
                (fnnames1 (access built-in-clause (car lst) :all-fnnames))
...">chk-initial-built-in-clauses</a>
  (lst wrld good-lst some-badp)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> lst) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (some-badp (<a class="sym-link system" href="axioms.html#def-reverse" data-sym="REVERSE">reverse</a> good-lst)) (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> nil)))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((clause (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> built-in-clause (car lst) <span class="keyword">:clause</span>)) (fnnames1 (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> built-in-clause (car lst) <span class="keyword">:all-fnnames</span>))
          (fnnames2 (<a class="sym-link local-def" href="#def-all-fnnames-subsumer" data-sym="ALL-FNNAMES-SUBSUMER" title="(defun all-fnnames-subsumer (cl wrld)
  (let ((syms
         (set-difference-eq (all-fnnames-lst cl)
                            *one-way-unify1-implicit-fns*))
        (discrim-fn (built-in-clause-discriminator-fn cl wrld)))
...">all-fnnames-subsumer</a> clause wrld)))
        (<a class="sym-link local-def" href="#def-chk-initial-built-in-clauses" data-sym="CHK-INITIAL-BUILT-IN-CLAUSES" title="(defun chk-initial-built-in-clauses (lst wrld good-lst some-badp)
  (cond ((null lst) (cond (some-badp (reverse good-lst)) (t nil)))
        (t
         (let* ((clause (access built-in-clause (car lst) :clause))
                (fnnames1 (access built-in-clause (car lst) :all-fnnames))
...">chk-initial-built-in-clauses</a> (cdr lst)
          wrld
          (cons `(<a class="sym-link system" href="basis-a.html#def-make" data-sym="MAKE">make</a> built-in-clause
              <span class="keyword">:nume</span> nil
              <span class="keyword">:rune</span> *fake-rune-for-anonymous-enabled-rule*
              <span class="keyword">:clause</span> ',CLAUSE
              <span class="keyword">:all-fnnames</span> ',FNNAMES2)
            good-lst)
          (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> some-badp (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (equal fnnames1 fnnames2))))))))</pre>
  </div>

<div class="form-block function" id="def-make-built-in-clause-rules" data-defines="MAKE-BUILT-IN-CLAUSE-RULES" data-references="CDR,MAKE-BUILT-IN-CLAUSE-RULES1,APPEND,SR-LIMIT,*T*,CONJOIN,QUOTE,MCONS-TERM*,IF,CLAUSIFY,CLAUSES,CDAR,CONCL,CAAR,HYPS,LET*,T,NULL,COND,WRLD,LST,NUME,RUNE,DEFUN" data-used-by="ADD-BUILT-IN-CLAUSE-RULE" data-part-name="MAKE-BUILT-IN-CLAUSE-RULES" data-part-args="WRLD,LST,NUME,RUNE" data-part-body="CDR,MAKE-BUILT-IN-CLAUSE-RULES,NUME,RUNE,MAKE-BUILT-IN-CLAUSE-RULES1,APPEND,WRLD,SR-LIMIT,*T*,CONJOIN,QUOTE,MCONS-TERM*,IF,CLAUSIFY,CLAUSES,CDAR,CONCL,CAAR,HYPS,LET*,T,LST,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="MAKE-BUILT-IN-CLAUSE-RULES">make-built-in-clause-rules</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-make-built-in-clause-rules" data-sym="MAKE-BUILT-IN-CLAUSE-RULES" title="(defun make-built-in-clause-rules (rune nume lst wrld)
  (cond ((null lst) nil)
        (t
         (let* ((hyps (caar lst))
                (concl (cdar lst))
...">make-built-in-clause-rules</a>
  (rune nume lst wrld)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> lst) nil)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((hyps (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> lst)) (concl (<a class="sym-link system" href="axioms.html#def-cdar" data-sym="CDAR">cdar</a> lst))
          (clauses (<a class="sym-link system" href="rewrite.html#def-clausify" data-sym="CLAUSIFY">clausify</a> (if (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> hyps)
                concl
                (<a class="sym-link system" href="basis-b.html#def-mcons-term_2A" data-sym="MCONS-TERM*">mcons-term*</a> 'if (<a class="sym-link system" href="axioms.html#def-conjoin" data-sym="CONJOIN">conjoin</a> hyps) concl <a class="sym-link system" href="axioms.html#def-_2At_2A" data-sym="*T*">*t*</a>))
              nil
              <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
              (<a class="sym-link system" href="axioms.html#def-sr-limit" data-sym="SR-LIMIT">sr-limit</a> wrld))))
        (<a class="sym-link system" href="axioms.html#def-append" data-sym="APPEND">append</a> (<a class="sym-link local-def" href="#def-make-built-in-clause-rules1" data-sym="MAKE-BUILT-IN-CLAUSE-RULES1" title="(defun make-built-in-clause-rules1 (rune nume clauses wrld)
  (cond ((null clauses) nil)
        (t
         (let ((cl (cons (car (last (car clauses))) (butlast (car clauses) 1))))
           (cons
...">make-built-in-clause-rules1</a> rune nume clauses wrld)
          (<a class="sym-link local-def" href="#def-make-built-in-clause-rules" data-sym="MAKE-BUILT-IN-CLAUSE-RULES" title="(defun make-built-in-clause-rules (rune nume lst wrld)
  (cond ((null lst) nil)
        (t
         (let* ((hyps (caar lst))
                (concl (cdar lst))
...">make-built-in-clause-rules</a> rune nume (cdr lst) wrld))))))</pre>
  </div>

<div class="form-block function" id="def-classify-and-store-built-in-clause-rules" data-defines="CLASSIFY-AND-STORE-BUILT-IN-CLAUSE-RULES" data-references="CHANGE,CONS,PUT-ASSOC-EQ,ASSOC-EQ,CDR,POT,FN,ALL-FNNAMES-SUBSUMER,BUILT-IN-CLAUSE,ACCESS,OR,FNS,CAR,BIC,LET*,T,NULL,COND,WRLD,POTS,LST,DEFUN" data-used-by="ADD-BUILT-IN-CLAUSE-RULE" data-part-name="CLASSIFY-AND-STORE-BUILT-IN-CLAUSE-RULES" data-part-args="WRLD,POTS,LST" data-part-body="CHANGE,CONS,PUT-ASSOC-EQ,CLASSIFY-AND-STORE-BUILT-IN-CLAUSE-RULES,ASSOC-EQ,CDR,POT,FN,WRLD,ALL-FNNAMES-SUBSUMER,BUILT-IN-CLAUSE,ACCESS,OR,FNS,CAR,BIC,LET*,T,POTS,LST,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CLASSIFY-AND-STORE-BUILT-IN-CLAUSE-RULES">classify-and-store-built-in-clause-rules</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-classify-and-store-built-in-clause-rules" data-sym="CLASSIFY-AND-STORE-BUILT-IN-CLAUSE-RULES" title="(defun classify-and-store-built-in-clause-rules (lst pots wrld)
  (cond ((null lst) pots)
        (t
         (let* ((bic (car lst))
                (fns
...">classify-and-store-built-in-clause-rules</a>
  (lst pots wrld)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> lst) pots)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((bic (car lst)) (fns (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> built-in-clause bic <span class="keyword">:all-fnnames</span>)
              (<a class="sym-link local-def" href="#def-all-fnnames-subsumer" data-sym="ALL-FNNAMES-SUBSUMER" title="(defun all-fnnames-subsumer (cl wrld)
  (let ((syms
         (set-difference-eq (all-fnnames-lst cl)
                            *one-way-unify1-implicit-fns*))
        (discrim-fn (built-in-clause-discriminator-fn cl wrld)))
...">all-fnnames-subsumer</a> (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> built-in-clause bic <span class="keyword">:clause</span>)
                wrld)))
          (fn (car fns))
          (pot (cdr (<a class="sym-link system" href="axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a> fn pots))))
        (<a class="sym-link local-def" href="#def-classify-and-store-built-in-clause-rules" data-sym="CLASSIFY-AND-STORE-BUILT-IN-CLAUSE-RULES" title="(defun classify-and-store-built-in-clause-rules (lst pots wrld)
  (cond ((null lst) pots)
        (t
         (let* ((bic (car lst))
                (fns
...">classify-and-store-built-in-clause-rules</a> (cdr lst)
          (<a class="sym-link system" href="axioms.html#def-put-assoc-eq" data-sym="PUT-ASSOC-EQ">put-assoc-eq</a> fn
            (cons (<a class="sym-link system" href="basis-a.html#def-change" data-sym="CHANGE">change</a> built-in-clause bic <span class="keyword">:all-fnnames</span> (cdr fns))
              pot)
            pots)
          wrld)))))</pre>
  </div>

<div class="form-block function" id="def-add-built-in-clause-rule" data-defines="ADD-BUILT-IN-CLAUSE-RULE" data-references="CLASSIFY-AND-STORE-BUILT-IN-CLAUSE-RULES,BUILT-IN-CLAUSES,GLOBAL-VAL,LENGTH,+,FLOOR,HALF-LENGTH-BUILT-IN-CLAUSES,QUOTE,GLOBAL-SET,UNPRETTYIFY,MAKE-BUILT-IN-CLAUSE-RULES,RULES,LET,WRLD,TERM,NUME,RUNE,DEFUN" data-used-by="ADD-X-RULE" data-part-name="ADD-BUILT-IN-CLAUSE-RULE" data-part-args="WRLD,TERM,NUME,RUNE" data-part-body="CLASSIFY-AND-STORE-BUILT-IN-CLAUSE-RULES,BUILT-IN-CLAUSES,GLOBAL-VAL,LENGTH,+,FLOOR,HALF-LENGTH-BUILT-IN-CLAUSES,QUOTE,GLOBAL-SET,WRLD,TERM,UNPRETTYIFY,NUME,RUNE,MAKE-BUILT-IN-CLAUSE-RULES,RULES,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ADD-BUILT-IN-CLAUSE-RULE">add-built-in-clause-rule</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-add-built-in-clause-rule" data-sym="ADD-BUILT-IN-CLAUSE-RULE" title="(defun add-built-in-clause-rule (rune nume term wrld)
  (let ((rules (make-built-in-clause-rules rune nume (unprettyify term) wrld)))
    (global-set &#39;half-length-built-in-clauses
                (floor
                 (+ (length rules)
...">add-built-in-clause-rule</a>
  (rune nume term wrld)
  (let ((rules (<a class="sym-link local-def" href="#def-make-built-in-clause-rules" data-sym="MAKE-BUILT-IN-CLAUSE-RULES" title="(defun make-built-in-clause-rules (rune nume lst wrld)
  (cond ((null lst) nil)
        (t
         (let* ((hyps (caar lst))
                (concl (cdar lst))
...">make-built-in-clause-rules</a> rune
         nume
         (unprettyify term)
         wrld)))
    (<a class="sym-link system" href="basis-b.html#def-global-set" data-sym="GLOBAL-SET">global-set</a> 'half-length-built-in-clauses
      (floor (<a class="sym-link system" href="axioms.html#def-_2B" data-sym="+">+</a> (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> rules)
          (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> (<a class="sym-link system" href="axioms.html#def-global-val" data-sym="GLOBAL-VAL">global-val</a> 'built-in-clauses wrld)))
        <span class="number">2</span>)
      (<a class="sym-link system" href="basis-b.html#def-global-set" data-sym="GLOBAL-SET">global-set</a> 'built-in-clauses
        (<a class="sym-link local-def" href="#def-classify-and-store-built-in-clause-rules" data-sym="CLASSIFY-AND-STORE-BUILT-IN-CLAUSE-RULES" title="(defun classify-and-store-built-in-clause-rules (lst pots wrld)
  (cond ((null lst) pots)
        (t
         (let* ((bic (car lst))
                (fns
...">classify-and-store-built-in-clause-rules</a> rules
          (<a class="sym-link system" href="axioms.html#def-global-val" data-sym="GLOBAL-VAL">global-val</a> 'built-in-clauses wrld)
          wrld)
        wrld))))</pre>
  </div>

<div class="form-block function" id="def-destructure-compound-recognizer" data-defines="DESTRUCTURE-COMPOUND-RECOGNIZER" data-references="&,EQUAL,STRONG-BOTH,IFF,CONS,WEAK-BOTH,CONCL2,CONCL1,IF,TRUE,T,FALSE,MV,SYMBOLP,VARIABLEP,AND,COND,CONCL,X,FN,NOT,IMPLIES,QUOTE,CASE-MATCH,TERM,DEFUN" data-used-by="ADD-COMPOUND-RECOGNIZER-RULE,CHK-ACCEPTABLE-COMPOUND-RECOGNIZER-RULE" data-part-name="DESTRUCTURE-COMPOUND-RECOGNIZER" data-part-args="TERM" data-part-body="&,EQUAL,STRONG-BOTH,IFF,CONS,WEAK-BOTH,CONCL2,CONCL1,IF,TRUE,T,FALSE,MV,SYMBOLP,VARIABLEP,AND,COND,CONCL,X,FN,NOT,IMPLIES,QUOTE,TERM,CASE-MATCH" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DESTRUCTURE-COMPOUND-RECOGNIZER">destructure-compound-recognizer</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-destructure-compound-recognizer" data-sym="DESTRUCTURE-COMPOUND-RECOGNIZER" title="(defun destructure-compound-recognizer (term)
  (case-match term
              ((&#39;implies (&#39;not (fn x)) concl)
               (cond ((and (variablep x) (symbolp fn)) (mv &#39;false fn x concl))
                     (t (mv nil nil nil nil))))
...">destructure-compound-recognizer</a>
  (term)
  (<a class="sym-link system" href="basis-a.html#def-case-match" data-sym="CASE-MATCH">case-match</a> term
    (('<a class="sym-link system" href="axioms.html#def-implies" data-sym="IMPLIES">implies</a> ('<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (fn x)) concl) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> x) (symbolp fn)) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> 'false fn x concl))
        (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil nil nil nil))))
    (('<a class="sym-link system" href="axioms.html#def-implies" data-sym="IMPLIES">implies</a> (fn x) concl) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> x) (symbolp fn)) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> 'true fn x concl))
        (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil nil nil nil))))
    (('if ('<a class="sym-link system" href="axioms.html#def-implies" data-sym="IMPLIES">implies</a> (fn x) concl1)
       ('<a class="sym-link system" href="axioms.html#def-implies" data-sym="IMPLIES">implies</a> ('<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (fn x)) concl2)
       ''nil) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> x) (symbolp fn)) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> 'weak-both fn x (cons concl1 concl2)))
        (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil nil nil nil))))
    (('if (fn x) concl1 concl2) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> x) (symbolp fn)) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> 'weak-both fn x (cons concl1 concl2)))
        (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil nil nil nil))))
    (('if ('<a class="sym-link system" href="axioms.html#def-implies" data-sym="IMPLIES">implies</a> ('<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (fn x)) concl2)
       ('<a class="sym-link system" href="axioms.html#def-implies" data-sym="IMPLIES">implies</a> (fn x) concl1)
       ''nil) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> x) (symbolp fn)) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> 'weak-both fn x (cons concl1 concl2)))
        (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil nil nil nil))))
    (('if ('<a class="sym-link system" href="axioms.html#def-implies" data-sym="IMPLIES">implies</a> ('<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (fn x)) concl2)
       ('<a class="sym-link system" href="axioms.html#def-implies" data-sym="IMPLIES">implies</a> (fn x) concl1)
       ''nil) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> x) (symbolp fn)) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> 'weak-both fn x (cons concl1 concl2)))
        (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil nil nil nil))))
    (('<a class="sym-link system" href="axioms.html#def-iff" data-sym="IFF">iff</a> (fn x) concl) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> x) (symbolp fn)) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> 'strong-both fn x concl))
        (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil nil nil nil))))
    (('equal (fn x) concl) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> x) (symbolp fn)) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> 'strong-both fn x concl))
        (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil nil nil nil))))
    (&amp; (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil nil nil nil))))</pre>
  </div>

<div class="form-block function" id="def-make-recognizer-tuple" data-defines="MAKE-RECOGNIZER-TUPLE" data-references="T,OTHERWISE,TS-COMPLEMENT,TS=,CDR,FTS,CAR,TTS,WEAK-BOTH,FALSE,*TS-UNKNOWN*,RECOGNIZER-TUPLE,MAKE,MV,TYPE-SET-IMPLIED-BY-TERM,TTREE,TS,MV-LET,TRUE,CASE,WRLD,ENS,TERM,VAR,FN,PARITY,NUME,RUNE,DEFUN" data-used-by="ADD-COMPOUND-RECOGNIZER-RULE,CHK-ACCEPTABLE-COMPOUND-RECOGNIZER-RULE" data-part-name="MAKE-RECOGNIZER-TUPLE" data-part-args="WRLD,ENS,TERM,VAR,FN,PARITY,NUME,RUNE" data-part-body="T,OTHERWISE,TS-COMPLEMENT,TS=,CDR,FTS,CAR,TTS,WEAK-BOTH,FALSE,*TS-UNKNOWN*,FN,NUME,RUNE,RECOGNIZER-TUPLE,MAKE,MV,WRLD,ENS,TERM,VAR,TYPE-SET-IMPLIED-BY-TERM,TTREE,TS,MV-LET,TRUE,PARITY,CASE" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="MAKE-RECOGNIZER-TUPLE">make-recognizer-tuple</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-make-recognizer-tuple" data-sym="MAKE-RECOGNIZER-TUPLE" title="(defun make-recognizer-tuple (rune nume parity fn var term ens wrld)
  (case parity
    (true
     (mv-let (ts ttree) (type-set-implied-by-term var nil term ens wrld nil)
             (mv
...">make-recognizer-tuple</a>
  (rune nume parity fn var term ens wrld)
  (<a class="sym-link system" href="axioms.html#def-case" data-sym="CASE">case</a> parity
    (true (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (ts ttree)
        (<a class="sym-link system" href="defuns.html#def-type-set-implied-by-term" data-sym="TYPE-SET-IMPLIED-BY-TERM">type-set-implied-by-term</a> var nil term ens wrld nil)
        (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> (<a class="sym-link system" href="basis-a.html#def-make" data-sym="MAKE">make</a> recognizer-tuple
            <span class="keyword">:rune</span> rune
            <span class="keyword">:nume</span> nume
            <span class="keyword">:fn</span> fn
            <span class="keyword">:true-ts</span> ts
            <span class="keyword">:false-ts</span> *ts-unknown*
            <span class="keyword">:strongp</span> nil)
          ttree)))
    (false (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (ts ttree)
        (<a class="sym-link system" href="defuns.html#def-type-set-implied-by-term" data-sym="TYPE-SET-IMPLIED-BY-TERM">type-set-implied-by-term</a> var nil term ens wrld nil)
        (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> (<a class="sym-link system" href="basis-a.html#def-make" data-sym="MAKE">make</a> recognizer-tuple
            <span class="keyword">:rune</span> rune
            <span class="keyword">:nume</span> nume
            <span class="keyword">:fn</span> fn
            <span class="keyword">:true-ts</span> *ts-unknown*
            <span class="keyword">:false-ts</span> ts
            <span class="keyword">:strongp</span> nil)
          ttree)))
    (weak-both (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (tts ttree)
        (<a class="sym-link system" href="defuns.html#def-type-set-implied-by-term" data-sym="TYPE-SET-IMPLIED-BY-TERM">type-set-implied-by-term</a> var nil (car term) ens wrld nil)
        (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (fts ttree)
          (<a class="sym-link system" href="defuns.html#def-type-set-implied-by-term" data-sym="TYPE-SET-IMPLIED-BY-TERM">type-set-implied-by-term</a> var nil (cdr term) ens wrld ttree)
          (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> (<a class="sym-link system" href="basis-a.html#def-make" data-sym="MAKE">make</a> recognizer-tuple
              <span class="keyword">:rune</span> rune
              <span class="keyword">:nume</span> nume
              <span class="keyword">:fn</span> fn
              <span class="keyword">:true-ts</span> tts
              <span class="keyword">:false-ts</span> fts
              <span class="keyword">:strongp</span> (<a class="sym-link system" href="basis-b.html#def-ts_3D" data-sym="TS=">ts=</a> tts (ts-complement fts)))
            ttree))))
    (otherwise (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (tts ttree)
        (<a class="sym-link system" href="defuns.html#def-type-set-implied-by-term" data-sym="TYPE-SET-IMPLIED-BY-TERM">type-set-implied-by-term</a> var nil term ens wrld nil)
        (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (fts ttree)
          (<a class="sym-link system" href="defuns.html#def-type-set-implied-by-term" data-sym="TYPE-SET-IMPLIED-BY-TERM">type-set-implied-by-term</a> var <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> term ens wrld ttree)
          (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> (<a class="sym-link system" href="basis-a.html#def-make" data-sym="MAKE">make</a> recognizer-tuple
              <span class="keyword">:rune</span> rune
              <span class="keyword">:nume</span> nume
              <span class="keyword">:fn</span> fn
              <span class="keyword">:true-ts</span> tts
              <span class="keyword">:false-ts</span> fts
              <span class="keyword">:strongp</span> (<a class="sym-link system" href="basis-b.html#def-ts_3D" data-sym="TS=">ts=</a> tts (ts-complement fts)))
            ttree))))))</pre>
  </div>

<div class="form-block function" id="def-comment-on-new-recog-tuple1" data-defines="COMMENT-ON-NEW-RECOG-TUPLE1" data-references="BASE-SYMBOL,WARNING$,PPROGN,T,CDR,EQ,TS=,NOT,OR,CAR,RECOGNIZER-TUPLE,ACCESS,TS-SUBSETP,AND,VALUE,NULL,COND,STATE,CTX,RECOGNIZER-ALIST,NEW-RECOG-TUPLE,DEFUN" data-used-by="COMMENT-ON-NEW-RECOG-TUPLE" data-part-name="COMMENT-ON-NEW-RECOG-TUPLE1" data-part-args="STATE,CTX,RECOGNIZER-ALIST,NEW-RECOG-TUPLE" data-part-body="BASE-SYMBOL,WARNING$,PPROGN,T,STATE,CTX,CDR,COMMENT-ON-NEW-RECOG-TUPLE1,EQ,TS=,NOT,OR,CAR,NEW-RECOG-TUPLE,RECOGNIZER-TUPLE,ACCESS,TS-SUBSETP,AND,VALUE,RECOGNIZER-ALIST,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="COMMENT-ON-NEW-RECOG-TUPLE1">comment-on-new-recog-tuple1</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-comment-on-new-recog-tuple1" data-sym="COMMENT-ON-NEW-RECOG-TUPLE1" title="(defun comment-on-new-recog-tuple1 (new-recog-tuple recognizer-alist ctx state)
  (cond ((null recognizer-alist) (value nil))
        ((and
          (ts-subsetp (access recognizer-tuple new-recog-tuple :true-ts)
                      (access recognizer-tuple (car recognizer-alist)
...">comment-on-new-recog-tuple1</a>
  (new-recog-tuple recognizer-alist ctx state)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> recognizer-alist) (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil))
    ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (ts-subsetp (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> recognizer-tuple new-recog-tuple <span class="keyword">:true-ts</span>)
         (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> recognizer-tuple (car recognizer-alist) <span class="keyword">:true-ts</span>))
       (ts-subsetp (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> recognizer-tuple new-recog-tuple <span class="keyword">:false-ts</span>)
         (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> recognizer-tuple (car recognizer-alist) <span class="keyword">:false-ts</span>))
       (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> recognizer-tuple new-recog-tuple <span class="keyword">:strongp</span>)
         (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> recognizer-tuple (car recognizer-alist) <span class="keyword">:strongp</span>)))
       (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="basis-b.html#def-ts_3D" data-sym="TS=">ts=</a> (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> recognizer-tuple new-recog-tuple <span class="keyword">:false-ts</span>)
             (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> recognizer-tuple (car recognizer-alist) <span class="keyword">:false-ts</span>)))
         (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="basis-b.html#def-ts_3D" data-sym="TS=">ts=</a> (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> recognizer-tuple new-recog-tuple <span class="keyword">:true-ts</span>)
             (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> recognizer-tuple (car recognizer-alist) <span class="keyword">:true-ts</span>)))
         (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> recognizer-tuple new-recog-tuple <span class="keyword">:strongp</span>)
             (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> recognizer-tuple (car recognizer-alist) <span class="keyword">:strongp</span>))))) (<a class="sym-link local-def" href="#def-comment-on-new-recog-tuple1" data-sym="COMMENT-ON-NEW-RECOG-TUPLE1" title="(defun comment-on-new-recog-tuple1 (new-recog-tuple recognizer-alist ctx state)
  (cond ((null recognizer-alist) (value nil))
        ((and
          (ts-subsetp (access recognizer-tuple new-recog-tuple :true-ts)
                      (access recognizer-tuple (car recognizer-alist)
...">comment-on-new-recog-tuple1</a> new-recog-tuple
        (cdr recognizer-alist)
        ctx
        state))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link system" href="axioms.html#def-warning_24" data-sym="WARNING$">warning$</a> ctx
          (<span class="string">"Compound-rec"</span>)
          <span class="string">"The newly proposed compound recognizer rule ~x0 is not as ~
                  restrictive as the old rule ~x1.  See :DOC ~
                  compound-recognizer."</span>
          (base-symbol (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> recognizer-tuple new-recog-tuple <span class="keyword">:rune</span>))
          (base-symbol (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> recognizer-tuple (car recognizer-alist) <span class="keyword">:rune</span>)))
        (<a class="sym-link local-def" href="#def-comment-on-new-recog-tuple1" data-sym="COMMENT-ON-NEW-RECOG-TUPLE1" title="(defun comment-on-new-recog-tuple1 (new-recog-tuple recognizer-alist ctx state)
  (cond ((null recognizer-alist) (value nil))
        ((and
          (ts-subsetp (access recognizer-tuple new-recog-tuple :true-ts)
                      (access recognizer-tuple (car recognizer-alist)
...">comment-on-new-recog-tuple1</a> new-recog-tuple
          (cdr recognizer-alist)
          ctx
          state)))))</pre>
  </div>

<div class="form-block function" id="def-comment-on-new-recog-tuple" data-defines="COMMENT-ON-NEW-RECOG-TUPLE" data-references="RECOGNIZER-ALIST,GETPROPC,COMMENT-ON-NEW-RECOG-TUPLE1,WARNING-DISABLED-P,TILDE-*-SIMP-PHRASE,EQ,OBSERVATION,PPROGN,VALUE,BASE-SYMBOL,SOFT,ER,*TS-UNKNOWN*,TS=,AND,IF,ER-PROGN,T,UNTRANSLATE,LET,FTS-TERM,CONVERT-TYPE-SET-TO-TERM,TTREE,TTS-TERM,MV-LET,X,QUOTE,FCONS-TERM*,PRED,RECOGNIZER-TUPLE,ACCESS,FN,LET*,STATE,WRLD,ENS,CTX,NEW-RECOG-TUPLE,DEFUN" data-used-by="CHK-ACCEPTABLE-COMPOUND-RECOGNIZER-RULE" data-part-name="COMMENT-ON-NEW-RECOG-TUPLE" data-part-args="STATE,WRLD,ENS,CTX,NEW-RECOG-TUPLE" data-part-body="STATE,RECOGNIZER-ALIST,GETPROPC,COMMENT-ON-NEW-RECOG-TUPLE1,WARNING-DISABLED-P,TILDE-*-SIMP-PHRASE,EQ,OBSERVATION,PPROGN,VALUE,BASE-SYMBOL,CTX,SOFT,ER,*TS-UNKNOWN*,TS=,AND,IF,ER-PROGN,T,UNTRANSLATE,LET,FTS-TERM,WRLD,ENS,CONVERT-TYPE-SET-TO-TERM,TTREE,TTS-TERM,MV-LET,X,QUOTE,FCONS-TERM*,PRED,NEW-RECOG-TUPLE,RECOGNIZER-TUPLE,ACCESS,FN,LET*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="COMMENT-ON-NEW-RECOG-TUPLE">comment-on-new-recog-tuple</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-comment-on-new-recog-tuple" data-sym="COMMENT-ON-NEW-RECOG-TUPLE" title="(defun comment-on-new-recog-tuple (new-recog-tuple ctx ens wrld state)
  (let* ((fn (access recognizer-tuple new-recog-tuple :fn))
         (pred (fcons-term* fn &#39;x)))
    (mv-let (tts-term ttree)
            (convert-type-set-to-term &#39;x
...">comment-on-new-recog-tuple</a>
  (new-recog-tuple ctx ens wrld state)
  (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((fn (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> recognizer-tuple new-recog-tuple <span class="keyword">:fn</span>)) (pred (<a class="sym-link system" href="axioms.html#def-fcons-term_2A" data-sym="FCONS-TERM*">fcons-term*</a> fn 'x)))
    (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (tts-term ttree)
      (convert-type-set-to-term 'x
        (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> recognizer-tuple new-recog-tuple <span class="keyword">:true-ts</span>)
        ens
        wrld
        nil)
      (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (fts-term ttree)
        (convert-type-set-to-term 'x
          (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> recognizer-tuple new-recog-tuple <span class="keyword">:false-ts</span>)
          ens
          wrld
          ttree)
        (let ((tts-term (untranslate tts-term <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> wrld)) (fts-term (untranslate fts-term <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> wrld)))
          (<a class="sym-link system" href="axioms.html#def-er-progn" data-sym="ER-PROGN">er-progn</a> (if (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="basis-b.html#def-ts_3D" data-sym="TS=">ts=</a> (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> recognizer-tuple new-recog-tuple <span class="keyword">:true-ts</span>)
                  *ts-unknown*)
                (<a class="sym-link system" href="basis-b.html#def-ts_3D" data-sym="TS=">ts=</a> (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> recognizer-tuple new-recog-tuple <span class="keyword">:false-ts</span>)
                  *ts-unknown*))
              (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                ctx
                <span class="string">"When ~x0 is assumed true, ~x1 will allow us to deduce ~
                  nothing about the type of X.  Also, when ~x0 is assumed ~
                  false, ~x1 will allow us to deduce nothing about the type of ~
                  X.  Thus this is not a legal compound recognizer rule.  See ~
                  doc :compound-recognizer if these observations surprise you."</span>
                pred
                (base-symbol (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> recognizer-tuple new-recog-tuple <span class="keyword">:rune</span>)))
              (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil))
            (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link system" href="basis-a.html#def-observation" data-sym="OBSERVATION">observation</a> ctx
                <span class="string">"When ~x0 is assumed true, ~x1 will allow us to deduce ~#2~[nothing ~
            about the type of X.~/~p3.~]  When ~x0 is assumed false, ~x1 will ~
            allow us to deduce ~#4~[nothing about the type of X.~/~p5.~]  Note ~
            that ~x0 is~#6~[ not~/~] a strong compound recognizer, according ~
            to this rule.  See doc :compound-recognizer if these observations ~
            surprise you.  These particular expressions of the type ~
            information are based on ~*7."</span>
                pred
                (base-symbol (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> recognizer-tuple new-recog-tuple <span class="keyword">:rune</span>))
                (if (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> tts-term <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)
                  <span class="number">0</span>
                  <span class="number">1</span>)
                tts-term
                (if (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> fts-term <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)
                  <span class="number">0</span>
                  <span class="number">1</span>)
                fts-term
                (if (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> recognizer-tuple new-recog-tuple <span class="keyword">:strongp</span>)
                  <span class="number">1</span>
                  <span class="number">0</span>)
                (tilde-*-simp-phrase ttree))
              (if (<a class="sym-link system" href="basis-a.html#def-warning-disabled-p" data-sym="WARNING-DISABLED-P">warning-disabled-p</a> <span class="string">"Compound-rec"</span>)
                (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil)
                (<a class="sym-link local-def" href="#def-comment-on-new-recog-tuple1" data-sym="COMMENT-ON-NEW-RECOG-TUPLE1" title="(defun comment-on-new-recog-tuple1 (new-recog-tuple recognizer-alist ctx state)
  (cond ((null recognizer-alist) (value nil))
        ((and
          (ts-subsetp (access recognizer-tuple new-recog-tuple :true-ts)
                      (access recognizer-tuple (car recognizer-alist)
...">comment-on-new-recog-tuple1</a> new-recog-tuple
                  (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> fn 'recognizer-alist nil wrld)
                  ctx
                  state)))))))))</pre>
  </div>

<div class="form-block function" id="def-chk-acceptable-compound-recognizer-rule" data-defines="CHK-ACCEPTABLE-COMPOUND-RECOGNIZER-RULE" data-references="CONS-TAG-TREES,VALUE,COMMENT-ON-NEW-RECOG-TUPLE,ER-PROGN,X,QUASIQUOTE,MAKE-RECOGNIZER-TUPLE,TTREE2,RECOG-TUPLE,*TS-BOOLEAN*,TS-SUBSETP,NOT,MCONS-TERM*,TYPE-SET,TTREE1,TS,T,SOFT,ER,NULL,COND,DESTRUCTURE-COMPOUND-RECOGNIZER,TERM1,VAR,FN,PARITY,MV-LET,STATE,WRLD,ENS,CTX,TERM,NAME,DEFUN" data-used-by="CHK-ACCEPTABLE-X-RULE" data-part-name="CHK-ACCEPTABLE-COMPOUND-RECOGNIZER-RULE" data-part-args="STATE,WRLD,ENS,CTX,TERM,NAME" data-part-body="CONS-TAG-TREES,VALUE,STATE,COMMENT-ON-NEW-RECOG-TUPLE,ER-PROGN,X,QUASIQUOTE,MAKE-RECOGNIZER-TUPLE,TTREE2,RECOG-TUPLE,*TS-BOOLEAN*,TS-SUBSETP,NOT,WRLD,ENS,MCONS-TERM*,TYPE-SET,TTREE1,TS,T,NAME,CTX,SOFT,ER,NULL,COND,TERM,DESTRUCTURE-COMPOUND-RECOGNIZER,TERM1,VAR,FN,PARITY,MV-LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CHK-ACCEPTABLE-COMPOUND-RECOGNIZER-RULE">chk-acceptable-compound-recognizer-rule</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-chk-acceptable-compound-recognizer-rule" data-sym="CHK-ACCEPTABLE-COMPOUND-RECOGNIZER-RULE" title="(defun chk-acceptable-compound-recognizer-rule (name term ctx ens wrld state)
  (mv-let (parity fn var term1) (destructure-compound-recognizer term)
          (cond
           ((null parity)
            (er soft ctx
...">chk-acceptable-compound-recognizer-rule</a>
  (name term ctx ens wrld state)
  (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (parity fn var term1)
    (<a class="sym-link local-def" href="#def-destructure-compound-recognizer" data-sym="DESTRUCTURE-COMPOUND-RECOGNIZER" title="(defun destructure-compound-recognizer (term)
  (case-match term
              ((&#39;implies (&#39;not (fn x)) concl)
               (cond ((and (variablep x) (symbolp fn)) (mv &#39;false fn x concl))
                     (t (mv nil nil nil nil))))
...">destructure-compound-recognizer</a> term)
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> parity) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
          ctx
          <span class="string">"No :COMPOUND-RECOGNIZER rule can be generated from ~x0 ~
          because it does not have the form described in :DOC ~
          compound-recognizer."</span>
          name))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (ts ttree1)
          (type-set (<a class="sym-link system" href="basis-b.html#def-mcons-term_2A" data-sym="MCONS-TERM*">mcons-term*</a> fn var)
            nil
            nil
            nil
            ens
            wrld
            nil
            nil
            nil)
          (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (ts-subsetp ts *ts-boolean*)) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                ctx
                <span class="string">"A function can be treated as a :COMPOUND-RECOGNIZER only ~
                    if it is Boolean valued. ~x0 is not known to be Boolean.  ~
                    See :DOC compound-recognizer."</span>
                fn))
            (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (recog-tuple ttree2)
                (<a class="sym-link local-def" href="#def-make-recognizer-tuple" data-sym="MAKE-RECOGNIZER-TUPLE" title="(defun make-recognizer-tuple (rune nume parity fn var term ens wrld)
  (case parity
    (true
     (mv-let (ts ttree) (type-set-implied-by-term var nil term ens wrld nil)
             (mv
...">make-recognizer-tuple</a> `(<span class="keyword">:compound-recognizer</span> ,NAME . x)
                  nil
                  parity
                  fn
                  var
                  term1
                  ens
                  wrld)
                (<a class="sym-link system" href="axioms.html#def-er-progn" data-sym="ER-PROGN">er-progn</a> (<a class="sym-link local-def" href="#def-comment-on-new-recog-tuple" data-sym="COMMENT-ON-NEW-RECOG-TUPLE" title="(defun comment-on-new-recog-tuple (new-recog-tuple ctx ens wrld state)
  (let* ((fn (access recognizer-tuple new-recog-tuple :fn))
         (pred (fcons-term* fn &#39;x)))
    (mv-let (tts-term ttree)
            (convert-type-set-to-term &#39;x
...">comment-on-new-recog-tuple</a> recog-tuple ctx ens wrld state)
                  (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (cons-tag-trees ttree1 ttree2)))))))))))</pre>
  </div>

<div class="form-block function" id="def-add-compound-recognizer-rule" data-defines="ADD-COMPOUND-RECOGNIZER-RULE" data-references="GETPROPC,CONS,RECOGNIZER-ALIST,QUOTE,PUTPROP,IGNORE,DECLARE,MAKE-RECOGNIZER-TUPLE,TTREE,RECOG-TUPLE,DESTRUCTURE-COMPOUND-RECOGNIZER,TERM1,VAR,FN,PARITY,MV-LET,WRLD,ENS,TERM,NUME,RUNE,DEFUN" data-used-by="ADD-X-RULE" data-part-name="ADD-COMPOUND-RECOGNIZER-RULE" data-part-args="WRLD,ENS,TERM,NUME,RUNE" data-part-body="GETPROPC,CONS,RECOGNIZER-ALIST,QUOTE,PUTPROP,IGNORE,DECLARE,WRLD,ENS,NUME,RUNE,MAKE-RECOGNIZER-TUPLE,TTREE,RECOG-TUPLE,TERM,DESTRUCTURE-COMPOUND-RECOGNIZER,TERM1,VAR,FN,PARITY,MV-LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ADD-COMPOUND-RECOGNIZER-RULE">add-compound-recognizer-rule</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-add-compound-recognizer-rule" data-sym="ADD-COMPOUND-RECOGNIZER-RULE" title="(defun add-compound-recognizer-rule (rune nume term ens wrld)
  (mv-let (parity fn var term1) (destructure-compound-recognizer term)
          (mv-let (recog-tuple ttree)
                  (make-recognizer-tuple rune nume parity fn var term1 ens
                                         wrld)
...">add-compound-recognizer-rule</a>
  (rune nume term ens wrld)
  (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (parity fn var term1)
    (<a class="sym-link local-def" href="#def-destructure-compound-recognizer" data-sym="DESTRUCTURE-COMPOUND-RECOGNIZER" title="(defun destructure-compound-recognizer (term)
  (case-match term
              ((&#39;implies (&#39;not (fn x)) concl)
               (cond ((and (variablep x) (symbolp fn)) (mv &#39;false fn x concl))
                     (t (mv nil nil nil nil))))
...">destructure-compound-recognizer</a> term)
    (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (recog-tuple ttree)
      (<a class="sym-link local-def" href="#def-make-recognizer-tuple" data-sym="MAKE-RECOGNIZER-TUPLE" title="(defun make-recognizer-tuple (rune nume parity fn var term ens wrld)
  (case parity
    (true
     (mv-let (ts ttree) (type-set-implied-by-term var nil term ens wrld nil)
             (mv
...">make-recognizer-tuple</a> rune
        nume
        parity
        fn
        var
        term1
        ens
        wrld)
      (declare (ignore ttree))
      (<a class="sym-link system" href="axioms.html#def-putprop" data-sym="PUTPROP">putprop</a> fn
        'recognizer-alist
        (cons recog-tuple (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> fn 'recognizer-alist nil wrld))
        wrld))))</pre>
  </div>

<div class="form-block function" id="def-chk-triggers" data-defines="CHK-TRIGGERS" data-references="NON-REC-DEF-RULES-MSG,HIDE-LAMBDAS,TILDE-*-UNTRANSLATE-LST-PHRASE,CDR,IF,FREE-VARIABLE-ERROR?,QUASIQUOTE,WARNING$,PPROGN,ER-PROGN,NON-REC-FNS-INST-HYPS,STRIP-TOP-LEVEL-NOTS-AND-FORCES,NON-RECURSIVE-FNNAMES-ALIST-LST,NON-REC-FNS-INST-HYPS-ALIST,STRIP-CARS,NON-REC-FNS,NON-RECURSIVE-FNNAMES-ALIST,AND,NON-REC-FNS-ALIST,FORCED-HYPS,HYPS-THAT-INSTANTIATE-FREE-VARS,INST-HYPS,ALL-VARS,FREE-VARS-IN-HYPS,FREE-VARS,WARNING-DISABLED-P,WARN-NON-REC,LET*,T,ZERO-ONE-OR-MORE,SET-DIFFERENCE-EQ,ALL-VARS1,SUBSETP-EQ,SOFT,ER,NOT,QUOTE,FFN-SYMB,EQ,FLAMBDA-APPLICATIONP,FQUOTEP,CAR,VARIABLEP,OR,VALUE,NULL,COND,STATE,WRLD,ENS,CTX,CONCLS-VARS,HYPS-VARS,TERMS,HYPS,MATCH-FREE,NAME,DEFUN" data-used-by="CHK-ACCEPTABLE-FORWARD-CHAINING-RULE" data-part-name="CHK-TRIGGERS" data-part-args="STATE,WRLD,ENS,CTX,CONCLS-VARS,HYPS-VARS,TERMS,HYPS,MATCH-FREE,NAME" data-part-body="CHK-TRIGGERS,NON-REC-DEF-RULES-MSG,HIDE-LAMBDAS,TILDE-*-UNTRANSLATE-LST-PHRASE,CDR,IF,STATE,FREE-VARIABLE-ERROR?,QUASIQUOTE,WARNING$,PPROGN,MATCH-FREE,ER-PROGN,NON-REC-FNS-INST-HYPS,STRIP-TOP-LEVEL-NOTS-AND-FORCES,NON-RECURSIVE-FNNAMES-ALIST-LST,NON-REC-FNS-INST-HYPS-ALIST,STRIP-CARS,NON-REC-FNS,ENS,NON-RECURSIVE-FNNAMES-ALIST,AND,NON-REC-FNS-ALIST,FORCED-HYPS,HYPS-THAT-INSTANTIATE-FREE-VARS,INST-HYPS,WRLD,ALL-VARS,FREE-VARS-IN-HYPS,FREE-VARS,WARNING-DISABLED-P,WARN-NON-REC,LET*,T,HYPS,ZERO-ONE-OR-MORE,SET-DIFFERENCE-EQ,NAME,HYPS-VARS,ALL-VARS1,CONCLS-VARS,SUBSETP-EQ,CTX,SOFT,ER,NOT,QUOTE,FFN-SYMB,EQ,FLAMBDA-APPLICATIONP,FQUOTEP,CAR,VARIABLEP,OR,VALUE,TERMS,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CHK-TRIGGERS">chk-triggers</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-chk-triggers" data-sym="CHK-TRIGGERS" title="(defun chk-triggers
       (name match-free hyps terms hyps-vars concls-vars ctx ens wrld state)
  (cond ((null terms) (value nil))
        ((or (variablep (car terms)) (fquotep (car terms))
             (flambda-applicationp (car terms))
...">chk-triggers</a>
  (name match-free
    hyps
    terms
    hyps-vars
    concls-vars
    ctx
    ens
    wrld
    state)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> terms) (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil))
    ((<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> (car terms))
       (<a class="sym-link system" href="axioms.html#def-fquotep" data-sym="FQUOTEP">fquotep</a> (car terms))
       (<a class="sym-link system" href="basis-b.html#def-flambda-applicationp" data-sym="FLAMBDA-APPLICATIONP">flambda-applicationp</a> (car terms))
       (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> (car terms)) '<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a>)) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
        ctx
        <span class="string">"It is illegal to use a variable, a quoted constant, the ~
              application of a lambda-expression, a LET-expression, ~
              or a NOT-expression as the trigger of a forward ~
              chaining rule.  Your proposed trigger, ~x0, violates ~
              these restrictions.  See :DOC forward-chaining."</span>
        (car terms)))
    ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-subsetp-eq" data-sym="SUBSETP-EQ">subsetp-eq</a> concls-vars (<a class="sym-link system" href="axioms.html#def-all-vars1" data-sym="ALL-VARS1">all-vars1</a> (car terms) hyps-vars))) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
        ctx
        <span class="string">"We cannot use ~x0 as a forward chaining rule triggered ~
              by ~x1 because the variable~#2~[ ~&amp;2 is~/s ~&amp;2 are~] ~
              used in the conclusion but not in the ~#3~[~/hypothesis ~
              or the ~/hypotheses or the ~]trigger.  See :DOC ~
              forward-chaining."</span>
        name
        (car terms)
        (<a class="sym-link system" href="axioms.html#def-set-difference-eq" data-sym="SET-DIFFERENCE-EQ">set-difference-eq</a> concls-vars
          (<a class="sym-link system" href="axioms.html#def-all-vars1" data-sym="ALL-VARS1">all-vars1</a> (car terms) hyps-vars))
        (<a class="sym-link system" href="basis-a.html#def-zero-one-or-more" data-sym="ZERO-ONE-OR-MORE">zero-one-or-more</a> hyps)))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((warn-non-rec (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="basis-a.html#def-warning-disabled-p" data-sym="WARNING-DISABLED-P">warning-disabled-p</a> <span class="string">"Non-rec"</span>))) (free-vars (<a class="sym-link local-def" href="#def-free-vars-in-hyps" data-sym="FREE-VARS-IN-HYPS" title="(defun free-vars-in-hyps (hyps bound-vars wrld)
  (cond ((null hyps) nil)
        (t
         (mv-let (forcep flg)
                 (binding-hyp-p (car hyps) (pairlis$ bound-vars bound-vars)
...">free-vars-in-hyps</a> hyps (<a class="sym-link system" href="axioms.html#def-all-vars" data-sym="ALL-VARS">all-vars</a> (car terms)) wrld))
          (inst-hyps (<a class="sym-link local-def" href="#def-hyps-that-instantiate-free-vars" data-sym="HYPS-THAT-INSTANTIATE-FREE-VARS" title="(defun hyps-that-instantiate-free-vars (free-vars hyps)
  (cond ((null free-vars) nil)
        ((intersectp-eq free-vars (all-vars (car hyps)))
         (cons (car hyps)
               (hyps-that-instantiate-free-vars
...">hyps-that-instantiate-free-vars</a> free-vars hyps))
          (<a class="sym-link local-def" href="#def-forced-hyps" data-sym="FORCED-HYPS" title="(defun forced-hyps (lst)
  (cond ((null lst) nil)
        ((and (nvariablep (car lst))
              (or (eq (ffn-symb (car lst)) &#39;force)
                  (eq (ffn-symb (car lst)) &#39;case-split)))
...">forced-hyps</a> (<a class="sym-link local-def" href="#def-forced-hyps" data-sym="FORCED-HYPS" title="(defun forced-hyps (lst)
  (cond ((null lst) nil)
        ((and (nvariablep (car lst))
              (or (eq (ffn-symb (car lst)) &#39;force)
                  (eq (ffn-symb (car lst)) &#39;case-split)))
...">forced-hyps</a> inst-hyps))
          (non-rec-fns-alist (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> warn-non-rec
              (<a class="sym-link local-def" href="#def-non-recursive-fnnames-alist" data-sym="NON-RECURSIVE-FNNAMES-ALIST" title="(defun non-recursive-fnnames-alist (term ens wrld)
  (reverse (non-recursive-fnnames-alist-rec term ens wrld nil nil)))">non-recursive-fnnames-alist</a> (car terms) ens wrld)))
          (non-rec-fns (<a class="sym-link system" href="axioms.html#def-strip-cars" data-sym="STRIP-CARS">strip-cars</a> non-rec-fns-alist))
          (non-rec-fns-inst-hyps-alist (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> warn-non-rec
              (<a class="sym-link local-def" href="#def-non-recursive-fnnames-alist-lst" data-sym="NON-RECURSIVE-FNNAMES-ALIST-LST" title="(defun non-recursive-fnnames-alist-lst (lst ens wrld)
  (reverse (non-recursive-fnnames-alist-rec-lst lst ens wrld nil nil)))">non-recursive-fnnames-alist-lst</a> (<a class="sym-link local-def" href="#def-strip-top-level-nots-and-forces" data-sym="STRIP-TOP-LEVEL-NOTS-AND-FORCES" title="(defun strip-top-level-nots-and-forces (hyps)
  (cond ((null hyps) nil)
        (t
         (mv-let (not-flg atm)
                 (strip-not
...">strip-top-level-nots-and-forces</a> inst-hyps)
                ens
                wrld)))
          (non-rec-fns-inst-hyps (<a class="sym-link system" href="axioms.html#def-strip-cars" data-sym="STRIP-CARS">strip-cars</a> non-rec-fns-inst-hyps-alist)))
        (<a class="sym-link system" href="axioms.html#def-er-progn" data-sym="ER-PROGN">er-progn</a> (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> free-vars (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> match-free)) (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link system" href="axioms.html#def-warning_24" data-sym="WARNING$">warning$</a> ctx
                  <span class="string">"Free"</span>
                  `(<span class="string">"When the :FORWARD-CHAINING rule generated from ~
                            ~x0 is triggered by ~x1 it contains the free ~
                            variable~#2~[ ~&amp;2.  This variable~/s ~&amp;2.  These ~
                            variables~] will be chosen by searching for ~
                            ~#3~[an instance~/instances~] of ~&amp;3 among the ~
                            hypotheses of the conjecture being rewritten.  ~
                            This is generally a severe restriction on the ~
                            applicability of the forward chaining rule."</span> (<span class="keyword">:free-variables</span> ,FREE-VARS)
                    (<span class="keyword">:instantiated-hyps</span> ,INST-HYPS)
                    (<span class="keyword">:name</span> ,NAME)
                    (<span class="keyword">:rule-class</span> <span class="keyword">:forward-chaining</span>)
                    (<span class="keyword">:trigger</span> ,(CAR TERMS)))
                  name
                  (car terms)
                  free-vars
                  inst-hyps)
                (<a class="sym-link local-def" href="#def-free-variable-error_3F" data-sym="FREE-VARIABLE-ERROR?" title="(defun free-variable-error? (token name ctx wrld state)
  (if (and (null (match-free-default wrld))
           (f-get-global &#39;match-free-error state))
      (er soft ctx
          &quot;The warning above has caused this error in order to make it clear ~
...">free-variable-error?</a> <span class="keyword">:forward-chaining</span> name ctx wrld state)))
            (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil)))
          (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> free-vars <a class="sym-link local-def" href="#def-forced-hyps" data-sym="FORCED-HYPS" title="(defun forced-hyps (lst)
  (cond ((null lst) nil)
        ((and (nvariablep (car lst))
              (or (eq (ffn-symb (car lst)) &#39;force)
                  (eq (ffn-symb (car lst)) &#39;case-split)))
...">forced-hyps</a>) (<a class="sym-link system" href="axioms.html#def-warning_24" data-sym="WARNING$">warning$</a> ctx
                  <span class="string">"Free"</span>
                  <span class="string">"Forward chaining rule ~x0 has forced (or ~
                          case-split) ~#1~[hypothesis~/hypotheses~], ~*2 ~
                          which will be used to instantiate one or more free ~
                          variables.  We will search for suitable ~
                          instantiations (of the term inside the FORCE or ~
                          CASE-SPLIT) among the known assumptions in the ~
                          context at the time we encounter ~#1~[the~/each~] ~
                          hypothesis.  If no instances are found, we will ~
                          force or case split on the partially instantiated ~
                          ~#1~[hypothesis~/hypotheses~] instead of waiting ~
                          for future rounds of forward chaining which might ~
                          derive appropriate instances.  Note that this will ~
                          introduce a ``free variable&#39;&#39; into the conjecture.  ~
                          While sound, this will establish a goal almost ~
                          certain to fail since the restriction described by ~
                          this apparently necessary hypothesis constrains a ~
                          variable not involved in the problem.  To highlight ~
                          this oddity, we will rename the free variables in ~
                          such forced hypotheses by prefixing them with ~
                          ``UNBOUND-FREE-&#39;&#39;.  This is not guaranteed to ~
                          generate a new variable but at least it generates ~
                          an unusual one.  If you see such a variable in a ~
                          subsequent proof (and did not introduce them ~
                          yourself) you should consider the possibility that ~
                          the free variables of this forward chaining rule ~
                          were forced into the conjecture."</span>
                  name
                  (if (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> (cdr <a class="sym-link local-def" href="#def-forced-hyps" data-sym="FORCED-HYPS" title="(defun forced-hyps (lst)
  (cond ((null lst) nil)
        ((and (nvariablep (car lst))
              (or (eq (ffn-symb (car lst)) &#39;force)
                  (eq (ffn-symb (car lst)) &#39;case-split)))
...">forced-hyps</a>))
                    <span class="number">0</span>
                    <span class="number">1</span>)
                  (tilde-*-untranslate-lst-phrase <a class="sym-link local-def" href="#def-forced-hyps" data-sym="FORCED-HYPS" title="(defun forced-hyps (lst)
  (cond ((null lst) nil)
        ((and (nvariablep (car lst))
              (or (eq (ffn-symb (car lst)) &#39;force)
                  (eq (ffn-symb (car lst)) &#39;case-split)))
...">forced-hyps</a> #\, <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> wrld)))
              (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> state))
            (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (non-rec-fns (<a class="sym-link system" href="axioms.html#def-warning_24" data-sym="WARNING$">warning$</a> ctx
                  (<span class="string">"Non-rec"</span>)
                  `(<span class="string">"The term ~x0 contains the function symbol~#1~[ ~
                            ~&amp;1, which has a non-recursive definition.~@2  ~
                            Unless this definition is~/s ~&amp;1, which have ~
                            non-recursive definitions.~@2  Unless these ~
                            definitions are~] disabled, ~x0 is unlikely ever ~
                            to occur as a trigger for ~x3."</span> (<span class="keyword">:name</span> ,NAME)
                    (<span class="keyword">:non-recursive-fns</span> ,(HIDE-LAMBDAS NON-REC-FNS))
                    (<span class="keyword">:trigger-term</span> ,(CAR TERMS)))
                  (car terms)
                  (<a class="sym-link local-def" href="#def-hide-lambdas" data-sym="HIDE-LAMBDAS" title="(defun hide-lambdas (lst)
  (cond ((null lst) nil)
        (t
         (cons
          (if (flambdap (car lst))
...">hide-lambdas</a> non-rec-fns)
                  (<a class="sym-link local-def" href="#def-non-rec-def-rules-msg" data-sym="NON-REC-DEF-RULES-MSG" title="(defun non-rec-def-rules-msg (alist)
  (let ((lst (non-rec-def-rules-msg-1 alist)))
    (cond ((null lst) &quot;&quot;)
          (t
           (msg &quot;  (Note that ~*0&quot;">non-rec-def-rules-msg</a> non-rec-fns-alist)
                  name))
              (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> state))
            (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (non-rec-fns-inst-hyps (<a class="sym-link system" href="axioms.html#def-warning_24" data-sym="WARNING$">warning$</a> ctx
                  (<span class="string">"Non-rec"</span>)
                  `(<span class="string">"As noted, when triggered by ~x0, we will ~
                            instantiate the free variable~#1~[~/s~], ~&amp;1, of ~
                            the rule ~x2, by searching for the ~
                            ~#3~[hypothesis~/set of hypotheses~] shown above. ~
                            ~ However, ~#3~[this hypothesis mentions~/these ~
                            hypotheses mention~] the function symbol~#4~[ ~
                            ~&amp;4, which has a non-recursive definition.~@5  ~
                            Unless this definition is disabled, that function ~
                            symbol is~/s ~&amp;4, which have non-recursive ~
                            definitions.~@5  Unless these definitions are ~
                            disabled, those function symbols are~] unlikely ~
                            to occur in the conjecture being proved and hence ~
                            the search for the required ~
                            ~#3~[hypothesis~/hypotheses~] will likely fail."</span> (<span class="keyword">:free-variables</span> ,FREE-VARS)
                    (<span class="keyword">:instantiated-hyps</span> ,INST-HYPS)
                    (<span class="keyword">:name</span> ,NAME)
                    (<span class="keyword">:non-recursive-fns-inst-hyps</span> ,(HIDE-LAMBDAS NON-REC-FNS-INST-HYPS))
                    (<span class="keyword">:trigger-term</span> ,(CAR TERMS)))
                  (car terms)
                  free-vars
                  name
                  inst-hyps
                  (<a class="sym-link local-def" href="#def-hide-lambdas" data-sym="HIDE-LAMBDAS" title="(defun hide-lambdas (lst)
  (cond ((null lst) nil)
        (t
         (cons
          (if (flambdap (car lst))
...">hide-lambdas</a> non-rec-fns-inst-hyps)
                  (<a class="sym-link local-def" href="#def-non-rec-def-rules-msg" data-sym="NON-REC-DEF-RULES-MSG" title="(defun non-rec-def-rules-msg (alist)
  (let ((lst (non-rec-def-rules-msg-1 alist)))
    (cond ((null lst) &quot;&quot;)
          (t
           (msg &quot;  (Note that ~*0&quot;">non-rec-def-rules-msg</a> non-rec-fns-inst-hyps-alist)))
              (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> state))
            (<a class="sym-link local-def" href="#def-chk-triggers" data-sym="CHK-TRIGGERS" title="(defun chk-triggers
       (name match-free hyps terms hyps-vars concls-vars ctx ens wrld state)
  (cond ((null terms) (value nil))
        ((or (variablep (car terms)) (fquotep (car terms))
             (flambda-applicationp (car terms))
...">chk-triggers</a> match-free
              name
              hyps
              (cdr terms)
              hyps-vars
              concls-vars
              ctx
              ens
              wrld
              state)))))))</pre>
  </div>

<div class="form-block function" id="def-destructure-forward-chaining-term" data-defines="DESTRUCTURE-FORWARD-CHAINING-TERM" data-references="FARGN,T,FLATTEN-ANDS-IN-LIT,MV,IMPLIES,QUOTE,FFN-SYMB,EQ,NOT,FQUOTEP,VARIABLEP,OR,COND,REMOVE-GUARD-HOLDERS,REMOVE-LAMBDAS,LET,WRLD,TERM,DEFUN" data-used-by="TRANSLATE-RULE-CLASS-ALIST,ADD-FORWARD-CHAINING-RULE,CHK-ACCEPTABLE-FORWARD-CHAINING-RULE" data-part-name="DESTRUCTURE-FORWARD-CHAINING-TERM" data-part-args="WRLD,TERM" data-part-body="FARGN,T,FLATTEN-ANDS-IN-LIT,MV,IMPLIES,QUOTE,FFN-SYMB,EQ,NOT,FQUOTEP,VARIABLEP,OR,COND,WRLD,REMOVE-GUARD-HOLDERS,REMOVE-LAMBDAS,TERM,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DESTRUCTURE-FORWARD-CHAINING-TERM">destructure-forward-chaining-term</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-destructure-forward-chaining-term" data-sym="DESTRUCTURE-FORWARD-CHAINING-TERM" title="(defun destructure-forward-chaining-term (term wrld)
  (let ((term (remove-lambdas (remove-guard-holders term wrld))))
    (cond
     ((or (variablep term) (fquotep term) (not (eq (ffn-symb term) &#39;implies)))
      (mv nil (flatten-ands-in-lit term)))
...">destructure-forward-chaining-term</a>
  (term wrld)
  (let ((term (<a class="sym-link system" href="defuns.html#def-remove-lambdas" data-sym="REMOVE-LAMBDAS">remove-lambdas</a> (remove-guard-holders term wrld))))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> term)
         (<a class="sym-link system" href="axioms.html#def-fquotep" data-sym="FQUOTEP">fquotep</a> term)
         (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term) '<a class="sym-link system" href="axioms.html#def-implies" data-sym="IMPLIES">implies</a>))) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil (flatten-ands-in-lit term)))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> (flatten-ands-in-lit (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">1</span>))
          (flatten-ands-in-lit (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">2</span>)))))))</pre>
  </div>

<div class="form-block function" id="def-warn-on-synp-hyps1" data-defines="WARN-ON-SYNP-HYPS1" data-references="CDR,BIND-FREE,SYNTAXP,EQ,CONSP,AND,WARNING$,T,UNTRANSLATE,UHYP,LET,SYNP,QUOTE,CAR,FFN-SYMB-P,ENDP,COND,STATE,WRLD,CTX,RULE-CLASS,NAME,HYPS,DEFUN" data-used-by="WARN-ON-SYNP-HYPS" data-part-name="WARN-ON-SYNP-HYPS1" data-part-args="STATE,WRLD,CTX,RULE-CLASS,NAME,HYPS" data-part-body="CDR,WARN-ON-SYNP-HYPS1,NAME,BIND-FREE,SYNTAXP,EQ,CONSP,AND,RULE-CLASS,CTX,WARNING$,WRLD,T,UNTRANSLATE,UHYP,LET,SYNP,QUOTE,CAR,FFN-SYMB-P,STATE,HYPS,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="WARN-ON-SYNP-HYPS1">warn-on-synp-hyps1</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-warn-on-synp-hyps1" data-sym="WARN-ON-SYNP-HYPS1" title="(defun warn-on-synp-hyps1 (hyps name rule-class ctx wrld state)
  (cond ((endp hyps) state)
        ((ffn-symb-p (car hyps) &#39;synp)
         (let ((uhyp (untranslate (car hyps) t wrld)))
           (warning$ ctx (&quot;Syntaxp/Bind-free Hypotheses&quot;)
...">warn-on-synp-hyps1</a>
  (hyps name rule-class ctx wrld state)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> hyps) state)
    ((<a class="sym-link system" href="basis-b.html#def-ffn-symb-p" data-sym="FFN-SYMB-P">ffn-symb-p</a> (car hyps) '<a class="sym-link system" href="axioms.html#def-synp" data-sym="SYNP">synp</a>) (let ((uhyp (untranslate (car hyps) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> wrld)))
        (<a class="sym-link system" href="axioms.html#def-warning_24" data-sym="WARNING$">warning$</a> ctx
          (<span class="string">"Syntaxp/Bind-free Hypotheses"</span>)
          <span class="string">"For the rule-class ~x0, ~#1~[syntaxp ~
                      hypotheses~/bind-free hypotheses~/hypotheses calling ~
                      synp~] receive no special treatment; they are always ~
                      simply true.  Thus, for proposed rule ~x2 it is ~
                      recommended to remove the hypothesis ~x3."</span>
          rule-class
          (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (consp uhyp) (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (car uhyp) '<a class="sym-link system" href="axioms.html#def-syntaxp" data-sym="SYNTAXP">syntaxp</a>)) <span class="number">0</span>)
            ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (consp uhyp) (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (car uhyp) '<a class="sym-link system" href="axioms.html#def-bind-free" data-sym="BIND-FREE">bind-free</a>)) <span class="number">1</span>)
            (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <span class="number">2</span>))
          name
          uhyp)))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-warn-on-synp-hyps1" data-sym="WARN-ON-SYNP-HYPS1" title="(defun warn-on-synp-hyps1 (hyps name rule-class ctx wrld state)
  (cond ((endp hyps) state)
        ((ffn-symb-p (car hyps) &#39;synp)
         (let ((uhyp (untranslate (car hyps) t wrld)))
           (warning$ ctx (&quot;Syntaxp/Bind-free Hypotheses&quot;)
...">warn-on-synp-hyps1</a> (cdr hyps)
        name
        rule-class
        ctx
        wrld
        state))))</pre>
  </div>

<div class="form-block function" id="def-warn-on-synp-hyps" data-defines="WARN-ON-SYNP-HYPS" data-references="WARN-ON-SYNP-HYPS1,T,WARNING-OFF-P,NULL,OR,COND,STATE,WRLD,CTX,RULE-CLASS,NAME,HYPS,DEFUN" data-used-by="CHK-ACCEPTABLE-TYPE-PRESCRIPTION-RULE,CHK-ACCEPTABLE-FORWARD-CHAINING-RULE" data-part-name="WARN-ON-SYNP-HYPS" data-part-args="STATE,WRLD,CTX,RULE-CLASS,NAME,HYPS" data-part-body="WRLD,CTX,RULE-CLASS,NAME,WARN-ON-SYNP-HYPS1,T,STATE,WARNING-OFF-P,HYPS,NULL,OR,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="WARN-ON-SYNP-HYPS">warn-on-synp-hyps</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-warn-on-synp-hyps" data-sym="WARN-ON-SYNP-HYPS" title="(defun warn-on-synp-hyps (hyps name rule-class ctx wrld state)
  (cond
   ((or (null hyps) (warning-off-p &quot;Syntaxp/Bind-free Hypotheses&quot; state))
    state)
   (t (warn-on-synp-hyps1 hyps name rule-class ctx wrld state))))">warn-on-synp-hyps</a>
  (hyps name rule-class ctx wrld state)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> hyps)
       (<a class="sym-link system" href="basis-a.html#def-warning-off-p" data-sym="WARNING-OFF-P">warning-off-p</a> <span class="string">"Syntaxp/Bind-free Hypotheses"</span> state)) state)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-warn-on-synp-hyps1" data-sym="WARN-ON-SYNP-HYPS1" title="(defun warn-on-synp-hyps1 (hyps name rule-class ctx wrld state)
  (cond ((endp hyps) state)
        ((ffn-symb-p (car hyps) &#39;synp)
         (let ((uhyp (untranslate (car hyps) t wrld)))
           (warning$ ctx (&quot;Syntaxp/Bind-free Hypotheses&quot;)
...">warn-on-synp-hyps1</a> hyps name rule-class ctx wrld state))))</pre>
  </div>

<div class="form-block function" id="def-chk-acceptable-forward-chaining-rule" data-defines="CHK-ACCEPTABLE-FORWARD-CHAINING-RULE" data-references="CHK-TRIGGERS,WARN-ON-SYNP-HYPS,PPROGN,CONCLS-VARS,ALL-VARS1-LST,HYPS-VARS,LET,DESTRUCTURE-FORWARD-CHAINING-TERM,CONCLS,HYPS,MV-LET,STATE,WRLD,ENS,CTX,TERM,TRIGGER-TERMS,MATCH-FREE,NAME,DEFUN" data-used-by="CHK-ACCEPTABLE-X-RULE" data-part-name="CHK-ACCEPTABLE-FORWARD-CHAINING-RULE" data-part-args="STATE,WRLD,ENS,CTX,TERM,TRIGGER-TERMS,MATCH-FREE,NAME" data-part-body="ENS,TRIGGER-TERMS,MATCH-FREE,CHK-TRIGGERS,STATE,CTX,NAME,WARN-ON-SYNP-HYPS,PPROGN,CONCLS-VARS,ALL-VARS1-LST,HYPS-VARS,LET,WRLD,TERM,DESTRUCTURE-FORWARD-CHAINING-TERM,CONCLS,HYPS,MV-LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CHK-ACCEPTABLE-FORWARD-CHAINING-RULE">chk-acceptable-forward-chaining-rule</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-chk-acceptable-forward-chaining-rule" data-sym="CHK-ACCEPTABLE-FORWARD-CHAINING-RULE" title="(defun chk-acceptable-forward-chaining-rule
       (name match-free trigger-terms term ctx ens wrld state)
  (mv-let (hyps concls) (destructure-forward-chaining-term term wrld)
          (let ((hyps-vars (all-vars1-lst hyps nil))
                (concls-vars (all-vars1-lst concls nil)))
...">chk-acceptable-forward-chaining-rule</a>
  (name match-free trigger-terms term ctx ens wrld state)
  (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (hyps concls)
    (<a class="sym-link local-def" href="#def-destructure-forward-chaining-term" data-sym="DESTRUCTURE-FORWARD-CHAINING-TERM" title="(defun destructure-forward-chaining-term (term wrld)
  (let ((term (remove-lambdas (remove-guard-holders term wrld))))
    (cond
     ((or (variablep term) (fquotep term) (not (eq (ffn-symb term) &#39;implies)))
      (mv nil (flatten-ands-in-lit term)))
...">destructure-forward-chaining-term</a> term wrld)
    (let ((hyps-vars (all-vars1-lst hyps nil)) (concls-vars (all-vars1-lst concls nil)))
      (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link local-def" href="#def-warn-on-synp-hyps" data-sym="WARN-ON-SYNP-HYPS" title="(defun warn-on-synp-hyps (hyps name rule-class ctx wrld state)
  (cond
   ((or (null hyps) (warning-off-p &quot;Syntaxp/Bind-free Hypotheses&quot; state))
    state)
   (t (warn-on-synp-hyps1 hyps name rule-class ctx wrld state))))">warn-on-synp-hyps</a> hyps
          name
          <span class="keyword">:forward-chaining</span> ctx
          wrld
          state)
        (<a class="sym-link local-def" href="#def-chk-triggers" data-sym="CHK-TRIGGERS" title="(defun chk-triggers
       (name match-free hyps terms hyps-vars concls-vars ctx ens wrld state)
  (cond ((null terms) (value nil))
        ((or (variablep (car terms)) (fquotep (car terms))
             (flambda-applicationp (car terms))
...">chk-triggers</a> name
          match-free
          hyps
          trigger-terms
          hyps-vars
          concls-vars
          ctx
          ens
          wrld
          state)))))</pre>
  </div>

<div class="form-block function" id="def-putprop-forward-chaining-rules-lst" data-defines="PUTPROP-FORWARD-CHAINING-RULES-LST" data-references="GETPROPC,FORWARD-CHAINING-RULE,MAKE,CONS,FORWARD-CHAINING-RULES,QUOTE,CAR,FFN-SYMB,PUTPROP,CDR,T,PUT-MATCH-FREE-VALUE,NULL,COND,WRLD,MATCH-FREE,CONCLS,HYPS,TRIGGERS,NUME,RUNE,DEFUN" data-used-by="ADD-FORWARD-CHAINING-RULE" data-part-name="PUTPROP-FORWARD-CHAINING-RULES-LST" data-part-args="WRLD,MATCH-FREE,CONCLS,HYPS,TRIGGERS,NUME,RUNE" data-part-body="GETPROPC,FORWARD-CHAINING-RULE,MAKE,CONS,FORWARD-CHAINING-RULES,QUOTE,CAR,FFN-SYMB,PUTPROP,CONCLS,HYPS,CDR,NUME,PUTPROP-FORWARD-CHAINING-RULES-LST,T,WRLD,RUNE,MATCH-FREE,PUT-MATCH-FREE-VALUE,TRIGGERS,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="PUTPROP-FORWARD-CHAINING-RULES-LST">putprop-forward-chaining-rules-lst</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-putprop-forward-chaining-rules-lst" data-sym="PUTPROP-FORWARD-CHAINING-RULES-LST" title="(defun putprop-forward-chaining-rules-lst
       (rune nume triggers hyps concls match-free wrld)
  (cond ((null triggers) (put-match-free-value match-free rune wrld))
        (t
         (putprop-forward-chaining-rules-lst rune nume (cdr triggers) hyps
...">putprop-forward-chaining-rules-lst</a>
  (rune nume triggers hyps concls match-free wrld)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> triggers) (<a class="sym-link local-def" href="#def-put-match-free-value" data-sym="PUT-MATCH-FREE-VALUE" title="(defun put-match-free-value (match-free-value rune wrld)
  (cond
   ((eq match-free-value :all)
    (global-set &#39;free-var-runes-all
                (cons rune (global-val &#39;free-var-runes-all wrld)) wrld))
...">put-match-free-value</a> match-free rune wrld))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-putprop-forward-chaining-rules-lst" data-sym="PUTPROP-FORWARD-CHAINING-RULES-LST" title="(defun putprop-forward-chaining-rules-lst
       (rune nume triggers hyps concls match-free wrld)
  (cond ((null triggers) (put-match-free-value match-free rune wrld))
        (t
         (putprop-forward-chaining-rules-lst rune nume (cdr triggers) hyps
...">putprop-forward-chaining-rules-lst</a> rune
        nume
        (cdr triggers)
        hyps
        concls
        match-free
        (<a class="sym-link system" href="axioms.html#def-putprop" data-sym="PUTPROP">putprop</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> (car triggers))
          'forward-chaining-rules
          (cons (<a class="sym-link system" href="basis-a.html#def-make" data-sym="MAKE">make</a> forward-chaining-rule
              <span class="keyword">:rune</span> rune
              <span class="keyword">:nume</span> nume
              <span class="keyword">:trigger</span> (car triggers)
              <span class="keyword">:hyps</span> hyps
              <span class="keyword">:concls</span> concls
              <span class="keyword">:match-free</span> match-free)
            (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> (car triggers))
              'forward-chaining-rules
              nil
              wrld))
          wrld)))))</pre>
  </div>

<div class="form-block function" id="def-add-forward-chaining-rule" data-defines="ADD-FORWARD-CHAINING-RULE" data-references="MATCH-FREE-FC-VALUE,PUTPROP-FORWARD-CHAINING-RULES-LST,DESTRUCTURE-FORWARD-CHAINING-TERM,CONCLS,HYPS,MV-LET,WRLD,MATCH-FREE,TERM,TRIGGER-TERMS,NUME,RUNE,DEFUN" data-used-by="ADD-X-RULE" data-part-name="ADD-FORWARD-CHAINING-RULE" data-part-args="WRLD,MATCH-FREE,TERM,TRIGGER-TERMS,NUME,RUNE" data-part-body="MATCH-FREE,MATCH-FREE-FC-VALUE,TRIGGER-TERMS,NUME,RUNE,PUTPROP-FORWARD-CHAINING-RULES-LST,WRLD,TERM,DESTRUCTURE-FORWARD-CHAINING-TERM,CONCLS,HYPS,MV-LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ADD-FORWARD-CHAINING-RULE">add-forward-chaining-rule</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-add-forward-chaining-rule" data-sym="ADD-FORWARD-CHAINING-RULE" title="(defun add-forward-chaining-rule (rune nume trigger-terms term match-free wrld)
  (mv-let (hyps concls) (destructure-forward-chaining-term term wrld)
          (putprop-forward-chaining-rules-lst rune nume trigger-terms hyps
                                              concls
                                              (match-free-fc-value match-free
...">add-forward-chaining-rule</a>
  (rune nume trigger-terms term match-free wrld)
  (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (hyps concls)
    (<a class="sym-link local-def" href="#def-destructure-forward-chaining-term" data-sym="DESTRUCTURE-FORWARD-CHAINING-TERM" title="(defun destructure-forward-chaining-term (term wrld)
  (let ((term (remove-lambdas (remove-guard-holders term wrld))))
    (cond
     ((or (variablep term) (fquotep term) (not (eq (ffn-symb term) &#39;implies)))
      (mv nil (flatten-ands-in-lit term)))
...">destructure-forward-chaining-term</a> term wrld)
    (<a class="sym-link local-def" href="#def-putprop-forward-chaining-rules-lst" data-sym="PUTPROP-FORWARD-CHAINING-RULES-LST" title="(defun putprop-forward-chaining-rules-lst
       (rune nume triggers hyps concls match-free wrld)
  (cond ((null triggers) (put-match-free-value match-free rune wrld))
        (t
         (putprop-forward-chaining-rules-lst rune nume (cdr triggers) hyps
...">putprop-forward-chaining-rules-lst</a> rune
      nume
      trigger-terms
      hyps
      concls
      (<a class="sym-link local-def" href="#def-match-free-fc-value" data-sym="MATCH-FREE-FC-VALUE" title="(defun match-free-fc-value (match-free hyps concls triggers wrld)
  (or match-free
      (and (free-vars-in-fc-hyps triggers hyps concls)
           (or (match-free-default wrld) :all))))">match-free-fc-value</a> match-free
        hyps
        concls
        trigger-terms
        wrld)
      wrld)))</pre>
  </div>

<div class="form-block function" id="def-evaluator-clause_2Farglist" data-defines="EVALUATOR-CLAUSE/ARGLIST" data-references="CDR,A,CAR,QUOTE,MCONS-TERM*,CONS,T,NULL,COND,X,FORMALS,EVFN,DEFUN" data-used-by="EVALUATOR-CLAUSE" data-part-name="EVALUATOR-CLAUSE/ARGLIST" data-part-args="X,FORMALS,EVFN" data-part-body="CDR,EVALUATOR-CLAUSE/ARGLIST,A,X,CAR,QUOTE,EVFN,MCONS-TERM*,CONS,T,FORMALS,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="EVALUATOR-CLAUSE/ARGLIST">evaluator-clause/arglist</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-evaluator-clause_2Farglist" data-sym="EVALUATOR-CLAUSE/ARGLIST" title="(defun evaluator-clause/arglist (evfn formals x)
  (cond ((null formals) nil)
        (t
         (cons (mcons-term* evfn (mcons-term* &#39;car x) &#39;a)
               (evaluator-clause/arglist evfn (cdr formals)">evaluator-clause/arglist</a>
  (evfn <a class="sym-link system" href="basis-b.html#def-formals" data-sym="FORMALS">formals</a> x)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> <a class="sym-link system" href="basis-b.html#def-formals" data-sym="FORMALS">formals</a>) nil)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (cons (<a class="sym-link system" href="basis-b.html#def-mcons-term_2A" data-sym="MCONS-TERM*">mcons-term*</a> evfn (<a class="sym-link system" href="basis-b.html#def-mcons-term_2A" data-sym="MCONS-TERM*">mcons-term*</a> 'car x) 'a)
        (<a class="sym-link local-def" href="#def-evaluator-clause_2Farglist" data-sym="EVALUATOR-CLAUSE/ARGLIST" title="(defun evaluator-clause/arglist (evfn formals x)
  (cond ((null formals) nil)
        (t
         (cons (mcons-term* evfn (mcons-term* &#39;car x) &#39;a)
               (evaluator-clause/arglist evfn (cdr formals)">evaluator-clause/arglist</a> evfn
          (cdr <a class="sym-link system" href="basis-b.html#def-formals" data-sym="FORMALS">formals</a>)
          (<a class="sym-link system" href="basis-b.html#def-mcons-term_2A" data-sym="MCONS-TERM*">mcons-term*</a> 'cdr x))))))</pre>
  </div>

<div class="form-block function" id="def-evaluator-clause" data-defines="EVALUATOR-CLAUSE" data-references="CDR,EVALUATOR-CLAUSE/ARGLIST,FCONS-TERM,A,KWOTE,CAR,EQUAL,FCONS-TERM*,X,CONSP,NOT,QUOTE,LIST,FN-ARGS,EVFN,DEFUN" data-used-by="EVALUATOR-CLAUSES1" data-part-name="EVALUATOR-CLAUSE" data-part-args="FN-ARGS,EVFN" data-part-body="CDR,EVALUATOR-CLAUSE/ARGLIST,FCONS-TERM,A,EVFN,FN-ARGS,KWOTE,CAR,EQUAL,FCONS-TERM*,X,CONSP,NOT,QUOTE,LIST" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="EVALUATOR-CLAUSE">evaluator-clause</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-evaluator-clause" data-sym="EVALUATOR-CLAUSE" title="(defun evaluator-clause (evfn fn-args)
  (list &#39;(not (consp x))
        (fcons-term* &#39;not (fcons-term* &#39;equal &#39;(car x) (kwote (car fn-args))))
        (fcons-term* &#39;equal (fcons-term* evfn &#39;x &#39;a)
                     (fcons-term (car fn-args)
...">evaluator-clause</a>
  (evfn fn-args)
  (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> '(<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (consp x))
    (<a class="sym-link system" href="axioms.html#def-fcons-term_2A" data-sym="FCONS-TERM*">fcons-term*</a> '<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a>
      (<a class="sym-link system" href="axioms.html#def-fcons-term_2A" data-sym="FCONS-TERM*">fcons-term*</a> 'equal '(car x) (<a class="sym-link system" href="axioms.html#def-kwote" data-sym="KWOTE">kwote</a> (car fn-args))))
    (<a class="sym-link system" href="axioms.html#def-fcons-term_2A" data-sym="FCONS-TERM*">fcons-term*</a> 'equal
      (<a class="sym-link system" href="axioms.html#def-fcons-term_2A" data-sym="FCONS-TERM*">fcons-term*</a> evfn 'x 'a)
      (<a class="sym-link system" href="basis-b.html#def-fcons-term" data-sym="FCONS-TERM">fcons-term</a> (car fn-args)
        (<a class="sym-link local-def" href="#def-evaluator-clause_2Farglist" data-sym="EVALUATOR-CLAUSE/ARGLIST" title="(defun evaluator-clause/arglist (evfn formals x)
  (cond ((null formals) nil)
        (t
         (cons (mcons-term* evfn (mcons-term* &#39;car x) &#39;a)
               (evaluator-clause/arglist evfn (cdr formals)">evaluator-clause/arglist</a> evfn (cdr fn-args) '(cdr x))))))</pre>
  </div>

<div class="form-block function" id="def-evaluator-clauses1" data-defines="EVALUATOR-CLAUSES1" data-references="CDR,CAR,EVALUATOR-CLAUSE,CONS,T,NULL,COND,FN-ARGS-LST,EVFN,DEFUN" data-used-by="EVALUATOR-CLAUSES" data-part-name="EVALUATOR-CLAUSES1" data-part-args="FN-ARGS-LST,EVFN" data-part-body="CDR,EVALUATOR-CLAUSES1,CAR,EVFN,EVALUATOR-CLAUSE,CONS,T,FN-ARGS-LST,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="EVALUATOR-CLAUSES1">evaluator-clauses1</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-evaluator-clauses1" data-sym="EVALUATOR-CLAUSES1" title="(defun evaluator-clauses1 (evfn fn-args-lst)
  (cond ((null fn-args-lst) nil)
        (t
         (cons (evaluator-clause evfn (car fn-args-lst))
               (evaluator-clauses1 evfn (cdr fn-args-lst))))))">evaluator-clauses1</a>
  (evfn fn-args-lst)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> fn-args-lst) nil)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (cons (<a class="sym-link local-def" href="#def-evaluator-clause" data-sym="EVALUATOR-CLAUSE" title="(defun evaluator-clause (evfn fn-args)
  (list &#39;(not (consp x))
        (fcons-term* &#39;not (fcons-term* &#39;equal &#39;(car x) (kwote (car fn-args))))
        (fcons-term* &#39;equal (fcons-term* evfn &#39;x &#39;a)
                     (fcons-term (car fn-args)
...">evaluator-clause</a> evfn (car fn-args-lst))
        (<a class="sym-link local-def" href="#def-evaluator-clauses1" data-sym="EVALUATOR-CLAUSES1" title="(defun evaluator-clauses1 (evfn fn-args-lst)
  (cond ((null fn-args-lst) nil)
        (t
         (cons (evaluator-clause evfn (car fn-args-lst))
               (evaluator-clauses1 evfn (cdr fn-args-lst))))))">evaluator-clauses1</a> evfn (cdr fn-args-lst))))))</pre>
  </div>

<div class="form-block function" id="def-evaluator-clauses" data-defines="EVALUATOR-CLAUSES" data-references="EVALUATOR-CLAUSES1,X-LST,PAIRLIS$,ASSOC-EQUAL,SYMBOLP,CDR,KWOTE-LST,CAR,T,IF,A,EQUAL,SYNTAXP,SYNP,X,CONSP,NOT,QUOTE,CONS,LIST,SUBLIS,APPEND,FN-ARGS-LST,EVFN-LST,EVFN,DEFUN" data-used-by="DEFEVALUATOR-FORM,CHK-EVALUATOR" data-part-name="EVALUATOR-CLAUSES" data-part-args="FN-ARGS-LST,EVFN-LST,EVFN" data-part-body="FN-ARGS-LST,EVALUATOR-CLAUSES1,X-LST,PAIRLIS$,ASSOC-EQUAL,SYMBOLP,CDR,KWOTE-LST,CAR,T,IF,A,EQUAL,SYNTAXP,SYNP,X,CONSP,NOT,EVFN-LST,EVFN,QUOTE,CONS,LIST,SUBLIS,APPEND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="EVALUATOR-CLAUSES">evaluator-clauses</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-evaluator-clauses" data-sym="EVALUATOR-CLAUSES" title="(defun evaluator-clauses (evfn evfn-lst fn-args-lst)
  (append
   (sublis (list (cons &#39;evfn evfn) (cons &#39;evfn-lst evfn-lst))
           &#39;(((not (consp x))
              (not
...">evaluator-clauses</a>
  (evfn evfn-lst fn-args-lst)
  (<a class="sym-link system" href="axioms.html#def-append" data-sym="APPEND">append</a> (<a class="sym-link system" href="axioms.html#def-sublis" data-sym="SUBLIS">sublis</a> (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (cons 'evfn evfn) (cons 'evfn-lst evfn-lst))
      '(((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (consp x)) (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-synp" data-sym="SYNP">synp</a> 'nil
             '(<a class="sym-link system" href="axioms.html#def-syntaxp" data-sym="SYNTAXP">syntaxp</a> (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (equal a ''nil)))
             '(if (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (equal a ''nil))
               '<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
               'nil)))
         (equal (car x) 'quote)
         (equal (evfn x a)
           (evfn (cons (car x) (<a class="sym-link system" href="axioms.html#def-kwote-lst" data-sym="KWOTE-LST">kwote-lst</a> (evfn-lst (cdr x) a))) 'nil))) ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (symbolp x)) (equal (evfn x a)
            (if x
              (cdr (<a class="sym-link system" href="axioms.html#def-assoc-equal" data-sym="ASSOC-EQUAL">assoc-equal</a> x a))
              'nil)))
        ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (consp x)) (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (equal (car x) 'quote))
          (equal (evfn x a) (car (cdr x))))
        ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (consp x)) (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (consp (car x)))
          (equal (evfn x a)
            (evfn (car (cdr (cdr (car x))))
              (<a class="sym-link system" href="axioms.html#def-pairlis_24" data-sym="PAIRLIS$">pairlis$</a> (car (cdr (car x))) (evfn-lst (cdr x) a)))))
        ((consp x-lst) (equal (evfn-lst x-lst a) 'nil))
        ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (consp x-lst)) (equal (evfn-lst x-lst a)
            (cons (evfn (car x-lst) a) (evfn-lst (cdr x-lst) a))))
        ((consp x) (symbolp x) (equal (evfn x a) 'nil))
        ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (consp x)) (consp (car x))
          (symbolp (car x))
          (equal (evfn x a) 'nil))))
    (<a class="sym-link local-def" href="#def-evaluator-clauses1" data-sym="EVALUATOR-CLAUSES1" title="(defun evaluator-clauses1 (evfn fn-args-lst)
  (cond ((null fn-args-lst) nil)
        (t
         (cons (evaluator-clause evfn (car fn-args-lst))
               (evaluator-clauses1 evfn (cdr fn-args-lst))))))">evaluator-clauses1</a> evfn fn-args-lst)))</pre>
  </div>

<div class="form-block function" id="def-cdrp" data-defines="CDRP" data-references="FARGN,CDR,QUOTE,FFN-SYMB,EQ,FQUOTEP,VARIABLEP,T,EQUAL,COND,TERM,X,DEFUN" data-part-name="CDRP" data-part-args="TERM,X" data-part-body="FARGN,CDRP,CDR,QUOTE,FFN-SYMB,EQ,FQUOTEP,VARIABLEP,T,TERM,X,EQUAL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CDRP">cdrp</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-cdrp" data-sym="CDRP" title="(defun cdrp (x term)
  (cond ((equal x term) t) ((variablep term) nil) ((fquotep term) nil)
        ((eq (ffn-symb term) &#39;cdr) (cdrp x (fargn term 1))) (t nil)))">cdrp</a>
  (x term)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((equal x term) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)
    ((<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> term) nil)
    ((<a class="sym-link system" href="axioms.html#def-fquotep" data-sym="FQUOTEP">fquotep</a> term) nil)
    ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term) 'cdr) (<a class="sym-link local-def" href="#def-cdrp" data-sym="CDRP" title="(defun cdrp (x term)
  (cond ((equal x term) t) ((variablep term) nil) ((fquotep term) nil)
        ((eq (ffn-symb term) &#39;cdr) (cdrp x (fargn term 1))) (t nil)))">cdrp</a> x (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">1</span>)))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> nil)))</pre>
  </div>

<div class="form-block function" id="def-expand-eq-and-atom-term-lst" data-defines="EXPAND-EQ-AND-ATOM-TERM-LST" data-references="&,CONSP,ATOM,CADR,QUOTEP,AND,LIST,EQUAL,MCONS-TERM*,CONS,SYMBOLP,S,X,EQ,NOT,QUOTE,CASE-MATCH,CAR,LIT,CDR,RST,LET,T,NULL,COND,LST,DEFUN" data-used-by="NORMALIZE-ALLEGED-EVALUATOR-CLAUSE" data-part-name="EXPAND-EQ-AND-ATOM-TERM-LST" data-part-args="LST" data-part-body="&,CONSP,ATOM,CADR,QUOTEP,AND,LIST,EQUAL,MCONS-TERM*,CONS,SYMBOLP,S,X,EQ,NOT,QUOTE,CASE-MATCH,CAR,LIT,CDR,EXPAND-EQ-AND-ATOM-TERM-LST,RST,LET,T,LST,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="EXPAND-EQ-AND-ATOM-TERM-LST">expand-eq-and-atom-term-lst</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-expand-eq-and-atom-term-lst" data-sym="EXPAND-EQ-AND-ATOM-TERM-LST" title="(defun expand-eq-and-atom-term-lst (lst)
  (cond ((null lst) nil)
        (t
         (let ((rst (expand-eq-and-atom-term-lst (cdr lst))) (lit (car lst)))
           (case-match lit
...">expand-eq-and-atom-term-lst</a>
  (lst)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> lst) nil)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((rst (<a class="sym-link local-def" href="#def-expand-eq-and-atom-term-lst" data-sym="EXPAND-EQ-AND-ATOM-TERM-LST" title="(defun expand-eq-and-atom-term-lst (lst)
  (cond ((null lst) nil)
        (t
         (let ((rst (expand-eq-and-atom-term-lst (cdr lst))) (lit (car lst)))
           (case-match lit
...">expand-eq-and-atom-term-lst</a> (cdr lst))) (lit (car lst)))
        (<a class="sym-link system" href="basis-a.html#def-case-match" data-sym="CASE-MATCH">case-match</a> lit
          (('<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> ('<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> x ('quote s))) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((symbolp s) (cons (<a class="sym-link system" href="basis-b.html#def-mcons-term_2A" data-sym="MCONS-TERM*">mcons-term*</a> '<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="basis-b.html#def-mcons-term_2A" data-sym="MCONS-TERM*">mcons-term*</a> 'equal x (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> 'quote s)))
                  rst))
              ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-quotep" data-sym="QUOTEP">quotep</a> x) (symbolp (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> x))) (cons (<a class="sym-link system" href="basis-b.html#def-mcons-term_2A" data-sym="MCONS-TERM*">mcons-term*</a> '<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="basis-b.html#def-mcons-term_2A" data-sym="MCONS-TERM*">mcons-term*</a> 'equal (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> 'quote s) x))
                  rst))
              (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (cons lit rst))))
          (('<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> ('<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> ('quote s) x)) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((symbolp s) (cons (<a class="sym-link system" href="basis-b.html#def-mcons-term_2A" data-sym="MCONS-TERM*">mcons-term*</a> '<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="basis-b.html#def-mcons-term_2A" data-sym="MCONS-TERM*">mcons-term*</a> 'equal x (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> 'quote s)))
                  rst))
              (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (cons lit rst))))
          (('<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> ('equal ('quote s) x)) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (symbolp s) (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-quotep" data-sym="QUOTEP">quotep</a> x) (symbolp (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> x))))) (cons (<a class="sym-link system" href="basis-b.html#def-mcons-term_2A" data-sym="MCONS-TERM*">mcons-term*</a> '<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="basis-b.html#def-mcons-term_2A" data-sym="MCONS-TERM*">mcons-term*</a> 'equal x (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> 'quote s)))
                  rst))
              (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (cons lit rst))))
          (('<a class="sym-link system" href="axioms.html#def-atom" data-sym="ATOM">atom</a> x) (cons (<a class="sym-link system" href="basis-b.html#def-mcons-term_2A" data-sym="MCONS-TERM*">mcons-term*</a> '<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="basis-b.html#def-mcons-term_2A" data-sym="MCONS-TERM*">mcons-term*</a> 'consp x)) rst))
          (&amp; (cons lit rst)))))))</pre>
  </div>

<div class="form-block function" id="def-normalize-alleged-evaluator-clause" data-defines="NORMALIZE-ALLEGED-EVALUATOR-CLAUSE" data-references="EXPAND-EQ-AND-ATOM-TERM-LST,CLAUSE,DEFUN" data-used-by="NORMALIZE-ALLEGED-EVALUATOR-CLAUSE-SET" data-part-name="NORMALIZE-ALLEGED-EVALUATOR-CLAUSE" data-part-args="CLAUSE" data-part-body="CLAUSE,EXPAND-EQ-AND-ATOM-TERM-LST" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="NORMALIZE-ALLEGED-EVALUATOR-CLAUSE">normalize-alleged-evaluator-clause</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-normalize-alleged-evaluator-clause" data-sym="NORMALIZE-ALLEGED-EVALUATOR-CLAUSE" title="(defun normalize-alleged-evaluator-clause (clause)
  (expand-eq-and-atom-term-lst clause))">normalize-alleged-evaluator-clause</a>
  (clause)
  (<a class="sym-link local-def" href="#def-expand-eq-and-atom-term-lst" data-sym="EXPAND-EQ-AND-ATOM-TERM-LST" title="(defun expand-eq-and-atom-term-lst (lst)
  (cond ((null lst) nil)
        (t
         (let ((rst (expand-eq-and-atom-term-lst (cdr lst))) (lit (car lst)))
           (case-match lit
...">expand-eq-and-atom-term-lst</a> clause))</pre>
  </div>

<div class="form-block function" id="def-normalize-alleged-evaluator-clause-set" data-defines="NORMALIZE-ALLEGED-EVALUATOR-CLAUSE-SET" data-references="CDR,CAR,NORMALIZE-ALLEGED-EVALUATOR-CLAUSE,CONS,T,NULL,COND,LST,DEFUN" data-used-by="NORMALIZED-EVALUATOR-CL-SET" data-part-name="NORMALIZE-ALLEGED-EVALUATOR-CLAUSE-SET" data-part-args="LST" data-part-body="CDR,NORMALIZE-ALLEGED-EVALUATOR-CLAUSE-SET,CAR,NORMALIZE-ALLEGED-EVALUATOR-CLAUSE,CONS,T,LST,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="NORMALIZE-ALLEGED-EVALUATOR-CLAUSE-SET">normalize-alleged-evaluator-clause-set</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-normalize-alleged-evaluator-clause-set" data-sym="NORMALIZE-ALLEGED-EVALUATOR-CLAUSE-SET" title="(defun normalize-alleged-evaluator-clause-set (lst)
  (cond ((null lst) nil)
        (t
         (cons (normalize-alleged-evaluator-clause (car lst))
               (normalize-alleged-evaluator-clause-set (cdr lst))))))">normalize-alleged-evaluator-clause-set</a>
  (lst)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> lst) nil)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (cons (<a class="sym-link local-def" href="#def-normalize-alleged-evaluator-clause" data-sym="NORMALIZE-ALLEGED-EVALUATOR-CLAUSE" title="(defun normalize-alleged-evaluator-clause (clause)
  (expand-eq-and-atom-term-lst clause))">normalize-alleged-evaluator-clause</a> (car lst))
        (<a class="sym-link local-def" href="#def-normalize-alleged-evaluator-clause-set" data-sym="NORMALIZE-ALLEGED-EVALUATOR-CLAUSE-SET" title="(defun normalize-alleged-evaluator-clause-set (lst)
  (cond ((null lst) nil)
        (t
         (cons (normalize-alleged-evaluator-clause (car lst))
               (normalize-alleged-evaluator-clause-set (cdr lst))))))">normalize-alleged-evaluator-clause-set</a> (cdr lst))))))</pre>
  </div>

<div class="form-block function" id="def-shallow-clausify1" data-defines="SHALLOW-CLAUSIFY1" data-references="CDR,CAAR,DUMB-NEGATE-LIT-LST,CDAR,ADD-LITERAL,CONJOIN-CLAUSE-TO-CLAUSE-SET,T,NULL,COND,LST,DEFUN" data-used-by="SHALLOW-CLAUSIFY" data-part-name="SHALLOW-CLAUSIFY1" data-part-args="LST" data-part-body="CDR,SHALLOW-CLAUSIFY1,CAAR,DUMB-NEGATE-LIT-LST,CDAR,ADD-LITERAL,CONJOIN-CLAUSE-TO-CLAUSE-SET,T,LST,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="SHALLOW-CLAUSIFY1">shallow-clausify1</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-shallow-clausify1" data-sym="SHALLOW-CLAUSIFY1" title="(defun shallow-clausify1 (lst)
  (cond ((null lst) nil)
        (t
         (conjoin-clause-to-clause-set
          (add-literal (cdar lst) (dumb-negate-lit-lst (caar lst)) t)">shallow-clausify1</a>
  (lst)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> lst) nil)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (conjoin-clause-to-clause-set (add-literal (<a class="sym-link system" href="axioms.html#def-cdar" data-sym="CDAR">cdar</a> lst) (<a class="sym-link system" href="basis-b.html#def-dumb-negate-lit-lst" data-sym="DUMB-NEGATE-LIT-LST">dumb-negate-lit-lst</a> (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> lst)) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)
        (<a class="sym-link local-def" href="#def-shallow-clausify1" data-sym="SHALLOW-CLAUSIFY1" title="(defun shallow-clausify1 (lst)
  (cond ((null lst) nil)
        (t
         (conjoin-clause-to-clause-set
          (add-literal (cdar lst) (dumb-negate-lit-lst (caar lst)) t)">shallow-clausify1</a> (cdr lst))))))</pre>
  </div>

<div class="form-block function" id="def-shallow-clausify" data-defines="SHALLOW-CLAUSIFY" data-references="UNPRETTYIFY,SHALLOW-CLAUSIFY1,TERM,DEFUN" data-used-by="ADD-EQUIVALENCE-RULE,CHK-ACCEPTABLE-EQUIVALENCE-RULE,NORMALIZED-EVALUATOR-CL-SET" data-part-name="SHALLOW-CLAUSIFY" data-part-args="TERM" data-part-body="TERM,UNPRETTYIFY,SHALLOW-CLAUSIFY1" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="SHALLOW-CLAUSIFY">shallow-clausify</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-shallow-clausify" data-sym="SHALLOW-CLAUSIFY" title="(defun shallow-clausify (term) (shallow-clausify1 (unprettyify term)))">shallow-clausify</a>
  (term)
  (<a class="sym-link local-def" href="#def-shallow-clausify1" data-sym="SHALLOW-CLAUSIFY1" title="(defun shallow-clausify1 (lst)
  (cond ((null lst) nil)
        (t
         (conjoin-clause-to-clause-set
          (add-literal (cdar lst) (dumb-negate-lit-lst (caar lst)) t)">shallow-clausify1</a> (unprettyify term)))</pre>
  </div>

<div class="form-block function" id="def-find-evfn-lst-in-clause" data-defines="FIND-EVFN-LST-IN-CLAUSE" data-references="&,VARIABLEP,AND,EVFN-LST,PAIRLIS$,CDR,A,X,!EVFN,EQUAL,QUOTE,CASE-MATCH,CAR,LIT,LET,T,NULL,COND,CL,EVFN,DEFUN" data-used-by="GUESS-EVFN-LST-FOR-EVFN" data-part-name="FIND-EVFN-LST-IN-CLAUSE" data-part-args="CL,EVFN" data-part-body="&,EVFN,FIND-EVFN-LST-IN-CLAUSE,VARIABLEP,AND,EVFN-LST,PAIRLIS$,CDR,A,X,!EVFN,EQUAL,QUOTE,CASE-MATCH,CAR,LIT,LET,T,CL,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="FIND-EVFN-LST-IN-CLAUSE">find-evfn-lst-in-clause</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-find-evfn-lst-in-clause" data-sym="FIND-EVFN-LST-IN-CLAUSE" title="(defun find-evfn-lst-in-clause (evfn cl)
  (cond ((null cl) nil)
        (t
         (let ((lit (car cl)))
           (case-match lit
...">find-evfn-lst-in-clause</a>
  (evfn cl)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> cl) nil)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((lit (car cl)))
        (<a class="sym-link system" href="basis-a.html#def-case-match" data-sym="CASE-MATCH">case-match</a> lit
          (('equal (!evfn x a)
             (!evfn ('car ('cdr ('cdr ('car x))))
               ('<a class="sym-link system" href="axioms.html#def-pairlis_24" data-sym="PAIRLIS$">pairlis$</a> ('car ('cdr ('car x))) (evfn-lst ('cdr x) a)))) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> x) (<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> a)) evfn-lst)
              (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-find-evfn-lst-in-clause" data-sym="FIND-EVFN-LST-IN-CLAUSE" title="(defun find-evfn-lst-in-clause (evfn cl)
  (cond ((null cl) nil)
        (t
         (let ((lit (car cl)))
           (case-match lit
...">find-evfn-lst-in-clause</a> evfn (cdr cl)))))
          (&amp; (<a class="sym-link local-def" href="#def-find-evfn-lst-in-clause" data-sym="FIND-EVFN-LST-IN-CLAUSE" title="(defun find-evfn-lst-in-clause (evfn cl)
  (cond ((null cl) nil)
        (t
         (let ((lit (car cl)))
           (case-match lit
...">find-evfn-lst-in-clause</a> evfn (cdr cl))))))))</pre>
  </div>

<div class="form-block function" id="def-guess-evfn-lst-for-evfn" data-defines="GUESS-EVFN-LST-FOR-EVFN" data-references="CDR,T,FIND-EVFN-LST-IN-CLAUSE,CAR,LENGTH,INT=,AND,NULL,COND,CL-SET,EVFN,DEFUN" data-used-by="EV-LST-FROM-EV,CHK-EVALUATOR" data-part-name="GUESS-EVFN-LST-FOR-EVFN" data-part-args="CL-SET,EVFN" data-part-body="CDR,GUESS-EVFN-LST-FOR-EVFN,T,EVFN,FIND-EVFN-LST-IN-CLAUSE,CAR,LENGTH,INT=,AND,CL-SET,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="GUESS-EVFN-LST-FOR-EVFN">guess-evfn-lst-for-evfn</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-guess-evfn-lst-for-evfn" data-sym="GUESS-EVFN-LST-FOR-EVFN" title="(defun guess-evfn-lst-for-evfn (evfn cl-set)
  (cond ((null cl-set) nil)
        ((and (int= (length (car cl-set)) 3)
              (find-evfn-lst-in-clause evfn (car cl-set))))
        (t (guess-evfn-lst-for-evfn evfn (cdr cl-set)))))">guess-evfn-lst-for-evfn</a>
  (evfn cl-set)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> cl-set) nil)
    ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-int_3D" data-sym="INT=">int=</a> (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> (car cl-set)) <span class="number">3</span>)
       (<a class="sym-link local-def" href="#def-find-evfn-lst-in-clause" data-sym="FIND-EVFN-LST-IN-CLAUSE" title="(defun find-evfn-lst-in-clause (evfn cl)
  (cond ((null cl) nil)
        (t
         (let ((lit (car cl)))
           (case-match lit
...">find-evfn-lst-in-clause</a> evfn (car cl-set))))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-guess-evfn-lst-for-evfn" data-sym="GUESS-EVFN-LST-FOR-EVFN" title="(defun guess-evfn-lst-for-evfn (evfn cl-set)
  (cond ((null cl-set) nil)
        ((and (int= (length (car cl-set)) 3)
              (find-evfn-lst-in-clause evfn (car cl-set))))
        (t (guess-evfn-lst-for-evfn evfn (cdr cl-set)))))">guess-evfn-lst-for-evfn</a> evfn (cdr cl-set)))))</pre>
  </div>

<div class="form-block function" id="def-find-fn-in-clause" data-defines="FIND-FN-IN-CLAUSE" data-references="&,CDR,FUNCTION-SYMBOLP,EQ,SYMBOLP,VARIABLEP,AND,FN,X,EQUAL,NOT,QUOTE,CASE-MATCH,CAR,LIT,LET,T,NULL,COND,WRLD,CL,DEFUN" data-used-by="GUESS-FN-ARGS-LST-FOR-EVFN" data-part-name="FIND-FN-IN-CLAUSE" data-part-args="WRLD,CL" data-part-body="&,CDR,FIND-FN-IN-CLAUSE,WRLD,FUNCTION-SYMBOLP,EQ,SYMBOLP,VARIABLEP,AND,FN,X,EQUAL,NOT,QUOTE,CASE-MATCH,CAR,LIT,LET,T,CL,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="FIND-FN-IN-CLAUSE">find-fn-in-clause</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-find-fn-in-clause" data-sym="FIND-FN-IN-CLAUSE" title="(defun find-fn-in-clause (cl wrld)
  (cond ((null cl) nil)
        (t
         (let ((lit (car cl)))
           (case-match lit
...">find-fn-in-clause</a>
  (cl wrld)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> cl) nil)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((lit (car cl)))
        (<a class="sym-link system" href="basis-a.html#def-case-match" data-sym="CASE-MATCH">case-match</a> lit
          (('<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> ('equal ('car x) ('quote fn))) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> x)
                 (symbolp fn)
                 (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> fn 'quote))
                 (<a class="sym-link system" href="axioms.html#def-function-symbolp" data-sym="FUNCTION-SYMBOLP">function-symbolp</a> fn wrld)) fn)
              (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-find-fn-in-clause" data-sym="FIND-FN-IN-CLAUSE" title="(defun find-fn-in-clause (cl wrld)
  (cond ((null cl) nil)
        (t
         (let ((lit (car cl)))
           (case-match lit
...">find-fn-in-clause</a> (cdr cl) wrld))))
          (&amp; (<a class="sym-link local-def" href="#def-find-fn-in-clause" data-sym="FIND-FN-IN-CLAUSE" title="(defun find-fn-in-clause (cl wrld)
  (cond ((null cl) nil)
        (t
         (let ((lit (car cl)))
           (case-match lit
...">find-fn-in-clause</a> (cdr cl) wrld)))))))</pre>
  </div>

<div class="form-block function" id="def-guess-fn-args-lst-for-evfn" data-defines="GUESS-FN-ARGS-LST-FOR-EVFN" data-references="CDR,FORMALS,MCONS-TERM,CONS,FIND-FN-IN-CLAUSE,CAR,LENGTH,INT=,AND,FN,LET,T,NULL,COND,WRLD,CL-SET,DEFUN" data-used-by="CHK-EVALUATOR" data-part-name="GUESS-FN-ARGS-LST-FOR-EVFN" data-part-args="WRLD,CL-SET" data-part-body="CDR,GUESS-FN-ARGS-LST-FOR-EVFN,FORMALS,MCONS-TERM,CONS,WRLD,FIND-FN-IN-CLAUSE,CAR,LENGTH,INT=,AND,FN,LET,T,CL-SET,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="GUESS-FN-ARGS-LST-FOR-EVFN">guess-fn-args-lst-for-evfn</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-guess-fn-args-lst-for-evfn" data-sym="GUESS-FN-ARGS-LST-FOR-EVFN" title="(defun guess-fn-args-lst-for-evfn (cl-set wrld)
  (cond ((null cl-set) nil)
        (t
         (let ((fn
                (and (int= (length (car cl-set)) 3)
...">guess-fn-args-lst-for-evfn</a>
  (cl-set wrld)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> cl-set) nil)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((fn (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-int_3D" data-sym="INT=">int=</a> (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> (car cl-set)) <span class="number">3</span>)
             (<a class="sym-link local-def" href="#def-find-fn-in-clause" data-sym="FIND-FN-IN-CLAUSE" title="(defun find-fn-in-clause (cl wrld)
  (cond ((null cl) nil)
        (t
         (let ((lit (car cl)))
           (case-match lit
...">find-fn-in-clause</a> (car cl-set) wrld))))
        (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (fn (cons (<a class="sym-link system" href="basis-b.html#def-mcons-term" data-sym="MCONS-TERM">mcons-term</a> fn (<a class="sym-link system" href="basis-b.html#def-formals" data-sym="FORMALS">formals</a> fn wrld))
              (<a class="sym-link local-def" href="#def-guess-fn-args-lst-for-evfn" data-sym="GUESS-FN-ARGS-LST-FOR-EVFN" title="(defun guess-fn-args-lst-for-evfn (cl-set wrld)
  (cond ((null cl-set) nil)
        (t
         (let ((fn
                (and (int= (length (car cl-set)) 3)
...">guess-fn-args-lst-for-evfn</a> (cdr cl-set) wrld)))
          (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-guess-fn-args-lst-for-evfn" data-sym="GUESS-FN-ARGS-LST-FOR-EVFN" title="(defun guess-fn-args-lst-for-evfn (cl-set wrld)
  (cond ((null cl-set) nil)
        (t
         (let ((fn
                (and (int= (length (car cl-set)) 3)
...">guess-fn-args-lst-for-evfn</a> (cdr cl-set) wrld)))))))</pre>
  </div>

<div class="form-block function" id="def-normalized-evaluator-cl-set" data-defines="NORMALIZED-EVALUATOR-CL-SET" data-references="T,CONJOIN,COND,UNKNOWN-CONSTRAINTS-P,NOT,ASSERT$,IGNORE,DECLARE,CONSTRAINT-INFO,ORIGINS,X,SYM,MV-LET,SHALLOW-CLAUSIFY,NORMALIZE-ALLEGED-EVALUATOR-CLAUSE-SET,WRLD,EV,DEFUN" data-used-by="EV-LST-FROM-EV,CHK-EVALUATOR" data-part-name="NORMALIZED-EVALUATOR-CL-SET" data-part-args="WRLD,EV" data-part-body="T,CONJOIN,COND,UNKNOWN-CONSTRAINTS-P,NOT,ASSERT$,IGNORE,DECLARE,WRLD,EV,CONSTRAINT-INFO,ORIGINS,X,SYM,MV-LET,SHALLOW-CLAUSIFY,NORMALIZE-ALLEGED-EVALUATOR-CLAUSE-SET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="NORMALIZED-EVALUATOR-CL-SET">normalized-evaluator-cl-set</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-normalized-evaluator-cl-set" data-sym="NORMALIZED-EVALUATOR-CL-SET" title="(defun normalized-evaluator-cl-set (ev wrld)
  (normalize-alleged-evaluator-clause-set
   (shallow-clausify
    (mv-let (sym x origins) (constraint-info ev wrld)
            (declare (ignore origins))
...">normalized-evaluator-cl-set</a>
  (ev wrld)
  (<a class="sym-link local-def" href="#def-normalize-alleged-evaluator-clause-set" data-sym="NORMALIZE-ALLEGED-EVALUATOR-CLAUSE-SET" title="(defun normalize-alleged-evaluator-clause-set (lst)
  (cond ((null lst) nil)
        (t
         (cons (normalize-alleged-evaluator-clause (car lst))
               (normalize-alleged-evaluator-clause-set (cdr lst))))))">normalize-alleged-evaluator-clause-set</a> (<a class="sym-link local-def" href="#def-shallow-clausify" data-sym="SHALLOW-CLAUSIFY" title="(defun shallow-clausify (term) (shallow-clausify1 (unprettyify term)))">shallow-clausify</a> (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (sym x origins)
        (<a class="sym-link system" href="history-management.html#def-constraint-info" data-sym="CONSTRAINT-INFO">constraint-info</a> ev wrld)
        (declare (ignore origins))
        (<a class="sym-link system" href="axioms.html#def-assert_24" data-sym="ASSERT$">assert$</a> (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="history-management.html#def-unknown-constraints-p" data-sym="UNKNOWN-CONSTRAINTS-P">unknown-constraints-p</a> x))
          (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (sym (<a class="sym-link system" href="axioms.html#def-conjoin" data-sym="CONJOIN">conjoin</a> x)) (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> x)))))))</pre>
  </div>

<div class="form-block function" id="def-chk-evaluator" data-defines="CHK-EVALUATOR" data-references="VALUE,TERM-EVISC-TUPLE,STRIP-CARS,ZERO-ONE-OR-MORE,CLAUSE-SET-SUBSUMES,AND,NOT,EVALUATOR-CLAUSES,REMOVE-GUARD-HOLDERS-LST-LST,CL-SET2,CONJOIN-CLAUSE-SETS,CL-SET1,GUESS-FN-ARGS-LST-FOR-EVFN,FN-ARGS-LST,LET*,NULL,GUESS-EVFN-LST-FOR-EVFN,EVFN-LST,T,PRETTYIFY-CLAUSE-SET,SOFT,ER,LENGTH,<,COND,STR,NORMALIZED-EVALUATOR-CL-SET,CL-SET0,LET,STATE,CTX,WRLD,EVFN,DEFUN" data-used-by="CHK-ACCEPTABLE-CLAUSE-PROCESSOR-RULE,CHK-ACCEPTABLE-META-RULE" data-part-name="CHK-EVALUATOR" data-part-args="STATE,CTX,WRLD,EVFN" data-part-body="VALUE,STATE,TERM-EVISC-TUPLE,STRIP-CARS,ZERO-ONE-OR-MORE,CLAUSE-SET-SUBSUMES,AND,NOT,EVALUATOR-CLAUSES,REMOVE-GUARD-HOLDERS-LST-LST,CL-SET2,CONJOIN-CLAUSE-SETS,CL-SET1,GUESS-FN-ARGS-LST-FOR-EVFN,FN-ARGS-LST,LET*,NULL,GUESS-EVFN-LST-FOR-EVFN,EVFN-LST,T,PRETTYIFY-CLAUSE-SET,CTX,SOFT,ER,LENGTH,<,COND,STR,WRLD,EVFN,NORMALIZED-EVALUATOR-CL-SET,CL-SET0,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CHK-EVALUATOR">chk-evaluator</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-chk-evaluator" data-sym="CHK-EVALUATOR" title="(defun chk-evaluator (evfn wrld ctx state)
  (let ((cl-set0 (normalized-evaluator-cl-set evfn wrld))
        (str
         &quot;The symbol ~x0, playing the role of an evaluator in your alleged ~
          theorem, does not pass the test for an evaluator.  See :DOC meta ~
...">chk-evaluator</a>
  (evfn wrld ctx state)
  (let ((cl-set0 (<a class="sym-link local-def" href="#def-normalized-evaluator-cl-set" data-sym="NORMALIZED-EVALUATOR-CL-SET" title="(defun normalized-evaluator-cl-set (ev wrld)
  (normalize-alleged-evaluator-clause-set
   (shallow-clausify
    (mv-let (sym x origins) (constraint-info ev wrld)
            (declare (ignore origins))
...">normalized-evaluator-cl-set</a> evfn wrld)) (str <span class="string">"The symbol ~x0, playing the role of an evaluator in your alleged ~
          theorem, does not pass the test for an evaluator.  See :DOC meta ~
          and :DOC defevaluator.  The constraint on ~x0 is in fact ~p1.  ~@2"</span>))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((&lt; (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> cl-set0) <span class="number">4</span>) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
          ctx
          str
          evfn
          (prettyify-clause-set cl-set0 nil wrld)
          <span class="string">"This constraint has fewer than four conjuncts."</span>))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((evfn-lst (<a class="sym-link local-def" href="#def-guess-evfn-lst-for-evfn" data-sym="GUESS-EVFN-LST-FOR-EVFN" title="(defun guess-evfn-lst-for-evfn (evfn cl-set)
  (cond ((null cl-set) nil)
        ((and (int= (length (car cl-set)) 3)
              (find-evfn-lst-in-clause evfn (car cl-set))))
        (t (guess-evfn-lst-for-evfn evfn (cdr cl-set)))))">guess-evfn-lst-for-evfn</a> evfn cl-set0)))
          (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> evfn-lst) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                ctx
                str
                evfn
                (prettyify-clause-set cl-set0 nil wrld)
                <span class="string">"We cannot find the formula describing how to ~
                 evaluate lambda applications."</span>))
            (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((fn-args-lst (<a class="sym-link local-def" href="#def-guess-fn-args-lst-for-evfn" data-sym="GUESS-FN-ARGS-LST-FOR-EVFN" title="(defun guess-fn-args-lst-for-evfn (cl-set wrld)
  (cond ((null cl-set) nil)
        (t
         (let ((fn
                (and (int= (length (car cl-set)) 3)
...">guess-fn-args-lst-for-evfn</a> cl-set0 wrld)) (cl-set1 (conjoin-clause-sets cl-set0
                      (<a class="sym-link local-def" href="#def-normalized-evaluator-cl-set" data-sym="NORMALIZED-EVALUATOR-CL-SET" title="(defun normalized-evaluator-cl-set (ev wrld)
  (normalize-alleged-evaluator-clause-set
   (shallow-clausify
    (mv-let (sym x origins) (constraint-info ev wrld)
            (declare (ignore origins))
...">normalized-evaluator-cl-set</a> evfn-lst wrld)))
                  (cl-set2 (remove-guard-holders-lst-lst (<a class="sym-link local-def" href="#def-evaluator-clauses" data-sym="EVALUATOR-CLAUSES" title="(defun evaluator-clauses (evfn evfn-lst fn-args-lst)
  (append
   (sublis (list (cons &#39;evfn evfn) (cons &#39;evfn-lst evfn-lst))
           &#39;(((not (consp x))
              (not
...">evaluator-clauses</a> evfn evfn-lst fn-args-lst)
                      wrld)))
                (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="prove.html#def-clause-set-subsumes" data-sym="CLAUSE-SET-SUBSUMES">clause-set-subsumes</a> nil cl-set1 cl-set2)
                       (<a class="sym-link system" href="prove.html#def-clause-set-subsumes" data-sym="CLAUSE-SET-SUBSUMES">clause-set-subsumes</a> nil cl-set2 cl-set1))) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                      ctx
                      <span class="string">"If ~x0 is an evaluator then it recognizes ~#1~[no ~
                       function symbols~/only the function symbol ~&amp;2~/the ~
                       function symbols ~&amp;2~] and its mutually recursive ~
                       counterpart for lists of terms must be ~x3.  The ~
                       constraints on ~x0 and ~x3 must therefore be ~
                       ~P45.~|~%We would recognize ~x0 and ~x3 as evaluators ~
                       if the constraints on them subsumed and were subsumed ~
                       by the constraints above.  But, in fact, the ~
                       constraints on ~x0 and ~x3 are ~P65 and the ~
                       bidirectional subsumption check fails.  See :DOC ~
                       defevaluator."</span>
                      evfn
                      (<a class="sym-link system" href="basis-a.html#def-zero-one-or-more" data-sym="ZERO-ONE-OR-MORE">zero-one-or-more</a> fn-args-lst)
                      (<a class="sym-link system" href="axioms.html#def-strip-cars" data-sym="STRIP-CARS">strip-cars</a> fn-args-lst)
                      evfn-lst
                      (prettyify-clause-set cl-set2 nil wrld)
                      (<a class="sym-link system" href="basis-a.html#def-term-evisc-tuple" data-sym="TERM-EVISC-TUPLE">term-evisc-tuple</a> nil state)
                      (prettyify-clause-set cl-set1 nil wrld)))
                  (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil)))))))))))</pre>
  </div>

<div class="form-block function" id="def-namedp-prefix" data-defines="NAMEDP-PREFIX" data-references="SYMBOL-NAME,STRING,QUOTE,CONCATENATE,IF,NAMEDP,EVFN,DEFUN" data-used-by="DEFEVALUATOR-FORM" data-part-name="NAMEDP-PREFIX" data-part-args="NAMEDP,EVFN" data-part-body="EVFN,SYMBOL-NAME,STRING,QUOTE,CONCATENATE,NAMEDP,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="NAMEDP-PREFIX">namedp-prefix</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-namedp-prefix" data-sym="NAMEDP-PREFIX" title="(defun namedp-prefix (evfn namedp)
  (if namedp
      (concatenate &#39;string (symbol-name evfn) &quot;-OF-&quot;)
      (concatenate &#39;string (symbol-name evfn) &quot;-CONSTRAINT-&quot;)))">namedp-prefix</a>
  (evfn namedp)
  (if namedp
    (<a class="sym-link system" href="axioms.html#def-concatenate" data-sym="CONCATENATE">concatenate</a> '<a class="sym-link system" href="axioms.html#def-string" data-sym="STRING">string</a> (symbol-name evfn) <span class="string">"-OF-"</span>)
    (<a class="sym-link system" href="axioms.html#def-concatenate" data-sym="CONCATENATE">concatenate</a> '<a class="sym-link system" href="axioms.html#def-string" data-sym="STRING">string</a> (symbol-name evfn) <span class="string">"-CONSTRAINT-"</span>)))</pre>
  </div>

<div class="form-block function" id="def-defevaluator-form_2Fdefthm-name" data-defines="DEFEVALUATOR-FORM/DEFTHM-NAME" data-references="T,OTHERWISE,SYMBOL-NAME,STRING,QUOTE,CONCATENATE,GENVAR,CASE,CADDR,FARGN,CAR,FN,LET,COND,CLAUSE,I,PREFIX,NAMEDP,EVFN-LST,EVFN,DEFUN" data-used-by="DEFEVALUATOR-FORM/DEFTHM" data-part-name="DEFEVALUATOR-FORM/DEFTHM-NAME" data-part-args="CLAUSE,I,PREFIX,NAMEDP,EVFN-LST,EVFN" data-part-body="T,OTHERWISE,EVFN-LST,SYMBOL-NAME,PREFIX,STRING,QUOTE,CONCATENATE,EVFN,GENVAR,I,CASE,CLAUSE,CADDR,FARGN,CAR,FN,LET,NAMEDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFEVALUATOR-FORM/DEFTHM-NAME">defevaluator-form/defthm-name</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-defevaluator-form_2Fdefthm-name" data-sym="DEFEVALUATOR-FORM/DEFTHM-NAME" title="(defun defevaluator-form/defthm-name (evfn evfn-lst namedp prefix i clause)
  (cond
   (namedp
    (let ((fn (car (fargn (caddr clause) 2))))
      (case i
...">defevaluator-form/defthm-name</a>
  (evfn evfn-lst namedp prefix i clause)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (namedp (let ((fn (car (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> (<a class="sym-link system" href="axioms.html#def-caddr" data-sym="CADDR">caddr</a> clause) <span class="number">2</span>))))
        (<a class="sym-link system" href="axioms.html#def-case" data-sym="CASE">case</a> i
          (<span class="number">0</span> (<a class="sym-link system" href="basis-b.html#def-genvar" data-sym="GENVAR">genvar</a> evfn
              (<a class="sym-link system" href="axioms.html#def-concatenate" data-sym="CONCATENATE">concatenate</a> '<a class="sym-link system" href="axioms.html#def-string" data-sym="STRING">string</a> prefix <span class="string">"FNCALL-ARGS"</span>)
              nil
              nil))
          (<span class="number">1</span> (<a class="sym-link system" href="basis-b.html#def-genvar" data-sym="GENVAR">genvar</a> evfn
              (<a class="sym-link system" href="axioms.html#def-concatenate" data-sym="CONCATENATE">concatenate</a> '<a class="sym-link system" href="axioms.html#def-string" data-sym="STRING">string</a> prefix <span class="string">"VARIABLE"</span>)
              nil
              nil))
          (<span class="number">2</span> (<a class="sym-link system" href="basis-b.html#def-genvar" data-sym="GENVAR">genvar</a> evfn (<a class="sym-link system" href="axioms.html#def-concatenate" data-sym="CONCATENATE">concatenate</a> '<a class="sym-link system" href="axioms.html#def-string" data-sym="STRING">string</a> prefix <span class="string">"QUOTE"</span>) nil nil))
          (<span class="number">3</span> (<a class="sym-link system" href="basis-b.html#def-genvar" data-sym="GENVAR">genvar</a> evfn (<a class="sym-link system" href="axioms.html#def-concatenate" data-sym="CONCATENATE">concatenate</a> '<a class="sym-link system" href="axioms.html#def-string" data-sym="STRING">string</a> prefix <span class="string">"LAMBDA"</span>) nil nil))
          (<span class="number">4</span> (<a class="sym-link system" href="basis-b.html#def-genvar" data-sym="GENVAR">genvar</a> evfn
              (<a class="sym-link system" href="axioms.html#def-concatenate" data-sym="CONCATENATE">concatenate</a> '<a class="sym-link system" href="axioms.html#def-string" data-sym="STRING">string</a> (symbol-name evfn-lst) <span class="string">"-OF-ATOM"</span>)
              nil
              nil))
          (<span class="number">5</span> (<a class="sym-link system" href="basis-b.html#def-genvar" data-sym="GENVAR">genvar</a> evfn
              (<a class="sym-link system" href="axioms.html#def-concatenate" data-sym="CONCATENATE">concatenate</a> '<a class="sym-link system" href="axioms.html#def-string" data-sym="STRING">string</a> (symbol-name evfn-lst) <span class="string">"-OF-CONS"</span>)
              nil
              nil))
          (<span class="number">6</span> (<a class="sym-link system" href="basis-b.html#def-genvar" data-sym="GENVAR">genvar</a> evfn
              (<a class="sym-link system" href="axioms.html#def-concatenate" data-sym="CONCATENATE">concatenate</a> '<a class="sym-link system" href="axioms.html#def-string" data-sym="STRING">string</a> prefix <span class="string">"NONSYMBOL-ATOM"</span>)
              nil
              nil))
          (<span class="number">7</span> (<a class="sym-link system" href="basis-b.html#def-genvar" data-sym="GENVAR">genvar</a> evfn
              (<a class="sym-link system" href="axioms.html#def-concatenate" data-sym="CONCATENATE">concatenate</a> '<a class="sym-link system" href="axioms.html#def-string" data-sym="STRING">string</a> prefix <span class="string">"BAD-FNCALL"</span>)
              nil
              nil))
          (otherwise (<a class="sym-link system" href="basis-b.html#def-genvar" data-sym="GENVAR">genvar</a> evfn
              (<a class="sym-link system" href="axioms.html#def-concatenate" data-sym="CONCATENATE">concatenate</a> '<a class="sym-link system" href="axioms.html#def-string" data-sym="STRING">string</a> prefix (symbol-name fn) <span class="string">"-CALL"</span>)
              nil
              nil)))))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="basis-b.html#def-genvar" data-sym="GENVAR">genvar</a> evfn prefix i nil))))</pre>
  </div>

<div class="form-block function" id="def-defevaluator-form_2Fdefthm-hints" data-defines="DEFEVALUATOR-FORM/DEFTHM-HINTS" data-references="X-LST,OTHERWISE,CDR-CONS,CAR-CONS,TRUE-LIST-FIX-EV-LST,EVAL-LIST-KWOTE-LST,QUOTE,CAR,CONS,CASE,T,APPLY-FOR-DEFEVALUATOR,ARGS,FN,HIDE,A,X,QUASIQUOTE,>,COND,I,EVFN-LST,EVFN,DEFUN" data-used-by="DEFEVALUATOR-FORM/DEFTHM" data-part-name="DEFEVALUATOR-FORM/DEFTHM-HINTS" data-part-args="I,EVFN-LST,EVFN" data-part-body="X-LST,OTHERWISE,CDR-CONS,CAR-CONS,TRUE-LIST-FIX-EV-LST,EVAL-LIST-KWOTE-LST,QUOTE,CAR,CONS,CASE,T,APPLY-FOR-DEFEVALUATOR,ARGS,FN,HIDE,A,X,QUASIQUOTE,I,>,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFEVALUATOR-FORM/DEFTHM-HINTS">defevaluator-form/defthm-hints</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-defevaluator-form_2Fdefthm-hints" data-sym="DEFEVALUATOR-FORM/DEFTHM-HINTS" title="(defun defevaluator-form/defthm-hints (evfn evfn-lst i)
  (cond
   ((&gt; i 7)
    `((&quot;Goal&quot; :expand
       ((,evfn x a) (:free (x) (hide x))
...">defevaluator-form/defthm-hints</a>
  (evfn evfn-lst i)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-_3E" data-sym="&gt;">&gt;</a> i <span class="number">7</span>) `((<span class="string">"Goal"</span> <span class="keyword">:expand</span> ((,EVFN x a) (<span class="keyword">:free</span> (x) (<a class="sym-link system" href="axioms.html#def-hide" data-sym="HIDE">hide</a> x))
           (<span class="keyword">:free</span> (fn <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>) (apply-for-defevaluator fn <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>))))))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-case" data-sym="CASE">case</a> i
        (<span class="number">0</span> `((<span class="string">"Goal"</span> <span class="keyword">:expand</span> ((<span class="keyword">:free</span> (x) (<a class="sym-link system" href="axioms.html#def-hide" data-sym="HIDE">hide</a> x)) (,EVFN x a)
               (<span class="keyword">:free</span> (<a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>) (,EVFN (cons (car x) <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>) nil)))
             <span class="keyword">:in-theory</span> '(eval-list-kwote-lst true-list-fix-ev-lst <a class="sym-link system" href="axioms.html#def-car-cons" data-sym="CAR-CONS">car-cons</a> <a class="sym-link system" href="axioms.html#def-cdr-cons" data-sym="CDR-CONS">cdr-cons</a>))))
        ((<span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">6</span> <span class="number">7</span>) `((<span class="string">"Goal"</span> <span class="keyword">:expand</span> ((,EVFN x a)))))
        (otherwise `((<span class="string">"Goal"</span> <span class="keyword">:expand</span> ((,EVFN-LST x-lst a)))))))))</pre>
  </div>

<div class="form-block function" id="def-defevaluator-form_2Fdefthm" data-defines="DEFEVALUATOR-FORM/DEFTHM" data-references="DISABLE,IN-THEORY,LOCAL,QUASIQUOTE,DEFEVALUATOR-FORM/DEFTHM-HINTS,HINTS,PRETTYIFY-CLAUSE,FORMULA,DEFEVALUATOR-FORM/DEFTHM-NAME,NAME,DEFTHMD,QUOTE,EQL,OR,IF,DEFTHM,LET*,CLAUSE,I,PREFIX,NAMEDP,EVFN-LST,EVFN,DEFUN" data-used-by="DEFEVALUATOR-FORM/DEFTHMS" data-part-name="DEFEVALUATOR-FORM/DEFTHM" data-part-args="CLAUSE,I,PREFIX,NAMEDP,EVFN-LST,EVFN" data-part-body="DISABLE,IN-THEORY,LOCAL,QUASIQUOTE,DEFEVALUATOR-FORM/DEFTHM-HINTS,HINTS,PRETTYIFY-CLAUSE,FORMULA,CLAUSE,PREFIX,NAMEDP,EVFN-LST,EVFN,DEFEVALUATOR-FORM/DEFTHM-NAME,NAME,DEFTHMD,QUOTE,I,EQL,OR,IF,DEFTHM,LET*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFEVALUATOR-FORM/DEFTHM">defevaluator-form/defthm</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-defevaluator-form_2Fdefthm" data-sym="DEFEVALUATOR-FORM/DEFTHM" title="(defun defevaluator-form/defthm (evfn evfn-lst namedp prefix i clause)
  (let* ((defthm
          (if (or (eql i 0) (eql i 6) (eql i 7))
              &#39;defthmd
              &#39;defthm))
...">defevaluator-form/defthm</a>
  (evfn evfn-lst namedp prefix i clause)
  (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((<a class="sym-link system" href="axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> (if (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-eql" data-sym="EQL">eql</a> i <span class="number">0</span>) (<a class="sym-link system" href="axioms.html#def-eql" data-sym="EQL">eql</a> i <span class="number">6</span>) (<a class="sym-link system" href="axioms.html#def-eql" data-sym="EQL">eql</a> i <span class="number">7</span>))
         '<a class="sym-link system" href="axioms.html#def-defthmd" data-sym="DEFTHMD">defthmd</a>
         '<a class="sym-link system" href="axioms.html#def-defthm" data-sym="DEFTHM">defthm</a>)) (name (<a class="sym-link local-def" href="#def-defevaluator-form_2Fdefthm-name" data-sym="DEFEVALUATOR-FORM/DEFTHM-NAME" title="(defun defevaluator-form/defthm-name (evfn evfn-lst namedp prefix i clause)
  (cond
   (namedp
    (let ((fn (car (fargn (caddr clause) 2))))
      (case i
...">defevaluator-form/defthm-name</a> evfn
          evfn-lst
          namedp
          prefix
          i
          clause))
      (<a class="sym-link system" href="history-management.html#def-formula" data-sym="FORMULA">formula</a> (prettyify-clause clause nil nil))
      (hints (<a class="sym-link local-def" href="#def-defevaluator-form_2Fdefthm-hints" data-sym="DEFEVALUATOR-FORM/DEFTHM-HINTS" title="(defun defevaluator-form/defthm-hints (evfn evfn-lst i)
  (cond
   ((&gt; i 7)
    `((&quot;Goal&quot; :expand
       ((,evfn x a) (:free (x) (hide x))
...">defevaluator-form/defthm-hints</a> evfn evfn-lst i)))
    `((,DEFTHM ,NAME ,FORMULA <span class="keyword">:hints</span> ,HINTS) (<a class="sym-link system" href="axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="axioms.html#def-in-theory" data-sym="IN-THEORY">in-theory</a> (disable ,NAME))))))</pre>
  </div>

<div class="form-block function" id="def-defevaluator-form_2Fdefthms" data-defines="DEFEVALUATOR-FORM/DEFTHMS" data-references="CDR,+,CAR,DEFEVALUATOR-FORM/DEFTHM,APPEND,ENDP,IF,XARGS,DECLARE,CLAUSES,I,PREFIX,NAMEDP,EVFN-LST,EVFN,DEFUN" data-used-by="DEFEVALUATOR-FORM" data-part-name="DEFEVALUATOR-FORM/DEFTHMS" data-part-args="CLAUSES,I,PREFIX,NAMEDP,EVFN-LST,EVFN" data-part-declare="XARGS,DECLARE" data-part-body="CDR,+,DEFEVALUATOR-FORM/DEFTHMS,CAR,I,PREFIX,NAMEDP,EVFN-LST,EVFN,DEFEVALUATOR-FORM/DEFTHM,APPEND,CLAUSES,ENDP,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFEVALUATOR-FORM/DEFTHMS">defevaluator-form/defthms</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-defevaluator-form_2Fdefthms" data-sym="DEFEVALUATOR-FORM/DEFTHMS" title="(defun defevaluator-form/defthms (evfn evfn-lst namedp prefix i clauses)
  (declare (xargs :mode :program))
  (if (endp clauses)
      nil
      (append
...">defevaluator-form/defthms</a>
  (evfn evfn-lst namedp prefix i clauses)
  (declare (xargs <span class="keyword">:mode</span> <span class="keyword">:program</span>))
  (if (<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> clauses)
    nil
    (<a class="sym-link system" href="axioms.html#def-append" data-sym="APPEND">append</a> (<a class="sym-link local-def" href="#def-defevaluator-form_2Fdefthm" data-sym="DEFEVALUATOR-FORM/DEFTHM" title="(defun defevaluator-form/defthm (evfn evfn-lst namedp prefix i clause)
  (let* ((defthm
          (if (or (eql i 0) (eql i 6) (eql i 7))
              &#39;defthmd
              &#39;defthm))
...">defevaluator-form/defthm</a> evfn
        evfn-lst
        namedp
        prefix
        i
        (car clauses))
      (<a class="sym-link local-def" href="#def-defevaluator-form_2Fdefthms" data-sym="DEFEVALUATOR-FORM/DEFTHMS" title="(defun defevaluator-form/defthms (evfn evfn-lst namedp prefix i clauses)
  (declare (xargs :mode :program))
  (if (endp clauses)
      nil
      (append
...">defevaluator-form/defthms</a> evfn
        evfn-lst
        namedp
        prefix
        (<a class="sym-link system" href="axioms.html#def-_2B" data-sym="+">+</a> <span class="number">1</span> i)
        (cdr clauses)))))</pre>
  </div>

<div class="form-block function" id="def-car-cadr-caddr-etc" data-defines="CAR-CADR-CADDR-ETC" data-references="CDR,CAR,QUASIQUOTE,CONS,ENDP,IF,X,FORMALS,DEFUN" data-used-by="DEFEVALUATOR-FORM/FNS-CLAUSES" data-part-name="CAR-CADR-CADDR-ETC" data-part-args="X,FORMALS" data-part-body="CDR,CAR-CADR-CADDR-ETC,CAR,QUASIQUOTE,CONS,FORMALS,ENDP,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CAR-CADR-CADDR-ETC">car-cadr-caddr-etc</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-car-cadr-caddr-etc" data-sym="CAR-CADR-CADDR-ETC" title="(defun car-cadr-caddr-etc (formals x)
  (if (endp formals)
      nil
      (cons `(car ,x) (car-cadr-caddr-etc (cdr formals) `(cdr ,x)))))">car-cadr-caddr-etc</a>
  (<a class="sym-link system" href="basis-b.html#def-formals" data-sym="FORMALS">formals</a> x)
  (if (<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> <a class="sym-link system" href="basis-b.html#def-formals" data-sym="FORMALS">formals</a>)
    nil
    (cons `(car ,X)
      (<a class="sym-link local-def" href="#def-car-cadr-caddr-etc" data-sym="CAR-CADR-CADDR-ETC" title="(defun car-cadr-caddr-etc (formals x)
  (if (endp formals)
      nil
      (cons `(car ,x) (car-cadr-caddr-etc (cdr formals) `(cdr ,x)))))">car-cadr-caddr-etc</a> (cdr <a class="sym-link system" href="basis-b.html#def-formals" data-sym="FORMALS">formals</a>) `(cdr ,X)))))</pre>
  </div>

<div class="form-block function" id="def-defevaluator-form_2Ffns-clauses" data-defines="DEFEVALUATOR-FORM/FNS-CLAUSES" data-references="CDR,ARGS,CDAR,CAR-CADR-CADDR-ETC,CAAR,KWOTE,FN,EQUAL,LIST,CONS,T,QUOTE,NULL,COND,XARGS,DECLARE,FN-ARGS-LST,DEFUN" data-used-by="DEFEVALUATOR-FORM" data-part-name="DEFEVALUATOR-FORM/FNS-CLAUSES" data-part-args="FN-ARGS-LST" data-part-declare="XARGS,DECLARE" data-part-body="CDR,DEFEVALUATOR-FORM/FNS-CLAUSES,ARGS,CDAR,CAR-CADR-CADDR-ETC,CAAR,KWOTE,FN,EQUAL,LIST,CONS,T,QUOTE,FN-ARGS-LST,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFEVALUATOR-FORM/FNS-CLAUSES">defevaluator-form/fns-clauses</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-defevaluator-form_2Ffns-clauses" data-sym="DEFEVALUATOR-FORM/FNS-CLAUSES" title="(defun defevaluator-form/fns-clauses (fn-args-lst)
  (declare (xargs :mode :program))
  (cond ((null fn-args-lst) &#39;((t nil)))
        (t
         (cons
...">defevaluator-form/fns-clauses</a>
  (fn-args-lst)
  (declare (xargs <span class="keyword">:mode</span> <span class="keyword">:program</span>))
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> fn-args-lst) '((<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> nil)))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (cons (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> 'equal 'fn (<a class="sym-link system" href="axioms.html#def-kwote" data-sym="KWOTE">kwote</a> (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> fn-args-lst)))
          (cons (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> fn-args-lst)
            (<a class="sym-link local-def" href="#def-car-cadr-caddr-etc" data-sym="CAR-CADR-CADDR-ETC" title="(defun car-cadr-caddr-etc (formals x)
  (if (endp formals)
      nil
      (cons `(car ,x) (car-cadr-caddr-etc (cdr formals) `(cdr ,x)))))">car-cadr-caddr-etc</a> (<a class="sym-link system" href="axioms.html#def-cdar" data-sym="CDAR">cdar</a> fn-args-lst) '<a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>)))
        (<a class="sym-link local-def" href="#def-defevaluator-form_2Ffns-clauses" data-sym="DEFEVALUATOR-FORM/FNS-CLAUSES" title="(defun defevaluator-form/fns-clauses (fn-args-lst)
  (declare (xargs :mode :program))
  (cond ((null fn-args-lst) &#39;((t nil)))
        (t
         (cons
...">defevaluator-form/fns-clauses</a> (cdr fn-args-lst))))))</pre>
  </div>

<div class="form-block constant" id="def-_2Adefevaluator-form-base-theory_2A" data-defines="*DEFEVALUATOR-FORM-BASE-THEORY*" data-references="PAIRLIS$-TRUE-LIST-FIX,KWOTE-LST,KWOTE,TRUE-LIST-FIX,ALISTP,ACL2-COUNT,POSP,NATP,O-RST,O-FIRST-COEFF,O-FIRST-EXPT,O-FINP,O<,CDR-CONS,CAR-CONS,CAR-CDR-ELIM,QUOTE,*DEFINITION-MINIMAL-THEORY*,APPEND,DEFCONST" data-used-by="DEFEVALUATOR-FORM" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="*DEFEVALUATOR-FORM-BASE-THEORY*">*defevaluator-form-base-theory*</span><span class="form-type">constant</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defconst" data-sym="DEFCONST">defconst</a> <a class="sym-link local-def" href="#def-_2Adefevaluator-form-base-theory_2A" data-sym="*DEFEVALUATOR-FORM-BASE-THEORY*" title="(defconst *defevaluator-form-base-theory*
          (append *definition-minimal-theory*
                  &#39;(car-cdr-elim car-cons cdr-cons o&lt; o-finp o-first-expt
                    o-first-coeff o-rst natp posp acl2-count alistp
                    true-list-fix kwote kwote-lst pairlis$-true-list-fix)))">*defevaluator-form-base-theory*</a>
  (<a class="sym-link system" href="axioms.html#def-append" data-sym="APPEND">append</a> <a class="sym-link system" href="axioms.html#def-_2Adefinition-minimal-theory_2A" data-sym="*DEFINITION-MINIMAL-THEORY*">*definition-minimal-theory*</a>
    '(<a class="sym-link system" href="axioms.html#def-car-cdr-elim" data-sym="CAR-CDR-ELIM">car-cdr-elim</a> <a class="sym-link system" href="axioms.html#def-car-cons" data-sym="CAR-CONS">car-cons</a>
      <a class="sym-link system" href="axioms.html#def-cdr-cons" data-sym="CDR-CONS">cdr-cons</a>
      <a class="sym-link system" href="axioms.html#def-o_3C" data-sym="O&lt;">o&lt;</a>
      <a class="sym-link system" href="axioms.html#def-o-finp" data-sym="O-FINP">o-finp</a>
      <a class="sym-link system" href="axioms.html#def-o-first-expt" data-sym="O-FIRST-EXPT">o-first-expt</a>
      <a class="sym-link system" href="axioms.html#def-o-first-coeff" data-sym="O-FIRST-COEFF">o-first-coeff</a>
      <a class="sym-link system" href="axioms.html#def-o-rst" data-sym="O-RST">o-rst</a>
      <a class="sym-link system" href="axioms.html#def-natp" data-sym="NATP">natp</a>
      <a class="sym-link system" href="axioms.html#def-posp" data-sym="POSP">posp</a>
      <a class="sym-link system" href="axioms.html#def-acl2-count" data-sym="ACL2-COUNT">acl2-count</a>
      <a class="sym-link system" href="axioms.html#def-alistp" data-sym="ALISTP">alistp</a>
      <a class="sym-link system" href="axioms.html#def-true-list-fix" data-sym="TRUE-LIST-FIX">true-list-fix</a>
      <a class="sym-link system" href="axioms.html#def-kwote" data-sym="KWOTE">kwote</a>
      <a class="sym-link system" href="axioms.html#def-kwote-lst" data-sym="KWOTE-LST">kwote-lst</a>
      <a class="sym-link system" href="axioms.html#def-pairlis_24-true-list-fix" data-sym="PAIRLIS$-TRUE-LIST-FIX">pairlis$-true-list-fix</a>)))</pre>
  </div>

<div class="form-block function" id="def-defevaluator-form" data-defines="DEFEVALUATOR-FORM" data-references="*DEFEVALUATOR-FORM-BASE-THEORY*,IN-THEORY,LOCAL,SET-INHIBIT-WARNINGS,=>,*,ENCAPSULATE,QUASIQUOTE,EVALUATOR-CLAUSES,NAMEDP-PREFIX,DEFEVALUATOR-FORM/DEFTHMS,DEFTHMS,DEFEVALUATOR-FORM/FNS-CLAUSES,FNS-CLAUSES,LET*,XARGS,DECLARE,FN-ARGS-LST,NAMEDP,EVFN-LST,EVFN,DEFUN" data-used-by="DEFEVALUATOR" data-part-name="DEFEVALUATOR-FORM" data-part-args="FN-ARGS-LST,NAMEDP,EVFN-LST,EVFN" data-part-declare="XARGS,DECLARE" data-part-body="*DEFEVALUATOR-FORM-BASE-THEORY*,IN-THEORY,LOCAL,SET-INHIBIT-WARNINGS,=>,*,ENCAPSULATE,QUASIQUOTE,EVALUATOR-CLAUSES,NAMEDP-PREFIX,NAMEDP,EVFN-LST,EVFN,DEFEVALUATOR-FORM/DEFTHMS,DEFTHMS,FN-ARGS-LST,DEFEVALUATOR-FORM/FNS-CLAUSES,FNS-CLAUSES,LET*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFEVALUATOR-FORM">defevaluator-form</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-defevaluator-form" data-sym="DEFEVALUATOR-FORM" title="(defun defevaluator-form (evfn evfn-lst namedp fn-args-lst)
  (declare (xargs :mode :program))
  (let* ((fns-clauses (defevaluator-form/fns-clauses fn-args-lst))
         (defthms
          (defevaluator-form/defthms evfn evfn-lst namedp
...">defevaluator-form</a>
  (evfn evfn-lst namedp fn-args-lst)
  (declare (xargs <span class="keyword">:mode</span> <span class="keyword">:program</span>))
  (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((fns-clauses (<a class="sym-link local-def" href="#def-defevaluator-form_2Ffns-clauses" data-sym="DEFEVALUATOR-FORM/FNS-CLAUSES" title="(defun defevaluator-form/fns-clauses (fn-args-lst)
  (declare (xargs :mode :program))
  (cond ((null fn-args-lst) &#39;((t nil)))
        (t
         (cons
...">defevaluator-form/fns-clauses</a> fn-args-lst)) (defthms (<a class="sym-link local-def" href="#def-defevaluator-form_2Fdefthms" data-sym="DEFEVALUATOR-FORM/DEFTHMS" title="(defun defevaluator-form/defthms (evfn evfn-lst namedp prefix i clauses)
  (declare (xargs :mode :program))
  (if (endp clauses)
      nil
      (append
...">defevaluator-form/defthms</a> evfn
          evfn-lst
          namedp
          (<a class="sym-link local-def" href="#def-namedp-prefix" data-sym="NAMEDP-PREFIX" title="(defun namedp-prefix (evfn namedp)
  (if namedp
      (concatenate &#39;string (symbol-name evfn) &quot;-OF-&quot;)
      (concatenate &#39;string (symbol-name evfn) &quot;-CONSTRAINT-&quot;)))">namedp-prefix</a> evfn namedp)
          <span class="number">0</span>
          (<a class="sym-link local-def" href="#def-evaluator-clauses" data-sym="EVALUATOR-CLAUSES" title="(defun evaluator-clauses (evfn evfn-lst fn-args-lst)
  (append
   (sublis (list (cons &#39;evfn evfn) (cons &#39;evfn-lst evfn-lst))
           &#39;(((not (consp x))
              (not
...">evaluator-clauses</a> evfn evfn-lst fn-args-lst))))
    `(<a class="sym-link system" href="axioms.html#def-encapsulate" data-sym="ENCAPSULATE">encapsulate</a> (((,EVFN <a class="sym-link system" href="axioms.html#def-_2A" data-sym="*">*</a> <a class="sym-link system" href="axioms.html#def-_2A" data-sym="*">*</a>) =&gt; <a class="sym-link system" href="axioms.html#def-_2A" data-sym="*">*</a>) ((,EVFN-LST <a class="sym-link system" href="axioms.html#def-_2A" data-sym="*">*</a> <a class="sym-link system" href="axioms.html#def-_2A" data-sym="*">*</a>) =&gt; <a class="sym-link system" href="axioms.html#def-_2A" data-sym="*">*</a>))
      (<a class="sym-link system" href="axioms.html#def-set-inhibit-warnings" data-sym="SET-INHIBIT-WARNINGS">set-inhibit-warnings</a> <span class="string">"theory"</span>)
      (<a class="sym-link system" href="axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="axioms.html#def-in-theory" data-sym="IN-THEORY">in-theory</a> <a class="sym-link local-def" href="#def-_2Adefevaluator-form-base-theory_2A" data-sym="*DEFEVALUATOR-FORM-BASE-THEORY*" title="(defconst *defevaluator-form-base-theory*
          (append *definition-minimal-theory*
                  &#39;(car-cdr-elim car-cons cdr-cons o&lt; o-finp o-first-expt
                    o-first-coeff o-rst natp posp acl2-count alistp
                    true-list-fix kwote kwote-lst pairlis$-true-list-fix)))">*defevaluator-form-base-theory*</a>)) . ,(SUBLIS
  (LIST (CONS &#39;EVFN EVFN) (CONS &#39;EVFN-LST EVFN-LST)
        (CONS &#39;FNS-CLAUSES FNS-CLAUSES) (CONS &#39;DEFTHMS DEFTHMS))
  &#39;((LOCAL
     (DEFUN-NX APPLY-FOR-DEFEVALUATOR (FN ARGS)
               (DECLARE (XARGS :VERIFY-GUARDS NIL :NORMALIZE NIL))
               (COND . FNS-CLAUSES)))
    (LOCAL
     (MUTUAL-RECURSION
      (DEFUN-NX EVFN (X A)
                (DECLARE
                 (XARGS :VERIFY-GUARDS NIL :MEASURE (ACL2-COUNT X)
                  :WELL-FOUNDED-RELATION O&lt; :NORMALIZE NIL :HINTS
                  ((&quot;goal&quot; :IN-THEORY
                    (ENABLE (:TYPE-PRESCRIPTION ACL2-COUNT))))
                  :MODE :LOGIC))
                (COND ((SYMBOLP X) (AND X (CDR (ASSOC-EQ X A)))) ((ATOM X) NIL)
                      ((EQ (CAR X) &#39;QUOTE) (CAR (CDR X)))
                      (T
                       (LET ((ARGS (EVFN-LST (CDR X) A)))
                         (COND
                          ((CONSP (CAR X))
                           (EVFN (CAR (CDR (CDR (CAR X))))
                            (PAIRLIS$ (CAR (CDR (CAR X))) ARGS)))
                          ((NOT (SYMBOLP (CAR X))) NIL)
                          (T (APPLY-FOR-DEFEVALUATOR (CAR X) ARGS)))))))
      (DEFUN-NX EVFN-LST (X-LST A)
                (DECLARE
                 (XARGS :MEASURE (ACL2-COUNT X-LST) :WELL-FOUNDED-RELATION O&lt;))
                (COND ((ENDP X-LST) NIL)
                      (T
                       (CONS (EVFN (CAR X-LST) A)
                             (EVFN-LST (CDR X-LST) A)))))))
    (LOCAL (IN-THEORY (DISABLE EVFN EVFN-LST APPLY-FOR-DEFEVALUATOR)))
    (LOCAL
     (DEFTHM EVAL-LIST-KWOTE-LST
             (EQUAL (EVFN-LST (KWOTE-LST ARGS) A) (TRUE-LIST-FIX ARGS)) :HINTS
             ((&quot;goal&quot; :EXPAND
               ((:FREE (X Y) (EVFN-LST (CONS X Y) A)) (EVFN-LST NIL A)
                (:FREE (X) (EVFN (LIST &#39;QUOTE X) A)))
               :INDUCT (TRUE-LIST-FIX ARGS)))))
    (LOCAL
     (DEFTHM TRUE-LIST-FIX-EV-LST
             (EQUAL (TRUE-LIST-FIX (EVFN-LST X A)) (EVFN-LST X A)) :HINTS
             ((&quot;goal&quot; :INDUCT (LEN X) :IN-THEORY (E/D ((:INDUCTION LEN)))
               :EXPAND ((EVFN-LST X A) (EVFN-LST NIL A))))))
    (LOCAL
     (DEFTHM EV-COMMUTES-CAR (EQUAL (CAR (EVFN-LST X A)) (EVFN (CAR X) A))
             :HINTS
             ((&quot;goal&quot; :EXPAND ((EVFN-LST X A) (EVFN NIL A)) :IN-THEORY
               (ENABLE DEFAULT-CAR)))))
    (LOCAL
     (DEFTHM EV-LST-COMMUTES-CDR
             (EQUAL (CDR (EVFN-LST X A)) (EVFN-LST (CDR X) A)) :HINTS
             ((&quot;Goal&quot; :EXPAND ((EVFN-LST X A) (EVFN-LST NIL A)) :IN-THEORY
               (ENABLE DEFAULT-CDR)))))
    . DEFTHMS)))))</pre>
  </div>

<div class="form-block function" id="def-pairs-to-macro-alias-msgs" data-defines="PAIRS-TO-MACRO-ALIAS-MSGS" data-references="CDR,CDAR,CAAR,MSG,CONS,T,ENDP,COND,SYMBOL-ALISTP,XARGS,DECLARE,ALIST,DEFUN" data-used-by="DEFEVALUATOR-CHECK-MSG" data-part-name="PAIRS-TO-MACRO-ALIAS-MSGS" data-part-args="ALIST" data-part-declare="ALIST,SYMBOL-ALISTP,XARGS,DECLARE" data-part-body="CDR,PAIRS-TO-MACRO-ALIAS-MSGS,CDAR,CAAR,MSG,CONS,T,ALIST,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="PAIRS-TO-MACRO-ALIAS-MSGS">pairs-to-macro-alias-msgs</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-pairs-to-macro-alias-msgs" data-sym="PAIRS-TO-MACRO-ALIAS-MSGS" title="(defun pairs-to-macro-alias-msgs (alist)
  (declare (xargs :guard (symbol-alistp alist)))
  (cond ((endp alist) nil)
        (t
         (cons
...">pairs-to-macro-alias-msgs</a>
  (alist)
  (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="axioms.html#def-symbol-alistp" data-sym="SYMBOL-ALISTP">symbol-alistp</a> alist)))
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> alist) nil)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (cons (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"~x0 is a macro alias for function ~x1"</span>
          (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> alist)
          (<a class="sym-link system" href="axioms.html#def-cdar" data-sym="CDAR">cdar</a> alist))
        (<a class="sym-link local-def" href="#def-pairs-to-macro-alias-msgs" data-sym="PAIRS-TO-MACRO-ALIAS-MSGS" title="(defun pairs-to-macro-alias-msgs (alist)
  (declare (xargs :guard (symbol-alistp alist)))
  (cond ((endp alist) nil)
        (t
         (cons
...">pairs-to-macro-alias-msgs</a> (cdr alist))))))</pre>
  </div>

<div class="form-block function" id="def-defevaluator-check-msg" data-defines="DEFEVALUATOR-CHECK-MSG" data-references="ASSOC-EQ,ENTRY,LET,CONS,CAAR,FUNCTION-SYMBOLP,PAIRS-TO-MACRO-ALIAS-MSGS,LIST,T,CAR,CDR,NULL,MSG,OR,ENDP,COND,SYMBOL-LISTP,PLIST-WORLDP,SYMBOL-ALISTP,AND,XARGS,DECLARE,MACRO-ALIST,BAD,WRLD,MACRO-ALIASES,ALIST,DEFUN" data-used-by="DEFEVALUATOR-CHECK" data-part-name="DEFEVALUATOR-CHECK-MSG" data-part-args="MACRO-ALIST,BAD,WRLD,MACRO-ALIASES,ALIST" data-part-declare="MACRO-ALIST,BAD,SYMBOL-LISTP,WRLD,PLIST-WORLDP,MACRO-ALIASES,ALIST,SYMBOL-ALISTP,AND,XARGS,DECLARE" data-part-body="ASSOC-EQ,ENTRY,LET,CONS,MACRO-ALIASES,DEFEVALUATOR-CHECK-MSG,WRLD,CAAR,FUNCTION-SYMBOLP,PAIRS-TO-MACRO-ALIAS-MSGS,LIST,T,CAR,CDR,NULL,MSG,MACRO-ALIST,BAD,OR,ALIST,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFEVALUATOR-CHECK-MSG">defevaluator-check-msg</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-defevaluator-check-msg" data-sym="DEFEVALUATOR-CHECK-MSG" title="(defun defevaluator-check-msg (alist macro-aliases wrld bad macro-alist)
  (declare
   (xargs :guard
    (and (symbol-alistp alist) (symbol-alistp macro-aliases)
         (plist-worldp wrld) (symbol-listp bad) (symbol-alistp macro-alist))))
...">defevaluator-check-msg</a>
  (alist <a class="sym-link system" href="axioms.html#def-macro-aliases" data-sym="MACRO-ALIASES">macro-aliases</a> wrld bad macro-alist)
  (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-symbol-alistp" data-sym="SYMBOL-ALISTP">symbol-alistp</a> alist)
        (<a class="sym-link system" href="axioms.html#def-symbol-alistp" data-sym="SYMBOL-ALISTP">symbol-alistp</a> <a class="sym-link system" href="axioms.html#def-macro-aliases" data-sym="MACRO-ALIASES">macro-aliases</a>)
        (<a class="sym-link system" href="axioms.html#def-plist-worldp" data-sym="PLIST-WORLDP">plist-worldp</a> wrld)
        (<a class="sym-link system" href="axioms.html#def-symbol-listp" data-sym="SYMBOL-LISTP">symbol-listp</a> bad)
        (<a class="sym-link system" href="axioms.html#def-symbol-alistp" data-sym="SYMBOL-ALISTP">symbol-alistp</a> macro-alist))))
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> alist) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> bad macro-alist) (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"~@0~@1"</span>
            (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> bad) <span class="string">""</span>)
              ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> (cdr bad)) (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"The symbol ~x0 is not a function symbol in ~
                                  the current ACL2 world."</span>
                  (car bad)))
              (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"The symbols ~&amp;0 are not function symbols in ~
                                  the current ACL2 world."</span>
                  bad)))
            (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> macro-alist) <span class="string">""</span>)
              (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"  Note that ~*0."</span>
                  (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="string">""</span>
                    <span class="string">"~@*"</span>
                    <span class="string">"~@*, and "</span>
                    <span class="string">"~@*"</span>
                    (<a class="sym-link local-def" href="#def-pairs-to-macro-alias-msgs" data-sym="PAIRS-TO-MACRO-ALIAS-MSGS" title="(defun pairs-to-macro-alias-msgs (alist)
  (declare (xargs :guard (symbol-alistp alist)))
  (cond ((endp alist) nil)
        (t
         (cons
...">pairs-to-macro-alias-msgs</a> macro-alist)))))))
        (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> nil)))
    ((<a class="sym-link system" href="axioms.html#def-function-symbolp" data-sym="FUNCTION-SYMBOLP">function-symbolp</a> (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> alist) wrld) (<a class="sym-link local-def" href="#def-defevaluator-check-msg" data-sym="DEFEVALUATOR-CHECK-MSG" title="(defun defevaluator-check-msg (alist macro-aliases wrld bad macro-alist)
  (declare
   (xargs :guard
    (and (symbol-alistp alist) (symbol-alistp macro-aliases)
         (plist-worldp wrld) (symbol-listp bad) (symbol-alistp macro-alist))))
...">defevaluator-check-msg</a> (cdr alist)
        <a class="sym-link system" href="axioms.html#def-macro-aliases" data-sym="MACRO-ALIASES">macro-aliases</a>
        wrld
        bad
        macro-alist))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-defevaluator-check-msg" data-sym="DEFEVALUATOR-CHECK-MSG" title="(defun defevaluator-check-msg (alist macro-aliases wrld bad macro-alist)
  (declare
   (xargs :guard
    (and (symbol-alistp alist) (symbol-alistp macro-aliases)
         (plist-worldp wrld) (symbol-listp bad) (symbol-alistp macro-alist))))
...">defevaluator-check-msg</a> (cdr alist)
        <a class="sym-link system" href="axioms.html#def-macro-aliases" data-sym="MACRO-ALIASES">macro-aliases</a>
        wrld
        (cons (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> alist) bad)
        (let ((entry (<a class="sym-link system" href="axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a> (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> alist) <a class="sym-link system" href="axioms.html#def-macro-aliases" data-sym="MACRO-ALIASES">macro-aliases</a>)))
          (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (entry (cons entry macro-alist)) (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> macro-alist)))))))</pre>
  </div>

<div class="form-block function" id="def-defevaluator-check" data-defines="DEFEVALUATOR-CHECK" data-references="VALUE,MACRO-ALIASES,DEFEVALUATOR-CHECK-MSG,MSG,WRLD,LET*,T,SOFT,ER,SYMBOL-LIST-LISTP,SYMBOLP,NOT,COND,W,TABLE-ALIST,MACRO-ALIASES-TABLE,QUOTE,FGETPROP,SYMBOL-ALISTP,STATE-P,AND,XARGS,DECLARE,STATE,CTX,FN-ARGS-LST,EVFN-LST,EVFN,X,DEFUN" data-used-by="DEFEVALUATOR-CHECK-FORM" data-part-name="DEFEVALUATOR-CHECK" data-part-args="STATE,CTX,FN-ARGS-LST,EVFN-LST,EVFN,X" data-part-declare="W,TABLE-ALIST,MACRO-ALIASES-TABLE,QUOTE,FGETPROP,FN-ARGS-LST,SYMBOL-ALISTP,STATE,STATE-P,AND,XARGS,DECLARE" data-part-body="VALUE,MACRO-ALIASES,DEFEVALUATOR-CHECK-MSG,MSG,STATE,W,WRLD,LET*,T,X,CTX,SOFT,ER,FN-ARGS-LST,SYMBOL-LIST-LISTP,EVFN-LST,EVFN,SYMBOLP,AND,NOT,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFEVALUATOR-CHECK">defevaluator-check</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-defevaluator-check" data-sym="DEFEVALUATOR-CHECK" title="(defun defevaluator-check (x evfn evfn-lst fn-args-lst ctx state)
  (declare
   (xargs :guard
    (and (state-p state) (symbol-alistp fn-args-lst)
         (symbol-alistp
...">defevaluator-check</a>
  (x evfn evfn-lst fn-args-lst ctx state)
  (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-state-p" data-sym="STATE-P">state-p</a> state)
        (<a class="sym-link system" href="axioms.html#def-symbol-alistp" data-sym="SYMBOL-ALISTP">symbol-alistp</a> fn-args-lst)
        (<a class="sym-link system" href="axioms.html#def-symbol-alistp" data-sym="SYMBOL-ALISTP">symbol-alistp</a> (<a class="sym-link system" href="axioms.html#def-fgetprop" data-sym="FGETPROP">fgetprop</a> 'macro-aliases-table '<a class="sym-link system" href="axioms.html#def-table-alist" data-sym="TABLE-ALIST">table-alist</a> nil (<a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a> state))))))
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (symbolp evfn)
         (symbolp evfn-lst)
         (<a class="sym-link system" href="axioms.html#def-symbol-list-listp" data-sym="SYMBOL-LIST-LISTP">symbol-list-listp</a> fn-args-lst))) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
        ctx
        <span class="string">"The form of a defevaluator event is (defevaluator evfn evfn-lst ~
              fn-args-lst), where evfn and evfn-lst are symbols and ~
              fn-args-lst is a true list of lists of symbols.  Optionally, ~
              one may supply the final keyword argument :namedp with value t ~
              or nil (default).  However, ~x0 does not have this form."</span>
        x))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((wrld (<a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a> state)) (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> (<a class="sym-link local-def" href="#def-defevaluator-check-msg" data-sym="DEFEVALUATOR-CHECK-MSG" title="(defun defevaluator-check-msg (alist macro-aliases wrld bad macro-alist)
  (declare
   (xargs :guard
    (and (symbol-alistp alist) (symbol-alistp macro-aliases)
         (plist-worldp wrld) (symbol-listp bad) (symbol-alistp macro-alist))))
...">defevaluator-check-msg</a> fn-args-lst
              (<a class="sym-link system" href="axioms.html#def-macro-aliases" data-sym="MACRO-ALIASES">macro-aliases</a> wrld)
              wrld
              nil
              nil)))
        (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft ctx <span class="string">"~@0"</span> <a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a>)) (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil)))))))</pre>
  </div>

<div class="form-block function" id="def-defevaluator-check-form" data-defines="DEFEVALUATOR-CHECK-FORM" data-references="VALUE-TRIPLE,VALUE,STATE,DEFEVALUATOR,QUOTE,DEFEVALUATOR-CHECK,ER-PROGN,MAKE-EVENT,ERROR,WITH-OUTPUT,QUASIQUOTE,T,XARGS,DECLARE,FN-ARGS-LST,EVFN-LST,EVFN,X,DEFUN" data-part-name="DEFEVALUATOR-CHECK-FORM" data-part-args="FN-ARGS-LST,EVFN-LST,EVFN,X" data-part-declare="T,XARGS,DECLARE" data-part-body="VALUE-TRIPLE,VALUE,STATE,DEFEVALUATOR,QUOTE,DEFEVALUATOR-CHECK,ER-PROGN,MAKE-EVENT,ERROR,WITH-OUTPUT,QUASIQUOTE" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFEVALUATOR-CHECK-FORM">defevaluator-check-form</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-defevaluator-check-form" data-sym="DEFEVALUATOR-CHECK-FORM" title="(defun defevaluator-check-form (x evfn evfn-lst fn-args-lst)
  (declare (xargs :guard t))
  `(with-output :off error :stack :push
                (make-event
                 (er-progn
...">defevaluator-check-form</a>
  (x evfn evfn-lst fn-args-lst)
  (declare (xargs <span class="keyword">:guard</span> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>))
  `(<a class="sym-link system" href="axioms.html#def-with-output" data-sym="WITH-OUTPUT">with-output</a> <span class="keyword">:off</span> error
    <span class="keyword">:stack</span> <span class="keyword">:push</span> (<a class="sym-link system" href="axioms.html#def-make-event" data-sym="MAKE-EVENT">make-event</a> (<a class="sym-link system" href="axioms.html#def-er-progn" data-sym="ER-PROGN">er-progn</a> (<a class="sym-link system" href="axioms.html#def-with-output" data-sym="WITH-OUTPUT">with-output</a> <span class="keyword">:stack</span> <span class="keyword">:pop</span> (<a class="sym-link local-def" href="#def-defevaluator-check" data-sym="DEFEVALUATOR-CHECK" title="(defun defevaluator-check (x evfn evfn-lst fn-args-lst ctx state)
  (declare
   (xargs :guard
    (and (state-p state) (symbol-alistp fn-args-lst)
         (symbol-alistp
...">defevaluator-check</a> ',X
            ',EVFN
            ',EVFN-LST
            ',FN-ARGS-LST
            '(<a class="sym-link local-def" href="#def-defevaluator" data-sym="DEFEVALUATOR" title="(defmacro defevaluator
          (&amp;whole x evfn evfn-lst fn-args-lst &amp;key skip-checks namedp)
  (let ((form (defevaluator-form evfn evfn-lst namedp fn-args-lst)))
    (cond (skip-checks form)
          (t
...">defevaluator</a> . ,EVFN)
            state))
        (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> '(<a class="sym-link system" href="axioms.html#def-value-triple" data-sym="VALUE-TRIPLE">value-triple</a> nil))))))</pre>
  </div>

<div class="form-block macro" id="def-defevaluator" data-defines="DEFEVALUATOR" data-references="PROGN,QUASIQUOTE,T,COND,DEFEVALUATOR-FORM,FORM,LET,NAMEDP,SKIP-CHECKS,&KEY,FN-ARGS-LST,EVFN-LST,EVFN,X,&WHOLE,DEFMACRO" data-used-by="DEFEVALUATOR-CHECK-FORM" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFEVALUATOR">defevaluator</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-defevaluator" data-sym="DEFEVALUATOR" title="(defmacro defevaluator
          (&amp;whole x evfn evfn-lst fn-args-lst &amp;key skip-checks namedp)
  (let ((form (defevaluator-form evfn evfn-lst namedp fn-args-lst)))
    (cond (skip-checks form)
          (t
...">defevaluator</a>
  (&amp;whole x evfn evfn-lst fn-args-lst &amp;key skip-checks namedp)
  (let ((form (<a class="sym-link local-def" href="#def-defevaluator-form" data-sym="DEFEVALUATOR-FORM" title="(defun defevaluator-form (evfn evfn-lst namedp fn-args-lst)
  (declare (xargs :mode :program))
  (let* ((fns-clauses (defevaluator-form/fns-clauses fn-args-lst))
         (defthms
          (defevaluator-form/defthms evfn evfn-lst namedp
...">defevaluator-form</a> evfn evfn-lst namedp fn-args-lst)))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (skip-checks form)
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> `(<a class="sym-link system" href="axioms.html#def-progn" data-sym="PROGN">progn</a> ,(DEFEVALUATOR-CHECK-FORM X EVFN EVFN-LST FN-ARGS-LST)
          ,FORM)))))</pre>
  </div>

<div class="form-block other" id="form-135" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-set-table-guard" data-sym="SET-TABLE-GUARD">set-table-guard</a> term-table (term-listp val world) <span class="keyword">:show</span> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)</pre>
  </div>

<div class="form-block other" id="form-136" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a> term-table
  <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
  '((binary-+ x y) (binary-* '<span class="number">0</span> y) (car x)))</pre>
  </div>

<div class="form-block function" id="def-remove-meta-extract-contextual-hyps" data-defines="REMOVE-META-EXTRACT-CONTEXTUAL-HYPS" data-references="CONS,!A,STATE,!MFC-SYMBOL,&,META-EXTRACT-CONTEXTUAL-FACT,QUOTE,!EV,CASE-MATCH,CDR,FLG,HS,MV-LET,CAR,HYP,LET,T,MV,ATOM,COND,A,MFC-SYMBOL,EV,HYPS,DEFUN" data-used-by="META-RULE-HYPOTHESIS-FUNCTIONS" data-part-name="REMOVE-META-EXTRACT-CONTEXTUAL-HYPS" data-part-args="A,MFC-SYMBOL,EV,HYPS" data-part-body="CONS,!A,STATE,!MFC-SYMBOL,&,META-EXTRACT-CONTEXTUAL-FACT,QUOTE,!EV,CASE-MATCH,A,MFC-SYMBOL,EV,CDR,REMOVE-META-EXTRACT-CONTEXTUAL-HYPS,FLG,HS,MV-LET,CAR,HYP,LET,T,MV,HYPS,ATOM,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="REMOVE-META-EXTRACT-CONTEXTUAL-HYPS">remove-meta-extract-contextual-hyps</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-remove-meta-extract-contextual-hyps" data-sym="REMOVE-META-EXTRACT-CONTEXTUAL-HYPS" title="(defun remove-meta-extract-contextual-hyps (hyps ev mfc-symbol a)
  (cond ((atom hyps) (mv nil nil))
        (t
         (let ((hyp (car hyps)))
           (mv-let (hs flg)
...">remove-meta-extract-contextual-hyps</a>
  (hyps ev mfc-symbol a)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-atom" data-sym="ATOM">atom</a> hyps) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil nil))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((hyp (car hyps)))
        (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (hs flg)
          (<a class="sym-link local-def" href="#def-remove-meta-extract-contextual-hyps" data-sym="REMOVE-META-EXTRACT-CONTEXTUAL-HYPS" title="(defun remove-meta-extract-contextual-hyps (hyps ev mfc-symbol a)
  (cond ((atom hyps) (mv nil nil))
        (t
         (let ((hyp (car hyps)))
           (mv-let (hs flg)
...">remove-meta-extract-contextual-hyps</a> (cdr hyps)
            ev
            mfc-symbol
            a)
          (<a class="sym-link system" href="basis-a.html#def-case-match" data-sym="CASE-MATCH">case-match</a> hyp
            ((!ev ('meta-extract-contextual-fact &amp; !mfc-symbol 'state)
               !a) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> hs <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>))
            (&amp; (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> (cons hyp hs) flg))))))))</pre>
  </div>

<div class="form-block function" id="def-remove-meta-extract-global-hyps" data-defines="REMOVE-META-EXTRACT-GLOBAL-HYPS" data-references="CONS,STATE,&,META-EXTRACT-GLOBAL-FACT+,QUOTE,!EV,CASE-MATCH,CDR,FLG,HS,MV-LET,CAR,HYP,LET,T,MV,ATOM,COND,XARGS,DECLARE,EV,HYPS,DEFUN" data-used-by="DESTRUCTURE-CLAUSE-PROCESSOR-RULE,META-RULE-HYPOTHESIS-FUNCTIONS" data-part-name="REMOVE-META-EXTRACT-GLOBAL-HYPS" data-part-args="EV,HYPS" data-part-declare="XARGS,DECLARE" data-part-body="CONS,STATE,&,META-EXTRACT-GLOBAL-FACT+,QUOTE,!EV,CASE-MATCH,EV,CDR,REMOVE-META-EXTRACT-GLOBAL-HYPS,FLG,HS,MV-LET,CAR,HYP,LET,T,MV,HYPS,ATOM,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="REMOVE-META-EXTRACT-GLOBAL-HYPS">remove-meta-extract-global-hyps</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-remove-meta-extract-global-hyps" data-sym="REMOVE-META-EXTRACT-GLOBAL-HYPS" title="(defun remove-meta-extract-global-hyps (hyps ev)
  (declare (xargs :mode :program))
  (cond ((atom hyps) (mv nil nil))
        (t
         (let ((hyp (car hyps)))
...">remove-meta-extract-global-hyps</a>
  (hyps ev)
  (declare (xargs <span class="keyword">:mode</span> <span class="keyword">:program</span>))
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-atom" data-sym="ATOM">atom</a> hyps) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil nil))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((hyp (car hyps)))
        (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (hs flg)
          (<a class="sym-link local-def" href="#def-remove-meta-extract-global-hyps" data-sym="REMOVE-META-EXTRACT-GLOBAL-HYPS" title="(defun remove-meta-extract-global-hyps (hyps ev)
  (declare (xargs :mode :program))
  (cond ((atom hyps) (mv nil nil))
        (t
         (let ((hyp (car hyps)))
...">remove-meta-extract-global-hyps</a> (cdr hyps) ev)
          (<a class="sym-link system" href="basis-a.html#def-case-match" data-sym="CASE-MATCH">case-match</a> hyp
            ((!ev ('meta-extract-global-fact+ &amp; &amp; 'state) &amp;) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> hs <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>))
            (&amp; (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> (cons hyp hs) flg))))))))</pre>
  </div>

<div class="form-block function" id="def-meta-rule-hypothesis-functions" data-defines="META-RULE-HYPOTHESIS-FUNCTIONS" data-references="META-EXTRACT-GLOBAL-FACT+,META-EXTRACT-CONTEXTUAL-FACT,APPEND,&,SYMBOLP,!A,!EXTENDED-ARGS,!X,FN,!EV,CASE-MATCH,CDR,AND,T,NULL,COND,STATE,CONS,EXTENDED-ARGS,CAR,HYP3,REMOVE-META-EXTRACT-GLOBAL-HYPS,FLG2,MV,REMOVE-META-EXTRACT-CONTEXTUAL-HYPS,IF,FLG1,MV-LET,FLATTEN-ANDS-IN-LIT,ALISTP,PSEUDO-TERMP,QUOTE,FCONS-TERM*,REMOVE1-EQUAL,HYPS,LET,MFC-SYMBOL,A,X,EV,HYP,DEFUN" data-used-by="RECOVER-METAFUNCTION-OR-CLAUSE-PROCESSOR-SIGNATURES,ADD-META-RULE,CHK-ACCEPTABLE-META-RULE" data-part-name="META-RULE-HYPOTHESIS-FUNCTIONS" data-part-args="MFC-SYMBOL,A,X,EV,HYP" data-part-body="META-EXTRACT-GLOBAL-FACT+,META-EXTRACT-CONTEXTUAL-FACT,APPEND,&,SYMBOLP,!A,!EXTENDED-ARGS,!X,FN,!EV,CASE-MATCH,CDR,AND,T,NULL,COND,STATE,CONS,EXTENDED-ARGS,CAR,HYP3,REMOVE-META-EXTRACT-GLOBAL-HYPS,FLG2,MV,EV,REMOVE-META-EXTRACT-CONTEXTUAL-HYPS,MFC-SYMBOL,IF,FLG1,MV-LET,HYP,FLATTEN-ANDS-IN-LIT,A,ALISTP,X,PSEUDO-TERMP,QUOTE,FCONS-TERM*,REMOVE1-EQUAL,HYPS,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="META-RULE-HYPOTHESIS-FUNCTIONS">meta-rule-hypothesis-functions</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-meta-rule-hypothesis-functions" data-sym="META-RULE-HYPOTHESIS-FUNCTIONS" title="(defun meta-rule-hypothesis-functions (hyp ev x a mfc-symbol)
  (let ((hyps
         (remove1-equal (fcons-term* &#39;pseudo-termp x)
                        (remove1-equal (fcons-term* &#39;alistp a)
                                       (flatten-ands-in-lit hyp)))))
...">meta-rule-hypothesis-functions</a>
  (hyp ev x a mfc-symbol)
  (let ((hyps (<a class="sym-link system" href="axioms.html#def-remove1-equal" data-sym="REMOVE1-EQUAL">remove1-equal</a> (<a class="sym-link system" href="axioms.html#def-fcons-term_2A" data-sym="FCONS-TERM*">fcons-term*</a> '<a class="sym-link system" href="axioms.html#def-pseudo-termp" data-sym="PSEUDO-TERMP">pseudo-termp</a> x)
         (<a class="sym-link system" href="axioms.html#def-remove1-equal" data-sym="REMOVE1-EQUAL">remove1-equal</a> (<a class="sym-link system" href="axioms.html#def-fcons-term_2A" data-sym="FCONS-TERM*">fcons-term*</a> '<a class="sym-link system" href="axioms.html#def-alistp" data-sym="ALISTP">alistp</a> a)
           (flatten-ands-in-lit hyp)))))
    (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (hyps flg1)
      (if mfc-symbol
        (<a class="sym-link local-def" href="#def-remove-meta-extract-contextual-hyps" data-sym="REMOVE-META-EXTRACT-CONTEXTUAL-HYPS" title="(defun remove-meta-extract-contextual-hyps (hyps ev mfc-symbol a)
  (cond ((atom hyps) (mv nil nil))
        (t
         (let ((hyp (car hyps)))
           (mv-let (hs flg)
...">remove-meta-extract-contextual-hyps</a> hyps ev mfc-symbol a)
        (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> hyps nil))
      (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (hyps flg2)
        (<a class="sym-link local-def" href="#def-remove-meta-extract-global-hyps" data-sym="REMOVE-META-EXTRACT-GLOBAL-HYPS" title="(defun remove-meta-extract-global-hyps (hyps ev)
  (declare (xargs :mode :program))
  (cond ((atom hyps) (mv nil nil))
        (t
         (let ((hyp (car hyps)))
...">remove-meta-extract-global-hyps</a> hyps ev)
        (let ((hyp3 (car hyps)) (extended-args (if mfc-symbol
                (cons mfc-symbol '(state))
                nil)))
          (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> hyps) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)
              (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> (cdr hyps))
                  (<a class="sym-link system" href="basis-a.html#def-case-match" data-sym="CASE-MATCH">case-match</a> hyp3
                    ((!ev (fn !x . !extended-args) !a) (if (symbolp fn)
                        fn
                        nil))
                    (&amp; nil)))))
            (<a class="sym-link system" href="axioms.html#def-append" data-sym="APPEND">append</a> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> flg1 '(meta-extract-contextual-fact))
              (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> flg2 '(meta-extract-global-fact+)))))))))</pre>
  </div>

<div class="form-block function" id="def-meta-fn-args" data-defines="META-FN-ARGS" data-references="COERCE-STATE-TO-OBJECT,T,MAKE-RCNST,?,QUOTE,REWRITE-STACK-LIMIT,METAFUNCTION-CONTEXT,MAKE,LIST,W,WRLD,LET,COND,STATE,ENS,EXTENDEDP,TERM,DEFUN" data-used-by="CHK-META-FUNCTION" data-part-name="META-FN-ARGS" data-part-args="STATE,ENS,EXTENDEDP,TERM" data-part-body="COERCE-STATE-TO-OBJECT,T,ENS,MAKE-RCNST,?,QUOTE,REWRITE-STACK-LIMIT,METAFUNCTION-CONTEXT,MAKE,TERM,LIST,STATE,W,WRLD,LET,EXTENDEDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="META-FN-ARGS">meta-fn-args</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-meta-fn-args" data-sym="META-FN-ARGS" title="(defun meta-fn-args (term extendedp ens state)
  (cond
   (extendedp
    (let ((wrld (w state)))
      (list term
...">meta-fn-args</a>
  (term extendedp ens state)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (extendedp (let ((wrld (<a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a> state)))
        (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> term
          (<a class="sym-link system" href="basis-a.html#def-make" data-sym="MAKE">make</a> metafunction-context
            <span class="keyword">:rdepth</span> (<a class="sym-link system" href="axioms.html#def-rewrite-stack-limit" data-sym="REWRITE-STACK-LIMIT">rewrite-stack-limit</a> wrld)
            <span class="keyword">:type-alist</span> nil
            <span class="keyword">:obj</span> '?
            <span class="keyword">:geneqv</span> nil
            <span class="keyword">:wrld</span> wrld
            <span class="keyword">:fnstack</span> nil
            <span class="keyword">:ancestors</span> nil
            <span class="keyword">:simplify-clause-pot-lst</span> nil
            <span class="keyword">:rcnst</span> (make-rcnst ens
              wrld
              state
              <span class="keyword">:force-info</span> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
              <span class="keyword">:top-clause</span> (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> term)
              <span class="keyword">:current-clause</span> (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> term))
            <span class="keyword">:gstack</span> nil
            <span class="keyword">:ttree</span> nil
            <span class="keyword">:unify-subst</span> nil)
          (<a class="sym-link system" href="axioms.html#def-coerce-state-to-object" data-sym="COERCE-STATE-TO-OBJECT">coerce-state-to-object</a> state))))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> term))))</pre>
  </div>

<div class="form-block function" id="def-chk-meta-function" data-defines="CHK-META-FUNCTION" data-references="W,TERMP,WARNING$,IGNORE,DECLARE,EV-FNCALL-META,LATCHES,VAL,ERP,MV-LET,WARNING-DISABLED-P,PPROGN,META-FN-ARGS,ARGS,LET,T,CDR,FFN-SYMB,MEMBER-EQ,NOT,FLAMBDA-APPLICATIONP,FQUOTEP,CAR,VARIABLEP,OR,VALUE,NULL,COND,STATE,ENS,CTX,TERM-LIST,EXTENDEDP,TRIGGER-FNS,NAME,METAFN,DEFUN" data-used-by="CHK-ACCEPTABLE-META-RULE" data-part-name="CHK-META-FUNCTION" data-part-args="STATE,ENS,CTX,TERM-LIST,EXTENDEDP,TRIGGER-FNS,NAME,METAFN" data-part-body="W,TERMP,WARNING$,IGNORE,DECLARE,EV-FNCALL-META,LATCHES,VAL,ERP,MV-LET,WARNING-DISABLED-P,PPROGN,META-FN-ARGS,ARGS,LET,T,STATE,ENS,CTX,CDR,EXTENDEDP,NAME,METAFN,CHK-META-FUNCTION,TRIGGER-FNS,FFN-SYMB,MEMBER-EQ,NOT,FLAMBDA-APPLICATIONP,FQUOTEP,CAR,VARIABLEP,OR,VALUE,TERM-LIST,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CHK-META-FUNCTION">chk-meta-function</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-chk-meta-function" data-sym="CHK-META-FUNCTION" title="(defun chk-meta-function
       (metafn name trigger-fns extendedp term-list ctx ens state)
  (cond ((null term-list) (value nil))
        ((or (variablep (car term-list)) (fquotep (car term-list))
             (flambda-applicationp (car term-list))
...">chk-meta-function</a>
  (metafn name trigger-fns extendedp term-list ctx ens state)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> term-list) (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil))
    ((<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> (car term-list))
       (<a class="sym-link system" href="axioms.html#def-fquotep" data-sym="FQUOTEP">fquotep</a> (car term-list))
       (<a class="sym-link system" href="basis-b.html#def-flambda-applicationp" data-sym="FLAMBDA-APPLICATIONP">flambda-applicationp</a> (car term-list))
       (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> (car term-list)) trigger-fns))) (<a class="sym-link local-def" href="#def-chk-meta-function" data-sym="CHK-META-FUNCTION" title="(defun chk-meta-function
       (metafn name trigger-fns extendedp term-list ctx ens state)
  (cond ((null term-list) (value nil))
        ((or (variablep (car term-list)) (fquotep (car term-list))
             (flambda-applicationp (car term-list))
...">chk-meta-function</a> metafn
        name
        trigger-fns
        extendedp
        (cdr term-list)
        ctx
        ens
        state))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((<a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a> (<a class="sym-link local-def" href="#def-meta-fn-args" data-sym="META-FN-ARGS" title="(defun meta-fn-args (term extendedp ens state)
  (cond
   (extendedp
    (let ((wrld (w state)))
      (list term
...">meta-fn-args</a> (car term-list) extendedp ens state)))
        (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="basis-a.html#def-warning-disabled-p" data-sym="WARNING-DISABLED-P">warning-disabled-p</a> <span class="string">"Meta"</span>) state)
            (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (erp val latches)
                (<a class="sym-link system" href="rewrite.html#def-ev-fncall-meta" data-sym="EV-FNCALL-META">ev-fncall-meta</a> metafn <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a> state)
                (declare (ignore latches))
                (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (erp (<a class="sym-link system" href="axioms.html#def-warning_24" data-sym="WARNING$">warning$</a> ctx
                      (<span class="string">"Meta"</span>)
                      <span class="string">"An error occurred upon running the metafunction ~
                              ~x0 on the term ~x1.  This does not bode well ~
                              for the utility of this metafunction for the ~
                              meta rule ~x2.  See :DOC term-table."</span>
                      metafn
                      (car term-list)
                      name))
                  ((termp val (<a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a> state)) state)
                  (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-warning_24" data-sym="WARNING$">warning$</a> ctx
                      (<span class="string">"Meta"</span>)
                      <span class="string">"The value obtained upon running the ~
                              metafunction ~x0 on the term ~x1 is ~x2, which ~
                              is NOT a termp in the current ACL2 world.  This ~
                              does not bode well for the utility of this ~
                              metafunction for the meta rule ~x3.  See :DOC ~
                              term-table."</span>
                      metafn
                      (car term-list)
                      val
                      name))))))
          (<a class="sym-link local-def" href="#def-chk-meta-function" data-sym="CHK-META-FUNCTION" title="(defun chk-meta-function
       (metafn name trigger-fns extendedp term-list ctx ens state)
  (cond ((null term-list) (value nil))
        ((or (variablep (car term-list)) (fquotep (car term-list))
             (flambda-applicationp (car term-list))
...">chk-meta-function</a> metafn
            name
            trigger-fns
            extendedp
            (cdr term-list)
            ctx
            ens
            state))))))</pre>
  </div>

<div class="form-block function" id="def-ev-lst-from-ev" data-defines="EV-LST-FROM-EV" data-references="NORMALIZED-EVALUATOR-CL-SET,GUESS-EVFN-LST-FOR-EVFN,WRLD,EV,DEFUN" data-used-by="CHK-EVALUATOR-USE-IN-RULE" data-part-name="EV-LST-FROM-EV" data-part-args="WRLD,EV" data-part-body="WRLD,NORMALIZED-EVALUATOR-CL-SET,EV,GUESS-EVFN-LST-FOR-EVFN" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="EV-LST-FROM-EV">ev-lst-from-ev</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-ev-lst-from-ev" data-sym="EV-LST-FROM-EV" title="(defun ev-lst-from-ev (ev wrld)
  (guess-evfn-lst-for-evfn ev (normalized-evaluator-cl-set ev wrld)))">ev-lst-from-ev</a>
  (ev wrld)
  (<a class="sym-link local-def" href="#def-guess-evfn-lst-for-evfn" data-sym="GUESS-EVFN-LST-FOR-EVFN" title="(defun guess-evfn-lst-for-evfn (evfn cl-set)
  (cond ((null cl-set) nil)
        ((and (int= (length (car cl-set)) 3)
              (find-evfn-lst-in-clause evfn (car cl-set))))
        (t (guess-evfn-lst-for-evfn evfn (cdr cl-set)))))">guess-evfn-lst-for-evfn</a> ev
    (<a class="sym-link local-def" href="#def-normalized-evaluator-cl-set" data-sym="NORMALIZED-EVALUATOR-CL-SET" title="(defun normalized-evaluator-cl-set (ev wrld)
  (normalize-alleged-evaluator-clause-set
   (shallow-clausify
    (mv-let (sym x origins) (constraint-info ev wrld)
            (declare (ignore origins))
...">normalized-evaluator-cl-set</a> ev wrld)))</pre>
  </div>

<div class="form-block function" id="def-attached-fns" data-defines="ATTACHED-FNS" data-references="CONS,CDR,EQ,CONSP,AND,NULL,OR,CAR,ATTACHMENT-ALIST,PROP,LET,T,ENDP,COND,WRLD,FNS,DEFUN" data-used-by="DEFAXIOM-FN,CHK-META-FN-ATTACHMENTS" data-part-name="ATTACHED-FNS" data-part-args="WRLD,FNS" data-part-body="CONS,CDR,ATTACHED-FNS,EQ,CONSP,AND,NULL,OR,WRLD,CAR,ATTACHMENT-ALIST,PROP,LET,T,FNS,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ATTACHED-FNS">attached-fns</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-attached-fns" data-sym="ATTACHED-FNS" title="(defun attached-fns (fns wrld)
  (cond ((endp fns) nil)
        (t
         (let ((prop (attachment-alist (car fns) wrld)))
           (cond
...">attached-fns</a>
  (fns wrld)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> fns) nil)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((prop (attachment-alist (car fns) wrld)))
        (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> prop)
             (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (consp prop) (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (car prop) <span class="keyword">:attachment-disallowed</span>))) (<a class="sym-link local-def" href="#def-attached-fns" data-sym="ATTACHED-FNS" title="(defun attached-fns (fns wrld)
  (cond ((endp fns) nil)
        (t
         (let ((prop (attachment-alist (car fns) wrld)))
           (cond
...">attached-fns</a> (cdr fns) wrld))
          (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (cons (car fns) (<a class="sym-link local-def" href="#def-attached-fns" data-sym="ATTACHED-FNS" title="(defun attached-fns (fns wrld)
  (cond ((endp fns) nil)
        (t
         (let ((prop (attachment-alist (car fns) wrld)))
           (cond
...">attached-fns</a> (cdr fns) wrld))))))))</pre>
  </div>

<div class="form-block function" id="def-siblings" data-defines="SIBLINGS" data-references="LIST,RECURSIVEP,QUOTE,GETPROPC,OR,WRLD,F,DEFUN" data-used-by="MARK-ATTACHMENT-DISALLOWED,CANONICAL-SIBLING" data-part-name="SIBLINGS" data-part-args="WRLD,F" data-part-body="LIST,RECURSIVEP,WRLD,SIBLINGS,QUOTE,F,GETPROPC,OR" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="SIBLINGS">siblings</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-siblings" data-sym="SIBLINGS" title="(defun siblings (f wrld)
  (or (getpropc f &#39;siblings nil wrld) (getpropc f &#39;recursivep nil wrld)
      (list f)))">siblings</a>
  (f wrld)
  (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> f '<a class="sym-link local-def" href="#def-siblings" data-sym="SIBLINGS" title="(defun siblings (f wrld)
  (or (getpropc f &#39;siblings nil wrld) (getpropc f &#39;recursivep nil wrld)
      (list f)))">siblings</a> nil wrld)
    (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> f 'recursivep nil wrld)
    (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> f)))</pre>
  </div>

<div class="form-block function" id="def-canonical-sibling" data-defines="CANONICAL-SIBLING" data-references="RECURSIVEP,T,CAR,COND,SIBLINGS,QUOTE,GETPROPC,SIBS,LET,WRLD,F,DEFUN" data-used-by="CHK-META-FN-ATTACHMENTS,IMMEDIATE-CANONICAL-ANCESTORS-TR,TRANSPARENT-FN-P,COLLECT-CANONICAL-SIBLINGS,CANONICAL-FFN-SYMBS" data-part-name="CANONICAL-SIBLING" data-part-args="WRLD,F" data-part-body="RECURSIVEP,T,CAR,COND,WRLD,SIBLINGS,QUOTE,F,GETPROPC,SIBS,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CANONICAL-SIBLING">canonical-sibling</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-canonical-sibling" data-sym="CANONICAL-SIBLING" title="(defun canonical-sibling (f wrld)
  (let ((sibs (getpropc f &#39;siblings nil wrld)))
    (cond (sibs (car sibs))
          (t
           (let ((sibs (getpropc f &#39;recursivep nil wrld)))">canonical-sibling</a>
  (f wrld)
  (let ((sibs (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> f '<a class="sym-link local-def" href="#def-siblings" data-sym="SIBLINGS" title="(defun siblings (f wrld)
  (or (getpropc f &#39;siblings nil wrld) (getpropc f &#39;recursivep nil wrld)
      (list f)))">siblings</a> nil wrld)))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (sibs (car sibs))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((sibs (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> f 'recursivep nil wrld)))
          (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (sibs (car sibs)) (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> f)))))))</pre>
  </div>

<div class="form-block mutual-recursion" id="def-canonical-ffn-symbs" data-defines="CANONICAL-FFN-SYMBS" data-references="CAR,CDR,NULL,LST,ADD-TO-SET-EQ,CANONICAL-SIBLING,FN,LET,LAMBDA-BODY,FLAMBDA-APPLICATIONP,FARGS,CANONICAL-FFN-SYMBS-LST,T,MBE1-RAW,FARGN,EQUAL,NOT,RETURN-LAST,QUOTE,FFN-SYMB,EQ,AND,FQUOTEP,VARIABLEP,COND,RLP,IGN,ANS,WRLD,TERM,DEFUN,MUTUAL-RECURSION" data-used-by="IMMEDIATE-CANONICAL-ANCESTORS-TR,IMMEDIATE-CANONICAL-ANCESTORS" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="CANONICAL-FFN-SYMBS">canonical-ffn-symbs</span><span class="form-type">mutual-recursion</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-mutual-recursion" data-sym="MUTUAL-RECURSION">mutual-recursion</a> (<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-canonical-ffn-symbs" data-sym="CANONICAL-FFN-SYMBS" title="(mutual-recursion
 (defun canonical-ffn-symbs (term wrld ans ign rlp)
   (cond ((variablep term) ans) ((fquotep term) ans)
         ((and rlp (eq (ffn-symb term) &#39;return-last)
               (not (equal (fargn term 1) &#39;&#39;mbe1-raw)))
...">canonical-ffn-symbs</a>
    (term wrld ans ign rlp)
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> term) ans)
      ((<a class="sym-link system" href="axioms.html#def-fquotep" data-sym="FQUOTEP">fquotep</a> term) ans)
      ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> rlp
         (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term) '<a class="sym-link system" href="axioms.html#def-return-last" data-sym="RETURN-LAST">return-last</a>)
         (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (equal (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">1</span>) ''mbe1-raw))) (<a class="sym-link local-def" href="#def-canonical-ffn-symbs" data-sym="CANONICAL-FFN-SYMBS" title="(mutual-recursion
 (defun canonical-ffn-symbs (term wrld ans ign rlp)
   (cond ((variablep term) ans) ((fquotep term) ans)
         ((and rlp (eq (ffn-symb term) &#39;return-last)
               (not (equal (fargn term 1) &#39;&#39;mbe1-raw)))
...">canonical-ffn-symbs</a> (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">3</span>) wrld ans ign rlp))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (canonical-ffn-symbs-lst (<a class="sym-link system" href="axioms.html#def-fargs" data-sym="FARGS">fargs</a> term)
          wrld
          (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="basis-b.html#def-flambda-applicationp" data-sym="FLAMBDA-APPLICATIONP">flambda-applicationp</a> term) (<a class="sym-link local-def" href="#def-canonical-ffn-symbs" data-sym="CANONICAL-FFN-SYMBS" title="(mutual-recursion
 (defun canonical-ffn-symbs (term wrld ans ign rlp)
   (cond ((variablep term) ans) ((fquotep term) ans)
         ((and rlp (eq (ffn-symb term) &#39;return-last)
               (not (equal (fargn term 1) &#39;&#39;mbe1-raw)))
...">canonical-ffn-symbs</a> (<a class="sym-link system" href="basis-b.html#def-lambda-body" data-sym="LAMBDA-BODY">lambda-body</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term))
                wrld
                ans
                ign
                rlp))
            (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((fn (<a class="sym-link local-def" href="#def-canonical-sibling" data-sym="CANONICAL-SIBLING" title="(defun canonical-sibling (f wrld)
  (let ((sibs (getpropc f &#39;siblings nil wrld)))
    (cond (sibs (car sibs))
          (t
           (let ((sibs (getpropc f &#39;recursivep nil wrld)))">canonical-sibling</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term) wrld)))
                (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> fn ign) ans) (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-add-to-set-eq" data-sym="ADD-TO-SET-EQ">add-to-set-eq</a> fn ans))))))
          ign
          rlp))))
  (<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> canonical-ffn-symbs-lst
    (lst wrld ans ign rlp)
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> lst) ans)
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (canonical-ffn-symbs-lst (cdr lst)
          wrld
          (<a class="sym-link local-def" href="#def-canonical-ffn-symbs" data-sym="CANONICAL-FFN-SYMBS" title="(mutual-recursion
 (defun canonical-ffn-symbs (term wrld ans ign rlp)
   (cond ((variablep term) ans) ((fquotep term) ans)
         ((and rlp (eq (ffn-symb term) &#39;return-last)
               (not (equal (fargn term 1) &#39;&#39;mbe1-raw)))
...">canonical-ffn-symbs</a> (car lst) wrld ans ign rlp)
          ign
          rlp)))))</pre>
  </div>

<div class="form-block function" id="def-collect-canonical-siblings" data-defines="COLLECT-CANONICAL-SIBLINGS" data-references="CONS,MEMBER-EQ,EQ,OR,CAR,CANONICAL-SIBLING,FN,LET,CDR,T,ENDP,COND,IGN,ANS,WRLD,FNS,DEFUN" data-used-by="CHK-EVALUATOR-USE-IN-RULE,CHK-META-FN-ATTACHMENTS,CANONICAL-ANCESTORS-TR-LST,IMMEDIATE-CANONICAL-ANCESTORS-TR,CANONICAL-ANCESTORS-LST,IMMEDIATE-CANONICAL-ANCESTORS" data-part-name="COLLECT-CANONICAL-SIBLINGS" data-part-args="IGN,ANS,WRLD,FNS" data-part-body="CONS,MEMBER-EQ,IGN,EQ,OR,CAR,CANONICAL-SIBLING,FN,LET,WRLD,CDR,COLLECT-CANONICAL-SIBLINGS,T,ANS,FNS,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="COLLECT-CANONICAL-SIBLINGS">collect-canonical-siblings</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-collect-canonical-siblings" data-sym="COLLECT-CANONICAL-SIBLINGS" title="(defun collect-canonical-siblings (fns wrld ans ign)
  (cond ((endp fns) ans)
        (t
         (collect-canonical-siblings (cdr fns) wrld
                                     (let ((fn
...">collect-canonical-siblings</a>
  (fns wrld ans ign)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> fns) ans)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-collect-canonical-siblings" data-sym="COLLECT-CANONICAL-SIBLINGS" title="(defun collect-canonical-siblings (fns wrld ans ign)
  (cond ((endp fns) ans)
        (t
         (collect-canonical-siblings (cdr fns) wrld
                                     (let ((fn
...">collect-canonical-siblings</a> (cdr fns)
        wrld
        (let ((fn (<a class="sym-link local-def" href="#def-canonical-sibling" data-sym="CANONICAL-SIBLING" title="(defun canonical-sibling (f wrld)
  (let ((sibs (getpropc f &#39;siblings nil wrld)))
    (cond (sibs (car sibs))
          (t
           (let ((sibs (getpropc f &#39;recursivep nil wrld)))">canonical-sibling</a> (car fns) wrld)))
          (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> fn ign) (<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> fn ans)) ans)
            (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (cons fn ans))))
        ign))))</pre>
  </div>

<div class="form-block function" id="def-constraint-lst-etc-union1" data-defines="CONSTRAINT-LST-ETC-UNION1" data-references="CONS,NEW-ORIGINS2,NEW-DATA2,MV-LET,T,CDR,CAR,MEMBER-EQUAL,MV,ENDP,COND,TRUE-LISTP,AND,XARGS,DECLARE,ORIGINS2,DATA2,ORIGINS1,DATA1,DEFUN" data-used-by="CONSTRAINT-LST-ETC-UNION" data-part-name="CONSTRAINT-LST-ETC-UNION1" data-part-args="ORIGINS2,DATA2,ORIGINS1,DATA1" data-part-declare="DATA2,ORIGINS1,DATA1,TRUE-LISTP,AND,XARGS,DECLARE" data-part-body="CONS,NEW-ORIGINS2,NEW-DATA2,MV-LET,T,ORIGINS1,CDR,CONSTRAINT-LST-ETC-UNION1,CAR,MEMBER-EQUAL,ORIGINS2,DATA2,MV,DATA1,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CONSTRAINT-LST-ETC-UNION1">constraint-lst-etc-union1</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-constraint-lst-etc-union1" data-sym="CONSTRAINT-LST-ETC-UNION1" title="(defun constraint-lst-etc-union1 (data1 origins1 data2 origins2)
  (declare
   (xargs :guard
    (and (true-listp data1) (true-listp origins1) (true-listp data2))))
  (cond ((endp data1) (mv data2 origins2))
...">constraint-lst-etc-union1</a>
  (data1 origins1 data2 origins2)
  (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-true-listp" data-sym="TRUE-LISTP">true-listp</a> data1)
        (<a class="sym-link system" href="axioms.html#def-true-listp" data-sym="TRUE-LISTP">true-listp</a> origins1)
        (<a class="sym-link system" href="axioms.html#def-true-listp" data-sym="TRUE-LISTP">true-listp</a> data2))))
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> data1) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> data2 origins2))
    ((<a class="sym-link system" href="axioms.html#def-member-equal" data-sym="MEMBER-EQUAL">member-equal</a> (car data1) data2) (<a class="sym-link local-def" href="#def-constraint-lst-etc-union1" data-sym="CONSTRAINT-LST-ETC-UNION1" title="(defun constraint-lst-etc-union1 (data1 origins1 data2 origins2)
  (declare
   (xargs :guard
    (and (true-listp data1) (true-listp origins1) (true-listp data2))))
  (cond ((endp data1) (mv data2 origins2))
...">constraint-lst-etc-union1</a> (cdr data1)
        (cdr origins1)
        data2
        origins2))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (new-data2 new-origins2)
        (<a class="sym-link local-def" href="#def-constraint-lst-etc-union1" data-sym="CONSTRAINT-LST-ETC-UNION1" title="(defun constraint-lst-etc-union1 (data1 origins1 data2 origins2)
  (declare
   (xargs :guard
    (and (true-listp data1) (true-listp origins1) (true-listp data2))))
  (cond ((endp data1) (mv data2 origins2))
...">constraint-lst-etc-union1</a> (cdr data1)
          (cdr origins1)
          data2
          origins2)
        (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> (cons (car data1) new-data2)
          (cons (car origins1) new-origins2))))))</pre>
  </div>

<div class="form-block function" id="def-constraint-lst-etc-union" data-defines="CONSTRAINT-LST-ETC-UNION" data-references="CONS,CONSTRAINT-LST-ETC-UNION1,ORIGINS,DATA,MV-LET,CDR,CAR,TRUE-LISTP,CONSP,AND,XARGS,DECLARE,PAIR2,PAIR1,DEFUN" data-used-by="CONSTRAINTS-LIST" data-part-name="CONSTRAINT-LST-ETC-UNION" data-part-args="PAIR2,PAIR1" data-part-declare="CDR,CAR,TRUE-LISTP,PAIR2,PAIR1,CONSP,AND,XARGS,DECLARE" data-part-body="CONS,PAIR2,CDR,PAIR1,CAR,CONSTRAINT-LST-ETC-UNION1,ORIGINS,DATA,MV-LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CONSTRAINT-LST-ETC-UNION">constraint-lst-etc-union</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-constraint-lst-etc-union" data-sym="CONSTRAINT-LST-ETC-UNION" title="(defun constraint-lst-etc-union (pair1 pair2)
  (declare
   (xargs :guard
    (and (consp pair1) (consp pair2) (true-listp (car pair1))
         (true-listp (cdr pair1)) (true-listp (car pair2)))))
...">constraint-lst-etc-union</a>
  (pair1 pair2)
  (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (consp pair1)
        (consp pair2)
        (<a class="sym-link system" href="axioms.html#def-true-listp" data-sym="TRUE-LISTP">true-listp</a> (car pair1))
        (<a class="sym-link system" href="axioms.html#def-true-listp" data-sym="TRUE-LISTP">true-listp</a> (cdr pair1))
        (<a class="sym-link system" href="axioms.html#def-true-listp" data-sym="TRUE-LISTP">true-listp</a> (car pair2)))))
  (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (data origins)
    (<a class="sym-link local-def" href="#def-constraint-lst-etc-union1" data-sym="CONSTRAINT-LST-ETC-UNION1" title="(defun constraint-lst-etc-union1 (data1 origins1 data2 origins2)
  (declare
   (xargs :guard
    (and (true-listp data1) (true-listp origins1) (true-listp data2))))
  (cond ((endp data1) (mv data2 origins2))
...">constraint-lst-etc-union1</a> (car pair1)
      (cdr pair1)
      (car pair2)
      (cdr pair2))
    (cons data origins)))</pre>
  </div>

<div class="form-block function" id="def-constraints-list" data-defines="CONSTRAINTS-LIST" data-references="MEMBER-EQUAL,IF,CONSTRAINT-LST-ETC-UNION,CDR,MEMBER-EQ,CONS,UNKNOWN-CONSTRAINTS-P,CAR,CONSTRAINT-INFO,ORIGINS,X,NAME,MV-LET,T,ENDP,COND,SEEN,CONSTRAINT-LST-ETC-PAIR,WRLD,FNS,DEFUN" data-used-by="CONSTRAINT-INFO+" data-part-name="CONSTRAINTS-LIST" data-part-args="SEEN,CONSTRAINT-LST-ETC-PAIR,WRLD,FNS" data-part-body="MEMBER-EQUAL,IF,CONSTRAINT-LST-ETC-UNION,CDR,CONSTRAINTS-LIST,SEEN,MEMBER-EQ,CONS,UNKNOWN-CONSTRAINTS-P,WRLD,CAR,CONSTRAINT-INFO,ORIGINS,X,NAME,MV-LET,T,CONSTRAINT-LST-ETC-PAIR,FNS,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CONSTRAINTS-LIST">constraints-list</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-constraints-list" data-sym="CONSTRAINTS-LIST" title="(defun constraints-list (fns wrld constraint-lst-etc-pair seen)
  (cond ((endp fns) constraint-lst-etc-pair)
        (t
         (mv-let (name x origins) (constraint-info (car fns) wrld)
                 (cond ((unknown-constraints-p x) (cons x nil))
...">constraints-list</a>
  (fns wrld constraint-lst-etc-pair seen)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> fns) constraint-lst-etc-pair)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (name x origins)
        (<a class="sym-link system" href="history-management.html#def-constraint-info" data-sym="CONSTRAINT-INFO">constraint-info</a> (car fns) wrld)
        (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="history-management.html#def-unknown-constraints-p" data-sym="UNKNOWN-CONSTRAINTS-P">unknown-constraints-p</a> x) (cons x nil))
          (name (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> name seen) (<a class="sym-link local-def" href="#def-constraints-list" data-sym="CONSTRAINTS-LIST" title="(defun constraints-list (fns wrld constraint-lst-etc-pair seen)
  (cond ((endp fns) constraint-lst-etc-pair)
        (t
         (mv-let (name x origins) (constraint-info (car fns) wrld)
                 (cond ((unknown-constraints-p x) (cons x nil))
...">constraints-list</a> (cdr fns)
                  wrld
                  constraint-lst-etc-pair
                  seen))
              (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-constraints-list" data-sym="CONSTRAINTS-LIST" title="(defun constraints-list (fns wrld constraint-lst-etc-pair seen)
  (cond ((endp fns) constraint-lst-etc-pair)
        (t
         (mv-let (name x origins) (constraint-info (car fns) wrld)
                 (cond ((unknown-constraints-p x) (cons x nil))
...">constraints-list</a> (cdr fns)
                  wrld
                  (<a class="sym-link local-def" href="#def-constraint-lst-etc-union" data-sym="CONSTRAINT-LST-ETC-UNION" title="(defun constraint-lst-etc-union (pair1 pair2)
  (declare
   (xargs :guard
    (and (consp pair1) (consp pair2) (true-listp (car pair1))
         (true-listp (cdr pair1)) (true-listp (car pair2)))))
...">constraint-lst-etc-union</a> (cons x origins)
                    constraint-lst-etc-pair)
                  (cons name seen)))))
          (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-constraints-list" data-sym="CONSTRAINTS-LIST" title="(defun constraints-list (fns wrld constraint-lst-etc-pair seen)
  (cond ((endp fns) constraint-lst-etc-pair)
        (t
         (mv-let (name x origins) (constraint-info (car fns) wrld)
                 (cond ((unknown-constraints-p x) (cons x nil))
...">constraints-list</a> (cdr fns)
              wrld
              (if (<a class="sym-link system" href="axioms.html#def-member-equal" data-sym="MEMBER-EQUAL">member-equal</a> x (car constraint-lst-etc-pair))
                constraint-lst-etc-pair
                (cons (cons x (car constraint-lst-etc-pair))
                  (cons origins (cdr constraint-lst-etc-pair))))
              seen)))))))</pre>
  </div>

<div class="form-block function" id="def-constraint-info_2B" data-defines="CONSTRAINT-INFO+" data-references="CONSTRAINT-INFO,CAR,T,MV,CONS,CONSTRAINTS-LIST,CONSTRAINT-LST-ETC-PAIR,CDR,CONSP,AND,COND,RECURSIVEP,QUOTE,GETPROPC,FNS,LET,WRLD,FN,DEFUN" data-used-by="IMMEDIATE-CANONICAL-ANCESTORS-TR,IMMEDIATE-CANONICAL-ANCESTORS" data-part-name="CONSTRAINT-INFO+" data-part-args="WRLD,FN" data-part-body="CONSTRAINT-INFO,CAR,T,MV,CONS,CONSTRAINTS-LIST,CONSTRAINT-LST-ETC-PAIR,CDR,CONSP,AND,COND,WRLD,RECURSIVEP,QUOTE,FN,GETPROPC,FNS,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CONSTRAINT-INFO+">constraint-info+</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-constraint-info_2B" data-sym="CONSTRAINT-INFO+" title="(defun constraint-info+ (fn wrld)
  (let ((fns (getpropc fn &#39;recursivep nil wrld)))
    (cond
     ((and (consp fns) (consp (cdr fns)))
      (let ((constraint-lst-etc-pair
...">constraint-info+</a>
  (fn wrld)
  (let ((fns (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> fn 'recursivep nil wrld)))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (consp fns) (consp (cdr fns))) (let ((constraint-lst-etc-pair (<a class="sym-link local-def" href="#def-constraints-list" data-sym="CONSTRAINTS-LIST" title="(defun constraints-list (fns wrld constraint-lst-etc-pair seen)
  (cond ((endp fns) constraint-lst-etc-pair)
        (t
         (mv-let (name x origins) (constraint-info (car fns) wrld)
                 (cond ((unknown-constraints-p x) (cons x nil))
...">constraints-list</a> fns wrld (cons nil nil) nil)))
          (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
            (car constraint-lst-etc-pair)
            (cdr constraint-lst-etc-pair))))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="history-management.html#def-constraint-info" data-sym="CONSTRAINT-INFO">constraint-info</a> fn wrld)))))</pre>
  </div>

<div class="form-block function" id="def-immediate-canonical-ancestors" data-defines="IMMEDIATE-CANONICAL-ANCESTORS" data-references="T,CANONICAL-FFN-SYMBS-LST,UNKNOWN-CONSTRAINTS-SUPPORTERS,COLLECT-CANONICAL-SIBLINGS,UNKNOWN-CONSTRAINTS-P,COND,IGNORE,DECLARE,CONSTRAINT-INFO+,ORIGINS,X,NAME,MV-LET,GUARD,CANONICAL-FFN-SYMBS,GUARD-ANC,LET,RLP,WRLD,FN,DEFUN" data-used-by="SOME-CANONICAL-ANCESTORS-PATH,CANONICAL-ANCESTORS,CANONICAL-ANCESTORS-REC" data-part-name="IMMEDIATE-CANONICAL-ANCESTORS" data-part-args="RLP,WRLD,FN" data-part-body="T,CANONICAL-FFN-SYMBS-LST,UNKNOWN-CONSTRAINTS-SUPPORTERS,COLLECT-CANONICAL-SIBLINGS,UNKNOWN-CONSTRAINTS-P,COND,IGNORE,DECLARE,CONSTRAINT-INFO+,ORIGINS,X,NAME,MV-LET,RLP,WRLD,FN,GUARD,CANONICAL-FFN-SYMBS,GUARD-ANC,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="IMMEDIATE-CANONICAL-ANCESTORS">immediate-canonical-ancestors</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-immediate-canonical-ancestors" data-sym="IMMEDIATE-CANONICAL-ANCESTORS" title="(defun immediate-canonical-ancestors (fn wrld rlp)
  (let ((guard-anc (canonical-ffn-symbs (guard fn nil wrld) wrld nil fn rlp)))
    (mv-let (name x origins) (constraint-info+ fn wrld)
            (declare (ignore origins))
            (cond
...">immediate-canonical-ancestors</a>
  (fn wrld rlp)
  (let ((guard-anc (<a class="sym-link local-def" href="#def-canonical-ffn-symbs" data-sym="CANONICAL-FFN-SYMBS" title="(mutual-recursion
 (defun canonical-ffn-symbs (term wrld ans ign rlp)
   (cond ((variablep term) ans) ((fquotep term) ans)
         ((and rlp (eq (ffn-symb term) &#39;return-last)
               (not (equal (fargn term 1) &#39;&#39;mbe1-raw)))
...">canonical-ffn-symbs</a> (<a class="sym-link system" href="basis-b.html#def-guard" data-sym="GUARD">guard</a> fn nil wrld) wrld nil fn rlp)))
    (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (name x origins)
      (<a class="sym-link local-def" href="#def-constraint-info_2B" data-sym="CONSTRAINT-INFO+" title="(defun constraint-info+ (fn wrld)
  (let ((fns (getpropc fn &#39;recursivep nil wrld)))
    (cond
     ((and (consp fns) (consp (cdr fns)))
      (let ((constraint-lst-etc-pair
...">constraint-info+</a> fn wrld)
      (declare (ignore origins))
      (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="history-management.html#def-unknown-constraints-p" data-sym="UNKNOWN-CONSTRAINTS-P">unknown-constraints-p</a> x) (<a class="sym-link local-def" href="#def-collect-canonical-siblings" data-sym="COLLECT-CANONICAL-SIBLINGS" title="(defun collect-canonical-siblings (fns wrld ans ign)
  (cond ((endp fns) ans)
        (t
         (collect-canonical-siblings (cdr fns) wrld
                                     (let ((fn
...">collect-canonical-siblings</a> (<a class="sym-link system" href="history-management.html#def-unknown-constraints-supporters" data-sym="UNKNOWN-CONSTRAINTS-SUPPORTERS">unknown-constraints-supporters</a> x)
            wrld
            guard-anc
            fn))
        (name (canonical-ffn-symbs-lst x wrld guard-anc fn rlp))
        (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-canonical-ffn-symbs" data-sym="CANONICAL-FFN-SYMBS" title="(mutual-recursion
 (defun canonical-ffn-symbs (term wrld ans ign rlp)
   (cond ((variablep term) ans) ((fquotep term) ans)
         ((and rlp (eq (ffn-symb term) &#39;return-last)
               (not (equal (fargn term 1) &#39;&#39;mbe1-raw)))
...">canonical-ffn-symbs</a> x wrld guard-anc fn rlp))))))</pre>
  </div>

<div class="form-block function" id="def-canonical-ancestors-rec" data-defines="CANONICAL-ANCESTORS-REC" data-references="CDR,UNION-EQ,ADD-TO-SET-EQ,ANS2,CAR,IMMEDIATE-CANONICAL-ANCESTORS,IMM,LET*,T,NULL,COND,RLP,WRLD,FNS,DEFUN" data-used-by="CANONICAL-ANCESTORS-LST,CANONICAL-ANCESTORS" data-part-name="CANONICAL-ANCESTORS-REC" data-part-args="RLP,WRLD,FNS" data-part-body="CDR,UNION-EQ,ADD-TO-SET-EQ,CANONICAL-ANCESTORS-REC,ANS2,RLP,WRLD,CAR,IMMEDIATE-CANONICAL-ANCESTORS,IMM,LET*,T,FNS,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CANONICAL-ANCESTORS-REC">canonical-ancestors-rec</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-canonical-ancestors-rec" data-sym="CANONICAL-ANCESTORS-REC" title="(defun canonical-ancestors-rec (fns wrld rlp)
  (cond ((null fns) nil)
        (t
         (let* ((imm (immediate-canonical-ancestors (car fns) wrld rlp))
                (ans2 (canonical-ancestors-rec imm wrld rlp)))
...">canonical-ancestors-rec</a>
  (fns wrld rlp)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> fns) nil)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((imm (<a class="sym-link local-def" href="#def-immediate-canonical-ancestors" data-sym="IMMEDIATE-CANONICAL-ANCESTORS" title="(defun immediate-canonical-ancestors (fn wrld rlp)
  (let ((guard-anc (canonical-ffn-symbs (guard fn nil wrld) wrld nil fn rlp)))
    (mv-let (name x origins) (constraint-info+ fn wrld)
            (declare (ignore origins))
            (cond
...">immediate-canonical-ancestors</a> (car fns) wrld rlp)) (ans2 (<a class="sym-link local-def" href="#def-canonical-ancestors-rec" data-sym="CANONICAL-ANCESTORS-REC" title="(defun canonical-ancestors-rec (fns wrld rlp)
  (cond ((null fns) nil)
        (t
         (let* ((imm (immediate-canonical-ancestors (car fns) wrld rlp))
                (ans2 (canonical-ancestors-rec imm wrld rlp)))
...">canonical-ancestors-rec</a> imm wrld rlp)))
        (<a class="sym-link system" href="axioms.html#def-add-to-set-eq" data-sym="ADD-TO-SET-EQ">add-to-set-eq</a> (car fns)
          (<a class="sym-link system" href="axioms.html#def-union-eq" data-sym="UNION-EQ">union-eq</a> ans2 (<a class="sym-link local-def" href="#def-canonical-ancestors-rec" data-sym="CANONICAL-ANCESTORS-REC" title="(defun canonical-ancestors-rec (fns wrld rlp)
  (cond ((null fns) nil)
        (t
         (let* ((imm (immediate-canonical-ancestors (car fns) wrld rlp))
                (ans2 (canonical-ancestors-rec imm wrld rlp)))
...">canonical-ancestors-rec</a> (cdr fns) wrld rlp)))))))</pre>
  </div>

<div class="form-block function" id="def-canonical-ancestors" data-defines="CANONICAL-ANCESTORS" data-references="CANONICAL-ANCESTORS-REC,IMMEDIATE-CANONICAL-ANCESTORS,IMM,LET*,RLP,WRLD,FN,DEFUN" data-part-name="CANONICAL-ANCESTORS" data-part-args="RLP,WRLD,FN" data-part-body="CANONICAL-ANCESTORS-REC,RLP,WRLD,FN,IMMEDIATE-CANONICAL-ANCESTORS,IMM,LET*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CANONICAL-ANCESTORS">canonical-ancestors</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-canonical-ancestors" data-sym="CANONICAL-ANCESTORS" title="(defun canonical-ancestors (fn wrld rlp)
  (let* ((imm (immediate-canonical-ancestors fn wrld rlp)))
    (canonical-ancestors-rec imm wrld rlp)))">canonical-ancestors</a>
  (fn wrld rlp)
  (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((imm (<a class="sym-link local-def" href="#def-immediate-canonical-ancestors" data-sym="IMMEDIATE-CANONICAL-ANCESTORS" title="(defun immediate-canonical-ancestors (fn wrld rlp)
  (let ((guard-anc (canonical-ffn-symbs (guard fn nil wrld) wrld nil fn rlp)))
    (mv-let (name x origins) (constraint-info+ fn wrld)
            (declare (ignore origins))
            (cond
...">immediate-canonical-ancestors</a> fn wrld rlp)))
    (<a class="sym-link local-def" href="#def-canonical-ancestors-rec" data-sym="CANONICAL-ANCESTORS-REC" title="(defun canonical-ancestors-rec (fns wrld rlp)
  (cond ((null fns) nil)
        (t
         (let* ((imm (immediate-canonical-ancestors (car fns) wrld rlp))
                (ans2 (canonical-ancestors-rec imm wrld rlp)))
...">canonical-ancestors-rec</a> imm wrld rlp)))</pre>
  </div>

<div class="form-block function" id="def-canonical-ancestors-lst" data-defines="CANONICAL-ANCESTORS-LST" data-references="T,COLLECT-CANONICAL-SIBLINGS,CANONICAL-ANCESTORS-REC,WRLD,FNS,DEFUN" data-used-by="DEFAXIOM-FN,CHK-EVALUATOR-USE-IN-RULE" data-part-name="CANONICAL-ANCESTORS-LST" data-part-args="WRLD,FNS" data-part-body="T,WRLD,FNS,COLLECT-CANONICAL-SIBLINGS,CANONICAL-ANCESTORS-REC" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CANONICAL-ANCESTORS-LST">canonical-ancestors-lst</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-canonical-ancestors-lst" data-sym="CANONICAL-ANCESTORS-LST" title="(defun canonical-ancestors-lst (fns wrld)
  (canonical-ancestors-rec (collect-canonical-siblings fns wrld nil nil) wrld
                           t))">canonical-ancestors-lst</a>
  (fns wrld)
  (<a class="sym-link local-def" href="#def-canonical-ancestors-rec" data-sym="CANONICAL-ANCESTORS-REC" title="(defun canonical-ancestors-rec (fns wrld rlp)
  (cond ((null fns) nil)
        (t
         (let* ((imm (immediate-canonical-ancestors (car fns) wrld rlp))
                (ans2 (canonical-ancestors-rec imm wrld rlp)))
...">canonical-ancestors-rec</a> (<a class="sym-link local-def" href="#def-collect-canonical-siblings" data-sym="COLLECT-CANONICAL-SIBLINGS" title="(defun collect-canonical-siblings (fns wrld ans ign)
  (cond ((endp fns) ans)
        (t
         (collect-canonical-siblings (cdr fns) wrld
                                     (let ((fn
...">collect-canonical-siblings</a> fns wrld nil nil)
    wrld
    <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>))</pre>
  </div>

<div class="form-block other" id="form-156" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="basis-a.html#def-defrec" data-sym="DEFREC">defrec</a> transparent-rec names nil)</pre>
  </div>

<div class="form-block function" id="def-transparent-fn-p" data-defines="TRANSPARENT-FN-P" data-references="CONSTRAINEDP,QUOTE,GETPROPC,WEAK-TRANSPARENT-REC-P,CANONICAL-SIBLING,EQ,PLIST-WORLDP,SYMBOLP,AND,XARGS,DECLARE,WRLD,NAME,DEFUN" data-used-by="SOME-CANONICAL-ANCESTORS-TR-PATH,CANONICAL-ANCESTORS-TR-REC" data-part-name="TRANSPARENT-FN-P" data-part-args="WRLD,NAME" data-part-declare="CANONICAL-SIBLING,EQ,WRLD,PLIST-WORLDP,NAME,SYMBOLP,AND,XARGS,DECLARE" data-part-body="WRLD,CONSTRAINEDP,QUOTE,NAME,GETPROPC,WEAK-TRANSPARENT-REC-P" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="TRANSPARENT-FN-P">transparent-fn-p</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-transparent-fn-p" data-sym="TRANSPARENT-FN-P" title="(defun transparent-fn-p (name wrld)
  (declare
   (xargs :guard
    (and (symbolp name) (plist-worldp wrld)
         (eq (canonical-sibling name wrld) name))))">transparent-fn-p</a>
  (name wrld)
  (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (symbolp name)
        (<a class="sym-link system" href="axioms.html#def-plist-worldp" data-sym="PLIST-WORLDP">plist-worldp</a> wrld)
        (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link local-def" href="#def-canonical-sibling" data-sym="CANONICAL-SIBLING" title="(defun canonical-sibling (f wrld)
  (let ((sibs (getpropc f &#39;siblings nil wrld)))
    (cond (sibs (car sibs))
          (t
           (let ((sibs (getpropc f &#39;recursivep nil wrld)))">canonical-sibling</a> name wrld) name))))
  (weak-transparent-rec-p (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> name 'constrainedp nil wrld)))</pre>
  </div>

<div class="form-block function" id="def-immediate-canonical-ancestors-tr" data-defines="IMMEDIATE-CANONICAL-ANCESTORS-TR" data-references="CANONICAL-FFN-SYMBS-LST,UNKNOWN-CONSTRAINTS-SUPPORTERS,COLLECT-CANONICAL-SIBLINGS,UNKNOWN-CONSTRAINTS-P,IGNORE,DECLARE,CONSTRAINT-INFO+,ORIGINS,X,NAME,MV-LET,GUARD,CANONICAL-FFN-SYMBS,GUARD-ANC,T,CDR,CANONICAL-SIBLING,LIST,ATTACHMENT-PAIR,PAIR,LET,AND,COND,WRLD,TRP,FN,DEFUN" data-used-by="SOME-CANONICAL-ANCESTORS-TR-PATH,CANONICAL-ANCESTORS-TR-REC" data-part-name="IMMEDIATE-CANONICAL-ANCESTORS-TR" data-part-args="WRLD,TRP,FN" data-part-body="CANONICAL-FFN-SYMBS-LST,UNKNOWN-CONSTRAINTS-SUPPORTERS,COLLECT-CANONICAL-SIBLINGS,UNKNOWN-CONSTRAINTS-P,IGNORE,DECLARE,CONSTRAINT-INFO+,ORIGINS,X,NAME,MV-LET,GUARD,CANONICAL-FFN-SYMBS,GUARD-ANC,T,CDR,CANONICAL-SIBLING,LIST,WRLD,FN,ATTACHMENT-PAIR,PAIR,LET,TRP,AND,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="IMMEDIATE-CANONICAL-ANCESTORS-TR">immediate-canonical-ancestors-tr</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-immediate-canonical-ancestors-tr" data-sym="IMMEDIATE-CANONICAL-ANCESTORS-TR" title="(defun immediate-canonical-ancestors-tr (fn trp wrld)
  (cond
   ((and trp
         (let ((pair (attachment-pair fn wrld)))
           (and pair (list (canonical-sibling (cdr pair) wrld))))))
...">immediate-canonical-ancestors-tr</a>
  (fn trp wrld)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> trp
       (let ((pair (attachment-pair fn wrld)))
         (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> pair (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (<a class="sym-link local-def" href="#def-canonical-sibling" data-sym="CANONICAL-SIBLING" title="(defun canonical-sibling (f wrld)
  (let ((sibs (getpropc f &#39;siblings nil wrld)))
    (cond (sibs (car sibs))
          (t
           (let ((sibs (getpropc f &#39;recursivep nil wrld)))">canonical-sibling</a> (cdr pair) wrld))))))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((guard-anc (<a class="sym-link local-def" href="#def-canonical-ffn-symbs" data-sym="CANONICAL-FFN-SYMBS" title="(mutual-recursion
 (defun canonical-ffn-symbs (term wrld ans ign rlp)
   (cond ((variablep term) ans) ((fquotep term) ans)
         ((and rlp (eq (ffn-symb term) &#39;return-last)
               (not (equal (fargn term 1) &#39;&#39;mbe1-raw)))
...">canonical-ffn-symbs</a> (<a class="sym-link system" href="basis-b.html#def-guard" data-sym="GUARD">guard</a> fn nil wrld) wrld nil fn <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)))
        (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (name x origins)
          (<a class="sym-link local-def" href="#def-constraint-info_2B" data-sym="CONSTRAINT-INFO+" title="(defun constraint-info+ (fn wrld)
  (let ((fns (getpropc fn &#39;recursivep nil wrld)))
    (cond
     ((and (consp fns) (consp (cdr fns)))
      (let ((constraint-lst-etc-pair
...">constraint-info+</a> fn wrld)
          (declare (ignore origins))
          (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="history-management.html#def-unknown-constraints-p" data-sym="UNKNOWN-CONSTRAINTS-P">unknown-constraints-p</a> x) (<a class="sym-link local-def" href="#def-collect-canonical-siblings" data-sym="COLLECT-CANONICAL-SIBLINGS" title="(defun collect-canonical-siblings (fns wrld ans ign)
  (cond ((endp fns) ans)
        (t
         (collect-canonical-siblings (cdr fns) wrld
                                     (let ((fn
...">collect-canonical-siblings</a> (<a class="sym-link system" href="history-management.html#def-unknown-constraints-supporters" data-sym="UNKNOWN-CONSTRAINTS-SUPPORTERS">unknown-constraints-supporters</a> x)
                wrld
                guard-anc
                fn))
            (name (canonical-ffn-symbs-lst x wrld guard-anc fn <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>))
            (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-canonical-ffn-symbs" data-sym="CANONICAL-FFN-SYMBS" title="(mutual-recursion
 (defun canonical-ffn-symbs (term wrld ans ign rlp)
   (cond ((variablep term) ans) ((fquotep term) ans)
         ((and rlp (eq (ffn-symb term) &#39;return-last)
               (not (equal (fargn term 1) &#39;&#39;mbe1-raw)))
...">canonical-ffn-symbs</a> x wrld guard-anc fn <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>))))))))</pre>
  </div>

<div class="form-block function" id="def-canonical-ancestors-tr-rec" data-defines="CANONICAL-ANCESTORS-TR-REC" data-references="UNION-EQ,ADD-TO-SET-EQ,IF,CDR,ANS2,TR-LST2,ANS1,TR-LST1,MV-LET,IMMEDIATE-CANONICAL-ANCESTORS-TR,IMM,TRANSPARENT-FN-P,TRP,CAR,FN,LET*,T,MV,NULL,COND,WRLD,FNS,DEFUN" data-used-by="CANONICAL-ANCESTORS-TR-LST" data-part-name="CANONICAL-ANCESTORS-TR-REC" data-part-args="WRLD,FNS" data-part-body="UNION-EQ,ADD-TO-SET-EQ,IF,CDR,ANS2,TR-LST2,CANONICAL-ANCESTORS-TR-REC,ANS1,TR-LST1,MV-LET,IMMEDIATE-CANONICAL-ANCESTORS-TR,IMM,WRLD,TRANSPARENT-FN-P,TRP,CAR,FN,LET*,T,MV,FNS,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CANONICAL-ANCESTORS-TR-REC">canonical-ancestors-tr-rec</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-canonical-ancestors-tr-rec" data-sym="CANONICAL-ANCESTORS-TR-REC" title="(defun canonical-ancestors-tr-rec (fns wrld)
  (cond ((null fns) (mv nil nil))
        (t
         (let* ((fn (car fns))
                (trp (transparent-fn-p fn wrld))
...">canonical-ancestors-tr-rec</a>
  (fns wrld)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> fns) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil nil))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((fn (car fns)) (trp (<a class="sym-link local-def" href="#def-transparent-fn-p" data-sym="TRANSPARENT-FN-P" title="(defun transparent-fn-p (name wrld)
  (declare
   (xargs :guard
    (and (symbolp name) (plist-worldp wrld)
         (eq (canonical-sibling name wrld) name))))">transparent-fn-p</a> fn wrld))
          (imm (<a class="sym-link local-def" href="#def-immediate-canonical-ancestors-tr" data-sym="IMMEDIATE-CANONICAL-ANCESTORS-TR" title="(defun immediate-canonical-ancestors-tr (fn trp wrld)
  (cond
   ((and trp
         (let ((pair (attachment-pair fn wrld)))
           (and pair (list (canonical-sibling (cdr pair) wrld))))))
...">immediate-canonical-ancestors-tr</a> fn trp wrld)))
        (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (tr-lst1 ans1)
          (<a class="sym-link local-def" href="#def-canonical-ancestors-tr-rec" data-sym="CANONICAL-ANCESTORS-TR-REC" title="(defun canonical-ancestors-tr-rec (fns wrld)
  (cond ((null fns) (mv nil nil))
        (t
         (let* ((fn (car fns))
                (trp (transparent-fn-p fn wrld))
...">canonical-ancestors-tr-rec</a> imm wrld)
          (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (tr-lst2 ans2)
            (<a class="sym-link local-def" href="#def-canonical-ancestors-tr-rec" data-sym="CANONICAL-ANCESTORS-TR-REC" title="(defun canonical-ancestors-tr-rec (fns wrld)
  (cond ((null fns) (mv nil nil))
        (t
         (let* ((fn (car fns))
                (trp (transparent-fn-p fn wrld))
...">canonical-ancestors-tr-rec</a> (cdr fns) wrld)
            (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> (if trp
                (<a class="sym-link system" href="axioms.html#def-add-to-set-eq" data-sym="ADD-TO-SET-EQ">add-to-set-eq</a> fn (<a class="sym-link system" href="axioms.html#def-union-eq" data-sym="UNION-EQ">union-eq</a> tr-lst1 tr-lst2))
                (<a class="sym-link system" href="axioms.html#def-union-eq" data-sym="UNION-EQ">union-eq</a> tr-lst1 tr-lst2))
              (<a class="sym-link system" href="axioms.html#def-add-to-set-eq" data-sym="ADD-TO-SET-EQ">add-to-set-eq</a> fn (<a class="sym-link system" href="axioms.html#def-union-eq" data-sym="UNION-EQ">union-eq</a> ans1 ans2)))))))))</pre>
  </div>

<div class="form-block function" id="def-canonical-ancestors-tr-lst" data-defines="CANONICAL-ANCESTORS-TR-LST" data-references="COLLECT-CANONICAL-SIBLINGS,CANONICAL-ANCESTORS-TR-REC,WRLD,FNS,DEFUN" data-used-by="CHK-META-FN-ATTACHMENTS" data-part-name="CANONICAL-ANCESTORS-TR-LST" data-part-args="WRLD,FNS" data-part-body="WRLD,FNS,COLLECT-CANONICAL-SIBLINGS,CANONICAL-ANCESTORS-TR-REC" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CANONICAL-ANCESTORS-TR-LST">canonical-ancestors-tr-lst</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-canonical-ancestors-tr-lst" data-sym="CANONICAL-ANCESTORS-TR-LST" title="(defun canonical-ancestors-tr-lst (fns wrld)
  (canonical-ancestors-tr-rec (collect-canonical-siblings fns wrld nil nil)
                              wrld))">canonical-ancestors-tr-lst</a>
  (fns wrld)
  (<a class="sym-link local-def" href="#def-canonical-ancestors-tr-rec" data-sym="CANONICAL-ANCESTORS-TR-REC" title="(defun canonical-ancestors-tr-rec (fns wrld)
  (cond ((null fns) (mv nil nil))
        (t
         (let* ((fn (car fns))
                (trp (transparent-fn-p fn wrld))
...">canonical-ancestors-tr-rec</a> (<a class="sym-link local-def" href="#def-collect-canonical-siblings" data-sym="COLLECT-CANONICAL-SIBLINGS" title="(defun collect-canonical-siblings (fns wrld ans ign)
  (cond ((endp fns) ans)
        (t
         (collect-canonical-siblings (cdr fns) wrld
                                     (let ((fn
...">collect-canonical-siblings</a> fns wrld nil nil)
    wrld))</pre>
  </div>

<div class="form-block mutual-recursion" id="def-some-canonical-ancestors-tr-path" data-defines="SOME-CANONICAL-ANCESTORS-TR-PATH" data-references="CONS,AND,PATH,IMMEDIATE-CANONICAL-ANCESTORS-TR,IMM,TRANSPARENT-FN-P,TRP,LET*,LIST,EQ,TOP,CDR,CAR,CANONICAL-ANCESTORS-TR-PATH,OR,T,ENDP,COND,XARGS,DECLARE,WRLD,BTM,LST,DEFUN,MUTUAL-RECURSION" data-used-by="CHK-META-FN-ATTACHMENTS" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="SOME-CANONICAL-ANCESTORS-TR-PATH">some-canonical-ancestors-tr-path</span><span class="form-type">mutual-recursion</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-mutual-recursion" data-sym="MUTUAL-RECURSION">mutual-recursion</a> (<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-some-canonical-ancestors-tr-path" data-sym="SOME-CANONICAL-ANCESTORS-TR-PATH" title="(mutual-recursion
 (defun some-canonical-ancestors-tr-path (lst btm wrld)
   (declare (xargs :mode :program))
   (cond ((endp lst) nil)
         (t
...">some-canonical-ancestors-tr-path</a>
    (lst btm wrld)
    (declare (xargs <span class="keyword">:mode</span> <span class="keyword">:program</span>))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> lst) nil)
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (canonical-ancestors-tr-path (car lst) btm wrld)
          (<a class="sym-link local-def" href="#def-some-canonical-ancestors-tr-path" data-sym="SOME-CANONICAL-ANCESTORS-TR-PATH" title="(mutual-recursion
 (defun some-canonical-ancestors-tr-path (lst btm wrld)
   (declare (xargs :mode :program))
   (cond ((endp lst) nil)
         (t
...">some-canonical-ancestors-tr-path</a> (cdr lst) btm wrld)))))
  (<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> canonical-ancestors-tr-path
    (top btm wrld)
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> top btm) (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> top))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((trp (<a class="sym-link local-def" href="#def-transparent-fn-p" data-sym="TRANSPARENT-FN-P" title="(defun transparent-fn-p (name wrld)
  (declare
   (xargs :guard
    (and (symbolp name) (plist-worldp wrld)
         (eq (canonical-sibling name wrld) name))))">transparent-fn-p</a> top wrld)) (imm (<a class="sym-link local-def" href="#def-immediate-canonical-ancestors-tr" data-sym="IMMEDIATE-CANONICAL-ANCESTORS-TR" title="(defun immediate-canonical-ancestors-tr (fn trp wrld)
  (cond
   ((and trp
         (let ((pair (attachment-pair fn wrld)))
           (and pair (list (canonical-sibling (cdr pair) wrld))))))
...">immediate-canonical-ancestors-tr</a> top trp wrld))
            (path (<a class="sym-link local-def" href="#def-some-canonical-ancestors-tr-path" data-sym="SOME-CANONICAL-ANCESTORS-TR-PATH" title="(mutual-recursion
 (defun some-canonical-ancestors-tr-path (lst btm wrld)
   (declare (xargs :mode :program))
   (cond ((endp lst) nil)
         (t
...">some-canonical-ancestors-tr-path</a> imm btm wrld)))
          (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> path (cons top path)))))))</pre>
  </div>

<div class="form-block mutual-recursion" id="def-some-canonical-ancestors-path" data-defines="SOME-CANONICAL-ANCESTORS-PATH" data-references="CONS,AND,PATH,IMMEDIATE-CANONICAL-ANCESTORS,IMM,LET*,LIST,EQ,TOP,CDR,CAR,CANONICAL-ANCESTORS-PATH,OR,T,ENDP,COND,XARGS,DECLARE,WRLD,BTM,LST,DEFUN,MUTUAL-RECURSION" data-used-by="CHK-META-FN-ATTACHMENTS" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="SOME-CANONICAL-ANCESTORS-PATH">some-canonical-ancestors-path</span><span class="form-type">mutual-recursion</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-mutual-recursion" data-sym="MUTUAL-RECURSION">mutual-recursion</a> (<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-some-canonical-ancestors-path" data-sym="SOME-CANONICAL-ANCESTORS-PATH" title="(mutual-recursion
 (defun some-canonical-ancestors-path (lst btm wrld)
   (declare (xargs :mode :program))
   (cond ((endp lst) nil)
         (t
...">some-canonical-ancestors-path</a>
    (lst btm wrld)
    (declare (xargs <span class="keyword">:mode</span> <span class="keyword">:program</span>))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> lst) nil)
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (canonical-ancestors-path (car lst) btm wrld)
          (<a class="sym-link local-def" href="#def-some-canonical-ancestors-path" data-sym="SOME-CANONICAL-ANCESTORS-PATH" title="(mutual-recursion
 (defun some-canonical-ancestors-path (lst btm wrld)
   (declare (xargs :mode :program))
   (cond ((endp lst) nil)
         (t
...">some-canonical-ancestors-path</a> (cdr lst) btm wrld)))))
  (<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> canonical-ancestors-path
    (top btm wrld)
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> top btm) (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> top))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((imm (<a class="sym-link local-def" href="#def-immediate-canonical-ancestors" data-sym="IMMEDIATE-CANONICAL-ANCESTORS" title="(defun immediate-canonical-ancestors (fn wrld rlp)
  (let ((guard-anc (canonical-ffn-symbs (guard fn nil wrld) wrld nil fn rlp)))
    (mv-let (name x origins) (constraint-info+ fn wrld)
            (declare (ignore origins))
            (cond
...">immediate-canonical-ancestors</a> top wrld <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)) (path (<a class="sym-link local-def" href="#def-some-canonical-ancestors-path" data-sym="SOME-CANONICAL-ANCESTORS-PATH" title="(mutual-recursion
 (defun some-canonical-ancestors-path (lst btm wrld)
   (declare (xargs :mode :program))
   (cond ((endp lst) nil)
         (t
...">some-canonical-ancestors-path</a> imm btm wrld)))
          (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> path (cons top path)))))))</pre>
  </div>

<div class="form-block function" id="def-chk-meta-fn-attachments" data-defines="CHK-META-FN-ATTACHMENTS" data-references="UNION-EQ,CONS,VALUE,REVERSE,AND,T,CDR,NOT,SOFT,ER,SOME-CANONICAL-ANCESTORS-PATH,E-PATH,COLLECT-CANONICAL-SIBLINGS,SOME-CANONICAL-ANCESTORS-TR-PATH,M-PATH,CAR,CANONICAL-SIBLING,BTM,EQ,IF,TYPE-STRING,MSG,OR,COND,BAD-ATTACHED-FNS-2,COMMON-ANC-2,ATTACHED-FNS,BAD-ATTACHED-FNS-1,INTERSECTION-EQ,COMMON-ANC-1,LET*,CANONICAL-ANCESTORS-TR-LST,META-ANC,TR-FNS,MV-LET,STATE,WRLD,CTX,NEWP,EV-FNS,EXTRA-ANC,EV-ANC,META-FN-LST,RULE-CLASS,NAME,DEFUN" data-used-by="CHK-EVALUATOR-USE-IN-RULE" data-part-name="CHK-META-FN-ATTACHMENTS" data-part-args="STATE,WRLD,CTX,NEWP,EV-FNS,EXTRA-ANC,EV-ANC,META-FN-LST,RULE-CLASS,NAME" data-part-body="UNION-EQ,CONS,VALUE,REVERSE,AND,T,CDR,NOT,NAME,NEWP,CTX,SOFT,ER,EV-FNS,SOME-CANONICAL-ANCESTORS-PATH,E-PATH,COLLECT-CANONICAL-SIBLINGS,SOME-CANONICAL-ANCESTORS-TR-PATH,M-PATH,CAR,CANONICAL-SIBLING,BTM,RULE-CLASS,EQ,IF,TYPE-STRING,MSG,OR,COND,BAD-ATTACHED-FNS-2,EXTRA-ANC,COMMON-ANC-2,ATTACHED-FNS,BAD-ATTACHED-FNS-1,EV-ANC,INTERSECTION-EQ,COMMON-ANC-1,LET*,WRLD,META-FN-LST,CANONICAL-ANCESTORS-TR-LST,META-ANC,TR-FNS,MV-LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CHK-META-FN-ATTACHMENTS">chk-meta-fn-attachments</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-chk-meta-fn-attachments" data-sym="CHK-META-FN-ATTACHMENTS" title="(defun chk-meta-fn-attachments
       (name rule-class meta-fn-lst ev-anc extra-anc ev-fns newp ctx wrld
        state)
  (mv-let (tr-fns meta-anc) (canonical-ancestors-tr-lst meta-fn-lst wrld)
          (let* ((common-anc-1 (intersection-eq ev-anc meta-anc))
...">chk-meta-fn-attachments</a>
  (name rule-class
    meta-fn-lst
    ev-anc
    extra-anc
    ev-fns
    newp
    ctx
    wrld
    state)
  (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (tr-fns meta-anc)
    (<a class="sym-link local-def" href="#def-canonical-ancestors-tr-lst" data-sym="CANONICAL-ANCESTORS-TR-LST" title="(defun canonical-ancestors-tr-lst (fns wrld)
  (canonical-ancestors-tr-rec (collect-canonical-siblings fns wrld nil nil)
                              wrld))">canonical-ancestors-tr-lst</a> meta-fn-lst wrld)
    (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((common-anc-1 (<a class="sym-link system" href="axioms.html#def-intersection-eq" data-sym="INTERSECTION-EQ">intersection-eq</a> ev-anc meta-anc)) (bad-attached-fns-1 (<a class="sym-link local-def" href="#def-attached-fns" data-sym="ATTACHED-FNS" title="(defun attached-fns (fns wrld)
  (cond ((endp fns) nil)
        (t
         (let ((prop (attachment-alist (car fns) wrld)))
           (cond
...">attached-fns</a> common-anc-1 wrld))
        (common-anc-2 (<a class="sym-link system" href="axioms.html#def-intersection-eq" data-sym="INTERSECTION-EQ">intersection-eq</a> extra-anc meta-anc))
        (bad-attached-fns-2 (<a class="sym-link local-def" href="#def-attached-fns" data-sym="ATTACHED-FNS" title="(defun attached-fns (fns wrld)
  (cond ((endp fns) nil)
        (t
         (let ((prop (attachment-alist (car fns) wrld)))
           (cond
...">attached-fns</a> common-anc-2 wrld)))
      (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> bad-attached-fns-1 bad-attached-fns-2) (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"because the attached function~#0~[~/s~] ~&amp;0 ~
                     ~#1~[is~/are~/would be~] ancestral in both the ~@2 and ~
                     ~@3 functions"</span>) (type-string (if (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> rule-class <span class="keyword">:meta</span>)
                  <span class="string">"meta"</span>
                  <span class="string">"clause-processor"</span>))
              (btm (<a class="sym-link local-def" href="#def-canonical-sibling" data-sym="CANONICAL-SIBLING" title="(defun canonical-sibling (f wrld)
  (let ((sibs (getpropc f &#39;siblings nil wrld)))
    (cond (sibs (car sibs))
          (t
           (let ((sibs (getpropc f &#39;recursivep nil wrld)))">canonical-sibling</a> (car (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> bad-attached-fns-1 bad-attached-fns-2))
                  wrld))
              (m-path (<a class="sym-link local-def" href="#def-some-canonical-ancestors-tr-path" data-sym="SOME-CANONICAL-ANCESTORS-TR-PATH" title="(mutual-recursion
 (defun some-canonical-ancestors-tr-path (lst btm wrld)
   (declare (xargs :mode :program))
   (cond ((endp lst) nil)
         (t
...">some-canonical-ancestors-tr-path</a> (<a class="sym-link local-def" href="#def-collect-canonical-siblings" data-sym="COLLECT-CANONICAL-SIBLINGS" title="(defun collect-canonical-siblings (fns wrld ans ign)
  (cond ((endp fns) ans)
        (t
         (collect-canonical-siblings (cdr fns) wrld
                                     (let ((fn
...">collect-canonical-siblings</a> meta-fn-lst wrld nil nil)
                  btm
                  wrld))
              (e-path (<a class="sym-link local-def" href="#def-some-canonical-ancestors-path" data-sym="SOME-CANONICAL-ANCESTORS-PATH" title="(mutual-recursion
 (defun some-canonical-ancestors-path (lst btm wrld)
   (declare (xargs :mode :program))
   (cond ((endp lst) nil)
         (t
...">some-canonical-ancestors-path</a> ev-fns btm wrld)))
            (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
              ctx
              <span class="string">"The ~#0~[proposed~/existing~] ~x1 rule, ~x2, ~#0~[is ~
               illegal~/would become illegal after the proposed defattach ~
               event changes one or more attachments made to transparent ~
               functions,~] ~@3~@4.  See :DOC evaluator-restrictions and see ~
               :DOC transparent-functions.~@5~@6"</span>
              (if newp
                <span class="number">0</span>
                <span class="number">1</span>)
              rule-class
              name
              (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a>
                (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> bad-attached-fns-1 bad-attached-fns-2)
                (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> newp) <span class="number">2</span>)
                  ((cdr (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> bad-attached-fns-1 bad-attached-fns-2)) <span class="number">1</span>)
                  (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <span class="number">0</span>))
                (if bad-attached-fns-1
                  <span class="string">"evaluator"</span>
                  <span class="string">"meta-extract"</span>)
                type-string)
              (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> bad-attached-fns-1 bad-attached-fns-2) (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">", and ~@0"</span>
                    (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a>
                      bad-attached-fns-2
                      (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> newp) <span class="number">2</span>) ((cdr bad-attached-fns-2) <span class="number">1</span>) (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <span class="number">0</span>))
                      <span class="string">"meta-extract"</span>
                      type-string)))
                (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <span class="string">""</span>))
              (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"~|~%The following ~#0~[is~/would be~] an ancestor path ~
                    from ~x1 to the ~s2 function ~x3, i.e., each function ~
                    symbol ~#0~[is~/would be~] a supporter of the ~
                    next:~|~%~X45"</span>
                (if newp
                  <span class="number">0</span>
                  <span class="number">1</span>)
                btm
                type-string
                (car m-path)
                (<a class="sym-link system" href="axioms.html#def-reverse" data-sym="REVERSE">reverse</a> m-path)
                nil)
              (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"~|~%The following ~#0~[is~/would be~] an ancestor path ~
                    from ~x1 to the evaluator function ~x2, i.e., each ~
                    function symbol ~#0~[is~/would be~] a supporter of the ~
                    next:~|~%~X34"</span>
                (if newp
                  <span class="number">0</span>
                  <span class="number">1</span>)
                btm
                (car e-path)
                (<a class="sym-link system" href="axioms.html#def-reverse" data-sym="REVERSE">reverse</a> e-path)
                nil))))
        (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> tr-fns common-anc-2 common-anc-1)
              (cons tr-fns (<a class="sym-link system" href="axioms.html#def-union-eq" data-sym="UNION-EQ">union-eq</a> common-anc-2 common-anc-1)))))))))</pre>
  </div>

<div class="form-block function" id="def-chk-evaluator-use-in-rule" data-defines="CHK-EVALUATOR-USE-IN-RULE" data-references="CDR,CAR,EVALUATOR-CHECK-FOR-RULE,ADD-TO-TAG-TREE,CHK-META-FN-ATTACHMENTS,TR-FNS/COMMON-ANC,CONS,COLLECT-CANONICAL-SIBLINGS,EV-FNS,ER-LET*,META-EXTRACT-GLOBAL-FACT+,META-EXTRACT-CONTEXTUAL-FACT,PREDEFINED,OR,AND,EV-ANC,CANONICAL-ANCESTORS-LST,EXTRA-ANC,LIST,IF,META-FN-LST,EV-LST-PROP,DEFAXIOM-SUPPORTER,GETPROPC,EV-PROP,EV-LST-FROM-EV,EV-LST,LET*,T,UNKNOWN-CONSTRAINTS-P,COND,IGNORE,DECLARE,CONSTRAINT-INFO,ORIGINS,CONSTRAINT,FN,MV-LET,OTHERWISE,VALUE,WARNING$,PPROGN,MAYBE,SOFT,ER,ILLEGAL,CASE,IN-LOCAL-FLG,QUOTE,F-GET-GLOBAL,DECODE-LOGICAL-NAME,CONTEXT-FOR-ENCAPSULATE-PASS-2,TEMP,LET,ER-PROGN,STATE,WRLD,CTX,EV,RULE-CLASS,EXTRA-FNS,HYP-FN,META-FN,NAME,DEFUN" data-used-by="CHK-ACCEPTABLE-CLAUSE-PROCESSOR-RULE,CHK-ACCEPTABLE-META-RULE" data-part-name="CHK-EVALUATOR-USE-IN-RULE" data-part-args="STATE,WRLD,CTX,EV,RULE-CLASS,EXTRA-FNS,HYP-FN,META-FN,NAME" data-part-body="CDR,CAR,EVALUATOR-CHECK-FOR-RULE,ADD-TO-TAG-TREE,CHK-META-FN-ATTACHMENTS,TR-FNS/COMMON-ANC,CONS,COLLECT-CANONICAL-SIBLINGS,EV-FNS,ER-LET*,META-EXTRACT-GLOBAL-FACT+,META-EXTRACT-CONTEXTUAL-FACT,PREDEFINED,OR,AND,EV-ANC,EXTRA-FNS,CANONICAL-ANCESTORS-LST,EXTRA-ANC,META-FN,LIST,HYP-FN,IF,META-FN-LST,EV-LST-PROP,DEFAXIOM-SUPPORTER,GETPROPC,EV-PROP,EV-LST-FROM-EV,EV-LST,LET*,T,UNKNOWN-CONSTRAINTS-P,COND,IGNORE,DECLARE,CONSTRAINT-INFO,ORIGINS,CONSTRAINT,FN,MV-LET,OTHERWISE,VALUE,WARNING$,PPROGN,MAYBE,NAME,RULE-CLASS,CTX,SOFT,ER,ILLEGAL,CASE,STATE,IN-LOCAL-FLG,QUOTE,F-GET-GLOBAL,WRLD,EV,DECODE-LOGICAL-NAME,CONTEXT-FOR-ENCAPSULATE-PASS-2,TEMP,LET,ER-PROGN" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CHK-EVALUATOR-USE-IN-RULE">chk-evaluator-use-in-rule</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-chk-evaluator-use-in-rule" data-sym="CHK-EVALUATOR-USE-IN-RULE" title="(defun chk-evaluator-use-in-rule
       (name meta-fn hyp-fn extra-fns rule-class ev ctx wrld state)
  (er-progn
   (let ((temp
          (context-for-encapsulate-pass-2 (decode-logical-name ev wrld)
...">chk-evaluator-use-in-rule</a>
  (name meta-fn hyp-fn extra-fns rule-class ev ctx wrld state)
  (<a class="sym-link system" href="axioms.html#def-er-progn" data-sym="ER-PROGN">er-progn</a> (let ((temp (context-for-encapsulate-pass-2 (<a class="sym-link system" href="rewrite.html#def-decode-logical-name" data-sym="DECODE-LOGICAL-NAME">decode-logical-name</a> ev wrld)
           (<a class="sym-link system" href="axioms.html#def-f-get-global" data-sym="F-GET-GLOBAL">f-get-global</a> 'in-local-flg state))))
      (<a class="sym-link system" href="axioms.html#def-case" data-sym="CASE">case</a> temp
        (<a class="sym-link system" href="axioms.html#def-illegal" data-sym="ILLEGAL">illegal</a> (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
            ctx
            <span class="string">"The proposed ~x0 rule, ~x1, is illegal because its evaluator ~
             function symbol, ~x2, is defined in a superior non-trivial ~
             encapsulate event (``non-trivial&#39;&#39; in the sense that it has a ~
             non-empty signature).  See :DOC evaluator-restrictions.  In some ~
             cases, a solution is to make the current ~x0 rule LOCAL, though ~
             the alleged evaluator will probably not be available for future ~
             :META or :CLAUSE-PROCESSOR rules."</span>
            rule-class
            name
            ev))
        (maybe (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link system" href="axioms.html#def-warning_24" data-sym="WARNING$">warning$</a> ctx
              nil
              <span class="string">"The proposed ~x0 rule will ultimately need to be LOCAL in ~
                    its immediately surrounding encapsulate event, because ~
                    its evaluator is introduced in a superior non-trivial ~
                    encapsulate event.  Even if this rule is LOCAL, the ~
                    alleged evaluator will probably not be available for ~
                    future :META or :CLAUSE-PROCESSOR rules. See :DOC ~
                    evaluator-restrictions."</span>
              rule-class
              name
              ev)
            (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil)))
        (otherwise (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil))))
    (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (fn constraint origins)
      (<a class="sym-link system" href="history-management.html#def-constraint-info" data-sym="CONSTRAINT-INFO">constraint-info</a> ev wrld)
      (declare (ignore fn origins))
      (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="history-management.html#def-unknown-constraints-p" data-sym="UNKNOWN-CONSTRAINTS-P">unknown-constraints-p</a> constraint) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
            ctx
            <span class="string">"The proposed ~x0 rule, ~x1, is illegal because its evaluator ~
            function symbol, ~x2, has unknown-constraints.  See :DOC ~
            partial-encapsulate."</span>
            rule-class
            name
            ev))
        (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((ev-lst (<a class="sym-link local-def" href="#def-ev-lst-from-ev" data-sym="EV-LST-FROM-EV" title="(defun ev-lst-from-ev (ev wrld)
  (guess-evfn-lst-for-evfn ev (normalized-evaluator-cl-set ev wrld)))">ev-lst-from-ev</a> ev wrld)) (ev-prop (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> ev 'defaxiom-supporter nil wrld))
              (ev-lst-prop (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> ev-lst 'defaxiom-supporter nil wrld))
              (meta-fn-lst (if hyp-fn
                  (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> meta-fn hyp-fn)
                  (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> meta-fn)))
              (extra-anc (<a class="sym-link local-def" href="#def-canonical-ancestors-lst" data-sym="CANONICAL-ANCESTORS-LST" title="(defun canonical-ancestors-lst (fns wrld)
  (canonical-ancestors-rec (collect-canonical-siblings fns wrld nil nil) wrld
                           t))">canonical-ancestors-lst</a> extra-fns wrld))
              (ev-anc (<a class="sym-link local-def" href="#def-canonical-ancestors-lst" data-sym="CANONICAL-ANCESTORS-LST" title="(defun canonical-ancestors-lst (fns wrld)
  (canonical-ancestors-rec (collect-canonical-siblings fns wrld nil nil) wrld
                           t))">canonical-ancestors-lst</a> (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> ev) wrld)))
            (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> extra-fns
                 (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> ev 'predefined nil wrld)
                   (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> ev-lst 'predefined nil wrld))) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                  ctx
                  <span class="string">"The proposed evaluator function, ~x0, was defined in the ~
                boot-strap world.  This is illegal when meta-extract ~
                hypotheses are present, because for logical reasons our ~
                implementation assumes that the evaluator is not ancestral in ~
                ~v1."</span>
                  (if (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> ev 'predefined nil wrld)
                    ev
                    ev-lst)
                  '(meta-extract-contextual-fact meta-extract-global-fact+)))
              ((<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> ev-prop ev-lst-prop) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                  ctx
                  <span class="string">"The proposed ~x0 rule, ~x1, is illegal because its evaluator ~
                function symbol, ~x2, supports the formula of the defaxiom ~
                event named ~x3.  See :DOC evaluator-restrictions."</span>
                  rule-class
                  name
                  (if ev-prop
                    ev
                    ev-lst)
                  (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> ev-prop ev-lst-prop)))
              (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="basis-b.html#def-er-let_2A" data-sym="ER-LET*">er-let*</a> ((ev-fns (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (<a class="sym-link local-def" href="#def-collect-canonical-siblings" data-sym="COLLECT-CANONICAL-SIBLINGS" title="(defun collect-canonical-siblings (fns wrld ans ign)
  (cond ((endp fns) ans)
        (t
         (collect-canonical-siblings (cdr fns) wrld
                                     (let ((fn
...">collect-canonical-siblings</a> (cons ev extra-fns)
                         wrld
                         nil
                         nil))) (tr-fns/common-anc (<a class="sym-link local-def" href="#def-chk-meta-fn-attachments" data-sym="CHK-META-FN-ATTACHMENTS" title="(defun chk-meta-fn-attachments
       (name rule-class meta-fn-lst ev-anc extra-anc ev-fns newp ctx wrld
        state)
  (mv-let (tr-fns meta-anc) (canonical-ancestors-tr-lst meta-fn-lst wrld)
          (let* ((common-anc-1 (intersection-eq ev-anc meta-anc))
...">chk-meta-fn-attachments</a> name
                        rule-class
                        meta-fn-lst
                        ev-anc
                        extra-anc
                        ev-fns
                        <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
                        ctx
                        wrld
                        state)))
                  (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (tr-fns/common-anc (add-to-tag-tree 'evaluator-check-for-rule
                          (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (car tr-fns/common-anc)
                            (cdr tr-fns/common-anc)
                            rule-class
                            meta-fn-lst
                            ev-anc
                            extra-anc
                            ev-fns)
                          nil))
                      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> nil))))))))))))</pre>
  </div>

<div class="form-block function" id="def-chk-rule-fn-guard" data-defines="CHK-RULE-FN-GUARD" data-references="UNTRANSLATE,SOFT,VALUE,FORMALS,CAR,IMPLIES,FCONS-TERM*,TAUTOLOGYP,*T*,EQUAL,OR,COND,HARD,ER,PSEUDO-TERM-LISTP,PSEUDO-TERMP,QUOTE,CASE,PSEUDO-TERMP-PREDICATE,T,GUARD,LET,STATE,WRLD,CTX,FN,RULE-TYPE,FUNCTION-STRING,DEFUN" data-used-by="CHK-ACCEPTABLE-CLAUSE-PROCESSOR-RULE,CHK-ACCEPTABLE-META-RULE" data-part-name="CHK-RULE-FN-GUARD" data-part-args="STATE,WRLD,CTX,FN,RULE-TYPE,FUNCTION-STRING" data-part-body="UNTRANSLATE,FUNCTION-STRING,CTX,SOFT,VALUE,FORMALS,CAR,IMPLIES,FCONS-TERM*,TAUTOLOGYP,*T*,EQUAL,OR,COND,CHK-RULE-FN-GUARD,HARD,ER,PSEUDO-TERM-LISTP,PSEUDO-TERMP,QUOTE,RULE-TYPE,CASE,PSEUDO-TERMP-PREDICATE,WRLD,T,FN,GUARD,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CHK-RULE-FN-GUARD">chk-rule-fn-guard</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-chk-rule-fn-guard" data-sym="CHK-RULE-FN-GUARD" title="(defun chk-rule-fn-guard (function-string rule-type fn ctx wrld state)
  (let ((guard (guard fn t wrld))
        (pseudo-termp-predicate
         (case rule-type
           (:meta &#39;pseudo-termp)
...">chk-rule-fn-guard</a>
  (function-string rule-type fn ctx wrld state)
  (let ((<a class="sym-link system" href="basis-b.html#def-guard" data-sym="GUARD">guard</a> (<a class="sym-link system" href="basis-b.html#def-guard" data-sym="GUARD">guard</a> fn <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> wrld)) (pseudo-termp-predicate (<a class="sym-link system" href="axioms.html#def-case" data-sym="CASE">case</a> rule-type
          (<span class="keyword">:meta</span> '<a class="sym-link system" href="axioms.html#def-pseudo-termp" data-sym="PSEUDO-TERMP">pseudo-termp</a>)
          (<span class="keyword">:clause-processor</span> 'pseudo-term-listp)
          (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> hard
              '<a class="sym-link local-def" href="#def-chk-rule-fn-guard" data-sym="CHK-RULE-FN-GUARD" title="(defun chk-rule-fn-guard (function-string rule-type fn ctx wrld state)
  (let ((guard (guard fn t wrld))
        (pseudo-termp-predicate
         (case rule-type
           (:meta &#39;pseudo-termp)
...">chk-rule-fn-guard</a>
              <span class="string">"Implementation error: unknown case in chk-rule-fn-guard. ~
                   Please contact the ACL2 implementors."</span>)))))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (equal <a class="sym-link system" href="basis-b.html#def-guard" data-sym="GUARD">guard</a> <a class="sym-link system" href="axioms.html#def-_2At_2A" data-sym="*T*">*t*</a>)
         (<a class="sym-link system" href="rewrite.html#def-tautologyp" data-sym="TAUTOLOGYP">tautologyp</a> (<a class="sym-link system" href="axioms.html#def-fcons-term_2A" data-sym="FCONS-TERM*">fcons-term*</a> '<a class="sym-link system" href="axioms.html#def-implies" data-sym="IMPLIES">implies</a>
             (<a class="sym-link system" href="axioms.html#def-fcons-term_2A" data-sym="FCONS-TERM*">fcons-term*</a> pseudo-termp-predicate (car (<a class="sym-link system" href="basis-b.html#def-formals" data-sym="FORMALS">formals</a> fn wrld)))
             <a class="sym-link system" href="basis-b.html#def-guard" data-sym="GUARD">guard</a>)
           wrld)) (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
          ctx
          <span class="string">"The ~s0 of a ~x1 rule must have a guard that obviously ~
                  holds whenever its first argument is known to be a ~x2 and ~
                  any stobj arguments are assumed to satisfy their stobj ~
                  predicates.  However, the guard for ~x3 is ~p4.  See :DOC ~
                  ~@5."</span>
          function-string
          rule-type
          pseudo-termp-predicate
          fn
          (untranslate <a class="sym-link system" href="basis-b.html#def-guard" data-sym="GUARD">guard</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> wrld)
          (<a class="sym-link system" href="axioms.html#def-case" data-sym="CASE">case</a> rule-type
            (<span class="keyword">:meta</span> <span class="string">"meta"</span>)
            (<span class="keyword">:clause-processor</span> <span class="string">"clause-processor"</span>)
            (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> hard
                '<a class="sym-link local-def" href="#def-chk-rule-fn-guard" data-sym="CHK-RULE-FN-GUARD" title="(defun chk-rule-fn-guard (function-string rule-type fn ctx wrld state)
  (let ((guard (guard fn t wrld))
        (pseudo-termp-predicate
         (case rule-type
           (:meta &#39;pseudo-termp)
...">chk-rule-fn-guard</a>
                <span class="string">"Implementation error: unknown case in ~
                           chk-rule-fn-guard.  Please contact the ACL2 ~
                           implementors."</span>))))))))</pre>
  </div>

<div class="form-block function" id="def-add-new-never-untouchable-fns" data-defines="ADD-NEW-NEVER-UNTOUCHABLE-FNS" data-references="ASSOC-EQ,ADD-TO-SET-EQUAL,CAR,PUT-ASSOC-EQ,CDR,T,ENDP,COND,NEVER-UNTOUCHABLE-FNS,WELL-FORMEDNESS-GUARANTEE,FNS,DEFUN" data-used-by="ADD-META-RULE" data-part-name="ADD-NEW-NEVER-UNTOUCHABLE-FNS" data-part-args="NEVER-UNTOUCHABLE-FNS,WELL-FORMEDNESS-GUARANTEE,FNS" data-part-body="ASSOC-EQ,ADD-TO-SET-EQUAL,CAR,PUT-ASSOC-EQ,WELL-FORMEDNESS-GUARANTEE,CDR,ADD-NEW-NEVER-UNTOUCHABLE-FNS,T,NEVER-UNTOUCHABLE-FNS,FNS,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ADD-NEW-NEVER-UNTOUCHABLE-FNS">add-new-never-untouchable-fns</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-add-new-never-untouchable-fns" data-sym="ADD-NEW-NEVER-UNTOUCHABLE-FNS" title="(defun add-new-never-untouchable-fns
       (fns well-formedness-guarantee never-untouchable-fns)
  (cond ((endp fns) never-untouchable-fns)
        (t
         (add-new-never-untouchable-fns (cdr fns) well-formedness-guarantee
...">add-new-never-untouchable-fns</a>
  (fns well-formedness-guarantee never-untouchable-fns)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> fns) never-untouchable-fns)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-add-new-never-untouchable-fns" data-sym="ADD-NEW-NEVER-UNTOUCHABLE-FNS" title="(defun add-new-never-untouchable-fns
       (fns well-formedness-guarantee never-untouchable-fns)
  (cond ((endp fns) never-untouchable-fns)
        (t
         (add-new-never-untouchable-fns (cdr fns) well-formedness-guarantee
...">add-new-never-untouchable-fns</a> (cdr fns)
        well-formedness-guarantee
        (<a class="sym-link system" href="axioms.html#def-put-assoc-eq" data-sym="PUT-ASSOC-EQ">put-assoc-eq</a> (car fns)
          (<a class="sym-link system" href="axioms.html#def-add-to-set-equal" data-sym="ADD-TO-SET-EQUAL">add-to-set-equal</a> well-formedness-guarantee
            (cdr (<a class="sym-link system" href="axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a> (car fns) never-untouchable-fns)))
          never-untouchable-fns)))))</pre>
  </div>

<div class="form-block function" id="def-collect-never-untouchable-fns-entries" data-defines="COLLECT-NEVER-UNTOUCHABLE-FNS-ENTRIES" data-references="CDR,CONS,CAR,ASSOC-EQ,ENTRY,LET,T,ENDP,COND,NEVER-UNTOUCHABLE-FNS,FNS,DEFUN" data-part-name="COLLECT-NEVER-UNTOUCHABLE-FNS-ENTRIES" data-part-args="NEVER-UNTOUCHABLE-FNS,FNS" data-part-body="CDR,COLLECT-NEVER-UNTOUCHABLE-FNS-ENTRIES,CONS,NEVER-UNTOUCHABLE-FNS,CAR,ASSOC-EQ,ENTRY,LET,T,FNS,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="COLLECT-NEVER-UNTOUCHABLE-FNS-ENTRIES">collect-never-untouchable-fns-entries</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-collect-never-untouchable-fns-entries" data-sym="COLLECT-NEVER-UNTOUCHABLE-FNS-ENTRIES" title="(defun collect-never-untouchable-fns-entries (fns never-untouchable-fns)
  (cond ((endp fns) nil)
        (t
         (let ((entry (assoc-eq (car fns) never-untouchable-fns)))
           (cond
...">collect-never-untouchable-fns-entries</a>
  (fns never-untouchable-fns)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> fns) nil)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((entry (<a class="sym-link system" href="axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a> (car fns) never-untouchable-fns)))
        (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (entry (cons entry
              (<a class="sym-link local-def" href="#def-collect-never-untouchable-fns-entries" data-sym="COLLECT-NEVER-UNTOUCHABLE-FNS-ENTRIES" title="(defun collect-never-untouchable-fns-entries (fns never-untouchable-fns)
  (cond ((endp fns) nil)
        (t
         (let ((entry (assoc-eq (car fns) never-untouchable-fns)))
           (cond
...">collect-never-untouchable-fns-entries</a> (cdr fns)
                never-untouchable-fns)))
          (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-collect-never-untouchable-fns-entries" data-sym="COLLECT-NEVER-UNTOUCHABLE-FNS-ENTRIES" title="(defun collect-never-untouchable-fns-entries (fns never-untouchable-fns)
  (cond ((endp fns) nil)
        (t
         (let ((entry (assoc-eq (car fns) never-untouchable-fns)))
           (cond
...">collect-never-untouchable-fns-entries</a> (cdr fns)
              never-untouchable-fns)))))))</pre>
  </div>

<div class="form-block function" id="def-interpret-term-as-meta-rule" data-defines="INTERPRET-TERM-AS-META-RULE" data-references="&,STATE,MFC-SYMBOL,*T*,MV,FN,A,X,EV,EQV,HYP,IMPLIES,QUOTE,CASE-MATCH,TERM,DEFUN" data-used-by="RECOVER-METAFUNCTION-OR-CLAUSE-PROCESSOR-SIGNATURES,ADD-META-RULE,CHK-ACCEPTABLE-META-RULE" data-part-name="INTERPRET-TERM-AS-META-RULE" data-part-args="TERM" data-part-body="&,STATE,MFC-SYMBOL,*T*,MV,FN,A,X,EV,EQV,HYP,IMPLIES,QUOTE,TERM,CASE-MATCH" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="INTERPRET-TERM-AS-META-RULE">interpret-term-as-meta-rule</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-interpret-term-as-meta-rule" data-sym="INTERPRET-TERM-AS-META-RULE" title="(defun interpret-term-as-meta-rule (term)
  (case-match term
              ((&#39;implies hyp (eqv (ev x a) (ev (fn x) a)))
               (mv hyp eqv ev x a fn nil))
              ((eqv (ev x a) (ev (fn x) a)) (mv *t* eqv ev x a fn nil))
...">interpret-term-as-meta-rule</a>
  (term)
  (<a class="sym-link system" href="basis-a.html#def-case-match" data-sym="CASE-MATCH">case-match</a> term
    (('<a class="sym-link system" href="axioms.html#def-implies" data-sym="IMPLIES">implies</a> hyp (eqv (ev x a) (ev (fn x) a))) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> hyp eqv ev x a fn nil))
    ((eqv (ev x a) (ev (fn x) a)) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> <a class="sym-link system" href="axioms.html#def-_2At_2A" data-sym="*T*">*t*</a> eqv ev x a fn nil))
    (('<a class="sym-link system" href="axioms.html#def-implies" data-sym="IMPLIES">implies</a> hyp
       (eqv (ev x a) (ev (fn x mfc-symbol 'state) a))) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> hyp eqv ev x a fn mfc-symbol))
    ((eqv (ev x a) (ev (fn x mfc-symbol 'state) a)) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> <a class="sym-link system" href="axioms.html#def-_2At_2A" data-sym="*T*">*t*</a> eqv ev x a fn mfc-symbol))
    (&amp; (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> <a class="sym-link system" href="axioms.html#def-_2At_2A" data-sym="*T*">*t*</a> nil nil nil nil nil nil))))</pre>
  </div>

<div class="form-block function" id="def-chk-non-local-in-non-trivial-encapsulate" data-defines="CHK-NON-LOCAL-IN-NON-TRIVIAL-ENCAPSULATE" data-references="VALUE,T,IF,EMBEDDED-EVENT-LST,GLOBAL-VAL,NON-TRIVIAL-ENCAPSULATE-EE-ENTRIES,CADAR,CAAR,SOFT,ER,ILLEGAL,IN-LOCAL-FLG,QUOTE,F-GET-GLOBAL,CONTEXT-FOR-ENCAPSULATE-PASS-2,EQ,COND,STATE,WRLD,CTX,MSG2P,MSG1,DEFUN" data-used-by="CHK-ACCEPTABLE-CLAUSE-PROCESSOR-RULE,CHK-ACCEPTABLE-META-RULE" data-part-name="CHK-NON-LOCAL-IN-NON-TRIVIAL-ENCAPSULATE" data-part-args="STATE,WRLD,CTX,MSG2P,MSG1" data-part-body="VALUE,T,MSG2P,IF,EMBEDDED-EVENT-LST,GLOBAL-VAL,NON-TRIVIAL-ENCAPSULATE-EE-ENTRIES,CADAR,CAAR,MSG1,CTX,SOFT,ER,ILLEGAL,STATE,IN-LOCAL-FLG,QUOTE,F-GET-GLOBAL,WRLD,CONTEXT-FOR-ENCAPSULATE-PASS-2,EQ,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CHK-NON-LOCAL-IN-NON-TRIVIAL-ENCAPSULATE">chk-non-local-in-non-trivial-encapsulate</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-chk-non-local-in-non-trivial-encapsulate" data-sym="CHK-NON-LOCAL-IN-NON-TRIVIAL-ENCAPSULATE" title="(defun chk-non-local-in-non-trivial-encapsulate (msg1 msg2p ctx wrld state)
  (cond
   ((eq
     (context-for-encapsulate-pass-2 wrld (f-get-global &#39;in-local-flg state))
     &#39;illegal)
...">chk-non-local-in-non-trivial-encapsulate</a>
  (msg1 msg2p ctx wrld state)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (context-for-encapsulate-pass-2 wrld
         (<a class="sym-link system" href="axioms.html#def-f-get-global" data-sym="F-GET-GLOBAL">f-get-global</a> 'in-local-flg state))
       '<a class="sym-link system" href="axioms.html#def-illegal" data-sym="ILLEGAL">illegal</a>) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
        ctx
        <span class="string">"~@0 are illegal inside encapsulate events with non-empty ~
              signatures unless the rules are local.  In this case such a ~
              signature introduces the function symbol ~x1.~#2~[~/  You can ~
              probably avoid this error easily by stating the theorem with a ~
              different name, N, using :rule-classes nil, and then -- back at ~
              the top level after the encapsulate event -- including your ~
              original theorem with the hint, :by N.~]"</span>
        msg1
        (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> (<a class="sym-link system" href="axioms.html#def-cadar" data-sym="CADAR">cadar</a> (<a class="sym-link system" href="axioms.html#def-non-trivial-encapsulate-ee-entries" data-sym="NON-TRIVIAL-ENCAPSULATE-EE-ENTRIES">non-trivial-encapsulate-ee-entries</a> (<a class="sym-link system" href="axioms.html#def-global-val" data-sym="GLOBAL-VAL">global-val</a> 'embedded-event-lst wrld))))
        (if msg2p
          <span class="number">1</span>
          <span class="number">0</span>)))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil))))</pre>
  </div>

<div class="form-block function" id="def-chk-acceptable-meta-rule" data-defines="CHK-ACCEPTABLE-META-RULE" data-references="CHK-EVALUATOR-USE-IN-RULE,CHK-META-FUNCTION,CHK-EVALUATOR,VALUE,W,TERM-TABLE,TABLE-ALIST,CDAR,TERM-LIST,META-RULE-HYPOTHESIS-FUNCTIONS,EXTRA-FNS,HYP-FN,CHK-RULE-FN-GUARD,STOBJS-IN,MEMBER-EQUAL,LIST,NO-DUPLICATESP,OR,VARIABLEP,EQUIVALENCE-RELATIONP,FLAMBDAP,AND,NOT,RETURN-LAST,EQ,UNTRANSLATE,NULL,INTERPRET-TERM-AS-META-RULE,MFC-SYMBOL,FN,A,X,EV,EQV,HYP,MV-LET,STR,LET,SOFT,ER,IF,QUOTE,MEMBER-EQ,COND,T,CHK-NON-LOCAL-IN-NON-TRIVIAL-ENCAPSULATE,ER-PROGN,STATE,WRLD,ENS,CTX,TERM,TRIGGER-FNS,NAME,DEFUN" data-used-by="CHK-ACCEPTABLE-X-RULE" data-part-name="CHK-ACCEPTABLE-META-RULE" data-part-args="STATE,WRLD,ENS,CTX,TERM,TRIGGER-FNS,NAME" data-part-body="CHK-EVALUATOR-USE-IN-RULE,ENS,CHK-META-FUNCTION,CHK-EVALUATOR,VALUE,W,TERM-TABLE,TABLE-ALIST,CDAR,TERM-LIST,META-RULE-HYPOTHESIS-FUNCTIONS,EXTRA-FNS,HYP-FN,CHK-RULE-FN-GUARD,STOBJS-IN,MEMBER-EQUAL,LIST,NO-DUPLICATESP,OR,VARIABLEP,EQUIVALENCE-RELATIONP,FLAMBDAP,AND,NOT,RETURN-LAST,EQ,UNTRANSLATE,NAME,NULL,TERM,INTERPRET-TERM-AS-META-RULE,MFC-SYMBOL,FN,A,X,EV,EQV,HYP,MV-LET,STR,LET,SOFT,ER,TRIGGER-FNS,IF,QUOTE,MEMBER-EQ,COND,STATE,WRLD,CTX,T,CHK-NON-LOCAL-IN-NON-TRIVIAL-ENCAPSULATE,ER-PROGN" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CHK-ACCEPTABLE-META-RULE">chk-acceptable-meta-rule</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-chk-acceptable-meta-rule" data-sym="CHK-ACCEPTABLE-META-RULE" title="(defun chk-acceptable-meta-rule (name trigger-fns term ctx ens wrld state)
  (er-progn
   (chk-non-local-in-non-trivial-encapsulate &quot;Rules of class :META&quot; t ctx wrld
                                             state)
   (cond
...">chk-acceptable-meta-rule</a>
  (name trigger-fns term ctx ens wrld state)
  (<a class="sym-link system" href="axioms.html#def-er-progn" data-sym="ER-PROGN">er-progn</a> (<a class="sym-link local-def" href="#def-chk-non-local-in-non-trivial-encapsulate" data-sym="CHK-NON-LOCAL-IN-NON-TRIVIAL-ENCAPSULATE" title="(defun chk-non-local-in-non-trivial-encapsulate (msg1 msg2p ctx wrld state)
  (cond
   ((eq
     (context-for-encapsulate-pass-2 wrld (f-get-global &#39;in-local-flg state))
     &#39;illegal)
...">chk-non-local-in-non-trivial-encapsulate</a> <span class="string">"Rules of class :META"</span>
      <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
      ctx
      wrld
      state)
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> 'if trigger-fns) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
          ctx
          <span class="string">"The function symbol IF is not an acceptable member of :trigger-fns, ~
          because the ACL2 simplifier is not set up to apply :meta rules to ~
          calls of IF."</span>))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((str <span class="string">"No :META rule can be generated from ~x0 because ~p1 does not ~
                 have the form of a metatheorem.  See :DOC meta."</span>))
          (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (hyp eqv ev x a fn mfc-symbol)
            (<a class="sym-link local-def" href="#def-interpret-term-as-meta-rule" data-sym="INTERPRET-TERM-AS-META-RULE" title="(defun interpret-term-as-meta-rule (term)
  (case-match term
              ((&#39;implies hyp (eqv (ev x a) (ev (fn x) a)))
               (mv hyp eqv ev x a fn nil))
              ((eqv (ev x a) (ev (fn x) a)) (mv *t* eqv ev x a fn nil))
...">interpret-term-as-meta-rule</a> term)
            (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> eqv) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft ctx str name (untranslate term <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> wrld)))
              ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> fn '<a class="sym-link system" href="axioms.html#def-return-last" data-sym="RETURN-LAST">return-last</a>) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                  ctx
                  <span class="string">"It is illegal to use ~x0 as a metafunction, as specified ~
                     by ~x1.  See :DOC meta."</span>
                  '<a class="sym-link system" href="axioms.html#def-return-last" data-sym="RETURN-LAST">return-last</a>
                  name))
              ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="basis-b.html#def-flambdap" data-sym="FLAMBDAP">flambdap</a> eqv))
                   (<a class="sym-link system" href="basis-b.html#def-equivalence-relationp" data-sym="EQUIVALENCE-RELATIONP">equivalence-relationp</a> eqv wrld)
                   (<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> x)
                   (<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> a)
                   (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> x a))
                   (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> fn 'quote))
                   (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="basis-b.html#def-flambdap" data-sym="FLAMBDAP">flambdap</a> fn))
                   (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> mfc-symbol)
                     (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> mfc-symbol)
                       (<a class="sym-link system" href="axioms.html#def-no-duplicatesp" data-sym="NO-DUPLICATESP">no-duplicatesp</a> (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> x a mfc-symbol 'state)))))) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft ctx str name (untranslate term <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> wrld)))
              ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-member-equal" data-sym="MEMBER-EQUAL">member-equal</a> (<a class="sym-link system" href="axioms.html#def-stobjs-in" data-sym="STOBJS-IN">stobjs-in</a> fn wrld) '((nil) (nil nil state)))) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                  ctx
                  <span class="string">"Metafunctions cannot take single-threaded object names ~
                     other than STATE as formal parameters. The function ~x0 ~
                     may therefore not be used as a metafunction."</span>
                  fn))
              (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-er-progn" data-sym="ER-PROGN">er-progn</a> (<a class="sym-link local-def" href="#def-chk-rule-fn-guard" data-sym="CHK-RULE-FN-GUARD" title="(defun chk-rule-fn-guard (function-string rule-type fn ctx wrld state)
  (let ((guard (guard fn t wrld))
        (pseudo-termp-predicate
         (case rule-type
           (:meta &#39;pseudo-termp)
...">chk-rule-fn-guard</a> <span class="string">"metafunction"</span> <span class="keyword">:meta</span> fn ctx wrld state)
                  (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (hyp-fn extra-fns)
                    (<a class="sym-link local-def" href="#def-meta-rule-hypothesis-functions" data-sym="META-RULE-HYPOTHESIS-FUNCTIONS" title="(defun meta-rule-hypothesis-functions (hyp ev x a mfc-symbol)
  (let ((hyps
         (remove1-equal (fcons-term* &#39;pseudo-termp x)
                        (remove1-equal (fcons-term* &#39;alistp a)
                                       (flatten-ands-in-lit hyp)))))
...">meta-rule-hypothesis-functions</a> hyp ev x a mfc-symbol)
                    (let ((term-list (<a class="sym-link system" href="axioms.html#def-cdar" data-sym="CDAR">cdar</a> (<a class="sym-link system" href="axioms.html#def-table-alist" data-sym="TABLE-ALIST">table-alist</a> 'term-table (<a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a> state)))))
                      (<a class="sym-link system" href="axioms.html#def-er-progn" data-sym="ER-PROGN">er-progn</a> (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> hyp-fn) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft ctx str name (untranslate term <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> wrld)))
                          ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> hyp-fn <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>))
                             (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-member-equal" data-sym="MEMBER-EQUAL">member-equal</a> (<a class="sym-link system" href="axioms.html#def-stobjs-in" data-sym="STOBJS-IN">stobjs-in</a> hyp-fn wrld)
                                 '((nil) (nil nil state))))) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                              ctx
                              <span class="string">"Hypothesis metafunctions cannot take single ~
                               threaded object names as formal parameters.  ~
                               The function ~x0 may therefore not be used as ~
                               a hypothesis metafunction."</span>
                              hyp-fn))
                          ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> hyp-fn <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)) (<a class="sym-link local-def" href="#def-chk-rule-fn-guard" data-sym="CHK-RULE-FN-GUARD" title="(defun chk-rule-fn-guard (function-string rule-type fn ctx wrld state)
  (let ((guard (guard fn t wrld))
        (pseudo-termp-predicate
         (case rule-type
           (:meta &#39;pseudo-termp)
...">chk-rule-fn-guard</a> <span class="string">"hypothesis function"</span>
                              <span class="keyword">:meta</span> fn
                              ctx
                              wrld
                              state))
                          (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil)))
                        (<a class="sym-link local-def" href="#def-chk-evaluator" data-sym="CHK-EVALUATOR" title="(defun chk-evaluator (evfn wrld ctx state)
  (let ((cl-set0 (normalized-evaluator-cl-set evfn wrld))
        (str
         &quot;The symbol ~x0, playing the role of an evaluator in your alleged ~
          theorem, does not pass the test for an evaluator.  See :DOC meta ~
...">chk-evaluator</a> ev wrld ctx state)
                        (<a class="sym-link local-def" href="#def-chk-meta-function" data-sym="CHK-META-FUNCTION" title="(defun chk-meta-function
       (metafn name trigger-fns extendedp term-list ctx ens state)
  (cond ((null term-list) (value nil))
        ((or (variablep (car term-list)) (fquotep (car term-list))
             (flambda-applicationp (car term-list))
...">chk-meta-function</a> fn
                          name
                          trigger-fns
                          mfc-symbol
                          term-list
                          ctx
                          ens
                          state)
                        (if (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> hyp-fn <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)
                          (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil)
                          (<a class="sym-link local-def" href="#def-chk-meta-function" data-sym="CHK-META-FUNCTION" title="(defun chk-meta-function
       (metafn name trigger-fns extendedp term-list ctx ens state)
  (cond ((null term-list) (value nil))
        ((or (variablep (car term-list)) (fquotep (car term-list))
             (flambda-applicationp (car term-list))
...">chk-meta-function</a> hyp-fn
                            name
                            trigger-fns
                            mfc-symbol
                            term-list
                            ctx
                            ens
                            state))
                        (<a class="sym-link local-def" href="#def-chk-evaluator-use-in-rule" data-sym="CHK-EVALUATOR-USE-IN-RULE" title="(defun chk-evaluator-use-in-rule
       (name meta-fn hyp-fn extra-fns rule-class ev ctx wrld state)
  (er-progn
   (let ((temp
          (context-for-encapsulate-pass-2 (decode-logical-name ev wrld)
...">chk-evaluator-use-in-rule</a> name
                          fn
                          (if (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> hyp-fn <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)
                            nil
                            hyp-fn)
                          extra-fns
                          <span class="keyword">:meta</span> ev
                          ctx
                          wrld
                          state)))))))))))))</pre>
  </div>

<div class="form-block function" id="def-add-meta-rule1" data-defines="ADD-META-RULE1" data-references="GETPROPC,CONS,LEMMAS,QUOTE,CAR,PUTPROP,CDR,T,NULL,COND,WRLD,RULE,LST,DEFUN" data-used-by="ADD-META-RULE" data-part-name="ADD-META-RULE1" data-part-args="WRLD,RULE,LST" data-part-body="GETPROPC,CONS,LEMMAS,QUOTE,CAR,PUTPROP,RULE,CDR,ADD-META-RULE1,T,WRLD,LST,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ADD-META-RULE1">add-meta-rule1</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-add-meta-rule1" data-sym="ADD-META-RULE1" title="(defun add-meta-rule1 (lst rule wrld)
  (cond ((null lst) wrld)
        (t
         (add-meta-rule1 (cdr lst) rule
                         (putprop (car lst) &#39;lemmas
...">add-meta-rule1</a>
  (lst rule wrld)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> lst) wrld)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-add-meta-rule1" data-sym="ADD-META-RULE1" title="(defun add-meta-rule1 (lst rule wrld)
  (cond ((null lst) wrld)
        (t
         (add-meta-rule1 (cdr lst) rule
                         (putprop (car lst) &#39;lemmas
...">add-meta-rule1</a> (cdr lst)
        rule
        (<a class="sym-link system" href="axioms.html#def-putprop" data-sym="PUTPROP">putprop</a> (car lst)
          'lemmas
          (cons rule (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> (car lst) 'lemmas nil wrld))
          wrld)))))</pre>
  </div>

<div class="form-block function" id="def-maybe-putprop-lst" data-defines="MAYBE-PUTPROP-LST" data-references="PUTPROP,GETPROPC,CDR,CAR,SYMB,LET,T,ENDP,COND,WRLD,VAL,KEY,SYMB-LST,DEFUN" data-used-by="DEFAXIOM-FN" data-part-name="MAYBE-PUTPROP-LST" data-part-args="WRLD,VAL,KEY,SYMB-LST" data-part-body="PUTPROP,GETPROPC,VAL,KEY,CDR,MAYBE-PUTPROP-LST,CAR,SYMB,LET,T,WRLD,SYMB-LST,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="MAYBE-PUTPROP-LST">maybe-putprop-lst</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-maybe-putprop-lst" data-sym="MAYBE-PUTPROP-LST" title="(defun maybe-putprop-lst (symb-lst key val wrld)
  (cond ((endp symb-lst) wrld)
        (t
         (let ((symb (car symb-lst)))
           (maybe-putprop-lst (cdr symb-lst) key val
...">maybe-putprop-lst</a>
  (symb-lst key val wrld)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> symb-lst) wrld)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((symb (car symb-lst)))
        (<a class="sym-link local-def" href="#def-maybe-putprop-lst" data-sym="MAYBE-PUTPROP-LST" title="(defun maybe-putprop-lst (symb-lst key val wrld)
  (cond ((endp symb-lst) wrld)
        (t
         (let ((symb (car symb-lst)))
           (maybe-putprop-lst (cdr symb-lst) key val
...">maybe-putprop-lst</a> (cdr symb-lst)
          key
          val
          (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> symb key nil wrld) wrld)
            (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-putprop" data-sym="PUTPROP">putprop</a> symb key val wrld))))))))</pre>
  </div>

<div class="form-block function" id="def-update-transparent-rec" data-defines="UPDATE-TRANSPARENT-REC" data-references="ACCESS,CONS,TRANSPARENT-REC,CHANGE,PUTPROP,CDR,WEAK-TRANSPARENT-REC-P,ASSERT$,CONSTRAINEDP,QUOTE,GETPROPC,OLD-PROP,CAR,FN,LET*,T,ENDP,COND,WRLD,NAME,TR-META-ANC,DEFUN" data-used-by="UPDATE-META-PROPS" data-part-name="UPDATE-TRANSPARENT-REC" data-part-args="WRLD,NAME,TR-META-ANC" data-part-body="ACCESS,CONS,TRANSPARENT-REC,CHANGE,PUTPROP,NAME,CDR,UPDATE-TRANSPARENT-REC,WEAK-TRANSPARENT-REC-P,ASSERT$,CONSTRAINEDP,QUOTE,GETPROPC,OLD-PROP,CAR,FN,LET*,T,WRLD,TR-META-ANC,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="UPDATE-TRANSPARENT-REC">update-transparent-rec</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-update-transparent-rec" data-sym="UPDATE-TRANSPARENT-REC" title="(defun update-transparent-rec (tr-meta-anc name wrld)
  (cond ((endp tr-meta-anc) wrld)
        (t
         (let* ((fn (car tr-meta-anc))
                (old-prop (getpropc fn &#39;constrainedp nil wrld)))
...">update-transparent-rec</a>
  (tr-meta-anc name wrld)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> tr-meta-anc) wrld)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((fn (car tr-meta-anc)) (old-prop (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> fn 'constrainedp nil wrld)))
        (<a class="sym-link system" href="axioms.html#def-assert_24" data-sym="ASSERT$">assert$</a> (weak-transparent-rec-p old-prop)
          (<a class="sym-link local-def" href="#def-update-transparent-rec" data-sym="UPDATE-TRANSPARENT-REC" title="(defun update-transparent-rec (tr-meta-anc name wrld)
  (cond ((endp tr-meta-anc) wrld)
        (t
         (let* ((fn (car tr-meta-anc))
                (old-prop (getpropc fn &#39;constrainedp nil wrld)))
...">update-transparent-rec</a> (cdr tr-meta-anc)
            name
            (<a class="sym-link system" href="axioms.html#def-putprop" data-sym="PUTPROP">putprop</a> fn
              'constrainedp
              (<a class="sym-link system" href="basis-a.html#def-change" data-sym="CHANGE">change</a> transparent-rec
                old-prop
                <span class="keyword">:names</span> (cons name (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> transparent-rec old-prop <span class="keyword">:names</span>)))
              wrld)))))))</pre>
  </div>

<div class="form-block function" id="def-union-eq-cars" data-defines="UNION-EQ-CARS" data-references="CDR,CAAR,UNION-EQ,T,NULL,COND,ALIST,DEFUN" data-used-by="UPDATE-META-PROPS" data-part-name="UNION-EQ-CARS" data-part-args="ALIST" data-part-body="CDR,UNION-EQ-CARS,CAAR,UNION-EQ,T,ALIST,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="UNION-EQ-CARS">union-eq-cars</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-union-eq-cars" data-sym="UNION-EQ-CARS" title="(defun union-eq-cars (alist)
  (cond ((null alist) nil)
        (t (union-eq (caar alist) (union-eq-cars (cdr alist))))))">union-eq-cars</a>
  (alist)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> alist) nil)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-union-eq" data-sym="UNION-EQ">union-eq</a> (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> alist) (<a class="sym-link local-def" href="#def-union-eq-cars" data-sym="UNION-EQ-CARS" title="(defun union-eq-cars (alist)
  (cond ((null alist) nil)
        (t (union-eq (caar alist) (union-eq-cars (cdr alist))))))">union-eq-cars</a> (cdr alist))))))</pre>
  </div>

<div class="form-block function" id="def-mark-attachment-disallowed" data-defines="MARK-ATTACHMENT-DISALLOWED" data-references="PUTPROP,PUTPROP-X-LST1,WRLD1,SIBLINGS,LET,IF,OTHER-SIBLINGS,LIST,CDR,LIST*,EQ,CONSP,AND,ASSERT$,NEW-PROP,CONS,PAIR,ATTACHMENT,QUOTE,GETPROPC,OLD-PROP,CAR,FN,LET*,T,ENDP,COND,INSTALLED-W,WRLD,RULE-CLASS,NAME,COMMON-ANC,DEFUN" data-used-by="UPDATE-META-PROPS" data-part-name="MARK-ATTACHMENT-DISALLOWED" data-part-args="INSTALLED-W,WRLD,RULE-CLASS,NAME,COMMON-ANC" data-part-body="PUTPROP,MARK-ATTACHMENT-DISALLOWED,PUTPROP-X-LST1,WRLD1,SIBLINGS,LET,IF,OTHER-SIBLINGS,LIST,CDR,LIST*,EQ,CONSP,AND,ASSERT$,NEW-PROP,RULE-CLASS,NAME,CONS,PAIR,INSTALLED-W,ATTACHMENT,QUOTE,GETPROPC,OLD-PROP,CAR,FN,LET*,T,WRLD,COMMON-ANC,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="MARK-ATTACHMENT-DISALLOWED">mark-attachment-disallowed</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-mark-attachment-disallowed" data-sym="MARK-ATTACHMENT-DISALLOWED" title="(defun mark-attachment-disallowed (common-anc name rule-class wrld installed-w)
  (cond ((endp common-anc) wrld)
        (t
         (let* ((fn (car common-anc))
                (old-prop (getpropc fn &#39;attachment nil installed-w))
...">mark-attachment-disallowed</a>
  (common-anc name rule-class wrld installed-w)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> common-anc) wrld)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((fn (car common-anc)) (old-prop (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> fn 'attachment nil installed-w))
          (pair (cons name rule-class))
          (new-prop (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (old-prop (<a class="sym-link system" href="axioms.html#def-assert_24" data-sym="ASSERT$">assert$</a> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (consp old-prop)
                    (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (car old-prop) <span class="keyword">:attachment-disallowed</span>))
                  (<a class="sym-link system" href="axioms.html#def-list_2A" data-sym="LIST*">list*</a> <span class="keyword">:attachment-disallowed</span> pair (cdr old-prop))))
              (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:attachment-disallowed</span> pair))))
          (other-siblings (if old-prop
              nil
              (let ((<a class="sym-link local-def" href="#def-siblings" data-sym="SIBLINGS" title="(defun siblings (f wrld)
  (or (getpropc f &#39;siblings nil wrld) (getpropc f &#39;recursivep nil wrld)
      (list f)))">siblings</a> (<a class="sym-link local-def" href="#def-siblings" data-sym="SIBLINGS" title="(defun siblings (f wrld)
  (or (getpropc f &#39;siblings nil wrld) (getpropc f &#39;recursivep nil wrld)
      (list f)))">siblings</a> fn wrld)))
                (<a class="sym-link system" href="axioms.html#def-assert_24" data-sym="ASSERT$">assert$</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (car <a class="sym-link local-def" href="#def-siblings" data-sym="SIBLINGS" title="(defun siblings (f wrld)
  (or (getpropc f &#39;siblings nil wrld) (getpropc f &#39;recursivep nil wrld)
      (list f)))">siblings</a>) fn) (cdr <a class="sym-link local-def" href="#def-siblings" data-sym="SIBLINGS" title="(defun siblings (f wrld)
  (or (getpropc f &#39;siblings nil wrld) (getpropc f &#39;recursivep nil wrld)
      (list f)))">siblings</a>)))))
          (wrld1 (if other-siblings
              (<a class="sym-link system" href="history-management.html#def-putprop-x-lst1" data-sym="PUTPROP-X-LST1">putprop-x-lst1</a> other-siblings
                'attachment
                (cons <span class="keyword">:attachment-disallowed</span> fn)
                wrld)
              wrld)))
        (<a class="sym-link local-def" href="#def-mark-attachment-disallowed" data-sym="MARK-ATTACHMENT-DISALLOWED" title="(defun mark-attachment-disallowed (common-anc name rule-class wrld installed-w)
  (cond ((endp common-anc) wrld)
        (t
         (let* ((fn (car common-anc))
                (old-prop (getpropc fn &#39;attachment nil installed-w))
...">mark-attachment-disallowed</a> (cdr common-anc)
          name
          rule-class
          (<a class="sym-link system" href="axioms.html#def-putprop" data-sym="PUTPROP">putprop</a> fn 'attachment new-prop wrld1)
          installed-w)))))</pre>
  </div>

<div class="form-block function" id="def-update-meta-props" data-defines="UPDATE-META-PROPS" data-references="W,MARK-ATTACHMENT-DISALLOWED,LIST*,EVALUATOR-CHECK-INPUTS,PUTPROP,WRLD2,UPDATE-TRANSPARENT-REC,WRLD1,ENTRIES,COMMON-ANC,STRIP-CDRS,LST-CDRS,UNION-EQ-CARS,TR-META-ANC,CAR,CADDR,CDR,IF,RULE-CLASS,LET*,T,NULL,COND,EVALUATOR-CHECK-FOR-RULE,QUOTE,TAGGED-OBJECTS,LST,LET,STATE,WRLD,TTREE,NAME,DEFUN" data-used-by="DEFTHM-FN1" data-part-name="UPDATE-META-PROPS" data-part-args="STATE,WRLD,TTREE,NAME" data-part-body="STATE,W,MARK-ATTACHMENT-DISALLOWED,LIST*,EVALUATOR-CHECK-INPUTS,PUTPROP,WRLD2,NAME,UPDATE-TRANSPARENT-REC,WRLD1,ENTRIES,COMMON-ANC,STRIP-CDRS,LST-CDRS,UNION-EQ-CARS,TR-META-ANC,CAR,CADDR,CDR,IF,RULE-CLASS,LET*,T,WRLD,NULL,COND,TTREE,EVALUATOR-CHECK-FOR-RULE,QUOTE,TAGGED-OBJECTS,LST,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="UPDATE-META-PROPS">update-meta-props</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-update-meta-props" data-sym="UPDATE-META-PROPS" title="(defun update-meta-props (name ttree wrld state)
  (let ((lst (tagged-objects &#39;evaluator-check-for-rule ttree)))
    (cond ((null lst) wrld)
          (t
           (let* ((rule-class
...">update-meta-props</a>
  (name ttree wrld state)
  (let ((lst (tagged-objects 'evaluator-check-for-rule ttree)))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> lst) wrld)
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((rule-class (if (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> (cdr lst))
               (<a class="sym-link system" href="axioms.html#def-caddr" data-sym="CADDR">caddr</a> (car lst))
               <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)) (tr-meta-anc (<a class="sym-link local-def" href="#def-union-eq-cars" data-sym="UNION-EQ-CARS" title="(defun union-eq-cars (alist)
  (cond ((null alist) nil)
        (t (union-eq (caar alist) (union-eq-cars (cdr alist))))))">union-eq-cars</a> lst))
            (lst-cdrs (<a class="sym-link system" href="axioms.html#def-strip-cdrs" data-sym="STRIP-CDRS">strip-cdrs</a> lst))
            (common-anc (<a class="sym-link local-def" href="#def-union-eq-cars" data-sym="UNION-EQ-CARS" title="(defun union-eq-cars (alist)
  (cond ((null alist) nil)
        (t (union-eq (caar alist) (union-eq-cars (cdr alist))))))">union-eq-cars</a> lst-cdrs))
            (entries (<a class="sym-link system" href="axioms.html#def-strip-cdrs" data-sym="STRIP-CDRS">strip-cdrs</a> lst-cdrs))
            (wrld1 (<a class="sym-link local-def" href="#def-update-transparent-rec" data-sym="UPDATE-TRANSPARENT-REC" title="(defun update-transparent-rec (tr-meta-anc name wrld)
  (cond ((endp tr-meta-anc) wrld)
        (t
         (let* ((fn (car tr-meta-anc))
                (old-prop (getpropc fn &#39;constrainedp nil wrld)))
...">update-transparent-rec</a> tr-meta-anc name wrld))
            (wrld2 (if tr-meta-anc
                (<a class="sym-link system" href="axioms.html#def-putprop" data-sym="PUTPROP">putprop</a> name
                  'evaluator-check-inputs
                  (<a class="sym-link system" href="axioms.html#def-list_2A" data-sym="LIST*">list*</a> tr-meta-anc common-anc entries)
                  wrld1)
                wrld1)))
          (<a class="sym-link local-def" href="#def-mark-attachment-disallowed" data-sym="MARK-ATTACHMENT-DISALLOWED" title="(defun mark-attachment-disallowed (common-anc name rule-class wrld installed-w)
  (cond ((endp common-anc) wrld)
        (t
         (let* ((fn (car common-anc))
                (old-prop (getpropc fn &#39;attachment nil installed-w))
...">mark-attachment-disallowed</a> common-anc
            name
            rule-class
            wrld2
            (<a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a> state)))))))</pre>
  </div>

<div class="form-block function" id="def-add-meta-rule" data-defines="ADD-META-RULE" data-references="GLOBAL-VAL,STRIP-CARS,ADD-NEW-NEVER-UNTOUCHABLE-FNS,NEVER-UNTOUCHABLE-FNS,GLOBAL-SET,WRLD2,RULE-BACKCHAIN-LIMIT-LST,META,EXTENDED,EQ,IF,REWRITE-RULE,MAKE,ADD-META-RULE1,WRLD1,CDR,ARITY-ALIST,LET*,T,LIST,QUOTE,HARD,ER,NULL,OR,COND,IGNORE,DECLARE,META-RULE-HYPOTHESIS-FUNCTIONS,EXTRA-FNS,HYP-FN,INTERPRET-TERM-AS-META-RULE,MFC-SYMBOL,FN,A,X,EV,EQV,HYP,MV-LET,WRLD,BACKCHAIN-LIMIT,TERM,WELL-FORMEDNESS-GUARANTEE,TRIGGER-FNS,NUME,RUNE,DEFUN" data-used-by="ADD-X-RULE" data-part-name="ADD-META-RULE" data-part-args="WRLD,BACKCHAIN-LIMIT,TERM,WELL-FORMEDNESS-GUARANTEE,TRIGGER-FNS,NUME,RUNE" data-part-body="GLOBAL-VAL,STRIP-CARS,ADD-NEW-NEVER-UNTOUCHABLE-FNS,NEVER-UNTOUCHABLE-FNS,GLOBAL-SET,WRLD2,WRLD,BACKCHAIN-LIMIT,RULE-BACKCHAIN-LIMIT-LST,META,EXTENDED,EQ,IF,REWRITE-RULE,MAKE,ADD-META-RULE1,WRLD1,WELL-FORMEDNESS-GUARANTEE,CDR,ARITY-ALIST,LET*,T,TRIGGER-FNS,NUME,RUNE,LIST,ADD-META-RULE,QUOTE,HARD,ER,NULL,OR,COND,IGNORE,DECLARE,META-RULE-HYPOTHESIS-FUNCTIONS,EXTRA-FNS,HYP-FN,TERM,INTERPRET-TERM-AS-META-RULE,MFC-SYMBOL,FN,A,X,EV,EQV,HYP,MV-LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ADD-META-RULE">add-meta-rule</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-add-meta-rule" data-sym="ADD-META-RULE" title="(defun add-meta-rule
       (rune nume trigger-fns well-formedness-guarantee term backchain-limit
        wrld)
  (mv-let (hyp eqv ev x a fn mfc-symbol) (interpret-term-as-meta-rule term)
          (mv-let (hyp-fn extra-fns)
...">add-meta-rule</a>
  (rune nume
    trigger-fns
    well-formedness-guarantee
    term
    <a class="sym-link system" href="axioms.html#def-backchain-limit" data-sym="BACKCHAIN-LIMIT">backchain-limit</a>
    wrld)
  (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (hyp eqv ev x a fn mfc-symbol)
    (<a class="sym-link local-def" href="#def-interpret-term-as-meta-rule" data-sym="INTERPRET-TERM-AS-META-RULE" title="(defun interpret-term-as-meta-rule (term)
  (case-match term
              ((&#39;implies hyp (eqv (ev x a) (ev (fn x) a)))
               (mv hyp eqv ev x a fn nil))
              ((eqv (ev x a) (ev (fn x) a)) (mv *t* eqv ev x a fn nil))
...">interpret-term-as-meta-rule</a> term)
    (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (hyp-fn extra-fns)
      (<a class="sym-link local-def" href="#def-meta-rule-hypothesis-functions" data-sym="META-RULE-HYPOTHESIS-FUNCTIONS" title="(defun meta-rule-hypothesis-functions (hyp ev x a mfc-symbol)
  (let ((hyps
         (remove1-equal (fcons-term* &#39;pseudo-termp x)
                        (remove1-equal (fcons-term* &#39;alistp a)
                                       (flatten-ands-in-lit hyp)))))
...">meta-rule-hypothesis-functions</a> hyp ev x a mfc-symbol)
      (declare (ignore extra-fns))
      (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> hyp-fn) (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> eqv)) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> hard
            '<a class="sym-link local-def" href="#def-add-meta-rule" data-sym="ADD-META-RULE" title="(defun add-meta-rule
       (rune nume trigger-fns well-formedness-guarantee term backchain-limit
        wrld)
  (mv-let (hyp eqv ev x a fn mfc-symbol) (interpret-term-as-meta-rule term)
          (mv-let (hyp-fn extra-fns)
...">add-meta-rule</a>
            <span class="string">"Add-meta-rule broke on args ~x0!  It seems to be out of sync with ~
           chk-acceptable-meta-rule."</span>
            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> rune nume trigger-fns term)))
        (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((arity-alist (cdr well-formedness-guarantee)) (wrld1 (<a class="sym-link local-def" href="#def-add-meta-rule1" data-sym="ADD-META-RULE1" title="(defun add-meta-rule1 (lst rule wrld)
  (cond ((null lst) wrld)
        (t
         (add-meta-rule1 (cdr lst) rule
                         (putprop (car lst) &#39;lemmas
...">add-meta-rule1</a> trigger-fns
                  (<a class="sym-link system" href="basis-a.html#def-make" data-sym="MAKE">make</a> rewrite-rule
                    <span class="keyword">:rune</span> rune
                    <span class="keyword">:nume</span> nume
                    <span class="keyword">:hyps</span> (if (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> hyp-fn <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)
                      nil
                      hyp-fn)
                    <span class="keyword">:equiv</span> eqv
                    <span class="keyword">:lhs</span> fn
                    <span class="keyword">:var-info</span> nil
                    <span class="keyword">:rhs</span> (if mfc-symbol
                      'extended
                      nil)
                    <span class="keyword">:subclass</span> 'meta
                    <span class="keyword">:heuristic-info</span> well-formedness-guarantee
                    <span class="keyword">:backchain-limit-lst</span> (<a class="sym-link local-def" href="#def-rule-backchain-limit-lst" data-sym="RULE-BACKCHAIN-LIMIT-LST" title="(defun rule-backchain-limit-lst (backchain-limit-lst hyps wrld flg)
  (cond (backchain-limit-lst (cadr backchain-limit-lst))
        (t
         (let ((limit (default-backchain-limit wrld flg)))
           (and limit
...">rule-backchain-limit-lst</a> <a class="sym-link system" href="axioms.html#def-backchain-limit" data-sym="BACKCHAIN-LIMIT">backchain-limit</a> nil wrld <span class="keyword">:meta</span>))
                  wrld))
              (wrld2 (<a class="sym-link system" href="basis-b.html#def-global-set" data-sym="GLOBAL-SET">global-set</a> 'never-untouchable-fns
                  (<a class="sym-link local-def" href="#def-add-new-never-untouchable-fns" data-sym="ADD-NEW-NEVER-UNTOUCHABLE-FNS" title="(defun add-new-never-untouchable-fns
       (fns well-formedness-guarantee never-untouchable-fns)
  (cond ((endp fns) never-untouchable-fns)
        (t
         (add-new-never-untouchable-fns (cdr fns) well-formedness-guarantee
...">add-new-never-untouchable-fns</a> (<a class="sym-link system" href="axioms.html#def-strip-cars" data-sym="STRIP-CARS">strip-cars</a> arity-alist)
                    well-formedness-guarantee
                    (<a class="sym-link system" href="axioms.html#def-global-val" data-sym="GLOBAL-VAL">global-val</a> 'never-untouchable-fns wrld1))
                  wrld1)))
            wrld2))))))</pre>
  </div>

<div class="form-block mutual-recursion" id="def-destructors" data-defines="DESTRUCTORS" data-references="CAR,CDR,NULL,LST,ADD-TO-SET-EQUAL,NO-DUPLICATESP-EQUAL,ALL-VARIABLEP,AND,FARGS,DESTRUCTORS-LST,T,FLAMBDA-APPLICATIONP,FQUOTEP,VARIABLEP,OR,COND,ANS,TERM,DEFUN,MUTUAL-RECURSION" data-used-by="ADD-ELIM-RULE,CHK-ACCEPTABLE-ELIM-RULE" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="DESTRUCTORS">destructors</span><span class="form-type">mutual-recursion</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-mutual-recursion" data-sym="MUTUAL-RECURSION">mutual-recursion</a> (<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-destructors" data-sym="DESTRUCTORS" title="(mutual-recursion
 (defun destructors (term ans)
   (cond ((or (variablep term) (fquotep term) (flambda-applicationp term)) ans)
         (t
          (destructors-lst (fargs term)
...">destructors</a>
    (term ans)
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> term)
         (<a class="sym-link system" href="axioms.html#def-fquotep" data-sym="FQUOTEP">fquotep</a> term)
         (<a class="sym-link system" href="basis-b.html#def-flambda-applicationp" data-sym="FLAMBDA-APPLICATIONP">flambda-applicationp</a> term)) ans)
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (destructors-lst (<a class="sym-link system" href="axioms.html#def-fargs" data-sym="FARGS">fargs</a> term)
          (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-fargs" data-sym="FARGS">fargs</a> term)
               (all-variablep (<a class="sym-link system" href="axioms.html#def-fargs" data-sym="FARGS">fargs</a> term))
               (<a class="sym-link system" href="axioms.html#def-no-duplicatesp-equal" data-sym="NO-DUPLICATESP-EQUAL">no-duplicatesp-equal</a> (<a class="sym-link system" href="axioms.html#def-fargs" data-sym="FARGS">fargs</a> term))) (<a class="sym-link system" href="axioms.html#def-add-to-set-equal" data-sym="ADD-TO-SET-EQUAL">add-to-set-equal</a> term ans))
            (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> ans))))))
  (<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> destructors-lst
    (lst ans)
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> lst) ans)
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (destructors-lst (cdr lst) (<a class="sym-link local-def" href="#def-destructors" data-sym="DESTRUCTORS" title="(mutual-recursion
 (defun destructors (term ans)
   (cond ((or (variablep term) (fquotep term) (flambda-applicationp term)) ans)
         (t
          (destructors-lst (fargs term)
...">destructors</a> (car lst) ans))))))</pre>
  </div>

<div class="form-block function" id="def-strip-ffn-symbs" data-defines="STRIP-FFN-SYMBS" data-references="CDR,CAR,FFN-SYMB,CONS,T,NULL,COND,LST,DEFUN" data-used-by="CHK-ACCEPTABLE-ELIM-RULE" data-part-name="STRIP-FFN-SYMBS" data-part-args="LST" data-part-body="CDR,STRIP-FFN-SYMBS,CAR,FFN-SYMB,CONS,T,LST,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="STRIP-FFN-SYMBS">strip-ffn-symbs</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-strip-ffn-symbs" data-sym="STRIP-FFN-SYMBS" title="(defun strip-ffn-symbs (lst)
  (cond ((null lst) nil)
        (t (cons (ffn-symb (car lst)) (strip-ffn-symbs (cdr lst))))))">strip-ffn-symbs</a>
  (lst)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> lst) nil)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (cons (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> (car lst)) (<a class="sym-link local-def" href="#def-strip-ffn-symbs" data-sym="STRIP-FFN-SYMBS" title="(defun strip-ffn-symbs (lst)
  (cond ((null lst) nil)
        (t (cons (ffn-symb (car lst)) (strip-ffn-symbs (cdr lst))))))">strip-ffn-symbs</a> (cdr lst))))))</pre>
  </div>

<div class="form-block function" id="def-chk-acceptable-elim-rule1" data-defines="CHK-ACCEPTABLE-ELIM-RULE1" data-references="CDR,ELIM-RULE,ACCESS,BASE-SYMBOL,WARNING$,ENS,FFN-SYMB,MOST-RECENT-ENABLED-ELIM-RULE,RULE,LET,PPROGN,T,SET-DIFFERENCE-EQ,SOFT,ER,CAR,FARGS,SUBSETP-EQ,NOT,VALUE,NULL,COND,STATE,WRLD,CTX,DESTS,VARS,NAME,DEFUN" data-used-by="CHK-ACCEPTABLE-ELIM-RULE" data-part-name="CHK-ACCEPTABLE-ELIM-RULE1" data-part-args="STATE,WRLD,CTX,DESTS,VARS,NAME" data-part-body="CDR,CHK-ACCEPTABLE-ELIM-RULE1,ELIM-RULE,ACCESS,BASE-SYMBOL,WARNING$,STATE,ENS,WRLD,FFN-SYMB,MOST-RECENT-ENABLED-ELIM-RULE,RULE,LET,PPROGN,T,SET-DIFFERENCE-EQ,NAME,CTX,SOFT,ER,CAR,FARGS,VARS,SUBSETP-EQ,NOT,VALUE,DESTS,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CHK-ACCEPTABLE-ELIM-RULE1">chk-acceptable-elim-rule1</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-chk-acceptable-elim-rule1" data-sym="CHK-ACCEPTABLE-ELIM-RULE1" title="(defun chk-acceptable-elim-rule1 (name vars dests ctx wrld state)
  (cond ((null dests) (value nil))
        ((not (subsetp-eq vars (fargs (car dests))))
         (er soft ctx
             &quot;~x0 is an unacceptable destructor elimination rule because ~
...">chk-acceptable-elim-rule1</a>
  (name vars dests ctx wrld state)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> dests) (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil))
    ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-subsetp-eq" data-sym="SUBSETP-EQ">subsetp-eq</a> vars (<a class="sym-link system" href="axioms.html#def-fargs" data-sym="FARGS">fargs</a> (car dests)))) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
        ctx
        <span class="string">"~x0 is an unacceptable destructor elimination rule because ~
         the destructor term ~x1 does not mention ~&amp;2.  See :DOC elim."</span>
        name
        (car dests)
        (<a class="sym-link system" href="axioms.html#def-set-difference-eq" data-sym="SET-DIFFERENCE-EQ">set-difference-eq</a> vars (<a class="sym-link system" href="axioms.html#def-fargs" data-sym="FARGS">fargs</a> (car dests)))))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (let ((rule (most-recent-enabled-elim-rule (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> (car dests))
               wrld
               (ens state))))
          (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (rule (<a class="sym-link system" href="axioms.html#def-warning_24" data-sym="WARNING$">warning$</a> ctx
                <span class="string">"Elim-rule"</span>
                <span class="string">"There is already an enabled destructor elimination ~
                         rule for ~x0, namely ~x1.  Unless the new rule ~x2 ~
                         is disabled, it will replace ~x1 as the destructor ~
                         elimination rule to be used for ~x0."</span>
                (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> (car dests))
                (base-symbol (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> elim-rule rule <span class="keyword">:rune</span>))
                name))
            (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> state)))
        (<a class="sym-link local-def" href="#def-chk-acceptable-elim-rule1" data-sym="CHK-ACCEPTABLE-ELIM-RULE1" title="(defun chk-acceptable-elim-rule1 (name vars dests ctx wrld state)
  (cond ((null dests) (value nil))
        ((not (subsetp-eq vars (fargs (car dests))))
         (er soft ctx
             &quot;~x0 is an unacceptable destructor elimination rule because ~
...">chk-acceptable-elim-rule1</a> name
          vars
          (cdr dests)
          ctx
          wrld
          state)))))</pre>
  </div>

<div class="form-block function" id="def-chk-acceptable-elim-rule" data-defines="CHK-ACCEPTABLE-ELIM-RULE" data-references="ALL-VARS,CHK-ACCEPTABLE-ELIM-RULE1,*T*,PAIRLIS-X2,SUBLIS-EXPR,OCCUR,STRIP-FFN-SYMBS,NO-DUPLICATESP-EQUAL,NULL,DESTRUCTORS,DESTS,T,NVARIABLEP,SOFT,ER,EQUIVALENCE-RELATIONP,NOT,COND,RHS,LHS,EQUIV,&,CASE-MATCH,UNPRETTYIFY,LST,LET,STATE,WRLD,CTX,TERM,NAME,DEFUN" data-used-by="CHK-ACCEPTABLE-X-RULE" data-part-name="CHK-ACCEPTABLE-ELIM-RULE" data-part-args="STATE,WRLD,CTX,TERM,NAME" data-part-body="STATE,ALL-VARS,CHK-ACCEPTABLE-ELIM-RULE1,*T*,PAIRLIS-X2,SUBLIS-EXPR,OCCUR,STRIP-FFN-SYMBS,NO-DUPLICATESP-EQUAL,NULL,DESTRUCTORS,DESTS,T,NVARIABLEP,NAME,CTX,SOFT,ER,WRLD,EQUIVALENCE-RELATIONP,NOT,COND,RHS,LHS,EQUIV,&,CASE-MATCH,TERM,UNPRETTYIFY,LST,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CHK-ACCEPTABLE-ELIM-RULE">chk-acceptable-elim-rule</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-chk-acceptable-elim-rule" data-sym="CHK-ACCEPTABLE-ELIM-RULE" title="(defun chk-acceptable-elim-rule (name term ctx wrld state)
  (let ((lst (unprettyify term)))
    (case-match lst
                (((&amp; equiv lhs rhs))
                 (cond
...">chk-acceptable-elim-rule</a>
  (name term ctx wrld state)
  (let ((lst (unprettyify term)))
    (<a class="sym-link system" href="basis-a.html#def-case-match" data-sym="CASE-MATCH">case-match</a> lst
      (((&amp; equiv lhs rhs)) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="basis-b.html#def-equivalence-relationp" data-sym="EQUIVALENCE-RELATIONP">equivalence-relationp</a> equiv wrld)) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
              ctx
              <span class="string">"~x0 is an unacceptable destructor elimination rule ~
             because ~x1 is not a known equivalence relation.  See ~
             :DOC elim."</span>
              name
              equiv))
          ((<a class="sym-link system" href="axioms.html#def-nvariablep" data-sym="NVARIABLEP">nvariablep</a> rhs) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
              ctx
              <span class="string">"~x0 is an unacceptable destructor elimination rule ~
             because the right-hand side of its conclusion, ~x1, is ~
             not a variable symbol.  See :DOC elim."</span>
              name
              rhs))
          (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((dests (<a class="sym-link local-def" href="#def-destructors" data-sym="DESTRUCTORS" title="(mutual-recursion
 (defun destructors (term ans)
   (cond ((or (variablep term) (fquotep term) (flambda-applicationp term)) ans)
         (t
          (destructors-lst (fargs term)
...">destructors</a> lhs nil)))
              (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> dests) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                    ctx
                    <span class="string">"~x0 is an unacceptable destructor elimination rule ~
                 because the left-hand side of its conclusion, ~x1, ~
                 does not contain any terms of the form (fn v1 ... ~
                 vn), where fn is a function symbol and the vi are ~
                 all distinct variables.  See :DOC elim."</span>
                    name
                    lhs))
                ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-no-duplicatesp-equal" data-sym="NO-DUPLICATESP-EQUAL">no-duplicatesp-equal</a> (<a class="sym-link local-def" href="#def-strip-ffn-symbs" data-sym="STRIP-FFN-SYMBS" title="(defun strip-ffn-symbs (lst)
  (cond ((null lst) nil)
        (t (cons (ffn-symb (car lst)) (strip-ffn-symbs (cdr lst))))))">strip-ffn-symbs</a> dests))) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                    ctx
                    <span class="string">"~x0 is an unacceptable destructor elimination rule ~
                 because the destructor terms, ~&amp;1, include more than ~
                 one occurrence of the same function symbol.  See :DOC ~
                 elim."</span>
                    name
                    dests))
                ((occur rhs (sublis-expr (<a class="sym-link system" href="axioms.html#def-pairlis-x2" data-sym="PAIRLIS-X2">pairlis-x2</a> dests <a class="sym-link system" href="axioms.html#def-_2At_2A" data-sym="*T*">*t*</a>) lhs)) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                    ctx
                    <span class="string">"~x0 is an unacceptable destructor elimination rule ~
                 because the right-hand side of the conclusion, ~x1, ~
                 occurs in the left-hand side, ~x2, in places other ~
                 than the destructor term~#3~[~/s~] ~&amp;3.  See :DOC ~
                 elim."</span>
                    name
                    rhs
                    lhs
                    dests))
                (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-chk-acceptable-elim-rule1" data-sym="CHK-ACCEPTABLE-ELIM-RULE1" title="(defun chk-acceptable-elim-rule1 (name vars dests ctx wrld state)
  (cond ((null dests) (value nil))
        ((not (subsetp-eq vars (fargs (car dests))))
         (er soft ctx
             &quot;~x0 is an unacceptable destructor elimination rule because ~
...">chk-acceptable-elim-rule1</a> name
                    (<a class="sym-link system" href="axioms.html#def-all-vars" data-sym="ALL-VARS">all-vars</a> term)
                    dests
                    ctx
                    wrld
                    state)))))))
      (&amp; (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
          ctx
          <span class="string">"~x0 is an unacceptable destructor elimination rule because ~
           its conclusion is not of the form (equiv lhs rhs).  See ~
           :DOC elim."</span>
          name)))))</pre>
  </div>

<div class="form-block function" id="def-add-elim-rule1" data-defines="ADD-ELIM-RULE1" data-references="GETPROPC,CONS,ELIMINATE-DESTRUCTORS-RULES,QUOTE,FFN-SYMB,PUTPROP,CDR,MEMBER-EQ,FARGS,LENGTH,-,ELIM-RULE,MAKE,RULE,CAR,DEST,LET*,T,NULL,COND,WRLD,DESTS,LST,RHS,LHS,EQUIV,HYPS,NUME,RUNE,DEFUN" data-used-by="ADD-ELIM-RULE" data-part-name="ADD-ELIM-RULE1" data-part-args="WRLD,DESTS,LST,RHS,LHS,EQUIV,HYPS,NUME,RUNE" data-part-body="GETPROPC,CONS,ELIMINATE-DESTRUCTORS-RULES,QUOTE,FFN-SYMB,PUTPROP,CDR,ADD-ELIM-RULE1,DESTS,MEMBER-EQ,FARGS,LENGTH,-,RHS,LHS,EQUIV,HYPS,NUME,RUNE,ELIM-RULE,MAKE,RULE,CAR,DEST,LET*,T,WRLD,LST,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ADD-ELIM-RULE1">add-elim-rule1</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-add-elim-rule1" data-sym="ADD-ELIM-RULE1" title="(defun add-elim-rule1 (rune nume hyps equiv lhs rhs lst dests wrld)
  (cond ((null lst) wrld)
        (t
         (let* ((dest (car lst))
                (rule
...">add-elim-rule1</a>
  (rune nume hyps equiv lhs rhs lst dests wrld)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> lst) wrld)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((dest (car lst)) (rule (<a class="sym-link system" href="basis-a.html#def-make" data-sym="MAKE">make</a> elim-rule
              <span class="keyword">:rune</span> rune
              <span class="keyword">:nume</span> nume
              <span class="keyword">:hyps</span> hyps
              <span class="keyword">:equiv</span> equiv
              <span class="keyword">:lhs</span> lhs
              <span class="keyword">:rhs</span> rhs
              <span class="keyword">:crucial-position</span> (<a class="sym-link system" href="axioms.html#def--" data-sym="-">-</a> (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> (<a class="sym-link system" href="axioms.html#def-fargs" data-sym="FARGS">fargs</a> dest))
                (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> (<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> rhs (<a class="sym-link system" href="axioms.html#def-fargs" data-sym="FARGS">fargs</a> dest))))
              <span class="keyword">:destructor-term</span> dest
              <span class="keyword">:destructor-terms</span> dests)))
        (<a class="sym-link local-def" href="#def-add-elim-rule1" data-sym="ADD-ELIM-RULE1" title="(defun add-elim-rule1 (rune nume hyps equiv lhs rhs lst dests wrld)
  (cond ((null lst) wrld)
        (t
         (let* ((dest (car lst))
                (rule
...">add-elim-rule1</a> rune
          nume
          hyps
          equiv
          lhs
          rhs
          (cdr lst)
          dests
          (<a class="sym-link system" href="axioms.html#def-putprop" data-sym="PUTPROP">putprop</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> dest)
            'eliminate-destructors-rules
            (cons rule
              (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> dest)
                'eliminate-destructors-rules
                nil
                wrld))
            wrld))))))</pre>
  </div>

<div class="form-block function" id="def-add-elim-rule" data-defines="ADD-ELIM-RULE" data-references="ADD-ELIM-RULE1,DESTRUCTORS,REVERSE,DESTS,RHS,FARGN,LHS,CDAR,FFN-SYMB,EQUIV,CAAR,HYPS,UNPRETTYIFY,LST,LET*,WRLD,TERM,NUME,RUNE,DEFUN" data-used-by="ADD-X-RULE" data-part-name="ADD-ELIM-RULE" data-part-args="WRLD,TERM,NUME,RUNE" data-part-body="WRLD,NUME,RUNE,ADD-ELIM-RULE1,DESTRUCTORS,REVERSE,DESTS,RHS,FARGN,LHS,CDAR,FFN-SYMB,EQUIV,CAAR,HYPS,TERM,UNPRETTYIFY,LST,LET*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ADD-ELIM-RULE">add-elim-rule</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-add-elim-rule" data-sym="ADD-ELIM-RULE" title="(defun add-elim-rule (rune nume term wrld)
  (let* ((lst (unprettyify term))
         (hyps (caar lst))
         (equiv (ffn-symb (cdar lst)))
         (lhs (fargn (cdar lst) 1))
...">add-elim-rule</a>
  (rune nume term wrld)
  (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((lst (unprettyify term)) (hyps (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> lst))
      (equiv (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> (<a class="sym-link system" href="axioms.html#def-cdar" data-sym="CDAR">cdar</a> lst)))
      (lhs (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> (<a class="sym-link system" href="axioms.html#def-cdar" data-sym="CDAR">cdar</a> lst) <span class="number">1</span>))
      (rhs (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> (<a class="sym-link system" href="axioms.html#def-cdar" data-sym="CDAR">cdar</a> lst) <span class="number">2</span>))
      (dests (<a class="sym-link system" href="axioms.html#def-reverse" data-sym="REVERSE">reverse</a> (<a class="sym-link local-def" href="#def-destructors" data-sym="DESTRUCTORS" title="(mutual-recursion
 (defun destructors (term ans)
   (cond ((or (variablep term) (fquotep term) (flambda-applicationp term)) ans)
         (t
          (destructors-lst (fargs term)
...">destructors</a> lhs nil))))
    (<a class="sym-link local-def" href="#def-add-elim-rule1" data-sym="ADD-ELIM-RULE1" title="(defun add-elim-rule1 (rune nume hyps equiv lhs rhs lst dests wrld)
  (cond ((null lst) wrld)
        (t
         (let* ((dest (car lst))
                (rule
...">add-elim-rule1</a> rune
      nume
      hyps
      equiv
      lhs
      rhs
      dests
      dests
      wrld)))</pre>
  </div>

<div class="form-block function" id="def-chk-acceptable-generalize-rule" data-defines="CHK-ACCEPTABLE-GENERALIZE-RULE" data-references="VALUE,IGNORE,DECLARE,STATE,WRLD,CTX,TERM,NAME,DEFUN" data-used-by="CHK-ACCEPTABLE-X-RULE" data-part-name="CHK-ACCEPTABLE-GENERALIZE-RULE" data-part-args="STATE,WRLD,CTX,TERM,NAME" data-part-declare="WRLD,CTX,TERM,NAME,IGNORE,DECLARE" data-part-body="VALUE" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CHK-ACCEPTABLE-GENERALIZE-RULE">chk-acceptable-generalize-rule</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-chk-acceptable-generalize-rule" data-sym="CHK-ACCEPTABLE-GENERALIZE-RULE" title="(defun chk-acceptable-generalize-rule (name term ctx wrld state)
  (declare (ignore name term ctx wrld))
  (value nil))">chk-acceptable-generalize-rule</a>
  (name term ctx wrld state)
  (declare (ignore name term ctx wrld))
  (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil))</pre>
  </div>

<div class="form-block function" id="def-add-generalize-rule" data-defines="ADD-GENERALIZE-RULE" data-references="GLOBAL-VAL,GENERALIZE-RULE,MAKE,CONS,GENERALIZE-RULES,QUOTE,GLOBAL-SET,WRLD,TERM,NUME,RUNE,DEFUN" data-used-by="ADD-X-RULE" data-part-name="ADD-GENERALIZE-RULE" data-part-args="WRLD,TERM,NUME,RUNE" data-part-body="WRLD,GLOBAL-VAL,TERM,NUME,RUNE,GENERALIZE-RULE,MAKE,CONS,GENERALIZE-RULES,QUOTE,GLOBAL-SET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ADD-GENERALIZE-RULE">add-generalize-rule</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-add-generalize-rule" data-sym="ADD-GENERALIZE-RULE" title="(defun add-generalize-rule (rune nume term wrld)
  (global-set &#39;generalize-rules
              (cons (make generalize-rule :rune rune :nume nume :formula term)
                    (global-val &#39;generalize-rules wrld))
              wrld))">add-generalize-rule</a>
  (rune nume term wrld)
  (<a class="sym-link system" href="basis-b.html#def-global-set" data-sym="GLOBAL-SET">global-set</a> 'generalize-rules
    (cons (<a class="sym-link system" href="basis-a.html#def-make" data-sym="MAKE">make</a> generalize-rule <span class="keyword">:rune</span> rune <span class="keyword">:nume</span> nume <span class="keyword">:formula</span> term)
      (<a class="sym-link system" href="axioms.html#def-global-val" data-sym="GLOBAL-VAL">global-val</a> 'generalize-rules wrld))
    wrld))</pre>
  </div>

<div class="form-block function" id="def-find-type-prescription-pat" data-defines="FIND-TYPE-PRESCRIPTION-PAT" data-references="RECOGNIZER-TUPLE,ACCESS,AND,MOST-RECENT-ENABLED-RECOG-TUPLE,RECOG-TUPLE,LET,T,EQUAL,QUOTEP,<,NOT,FARGN,OR,IF,QUOTE,FFN-SYMB,EQ,FLAMBDA-APPLICATIONP,FQUOTEP,VARIABLEP,COND,WRLD,ENS,TERM,DEFUN" data-used-by="TRANSLATE-RULE-CLASS-ALIST" data-part-name="FIND-TYPE-PRESCRIPTION-PAT" data-part-args="WRLD,ENS,TERM" data-part-body="RECOGNIZER-TUPLE,ACCESS,AND,MOST-RECENT-ENABLED-RECOG-TUPLE,RECOG-TUPLE,LET,T,EQUAL,QUOTEP,<,NOT,WRLD,ENS,FARGN,FIND-TYPE-PRESCRIPTION-PAT,OR,IF,QUOTE,FFN-SYMB,EQ,FLAMBDA-APPLICATIONP,FQUOTEP,TERM,VARIABLEP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="FIND-TYPE-PRESCRIPTION-PAT">find-type-prescription-pat</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-find-type-prescription-pat" data-sym="FIND-TYPE-PRESCRIPTION-PAT" title="(defun find-type-prescription-pat (term ens wrld)
  (cond ((variablep term) nil) ((fquotep term) nil)
        ((flambda-applicationp term) nil)
        ((eq (ffn-symb term) &#39;if)
         (or (find-type-prescription-pat (fargn term 1) ens wrld)
...">find-type-prescription-pat</a>
  (term ens wrld)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> term) nil)
    ((<a class="sym-link system" href="axioms.html#def-fquotep" data-sym="FQUOTEP">fquotep</a> term) nil)
    ((<a class="sym-link system" href="basis-b.html#def-flambda-applicationp" data-sym="FLAMBDA-APPLICATIONP">flambda-applicationp</a> term) nil)
    ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term) 'if) (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link local-def" href="#def-find-type-prescription-pat" data-sym="FIND-TYPE-PRESCRIPTION-PAT" title="(defun find-type-prescription-pat (term ens wrld)
  (cond ((variablep term) nil) ((fquotep term) nil)
        ((flambda-applicationp term) nil)
        ((eq (ffn-symb term) &#39;if)
         (or (find-type-prescription-pat (fargn term 1) ens wrld)
...">find-type-prescription-pat</a> (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">1</span>) ens wrld)
        (<a class="sym-link local-def" href="#def-find-type-prescription-pat" data-sym="FIND-TYPE-PRESCRIPTION-PAT" title="(defun find-type-prescription-pat (term ens wrld)
  (cond ((variablep term) nil) ((fquotep term) nil)
        ((flambda-applicationp term) nil)
        ((eq (ffn-symb term) &#39;if)
         (or (find-type-prescription-pat (fargn term 1) ens wrld)
...">find-type-prescription-pat</a> (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">2</span>) ens wrld)
        (<a class="sym-link local-def" href="#def-find-type-prescription-pat" data-sym="FIND-TYPE-PRESCRIPTION-PAT" title="(defun find-type-prescription-pat (term ens wrld)
  (cond ((variablep term) nil) ((fquotep term) nil)
        ((flambda-applicationp term) nil)
        ((eq (ffn-symb term) &#39;if)
         (or (find-type-prescription-pat (fargn term 1) ens wrld)
...">find-type-prescription-pat</a> (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">3</span>) ens wrld)))
    ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term) '<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a>) (<a class="sym-link local-def" href="#def-find-type-prescription-pat" data-sym="FIND-TYPE-PRESCRIPTION-PAT" title="(defun find-type-prescription-pat (term ens wrld)
  (cond ((variablep term) nil) ((fquotep term) nil)
        ((flambda-applicationp term) nil)
        ((eq (ffn-symb term) &#39;if)
         (or (find-type-prescription-pat (fargn term 1) ens wrld)
...">find-type-prescription-pat</a> (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">1</span>) ens wrld))
    ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term) '&lt;) (if (<a class="sym-link system" href="axioms.html#def-quotep" data-sym="QUOTEP">quotep</a> (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">1</span>))
        (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">2</span>)
        (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">1</span>)))
    ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term) 'equal) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">1</span>)) (<a class="sym-link system" href="axioms.html#def-fquotep" data-sym="FQUOTEP">fquotep</a> (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">1</span>))) (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">2</span>))
        ((<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">2</span>)) (<a class="sym-link system" href="axioms.html#def-fquotep" data-sym="FQUOTEP">fquotep</a> (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">2</span>))) (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">1</span>))
        (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> nil)))
    ((let ((recog-tuple (most-recent-enabled-recog-tuple (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term) wrld ens)))
       (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> recog-tuple
         (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> recognizer-tuple recog-tuple <span class="keyword">:strongp</span>))) (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">1</span>))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> term)))</pre>
  </div>

<div class="form-block function" id="def-add-type-prescription-rule" data-defines="ADD-TYPE-PRESCRIPTION-RULE" data-references="GETPROPC,RULE-BACKCHAIN-LIMIT-LST,TYPE-PRESCRIPTION,MAKE,CONS,TYPE-PRESCRIPTIONS,FFN-SYMB,PUTPROP,QUOTE,HARD,ER,T,CW,PROG2$,COND,IGNORE,DECLARE,BASE-SYMBOL,DESTRUCTURE-TYPE-PRESCRIPTION,TTREE,VARS,TS,CONCL,HYPS,ERP,MV-LET,QUIETP,WRLD,ENS,BACKCHAIN-LIMIT-LST,TERM,TYPED-TERM,NUME,RUNE,DEFUN" data-used-by="ADD-X-RULE,ADD-EQUIVALENCE-RULE" data-part-name="ADD-TYPE-PRESCRIPTION-RULE" data-part-args="QUIETP,WRLD,ENS,BACKCHAIN-LIMIT-LST,TERM,TYPED-TERM,NUME,RUNE" data-part-body="GETPROPC,BACKCHAIN-LIMIT-LST,RULE-BACKCHAIN-LIMIT-LST,NUME,TYPE-PRESCRIPTION,MAKE,CONS,TYPE-PRESCRIPTIONS,FFN-SYMB,PUTPROP,ADD-TYPE-PRESCRIPTION-RULE,QUOTE,HARD,ER,T,CW,PROG2$,QUIETP,COND,IGNORE,DECLARE,WRLD,ENS,TERM,TYPED-TERM,RUNE,BASE-SYMBOL,DESTRUCTURE-TYPE-PRESCRIPTION,TTREE,VARS,TS,CONCL,HYPS,ERP,MV-LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ADD-TYPE-PRESCRIPTION-RULE">add-type-prescription-rule</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-add-type-prescription-rule" data-sym="ADD-TYPE-PRESCRIPTION-RULE" title="(defun add-type-prescription-rule
       (rune nume typed-term term backchain-limit-lst ens wrld quietp)
  (mv-let (erp hyps concl ts vars ttree)
          (destructure-type-prescription (base-symbol rune) typed-term term ens
                                         wrld)
...">add-type-prescription-rule</a>
  (rune nume
    typed-term
    term
    backchain-limit-lst
    ens
    wrld
    quietp)
  (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (erp hyps concl ts vars ttree)
    (<a class="sym-link system" href="defuns.html#def-destructure-type-prescription" data-sym="DESTRUCTURE-TYPE-PRESCRIPTION">destructure-type-prescription</a> (base-symbol rune)
      typed-term
      term
      ens
      wrld)
    (declare (ignore concl ttree))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (erp (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (quietp (<a class="sym-link system" href="axioms.html#def-prog2_24" data-sym="PROG2$">prog2$</a> (<a class="sym-link system" href="axioms.html#def-cw" data-sym="CW">cw</a> <span class="string">"~%NOTE:  ACL2 is unable to create a proposed ~
                         type-prescription rule from the term ~x0 for ~
                         :typed-term ~x1, so this proposed rule is not being ~
                         added.~|"</span>
                term
                typed-term)
              wrld))
          (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> hard
              '<a class="sym-link local-def" href="#def-add-type-prescription-rule" data-sym="ADD-TYPE-PRESCRIPTION-RULE" title="(defun add-type-prescription-rule
       (rune nume typed-term term backchain-limit-lst ens wrld quietp)
  (mv-let (erp hyps concl ts vars ttree)
          (destructure-type-prescription (base-symbol rune) typed-term term ens
                                         wrld)
...">add-type-prescription-rule</a>
              <span class="string">"Unable to process this :TYPE-PRESCRIPTION rule.  A possible ~
                 explanation is that we are in the second pass of an ~
                 include-book or encapsulate, and although this rule was ~
                 legal in the first pass, it is not legal in the second pass. ~
                 For example, the rule may depend on a preceding ~
                 :COMPOUND-RECOGNIZER rule local to this encapsulate or ~
                 include-book.  The usual error message for ~
                 :TYPE-PRESCRIPTION rules now follows.~|~%~@0"</span>
              erp))))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-putprop" data-sym="PUTPROP">putprop</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> typed-term)
          'type-prescriptions
          (cons (<a class="sym-link system" href="basis-a.html#def-make" data-sym="MAKE">make</a> type-prescription
              <span class="keyword">:rune</span> rune
              <span class="keyword">:nume</span> nume
              <span class="keyword">:term</span> typed-term
              <span class="keyword">:hyps</span> hyps
              <span class="keyword">:backchain-limit-lst</span> (<a class="sym-link local-def" href="#def-rule-backchain-limit-lst" data-sym="RULE-BACKCHAIN-LIMIT-LST" title="(defun rule-backchain-limit-lst (backchain-limit-lst hyps wrld flg)
  (cond (backchain-limit-lst (cadr backchain-limit-lst))
        (t
         (let ((limit (default-backchain-limit wrld flg)))
           (and limit
...">rule-backchain-limit-lst</a> backchain-limit-lst hyps wrld <span class="keyword">:ts</span>)
              <span class="keyword">:basic-ts</span> ts
              <span class="keyword">:vars</span> vars
              <span class="keyword">:corollary</span> term)
            (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> typed-term)
              'type-prescriptions
              nil
              wrld))
          wrld)))))</pre>
  </div>

<div class="form-block function" id="def-strong-compound-recognizer-p1" data-defines="STRONG-COMPOUND-RECOGNIZER-P1" data-references="CDR,T,ENABLED-NUMEP,RECOGNIZER-TUPLE,ACCESS,AND,CAR,RECOG-TUPLE,LET,ENDP,COND,ENS,RECOGNIZER-ALIST,DEFUN" data-used-by="STRONG-COMPOUND-RECOGNIZER-P" data-part-name="STRONG-COMPOUND-RECOGNIZER-P1" data-part-args="ENS,RECOGNIZER-ALIST" data-part-body="CDR,STRONG-COMPOUND-RECOGNIZER-P1,T,ENS,ENABLED-NUMEP,RECOGNIZER-TUPLE,ACCESS,AND,CAR,RECOG-TUPLE,LET,RECOGNIZER-ALIST,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="STRONG-COMPOUND-RECOGNIZER-P1">strong-compound-recognizer-p1</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-strong-compound-recognizer-p1" data-sym="STRONG-COMPOUND-RECOGNIZER-P1" title="(defun strong-compound-recognizer-p1 (recognizer-alist ens)
  (cond ((endp recognizer-alist) nil)
        ((let ((recog-tuple (car recognizer-alist)))
           (and (access recognizer-tuple recog-tuple :strongp)
                (enabled-numep (access recognizer-tuple recog-tuple :nume)
...">strong-compound-recognizer-p1</a>
  (recognizer-alist ens)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> recognizer-alist) nil)
    ((let ((recog-tuple (car recognizer-alist)))
       (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> recognizer-tuple recog-tuple <span class="keyword">:strongp</span>)
         (enabled-numep (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> recognizer-tuple recog-tuple <span class="keyword">:nume</span>)
           ens))) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-strong-compound-recognizer-p1" data-sym="STRONG-COMPOUND-RECOGNIZER-P1" title="(defun strong-compound-recognizer-p1 (recognizer-alist ens)
  (cond ((endp recognizer-alist) nil)
        ((let ((recog-tuple (car recognizer-alist)))
           (and (access recognizer-tuple recog-tuple :strongp)
                (enabled-numep (access recognizer-tuple recog-tuple :nume)
...">strong-compound-recognizer-p1</a> (cdr recognizer-alist) ens))))</pre>
  </div>

<div class="form-block function" id="def-strong-compound-recognizer-p" data-defines="STRONG-COMPOUND-RECOGNIZER-P" data-references="STRONG-COMPOUND-RECOGNIZER-P1,AND,RECOGNIZER-ALIST,QUOTE,GETPROPC,ALIST,LET,WRLD,ENS,FN,DEFUN" data-used-by="WARNED-NON-REC-FNS-ALIST-FOR-TP" data-part-name="STRONG-COMPOUND-RECOGNIZER-P" data-part-args="WRLD,ENS,FN" data-part-body="ENS,STRONG-COMPOUND-RECOGNIZER-P1,AND,WRLD,RECOGNIZER-ALIST,QUOTE,FN,GETPROPC,ALIST,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="STRONG-COMPOUND-RECOGNIZER-P">strong-compound-recognizer-p</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-strong-compound-recognizer-p" data-sym="STRONG-COMPOUND-RECOGNIZER-P" title="(defun strong-compound-recognizer-p (fn ens wrld)
  (let ((alist (getpropc fn &#39;recognizer-alist nil wrld)))
    (and alist (strong-compound-recognizer-p1 alist ens))))">strong-compound-recognizer-p</a>
  (fn ens wrld)
  (let ((alist (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> fn 'recognizer-alist nil wrld)))
    (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> alist (<a class="sym-link local-def" href="#def-strong-compound-recognizer-p1" data-sym="STRONG-COMPOUND-RECOGNIZER-P1" title="(defun strong-compound-recognizer-p1 (recognizer-alist ens)
  (cond ((endp recognizer-alist) nil)
        ((let ((recog-tuple (car recognizer-alist)))
           (and (access recognizer-tuple recog-tuple :strongp)
                (enabled-numep (access recognizer-tuple recog-tuple :nume)
...">strong-compound-recognizer-p1</a> alist ens))))</pre>
  </div>

<div class="form-block function" id="def-warned-non-rec-fns-alist-for-tp" data-defines="WARNED-NON-REC-FNS-ALIST-FOR-TP" data-references="NON-RECURSIVE-FNNAMES-ALIST,T,STRONG-COMPOUND-RECOGNIZER-P,NOT,FARGN,UNION-EQUAL,IF,QUOTE,EQ,FARGS,NON-RECURSIVE-FNNAMES-ALIST-LST,PUT-ASSOC-EQUAL,FFN-SYMB,FLAMBDAP,FQUOTEP,VARIABLEP,OR,COND,WRLD,ENS,TERM,DEFUN" data-used-by="WARNED-NON-REC-FNS-ALIST-TP-HYPS1" data-part-name="WARNED-NON-REC-FNS-ALIST-FOR-TP" data-part-args="WRLD,ENS,TERM" data-part-body="NON-RECURSIVE-FNNAMES-ALIST,T,STRONG-COMPOUND-RECOGNIZER-P,NOT,FARGN,WARNED-NON-REC-FNS-ALIST-FOR-TP,UNION-EQUAL,IF,QUOTE,EQ,WRLD,ENS,FARGS,NON-RECURSIVE-FNNAMES-ALIST-LST,PUT-ASSOC-EQUAL,FFN-SYMB,FLAMBDAP,FQUOTEP,TERM,VARIABLEP,OR,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="WARNED-NON-REC-FNS-ALIST-FOR-TP">warned-non-rec-fns-alist-for-tp</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-warned-non-rec-fns-alist-for-tp" data-sym="WARNED-NON-REC-FNS-ALIST-FOR-TP" title="(defun warned-non-rec-fns-alist-for-tp (term ens wrld)
  (cond ((or (variablep term) (fquotep term)) nil)
        ((flambdap (ffn-symb term))
         (put-assoc-equal (ffn-symb term) nil
                          (non-recursive-fnnames-alist-lst (fargs term) ens
...">warned-non-rec-fns-alist-for-tp</a>
  (term ens wrld)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> term) (<a class="sym-link system" href="axioms.html#def-fquotep" data-sym="FQUOTEP">fquotep</a> term)) nil)
    ((<a class="sym-link system" href="basis-b.html#def-flambdap" data-sym="FLAMBDAP">flambdap</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term)) (<a class="sym-link system" href="axioms.html#def-put-assoc-equal" data-sym="PUT-ASSOC-EQUAL">put-assoc-equal</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term)
        nil
        (<a class="sym-link local-def" href="#def-non-recursive-fnnames-alist-lst" data-sym="NON-RECURSIVE-FNNAMES-ALIST-LST" title="(defun non-recursive-fnnames-alist-lst (lst ens wrld)
  (reverse (non-recursive-fnnames-alist-rec-lst lst ens wrld nil nil)))">non-recursive-fnnames-alist-lst</a> (<a class="sym-link system" href="axioms.html#def-fargs" data-sym="FARGS">fargs</a> term) ens wrld)))
    ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term) 'if) (<a class="sym-link system" href="axioms.html#def-union-equal" data-sym="UNION-EQUAL">union-equal</a> (<a class="sym-link local-def" href="#def-warned-non-rec-fns-alist-for-tp" data-sym="WARNED-NON-REC-FNS-ALIST-FOR-TP" title="(defun warned-non-rec-fns-alist-for-tp (term ens wrld)
  (cond ((or (variablep term) (fquotep term)) nil)
        ((flambdap (ffn-symb term))
         (put-assoc-equal (ffn-symb term) nil
                          (non-recursive-fnnames-alist-lst (fargs term) ens
...">warned-non-rec-fns-alist-for-tp</a> (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">1</span>) ens wrld)
        (<a class="sym-link system" href="axioms.html#def-union-equal" data-sym="UNION-EQUAL">union-equal</a> (<a class="sym-link local-def" href="#def-warned-non-rec-fns-alist-for-tp" data-sym="WARNED-NON-REC-FNS-ALIST-FOR-TP" title="(defun warned-non-rec-fns-alist-for-tp (term ens wrld)
  (cond ((or (variablep term) (fquotep term)) nil)
        ((flambdap (ffn-symb term))
         (put-assoc-equal (ffn-symb term) nil
                          (non-recursive-fnnames-alist-lst (fargs term) ens
...">warned-non-rec-fns-alist-for-tp</a> (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">2</span>) ens wrld)
          (<a class="sym-link local-def" href="#def-warned-non-rec-fns-alist-for-tp" data-sym="WARNED-NON-REC-FNS-ALIST-FOR-TP" title="(defun warned-non-rec-fns-alist-for-tp (term ens wrld)
  (cond ((or (variablep term) (fquotep term)) nil)
        ((flambdap (ffn-symb term))
         (put-assoc-equal (ffn-symb term) nil
                          (non-recursive-fnnames-alist-lst (fargs term) ens
...">warned-non-rec-fns-alist-for-tp</a> (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">3</span>) ens wrld))))
    ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term) '<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a>) (<a class="sym-link local-def" href="#def-warned-non-rec-fns-alist-for-tp" data-sym="WARNED-NON-REC-FNS-ALIST-FOR-TP" title="(defun warned-non-rec-fns-alist-for-tp (term ens wrld)
  (cond ((or (variablep term) (fquotep term)) nil)
        ((flambdap (ffn-symb term))
         (put-assoc-equal (ffn-symb term) nil
                          (non-recursive-fnnames-alist-lst (fargs term) ens
...">warned-non-rec-fns-alist-for-tp</a> (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">1</span>) ens wrld))
    ((<a class="sym-link local-def" href="#def-strong-compound-recognizer-p" data-sym="STRONG-COMPOUND-RECOGNIZER-P" title="(defun strong-compound-recognizer-p (fn ens wrld)
  (let ((alist (getpropc fn &#39;recognizer-alist nil wrld)))
    (and alist (strong-compound-recognizer-p1 alist ens))))">strong-compound-recognizer-p</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term) ens wrld) (<a class="sym-link local-def" href="#def-non-recursive-fnnames-alist-lst" data-sym="NON-RECURSIVE-FNNAMES-ALIST-LST" title="(defun non-recursive-fnnames-alist-lst (lst ens wrld)
  (reverse (non-recursive-fnnames-alist-rec-lst lst ens wrld nil nil)))">non-recursive-fnnames-alist-lst</a> (<a class="sym-link system" href="axioms.html#def-fargs" data-sym="FARGS">fargs</a> term) ens wrld))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-non-recursive-fnnames-alist" data-sym="NON-RECURSIVE-FNNAMES-ALIST" title="(defun non-recursive-fnnames-alist (term ens wrld)
  (reverse (non-recursive-fnnames-alist-rec term ens wrld nil nil)))">non-recursive-fnnames-alist</a> term ens wrld))))</pre>
  </div>

<div class="form-block function" id="def-warned-non-rec-fns-alist-tp-hyps1" data-defines="WARNED-NON-REC-FNS-ALIST-TP-HYPS1" data-references="WARNED-NON-REC-FNS-ALIST-FOR-TP,UNION-EQUAL,FARGN,CASE-SPLIT,FORCE,QUOTE,FFN-SYMB,MEMBER-EQ,CAR,NVARIABLEP,AND,IF,HYP,LET,CDR,T,ENDP,COND,ACC,WRLD,ENS,HYPS,DEFUN" data-used-by="WARNED-NON-REC-FNS-ALIST-TP-HYPS" data-part-name="WARNED-NON-REC-FNS-ALIST-TP-HYPS1" data-part-args="ACC,WRLD,ENS,HYPS" data-part-body="WARNED-NON-REC-FNS-ALIST-FOR-TP,UNION-EQUAL,FARGN,CASE-SPLIT,FORCE,QUOTE,FFN-SYMB,MEMBER-EQ,CAR,NVARIABLEP,AND,IF,HYP,LET,WRLD,ENS,CDR,WARNED-NON-REC-FNS-ALIST-TP-HYPS1,T,ACC,HYPS,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="WARNED-NON-REC-FNS-ALIST-TP-HYPS1">warned-non-rec-fns-alist-tp-hyps1</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-warned-non-rec-fns-alist-tp-hyps1" data-sym="WARNED-NON-REC-FNS-ALIST-TP-HYPS1" title="(defun warned-non-rec-fns-alist-tp-hyps1 (hyps ens wrld acc)
  (cond ((endp hyps) acc)
        (t
         (warned-non-rec-fns-alist-tp-hyps1 (cdr hyps) ens wrld
                                            (let ((hyp
...">warned-non-rec-fns-alist-tp-hyps1</a>
  (hyps ens wrld acc)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> hyps) acc)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-warned-non-rec-fns-alist-tp-hyps1" data-sym="WARNED-NON-REC-FNS-ALIST-TP-HYPS1" title="(defun warned-non-rec-fns-alist-tp-hyps1 (hyps ens wrld acc)
  (cond ((endp hyps) acc)
        (t
         (warned-non-rec-fns-alist-tp-hyps1 (cdr hyps) ens wrld
                                            (let ((hyp
...">warned-non-rec-fns-alist-tp-hyps1</a> (cdr hyps)
        ens
        wrld
        (let ((hyp (if (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-nvariablep" data-sym="NVARIABLEP">nvariablep</a> (car hyps))
                 (<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> (car hyps)) '(<a class="sym-link system" href="axioms.html#def-force" data-sym="FORCE">force</a> <a class="sym-link system" href="axioms.html#def-case-split" data-sym="CASE-SPLIT">case-split</a>)))
               (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> (car hyps) <span class="number">1</span>)
               (car hyps))))
          (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (acc (<a class="sym-link system" href="axioms.html#def-union-equal" data-sym="UNION-EQUAL">union-equal</a> (<a class="sym-link local-def" href="#def-warned-non-rec-fns-alist-for-tp" data-sym="WARNED-NON-REC-FNS-ALIST-FOR-TP" title="(defun warned-non-rec-fns-alist-for-tp (term ens wrld)
  (cond ((or (variablep term) (fquotep term)) nil)
        ((flambdap (ffn-symb term))
         (put-assoc-equal (ffn-symb term) nil
                          (non-recursive-fnnames-alist-lst (fargs term) ens
...">warned-non-rec-fns-alist-for-tp</a> hyp ens wrld)
                acc))
            (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-warned-non-rec-fns-alist-for-tp" data-sym="WARNED-NON-REC-FNS-ALIST-FOR-TP" title="(defun warned-non-rec-fns-alist-for-tp (term ens wrld)
  (cond ((or (variablep term) (fquotep term)) nil)
        ((flambdap (ffn-symb term))
         (put-assoc-equal (ffn-symb term) nil
                          (non-recursive-fnnames-alist-lst (fargs term) ens
...">warned-non-rec-fns-alist-for-tp</a> hyp ens wrld))))))))</pre>
  </div>

<div class="form-block function" id="def-warned-non-rec-fns-alist-tp-hyps" data-defines="WARNED-NON-REC-FNS-ALIST-TP-HYPS" data-references="WARNED-NON-REC-FNS-ALIST-TP-HYPS1,WRLD,ENS,HYPS,DEFUN" data-used-by="CHK-ACCEPTABLE-TYPE-PRESCRIPTION-RULE" data-part-name="WARNED-NON-REC-FNS-ALIST-TP-HYPS" data-part-args="WRLD,ENS,HYPS" data-part-body="WRLD,ENS,HYPS,WARNED-NON-REC-FNS-ALIST-TP-HYPS1" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="WARNED-NON-REC-FNS-ALIST-TP-HYPS">warned-non-rec-fns-alist-tp-hyps</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-warned-non-rec-fns-alist-tp-hyps" data-sym="WARNED-NON-REC-FNS-ALIST-TP-HYPS" title="(defun warned-non-rec-fns-alist-tp-hyps (hyps ens wrld)
  (warned-non-rec-fns-alist-tp-hyps1 hyps ens wrld nil))">warned-non-rec-fns-alist-tp-hyps</a>
  (hyps ens wrld)
  (<a class="sym-link local-def" href="#def-warned-non-rec-fns-alist-tp-hyps1" data-sym="WARNED-NON-REC-FNS-ALIST-TP-HYPS1" title="(defun warned-non-rec-fns-alist-tp-hyps1 (hyps ens wrld acc)
  (cond ((endp hyps) acc)
        (t
         (warned-non-rec-fns-alist-tp-hyps1 (cdr hyps) ens wrld
                                            (let ((hyp
...">warned-non-rec-fns-alist-tp-hyps1</a> hyps ens wrld nil))</pre>
  </div>

<div class="form-block function" id="def-chk-acceptable-type-prescription-rule" data-defines="CHK-ACCEPTABLE-TYPE-PRESCRIPTION-RULE" data-references="VALUE,CDR,NULL,IF,FORCED-HYPS,NON-REC-DEF-RULES-MSG,HIDE-LAMBDAS,TYPE-PRESCRIPTION,QUASIQUOTE,WARNING$,HYPS-THAT-INSTANTIATE-FREE-VARS,INST-HYPS,ALL-VARS,FREE-VARS-IN-HYPS,WARNED-FREE-VARS,STRIP-CARS,WARNED-NON-REC-FNS,WARNED-NON-REC-FNS-ALIST-TP-HYPS,WARNING-DISABLED-P,NOT,AND,WARNED-NON-REC-FNS-ALIST,LET*,WARN-ON-SYNP-HYPS,PPROGN,T,SOFT,ER,COND,DESTRUCTURE-TYPE-PRESCRIPTION,TTREE,VARS,TS,CONCL,HYPS,ERP,MV-LET,IGNORE,DECLARE,STATE,WRLD,ENS,CTX,BACKCHAIN-LIMIT-LST,TERM,TYPED-TERM,NAME,DEFUN" data-used-by="CHK-ACCEPTABLE-X-RULE" data-part-name="CHK-ACCEPTABLE-TYPE-PRESCRIPTION-RULE" data-part-args="STATE,WRLD,ENS,CTX,BACKCHAIN-LIMIT-LST,TERM,TYPED-TERM,NAME" data-part-declare="BACKCHAIN-LIMIT-LST,IGNORE,DECLARE" data-part-body="VALUE,CDR,NULL,IF,FORCED-HYPS,NON-REC-DEF-RULES-MSG,HIDE-LAMBDAS,TYPE-PRESCRIPTION,QUASIQUOTE,WARNING$,HYPS-THAT-INSTANTIATE-FREE-VARS,INST-HYPS,ALL-VARS,FREE-VARS-IN-HYPS,WARNED-FREE-VARS,STRIP-CARS,WARNED-NON-REC-FNS,WARNED-NON-REC-FNS-ALIST-TP-HYPS,WARNING-DISABLED-P,NOT,AND,WARNED-NON-REC-FNS-ALIST,LET*,STATE,WARN-ON-SYNP-HYPS,PPROGN,T,CTX,SOFT,ER,COND,IGNORE,DECLARE,WRLD,ENS,TERM,TYPED-TERM,NAME,DESTRUCTURE-TYPE-PRESCRIPTION,TTREE,VARS,TS,CONCL,HYPS,ERP,MV-LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CHK-ACCEPTABLE-TYPE-PRESCRIPTION-RULE">chk-acceptable-type-prescription-rule</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-chk-acceptable-type-prescription-rule" data-sym="CHK-ACCEPTABLE-TYPE-PRESCRIPTION-RULE" title="(defun chk-acceptable-type-prescription-rule
       (name typed-term term backchain-limit-lst ctx ens wrld state)
  (declare (ignore backchain-limit-lst))
  (mv-let (erp hyps concl ts vars ttree)
          (destructure-type-prescription name typed-term term ens wrld)
...">chk-acceptable-type-prescription-rule</a>
  (name typed-term
    term
    backchain-limit-lst
    ctx
    ens
    wrld
    state)
  (declare (ignore backchain-limit-lst))
  (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (erp hyps concl ts vars ttree)
    (<a class="sym-link system" href="defuns.html#def-destructure-type-prescription" data-sym="DESTRUCTURE-TYPE-PRESCRIPTION">destructure-type-prescription</a> name
      typed-term
      term
      ens
      wrld)
    (declare (ignore ts concl vars))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (erp (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft ctx <span class="string">"~@0"</span> erp))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link local-def" href="#def-warn-on-synp-hyps" data-sym="WARN-ON-SYNP-HYPS" title="(defun warn-on-synp-hyps (hyps name rule-class ctx wrld state)
  (cond
   ((or (null hyps) (warning-off-p &quot;Syntaxp/Bind-free Hypotheses&quot; state))
    state)
   (t (warn-on-synp-hyps1 hyps name rule-class ctx wrld state))))">warn-on-synp-hyps</a> hyps
            name
            <span class="keyword">:type-prescription</span> ctx
            wrld
            state)
          (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((warned-non-rec-fns-alist (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="basis-a.html#def-warning-disabled-p" data-sym="WARNING-DISABLED-P">warning-disabled-p</a> <span class="string">"Non-rec"</span>))
                 (<a class="sym-link local-def" href="#def-warned-non-rec-fns-alist-tp-hyps" data-sym="WARNED-NON-REC-FNS-ALIST-TP-HYPS" title="(defun warned-non-rec-fns-alist-tp-hyps (hyps ens wrld)
  (warned-non-rec-fns-alist-tp-hyps1 hyps ens wrld nil))">warned-non-rec-fns-alist-tp-hyps</a> hyps ens wrld))) (warned-non-rec-fns (<a class="sym-link system" href="axioms.html#def-strip-cars" data-sym="STRIP-CARS">strip-cars</a> warned-non-rec-fns-alist))
              (warned-free-vars (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="basis-a.html#def-warning-disabled-p" data-sym="WARNING-DISABLED-P">warning-disabled-p</a> <span class="string">"Free"</span>))
                  (<a class="sym-link local-def" href="#def-free-vars-in-hyps" data-sym="FREE-VARS-IN-HYPS" title="(defun free-vars-in-hyps (hyps bound-vars wrld)
  (cond ((null hyps) nil)
        (t
         (mv-let (forcep flg)
                 (binding-hyp-p (car hyps) (pairlis$ bound-vars bound-vars)
...">free-vars-in-hyps</a> hyps (<a class="sym-link system" href="axioms.html#def-all-vars" data-sym="ALL-VARS">all-vars</a> typed-term) wrld)))
              (inst-hyps (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> warned-free-vars
                  (<a class="sym-link local-def" href="#def-hyps-that-instantiate-free-vars" data-sym="HYPS-THAT-INSTANTIATE-FREE-VARS" title="(defun hyps-that-instantiate-free-vars (free-vars hyps)
  (cond ((null free-vars) nil)
        ((intersectp-eq free-vars (all-vars (car hyps)))
         (cons (car hyps)
               (hyps-that-instantiate-free-vars
...">hyps-that-instantiate-free-vars</a> warned-free-vars hyps))))
            (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (warned-non-rec-fns-alist (<a class="sym-link system" href="axioms.html#def-warning_24" data-sym="WARNING$">warning$</a> ctx
                    (<span class="string">"Non-rec"</span>)
                    `(<span class="string">"The hypothesis of the :type-prescription rule ~
                         generated from ~x0 contains the function symbol~#1~[ ~
                         ~&amp;1, which has a non-recursive definition~/s ~&amp;1, ~
                         which have non-recursive definitions~].~@2  Since ~
                         the hypotheses of :type-prescription rules are ~
                         relieved by type reasoning alone (and not rewriting) ~
                         ~#1~[this function is~/these functions are~] liable ~
                         to make the rule inapplicable.  See :DOC ~
                         type-prescription."</span> (<span class="keyword">:doc</span> type-prescription)
                      (<span class="keyword">:name</span> ,NAME)
                      (<span class="keyword">:non-recursive-fns</span> ,(HIDE-LAMBDAS WARNED-NON-REC-FNS))
                      (<span class="keyword">:rule-class</span> <span class="keyword">:type-prescription</span>))
                    name
                    (<a class="sym-link local-def" href="#def-hide-lambdas" data-sym="HIDE-LAMBDAS" title="(defun hide-lambdas (lst)
  (cond ((null lst) nil)
        (t
         (cons
          (if (flambdap (car lst))
...">hide-lambdas</a> warned-non-rec-fns)
                    (<a class="sym-link local-def" href="#def-non-rec-def-rules-msg" data-sym="NON-REC-DEF-RULES-MSG" title="(defun non-rec-def-rules-msg (alist)
  (let ((lst (non-rec-def-rules-msg-1 alist)))
    (cond ((null lst) &quot;&quot;)
          (t
           (msg &quot;  (Note that ~*0&quot;">non-rec-def-rules-msg</a> warned-non-rec-fns-alist)))
                (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> state))
              (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (warned-free-vars (<a class="sym-link system" href="axioms.html#def-warning_24" data-sym="WARNING$">warning$</a> ctx
                    (<span class="string">"Free"</span>)
                    `(<span class="string">"The :type-prescription rule generated from ~x0 ~
                         contains the free variable~#1~[ ~&amp;1.  This ~
                         variable~/s ~&amp;1.  These variables~] will be chosen ~
                         by searching for instances of ~&amp;2 among the ~
                         hypotheses of conjectures being rewritten.  This is ~
                         generally a severe restriction on the applicability ~
                         of the :type-prescription rule."</span> (<span class="keyword">:free-variables</span> ,WARNED-FREE-VARS)
                      (<span class="keyword">:instantiated-hyps</span> ,INST-HYPS)
                      (<span class="keyword">:name</span> ,NAME)
                      (<span class="keyword">:rule-class</span> <span class="keyword">:type-prescription</span>))
                    name
                    warned-free-vars
                    inst-hyps))
                (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> state))
              (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> warned-free-vars (<a class="sym-link local-def" href="#def-forced-hyps" data-sym="FORCED-HYPS" title="(defun forced-hyps (lst)
  (cond ((null lst) nil)
        ((and (nvariablep (car lst))
              (or (eq (ffn-symb (car lst)) &#39;force)
                  (eq (ffn-symb (car lst)) &#39;case-split)))
...">forced-hyps</a> inst-hyps)) (<a class="sym-link system" href="axioms.html#def-warning_24" data-sym="WARNING$">warning$</a> ctx
                    (<span class="string">"Free"</span>)
                    <span class="string">"For the forced ~#0~[hypothesis~/hypotheses~], ~&amp;1, ~
                       used to instantiate free variables we will search for ~
                       ~#0~[an instance of the argument~/instances of the ~
                       arguments~] rather than ~#0~[an instance~/instances~] ~
                       of the FORCE or CASE-SPLIT ~#0~[term itself~/terms ~
                       themselves~].  If a search fails for such a ~
                       hypothesis, we will cause a case split on the ~
                       partially instantiated hypothesis.  Note that this ~
                       case split will introduce a ``free variable&#39;&#39; into the ~
                       conjecture.  While sound, this will establish a goal ~
                       almost certain to fail since the restriction described ~
                       by this apparently necessary hypothesis constrains a ~
                       variable not involved in the problem.  To highlight ~
                       this oddity, we will rename the free variables in such ~
                       forced hypotheses by prefixing them with ~
                       ``UNBOUND-FREE-&#39;&#39;.  This is not guaranteed to generate ~
                       a new variable but at least it generates an unusual ~
                       one.  If you see such a variable in a subsequent proof ~
                       (and did not introduce them yourself) you should ~
                       consider the possibility that the free variables of ~
                       this type-prescription rule were forced into the ~
                       conjecture."</span>
                    (if (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> (cdr (<a class="sym-link local-def" href="#def-forced-hyps" data-sym="FORCED-HYPS" title="(defun forced-hyps (lst)
  (cond ((null lst) nil)
        ((and (nvariablep (car lst))
              (or (eq (ffn-symb (car lst)) &#39;force)
                  (eq (ffn-symb (car lst)) &#39;case-split)))
...">forced-hyps</a> inst-hyps)))
                      <span class="number">0</span>
                      <span class="number">1</span>)
                    (<a class="sym-link local-def" href="#def-forced-hyps" data-sym="FORCED-HYPS" title="(defun forced-hyps (lst)
  (cond ((null lst) nil)
        ((and (nvariablep (car lst))
              (or (eq (ffn-symb (car lst)) &#39;force)
                  (eq (ffn-symb (car lst)) &#39;case-split)))
...">forced-hyps</a> inst-hyps)))
                (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> state))
              (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> ttree))))))))</pre>
  </div>

<div class="form-block function" id="def-fix-pkg" data-defines="FIX-PKG" data-references="*MAIN-LISP-PACKAGE-NAME*,IF,EQUAL,NOT,STRINGP,NULL,OR,AND,XARGS,DECLARE,PKG,DEFUN" data-used-by="FIX-INTERN$" data-part-name="FIX-PKG" data-part-args="PKG" data-part-declare="EQUAL,NOT,STRINGP,PKG,NULL,OR,AND,XARGS,DECLARE" data-part-body="*MAIN-LISP-PACKAGE-NAME*,EQUAL,NOT,PKG,AND,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="FIX-PKG">fix-pkg</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-fix-pkg" data-sym="FIX-PKG" title="(defun fix-pkg (pkg)
  (declare
   (xargs :guard (and (or (null pkg) (stringp pkg)) (not (equal pkg &quot;&quot;)))))
  (if (and pkg (not (equal pkg *main-lisp-package-name*)))
      pkg">fix-pkg</a>
  (pkg)
  (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> pkg) (stringp pkg)) (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (equal pkg <span class="string">""</span>)))))
  (if (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> pkg (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (equal pkg <a class="sym-link system" href="axioms.html#def-_2Amain-lisp-package-name_2A" data-sym="*MAIN-LISP-PACKAGE-NAME*">*main-lisp-package-name*</a>)))
    pkg
    <span class="string">"ACL2"</span>))</pre>
  </div>

<div class="form-block macro" id="def-fix-intern_24" data-defines="FIX-INTERN$" data-references="FIX-PKG,INTERN$,QUASIQUOTE,PKG,NAME,DEFMACRO" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="FIX-INTERN$">fix-intern$</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-fix-intern_24" data-sym="FIX-INTERN$" title="(defmacro fix-intern$ (name pkg) `(intern$ ,name (fix-pkg ,pkg)))">fix-intern$</a>
  (name pkg)
  `(<a class="sym-link system" href="axioms.html#def-intern_24" data-sym="INTERN$">intern$</a> ,NAME (<a class="sym-link local-def" href="#def-fix-pkg" data-sym="FIX-PKG" title="(defun fix-pkg (pkg)
  (declare
   (xargs :guard (and (or (null pkg) (stringp pkg)) (not (equal pkg &quot;&quot;)))))
  (if (and pkg (not (equal pkg *main-lisp-package-name*)))
      pkg">fix-pkg</a> ,PKG)))</pre>
  </div>

<div class="form-block macro" id="def-fix-intern-in-pkg-of-sym" data-defines="FIX-INTERN-IN-PKG-OF-SYM" data-references="PKG-WITNESS,*MAIN-LISP-PACKAGE-NAME*,SYMBOL-PACKAGE-NAME,EQUAL,IF,LET,INTERN-IN-PACKAGE-OF-SYMBOL,QUASIQUOTE,SYM,STRING,DEFMACRO" data-used-by="DEFREFINEMENT-FORM,TRANSITIVITY,SYMMETRY,REFLEXIVITY,BOOLEAN-FN,GEN-SYM-SYM" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="FIX-INTERN-IN-PKG-OF-SYM">fix-intern-in-pkg-of-sym</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-fix-intern-in-pkg-of-sym" data-sym="FIX-INTERN-IN-PKG-OF-SYM" title="(defmacro fix-intern-in-pkg-of-sym (string sym)
  `(intern-in-package-of-symbol ,string
                                (let ((sym ,sym))
                                  (if (equal (symbol-package-name sym)
                                             *main-lisp-package-name*)
...">fix-intern-in-pkg-of-sym</a>
  (<a class="sym-link system" href="axioms.html#def-string" data-sym="STRING">string</a> sym)
  `(intern-in-package-of-symbol ,STRING
    (let ((sym ,SYM))
      (if (equal (symbol-package-name sym) <a class="sym-link system" href="axioms.html#def-_2Amain-lisp-package-name_2A" data-sym="*MAIN-LISP-PACKAGE-NAME*">*main-lisp-package-name*</a>)
        (pkg-witness <span class="string">"ACL2"</span>)
        sym))))</pre>
  </div>

<div class="form-block function" id="def-pack-to-string" data-defines="PACK-TO-STRING" data-references="STRING,QUOTE,PACKN1,COERCE,ATOM-LISTP,XARGS,DECLARE,L,DEFUN" data-used-by="GEN-SYM-SYM" data-part-name="PACK-TO-STRING" data-part-args="L" data-part-declare="L,ATOM-LISTP,XARGS,DECLARE" data-part-body="STRING,QUOTE,L,PACKN1,COERCE" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="PACK-TO-STRING">pack-to-string</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-pack-to-string" data-sym="PACK-TO-STRING" title="(defun pack-to-string (l)
  (declare (xargs :guard (atom-listp l)))
  (coerce (packn1 l) &#39;string))">pack-to-string</a>
  (l)
  (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="axioms.html#def-atom-listp" data-sym="ATOM-LISTP">atom-listp</a> l)))
  (coerce (<a class="sym-link system" href="basis-a.html#def-packn1" data-sym="PACKN1">packn1</a> l) '<a class="sym-link system" href="axioms.html#def-string" data-sym="STRING">string</a>))</pre>
  </div>

<div class="form-block function" id="def-gen-sym-sym" data-defines="GEN-SYM-SYM" data-references="PACK-TO-STRING,FIX-INTERN-IN-PKG-OF-SYM,SYMBOLP,ATOM-LISTP,AND,XARGS,DECLARE,SYM,L,DEFUN" data-used-by="DEFCONG-FORM,DEFREFINEMENT-FORM,DEFEQUIV-FORM" data-part-name="GEN-SYM-SYM" data-part-args="SYM,L" data-part-declare="SYM,SYMBOLP,L,ATOM-LISTP,AND,XARGS,DECLARE" data-part-body="SYM,L,PACK-TO-STRING,FIX-INTERN-IN-PKG-OF-SYM" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="GEN-SYM-SYM">gen-sym-sym</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-gen-sym-sym" data-sym="GEN-SYM-SYM" title="(defun gen-sym-sym (l sym)
  (declare (xargs :guard (and (atom-listp l) (symbolp sym))))
  (fix-intern-in-pkg-of-sym (pack-to-string l) sym))">gen-sym-sym</a>
  (l sym)
  (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-atom-listp" data-sym="ATOM-LISTP">atom-listp</a> l) (symbolp sym))))
  (<a class="sym-link local-def" href="#def-fix-intern-in-pkg-of-sym" data-sym="FIX-INTERN-IN-PKG-OF-SYM" title="(defmacro fix-intern-in-pkg-of-sym (string sym)
  `(intern-in-package-of-symbol ,string
                                (let ((sym ,sym))
                                  (if (equal (symbol-package-name sym)
                                             *main-lisp-package-name*)
...">fix-intern-in-pkg-of-sym</a> (<a class="sym-link local-def" href="#def-pack-to-string" data-sym="PACK-TO-STRING" title="(defun pack-to-string (l)
  (declare (xargs :guard (atom-listp l)))
  (coerce (packn1 l) &#39;string))">pack-to-string</a> l) sym))</pre>
  </div>

<div class="form-block function" id="def-boolean-fn" data-defines="BOOLEAN-FN" data-references="BOOLEANP,QUASIQUOTE,Y,FIX-INTERN-IN-PKG-OF-SYM,X,LET,SYM,FN,DEFUN" data-part-name="BOOLEAN-FN" data-part-args="SYM,FN" data-part-body="BOOLEANP,QUASIQUOTE,Y,SYM,FIX-INTERN-IN-PKG-OF-SYM,X,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="BOOLEAN-FN">boolean-fn</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-boolean-fn" data-sym="BOOLEAN-FN" title="(defun boolean-fn (fn sym)
  (let ((x (fix-intern-in-pkg-of-sym &quot;X&quot; sym))
        (y (fix-intern-in-pkg-of-sym &quot;Y&quot; sym)))
    `(booleanp (,fn ,x ,y))))">boolean-fn</a>
  (fn sym)
  (let ((x (<a class="sym-link local-def" href="#def-fix-intern-in-pkg-of-sym" data-sym="FIX-INTERN-IN-PKG-OF-SYM" title="(defmacro fix-intern-in-pkg-of-sym (string sym)
  `(intern-in-package-of-symbol ,string
                                (let ((sym ,sym))
                                  (if (equal (symbol-package-name sym)
                                             *main-lisp-package-name*)
...">fix-intern-in-pkg-of-sym</a> <span class="string">"X"</span> sym)) (y (<a class="sym-link local-def" href="#def-fix-intern-in-pkg-of-sym" data-sym="FIX-INTERN-IN-PKG-OF-SYM" title="(defmacro fix-intern-in-pkg-of-sym (string sym)
  `(intern-in-package-of-symbol ,string
                                (let ((sym ,sym))
                                  (if (equal (symbol-package-name sym)
                                             *main-lisp-package-name*)
...">fix-intern-in-pkg-of-sym</a> <span class="string">"Y"</span> sym)))
    `(<a class="sym-link system" href="axioms.html#def-booleanp" data-sym="BOOLEANP">booleanp</a> (,FN ,X ,Y))))</pre>
  </div>

<div class="form-block function" id="def-reflexivity" data-defines="REFLEXIVITY" data-references="QUASIQUOTE,FIX-INTERN-IN-PKG-OF-SYM,X,LET,SYM,FN,DEFUN" data-part-name="REFLEXIVITY" data-part-args="SYM,FN" data-part-body="QUASIQUOTE,SYM,FIX-INTERN-IN-PKG-OF-SYM,X,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="REFLEXIVITY">reflexivity</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-reflexivity" data-sym="REFLEXIVITY" title="(defun reflexivity (fn sym)
  (let ((x (fix-intern-in-pkg-of-sym &quot;X&quot; sym)))
    `(,fn ,x ,x)))">reflexivity</a>
  (fn sym)
  (let ((x (<a class="sym-link local-def" href="#def-fix-intern-in-pkg-of-sym" data-sym="FIX-INTERN-IN-PKG-OF-SYM" title="(defmacro fix-intern-in-pkg-of-sym (string sym)
  `(intern-in-package-of-symbol ,string
                                (let ((sym ,sym))
                                  (if (equal (symbol-package-name sym)
                                             *main-lisp-package-name*)
...">fix-intern-in-pkg-of-sym</a> <span class="string">"X"</span> sym)))
    `(,FN ,X ,X)))</pre>
  </div>

<div class="form-block function" id="def-symmetry" data-defines="SYMMETRY" data-references="IMPLIES,QUASIQUOTE,Y,FIX-INTERN-IN-PKG-OF-SYM,X,LET,SYM,FN,DEFUN" data-part-name="SYMMETRY" data-part-args="SYM,FN" data-part-body="IMPLIES,QUASIQUOTE,Y,SYM,FIX-INTERN-IN-PKG-OF-SYM,X,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="SYMMETRY">symmetry</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-symmetry" data-sym="SYMMETRY" title="(defun symmetry (fn sym)
  (let ((x (fix-intern-in-pkg-of-sym &quot;X&quot; sym))
        (y (fix-intern-in-pkg-of-sym &quot;Y&quot; sym)))
    `(implies (,fn ,x ,y) (,fn ,y ,x))))">symmetry</a>
  (fn sym)
  (let ((x (<a class="sym-link local-def" href="#def-fix-intern-in-pkg-of-sym" data-sym="FIX-INTERN-IN-PKG-OF-SYM" title="(defmacro fix-intern-in-pkg-of-sym (string sym)
  `(intern-in-package-of-symbol ,string
                                (let ((sym ,sym))
                                  (if (equal (symbol-package-name sym)
                                             *main-lisp-package-name*)
...">fix-intern-in-pkg-of-sym</a> <span class="string">"X"</span> sym)) (y (<a class="sym-link local-def" href="#def-fix-intern-in-pkg-of-sym" data-sym="FIX-INTERN-IN-PKG-OF-SYM" title="(defmacro fix-intern-in-pkg-of-sym (string sym)
  `(intern-in-package-of-symbol ,string
                                (let ((sym ,sym))
                                  (if (equal (symbol-package-name sym)
                                             *main-lisp-package-name*)
...">fix-intern-in-pkg-of-sym</a> <span class="string">"Y"</span> sym)))
    `(<a class="sym-link system" href="axioms.html#def-implies" data-sym="IMPLIES">implies</a> (,FN ,X ,Y) (,FN ,Y ,X))))</pre>
  </div>

<div class="form-block function" id="def-transitivity" data-defines="TRANSITIVITY" data-references="AND,IMPLIES,QUASIQUOTE,Z,Y,FIX-INTERN-IN-PKG-OF-SYM,X,LET,SYM,FN,DEFUN" data-part-name="TRANSITIVITY" data-part-args="SYM,FN" data-part-body="AND,IMPLIES,QUASIQUOTE,Z,Y,SYM,FIX-INTERN-IN-PKG-OF-SYM,X,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="TRANSITIVITY">transitivity</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-transitivity" data-sym="TRANSITIVITY" title="(defun transitivity (fn sym)
  (let ((x (fix-intern-in-pkg-of-sym &quot;X&quot; sym))
        (y (fix-intern-in-pkg-of-sym &quot;Y&quot; sym))
        (z (fix-intern-in-pkg-of-sym &quot;Z&quot; sym)))
    `(implies (and (,fn ,x ,y) (,fn ,y ,z)) (,fn ,x ,z))))">transitivity</a>
  (fn sym)
  (let ((x (<a class="sym-link local-def" href="#def-fix-intern-in-pkg-of-sym" data-sym="FIX-INTERN-IN-PKG-OF-SYM" title="(defmacro fix-intern-in-pkg-of-sym (string sym)
  `(intern-in-package-of-symbol ,string
                                (let ((sym ,sym))
                                  (if (equal (symbol-package-name sym)
                                             *main-lisp-package-name*)
...">fix-intern-in-pkg-of-sym</a> <span class="string">"X"</span> sym)) (y (<a class="sym-link local-def" href="#def-fix-intern-in-pkg-of-sym" data-sym="FIX-INTERN-IN-PKG-OF-SYM" title="(defmacro fix-intern-in-pkg-of-sym (string sym)
  `(intern-in-package-of-symbol ,string
                                (let ((sym ,sym))
                                  (if (equal (symbol-package-name sym)
                                             *main-lisp-package-name*)
...">fix-intern-in-pkg-of-sym</a> <span class="string">"Y"</span> sym))
      (z (<a class="sym-link local-def" href="#def-fix-intern-in-pkg-of-sym" data-sym="FIX-INTERN-IN-PKG-OF-SYM" title="(defmacro fix-intern-in-pkg-of-sym (string sym)
  `(intern-in-package-of-symbol ,string
                                (let ((sym ,sym))
                                  (if (equal (symbol-package-name sym)
                                             *main-lisp-package-name*)
...">fix-intern-in-pkg-of-sym</a> <span class="string">"Z"</span> sym)))
    `(<a class="sym-link system" href="axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (,FN ,X ,Y) (,FN ,Y ,Z)) (,FN ,X ,Z))))</pre>
  </div>

<div class="form-block function" id="def-equivalence-relation-condition" data-defines="EQUIVALENCE-RELATION-CONDITION" data-references="AND,QUASIQUOTE,SYM,FN,DEFUN" data-used-by="DEFEQUIV-FORM,CHK-ACCEPTABLE-EQUIVALENCE-RULE" data-part-name="EQUIVALENCE-RELATION-CONDITION" data-part-args="SYM,FN" data-part-body="AND,QUASIQUOTE" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="EQUIVALENCE-RELATION-CONDITION">equivalence-relation-condition</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-equivalence-relation-condition" data-sym="EQUIVALENCE-RELATION-CONDITION" title="(defun equivalence-relation-condition (fn sym)
  `(and ,(boolean-fn fn sym) ,(reflexivity fn sym) ,(symmetry fn sym)
        ,(transitivity fn sym)))">equivalence-relation-condition</a>
  (fn sym)
  `(<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> ,(BOOLEAN-FN FN SYM)
    ,(REFLEXIVITY FN SYM)
    ,(SYMMETRY FN SYM)
    ,(TRANSITIVITY FN SYM)))</pre>
  </div>

<div class="form-block function" id="def-find-candidate-equivalence-relation" data-defines="FIND-CANDIDATE-EQUIVALENCE-RELATION" data-references="CDR,&,IGNORE,DECLARE,X,FN,CASE-MATCH,CAR,CLAUSE,LET,T,NULL,COND,CLAUSES,DEFUN" data-used-by="ADD-EQUIVALENCE-RULE,CHK-ACCEPTABLE-EQUIVALENCE-RULE" data-part-name="FIND-CANDIDATE-EQUIVALENCE-RELATION" data-part-args="CLAUSES" data-part-body="CDR,FIND-CANDIDATE-EQUIVALENCE-RELATION,&,IGNORE,DECLARE,X,FN,CASE-MATCH,CAR,CLAUSE,LET,T,CLAUSES,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="FIND-CANDIDATE-EQUIVALENCE-RELATION">find-candidate-equivalence-relation</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-find-candidate-equivalence-relation" data-sym="FIND-CANDIDATE-EQUIVALENCE-RELATION" title="(defun find-candidate-equivalence-relation (clauses)
  (cond ((null clauses) nil)
        (t
         (let ((clause (car clauses)))
           (case-match clause (((fn x x)) (declare (ignore x)) fn)
...">find-candidate-equivalence-relation</a>
  (clauses)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> clauses) nil)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((clause (car clauses)))
        (<a class="sym-link system" href="basis-a.html#def-case-match" data-sym="CASE-MATCH">case-match</a> clause
          (((fn x x)) (declare (ignore x)) fn)
          (&amp; (<a class="sym-link local-def" href="#def-find-candidate-equivalence-relation" data-sym="FIND-CANDIDATE-EQUIVALENCE-RELATION" title="(defun find-candidate-equivalence-relation (clauses)
  (cond ((null clauses) nil)
        (t
         (let ((clause (car clauses)))
           (case-match clause (((fn x x)) (declare (ignore x)) fn)
...">find-candidate-equivalence-relation</a> (cdr clauses))))))))</pre>
  </div>

<div class="form-block function" id="def-collect-problematic-pre-equivalence-rule-names" data-defines="COLLECT-PROBLEMATIC-PRE-EQUIVALENCE-RULE-NAMES" data-references="T,CDR,CONS,QUOTEP,FARGN,VARIABLEP,NOT,*T*,EQUAL,QUOTE,CAR,REWRITE-RULE,ACCESS,EQ,AND,NULL,COND,LST,DEFUN" data-used-by="CHK-ACCEPTABLE-EQUIVALENCE-RULE" data-part-name="COLLECT-PROBLEMATIC-PRE-EQUIVALENCE-RULE-NAMES" data-part-args="LST" data-part-body="T,CDR,COLLECT-PROBLEMATIC-PRE-EQUIVALENCE-RULE-NAMES,CONS,QUOTEP,FARGN,VARIABLEP,NOT,*T*,EQUAL,QUOTE,CAR,REWRITE-RULE,ACCESS,EQ,AND,LST,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="COLLECT-PROBLEMATIC-PRE-EQUIVALENCE-RULE-NAMES">collect-problematic-pre-equivalence-rule-names</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-collect-problematic-pre-equivalence-rule-names" data-sym="COLLECT-PROBLEMATIC-PRE-EQUIVALENCE-RULE-NAMES" title="(defun collect-problematic-pre-equivalence-rule-names (lst)
  (cond ((null lst) nil)
        ((and (eq (access rewrite-rule (car lst) :equiv) &#39;equal)
              (equal (access rewrite-rule (car lst) :rhs) *t*)
              (not (variablep (fargn (access rewrite-rule (car lst) :lhs) 1)))
...">collect-problematic-pre-equivalence-rule-names</a>
  (lst)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> lst) nil)
    ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> rewrite-rule (car lst) <span class="keyword">:equiv</span>) 'equal)
       (equal (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> rewrite-rule (car lst) <span class="keyword">:rhs</span>) <a class="sym-link system" href="axioms.html#def-_2At_2A" data-sym="*T*">*t*</a>)
       (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> rewrite-rule (car lst) <span class="keyword">:lhs</span>) <span class="number">1</span>)))
       (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-quotep" data-sym="QUOTEP">quotep</a> (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> rewrite-rule (car lst) <span class="keyword">:lhs</span>) <span class="number">1</span>)))) (cons (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> rewrite-rule (car lst) <span class="keyword">:rune</span>)
        (<a class="sym-link local-def" href="#def-collect-problematic-pre-equivalence-rule-names" data-sym="COLLECT-PROBLEMATIC-PRE-EQUIVALENCE-RULE-NAMES" title="(defun collect-problematic-pre-equivalence-rule-names (lst)
  (cond ((null lst) nil)
        ((and (eq (access rewrite-rule (car lst) :equiv) &#39;equal)
              (equal (access rewrite-rule (car lst) :rhs) *t*)
              (not (variablep (fargn (access rewrite-rule (car lst) :lhs) 1)))
...">collect-problematic-pre-equivalence-rule-names</a> (cdr lst))))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-collect-problematic-pre-equivalence-rule-names" data-sym="COLLECT-PROBLEMATIC-PRE-EQUIVALENCE-RULE-NAMES" title="(defun collect-problematic-pre-equivalence-rule-names (lst)
  (cond ((null lst) nil)
        ((and (eq (access rewrite-rule (car lst) :equiv) &#39;equal)
              (equal (access rewrite-rule (car lst) :rhs) *t*)
              (not (variablep (fargn (access rewrite-rule (car lst) :lhs) 1)))
...">collect-problematic-pre-equivalence-rule-names</a> (cdr lst)))))</pre>
  </div>

<div class="form-block function" id="def-chk-acceptable-equivalence-rule" data-defines="CHK-ACCEPTABLE-EQUIVALENCE-RULE" data-references="PRETTYIFY-CLAUSE-SET,IF,STRIP-CADRS,LENGTH,Y,X,FCONS-TERM,WARNING$,PPROGN,LEMMAS,COLLECT-PROBLEMATIC-PRE-EQUIVALENCE-RULE-NAMES,SCRUNCH-EQ,LST,VALUE,WARNING-DISABLED-P,*INIT-SUBSUMES-COUNT*,CLAUSE-SET-SUBSUMES,SUBSUMES,COARSENINGS,GETPROPC,FLAMBDAP,NOT,AND,EQUAL,QUOTE,EQ,OR,EQV-CLAUSES,LET,EQUIVALENCE-RELATION-CONDITION,TRANSLATE,EQV-COND,ER-LET*,T,SOFT,ER,NULL,COND,FIND-CANDIDATE-EQUIVALENCE-RELATION,FN,SHALLOW-CLAUSIFY,ACT-CLAUSES,LET*,STATE,WRLD,CTX,TERM,NAME,DEFUN" data-used-by="CHK-ACCEPTABLE-X-RULE" data-part-name="CHK-ACCEPTABLE-EQUIVALENCE-RULE" data-part-args="STATE,WRLD,CTX,TERM,NAME" data-part-body="PRETTYIFY-CLAUSE-SET,IF,STRIP-CADRS,LENGTH,Y,X,FCONS-TERM,WARNING$,PPROGN,LEMMAS,COLLECT-PROBLEMATIC-PRE-EQUIVALENCE-RULE-NAMES,SCRUNCH-EQ,LST,VALUE,WARNING-DISABLED-P,*INIT-SUBSUMES-COUNT*,CLAUSE-SET-SUBSUMES,SUBSUMES,COARSENINGS,GETPROPC,FLAMBDAP,NOT,AND,EQUAL,QUOTE,EQ,OR,EQV-CLAUSES,LET,STATE,WRLD,EQUIVALENCE-RELATION-CONDITION,TRANSLATE,EQV-COND,ER-LET*,T,NAME,CTX,SOFT,ER,NULL,COND,FIND-CANDIDATE-EQUIVALENCE-RELATION,FN,TERM,SHALLOW-CLAUSIFY,ACT-CLAUSES,LET*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CHK-ACCEPTABLE-EQUIVALENCE-RULE">chk-acceptable-equivalence-rule</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-chk-acceptable-equivalence-rule" data-sym="CHK-ACCEPTABLE-EQUIVALENCE-RULE" title="(defun chk-acceptable-equivalence-rule (name term ctx wrld state)
  (let* ((act-clauses (shallow-clausify term))
         (fn (find-candidate-equivalence-relation act-clauses)))
    (cond
     ((null fn)
...">chk-acceptable-equivalence-rule</a>
  (name term ctx wrld state)
  (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((act-clauses (<a class="sym-link local-def" href="#def-shallow-clausify" data-sym="SHALLOW-CLAUSIFY" title="(defun shallow-clausify (term) (shallow-clausify1 (unprettyify term)))">shallow-clausify</a> term)) (fn (<a class="sym-link local-def" href="#def-find-candidate-equivalence-relation" data-sym="FIND-CANDIDATE-EQUIVALENCE-RELATION" title="(defun find-candidate-equivalence-relation (clauses)
  (cond ((null clauses) nil)
        (t
         (let ((clause (car clauses)))
           (case-match clause (((fn x x)) (declare (ignore x)) fn)
...">find-candidate-equivalence-relation</a> act-clauses)))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> fn) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
          ctx
          <span class="string">"~x0 is an unacceptable :EQUIVALENCE lemma.  Such a lemma ~
           must state that a given 2-place function symbol is ~
           Boolean, reflexive, symmetric, and transitive.  We cannot ~
           find the statement of reflexivity, which is the one we key ~
           on to identify the name of the alleged equivalence ~
           relation.  Perhaps you have forgotten to include it.  More ~
           likely, perhaps your relation takes more than two ~
           arguments.  We do not support n-ary equivalence relations, ~
           for n&gt;2.  Sorry."</span>
          name))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="basis-b.html#def-er-let_2A" data-sym="ER-LET*">er-let*</a> ((eqv-cond (translate (<a class="sym-link local-def" href="#def-equivalence-relation-condition" data-sym="EQUIVALENCE-RELATION-CONDITION" title="(defun equivalence-relation-condition (fn sym)
  `(and ,(boolean-fn fn sym) ,(reflexivity fn sym) ,(symmetry fn sym)
        ,(transitivity fn sym)))">equivalence-relation-condition</a> fn name)
               <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
               <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
               <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
               ctx
               wrld
               state)))
          (let ((eqv-clauses (<a class="sym-link local-def" href="#def-shallow-clausify" data-sym="SHALLOW-CLAUSIFY" title="(defun shallow-clausify (term) (shallow-clausify1 (unprettyify term)))">shallow-clausify</a> eqv-cond)))
            (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> fn 'equal)
                 (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="basis-b.html#def-flambdap" data-sym="FLAMBDAP">flambdap</a> fn))
                   (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> fn 'coarsenings nil wrld))) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                  ctx
                  <span class="string">"~x0 is already known to be an equivalence relation."</span>
                  fn))
              (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((subsumes (<a class="sym-link system" href="prove.html#def-clause-set-subsumes" data-sym="CLAUSE-SET-SUBSUMES">clause-set-subsumes</a> *init-subsumes-count*
                       act-clauses
                       eqv-clauses)))
                  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> subsumes <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="basis-a.html#def-warning-disabled-p" data-sym="WARNING-DISABLED-P">warning-disabled-p</a> <span class="string">"Equiv"</span>) (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil))
                        (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((lst (<a class="sym-link system" href="history-management.html#def-scrunch-eq" data-sym="SCRUNCH-EQ">scrunch-eq</a> (<a class="sym-link local-def" href="#def-collect-problematic-pre-equivalence-rule-names" data-sym="COLLECT-PROBLEMATIC-PRE-EQUIVALENCE-RULE-NAMES" title="(defun collect-problematic-pre-equivalence-rule-names (lst)
  (cond ((null lst) nil)
        ((and (eq (access rewrite-rule (car lst) :equiv) &#39;equal)
              (equal (access rewrite-rule (car lst) :rhs) *t*)
              (not (variablep (fargn (access rewrite-rule (car lst) :lhs) 1)))
...">collect-problematic-pre-equivalence-rule-names</a> (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> fn 'lemmas nil wrld)))))
                            (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (lst (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link system" href="axioms.html#def-warning_24" data-sym="WARNING$">warning$</a> ctx
                                    (<span class="string">"Equiv"</span>)
                                    <span class="string">"Any lemma about ~p0, proved before ~x1 is ~
                                   marked as an equivalence relation, is ~
                                   stored so as to rewrite ~p0 to T.  After ~
                                   ~x1 is known to be an equivalence ~
                                   relation, such a rule would rewrite the ~
                                   left-hand side to the right-hand side, ~
                                   preserving ~x1.  You have previously ~
                                   proved ~n2 possibly problematic ~
                                   rule~#3~[~/s~] about ~x1, namely ~&amp;3.  ~
                                   After ~x1 is marked as an equivalence ~
                                   relation you should reconsider ~
                                   ~#3~[this~/each~] problematic rule.  If ~
                                   the rule is merely in support of ~
                                   establishing that ~x1 is an equivalence ~
                                   relation, it may be appropriate to disable ~
                                   it permanently hereafter.  If the rule is ~
                                   now intended to rewrite left to right, you ~
                                   must prove the lemma again after ~x1 is ~
                                   known to be an equivalence relation."</span>
                                    (<a class="sym-link system" href="basis-b.html#def-fcons-term" data-sym="FCONS-TERM">fcons-term</a> fn '(x y))
                                    fn
                                    (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> lst)
                                    (<a class="sym-link system" href="axioms.html#def-strip-cadrs" data-sym="STRIP-CADRS">strip-cadrs</a> lst))
                                  (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil)))
                              (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil)))))))
                    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                        ctx
                        (if subsumes
                          <span class="string">"This low-level implementation error is a complete ~
                            surprise, as the subsumption check returned &#39;? ~
                            for the :EQUIVALENCE lemma ~x0 for function ~
                            symbol ~x1.  This failure occurred when it was ~
                            checked that the equivalence-relation formula ~
                            subsumes the following canonical form: ~X23.  ~
                            Please contact the ACL2 implementors."</span>
                          <span class="string">"~x0 is an unacceptable :EQUIVALENCE lemma for the ~
                          function symbol ~x1.  To be acceptable the formula ~
                          being proved must state that ~x1 is Boolean, ~
                          reflexive, symmetric, and transitive.  This is ~
                          checked by verifying that the formula subsumes the ~
                          following canonical form:  ~x2.  It does not."</span>)
                        name
                        fn
                        (prettyify-clause-set eqv-clauses nil wrld)
                        nil))))))))))))</pre>
  </div>

<div class="form-block function" id="def-add-equivalence-rule" data-defines="ADD-EQUIVALENCE-RULE" data-references="BOOLEANP,ADD-TYPE-PRESCRIPTION-RULE,T,*TS-BOOLEAN*,TS-SUBSETP,IGNORE,DECLARE,Y,X,FCONS-TERM*,TYPE-SET,TTREE,TS,MV-LET,COND,CONGRUENCE-RULE,MAKE,CONS,CONGRUENCES,GETPROPC,APPEND,EQUAL,LIST,COARSENINGS,QUOTE,PUTPROP,FIND-CANDIDATE-EQUIVALENCE-RELATION,FN,SHALLOW-CLAUSIFY,ACT-CLAUSES,LET*,WRLD,ENS,TERM,NUME,RUNE,DEFUN" data-used-by="ADD-X-RULE" data-part-name="ADD-EQUIVALENCE-RULE" data-part-args="WRLD,ENS,TERM,NUME,RUNE" data-part-body="BOOLEANP,ADD-TYPE-PRESCRIPTION-RULE,T,*TS-BOOLEAN*,TS-SUBSETP,IGNORE,DECLARE,ENS,Y,X,FCONS-TERM*,TYPE-SET,TTREE,TS,MV-LET,COND,NUME,RUNE,CONGRUENCE-RULE,MAKE,CONS,CONGRUENCES,WRLD,GETPROPC,APPEND,EQUAL,LIST,COARSENINGS,QUOTE,PUTPROP,FIND-CANDIDATE-EQUIVALENCE-RELATION,FN,TERM,SHALLOW-CLAUSIFY,ACT-CLAUSES,LET*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ADD-EQUIVALENCE-RULE">add-equivalence-rule</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-add-equivalence-rule" data-sym="ADD-EQUIVALENCE-RULE" title="(defun add-equivalence-rule (rune nume term ens wrld)
  (let* ((act-clauses (shallow-clausify term))
         (fn (find-candidate-equivalence-relation act-clauses)))
    (putprop fn &#39;coarsenings (list fn)
             (putprop &#39;equal &#39;coarsenings
...">add-equivalence-rule</a>
  (rune nume term ens wrld)
  (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((act-clauses (<a class="sym-link local-def" href="#def-shallow-clausify" data-sym="SHALLOW-CLAUSIFY" title="(defun shallow-clausify (term) (shallow-clausify1 (unprettyify term)))">shallow-clausify</a> term)) (fn (<a class="sym-link local-def" href="#def-find-candidate-equivalence-relation" data-sym="FIND-CANDIDATE-EQUIVALENCE-RELATION" title="(defun find-candidate-equivalence-relation (clauses)
  (cond ((null clauses) nil)
        (t
         (let ((clause (car clauses)))
           (case-match clause (((fn x x)) (declare (ignore x)) fn)
...">find-candidate-equivalence-relation</a> act-clauses)))
    (<a class="sym-link system" href="axioms.html#def-putprop" data-sym="PUTPROP">putprop</a> fn
      'coarsenings
      (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> fn)
      (<a class="sym-link system" href="axioms.html#def-putprop" data-sym="PUTPROP">putprop</a> 'equal
        'coarsenings
        (<a class="sym-link system" href="axioms.html#def-append" data-sym="APPEND">append</a> (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> 'equal 'coarsenings nil wrld) (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> fn))
        (<a class="sym-link system" href="axioms.html#def-putprop" data-sym="PUTPROP">putprop</a> fn
          'congruences
          (cons (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> 'equal
              (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (<a class="sym-link system" href="basis-a.html#def-make" data-sym="MAKE">make</a> congruence-rule <span class="keyword">:rune</span> rune <span class="keyword">:nume</span> nume <span class="keyword">:equiv</span> fn))
              (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (<a class="sym-link system" href="basis-a.html#def-make" data-sym="MAKE">make</a> congruence-rule <span class="keyword">:rune</span> rune <span class="keyword">:nume</span> nume <span class="keyword">:equiv</span> fn)))
            (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> fn 'congruences nil wrld))
          (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (ts ttree)
               (type-set (<a class="sym-link system" href="axioms.html#def-fcons-term_2A" data-sym="FCONS-TERM*">fcons-term*</a> fn 'x 'y)
                 nil
                 nil
                 nil
                 ens
                 wrld
                 nil
                 nil
                 nil)
               (declare (ignore ttree))
               (ts-subsetp ts *ts-boolean*)) wrld)
            (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-add-type-prescription-rule" data-sym="ADD-TYPE-PRESCRIPTION-RULE" title="(defun add-type-prescription-rule
       (rune nume typed-term term backchain-limit-lst ens wrld quietp)
  (mv-let (erp hyps concl ts vars ttree)
          (destructure-type-prescription (base-symbol rune) typed-term term ens
                                         wrld)
...">add-type-prescription-rule</a> rune
                nume
                (<a class="sym-link system" href="axioms.html#def-fcons-term_2A" data-sym="FCONS-TERM*">fcons-term*</a> fn 'x 'y)
                (<a class="sym-link system" href="axioms.html#def-fcons-term_2A" data-sym="FCONS-TERM*">fcons-term*</a> '<a class="sym-link system" href="axioms.html#def-booleanp" data-sym="BOOLEANP">booleanp</a> (<a class="sym-link system" href="axioms.html#def-fcons-term_2A" data-sym="FCONS-TERM*">fcons-term*</a> fn 'x 'y))
                nil
                ens
                wrld
                <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>))))))))</pre>
  </div>

<div class="form-block function" id="def-chk-acceptable-refinement-rule" data-defines="CHK-ACCEPTABLE-REFINEMENT-RULE" data-references="&,VALUE,T,SOFT,ER,REFINEMENTP,EQ,NOT,VARIABLEP,EQUIVALENCE-RELATIONP,AND,COND,EQUIV2,Y,X,EQUIV1,IMPLIES,QUOTE,CASE-MATCH,STR,LET,STATE,WRLD,CTX,TERM,NAME,DEFUN" data-used-by="CHK-ACCEPTABLE-X-RULE" data-part-name="CHK-ACCEPTABLE-REFINEMENT-RULE" data-part-args="STATE,WRLD,CTX,TERM,NAME" data-part-body="&,NAME,VALUE,T,CTX,SOFT,ER,REFINEMENTP,EQ,NOT,VARIABLEP,WRLD,EQUIVALENCE-RELATIONP,AND,COND,EQUIV2,Y,X,EQUIV1,IMPLIES,QUOTE,TERM,CASE-MATCH,STR,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CHK-ACCEPTABLE-REFINEMENT-RULE">chk-acceptable-refinement-rule</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-chk-acceptable-refinement-rule" data-sym="CHK-ACCEPTABLE-REFINEMENT-RULE" title="(defun chk-acceptable-refinement-rule (name term ctx wrld state)
  (let ((str
         &quot;~x0 does not have the form of a :REFINEMENT rule.  See :DOC refinement.&quot;))
    (case-match term
                ((&#39;implies (equiv1 x y) (equiv2 x y))
...">chk-acceptable-refinement-rule</a>
  (name term ctx wrld state)
  (let ((str <span class="string">"~x0 does not have the form of a :REFINEMENT rule.  See :DOC refinement."</span>))
    (<a class="sym-link system" href="basis-a.html#def-case-match" data-sym="CASE-MATCH">case-match</a> term
      (('<a class="sym-link system" href="axioms.html#def-implies" data-sym="IMPLIES">implies</a> (equiv1 x y) (equiv2 x y)) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="basis-b.html#def-equivalence-relationp" data-sym="EQUIVALENCE-RELATIONP">equivalence-relationp</a> equiv1 wrld)
             (<a class="sym-link system" href="basis-b.html#def-equivalence-relationp" data-sym="EQUIVALENCE-RELATIONP">equivalence-relationp</a> equiv2 wrld)
             (<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> x)
             (<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> y)
             (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> x y))) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="rewrite.html#def-refinementp" data-sym="REFINEMENTP">refinementp</a> equiv1 equiv2 wrld) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                  ctx
                  <span class="string">"~x0 is already known to be a refinement of ~
                          ~x1.  See :DOC refinement."</span>
                  equiv1
                  equiv2))
              (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil))))
          (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft ctx str name))))
      (&amp; (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft ctx str name)))))</pre>
  </div>

<div class="form-block function" id="def-collect-coarsenings" data-defines="COLLECT-COARSENINGS" data-references="GETPROP-X-LST,PAIRLIS$,COARSENINGS,EQUAL,QUOTE,GETPROPC,ALL-EQUIVS,LET,WRLD,DEFUN" data-used-by="ADD-REFINEMENT-RULE" data-part-name="COLLECT-COARSENINGS" data-part-args="WRLD" data-part-body="GETPROP-X-LST,PAIRLIS$,WRLD,COARSENINGS,EQUAL,QUOTE,GETPROPC,ALL-EQUIVS,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="COLLECT-COARSENINGS">collect-coarsenings</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-collect-coarsenings" data-sym="COLLECT-COARSENINGS" title="(defun collect-coarsenings (wrld)
  (let ((all-equivs (getpropc &#39;equal &#39;coarsenings nil wrld)))
    (pairlis$ all-equivs (getprop-x-lst all-equivs &#39;coarsenings wrld))))">collect-coarsenings</a>
  (wrld)
  (let ((all-equivs (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> 'equal 'coarsenings nil wrld)))
    (<a class="sym-link system" href="axioms.html#def-pairlis_24" data-sym="PAIRLIS$">pairlis$</a> all-equivs
      (<a class="sym-link system" href="history-management.html#def-getprop-x-lst" data-sym="GETPROP-X-LST">getprop-x-lst</a> all-equivs 'coarsenings wrld))))</pre>
  </div>

<div class="form-block function" id="def-putprop-coarsenings" data-defines="PUTPROP-COARSENINGS" data-references="PUTPROP,T,CDR,CDAR,COARSENINGS,QUOTE,CAAR,GETPROPC,EQUAL,NULL,COND,WRLD,ALIST,DEFUN" data-used-by="ADD-REFINEMENT-RULE" data-part-name="PUTPROP-COARSENINGS" data-part-args="WRLD,ALIST" data-part-body="PUTPROP,T,CDR,PUTPROP-COARSENINGS,CDAR,COARSENINGS,QUOTE,CAAR,GETPROPC,EQUAL,WRLD,ALIST,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="PUTPROP-COARSENINGS">putprop-coarsenings</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-putprop-coarsenings" data-sym="PUTPROP-COARSENINGS" title="(defun putprop-coarsenings (alist wrld)
  (cond ((null alist) wrld)
        ((equal (getpropc (caar alist) &#39;coarsenings nil wrld) (cdar alist))
         (putprop-coarsenings (cdr alist) wrld))
        (t
...">putprop-coarsenings</a>
  (alist wrld)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> alist) wrld)
    ((equal (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> alist) 'coarsenings nil wrld)
       (<a class="sym-link system" href="axioms.html#def-cdar" data-sym="CDAR">cdar</a> alist)) (<a class="sym-link local-def" href="#def-putprop-coarsenings" data-sym="PUTPROP-COARSENINGS" title="(defun putprop-coarsenings (alist wrld)
  (cond ((null alist) wrld)
        ((equal (getpropc (caar alist) &#39;coarsenings nil wrld) (cdar alist))
         (putprop-coarsenings (cdr alist) wrld))
        (t
...">putprop-coarsenings</a> (cdr alist) wrld))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-putprop" data-sym="PUTPROP">putprop</a> (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> alist)
        'coarsenings
        (<a class="sym-link system" href="axioms.html#def-cdar" data-sym="CDAR">cdar</a> alist)
        (<a class="sym-link local-def" href="#def-putprop-coarsenings" data-sym="PUTPROP-COARSENINGS" title="(defun putprop-coarsenings (alist wrld)
  (cond ((null alist) wrld)
        ((equal (getpropc (caar alist) &#39;coarsenings nil wrld) (cdar alist))
         (putprop-coarsenings (cdr alist) wrld))
        (t
...">putprop-coarsenings</a> (cdr alist) wrld)))))</pre>
  </div>

<div class="form-block function" id="def-union-values" data-defines="UNION-VALUES" data-references="CAR,ASSOC-EQ,CDR,UNION-EQ,T,NULL,COND,ALIST,LST,DEFUN" data-used-by="EXTEND-VALUE-SET" data-part-name="UNION-VALUES" data-part-args="ALIST,LST" data-part-body="UNION-VALUES,ALIST,CAR,ASSOC-EQ,CDR,UNION-EQ,T,LST,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="UNION-VALUES">union-values</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-union-values" data-sym="UNION-VALUES" title="(defun union-values (lst alist)
  (cond ((null lst) nil)
        (t
         (union-eq (cdr (assoc-eq (car lst) alist))
                   (union-values (cdr lst) alist)))))">union-values</a>
  (lst alist)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> lst) nil)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-union-eq" data-sym="UNION-EQ">union-eq</a> (cdr (<a class="sym-link system" href="axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a> (car lst) alist))
        (<a class="sym-link local-def" href="#def-union-values" data-sym="UNION-VALUES" title="(defun union-values (lst alist)
  (cond ((null lst) nil)
        (t
         (union-eq (cdr (assoc-eq (car lst) alist))
                   (union-values (cdr lst) alist)))))">union-values</a> (cdr lst) alist)))))</pre>
  </div>

<div class="form-block function" id="def-extend-value-set" data-defines="EXTEND-VALUE-SET" data-references="UNION-VALUES,SET-DIFFERENCE-EQ,APPEND,ALIST,LST,DEFUN" data-used-by="EXTEND-EACH-VALUE-SET" data-part-name="EXTEND-VALUE-SET" data-part-args="ALIST,LST" data-part-body="ALIST,UNION-VALUES,SET-DIFFERENCE-EQ,LST,APPEND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="EXTEND-VALUE-SET">extend-value-set</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-extend-value-set" data-sym="EXTEND-VALUE-SET" title="(defun extend-value-set (lst alist)
  (append lst (set-difference-eq (union-values lst alist) lst)))">extend-value-set</a>
  (lst alist)
  (<a class="sym-link system" href="axioms.html#def-append" data-sym="APPEND">append</a> lst
    (<a class="sym-link system" href="axioms.html#def-set-difference-eq" data-sym="SET-DIFFERENCE-EQ">set-difference-eq</a> (<a class="sym-link local-def" href="#def-union-values" data-sym="UNION-VALUES" title="(defun union-values (lst alist)
  (cond ((null lst) nil)
        (t
         (union-eq (cdr (assoc-eq (car lst) alist))
                   (union-values (cdr lst) alist)))))">union-values</a> lst alist) lst)))</pre>
  </div>

<div class="form-block function" id="def-extend-each-value-set" data-defines="EXTEND-EACH-VALUE-SET" data-references="CDR,CDAR,EXTEND-VALUE-SET,CAAR,CONS,T,NULL,COND,ALIST2,ALIST1,DEFUN" data-used-by="CLOSE-VALUE-SETS" data-part-name="EXTEND-EACH-VALUE-SET" data-part-args="ALIST2,ALIST1" data-part-body="CDR,EXTEND-EACH-VALUE-SET,ALIST2,CDAR,EXTEND-VALUE-SET,CAAR,CONS,T,ALIST1,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="EXTEND-EACH-VALUE-SET">extend-each-value-set</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-extend-each-value-set" data-sym="EXTEND-EACH-VALUE-SET" title="(defun extend-each-value-set (alist1 alist2)
  (cond ((null alist1) nil)
        (t
         (cons (cons (caar alist1) (extend-value-set (cdar alist1) alist2))
               (extend-each-value-set (cdr alist1) alist2)))))">extend-each-value-set</a>
  (alist1 alist2)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> alist1) nil)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (cons (cons (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> alist1) (<a class="sym-link local-def" href="#def-extend-value-set" data-sym="EXTEND-VALUE-SET" title="(defun extend-value-set (lst alist)
  (append lst (set-difference-eq (union-values lst alist) lst)))">extend-value-set</a> (<a class="sym-link system" href="axioms.html#def-cdar" data-sym="CDAR">cdar</a> alist1) alist2))
        (<a class="sym-link local-def" href="#def-extend-each-value-set" data-sym="EXTEND-EACH-VALUE-SET" title="(defun extend-each-value-set (alist1 alist2)
  (cond ((null alist1) nil)
        (t
         (cons (cons (caar alist1) (extend-value-set (cdar alist1) alist2))
               (extend-each-value-set (cdr alist1) alist2)))))">extend-each-value-set</a> (cdr alist1) alist2)))))</pre>
  </div>

<div class="form-block function" id="def-close-value-sets" data-defines="CLOSE-VALUE-SETS" data-references="T,EQUAL,COND,EXTEND-EACH-VALUE-SET,NEW-ALIST,LET,ALIST,DEFUN" data-used-by="ADD-REFINEMENT-RULE" data-part-name="CLOSE-VALUE-SETS" data-part-args="ALIST" data-part-body="CLOSE-VALUE-SETS,T,EQUAL,COND,ALIST,EXTEND-EACH-VALUE-SET,NEW-ALIST,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CLOSE-VALUE-SETS">close-value-sets</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-close-value-sets" data-sym="CLOSE-VALUE-SETS" title="(defun close-value-sets (alist)
  (let ((new-alist (extend-each-value-set alist alist)))
    (cond ((equal new-alist alist) alist) (t (close-value-sets new-alist)))))">close-value-sets</a>
  (alist)
  (let ((new-alist (<a class="sym-link local-def" href="#def-extend-each-value-set" data-sym="EXTEND-EACH-VALUE-SET" title="(defun extend-each-value-set (alist1 alist2)
  (cond ((null alist1) nil)
        (t
         (cons (cons (caar alist1) (extend-value-set (cdar alist1) alist2))
               (extend-each-value-set (cdr alist1) alist2)))))">extend-each-value-set</a> alist alist)))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((equal new-alist alist) alist)
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-close-value-sets" data-sym="CLOSE-VALUE-SETS" title="(defun close-value-sets (alist)
  (let ((new-alist (extend-each-value-set alist alist)))
    (cond ((equal new-alist alist) alist) (t (close-value-sets new-alist)))))">close-value-sets</a> new-alist)))))</pre>
  </div>

<div class="form-block function" id="def-add-refinement-rule" data-defines="ADD-REFINEMENT-RULE" data-references="COLLECT-COARSENINGS,LIST,COARSENINGS,QUOTE,GETPROPC,APPEND,PUT-ASSOC-EQ,CLOSE-VALUE-SETS,PUTPROP-COARSENINGS,EQUIV2,FARGN,FFN-SYMB,EQUIV1,LET,IGNORE,DECLARE,WRLD,TERM,NUME,NAME,DEFUN" data-used-by="ADD-X-RULE" data-part-name="ADD-REFINEMENT-RULE" data-part-args="WRLD,TERM,NUME,NAME" data-part-declare="NUME,NAME,IGNORE,DECLARE" data-part-body="COLLECT-COARSENINGS,LIST,WRLD,COARSENINGS,QUOTE,GETPROPC,APPEND,PUT-ASSOC-EQ,CLOSE-VALUE-SETS,PUTPROP-COARSENINGS,EQUIV2,TERM,FARGN,FFN-SYMB,EQUIV1,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ADD-REFINEMENT-RULE">add-refinement-rule</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-add-refinement-rule" data-sym="ADD-REFINEMENT-RULE" title="(defun add-refinement-rule (name nume term wrld)
  (declare (ignore name nume))
  (let ((equiv1 (ffn-symb (fargn term 1))) (equiv2 (ffn-symb (fargn term 2))))
    (putprop-coarsenings
     (close-value-sets
...">add-refinement-rule</a>
  (name nume term wrld)
  (declare (ignore name nume))
  (let ((equiv1 (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">1</span>))) (equiv2 (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">2</span>))))
    (<a class="sym-link local-def" href="#def-putprop-coarsenings" data-sym="PUTPROP-COARSENINGS" title="(defun putprop-coarsenings (alist wrld)
  (cond ((null alist) wrld)
        ((equal (getpropc (caar alist) &#39;coarsenings nil wrld) (cdar alist))
         (putprop-coarsenings (cdr alist) wrld))
        (t
...">putprop-coarsenings</a> (<a class="sym-link local-def" href="#def-close-value-sets" data-sym="CLOSE-VALUE-SETS" title="(defun close-value-sets (alist)
  (let ((new-alist (extend-each-value-set alist alist)))
    (cond ((equal new-alist alist) alist) (t (close-value-sets new-alist)))))">close-value-sets</a> (<a class="sym-link system" href="axioms.html#def-put-assoc-eq" data-sym="PUT-ASSOC-EQ">put-assoc-eq</a> equiv1
          (<a class="sym-link system" href="axioms.html#def-append" data-sym="APPEND">append</a> (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> equiv1 'coarsenings nil wrld)
            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> equiv2))
          (<a class="sym-link local-def" href="#def-collect-coarsenings" data-sym="COLLECT-COARSENINGS" title="(defun collect-coarsenings (wrld)
  (let ((all-equivs (getpropc &#39;equal &#39;coarsenings nil wrld)))
    (pairlis$ all-equivs (getprop-x-lst all-equivs &#39;coarsenings wrld))))">collect-coarsenings</a> wrld)))
      wrld)))</pre>
  </div>

<div class="form-block function" id="def-corresponding-args-eq-except" data-defines="CORRESPONDING-ARGS-EQ-EXCEPT" data-references="CDR,AND,CAR,EQ,T,NULL,COND,YK,XK,ARGS2,ARGS1,DEFUN" data-used-by="INTERPRET-TERM-AS-CONGRUENCE-RULE" data-part-name="CORRESPONDING-ARGS-EQ-EXCEPT" data-part-args="YK,XK,ARGS2,ARGS1" data-part-body="CDR,CORRESPONDING-ARGS-EQ-EXCEPT,YK,ARGS2,AND,XK,CAR,EQ,T,ARGS1,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CORRESPONDING-ARGS-EQ-EXCEPT">corresponding-args-eq-except</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-corresponding-args-eq-except" data-sym="CORRESPONDING-ARGS-EQ-EXCEPT" title="(defun corresponding-args-eq-except (args1 args2 xk yk)
  (cond ((null args1) t)
        ((eq (car args1) xk)
         (and (eq (car args2) yk)
              (corresponding-args-eq-except (cdr args1) (cdr args2) xk yk)))
...">corresponding-args-eq-except</a>
  (args1 args2 xk yk)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> args1) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)
    ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (car args1) xk) (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (car args2) yk)
        (<a class="sym-link local-def" href="#def-corresponding-args-eq-except" data-sym="CORRESPONDING-ARGS-EQ-EXCEPT" title="(defun corresponding-args-eq-except (args1 args2 xk yk)
  (cond ((null args1) t)
        ((eq (car args1) xk)
         (and (eq (car args2) yk)
              (corresponding-args-eq-except (cdr args1) (cdr args2) xk yk)))
...">corresponding-args-eq-except</a> (cdr args1) (cdr args2) xk yk)))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (car args1) (car args2))
        (<a class="sym-link local-def" href="#def-corresponding-args-eq-except" data-sym="CORRESPONDING-ARGS-EQ-EXCEPT" title="(defun corresponding-args-eq-except (args1 args2 xk yk)
  (cond ((null args1) t)
        ((eq (car args1) xk)
         (and (eq (car args2) yk)
              (corresponding-args-eq-except (cdr args1) (cdr args2) xk yk)))
...">corresponding-args-eq-except</a> (cdr args1) (cdr args2) xk yk)))))</pre>
  </div>

<div class="form-block mutual-recursion" id="def-duplicate-vars-1" data-defines="DUPLICATE-VARS-1" data-references="CDR,CAR,MV-LET,ENDP,LST,FARGS,DUPLICATE-VARS-1-LST,FQUOTEP,T,CONS,MV,MEMBER-EQ,VARIABLEP,COND,DUPS,SEEN,TERM,DEFUN,MUTUAL-RECURSION" data-used-by="DUPLICATE-VARS" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="DUPLICATE-VARS-1">duplicate-vars-1</span><span class="form-type">mutual-recursion</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-mutual-recursion" data-sym="MUTUAL-RECURSION">mutual-recursion</a> (<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-duplicate-vars-1" data-sym="DUPLICATE-VARS-1" title="(mutual-recursion
 (defun duplicate-vars-1 (term seen dups)
   (cond
    ((variablep term)
     (cond ((member-eq term dups) (mv seen dups))
...">duplicate-vars-1</a>
    (term seen dups)
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> term) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> term dups) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> seen dups))
          ((<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> term seen) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> seen (cons term dups)))
          (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> (cons term seen) dups))))
      ((<a class="sym-link system" href="axioms.html#def-fquotep" data-sym="FQUOTEP">fquotep</a> term) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> seen dups))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (duplicate-vars-1-lst (<a class="sym-link system" href="axioms.html#def-fargs" data-sym="FARGS">fargs</a> term) seen dups))))
  (<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> duplicate-vars-1-lst
    (lst seen dups)
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> lst) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> seen dups))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (seen dups)
          (<a class="sym-link local-def" href="#def-duplicate-vars-1" data-sym="DUPLICATE-VARS-1" title="(mutual-recursion
 (defun duplicate-vars-1 (term seen dups)
   (cond
    ((variablep term)
     (cond ((member-eq term dups) (mv seen dups))
...">duplicate-vars-1</a> (car lst) seen dups)
          (duplicate-vars-1-lst (cdr lst) seen dups))))))</pre>
  </div>

<div class="form-block function" id="def-duplicate-vars" data-defines="DUPLICATE-VARS" data-references="IGNORE,DECLARE,DUPLICATE-VARS-1,DUPS,SEEN,MV-LET,TERM,DEFUN" data-used-by="REPLACE-DUPLICATE-VARS-WITH-ANONYMOUS-VAR" data-part-name="DUPLICATE-VARS" data-part-args="TERM" data-part-body="IGNORE,DECLARE,TERM,DUPLICATE-VARS-1,DUPS,SEEN,MV-LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DUPLICATE-VARS">duplicate-vars</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-duplicate-vars" data-sym="DUPLICATE-VARS" title="(defun duplicate-vars (term)
  (mv-let (seen dups) (duplicate-vars-1 term nil nil) (declare (ignore seen))
          dups))">duplicate-vars</a>
  (term)
  (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (seen dups)
    (<a class="sym-link local-def" href="#def-duplicate-vars-1" data-sym="DUPLICATE-VARS-1" title="(mutual-recursion
 (defun duplicate-vars-1 (term seen dups)
   (cond
    ((variablep term)
     (cond ((member-eq term dups) (mv seen dups))
...">duplicate-vars-1</a> term nil nil)
    (declare (ignore seen))
    dups))</pre>
  </div>

<div class="form-block mutual-recursion" id="def-replace-duplicate-vars-with-anonymous-var-1" data-defines="REPLACE-DUPLICATE-VARS-WITH-ANONYMOUS-VAR-1" data-references="CDR,CAR,CONS,ENDP,LST,FARGS,REPLACE-DUPLICATE-VARS-WITH-ANONYMOUS-VAR-1-LST,FFN-SYMB,CONS-TERM,FQUOTEP,*ANONYMOUS-VAR*,T,MEMBER-EQ,VARIABLEP,COND,DUP-VARS,TERM,DEFUN,MUTUAL-RECURSION" data-used-by="REPLACE-DUPLICATE-VARS-WITH-ANONYMOUS-VAR" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="REPLACE-DUPLICATE-VARS-WITH-ANONYMOUS-VAR-1">replace-duplicate-vars-with-anonymous-var-1</span><span class="form-type">mutual-recursion</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-mutual-recursion" data-sym="MUTUAL-RECURSION">mutual-recursion</a> (<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-replace-duplicate-vars-with-anonymous-var-1" data-sym="REPLACE-DUPLICATE-VARS-WITH-ANONYMOUS-VAR-1" title="(mutual-recursion
 (defun replace-duplicate-vars-with-anonymous-var-1 (term dup-vars)
   (cond
    ((variablep term)
     (cond ((member-eq term dup-vars) term) (t *anonymous-var*)))
...">replace-duplicate-vars-with-anonymous-var-1</a>
    (term dup-vars)
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> term) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> term dup-vars) term) (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <a class="sym-link system" href="rewrite.html#def-_2Aanonymous-var_2A" data-sym="*ANONYMOUS-VAR*">*anonymous-var*</a>)))
      ((<a class="sym-link system" href="axioms.html#def-fquotep" data-sym="FQUOTEP">fquotep</a> term) term)
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="basis-b.html#def-cons-term" data-sym="CONS-TERM">cons-term</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term)
          (replace-duplicate-vars-with-anonymous-var-1-lst (<a class="sym-link system" href="axioms.html#def-fargs" data-sym="FARGS">fargs</a> term)
            dup-vars)))))
  (<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> replace-duplicate-vars-with-anonymous-var-1-lst
    (lst dup-vars)
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> lst) nil)
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (cons (<a class="sym-link local-def" href="#def-replace-duplicate-vars-with-anonymous-var-1" data-sym="REPLACE-DUPLICATE-VARS-WITH-ANONYMOUS-VAR-1" title="(mutual-recursion
 (defun replace-duplicate-vars-with-anonymous-var-1 (term dup-vars)
   (cond
    ((variablep term)
     (cond ((member-eq term dup-vars) term) (t *anonymous-var*)))
...">replace-duplicate-vars-with-anonymous-var-1</a> (car lst)
            dup-vars)
          (replace-duplicate-vars-with-anonymous-var-1-lst (cdr lst)
            dup-vars))))))</pre>
  </div>

<div class="form-block function" id="def-replace-duplicate-vars-with-anonymous-var" data-defines="REPLACE-DUPLICATE-VARS-WITH-ANONYMOUS-VAR" data-references="DUPLICATE-VARS,REPLACE-DUPLICATE-VARS-WITH-ANONYMOUS-VAR-1,TERM,DEFUN" data-used-by="MAKE-PEQUIV" data-part-name="REPLACE-DUPLICATE-VARS-WITH-ANONYMOUS-VAR" data-part-args="TERM" data-part-body="DUPLICATE-VARS,TERM,REPLACE-DUPLICATE-VARS-WITH-ANONYMOUS-VAR-1" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="REPLACE-DUPLICATE-VARS-WITH-ANONYMOUS-VAR">replace-duplicate-vars-with-anonymous-var</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-replace-duplicate-vars-with-anonymous-var" data-sym="REPLACE-DUPLICATE-VARS-WITH-ANONYMOUS-VAR" title="(defun replace-duplicate-vars-with-anonymous-var (term)
  (replace-duplicate-vars-with-anonymous-var-1 term (duplicate-vars term)))">replace-duplicate-vars-with-anonymous-var</a>
  (term)
  (<a class="sym-link local-def" href="#def-replace-duplicate-vars-with-anonymous-var-1" data-sym="REPLACE-DUPLICATE-VARS-WITH-ANONYMOUS-VAR-1" title="(mutual-recursion
 (defun replace-duplicate-vars-with-anonymous-var-1 (term dup-vars)
   (cond
    ((variablep term)
     (cond ((member-eq term dup-vars) term) (t *anonymous-var*)))
...">replace-duplicate-vars-with-anonymous-var-1</a> term
    (<a class="sym-link local-def" href="#def-duplicate-vars" data-sym="DUPLICATE-VARS" title="(defun duplicate-vars (term)
  (mv-let (seen dups) (duplicate-vars-1 term nil nil) (declare (ignore seen))
          dups))">duplicate-vars</a> term)))</pre>
  </div>

<div class="form-block function" id="def-split-at-position" data-defines="SPLIT-AT-POSITION" data-references="CAR,CONS,CDR,1-,T,MV,EQL,COND,ACC,LST,POSN,DEFUN" data-used-by="MAKE-PEQUIV-PATTERN" data-part-name="SPLIT-AT-POSITION" data-part-args="ACC,LST,POSN" data-part-body="CAR,CONS,CDR,1-,SPLIT-AT-POSITION,T,LST,ACC,MV,POSN,EQL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="SPLIT-AT-POSITION">split-at-position</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-split-at-position" data-sym="SPLIT-AT-POSITION" title="(defun split-at-position (posn lst acc)
  (cond ((eql posn 1) (mv acc lst))
        (t (split-at-position (1- posn) (cdr lst) (cons (car lst) acc)))))">split-at-position</a>
  (posn lst acc)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-eql" data-sym="EQL">eql</a> posn <span class="number">1</span>) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> acc lst))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-split-at-position" data-sym="SPLIT-AT-POSITION" title="(defun split-at-position (posn lst acc)
  (cond ((eql posn 1) (mv acc lst))
        (t (split-at-position (1- posn) (cdr lst) (cons (car lst) acc)))))">split-at-position</a> (<a class="sym-link system" href="axioms.html#def-1-" data-sym="1-">1-</a> posn) (cdr lst) (cons (car lst) acc)))))</pre>
  </div>

<div class="form-block function" id="def-make-pequiv-pattern" data-defines="MAKE-PEQUIV-PATTERN" data-references="CDR,FFN-SYMB,PEQUIV-PATTERN,MAKE,FARGS,CAR,SPLIT-AT-POSITION,NEXT/POST,PRE-REV,MV-LET,FLAMBDA-APPLICATIONP,FQUOTEP,NOT,NVARIABLEP,AND,T,VARIABLEP,ASSERT$,ENDP,COND,ADDR,TERM,DEFUN" data-used-by="MAKE-PEQUIV" data-part-name="MAKE-PEQUIV-PATTERN" data-part-args="ADDR,TERM" data-part-body="MAKE-PEQUIV-PATTERN,CDR,FFN-SYMB,PEQUIV-PATTERN,MAKE,FARGS,CAR,SPLIT-AT-POSITION,NEXT/POST,PRE-REV,MV-LET,FLAMBDA-APPLICATIONP,FQUOTEP,NOT,NVARIABLEP,AND,T,TERM,VARIABLEP,ASSERT$,ADDR,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="MAKE-PEQUIV-PATTERN">make-pequiv-pattern</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-make-pequiv-pattern" data-sym="MAKE-PEQUIV-PATTERN" title="(defun make-pequiv-pattern (term addr)
  (cond ((endp addr) (assert$ (variablep term) term))
        (t
         (assert$
          (and (nvariablep term) (not (fquotep term))
...">make-pequiv-pattern</a>
  (term addr)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> addr) (<a class="sym-link system" href="axioms.html#def-assert_24" data-sym="ASSERT$">assert$</a> (<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> term) term))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-assert_24" data-sym="ASSERT$">assert$</a> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-nvariablep" data-sym="NVARIABLEP">nvariablep</a> term)
          (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-fquotep" data-sym="FQUOTEP">fquotep</a> term))
          (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="basis-b.html#def-flambda-applicationp" data-sym="FLAMBDA-APPLICATIONP">flambda-applicationp</a> term)))
        (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (pre-rev next/post)
          (<a class="sym-link local-def" href="#def-split-at-position" data-sym="SPLIT-AT-POSITION" title="(defun split-at-position (posn lst acc)
  (cond ((eql posn 1) (mv acc lst))
        (t (split-at-position (1- posn) (cdr lst) (cons (car lst) acc)))))">split-at-position</a> (car addr) (<a class="sym-link system" href="axioms.html#def-fargs" data-sym="FARGS">fargs</a> term) nil)
          (<a class="sym-link system" href="basis-a.html#def-make" data-sym="MAKE">make</a> pequiv-pattern
            <span class="keyword">:fn</span> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term)
            <span class="keyword">:posn</span> (car addr)
            <span class="keyword">:pre-rev</span> pre-rev
            <span class="keyword">:post</span> (cdr next/post)
            <span class="keyword">:next</span> (<a class="sym-link local-def" href="#def-make-pequiv-pattern" data-sym="MAKE-PEQUIV-PATTERN" title="(defun make-pequiv-pattern (term addr)
  (cond ((endp addr) (assert$ (variablep term) term))
        (t
         (assert$
          (and (nvariablep term) (not (fquotep term))
...">make-pequiv-pattern</a> (car next/post) (cdr addr))))))))</pre>
  </div>

<div class="form-block function" id="def-make-pequiv" data-defines="MAKE-PEQUIV" data-references="CONGRUENCE-RULE,REPLACE-DUPLICATE-VARS-WITH-ANONYMOUS-VAR,MAKE-PEQUIV-PATTERN,PEQUIV,MAKE,RUNE,EQUIV,NUME,ADDR,TERM,DEFUN" data-used-by="ADD-CONGRUENCE-RULE" data-part-name="MAKE-PEQUIV" data-part-args="RUNE,EQUIV,NUME,ADDR,TERM" data-part-body="EQUIV,NUME,RUNE,CONGRUENCE-RULE,ADDR,TERM,REPLACE-DUPLICATE-VARS-WITH-ANONYMOUS-VAR,MAKE-PEQUIV-PATTERN,PEQUIV,MAKE" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="MAKE-PEQUIV">make-pequiv</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-make-pequiv" data-sym="MAKE-PEQUIV" title="(defun make-pequiv (term addr nume equiv rune)
  (make pequiv :pattern
        (make-pequiv-pattern (replace-duplicate-vars-with-anonymous-var term)
                             addr)
        :unify-subst nil :congruence-rule">make-pequiv</a>
  (term addr nume equiv rune)
  (<a class="sym-link system" href="basis-a.html#def-make" data-sym="MAKE">make</a> pequiv
    <span class="keyword">:pattern</span> (<a class="sym-link local-def" href="#def-make-pequiv-pattern" data-sym="MAKE-PEQUIV-PATTERN" title="(defun make-pequiv-pattern (term addr)
  (cond ((endp addr) (assert$ (variablep term) term))
        (t
         (assert$
          (and (nvariablep term) (not (fquotep term))
...">make-pequiv-pattern</a> (<a class="sym-link local-def" href="#def-replace-duplicate-vars-with-anonymous-var" data-sym="REPLACE-DUPLICATE-VARS-WITH-ANONYMOUS-VAR" title="(defun replace-duplicate-vars-with-anonymous-var (term)
  (replace-duplicate-vars-with-anonymous-var-1 term (duplicate-vars term)))">replace-duplicate-vars-with-anonymous-var</a> term)
      addr)
    <span class="keyword">:unify-subst</span> nil
    <span class="keyword">:congruence-rule</span> (<a class="sym-link system" href="basis-a.html#def-make" data-sym="MAKE">make</a> congruence-rule <span class="keyword">:rune</span> rune <span class="keyword">:nume</span> nume <span class="keyword">:equiv</span> equiv)))</pre>
  </div>

<div class="form-block mutual-recursion" id="def-var-address" data-defines="VAR-ADDRESS" data-references="OR,1+,CDR,ADDR2,CONS,CAR,ADDR1,LET,ENDP,NATP,PSEUDO-TERM-LISTP,POSITION,LST,FARGS,VAR-ADDRESS-LST,T,FQUOTEP,VARIABLEP,REVERSE,EQ,COND,TRUE-LISTP,PSEUDO-TERMP,SYMBOLP,AND,XARGS,DECLARE,ACC,TERM,VAR,DEFUN,MUTUAL-RECURSION" data-used-by="INTERPRET-TERM-AS-CONGRUENCE-RULE" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="VAR-ADDRESS">var-address</span><span class="form-type">mutual-recursion</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-mutual-recursion" data-sym="MUTUAL-RECURSION">mutual-recursion</a> (<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-var-address" data-sym="VAR-ADDRESS" title="(mutual-recursion
 (defun var-address (var term acc)
   (declare
    (xargs :guard (and (symbolp var) (pseudo-termp term) (true-listp acc))))
   (cond ((eq var term) (reverse acc)) ((variablep term) nil)
...">var-address</a>
    (var term acc)
    (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (symbolp var) (<a class="sym-link system" href="axioms.html#def-pseudo-termp" data-sym="PSEUDO-TERMP">pseudo-termp</a> term) (<a class="sym-link system" href="axioms.html#def-true-listp" data-sym="TRUE-LISTP">true-listp</a> acc))))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> var term) (<a class="sym-link system" href="axioms.html#def-reverse" data-sym="REVERSE">reverse</a> acc))
      ((<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> term) nil)
      ((<a class="sym-link system" href="axioms.html#def-fquotep" data-sym="FQUOTEP">fquotep</a> term) nil)
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (var-address-lst var (<a class="sym-link system" href="axioms.html#def-fargs" data-sym="FARGS">fargs</a> term) <span class="number">1</span> acc))))
  (<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> var-address-lst
    (var lst <a class="sym-link system" href="axioms.html#def-position" data-sym="POSITION">position</a> acc)
    (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (symbolp var)
          (pseudo-term-listp lst)
          (<a class="sym-link system" href="axioms.html#def-natp" data-sym="NATP">natp</a> <a class="sym-link system" href="axioms.html#def-position" data-sym="POSITION">position</a>)
          (<a class="sym-link system" href="axioms.html#def-true-listp" data-sym="TRUE-LISTP">true-listp</a> acc))))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> lst) nil)
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((addr1 (<a class="sym-link local-def" href="#def-var-address" data-sym="VAR-ADDRESS" title="(mutual-recursion
 (defun var-address (var term acc)
   (declare
    (xargs :guard (and (symbolp var) (pseudo-termp term) (true-listp acc))))
   (cond ((eq var term) (reverse acc)) ((variablep term) nil)
...">var-address</a> var (car lst) (cons <a class="sym-link system" href="axioms.html#def-position" data-sym="POSITION">position</a> acc))) (addr2 (var-address-lst var (cdr lst) (<a class="sym-link system" href="axioms.html#def-1_2B" data-sym="1+">1+</a> <a class="sym-link system" href="axioms.html#def-position" data-sym="POSITION">position</a>) acc)))
          (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> addr1 addr2) (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> addr1 <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>) (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> addr2 <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)
            (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> addr1 addr2))))))))</pre>
  </div>

<div class="form-block function" id="def-interpret-term-as-congruence-rule" data-defines="INTERPRET-TERM-AS-CONGRUENCE-RULE" data-references="&,SUBST-VAR-LST,NULL,ADDR2,FARGN,VAR-ADDRESS,ADDR1,*ANONYMOUS-VAR*,DUMB-OCCUR-VAR-LST,T,BAD-LAMBDA-P,APPEND,BAD-FNS,LAMBDA-SUBTERMP-LST,EQUAL,IMPLIES,FFNNAMEP-LST,-,1+,LIST*,CORRESPONDING-ARGS-EQ-EXCEPT,MEMBER-EQ,NO-DUPLICATESP-EQ,ALL-VARIABLEP,MSG,MV,IF,QUOTE,EQ,SYMBOLP,NOT,OR,ARGS2,ARGS1,FN,EQUIV2,EQUIVALENCE-RELATIONP,VARIABLEP,YK,XK,EQUIV1,CASE-MATCH,CDAR,QUOTE-NORMAL-FORM,CONCL,CAAAR,HYP,CAAR,LENGTH,INT=,AND,COND,FAILURE-MSG,CONCL-MSG,HYP-MSG,REMOVE-GUARD-HOLDERS,UNPRETTYIFY,PAIRS,LET,WRLD,TERM,NAME,DEFUN" data-used-by="ADD-CONGRUENCE-RULE,CHK-ACCEPTABLE-CONGRUENCE-RULE" data-part-name="INTERPRET-TERM-AS-CONGRUENCE-RULE" data-part-args="WRLD,TERM,NAME" data-part-body="&,SUBST-VAR-LST,NULL,ADDR2,FARGN,VAR-ADDRESS,ADDR1,*ANONYMOUS-VAR*,DUMB-OCCUR-VAR-LST,T,BAD-LAMBDA-P,APPEND,BAD-FNS,LAMBDA-SUBTERMP-LST,EQUAL,IMPLIES,FFNNAMEP-LST,-,1+,LIST*,CORRESPONDING-ARGS-EQ-EXCEPT,MEMBER-EQ,NO-DUPLICATESP-EQ,ALL-VARIABLEP,NAME,MSG,MV,IF,QUOTE,EQ,SYMBOLP,NOT,OR,ARGS2,ARGS1,FN,EQUIV2,EQUIVALENCE-RELATIONP,VARIABLEP,YK,XK,EQUIV1,CASE-MATCH,CDAR,QUOTE-NORMAL-FORM,CONCL,CAAAR,HYP,CAAR,LENGTH,INT=,AND,COND,FAILURE-MSG,CONCL-MSG,HYP-MSG,WRLD,TERM,REMOVE-GUARD-HOLDERS,UNPRETTYIFY,PAIRS,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="INTERPRET-TERM-AS-CONGRUENCE-RULE">interpret-term-as-congruence-rule</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-interpret-term-as-congruence-rule" data-sym="INTERPRET-TERM-AS-CONGRUENCE-RULE" title="(defun interpret-term-as-congruence-rule (name term wrld)
  (let ((pairs (unprettyify (remove-guard-holders term wrld)))
        (hyp-msg
         &quot;~x0 is an unacceptable :CONGRUENCE rule.  The ~
                    single hypothesis of a :CONGRUENCE rule must be a ~
...">interpret-term-as-congruence-rule</a>
  (name term wrld)
  (let ((pairs (unprettyify (remove-guard-holders term wrld))) (hyp-msg <span class="string">"~x0 is an unacceptable :CONGRUENCE rule.  The ~
                    single hypothesis of a :CONGRUENCE rule must be a ~
                    term of the form (equiv x y), where equiv has ~
                    been proved to be an equivalence relation and x ~
                    and y are distinct variable symbols.  The ~
                    hypothesis of ~x0, ~x1, is not of this form."</span>)
      (concl-msg <span class="string">"~x0 is an unacceptable :CONGRUENCE rule because its ~
                    conclusion does not have the expected form.  See :DOC ~
                    congruence."</span>)
      (failure-msg <span class="string">"~x0 is an unacceptable :CONGRUENCE rule because ~@1.  ~
                      See :DOC congruence."</span>))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-int_3D" data-sym="INT=">int=</a> (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> pairs) <span class="number">1</span>) (<a class="sym-link system" href="axioms.html#def-int_3D" data-sym="INT=">int=</a> (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> pairs)) <span class="number">1</span>)) (let ((hyp (<a class="sym-link system" href="axioms.html#def-caaar" data-sym="CAAAR">caaar</a> pairs)) (concl (quote-normal-form (<a class="sym-link system" href="axioms.html#def-cdar" data-sym="CDAR">cdar</a> pairs))))
          (<a class="sym-link system" href="basis-a.html#def-case-match" data-sym="CASE-MATCH">case-match</a> hyp
            ((equiv1 xk yk) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> xk)
                   (<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> yk)
                   (<a class="sym-link system" href="basis-b.html#def-equivalence-relationp" data-sym="EQUIVALENCE-RELATIONP">equivalence-relationp</a> equiv1 wrld)) (<a class="sym-link system" href="basis-a.html#def-case-match" data-sym="CASE-MATCH">case-match</a> concl
                    ((equiv2 (fn . args1) (fn . args2)) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="basis-b.html#def-equivalence-relationp" data-sym="EQUIVALENCE-RELATIONP">equivalence-relationp</a> equiv2 wrld))
                           (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (symbolp fn))
                           (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> fn 'quote)
                           (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> fn 'if)) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> concl-msg name)))
                        ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (all-variablep args1)
                           (<a class="sym-link system" href="axioms.html#def-no-duplicatesp-eq" data-sym="NO-DUPLICATESP-EQ">no-duplicatesp-eq</a> args1)
                           (<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> xk args1)
                           (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> yk args1))
                           (<a class="sym-link local-def" href="#def-corresponding-args-eq-except" data-sym="CORRESPONDING-ARGS-EQ-EXCEPT" title="(defun corresponding-args-eq-except (args1 args2 xk yk)
  (cond ((null args1) t)
        ((eq (car args1) xk)
         (and (eq (car args2) yk)
              (corresponding-args-eq-except (cdr args1) (cdr args2) xk yk)))
...">corresponding-args-eq-except</a> args1 args2 xk yk)) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> <span class="keyword">:classic</span> (<a class="sym-link system" href="axioms.html#def-list_2A" data-sym="LIST*">list*</a> fn
                              equiv1
                              (<a class="sym-link system" href="axioms.html#def-1_2B" data-sym="1+">1+</a> (<a class="sym-link system" href="axioms.html#def--" data-sym="-">-</a> (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> args1) (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> (<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> xk args1))))
                              equiv2
                              nil)))
                        ((<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (ffnnamep-lst 'if args1)
                           (ffnnamep-lst '<a class="sym-link system" href="axioms.html#def-implies" data-sym="IMPLIES">implies</a> args1)
                           (ffnnamep-lst 'equal args1)
                           (lambda-subtermp-lst args1)) (let ((bad-fns (<a class="sym-link system" href="axioms.html#def-append" data-sym="APPEND">append</a> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (ffnnamep-lst 'if args1) '(if))
                                 (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (ffnnamep-lst '<a class="sym-link system" href="axioms.html#def-implies" data-sym="IMPLIES">implies</a> args1) '(<a class="sym-link system" href="axioms.html#def-implies" data-sym="IMPLIES">implies</a>))
                                 (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (ffnnamep-lst 'equal args1) '(equal)))) (bad-lambda-p (lambda-subtermp-lst args1)))
                            (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil
                              (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> failure-msg
                                name
                                (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> bad-fns bad-lambda-p) (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"the function symbol~#0~[ ~&amp;0~/s ~&amp;0~] ~
                                        and a lambda application occur in the ~
                                        conclusion of the rule"</span>
                                      bad-fns))
                                  (bad-fns (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"the function symbol~#0~[ ~&amp;0 ~
                                        occurs~/s ~&amp;0 occur~] in the ~
                                        conclusion of the rule"</span>
                                      bad-fns))
                                  (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"a lambda application occurs in the ~
                                        conclusion of the rule."</span>)))))))
                        ((dumb-occur-var-lst <a class="sym-link system" href="rewrite.html#def-_2Aanonymous-var_2A" data-sym="*ANONYMOUS-VAR*">*anonymous-var*</a> term) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil
                            (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> failure-msg
                              name
                              (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"the variable ~x0, which is used in a special ~
                               way by the implementation, occurs in the rule"</span>
                                <a class="sym-link system" href="rewrite.html#def-_2Aanonymous-var_2A" data-sym="*ANONYMOUS-VAR*">*anonymous-var*</a>))))
                        (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((addr1 (<a class="sym-link local-def" href="#def-var-address" data-sym="VAR-ADDRESS" title="(mutual-recursion
 (defun var-address (var term acc)
   (declare
    (xargs :guard (and (symbolp var) (pseudo-termp term) (true-listp acc))))
   (cond ((eq var term) (reverse acc)) ((variablep term) nil)
...">var-address</a> xk (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> concl <span class="number">1</span>) nil)) (addr2 (<a class="sym-link local-def" href="#def-var-address" data-sym="VAR-ADDRESS" title="(mutual-recursion
 (defun var-address (var term acc)
   (declare
    (xargs :guard (and (symbolp var) (pseudo-termp term) (true-listp acc))))
   (cond ((eq var term) (reverse acc)) ((variablep term) nil)
...">var-address</a> yk (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> concl <span class="number">2</span>) nil)))
                            (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> addr1) (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> addr2)) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil
                                  (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> failure-msg
                                    name
                                    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> addr1) (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"the variable ~x0 does not occur in ~x1"</span>
                                          xk
                                          (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> concl <span class="number">1</span>)))
                                      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"the variable ~x0 does not occur in ~x1"</span>
                                          yk
                                          (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> concl <span class="number">2</span>)))))))
                              ((<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> addr1 <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>) (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> addr2 <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil
                                  (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> failure-msg
                                    name
                                    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> addr1) (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"the variable ~x0 occurs more than once ~
                                     in ~x1"</span>
                                          xk
                                          (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> concl <span class="number">1</span>)))
                                      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"the variable ~x0 occurs more than once ~
                                     in ~x1"</span>
                                          yk
                                          (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> concl <span class="number">2</span>)))))))
                              ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (equal addr1 addr2)) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil
                                  (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> failure-msg
                                    name
                                    (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"the variables ~x0 and ~x1 occur at ~
                                   different positions in the first and ~
                                   second arguments, respectively, of ~x3 in ~
                                   the conclusion of the proposed rule"</span>
                                      xk
                                      yk
                                      equiv2))))
                              ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (equal args2 (subst-var-lst yk xk args1))) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil
                                  (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> failure-msg
                                    name
                                    (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"the second argument of its conclusion is ~
                                   not equal to the result of substituting ~
                                   ~x0 for ~x1 in its first argument"</span>
                                      yk
                                      xk))))
                              (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> (if (<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> xk args1)
                                    <span class="keyword">:shallow</span> <span class="keyword">:deep</span>)
                                  (<a class="sym-link system" href="axioms.html#def-list_2A" data-sym="LIST*">list*</a> fn equiv1 addr1 equiv2 (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> concl <span class="number">1</span>)))))))))
                    (&amp; (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> concl-msg name)))))
                (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> hyp-msg name hyp)))))
            (&amp; (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> hyp-msg name hyp))))))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil
          (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> failure-msg
            name
            <span class="string">"the supplied formula does not generate a single ~
                      conjunct of the form (implies (equiv1 xk yk) (equiv2 ~
                      (fn ...) (fn ...))), where equiv1 and equiv2 are ~
                      equivalence relations"</span>))))))</pre>
  </div>

<div class="form-block function" id="def-some-congruence-rule-same" data-defines="SOME-CONGRUENCE-RULE-SAME" data-references="CDR,T,CAR,CONGRUENCE-RULE,ACCESS,EQ,NULL,COND,RULES,EQUIV,DEFUN" data-used-by="CHK-ACCEPTABLE-CONGRUENCE-RULE" data-part-name="SOME-CONGRUENCE-RULE-SAME" data-part-args="RULES,EQUIV" data-part-body="CDR,SOME-CONGRUENCE-RULE-SAME,T,CAR,CONGRUENCE-RULE,ACCESS,EQUIV,EQ,RULES,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="SOME-CONGRUENCE-RULE-SAME">some-congruence-rule-same</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-some-congruence-rule-same" data-sym="SOME-CONGRUENCE-RULE-SAME" title="(defun some-congruence-rule-same (equiv rules)
  (cond ((null rules) nil)
        ((eq equiv (access congruence-rule (car rules) :equiv)) (car rules))
        (t (some-congruence-rule-same equiv (cdr rules)))))">some-congruence-rule-same</a>
  (equiv rules)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> rules) nil)
    ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> equiv (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> congruence-rule (car rules) <span class="keyword">:equiv</span>)) (car rules))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-some-congruence-rule-same" data-sym="SOME-CONGRUENCE-RULE-SAME" title="(defun some-congruence-rule-same (equiv rules)
  (cond ((null rules) nil)
        ((eq equiv (access congruence-rule (car rules) :equiv)) (car rules))
        (t (some-congruence-rule-same equiv (cdr rules)))))">some-congruence-rule-same</a> equiv (cdr rules)))))</pre>
  </div>

<div class="form-block function" id="def-some-congruence-rule-has-refinement" data-defines="SOME-CONGRUENCE-RULE-HAS-REFINEMENT" data-references="CDR,T,CAR,CONGRUENCE-RULE,ACCESS,REFINEMENTP,NULL,COND,WRLD,RULES,EQUIV,DEFUN" data-used-by="CHK-ACCEPTABLE-CONGRUENCE-RULE" data-part-name="SOME-CONGRUENCE-RULE-HAS-REFINEMENT" data-part-args="WRLD,RULES,EQUIV" data-part-body="CDR,SOME-CONGRUENCE-RULE-HAS-REFINEMENT,T,WRLD,CAR,CONGRUENCE-RULE,ACCESS,EQUIV,REFINEMENTP,RULES,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="SOME-CONGRUENCE-RULE-HAS-REFINEMENT">some-congruence-rule-has-refinement</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-some-congruence-rule-has-refinement" data-sym="SOME-CONGRUENCE-RULE-HAS-REFINEMENT" title="(defun some-congruence-rule-has-refinement (equiv rules wrld)
  (cond ((null rules) nil)
        ((refinementp equiv (access congruence-rule (car rules) :equiv) wrld)
         (car rules))
        (t (some-congruence-rule-has-refinement equiv (cdr rules) wrld))))">some-congruence-rule-has-refinement</a>
  (equiv rules wrld)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> rules) nil)
    ((<a class="sym-link system" href="rewrite.html#def-refinementp" data-sym="REFINEMENTP">refinementp</a> equiv
       (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> congruence-rule (car rules) <span class="keyword">:equiv</span>)
       wrld) (car rules))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-some-congruence-rule-has-refinement" data-sym="SOME-CONGRUENCE-RULE-HAS-REFINEMENT" title="(defun some-congruence-rule-has-refinement (equiv rules wrld)
  (cond ((null rules) nil)
        ((refinementp equiv (access congruence-rule (car rules) :equiv) wrld)
         (car rules))
        (t (some-congruence-rule-has-refinement equiv (cdr rules) wrld))))">some-congruence-rule-has-refinement</a> equiv (cdr rules) wrld))))</pre>
  </div>

<div class="form-block function" id="def-chk-acceptable-congruence-rule" data-defines="CHK-ACCEPTABLE-CONGRUENCE-RULE" data-references="VALUE,ASSERT$,IF,OBSERVATION,SOME-CONGRUENCE-RULE-HAS-REFINEMENT,TH,CONS,CONGRUENCE-RULE,ACCESS,BASE-SYMBOL,SOME-CONGRUENCE-RULE-SAME,CONGRUENCES,GETPROPC,ASSOC-EQ,NTH,TEMP,K,LET*,*TS-BOOLEAN*,TS-SUBSETP,IGNORE,DECLARE,ENS,FORMALS,CONS-TERM,TYPE-SET,TTREE,TS,IFF,AND,WARNING$,EQUAL,QUOTE,EQ,PPROGN,CADDDR,EQUIV2,CADDR,ADDR,CADR,EQUIV1,CAR,FN,LET,T,SOFT,ER,NOT,COND,INTERPRET-TERM-AS-CONGRUENCE-RULE,X,FLG,MV-LET,STATE,WRLD,CTX,TERM,NAME,DEFUN" data-used-by="CHK-ACCEPTABLE-X-RULE" data-part-name="CHK-ACCEPTABLE-CONGRUENCE-RULE" data-part-args="STATE,WRLD,CTX,TERM,NAME" data-part-body="VALUE,ASSERT$,IF,OBSERVATION,SOME-CONGRUENCE-RULE-HAS-REFINEMENT,TH,CONS,CONGRUENCE-RULE,ACCESS,BASE-SYMBOL,SOME-CONGRUENCE-RULE-SAME,CONGRUENCES,GETPROPC,ASSOC-EQ,NTH,TEMP,K,LET*,*TS-BOOLEAN*,TS-SUBSETP,IGNORE,DECLARE,STATE,ENS,FORMALS,CONS-TERM,TYPE-SET,TTREE,TS,IFF,AND,WARNING$,EQUAL,QUOTE,EQ,PPROGN,CADDDR,EQUIV2,CADDR,ADDR,CADR,EQUIV1,CAR,FN,LET,T,CTX,SOFT,ER,NOT,COND,WRLD,TERM,NAME,INTERPRET-TERM-AS-CONGRUENCE-RULE,X,FLG,MV-LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CHK-ACCEPTABLE-CONGRUENCE-RULE">chk-acceptable-congruence-rule</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-chk-acceptable-congruence-rule" data-sym="CHK-ACCEPTABLE-CONGRUENCE-RULE" title="(defun chk-acceptable-congruence-rule (name term ctx wrld state)
  (mv-let (flg x) (interpret-term-as-congruence-rule name term wrld)
          (cond ((not flg) (er soft ctx &quot;~@0&quot; x))
                (t
                 (let ((fn (car x))
...">chk-acceptable-congruence-rule</a>
  (name term ctx wrld state)
  (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (flg x)
    (<a class="sym-link local-def" href="#def-interpret-term-as-congruence-rule" data-sym="INTERPRET-TERM-AS-CONGRUENCE-RULE" title="(defun interpret-term-as-congruence-rule (name term wrld)
  (let ((pairs (unprettyify (remove-guard-holders term wrld)))
        (hyp-msg
         &quot;~x0 is an unacceptable :CONGRUENCE rule.  The ~
                    single hypothesis of a :CONGRUENCE rule must be a ~
...">interpret-term-as-congruence-rule</a> name term wrld)
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> flg) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft ctx <span class="string">"~@0"</span> x))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((fn (car x)) (equiv1 (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> x))
            (addr (<a class="sym-link system" href="axioms.html#def-caddr" data-sym="CADDR">caddr</a> x))
            (equiv2 (<a class="sym-link system" href="axioms.html#def-cadddr" data-sym="CADDDR">cadddr</a> x)))
          (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> equiv1 'equal) (<a class="sym-link system" href="axioms.html#def-warning_24" data-sym="WARNING$">warning$</a> ctx
                  <span class="string">"Equiv"</span>
                  <span class="string">"The :CONGRUENCE rule ~x0 will have no effect on ~
                          proofs because ACL2 already knows that ~x1 refines ~
                          every equivalence relation."</span>
                  name
                  'equal))
              ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> equiv2 '<a class="sym-link system" href="axioms.html#def-iff" data-sym="IFF">iff</a>)
                 (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (ts ttree)
                   (type-set (<a class="sym-link system" href="basis-b.html#def-cons-term" data-sym="CONS-TERM">cons-term</a> fn (<a class="sym-link system" href="basis-b.html#def-formals" data-sym="FORMALS">formals</a> fn wrld))
                     nil
                     nil
                     nil
                     (ens state)
                     wrld
                     nil
                     nil
                     nil)
                   (declare (ignore ttree))
                   (ts-subsetp ts *ts-boolean*))) (<a class="sym-link system" href="axioms.html#def-warning_24" data-sym="WARNING$">warning$</a> ctx
                  <span class="string">"Equiv"</span>
                  <span class="string">"The :CONGRUENCE rule ~x0 can be strengthened by ~
                          replacing the outer equivalence relation, ~x1, by ~
                          ~x2.  See :DOC congruence, in particular (near the ~
                          end) the Remark on Replacing IFF by EQUAL."</span>
                  name
                  '<a class="sym-link system" href="axioms.html#def-iff" data-sym="IFF">iff</a>
                  'equal))
              (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> state))
            (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> flg <span class="keyword">:classic</span>) (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((k addr) (temp (<a class="sym-link system" href="axioms.html#def-nth" data-sym="NTH">nth</a> k
                        (<a class="sym-link system" href="axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a> equiv2 (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> fn 'congruences nil wrld)))))
                  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link local-def" href="#def-some-congruence-rule-same" data-sym="SOME-CONGRUENCE-RULE-SAME" title="(defun some-congruence-rule-same (equiv rules)
  (cond ((null rules) nil)
        ((eq equiv (access congruence-rule (car rules) :equiv)) (car rules))
        (t (some-congruence-rule-same equiv (cdr rules)))))">some-congruence-rule-same</a> equiv1 temp) (<a class="sym-link system" href="axioms.html#def-warning_24" data-sym="WARNING$">warning$</a> ctx
                        <span class="string">"Equiv"</span>
                        <span class="string">"The previously added :CONGRUENCE lemma, ~x0, ~
                         establishes that ~x1 preserves ~x2 in the ~n3 slot ~
                         of ~x4.  Thus, ~x5 is unnecessary."</span>
                        (base-symbol (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> congruence-rule
                            (<a class="sym-link local-def" href="#def-some-congruence-rule-same" data-sym="SOME-CONGRUENCE-RULE-SAME" title="(defun some-congruence-rule-same (equiv rules)
  (cond ((null rules) nil)
        ((eq equiv (access congruence-rule (car rules) :equiv)) (car rules))
        (t (some-congruence-rule-same equiv (cdr rules)))))">some-congruence-rule-same</a> equiv1 temp)
                            <span class="keyword">:rune</span>))
                        equiv1
                        equiv2
                        (cons k 'th)
                        fn
                        name))
                    ((<a class="sym-link local-def" href="#def-some-congruence-rule-has-refinement" data-sym="SOME-CONGRUENCE-RULE-HAS-REFINEMENT" title="(defun some-congruence-rule-has-refinement (equiv rules wrld)
  (cond ((null rules) nil)
        ((refinementp equiv (access congruence-rule (car rules) :equiv) wrld)
         (car rules))
        (t (some-congruence-rule-has-refinement equiv (cdr rules) wrld))))">some-congruence-rule-has-refinement</a> equiv1 temp wrld) (<a class="sym-link system" href="axioms.html#def-warning_24" data-sym="WARNING$">warning$</a> ctx
                        <span class="string">"Equiv"</span>
                        <span class="string">"The previously added :CONGRUENCE lemma, ~x0, ~
                         establishes that ~x1 preserves ~x2 in the ~n3 slot ~
                         of ~x4.  But we know that ~x5 is a refinement of ~
                         ~x1.  Thus, ~x6 is unnecessary."</span>
                        (base-symbol (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> congruence-rule
                            (<a class="sym-link local-def" href="#def-some-congruence-rule-has-refinement" data-sym="SOME-CONGRUENCE-RULE-HAS-REFINEMENT" title="(defun some-congruence-rule-has-refinement (equiv rules wrld)
  (cond ((null rules) nil)
        ((refinementp equiv (access congruence-rule (car rules) :equiv) wrld)
         (car rules))
        (t (some-congruence-rule-has-refinement equiv (cdr rules) wrld))))">some-congruence-rule-has-refinement</a> equiv1 temp wrld)
                            <span class="keyword">:rune</span>))
                        (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> congruence-rule
                          (<a class="sym-link local-def" href="#def-some-congruence-rule-has-refinement" data-sym="SOME-CONGRUENCE-RULE-HAS-REFINEMENT" title="(defun some-congruence-rule-has-refinement (equiv rules wrld)
  (cond ((null rules) nil)
        ((refinementp equiv (access congruence-rule (car rules) :equiv) wrld)
         (car rules))
        (t (some-congruence-rule-has-refinement equiv (cdr rules) wrld))))">some-congruence-rule-has-refinement</a> equiv1 temp wrld)
                          <span class="keyword">:equiv</span>)
                        equiv2
                        (cons k 'th)
                        fn
                        equiv1
                        name))
                    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> state))))
              (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="basis-a.html#def-observation" data-sym="OBSERVATION">observation</a> ctx
                  <span class="string">"The rule ~x0 is a ~s1 patterned congruence rule.  ~
                          See :DOC patterned-congruence."</span>
                  name
                  (if (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> flg <span class="keyword">:shallow</span>)
                    <span class="string">"shallow"</span>
                    (<a class="sym-link system" href="axioms.html#def-assert_24" data-sym="ASSERT$">assert$</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> flg <span class="keyword">:deep</span>) <span class="string">"deep"</span>)))))
            (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil)))))))</pre>
  </div>

<div class="form-block function" id="def-add-congruence-rule-to-congruence" data-defines="ADD-CONGRUENCE-RULE-TO-CONGRUENCE" data-references="NTH,CONS,UPDATE-NTH,CONGRUENCE,K,RULE,DEFUN" data-used-by="ADD-CONGRUENCE-RULE" data-part-name="ADD-CONGRUENCE-RULE-TO-CONGRUENCE" data-part-args="CONGRUENCE,K,RULE" data-part-body="CONGRUENCE,NTH,RULE,CONS,K,UPDATE-NTH" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ADD-CONGRUENCE-RULE-TO-CONGRUENCE">add-congruence-rule-to-congruence</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-add-congruence-rule-to-congruence" data-sym="ADD-CONGRUENCE-RULE-TO-CONGRUENCE" title="(defun add-congruence-rule-to-congruence (rule k congruence)
  (update-nth k (cons rule (nth k congruence)) congruence))">add-congruence-rule-to-congruence</a>
  (rule k congruence)
  (<a class="sym-link system" href="axioms.html#def-update-nth" data-sym="UPDATE-NTH">update-nth</a> k (cons rule (<a class="sym-link system" href="axioms.html#def-nth" data-sym="NTH">nth</a> k congruence)) congruence))</pre>
  </div>

<div class="form-block function" id="def-cons-assoc-eq-rec" data-defines="CONS-ASSOC-EQ-REC" data-references="CAR,T,CDR,CDAR,CONS,ACONS,CAAR,EQ,QUOTE,HARD,ER,ENDP,COND,ASSOC-EQ,TRUE-LIST-LISTP,SYMBOL-ALISTP,AND,XARGS,DECLARE,ALIST,VAL,KEY,DEFUN" data-used-by="CONS-ASSOC-EQ" data-part-name="CONS-ASSOC-EQ-REC" data-part-args="ALIST,VAL,KEY" data-part-declare="KEY,ASSOC-EQ,TRUE-LIST-LISTP,ALIST,SYMBOL-ALISTP,AND,XARGS,DECLARE" data-part-body="CAR,T,CDR,CDAR,VAL,CONS,ACONS,CAAR,EQ,KEY,CONS-ASSOC-EQ-REC,QUOTE,HARD,ER,ALIST,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CONS-ASSOC-EQ-REC">cons-assoc-eq-rec</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-cons-assoc-eq-rec" data-sym="CONS-ASSOC-EQ-REC" title="(defun cons-assoc-eq-rec (key val alist)
  (declare
   (xargs :guard
    (and (symbol-alistp alist) (true-list-listp alist) (assoc-eq key alist))))
  (cond
...">cons-assoc-eq-rec</a>
  (key val alist)
  (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-symbol-alistp" data-sym="SYMBOL-ALISTP">symbol-alistp</a> alist)
        (<a class="sym-link system" href="axioms.html#def-true-list-listp" data-sym="TRUE-LIST-LISTP">true-list-listp</a> alist)
        (<a class="sym-link system" href="axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a> key alist))))
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> alist) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> hard
        '<a class="sym-link local-def" href="#def-cons-assoc-eq-rec" data-sym="CONS-ASSOC-EQ-REC" title="(defun cons-assoc-eq-rec (key val alist)
  (declare
   (xargs :guard
    (and (symbol-alistp alist) (true-list-listp alist) (assoc-eq key alist))))
  (cond
...">cons-assoc-eq-rec</a>
        <span class="string">"Implementation error: Reached the end of the alist for key ~x0!"</span>
        key))
    ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> key (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> alist)) (<a class="sym-link system" href="axioms.html#def-acons" data-sym="ACONS">acons</a> key (cons val (<a class="sym-link system" href="axioms.html#def-cdar" data-sym="CDAR">cdar</a> alist)) (cdr alist)))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (cons (car alist) (<a class="sym-link local-def" href="#def-cons-assoc-eq-rec" data-sym="CONS-ASSOC-EQ-REC" title="(defun cons-assoc-eq-rec (key val alist)
  (declare
   (xargs :guard
    (and (symbol-alistp alist) (true-list-listp alist) (assoc-eq key alist))))
  (cond
...">cons-assoc-eq-rec</a> key val (cdr alist))))))</pre>
  </div>

<div class="form-block function" id="def-cons-assoc-eq" data-defines="CONS-ASSOC-EQ" data-references="ACONS,T,CONS-ASSOC-EQ-REC,ASSOC-EQ,LIST,ENDP,COND,TRUE-LIST-LISTP,SYMBOL-ALISTP,AND,XARGS,DECLARE,ALIST,VAL,KEY,DEFUN" data-used-by="ADD-CONGRUENCE-RULE" data-part-name="CONS-ASSOC-EQ" data-part-args="ALIST,VAL,KEY" data-part-declare="TRUE-LIST-LISTP,ALIST,SYMBOL-ALISTP,AND,XARGS,DECLARE" data-part-body="ACONS,T,CONS-ASSOC-EQ-REC,ASSOC-EQ,VAL,KEY,LIST,ALIST,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CONS-ASSOC-EQ">cons-assoc-eq</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-cons-assoc-eq" data-sym="CONS-ASSOC-EQ" title="(defun cons-assoc-eq (key val alist)
  (declare (xargs :guard (and (symbol-alistp alist) (true-list-listp alist))))
  (cond ((endp alist) (list (list key val)))
        ((assoc-eq key alist) (cons-assoc-eq-rec key val alist))
        (t (acons key (list val) alist))))">cons-assoc-eq</a>
  (key val alist)
  (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-symbol-alistp" data-sym="SYMBOL-ALISTP">symbol-alistp</a> alist) (<a class="sym-link system" href="axioms.html#def-true-list-listp" data-sym="TRUE-LIST-LISTP">true-list-listp</a> alist))))
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> alist) (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> key val)))
    ((<a class="sym-link system" href="axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a> key alist) (<a class="sym-link local-def" href="#def-cons-assoc-eq-rec" data-sym="CONS-ASSOC-EQ-REC" title="(defun cons-assoc-eq-rec (key val alist)
  (declare
   (xargs :guard
    (and (symbol-alistp alist) (true-list-listp alist) (assoc-eq key alist))))
  (cond
...">cons-assoc-eq-rec</a> key val alist))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-acons" data-sym="ACONS">acons</a> key (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> val) alist))))</pre>
  </div>

<div class="form-block function" id="def-add-congruence-rule" data-defines="ADD-CONGRUENCE-RULE" data-references="PARENT-PROP,NEW,PEQUIVS-PROPERTY-FIELD,CONS-ASSOC-EQ,PEQUIVS-PROPERTY,CHANGE,*EMPTY-PEQUIVS-PROPERTY*,NEW-PROP,PEQUIVS,PROP,FFN-SYMB,NTH,ARG,SYM,MAKE-PEQUIV,PEQUIV,CONSP,LAMBDA-APPLICATIONP,FQUOTEP,VARIABLEP,NOT,MEMBER-EQ,AND,ASSERT$,T,HARD!,ER,NULL,CONGRUENCE-RULE,MAKE,ADD-CONGRUENCE-RULE-TO-CONGRUENCE,PUTPROP,REMOVE1-EQUAL,IF,RST,ARITY,MAKE-LIST-AC,CONS,OR,EQUIV2-CONGRUENCE,CONGRUENCES,QUOTE,GETPROPC,ASSOC-EQ,TEMP,K,LET*,EQ,COND,CDDDDR,LHS,CADDDR,EQUIV2,CADDR,ADDR,CADR,EQUIV1,CAR,FN,LET,BASE-SYMBOL,INTERPRET-TERM-AS-CONGRUENCE-RULE,X,FLG,MV-LET,WRLD,TERM,NUME,RUNE,DEFUN" data-used-by="ADD-X-RULE" data-part-name="ADD-CONGRUENCE-RULE" data-part-args="WRLD,TERM,NUME,RUNE" data-part-body="PARENT-PROP,NEW,PEQUIVS-PROPERTY-FIELD,CONS-ASSOC-EQ,PEQUIVS-PROPERTY,CHANGE,*EMPTY-PEQUIVS-PROPERTY*,NEW-PROP,PEQUIVS,PROP,FFN-SYMB,NTH,ARG,SYM,MAKE-PEQUIV,PEQUIV,CONSP,LAMBDA-APPLICATIONP,FQUOTEP,VARIABLEP,NOT,MEMBER-EQ,AND,ASSERT$,T,ADD-CONGRUENCE-RULE,HARD!,ER,NULL,NUME,CONGRUENCE-RULE,MAKE,ADD-CONGRUENCE-RULE-TO-CONGRUENCE,PUTPROP,REMOVE1-EQUAL,IF,RST,ARITY,MAKE-LIST-AC,CONS,OR,EQUIV2-CONGRUENCE,CONGRUENCES,QUOTE,GETPROPC,ASSOC-EQ,TEMP,K,LET*,EQ,COND,CDDDDR,LHS,CADDDR,EQUIV2,CADDR,ADDR,CADR,EQUIV1,CAR,FN,LET,WRLD,TERM,RUNE,BASE-SYMBOL,INTERPRET-TERM-AS-CONGRUENCE-RULE,X,FLG,MV-LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ADD-CONGRUENCE-RULE">add-congruence-rule</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-add-congruence-rule" data-sym="ADD-CONGRUENCE-RULE" title="(defun add-congruence-rule (rune nume term wrld)
  (mv-let (flg x)
          (interpret-term-as-congruence-rule (base-symbol rune) term wrld)
          (let ((fn (car x))
                (equiv1 (cadr x))
...">add-congruence-rule</a>
  (rune nume term wrld)
  (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (flg x)
    (<a class="sym-link local-def" href="#def-interpret-term-as-congruence-rule" data-sym="INTERPRET-TERM-AS-CONGRUENCE-RULE" title="(defun interpret-term-as-congruence-rule (name term wrld)
  (let ((pairs (unprettyify (remove-guard-holders term wrld)))
        (hyp-msg
         &quot;~x0 is an unacceptable :CONGRUENCE rule.  The ~
                    single hypothesis of a :CONGRUENCE rule must be a ~
...">interpret-term-as-congruence-rule</a> (base-symbol rune)
      term
      wrld)
    (let ((fn (car x)) (equiv1 (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> x))
        (addr (<a class="sym-link system" href="axioms.html#def-caddr" data-sym="CADDR">caddr</a> x))
        (equiv2 (<a class="sym-link system" href="axioms.html#def-cadddr" data-sym="CADDDR">cadddr</a> x))
        (lhs (<a class="sym-link system" href="axioms.html#def-cddddr" data-sym="CDDDDR">cddddr</a> x)))
      (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> flg <span class="keyword">:classic</span>) (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((k addr) (temp (<a class="sym-link system" href="axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a> equiv2 (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> fn 'congruences nil wrld)))
              (equiv2-congruence (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> temp
                  (cons equiv2 (<a class="sym-link system" href="axioms.html#def-make-list-ac" data-sym="MAKE-LIST-AC">make-list-ac</a> (<a class="sym-link system" href="basis-b.html#def-arity" data-sym="ARITY">arity</a> fn wrld) nil nil))))
              (rst (if temp
                  (<a class="sym-link system" href="axioms.html#def-remove1-equal" data-sym="REMOVE1-EQUAL">remove1-equal</a> temp (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> fn 'congruences nil wrld))
                  (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> fn 'congruences nil wrld))))
            (<a class="sym-link system" href="axioms.html#def-putprop" data-sym="PUTPROP">putprop</a> fn
              'congruences
              (cons (<a class="sym-link local-def" href="#def-add-congruence-rule-to-congruence" data-sym="ADD-CONGRUENCE-RULE-TO-CONGRUENCE" title="(defun add-congruence-rule-to-congruence (rule k congruence)
  (update-nth k (cons rule (nth k congruence)) congruence))">add-congruence-rule-to-congruence</a> (<a class="sym-link system" href="basis-a.html#def-make" data-sym="MAKE">make</a> congruence-rule <span class="keyword">:rune</span> rune <span class="keyword">:nume</span> nume <span class="keyword">:equiv</span> equiv1)
                  k
                  equiv2-congruence)
                rst)
              wrld)))
        ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> flg) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> hard!
            '<a class="sym-link local-def" href="#def-add-congruence-rule" data-sym="ADD-CONGRUENCE-RULE" title="(defun add-congruence-rule (rune nume term wrld)
  (mv-let (flg x)
          (interpret-term-as-congruence-rule (base-symbol rune) term wrld)
          (let ((fn (car x))
                (equiv1 (cadr x))
...">add-congruence-rule</a>
            <span class="string">"Implementation error: ~x0 returned failure when attempting to ~
            apply ~x1.  Please contact the ACL2 implementors."</span>
            '<a class="sym-link local-def" href="#def-interpret-term-as-congruence-rule" data-sym="INTERPRET-TERM-AS-CONGRUENCE-RULE" title="(defun interpret-term-as-congruence-rule (name term wrld)
  (let ((pairs (unprettyify (remove-guard-holders term wrld)))
        (hyp-msg
         &quot;~x0 is an unacceptable :CONGRUENCE rule.  The ~
                    single hypothesis of a :CONGRUENCE rule must be a ~
...">interpret-term-as-congruence-rule</a>
            '<a class="sym-link local-def" href="#def-add-congruence-rule" data-sym="ADD-CONGRUENCE-RULE" title="(defun add-congruence-rule (rune nume term wrld)
  (mv-let (flg x)
          (interpret-term-as-congruence-rule (base-symbol rune) term wrld)
          (let ((fn (car x))
                (equiv1 (cadr x))
...">add-congruence-rule</a>))
        (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-assert_24" data-sym="ASSERT$">assert$</a> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> flg '(<span class="keyword">:deep</span> <span class="keyword">:shallow</span>))
              (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> lhs) (<a class="sym-link system" href="axioms.html#def-fquotep" data-sym="FQUOTEP">fquotep</a> lhs) (<a class="sym-link system" href="basis-b.html#def-lambda-applicationp" data-sym="LAMBDA-APPLICATIONP">lambda-applicationp</a> lhs)))
              (consp addr))
            (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((pequiv (<a class="sym-link local-def" href="#def-make-pequiv" data-sym="MAKE-PEQUIV" title="(defun make-pequiv (term addr nume equiv rune)
  (make pequiv :pattern
        (make-pequiv-pattern (replace-duplicate-vars-with-anonymous-var term)
                             addr)
        :unify-subst nil :congruence-rule">make-pequiv</a> lhs addr nume equiv1 rune)) (sym (if (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> flg <span class="keyword">:shallow</span>)
                    fn
                    (let ((arg (<a class="sym-link system" href="axioms.html#def-nth" data-sym="NTH">nth</a> (car addr) lhs)))
                      (<a class="sym-link system" href="axioms.html#def-assert_24" data-sym="ASSERT$">assert$</a> (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> arg) (<a class="sym-link system" href="axioms.html#def-fquotep" data-sym="FQUOTEP">fquotep</a> arg) (<a class="sym-link system" href="basis-b.html#def-lambda-applicationp" data-sym="LAMBDA-APPLICATIONP">lambda-applicationp</a> arg)))
                        (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> arg)))))
                (prop (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> sym 'pequivs nil wrld))
                (new-prop (let ((prop (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> prop <a class="sym-link system" href="rewrite.html#def-_2Aempty-pequivs-property_2A" data-sym="*EMPTY-PEQUIVS-PROPERTY*">*empty-pequivs-property*</a>)))
                    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> flg <span class="keyword">:shallow</span>) (<a class="sym-link system" href="basis-a.html#def-change" data-sym="CHANGE">change</a> pequivs-property
                          prop
                          <span class="keyword">:shallow</span> (<a class="sym-link local-def" href="#def-cons-assoc-eq" data-sym="CONS-ASSOC-EQ" title="(defun cons-assoc-eq (key val alist)
  (declare (xargs :guard (and (symbol-alistp alist) (true-list-listp alist))))
  (cond ((endp alist) (list (list key val)))
        ((assoc-eq key alist) (cons-assoc-eq-rec key val alist))
        (t (acons key (list val) alist))))">cons-assoc-eq</a> equiv2
                            pequiv
                            (<a class="sym-link system" href="rewrite.html#def-pequivs-property-field" data-sym="PEQUIVS-PROPERTY-FIELD">pequivs-property-field</a> prop <span class="keyword">:shallow</span>))))
                      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((new (<a class="sym-link local-def" href="#def-cons-assoc-eq" data-sym="CONS-ASSOC-EQ" title="(defun cons-assoc-eq (key val alist)
  (declare (xargs :guard (and (symbol-alistp alist) (true-list-listp alist))))
  (cond ((endp alist) (list (list key val)))
        ((assoc-eq key alist) (cons-assoc-eq-rec key val alist))
        (t (acons key (list val) alist))))">cons-assoc-eq</a> equiv2
                               pequiv
                               (<a class="sym-link system" href="rewrite.html#def-pequivs-property-field" data-sym="PEQUIVS-PROPERTY-FIELD">pequivs-property-field</a> prop <span class="keyword">:deep</span>))))
                          (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> fn sym)
                               (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="rewrite.html#def-pequivs-property-field" data-sym="PEQUIVS-PROPERTY-FIELD">pequivs-property-field</a> prop <span class="keyword">:deep-pequiv-p</span>))) (<a class="sym-link system" href="basis-a.html#def-change" data-sym="CHANGE">change</a> pequivs-property prop <span class="keyword">:deep</span> new <span class="keyword">:deep-pequiv-p</span> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>))
                            (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="basis-a.html#def-change" data-sym="CHANGE">change</a> pequivs-property prop <span class="keyword">:deep</span> new))))))))
                (parent-prop (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> flg <span class="keyword">:deep</span>)
                    (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> fn sym))
                    (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> fn 'pequivs nil wrld))))
              (<a class="sym-link system" href="axioms.html#def-putprop" data-sym="PUTPROP">putprop</a> sym
                'pequivs
                new-prop
                (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> fn sym) (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> flg <span class="keyword">:shallow</span>)) wrld)
                  ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> parent-prop) (<a class="sym-link system" href="axioms.html#def-putprop" data-sym="PUTPROP">putprop</a> fn
                      'pequivs
                      (<a class="sym-link system" href="basis-a.html#def-make" data-sym="MAKE">make</a> pequivs-property
                        <span class="keyword">:shallow</span> nil
                        <span class="keyword">:deep</span> nil
                        <span class="keyword">:deep-pequiv-p</span> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)
                      wrld))
                  ((<a class="sym-link system" href="rewrite.html#def-pequivs-property-field" data-sym="PEQUIVS-PROPERTY-FIELD">pequivs-property-field</a> parent-prop <span class="keyword">:deep-pequiv-p</span>) wrld)
                  (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-putprop" data-sym="PUTPROP">putprop</a> fn
                      'pequivs
                      (<a class="sym-link system" href="basis-a.html#def-change" data-sym="CHANGE">change</a> pequivs-property parent-prop <span class="keyword">:deep-pequiv-p</span> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)
                      wrld)))))))))))</pre>
  </div>

<div class="form-block function" id="def-chk-destructure-definition" data-defines="CHK-DESTRUCTURE-DEFINITION" data-references="VALUE,T,UNTRANSLATE,SOFT,ER,NULL,COND,IGNORE,DECLARE,DESTRUCTURE-DEFINITION,TTREE,BODY,ARGS,FN,EQUIV,HYPS,MV-LET,STATE,WRLD,CTX,TERM,NAME,DEFUN" data-used-by="TRANSLATE-RULE-CLASS-ALIST" data-part-name="CHK-DESTRUCTURE-DEFINITION" data-part-args="STATE,WRLD,CTX,TERM,NAME" data-part-body="VALUE,T,UNTRANSLATE,NAME,CTX,SOFT,ER,NULL,COND,IGNORE,DECLARE,WRLD,TERM,DESTRUCTURE-DEFINITION,TTREE,BODY,ARGS,FN,EQUIV,HYPS,MV-LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CHK-DESTRUCTURE-DEFINITION">chk-destructure-definition</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-chk-destructure-definition" data-sym="CHK-DESTRUCTURE-DEFINITION" title="(defun chk-destructure-definition (name term ctx wrld state)
  (mv-let (hyps equiv fn args body ttree)
          (destructure-definition term nil nil wrld nil)
          (declare (ignore hyps equiv args body ttree))
          (cond
...">chk-destructure-definition</a>
  (name term ctx wrld state)
  (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (hyps equiv fn <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a> <a class="sym-link system" href="basis-b.html#def-body" data-sym="BODY">body</a> ttree)
    (<a class="sym-link system" href="defuns.html#def-destructure-definition" data-sym="DESTRUCTURE-DEFINITION">destructure-definition</a> term nil nil wrld nil)
    (declare (ignore hyps equiv <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a> <a class="sym-link system" href="basis-b.html#def-body" data-sym="BODY">body</a> ttree))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> fn) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
          ctx
          <span class="string">"~x0 cannot be stored as a :DEFINITION rule ~
                      because the :COROLLARY formula, ~p1, is not of ~
                      the proper form.  See :DOC definition."</span>
          name
          (untranslate term <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> wrld)))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil)))))</pre>
  </div>

<div class="form-block function" id="def-chk-acceptable-definition-install-body" data-defines="CHK-ACCEPTABLE-DEFINITION-INSTALL-BODY" data-references="QUOTE,WARNING$,*DEFINITION-MINIMAL-THEORY*,MEMBER-EQ,PPROGN,T,ALL-VARS,FREE-VARSP-MEMBER,ALL-VARS1-LST,SET-DIFFERENCE-EQ,REVERSE,FREE-VARSP-MEMBER-LST,W,EQUIVALENCE-RELATIONP,SOFT,ER,ARGLISTP,NOT,VALUE,NULL,COND,INSTALL-BODY-MSG,MSG,ER-PREAMBLE,IF,LET,STATE,CTX,INSTALL-BODY-SUPPLIED-P,INSTALL-BODY,BODY,ARGS,EQUIV,HYPS,FN,DEFUN" data-used-by="CHK-ACCEPTABLE-DEFINITION-RULE" data-part-name="CHK-ACCEPTABLE-DEFINITION-INSTALL-BODY" data-part-args="STATE,CTX,INSTALL-BODY-SUPPLIED-P,INSTALL-BODY,BODY,ARGS,EQUIV,HYPS,FN" data-part-body="QUOTE,WARNING$,*DEFINITION-MINIMAL-THEORY*,FN,MEMBER-EQ,PPROGN,T,ALL-VARS,BODY,FREE-VARSP-MEMBER,ALL-VARS1-LST,SET-DIFFERENCE-EQ,REVERSE,HYPS,FREE-VARSP-MEMBER-LST,STATE,W,EQUIV,EQUIVALENCE-RELATIONP,CTX,SOFT,ER,ARGS,ARGLISTP,NOT,VALUE,NULL,COND,INSTALL-BODY-MSG,MSG,ER-PREAMBLE,INSTALL-BODY-SUPPLIED-P,IF,INSTALL-BODY,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CHK-ACCEPTABLE-DEFINITION-INSTALL-BODY">chk-acceptable-definition-install-body</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-chk-acceptable-definition-install-body" data-sym="CHK-ACCEPTABLE-DEFINITION-INSTALL-BODY" title="(defun chk-acceptable-definition-install-body
       (fn hyps equiv args body install-body install-body-supplied-p ctx state)
  (let ((install-body
         (if install-body-supplied-p
             install-body
...">chk-acceptable-definition-install-body</a>
  (fn hyps
    equiv
    <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>
    <a class="sym-link system" href="basis-b.html#def-body" data-sym="BODY">body</a>
    install-body
    install-body-supplied-p
    ctx
    state)
  (let ((install-body (if install-body-supplied-p
         install-body
         <span class="keyword">:normalize</span>)) (er-preamble (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"For a :DEFINITION rule with non-nil :INSTALL-BODY value~@0,"</span>
          (if install-body-supplied-p
            <span class="string">""</span>
            <span class="string">" (default :NORMALIZE)"</span>)))
      (install-body-msg (if install-body-supplied-p
          <span class="string">""</span>
          (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"  Please add :INSTALL-BODY ~x0 to your :DEFINITION rule ~
                 class."</span>
            nil))))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> install-body) (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil))
      ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="basis-a.html#def-arglistp" data-sym="ARGLISTP">arglistp</a> <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>)) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
          ctx
          <span class="string">"~@0 the arguments on the left-hand side of the rule must be a list ~
           of distinct variables, unlike ~x1.~@2  See :DOC definition."</span>
          er-preamble
          <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>
          install-body-msg))
      ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="basis-b.html#def-equivalence-relationp" data-sym="EQUIVALENCE-RELATIONP">equivalence-relationp</a> equiv (<a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a> state))) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
          ctx
          <span class="string">"~@0 the function symbol at the top of the conclusion must be an ~
           equivalence relation, unlike ~x1.~@2  See :DOC definition."</span>
          er-preamble
          equiv
          install-body-msg))
      ((free-varsp-member-lst hyps <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
          ctx
          <span class="string">"~@0 the hypotheses must not contain free variables that are not ~
           among the variables on its left-hand side.  The ~#1~[variable ~&amp;1 ~
           violates~/variables ~&amp;1 violate~] this requirement.~@2  See :DOC ~
           definition."</span>
          er-preamble
          (<a class="sym-link system" href="axioms.html#def-reverse" data-sym="REVERSE">reverse</a> (<a class="sym-link system" href="axioms.html#def-set-difference-eq" data-sym="SET-DIFFERENCE-EQ">set-difference-eq</a> (all-vars1-lst hyps nil) <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>))
          install-body-msg))
      ((<a class="sym-link system" href="history-management.html#def-free-varsp-member" data-sym="FREE-VARSP-MEMBER">free-varsp-member</a> <a class="sym-link system" href="basis-b.html#def-body" data-sym="BODY">body</a> <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
          ctx
          <span class="string">"~@0 the right-hand side of a :DEFINITION rule must not contain free ~
           variables that are not among the variables on its left-hand side.  ~
           The ~#1~[variable ~&amp;1 violates~/variables ~&amp;1 violate~] this ~
           requirement.~@2  See :DOC definition."</span>
          er-preamble
          (<a class="sym-link system" href="axioms.html#def-reverse" data-sym="REVERSE">reverse</a> (<a class="sym-link system" href="axioms.html#def-set-difference-eq" data-sym="SET-DIFFERENCE-EQ">set-difference-eq</a> (<a class="sym-link system" href="axioms.html#def-all-vars" data-sym="ALL-VARS">all-vars</a> <a class="sym-link system" href="basis-b.html#def-body" data-sym="BODY">body</a>) <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>))
          install-body-msg))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> fn <a class="sym-link system" href="axioms.html#def-_2Adefinition-minimal-theory_2A" data-sym="*DEFINITION-MINIMAL-THEORY*">*definition-minimal-theory*</a>) (<a class="sym-link system" href="axioms.html#def-warning_24" data-sym="WARNING$">warning$</a> ctx
                <span class="string">"Definition"</span>
                <span class="string">"The proposed :DEFINITION rule might not ~
                                  always be the one applied when expanding ~
                                  calls of ~x0 during proofs.  Instead, these ~
                                  calls and, more generally, calls of any ~
                                  function symbol that is in the list ~x1, ~
                                  will often be expanded using the original ~
                                  definition of the function symbol.  Add ~
                                  :INSTALL-BODY ~x2 to the proposed ~
                                  :DEFINITION rule class to avoid this ~
                                  warning."</span>
                fn
                '<a class="sym-link system" href="axioms.html#def-_2Adefinition-minimal-theory_2A" data-sym="*DEFINITION-MINIMAL-THEORY*">*definition-minimal-theory*</a>
                nil))
            (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> state))
          (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil))))))</pre>
  </div>

<div class="form-block function" id="def-chk-acceptable-definition-rule" data-defines="CHK-ACCEPTABLE-DEFINITION-RULE" data-references="VALUE,CADR,CHK-ACCEPTABLE-DEFINITION-INSTALL-BODY,CHK-REWRITE-RULE-WARNINGS,ER-PROGN,CONS,DEFINITION,VAR-COUNTS,MCONS-TERM,PREPROCESS-HYPS,*FAKE-RUNE-FOR-ANONYMOUS-ENABLED-RULE*,REWRITE-RULE,MAKE,RULE,LET,T,SOFT,ER,HIDE,QUOTE,EQ,COND,DESTRUCTURE-DEFINITION,TTREE,BODY,ARGS,FN,EQUIV,HYPS,MV-LET,STATE,WRLD,ENS,CTX,TERM,INSTALL-BODY-TAIL,CONTROLLER-ALIST,CLIQUE,NAME,DEFUN" data-used-by="CHK-ACCEPTABLE-X-RULE" data-part-name="CHK-ACCEPTABLE-DEFINITION-RULE" data-part-args="STATE,WRLD,ENS,CTX,TERM,INSTALL-BODY-TAIL,CONTROLLER-ALIST,CLIQUE,NAME" data-part-body="VALUE,INSTALL-BODY-TAIL,CADR,CHK-ACCEPTABLE-DEFINITION-INSTALL-BODY,STATE,NAME,CHK-REWRITE-RULE-WARNINGS,ER-PROGN,CONTROLLER-ALIST,CLIQUE,CONS,DEFINITION,VAR-COUNTS,MCONS-TERM,PREPROCESS-HYPS,*FAKE-RUNE-FOR-ANONYMOUS-ENABLED-RULE*,REWRITE-RULE,MAKE,RULE,LET,T,CTX,SOFT,ER,HIDE,QUOTE,EQ,COND,WRLD,ENS,TERM,DESTRUCTURE-DEFINITION,TTREE,BODY,ARGS,FN,EQUIV,HYPS,MV-LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CHK-ACCEPTABLE-DEFINITION-RULE">chk-acceptable-definition-rule</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-chk-acceptable-definition-rule" data-sym="CHK-ACCEPTABLE-DEFINITION-RULE" title="(defun chk-acceptable-definition-rule
       (name clique controller-alist install-body-tail term ctx ens wrld state)
  (mv-let (hyps equiv fn args body ttree)
          (destructure-definition term nil ens wrld nil)
          (cond
...">chk-acceptable-definition-rule</a>
  (name clique
    controller-alist
    install-body-tail
    term
    ctx
    ens
    wrld
    state)
  (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (hyps equiv fn <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a> <a class="sym-link system" href="basis-b.html#def-body" data-sym="BODY">body</a> ttree)
    (<a class="sym-link system" href="defuns.html#def-destructure-definition" data-sym="DESTRUCTURE-DEFINITION">destructure-definition</a> term nil ens wrld nil)
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> fn '<a class="sym-link system" href="axioms.html#def-hide" data-sym="HIDE">hide</a>) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
          ctx
          <span class="string">"It is illegal to make a definition rule for ~x0, because of the ~
          special role of this function in the ACL2 rewriter."</span>
          '<a class="sym-link system" href="axioms.html#def-hide" data-sym="HIDE">hide</a>))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((rule (<a class="sym-link system" href="basis-a.html#def-make" data-sym="MAKE">make</a> rewrite-rule
               <span class="keyword">:rune</span> *fake-rune-for-anonymous-enabled-rule*
               <span class="keyword">:nume</span> nil
               <span class="keyword">:hyps</span> (<a class="sym-link system" href="defuns.html#def-preprocess-hyps" data-sym="PREPROCESS-HYPS">preprocess-hyps</a> hyps wrld)
               <span class="keyword">:equiv</span> equiv
               <span class="keyword">:lhs</span> (<a class="sym-link system" href="basis-b.html#def-mcons-term" data-sym="MCONS-TERM">mcons-term</a> fn <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>)
               <span class="keyword">:var-info</span> (<a class="sym-link system" href="rewrite.html#def-var-counts" data-sym="VAR-COUNTS">var-counts</a> <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a> <a class="sym-link system" href="basis-b.html#def-body" data-sym="BODY">body</a>)
               <span class="keyword">:rhs</span> <a class="sym-link system" href="basis-b.html#def-body" data-sym="BODY">body</a>
               <span class="keyword">:subclass</span> 'definition
               <span class="keyword">:heuristic-info</span> (cons clique controller-alist)
               <span class="keyword">:backchain-limit-lst</span> nil)))
          (<a class="sym-link system" href="axioms.html#def-er-progn" data-sym="ER-PROGN">er-progn</a> (<a class="sym-link local-def" href="#def-chk-rewrite-rule-warnings" data-sym="CHK-REWRITE-RULE-WARNINGS" title="(defun chk-rewrite-rule-warnings
       (name match-free loop-stopper rule ctx ens wrld state)
  (let* ((token
          (cond
           ((eq (access rewrite-rule rule :subclass) &#39;definition) :definition)
...">chk-rewrite-rule-warnings</a> name
              nil
              nil
              rule
              ctx
              ens
              wrld
              state)
            (<a class="sym-link local-def" href="#def-chk-acceptable-definition-install-body" data-sym="CHK-ACCEPTABLE-DEFINITION-INSTALL-BODY" title="(defun chk-acceptable-definition-install-body
       (fn hyps equiv args body install-body install-body-supplied-p ctx state)
  (let ((install-body
         (if install-body-supplied-p
             install-body
...">chk-acceptable-definition-install-body</a> fn
              hyps
              equiv
              <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>
              <a class="sym-link system" href="basis-b.html#def-body" data-sym="BODY">body</a>
              (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> install-body-tail)
              install-body-tail
              ctx
              state)
            (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> ttree)))))))</pre>
  </div>

<div class="form-block function" id="def-chk-acceptable-induction-rule" data-defines="CHK-ACCEPTABLE-INDUCTION-RULE" data-references="VALUE,IGNORE,DECLARE,STATE,WRLD,CTX,TERM,NAME,DEFUN" data-used-by="CHK-ACCEPTABLE-X-RULE" data-part-name="CHK-ACCEPTABLE-INDUCTION-RULE" data-part-args="STATE,WRLD,CTX,TERM,NAME" data-part-declare="WRLD,CTX,TERM,NAME,IGNORE,DECLARE" data-part-body="VALUE" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CHK-ACCEPTABLE-INDUCTION-RULE">chk-acceptable-induction-rule</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-chk-acceptable-induction-rule" data-sym="CHK-ACCEPTABLE-INDUCTION-RULE" title="(defun chk-acceptable-induction-rule (name term ctx wrld state)
  (declare (ignore name term ctx wrld))
  (value nil))">chk-acceptable-induction-rule</a>
  (name term ctx wrld state)
  (declare (ignore name term ctx wrld))
  (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil))</pre>
  </div>

<div class="form-block function" id="def-add-induction-rule" data-defines="ADD-INDUCTION-RULE" data-references="GETPROPC,FLATTEN-ANDS-IN-LIT,INDUCTION-RULE,MAKE,CONS,INDUCTION-RULES,QUOTE,PUTPROP,FFN-SYMB,FN,LET,IGNORE,DECLARE,WRLD,TERM,SCHEME-TERM,COND-TERM,PAT-TERM,NUME,RUNE,DEFUN" data-used-by="ADD-X-RULE" data-part-name="ADD-INDUCTION-RULE" data-part-args="WRLD,TERM,SCHEME-TERM,COND-TERM,PAT-TERM,NUME,RUNE" data-part-declare="TERM,IGNORE,DECLARE" data-part-body="WRLD,GETPROPC,SCHEME-TERM,COND-TERM,FLATTEN-ANDS-IN-LIT,NUME,RUNE,INDUCTION-RULE,MAKE,CONS,INDUCTION-RULES,QUOTE,PUTPROP,PAT-TERM,FFN-SYMB,FN,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ADD-INDUCTION-RULE">add-induction-rule</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-add-induction-rule" data-sym="ADD-INDUCTION-RULE" title="(defun add-induction-rule (rune nume pat-term cond-term scheme-term term wrld)
  (declare (ignore term))
  (let ((fn (ffn-symb pat-term)))
    (putprop fn &#39;induction-rules
             (cons
...">add-induction-rule</a>
  (rune nume pat-term cond-term scheme-term term wrld)
  (declare (ignore term))
  (let ((fn (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> pat-term)))
    (<a class="sym-link system" href="axioms.html#def-putprop" data-sym="PUTPROP">putprop</a> fn
      'induction-rules
      (cons (<a class="sym-link system" href="basis-a.html#def-make" data-sym="MAKE">make</a> induction-rule
          <span class="keyword">:rune</span> rune
          <span class="keyword">:nume</span> nume
          <span class="keyword">:pattern</span> pat-term
          <span class="keyword">:condition</span> (flatten-ands-in-lit cond-term)
          <span class="keyword">:scheme</span> scheme-term)
        (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> fn 'induction-rules nil wrld))
      wrld)))</pre>
  </div>

<div class="form-block function" id="def-chk-acceptable-type-set-inverter-rule" data-defines="CHK-ACCEPTABLE-TYPE-SET-INVERTER-RULE" data-references="VALUE,IFF,FCONS-TERM*,TAUTOLOGYP,CONVERT-TYPE-SET-TO-TERM,REQUIRED-OLD-EXPR,HARD,*MAX-TYPE-SET*,*MIN-TYPE-SET*,<=,INTEGERP,MV,TYPE-SET-IMPLIED-BY-TERM,NULL,TTREE,TS2,MV-LET,T,UNTRANSLATE,SOFT,ER,FARGN,X,EQUAL,QUOTE,FFN-SYMB-P,AND,NOT,COND,ALL-VARS,VARS,LET*,STATE,WRLD,ENS,CTX,TERM,TS,NAME,DEFUN" data-used-by="CHK-ACCEPTABLE-X-RULE" data-part-name="CHK-ACCEPTABLE-TYPE-SET-INVERTER-RULE" data-part-args="STATE,WRLD,ENS,CTX,TERM,TS,NAME" data-part-body="VALUE,IFF,FCONS-TERM*,TAUTOLOGYP,CONVERT-TYPE-SET-TO-TERM,REQUIRED-OLD-EXPR,STATE,HARD,*MAX-TYPE-SET*,*MIN-TYPE-SET*,<=,INTEGERP,MV,ENS,TYPE-SET-IMPLIED-BY-TERM,TS,NULL,TTREE,TS2,MV-LET,NAME,WRLD,T,UNTRANSLATE,CTX,SOFT,ER,FARGN,X,EQUAL,QUOTE,FFN-SYMB-P,AND,NOT,COND,TERM,ALL-VARS,VARS,LET*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CHK-ACCEPTABLE-TYPE-SET-INVERTER-RULE">chk-acceptable-type-set-inverter-rule</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-chk-acceptable-type-set-inverter-rule" data-sym="CHK-ACCEPTABLE-TYPE-SET-INVERTER-RULE" title="(defun chk-acceptable-type-set-inverter-rule (name ts term ctx ens wrld state)
  (let* ((vars (all-vars term)))
    (cond
     ((not
       (and (ffn-symb-p term &#39;equal) (equal vars &#39;(x))
...">chk-acceptable-type-set-inverter-rule</a>
  (name ts term ctx ens wrld state)
  (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((vars (<a class="sym-link system" href="axioms.html#def-all-vars" data-sym="ALL-VARS">all-vars</a> term)))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="basis-b.html#def-ffn-symb-p" data-sym="FFN-SYMB-P">ffn-symb-p</a> term 'equal)
           (equal vars '(x))
           (equal (<a class="sym-link system" href="axioms.html#def-all-vars" data-sym="ALL-VARS">all-vars</a> (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">1</span>)) (<a class="sym-link system" href="axioms.html#def-all-vars" data-sym="ALL-VARS">all-vars</a> (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">2</span>))))) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
          ctx
          <span class="string">"The :COROLLARY of a :TYPE-SET-INVERTER rule must be of the form ~
           (equal old-expr new-expr), where new-expr and old-expr are each ~
           terms containing the single free variable X.  ~p0 is not of this ~
           form, so ~x1 is an illegal :TYPE-SET-INVERTER rule.  See :DOC ~
           type-set-inverter."</span>
          (untranslate term <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> wrld)
          name))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (ts2 ttree)
          (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> ts) (<a class="sym-link system" href="defuns.html#def-type-set-implied-by-term" data-sym="TYPE-SET-IMPLIED-BY-TERM">type-set-implied-by-term</a> 'x
                nil
                (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">2</span>)
                ens
                wrld
                nil))
            (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> ts nil)))
          (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (integerp ts2)
                 (<a class="sym-link system" href="axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> *min-type-set* ts2)
                 (<a class="sym-link system" href="axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> ts2 *max-type-set*))) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> ts) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
                    (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> hard
                      ctx
                      <span class="string">"Type-set-implied-by-term returned ~x0 instead of a ~
                         type-set!"</span>
                      ts2)
                    state))
                (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                    ctx
                    <span class="string">"The :TYPE-SET of a :TYPE-SET-INVERTER rule must be a ~
                       type-set, i.e., an integer n such that ~x0 &lt;= n &lt;= ~x1. ~
                       But ~x2 is not so ~x3 is an illegal :TYPE-SET-INVERTER ~
                       rule.  See :DOC type-set-inverter."</span>
                    *min-type-set*
                    *max-type-set*
                    ts2
                    name))))
            (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (required-old-expr ttree)
                (convert-type-set-to-term 'x ts2 ens wrld ttree)
                (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="rewrite.html#def-tautologyp" data-sym="TAUTOLOGYP">tautologyp</a> (<a class="sym-link system" href="axioms.html#def-fcons-term_2A" data-sym="FCONS-TERM*">fcons-term*</a> '<a class="sym-link system" href="axioms.html#def-iff" data-sym="IFF">iff</a> (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">2</span>) required-old-expr)
                       wrld)) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                      ctx
                      <span class="string">"The right-hand side of the :COROLLARY of a :TYPE-SET-INVERTER ~
                 rule with :TYPE-SET ~x0 must be propositionally equivalent to ~
                 ~p1 but you have specified ~p2.  Thus, ~x3 is an illegal ~
                 :TYPE-SET-INVERTER rule.  See :doc type-set-inverter."</span>
                      ts2
                      (untranslate required-old-expr <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> wrld)
                      (untranslate (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">2</span>) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> wrld)
                      name))
                  (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> ttree)))))))))))</pre>
  </div>

<div class="form-block function" id="def-add-type-set-inverter-rule" data-defines="ADD-TYPE-SET-INVERTER-RULE" data-references="GLOBAL-VAL,FLATTEN-ANDS-IN-LIT,TYPE-SET-INVERTER-RULE,MAKE,CONS,TYPE-SET-INVERTER-RULES,GLOBAL-SET,IGNORE,DECLARE,MV,T,FARGN,X,QUOTE,TYPE-SET-IMPLIED-BY-TERM,NULL,COND,TTREE,MV-LET,WRLD,ENS,TERM,TS,NUME,RUNE,DEFUN" data-used-by="ADD-X-RULE" data-part-name="ADD-TYPE-SET-INVERTER-RULE" data-part-args="WRLD,ENS,TERM,TS,NUME,RUNE" data-part-body="GLOBAL-VAL,FLATTEN-ANDS-IN-LIT,RUNE,NUME,TYPE-SET-INVERTER-RULE,MAKE,CONS,TYPE-SET-INVERTER-RULES,GLOBAL-SET,IGNORE,DECLARE,MV,T,WRLD,ENS,TERM,FARGN,X,QUOTE,TYPE-SET-IMPLIED-BY-TERM,NULL,COND,TTREE,TS,MV-LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ADD-TYPE-SET-INVERTER-RULE">add-type-set-inverter-rule</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-add-type-set-inverter-rule" data-sym="ADD-TYPE-SET-INVERTER-RULE" title="(defun add-type-set-inverter-rule (rune nume ts term ens wrld)
  (mv-let (ts ttree)
          (cond
           ((null ts)
            (type-set-implied-by-term &#39;x nil (fargn term 2) ens wrld nil))
...">add-type-set-inverter-rule</a>
  (rune nume ts term ens wrld)
  (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (ts ttree)
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> ts) (<a class="sym-link system" href="defuns.html#def-type-set-implied-by-term" data-sym="TYPE-SET-IMPLIED-BY-TERM">type-set-implied-by-term</a> 'x
          nil
          (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">2</span>)
          ens
          wrld
          nil))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> ts nil)))
    (declare (ignore ttree))
    (<a class="sym-link system" href="basis-b.html#def-global-set" data-sym="GLOBAL-SET">global-set</a> 'type-set-inverter-rules
      (cons (<a class="sym-link system" href="basis-a.html#def-make" data-sym="MAKE">make</a> type-set-inverter-rule
          <span class="keyword">:nume</span> nume
          <span class="keyword">:rune</span> rune
          <span class="keyword">:ts</span> ts
          <span class="keyword">:terms</span> (flatten-ands-in-lit (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">1</span>)))
        (<a class="sym-link system" href="axioms.html#def-global-val" data-sym="GLOBAL-VAL">global-val</a> 'type-set-inverter-rules wrld))
      wrld)))</pre>
  </div>

<div class="form-block function" id="def-tilde-_40-illegal-clause-processor-sig-msg" data-defines="TILDE-@-ILLEGAL-CLAUSE-PROCESSOR-SIG-MSG" data-references="MEMBER-EQUAL,CDDR,MEMBER-EQ,NOT,CADR,AND,T,QUOTE,EQUAL,OR,MSG,CAR,CDR,NULL,COND,STOBJS-OUT,STOBJS-IN,CL-PROC,DEFUN" data-used-by="TRUSTED-CL-PROC-TABLE-GUARD,CHK-ACCEPTABLE-CLAUSE-PROCESSOR-RULE" data-part-name="TILDE-@-ILLEGAL-CLAUSE-PROCESSOR-SIG-MSG" data-part-args="STOBJS-OUT,STOBJS-IN,CL-PROC" data-part-body="MEMBER-EQUAL,CDDR,MEMBER-EQ,NOT,CADR,AND,T,QUOTE,STOBJS-IN,EQUAL,OR,CL-PROC,MSG,CAR,STOBJS-OUT,CDR,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="TILDE-@-ILLEGAL-CLAUSE-PROCESSOR-SIG-MSG">tilde-@-illegal-clause-processor-sig-msg</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-tilde-_40-illegal-clause-processor-sig-msg" data-sym="TILDE-@-ILLEGAL-CLAUSE-PROCESSOR-SIG-MSG" title="(defun tilde-@-illegal-clause-processor-sig-msg (cl-proc stobjs-in stobjs-out)
  (cond
   ((null (cdr stobjs-out))
    (cond
     ((car stobjs-out)
...">tilde-@-illegal-clause-processor-sig-msg</a>
  (cl-proc <a class="sym-link system" href="axioms.html#def-stobjs-in" data-sym="STOBJS-IN">stobjs-in</a> <a class="sym-link system" href="axioms.html#def-stobjs-out" data-sym="STOBJS-OUT">stobjs-out</a>)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> (cdr <a class="sym-link system" href="axioms.html#def-stobjs-out" data-sym="STOBJS-OUT">stobjs-out</a>)) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((car <a class="sym-link system" href="axioms.html#def-stobjs-out" data-sym="STOBJS-OUT">stobjs-out</a>) (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"~x0 returns a single argument but it is a stobj"</span>
            cl-proc))
        ((<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (equal <a class="sym-link system" href="axioms.html#def-stobjs-in" data-sym="STOBJS-IN">stobjs-in</a> '(nil)) (equal <a class="sym-link system" href="axioms.html#def-stobjs-in" data-sym="STOBJS-IN">stobjs-in</a> '(nil nil))) nil)
        (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"~x0 returns a single argument, but doesn&#39;t take exactly one ~
                   or two arguments, both not stobjs"</span>
            cl-proc))))
    ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> (car <a class="sym-link system" href="axioms.html#def-stobjs-in" data-sym="STOBJS-IN">stobjs-in</a>))
       (cdr <a class="sym-link system" href="axioms.html#def-stobjs-in" data-sym="STOBJS-IN">stobjs-in</a>)
       (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> <a class="sym-link system" href="axioms.html#def-stobjs-in" data-sym="STOBJS-IN">stobjs-in</a>))
       (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> nil (<a class="sym-link system" href="axioms.html#def-cddr" data-sym="CDDR">cddr</a> <a class="sym-link system" href="axioms.html#def-stobjs-in" data-sym="STOBJS-IN">stobjs-in</a>)))
       (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> (car <a class="sym-link system" href="axioms.html#def-stobjs-out" data-sym="STOBJS-OUT">stobjs-out</a>))
       (cdr <a class="sym-link system" href="axioms.html#def-stobjs-out" data-sym="STOBJS-OUT">stobjs-out</a>)
       (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> <a class="sym-link system" href="axioms.html#def-stobjs-out" data-sym="STOBJS-OUT">stobjs-out</a>))
       (<a class="sym-link system" href="axioms.html#def-member-equal" data-sym="MEMBER-EQUAL">member-equal</a> (<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> nil (<a class="sym-link system" href="axioms.html#def-cddr" data-sym="CDDR">cddr</a> <a class="sym-link system" href="axioms.html#def-stobjs-out" data-sym="STOBJS-OUT">stobjs-out</a>))
         '(nil (nil)))) nil)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"both the arguments and results of ~x0 in this case are expected to ~
          contain stobjs in exactly all positions other than the first two ~
          and possibly the last"</span>
        cl-proc))))</pre>
  </div>

<div class="form-block function" id="def-destructure-clause-processor-rule" data-defines="DESTRUCTURE-CLAUSE-PROCESSOR-RULE" data-references="CADR,T,MV,REST-ARGS,!CLAUSE,CL-PROC,CLAUSES-RESULT,&,CL-RESULT,CONJOIN-CLAUSES,FLATTEN-ANDS-IN-LIT,ALISTP,PSEUDO-TERM-LISTP,FCONS-TERM*,REMOVE1-EQUAL,REMOVE-META-EXTRACT-GLOBAL-HYPS,META-EXTRACT-FLG,HYPS,MV-LET,ALIST,CLAUSE,DISJOIN,EV,HYP,IMPLIES,QUOTE,CASE-MATCH,TERM,DEFUN" data-used-by="RECOVER-METAFUNCTION-OR-CLAUSE-PROCESSOR-SIGNATURES,ADD-CLAUSE-PROCESSOR-RULE,CHK-ACCEPTABLE-CLAUSE-PROCESSOR-RULE" data-part-name="DESTRUCTURE-CLAUSE-PROCESSOR-RULE" data-part-args="TERM" data-part-body="CADR,T,MV,REST-ARGS,!CLAUSE,CL-PROC,CLAUSES-RESULT,&,CL-RESULT,CONJOIN-CLAUSES,FLATTEN-ANDS-IN-LIT,ALISTP,PSEUDO-TERM-LISTP,FCONS-TERM*,REMOVE1-EQUAL,REMOVE-META-EXTRACT-GLOBAL-HYPS,META-EXTRACT-FLG,HYPS,MV-LET,ALIST,CLAUSE,DISJOIN,EV,HYP,IMPLIES,QUOTE,TERM,CASE-MATCH" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DESTRUCTURE-CLAUSE-PROCESSOR-RULE">destructure-clause-processor-rule</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-destructure-clause-processor-rule" data-sym="DESTRUCTURE-CLAUSE-PROCESSOR-RULE" title="(defun destructure-clause-processor-rule (term)
  (case-match term
              ((&#39;implies hyp (ev (&#39;disjoin clause) alist))
               (mv-let (hyps meta-extract-flg)
                       (remove-meta-extract-global-hyps
...">destructure-clause-processor-rule</a>
  (term)
  (<a class="sym-link system" href="basis-a.html#def-case-match" data-sym="CASE-MATCH">case-match</a> term
    (('<a class="sym-link system" href="axioms.html#def-implies" data-sym="IMPLIES">implies</a> hyp (ev ('<a class="sym-link system" href="axioms.html#def-disjoin" data-sym="DISJOIN">disjoin</a> clause) alist)) (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (hyps meta-extract-flg)
        (<a class="sym-link local-def" href="#def-remove-meta-extract-global-hyps" data-sym="REMOVE-META-EXTRACT-GLOBAL-HYPS" title="(defun remove-meta-extract-global-hyps (hyps ev)
  (declare (xargs :mode :program))
  (cond ((atom hyps) (mv nil nil))
        (t
         (let ((hyp (car hyps)))
...">remove-meta-extract-global-hyps</a> (<a class="sym-link system" href="axioms.html#def-remove1-equal" data-sym="REMOVE1-EQUAL">remove1-equal</a> (<a class="sym-link system" href="axioms.html#def-fcons-term_2A" data-sym="FCONS-TERM*">fcons-term*</a> 'pseudo-term-listp clause)
            (<a class="sym-link system" href="axioms.html#def-remove1-equal" data-sym="REMOVE1-EQUAL">remove1-equal</a> (<a class="sym-link system" href="axioms.html#def-fcons-term_2A" data-sym="FCONS-TERM*">fcons-term*</a> '<a class="sym-link system" href="axioms.html#def-alistp" data-sym="ALISTP">alistp</a> alist)
              (flatten-ands-in-lit hyp)))
          ev)
        (<a class="sym-link system" href="basis-a.html#def-case-match" data-sym="CASE-MATCH">case-match</a> hyps
          (((ev ('<a class="sym-link system" href="axioms.html#def-conjoin-clauses" data-sym="CONJOIN-CLAUSES">conjoin-clauses</a> cl-result) &amp;)) (<a class="sym-link system" href="basis-a.html#def-case-match" data-sym="CASE-MATCH">case-match</a> cl-result
              (('<a class="sym-link system" href="axioms.html#def-clauses-result" data-sym="CLAUSES-RESULT">clauses-result</a> (cl-proc !clause . rest-args)) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
                  cl-proc
                  clause
                  alist
                  rest-args
                  ev
                  (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> cl-result)
                  meta-extract-flg))
              ((cl-proc !clause . rest-args) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil
                  cl-proc
                  clause
                  alist
                  rest-args
                  ev
                  cl-result
                  meta-extract-flg))
              (&amp; (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> <span class="keyword">:error</span> nil nil nil nil nil nil nil))))
          (&amp; (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> <span class="keyword">:error</span> nil nil nil nil nil nil nil)))))
    (&amp; (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> <span class="keyword">:error</span> nil nil nil nil nil nil nil))))</pre>
  </div>

<div class="form-block function" id="def-chk-acceptable-clause-processor-rule" data-defines="CHK-ACCEPTABLE-CLAUSE-PROCESSOR-RULE" data-references="CHK-EVALUATOR,CHK-RULE-FN-GUARD,META-EXTRACT-GLOBAL-FACT+,CHK-EVALUATOR-USE-IN-RULE,TTREE,ER-LET*,NO-DUPLICATESP,UNTRANSLATE-LST,COLLECT-NON-LEGAL-VARIABLEPS,BAD-VARS,CONS,VARS,LIST*,NON-ALIST-VARS,STOBJS-CALLED,CAR,USER-HINTS,CDR,USER-HINTS-P,VALUE,TILDE-@-ILLEGAL-CLAUSE-PROCESSOR-SIG-MSG,CLAUSES-RESULT,IF,STOBJS-OUT,STOBJS-IN,LET*,EQUAL,ASSERT$,IGNORE,DECLARE,QUOTE,TRANSLATE1,BINDINGS,T-CL-PROC-CALL,ERP,MSG,FUNCTION-SYMBOLP,SYMBOLP,AND,NOT,UNTRANSLATE,SOFT,ER,EQ,COND,DESTRUCTURE-CLAUSE-PROCESSOR-RULE,META-EXTRACT-FLG,CL-PROC-CALL,EV,REST-ARGS,ALIST,CLAUSE,CL-PROC,CLAUSES-RESULT-CALL-P,MV-LET,STR,LET,T,CHK-NON-LOCAL-IN-NON-TRIVIAL-ENCAPSULATE,ER-PROGN,STATE,WRLD,CTX,TERM,NAME,DEFUN" data-used-by="CHK-ACCEPTABLE-X-RULE" data-part-name="CHK-ACCEPTABLE-CLAUSE-PROCESSOR-RULE" data-part-args="STATE,WRLD,CTX,TERM,NAME" data-part-body="CHK-EVALUATOR,CHK-RULE-FN-GUARD,META-EXTRACT-GLOBAL-FACT+,CHK-EVALUATOR-USE-IN-RULE,TTREE,ER-LET*,NO-DUPLICATESP,UNTRANSLATE-LST,COLLECT-NON-LEGAL-VARIABLEPS,BAD-VARS,CONS,VARS,LIST*,NON-ALIST-VARS,STOBJS-CALLED,CAR,USER-HINTS,CDR,USER-HINTS-P,VALUE,TILDE-@-ILLEGAL-CLAUSE-PROCESSOR-SIG-MSG,CLAUSES-RESULT,IF,STOBJS-OUT,STOBJS-IN,LET*,EQUAL,ASSERT$,IGNORE,DECLARE,QUOTE,TRANSLATE1,BINDINGS,T-CL-PROC-CALL,ERP,MSG,FUNCTION-SYMBOLP,SYMBOLP,AND,NOT,UNTRANSLATE,NAME,SOFT,ER,EQ,COND,TERM,DESTRUCTURE-CLAUSE-PROCESSOR-RULE,META-EXTRACT-FLG,CL-PROC-CALL,EV,REST-ARGS,ALIST,CLAUSE,CL-PROC,CLAUSES-RESULT-CALL-P,MV-LET,STR,LET,STATE,WRLD,CTX,T,CHK-NON-LOCAL-IN-NON-TRIVIAL-ENCAPSULATE,ER-PROGN" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CHK-ACCEPTABLE-CLAUSE-PROCESSOR-RULE">chk-acceptable-clause-processor-rule</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-chk-acceptable-clause-processor-rule" data-sym="CHK-ACCEPTABLE-CLAUSE-PROCESSOR-RULE" title="(defun chk-acceptable-clause-processor-rule (name term ctx wrld state)
  (er-progn
   (chk-non-local-in-non-trivial-encapsulate &quot;Rules of class :CLAUSE-PROCESSOR&quot;
                                             t ctx wrld state)
   (let ((str
...">chk-acceptable-clause-processor-rule</a>
  (name term ctx wrld state)
  (<a class="sym-link system" href="axioms.html#def-er-progn" data-sym="ER-PROGN">er-progn</a> (<a class="sym-link local-def" href="#def-chk-non-local-in-non-trivial-encapsulate" data-sym="CHK-NON-LOCAL-IN-NON-TRIVIAL-ENCAPSULATE" title="(defun chk-non-local-in-non-trivial-encapsulate (msg1 msg2p ctx wrld state)
  (cond
   ((eq
     (context-for-encapsulate-pass-2 wrld (f-get-global &#39;in-local-flg state))
     &#39;illegal)
...">chk-non-local-in-non-trivial-encapsulate</a> <span class="string">"Rules of class :CLAUSE-PROCESSOR"</span>
      <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
      ctx
      wrld
      state)
    (let ((str <span class="string">"No :CLAUSE-PROCESSOR rule can be generated from ~x0 ~
               because~|~%~p1~|~%does not have the necessary form:  ~@2.  See ~
               :DOC clause-processor."</span>))
      (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (clauses-result-call-p cl-proc
          clause
          alist
          rest-args
          ev
          cl-proc-call
          meta-extract-flg)
        (<a class="sym-link local-def" href="#def-destructure-clause-processor-rule" data-sym="DESTRUCTURE-CLAUSE-PROCESSOR-RULE" title="(defun destructure-clause-processor-rule (term)
  (case-match term
              ((&#39;implies hyp (ev (&#39;disjoin clause) alist))
               (mv-let (hyps meta-extract-flg)
                       (remove-meta-extract-global-hyps
...">destructure-clause-processor-rule</a> term)
        (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> clauses-result-call-p <span class="keyword">:error</span>) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
              ctx
              str
              name
              (untranslate term <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> wrld)
              <span class="string">"it fails to satisfy basic syntactic criteria"</span>))
          ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (symbolp cl-proc) (<a class="sym-link system" href="axioms.html#def-function-symbolp" data-sym="FUNCTION-SYMBOLP">function-symbolp</a> cl-proc wrld))) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
              ctx
              str
              name
              (untranslate term <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> wrld)
              (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"the symbol ~x0 is not a function symbol in the current world"</span>
                cl-proc)))
          (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (erp t-cl-proc-call bindings state)
              (translate1 cl-proc-call
                <span class="keyword">:stobjs-out</span> '((<span class="keyword">:stobjs-out</span> . <span class="keyword">:stobjs-out</span>))
                <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
                ctx
                wrld
                state)
              (declare (ignore bindings))
              (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (erp (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                    ctx
                    str
                    name
                    (untranslate term <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> wrld)
                    (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"the clause-processor call is not in a form ~
                           suitable for evaluation (as may be indicated by an ~
                           error message above)"</span>)))
                (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-assert_24" data-sym="ASSERT$">assert$</a> (equal cl-proc-call t-cl-proc-call)
                    (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((<a class="sym-link system" href="axioms.html#def-stobjs-in" data-sym="STOBJS-IN">stobjs-in</a> (<a class="sym-link system" href="axioms.html#def-stobjs-in" data-sym="STOBJS-IN">stobjs-in</a> cl-proc wrld)) (<a class="sym-link system" href="axioms.html#def-stobjs-out" data-sym="STOBJS-OUT">stobjs-out</a> (<a class="sym-link system" href="axioms.html#def-stobjs-out" data-sym="STOBJS-OUT">stobjs-out</a> cl-proc wrld)))
                      (<a class="sym-link system" href="axioms.html#def-er-progn" data-sym="ER-PROGN">er-progn</a> (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((if clauses-result-call-p
                             (equal <a class="sym-link system" href="axioms.html#def-stobjs-out" data-sym="STOBJS-OUT">stobjs-out</a> '(nil))
                             (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (equal <a class="sym-link system" href="axioms.html#def-stobjs-out" data-sym="STOBJS-OUT">stobjs-out</a> '(nil)))) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                              ctx
                              str
                              name
                              (untranslate term <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> wrld)
                              (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"~x0 returns ~#1~[only~/more than~] one ~
                                  value and hence there should be ~
                                  ~#1~[no~/a~] call of ~x2"</span>
                                cl-proc
                                (if clauses-result-call-p
                                  <span class="number">0</span>
                                  <span class="number">1</span>)
                                '<a class="sym-link system" href="axioms.html#def-clauses-result" data-sym="CLAUSES-RESULT">clauses-result</a>)))
                          (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> (<a class="sym-link local-def" href="#def-tilde-_40-illegal-clause-processor-sig-msg" data-sym="TILDE-@-ILLEGAL-CLAUSE-PROCESSOR-SIG-MSG" title="(defun tilde-@-illegal-clause-processor-sig-msg (cl-proc stobjs-in stobjs-out)
  (cond
   ((null (cdr stobjs-out))
    (cond
     ((car stobjs-out)
...">tilde-@-illegal-clause-processor-sig-msg</a> cl-proc
                                   <a class="sym-link system" href="axioms.html#def-stobjs-in" data-sym="STOBJS-IN">stobjs-in</a>
                                   <a class="sym-link system" href="axioms.html#def-stobjs-out" data-sym="STOBJS-OUT">stobjs-out</a>)))
                              (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft ctx str name (untranslate term <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> wrld) <a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a>))
                                (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil))))))
                        (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((user-hints-p (cdr <a class="sym-link system" href="axioms.html#def-stobjs-in" data-sym="STOBJS-IN">stobjs-in</a>)) (user-hints (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (user-hints-p (car rest-args)) (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> nil)))
                            (stobjs-called (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (user-hints-p (cdr rest-args)) (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> rest-args)))
                            (non-alist-vars (if user-hints
                                (<a class="sym-link system" href="axioms.html#def-list_2A" data-sym="LIST*">list*</a> clause user-hints stobjs-called)
                                (<a class="sym-link system" href="axioms.html#def-list_2A" data-sym="LIST*">list*</a> clause stobjs-called)))
                            (vars (cons alist non-alist-vars))
                            (bad-vars (collect-non-legal-variableps vars)))
                          (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (bad-vars (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                                ctx
                                str
                                name
                                (untranslate term <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> wrld)
                                (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"the clause-processor function must be ~
                                    applied to a list of distinct variable ~
                                    and stobj names, but ~&amp;0 ~#0~[is~/are~] ~
                                    not"</span>
                                  (untranslate-lst bad-vars nil wrld))))
                            ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-no-duplicatesp" data-sym="NO-DUPLICATESP">no-duplicatesp</a> vars)) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-no-duplicatesp" data-sym="NO-DUPLICATESP">no-duplicatesp</a> non-alist-vars) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                                    ctx
                                    str
                                    name
                                    (untranslate term <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> wrld)
                                    (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"the proposed :clause-processor ~
                                           rule uses ~x0 as its alist ~
                                           variable, but this variable also ~
                                           occurs in the argument list of the ~
                                           clause-processor function, ~x1"</span>
                                      alist
                                      cl-proc)))
                                (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                                    ctx
                                    str
                                    name
                                    (untranslate term <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> wrld)
                                    (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"the clause-processor function must ~
                                           be applied to a list of distinct ~
                                           variable and stobj names, but the ~
                                           list ~x0 contains duplicates"</span>
                                      non-alist-vars)))))
                            (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil))))
                        (<a class="sym-link system" href="basis-b.html#def-er-let_2A" data-sym="ER-LET*">er-let*</a> ((ttree (<a class="sym-link local-def" href="#def-chk-evaluator-use-in-rule" data-sym="CHK-EVALUATOR-USE-IN-RULE" title="(defun chk-evaluator-use-in-rule
       (name meta-fn hyp-fn extra-fns rule-class ev ctx wrld state)
  (er-progn
   (let ((temp
          (context-for-encapsulate-pass-2 (decode-logical-name ev wrld)
...">chk-evaluator-use-in-rule</a> name
                               cl-proc
                               nil
                               (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> meta-extract-flg '(meta-extract-global-fact+))
                               <span class="keyword">:clause-processor</span> ev
                               ctx
                               wrld
                               state)))
                          (<a class="sym-link system" href="axioms.html#def-er-progn" data-sym="ER-PROGN">er-progn</a> (<a class="sym-link local-def" href="#def-chk-rule-fn-guard" data-sym="CHK-RULE-FN-GUARD" title="(defun chk-rule-fn-guard (function-string rule-type fn ctx wrld state)
  (let ((guard (guard fn t wrld))
        (pseudo-termp-predicate
         (case rule-type
           (:meta &#39;pseudo-termp)
...">chk-rule-fn-guard</a> <span class="string">"clause-processor"</span>
                              <span class="keyword">:clause-processor</span> cl-proc
                              ctx
                              wrld
                              state)
                            (<a class="sym-link local-def" href="#def-chk-evaluator" data-sym="CHK-EVALUATOR" title="(defun chk-evaluator (evfn wrld ctx state)
  (let ((cl-set0 (normalized-evaluator-cl-set evfn wrld))
        (str
         &quot;The symbol ~x0, playing the role of an evaluator in your alleged ~
          theorem, does not pass the test for an evaluator.  See :DOC meta ~
...">chk-evaluator</a> ev wrld ctx state)
                            (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> ttree)))))))))))))))</pre>
  </div>

<div class="form-block function" id="def-add-clause-processor-rule" data-defines="ADD-CLAUSE-PROCESSOR-RULE" data-references="GLOBAL-VAL,ACONS,CLAUSE-PROCESSOR-RULES,GLOBAL-SET,T,OR,CLAUSE-PROCESSOR,QUOTE,PUTPROP,FUNCTION-SYMBOLP,SYMBOLP,EQ,NOT,AND,ASSERT$,IGNORE,DECLARE,DESTRUCTURE-CLAUSE-PROCESSOR-RULE,META-EXTRACT-FLG,CL-PROC-CALL,EV,REST-ARGS,ALIST,CLAUSE,CL-PROC,CLAUSES-RESULT-CALL-P,MV-LET,WRLD,TERM,WELL-FORMEDNESS-GUARANTEE,NAME,DEFUN" data-used-by="ADD-X-RULE" data-part-name="ADD-CLAUSE-PROCESSOR-RULE" data-part-args="WRLD,TERM,WELL-FORMEDNESS-GUARANTEE,NAME" data-part-body="GLOBAL-VAL,NAME,ACONS,CLAUSE-PROCESSOR-RULES,GLOBAL-SET,T,WELL-FORMEDNESS-GUARANTEE,OR,CLAUSE-PROCESSOR,QUOTE,PUTPROP,WRLD,FUNCTION-SYMBOLP,SYMBOLP,EQ,NOT,AND,ASSERT$,IGNORE,DECLARE,TERM,DESTRUCTURE-CLAUSE-PROCESSOR-RULE,META-EXTRACT-FLG,CL-PROC-CALL,EV,REST-ARGS,ALIST,CLAUSE,CL-PROC,CLAUSES-RESULT-CALL-P,MV-LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ADD-CLAUSE-PROCESSOR-RULE">add-clause-processor-rule</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-add-clause-processor-rule" data-sym="ADD-CLAUSE-PROCESSOR-RULE" title="(defun add-clause-processor-rule (name well-formedness-guarantee term wrld)
  (mv-let
   (clauses-result-call-p cl-proc clause alist rest-args ev cl-proc-call
    meta-extract-flg)
   (destructure-clause-processor-rule term)
...">add-clause-processor-rule</a>
  (name well-formedness-guarantee term wrld)
  (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (clauses-result-call-p cl-proc
      clause
      alist
      rest-args
      ev
      cl-proc-call
      meta-extract-flg)
    (<a class="sym-link local-def" href="#def-destructure-clause-processor-rule" data-sym="DESTRUCTURE-CLAUSE-PROCESSOR-RULE" title="(defun destructure-clause-processor-rule (term)
  (case-match term
              ((&#39;implies hyp (ev (&#39;disjoin clause) alist))
               (mv-let (hyps meta-extract-flg)
                       (remove-meta-extract-global-hyps
...">destructure-clause-processor-rule</a> term)
    (declare (ignore clause
        alist
        rest-args
        ev
        cl-proc-call
        meta-extract-flg))
    (<a class="sym-link system" href="axioms.html#def-assert_24" data-sym="ASSERT$">assert$</a> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> clauses-result-call-p <span class="keyword">:error</span>))
        (symbolp cl-proc)
        (<a class="sym-link system" href="axioms.html#def-function-symbolp" data-sym="FUNCTION-SYMBOLP">function-symbolp</a> cl-proc wrld))
      (<a class="sym-link system" href="axioms.html#def-putprop" data-sym="PUTPROP">putprop</a> cl-proc
        'clause-processor
        (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> well-formedness-guarantee <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)
        (<a class="sym-link system" href="basis-b.html#def-global-set" data-sym="GLOBAL-SET">global-set</a> 'clause-processor-rules
          (<a class="sym-link system" href="axioms.html#def-acons" data-sym="ACONS">acons</a> name term (<a class="sym-link system" href="axioms.html#def-global-val" data-sym="GLOBAL-VAL">global-val</a> 'clause-processor-rules wrld))
          wrld)))))</pre>
  </div>

<div class="form-block function" id="def-trusted-cl-proc-table-guard" data-defines="TRUSTED-CL-PROC-TABLE-GUARD" data-references="STOBJS-OUT,STOBJS-IN,TILDE-@-ILLEGAL-CLAUSE-PROCESSOR-SIG-MSG,FAILURE-MSG,NON-FUNCTION-SYMBOLS,T,SYMBOL-LISTP,ALL-FUNCTION-SYMBOLPS,FUNCTION-SYMBOLP,SYMBOLP,MSG,MV,BOOT-STRAP-FLG,QUOTE,GLOBAL-VAL,TTAG,OR,NOT,COND,ER-MSG,LET,WRLD,VAL,KEY,DEFUN" data-part-name="TRUSTED-CL-PROC-TABLE-GUARD" data-part-args="WRLD,VAL,KEY" data-part-body="STOBJS-OUT,STOBJS-IN,TILDE-@-ILLEGAL-CLAUSE-PROCESSOR-SIG-MSG,FAILURE-MSG,NON-FUNCTION-SYMBOLS,T,SYMBOL-LISTP,VAL,ALL-FUNCTION-SYMBOLPS,FUNCTION-SYMBOLP,KEY,SYMBOLP,MSG,MV,BOOT-STRAP-FLG,QUOTE,GLOBAL-VAL,WRLD,TTAG,OR,NOT,COND,ER-MSG,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="TRUSTED-CL-PROC-TABLE-GUARD">trusted-cl-proc-table-guard</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-trusted-cl-proc-table-guard" data-sym="TRUSTED-CL-PROC-TABLE-GUARD" title="(defun trusted-cl-proc-table-guard (key val wrld)
  (let ((er-msg
         &quot;The proposed designation of a trusted clause-processor is ~
                 illegal because ~@0.  See :DOC ~
                 define-trusted-clause-processor.&quot;))
...">trusted-cl-proc-table-guard</a>
  (key val wrld)
  (let ((er-msg <span class="string">"The proposed designation of a trusted clause-processor is ~
                 illegal because ~@0.  See :DOC ~
                 define-trusted-clause-processor."</span>))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-ttag" data-sym="TTAG">ttag</a> wrld) (<a class="sym-link system" href="axioms.html#def-global-val" data-sym="GLOBAL-VAL">global-val</a> 'boot-strap-flg wrld))) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil
          (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> er-msg
            <span class="string">"there is not an active ttag (also see :DOC ttag)"</span>)))
      ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (symbolp key)) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil
          (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> er-msg
            (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"the clause-processor must be a symbol, unlike ~x0"</span>
              key))))
      ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-function-symbolp" data-sym="FUNCTION-SYMBOLP">function-symbolp</a> key wrld)) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil
          (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> er-msg
            (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"the clause-processor must be a function symbol, unlike ~
                     ~x0"</span>
              key))))
      ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-all-function-symbolps" data-sym="ALL-FUNCTION-SYMBOLPS">all-function-symbolps</a> val wrld)) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-symbol-listp" data-sym="SYMBOL-LISTP">symbol-listp</a> val)) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil
              (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> er-msg
                <span class="string">"the indicated supporters list is not a true list of ~
                       symbols"</span>)))
          (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil
              (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> er-msg
                (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"the indicated supporter~#0~[ ~&amp;0 is not a ~
                              function symbol~/s ~&amp;0 are not function ~
                              symbols~] in the current ACL2 world"</span>
                  (<a class="sym-link system" href="history-management.html#def-non-function-symbols" data-sym="NON-FUNCTION-SYMBOLS">non-function-symbols</a> val wrld)))))))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((failure-msg (<a class="sym-link local-def" href="#def-tilde-_40-illegal-clause-processor-sig-msg" data-sym="TILDE-@-ILLEGAL-CLAUSE-PROCESSOR-SIG-MSG" title="(defun tilde-@-illegal-clause-processor-sig-msg (cl-proc stobjs-in stobjs-out)
  (cond
   ((null (cdr stobjs-out))
    (cond
     ((car stobjs-out)
...">tilde-@-illegal-clause-processor-sig-msg</a> key
               (<a class="sym-link system" href="axioms.html#def-stobjs-in" data-sym="STOBJS-IN">stobjs-in</a> key wrld)
               (<a class="sym-link system" href="axioms.html#def-stobjs-out" data-sym="STOBJS-OUT">stobjs-out</a> key wrld))))
          (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (failure-msg (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> er-msg failure-msg)))
            (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> nil))))))))</pre>
  </div>

<div class="form-block other" id="form-245" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a> trusted-cl-proc-table
  nil
  nil
  <span class="keyword">:guard</span> (<a class="sym-link local-def" href="#def-trusted-cl-proc-table-guard" data-sym="TRUSTED-CL-PROC-TABLE-GUARD" title="(defun trusted-cl-proc-table-guard (key val wrld)
  (let ((er-msg
         &quot;The proposed designation of a trusted clause-processor is ~
                 illegal because ~@0.  See :DOC ~
                 define-trusted-clause-processor.&quot;))
...">trusted-cl-proc-table-guard</a> key val world))</pre>
  </div>

<div class="form-block macro" id="def-define-trusted-clause-processor" data-defines="DEFINE-TRUSTED-CLAUSE-PROCESSOR" data-references="&,SET-UNKNOWN-CONSTRAINTS-SUPPORTERS,LOGIC,TRUE-LISTP,ATOM,EVENTS,SIGS,TABLE,ENCAPSULATE,CASE-MATCH,HARD,ER,SYMBOL-LISTP,COND,APPEND,EXTRA,DEFLABEL,LABEL-EXTRA,ADD-SUFFIX,SYMBOLP,IF,DEFTTAG,AND,TTAG-EXTRA,T,MSG,STATE,W,TRUSTED-CL-PROC-TABLE,TABLE-ALIST,ASSOC-EQ,NOT,ASSERT-EVENT,QUASIQUOTE,ASSERT-CHECK,ER-MSG,CTX,LET*,TTAG,PARTIAL-THEORY,LABEL-P,QUOTE,LABEL,&KEY,SUPPORTERS,CLAUSE-PROCESSOR,DEFMACRO" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFINE-TRUSTED-CLAUSE-PROCESSOR">define-trusted-clause-processor</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-define-trusted-clause-processor" data-sym="DEFINE-TRUSTED-CLAUSE-PROCESSOR" title="(defmacro define-trusted-clause-processor
          (clause-processor supporters
           &amp;key (label &#39;nil label-p) partial-theory ttag)
  (let* ((ctx &#39;define-trusted-clause-processor)
         (er-msg
...">define-trusted-clause-processor</a>
  (clause-processor supporters
    &amp;key
    (label 'nil label-p)
    partial-theory
    <a class="sym-link system" href="axioms.html#def-ttag" data-sym="TTAG">ttag</a>)
  (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((ctx '<a class="sym-link local-def" href="#def-define-trusted-clause-processor" data-sym="DEFINE-TRUSTED-CLAUSE-PROCESSOR" title="(defmacro define-trusted-clause-processor
          (clause-processor supporters
           &amp;key (label &#39;nil label-p) partial-theory ttag)
  (let* ((ctx &#39;define-trusted-clause-processor)
         (er-msg
...">define-trusted-clause-processor</a>) (er-msg <span class="string">"The proposed use of define-trusted-clause-processor is ~
                  illegal because ~@0.  See :DOC ~
                  define-trusted-clause-processor."</span>)
      (assert-check `(<a class="sym-link system" href="axioms.html#def-assert-event" data-sym="ASSERT-EVENT">assert-event</a> (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a> ',CLAUSE-PROCESSOR
              (<a class="sym-link system" href="axioms.html#def-table-alist" data-sym="TABLE-ALIST">table-alist</a> 'trusted-cl-proc-table (<a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a> state))))
          <span class="keyword">:msg</span> (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"The function ~x0 is already indicated as a trusted ~
                       clause-processor."</span>
            ',CLAUSE-PROCESSOR)
          <span class="keyword">:on-skip-proofs</span> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>))
      (ttag-extra (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> <a class="sym-link system" href="axioms.html#def-ttag" data-sym="TTAG">ttag</a> `((<a class="sym-link system" href="axioms.html#def-defttag" data-sym="DEFTTAG">defttag</a> ,TTAG))))
      (label (if label-p
          label
          (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (symbolp clause-processor)
            (<a class="sym-link system" href="axioms.html#def-add-suffix" data-sym="ADD-SUFFIX">add-suffix</a> clause-processor <span class="string">"$LABEL"</span>))))
      (label-extra (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> label `((<a class="sym-link system" href="axioms.html#def-deflabel" data-sym="DEFLABEL">deflabel</a> ,LABEL))))
      (extra (<a class="sym-link system" href="axioms.html#def-append" data-sym="APPEND">append</a> ttag-extra label-extra)))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-symbol-listp" data-sym="SYMBOL-LISTP">symbol-listp</a> supporters)) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> hard
          ctx
          er-msg
          <span class="string">"the second (supporters) argument must be a true list of symbols"</span>))
      ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (symbolp clause-processor)) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> hard
          ctx
          er-msg
          <span class="string">"the first argument must be a symbol (in fact, must be a defined ~
           function symbol in the current ACL2 world)"</span>))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="basis-a.html#def-case-match" data-sym="CASE-MATCH">case-match</a> partial-theory
          (nil `(<a class="sym-link system" href="axioms.html#def-encapsulate" data-sym="ENCAPSULATE">encapsulate</a> nil
              ,ASSERT-CHECK
              ,@EXTRA
              (<a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a> trusted-cl-proc-table
                ',CLAUSE-PROCESSOR
                ',SUPPORTERS)))
          (('<a class="sym-link system" href="axioms.html#def-encapsulate" data-sym="ENCAPSULATE">encapsulate</a> sigs . events) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-atom" data-sym="ATOM">atom</a> sigs) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> hard
                  ctx
                  er-msg
                  <span class="string">"the encapsulate event associated with :partial-theory has an ~
                empty signature list"</span>))
              ((<a class="sym-link system" href="axioms.html#def-atom" data-sym="ATOM">atom</a> events) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> hard
                  ctx
                  er-msg
                  <span class="string">"the encapsulate event associated with :partial-theory has an ~
                empty list of sub-events"</span>))
              ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-true-listp" data-sym="TRUE-LISTP">true-listp</a> events)) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> hard
                  ctx
                  er-msg
                  <span class="string">"the encapsulate event associated with :partial-theory has a ~
                list of sub-events that is not a true-listp"</span>))
              (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> `(<a class="sym-link system" href="axioms.html#def-encapsulate" data-sym="ENCAPSULATE">encapsulate</a> ,SIGS
                  ,ASSERT-CHECK
                  (<a class="sym-link system" href="axioms.html#def-logic" data-sym="LOGIC">logic</a>)
                  ,@EVENTS
                  ,@EXTRA
                  (<a class="sym-link system" href="axioms.html#def-set-unknown-constraints-supporters" data-sym="SET-UNKNOWN-CONSTRAINTS-SUPPORTERS">set-unknown-constraints-supporters</a> ,@SUPPORTERS)
                  (<a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a> trusted-cl-proc-table
                    ',CLAUSE-PROCESSOR
                    ',SUPPORTERS)))))
          (&amp; (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> hard
              ctx
              er-msg
              <span class="string">"a supplied :partial-theory argument must be a call of ~
                encapsulate"</span>)))))))</pre>
  </div>

<div class="form-block function" id="def-primitive-instructionp" data-defines="PRIMITIVE-INSTRUCTIONP" data-references="INDUCT,SYMBOL-NAME,INTERN-IN-PACKAGE-OF-SYMBOL,ACL2-SYSTEM-NAMEP-STATE,ATOMIC-MACRO,PRIMITIVE,QUOTE,MEMBER-EQ,AND,PC-COMMAND-TYPE,TYP,MAKE-OFFICIAL-PC-INSTR,CAR,CMD,LET*,STATE,INSTR,DEFUN" data-used-by="NON-PRIMITIVE-INSTRUCTIONS" data-part-name="PRIMITIVE-INSTRUCTIONP" data-part-args="STATE,INSTR" data-part-body="STATE,INDUCT,SYMBOL-NAME,INTERN-IN-PACKAGE-OF-SYMBOL,ACL2-SYSTEM-NAMEP-STATE,ATOMIC-MACRO,PRIMITIVE,QUOTE,MEMBER-EQ,AND,PC-COMMAND-TYPE,TYP,INSTR,MAKE-OFFICIAL-PC-INSTR,CAR,CMD,LET*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="PRIMITIVE-INSTRUCTIONP">primitive-instructionp</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-primitive-instructionp" data-sym="PRIMITIVE-INSTRUCTIONP" title="(defun primitive-instructionp (instr state)
  (let* ((cmd (car (make-official-pc-instr instr))) (typ (pc-command-type cmd)))
    (and (member-eq typ &#39;(primitive atomic-macro))
         (acl2-system-namep-state
          (intern-in-package-of-symbol (symbol-name cmd) &#39;acl2-pc::induct)">primitive-instructionp</a>
  (instr state)
  (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((cmd (car (make-official-pc-instr instr))) (typ (pc-command-type cmd)))
    (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> typ '(primitive atomic-macro))
      (acl2-system-namep-state (intern-in-package-of-symbol (symbol-name cmd)
          'induct)
        state))))</pre>
  </div>

<div class="form-block function" id="def-non-primitive-instructions" data-defines="NON-PRIMITIVE-INSTRUCTIONS" data-references="CONS,T,CDR,CAR,PRIMITIVE-INSTRUCTIONP,ENDP,COND,STATE,INSTRUCTIONS,DEFUN" data-part-name="NON-PRIMITIVE-INSTRUCTIONS" data-part-args="STATE,INSTRUCTIONS" data-part-body="CONS,T,CDR,NON-PRIMITIVE-INSTRUCTIONS,STATE,CAR,PRIMITIVE-INSTRUCTIONP,INSTRUCTIONS,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="NON-PRIMITIVE-INSTRUCTIONS">non-primitive-instructions</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-non-primitive-instructions" data-sym="NON-PRIMITIVE-INSTRUCTIONS" title="(defun non-primitive-instructions (instructions state)
  (cond ((endp instructions) nil)
        ((primitive-instructionp (car instructions) state)
         (non-primitive-instructions (cdr instructions) state))
        (t
...">non-primitive-instructions</a>
  (instructions state)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> instructions) nil)
    ((<a class="sym-link local-def" href="#def-primitive-instructionp" data-sym="PRIMITIVE-INSTRUCTIONP" title="(defun primitive-instructionp (instr state)
  (let* ((cmd (car (make-official-pc-instr instr))) (typ (pc-command-type cmd)))
    (and (member-eq typ &#39;(primitive atomic-macro))
         (acl2-system-namep-state
          (intern-in-package-of-symbol (symbol-name cmd) &#39;acl2-pc::induct)">primitive-instructionp</a> (car instructions) state) (<a class="sym-link local-def" href="#def-non-primitive-instructions" data-sym="NON-PRIMITIVE-INSTRUCTIONS" title="(defun non-primitive-instructions (instructions state)
  (cond ((endp instructions) nil)
        ((primitive-instructionp (car instructions) state)
         (non-primitive-instructions (cdr instructions) state))
        (t
...">non-primitive-instructions</a> (cdr instructions) state))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (cons (car instructions)
        (<a class="sym-link local-def" href="#def-non-primitive-instructions" data-sym="NON-PRIMITIVE-INSTRUCTIONS" title="(defun non-primitive-instructions (instructions state)
  (cond ((endp instructions) nil)
        ((primitive-instructionp (car instructions) state)
         (non-primitive-instructions (cdr instructions) state))
        (t
...">non-primitive-instructions</a> (cdr instructions) state)))))</pre>
  </div>

<div class="form-block function" id="def-chk-primitive-instruction-listp" data-defines="CHK-PRIMITIVE-INSTRUCTION-LISTP" data-references="SOFT,ER,VALUE,TRUE-LISTP,IF,STATE,CTX,INSTRUCTIONS,DEFUN" data-used-by="TRANSLATE-INSTRUCTIONS" data-part-name="CHK-PRIMITIVE-INSTRUCTION-LISTP" data-part-args="STATE,CTX,INSTRUCTIONS" data-part-body="CTX,SOFT,ER,VALUE,INSTRUCTIONS,TRUE-LISTP,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CHK-PRIMITIVE-INSTRUCTION-LISTP">chk-primitive-instruction-listp</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-chk-primitive-instruction-listp" data-sym="CHK-PRIMITIVE-INSTRUCTION-LISTP" title="(defun chk-primitive-instruction-listp (instructions ctx state)
  (if (true-listp instructions)
      (value nil)
      (er soft ctx &quot;An :instructions argument must be a ~
         true-list and ~x0 is not.&quot;">chk-primitive-instruction-listp</a>
  (instructions ctx state)
  (if (<a class="sym-link system" href="axioms.html#def-true-listp" data-sym="TRUE-LISTP">true-listp</a> instructions)
    (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil)
    (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
      ctx
      <span class="string">"An :instructions argument must be a ~
         true-list and ~x0 is not."</span>
      instructions)))</pre>
  </div>

<div class="form-block function" id="def-translate-instructions" data-defines="TRANSLATE-INSTRUCTIONS" data-references="CHK-PRIMITIVE-INSTRUCTION-LISTP,ER-PROGN,VALUE,T,EQ,IF,STATE,CTX,INSTRUCTIONS,DEFUN" data-used-by="THM-FN,DEFTHM-FN1,TRANSLATE-RULE-CLASS-ALIST" data-part-name="TRANSLATE-INSTRUCTIONS" data-part-args="STATE,CTX,INSTRUCTIONS" data-part-body="STATE,CTX,CHK-PRIMITIVE-INSTRUCTION-LISTP,ER-PROGN,VALUE,T,INSTRUCTIONS,EQ,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="TRANSLATE-INSTRUCTIONS">translate-instructions</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-translate-instructions" data-sym="TRANSLATE-INSTRUCTIONS" title="(defun translate-instructions (instructions ctx state)
  (if (eq instructions t)
      (value t)
      (er-progn (chk-primitive-instruction-listp instructions ctx state)
                (value instructions))))">translate-instructions</a>
  (instructions ctx state)
  (if (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> instructions <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)
    (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)
    (<a class="sym-link system" href="axioms.html#def-er-progn" data-sym="ER-PROGN">er-progn</a> (<a class="sym-link local-def" href="#def-chk-primitive-instruction-listp" data-sym="CHK-PRIMITIVE-INSTRUCTION-LISTP" title="(defun chk-primitive-instruction-listp (instructions ctx state)
  (if (true-listp instructions)
      (value nil)
      (er soft ctx &quot;An :instructions argument must be a ~
         true-list and ~x0 is not.&quot;">chk-primitive-instruction-listp</a> instructions ctx state)
      (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> instructions))))</pre>
  </div>

<div class="form-block function" id="def-controller-alistp" data-defines="CONTROLLER-ALISTP" data-references="CDR,REMOVE1-EQ,ARITY,LENGTH,=,CDAR,BOOLEAN-LISTP,MEMBER-EQ,CAAR,SYMBOLP,CAR,CONSP,AND,T,NULL,ATOM,COND,WRLD,ALIST,CLIQUE,DEFUN" data-used-by="TRANSLATE-RULE-CLASS-ALIST" data-part-name="CONTROLLER-ALISTP" data-part-args="WRLD,ALIST,CLIQUE" data-part-body="CDR,REMOVE1-EQ,CONTROLLER-ALISTP,WRLD,ARITY,LENGTH,=,CDAR,BOOLEAN-LISTP,MEMBER-EQ,CAAR,SYMBOLP,CAR,CONSP,AND,T,CLIQUE,NULL,ALIST,ATOM,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CONTROLLER-ALISTP">controller-alistp</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-controller-alistp" data-sym="CONTROLLER-ALISTP" title="(defun controller-alistp (clique alist wrld)
  (cond ((atom alist) (cond ((null alist) (null clique)) (t nil)))
        ((and (consp (car alist)) (symbolp (caar alist))
              (member-eq (caar alist) clique) (boolean-listp (cdar alist))
              (= (length (cdar alist)) (arity (caar alist) wrld)))
...">controller-alistp</a>
  (clique alist wrld)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-atom" data-sym="ATOM">atom</a> alist) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> alist) (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> clique)) (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> nil)))
    ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (consp (car alist))
       (symbolp (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> alist))
       (<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> alist) clique)
       (<a class="sym-link system" href="axioms.html#def-boolean-listp" data-sym="BOOLEAN-LISTP">boolean-listp</a> (<a class="sym-link system" href="axioms.html#def-cdar" data-sym="CDAR">cdar</a> alist))
       (<a class="sym-link system" href="axioms.html#def-_3D" data-sym="=">=</a> (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> (<a class="sym-link system" href="axioms.html#def-cdar" data-sym="CDAR">cdar</a> alist)) (<a class="sym-link system" href="basis-b.html#def-arity" data-sym="ARITY">arity</a> (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> alist) wrld))) (<a class="sym-link local-def" href="#def-controller-alistp" data-sym="CONTROLLER-ALISTP" title="(defun controller-alistp (clique alist wrld)
  (cond ((atom alist) (cond ((null alist) (null clique)) (t nil)))
        ((and (consp (car alist)) (symbolp (caar alist))
              (member-eq (caar alist) clique) (boolean-listp (cdar alist))
              (= (length (cdar alist)) (arity (caar alist) wrld)))
...">controller-alistp</a> (<a class="sym-link system" href="axioms.html#def-remove1-eq" data-sym="REMOVE1-EQ">remove1-eq</a> (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> alist) clique)
        (cdr alist)
        wrld))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> nil)))</pre>
  </div>

<div class="form-block function" id="def-alist-to-keyword-alist" data-defines="ALIST-TO-KEYWORD-ALIST" data-references="CDAR,CAAR,CONS,CDR,T,ENDP,COND,ALISTP,XARGS,DECLARE,ANS,ALIST,DEFUN" data-used-by="TRANSLATE-RULE-CLASS-ALIST" data-part-name="ALIST-TO-KEYWORD-ALIST" data-part-args="ANS,ALIST" data-part-declare="ALIST,ALISTP,XARGS,DECLARE" data-part-body="CDAR,CAAR,CONS,CDR,ALIST-TO-KEYWORD-ALIST,T,ANS,ALIST,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ALIST-TO-KEYWORD-ALIST">alist-to-keyword-alist</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-alist-to-keyword-alist" data-sym="ALIST-TO-KEYWORD-ALIST" title="(defun alist-to-keyword-alist (alist ans)
  (declare (xargs :guard (alistp alist)))
  (cond ((endp alist) ans)
        (t
         (alist-to-keyword-alist (cdr alist)">alist-to-keyword-alist</a>
  (alist ans)
  (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="axioms.html#def-alistp" data-sym="ALISTP">alistp</a> alist)))
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> alist) ans)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-alist-to-keyword-alist" data-sym="ALIST-TO-KEYWORD-ALIST" title="(defun alist-to-keyword-alist (alist ans)
  (declare (xargs :guard (alistp alist)))
  (cond ((endp alist) ans)
        (t
         (alist-to-keyword-alist (cdr alist)">alist-to-keyword-alist</a> (cdr alist)
        (cons (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> alist) (cons (<a class="sym-link system" href="axioms.html#def-cdar" data-sym="CDAR">cdar</a> alist) ans))))))</pre>
  </div>

<div class="form-block function" id="def-eliminate-macro-aliases" data-defines="ELIMINATE-MACRO-ALIASES" data-references="CONS,OR,MSG,FUNCTION-SYMBOLP,SYMBOLP,AND,NOT,DEREF-MACRO-NAME,FN,CAR,NEXT,LET*,EQ,CDR,RST,FLG,MV-LET,T,MV,NULL,ATOM,COND,WRLD,MACRO-ALIASES,LST,DEFUN" data-used-by="TRANSLATE-RULE-CLASS-ALIST,FIX-LOOP-STOPPER-ALIST" data-part-name="ELIMINATE-MACRO-ALIASES" data-part-args="WRLD,MACRO-ALIASES,LST" data-part-body="CONS,OR,MSG,FUNCTION-SYMBOLP,SYMBOLP,AND,NOT,DEREF-MACRO-NAME,FN,CAR,NEXT,LET*,EQ,WRLD,MACRO-ALIASES,CDR,ELIMINATE-MACRO-ALIASES,RST,FLG,MV-LET,T,MV,NULL,LST,ATOM,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ELIMINATE-MACRO-ALIASES">eliminate-macro-aliases</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-eliminate-macro-aliases" data-sym="ELIMINATE-MACRO-ALIASES" title="(defun eliminate-macro-aliases (lst macro-aliases wrld)
  (cond
   ((atom lst)
    (cond ((null lst) (mv nil nil)) (t (mv :error &quot;does not end in nil&quot;))))
   (t
...">eliminate-macro-aliases</a>
  (lst <a class="sym-link system" href="axioms.html#def-macro-aliases" data-sym="MACRO-ALIASES">macro-aliases</a> wrld)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-atom" data-sym="ATOM">atom</a> lst) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> lst) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil nil))
        (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> <span class="keyword">:error</span> <span class="string">"does not end in nil"</span>))))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (flg rst)
        (<a class="sym-link local-def" href="#def-eliminate-macro-aliases" data-sym="ELIMINATE-MACRO-ALIASES" title="(defun eliminate-macro-aliases (lst macro-aliases wrld)
  (cond
   ((atom lst)
    (cond ((null lst) (mv nil nil)) (t (mv :error &quot;does not end in nil&quot;))))
   (t
...">eliminate-macro-aliases</a> (cdr lst) <a class="sym-link system" href="axioms.html#def-macro-aliases" data-sym="MACRO-ALIASES">macro-aliases</a> wrld)
        (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> flg <span class="keyword">:error</span>) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> <span class="keyword">:error</span> rst))
          (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((next (car lst)) (fn (<a class="sym-link system" href="axioms.html#def-deref-macro-name" data-sym="DEREF-MACRO-NAME">deref-macro-name</a> next <a class="sym-link system" href="axioms.html#def-macro-aliases" data-sym="MACRO-ALIASES">macro-aliases</a>)))
              (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (symbolp fn) (<a class="sym-link system" href="axioms.html#def-function-symbolp" data-sym="FUNCTION-SYMBOLP">function-symbolp</a> fn wrld))) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> <span class="keyword">:error</span> (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"contains ~x0"</span> next)))
                ((<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> flg <span class="keyword">:changed</span>) (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> next fn))) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> <span class="keyword">:changed</span> (cons fn rst)))
                (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil lst))))))))))</pre>
  </div>

<div class="form-block function" id="def-fix-loop-stopper-alist" data-defines="FIX-LOOP-STOPPER-ALIST" data-references="LIST*,CONS,CDR,REST,FLG2,CDDAR,ELIMINATE-MACRO-ALIASES,FNS,FLG1,MV-LET,T,EQ,CADAR,CAAR,LEGAL-VARIABLEP,LENGTH,<=,CAR,TRUE-LISTP,AND,NOT,ATOM,MV,NULL,COND,WRLD,MACRO-ALIASES,X,DEFUN" data-used-by="TRANSLATE-RULE-CLASS-ALIST" data-part-name="FIX-LOOP-STOPPER-ALIST" data-part-args="WRLD,MACRO-ALIASES,X" data-part-body="LIST*,CONS,CDR,FIX-LOOP-STOPPER-ALIST,REST,FLG2,WRLD,MACRO-ALIASES,CDDAR,ELIMINATE-MACRO-ALIASES,FNS,FLG1,MV-LET,T,EQ,CADAR,CAAR,LEGAL-VARIABLEP,LENGTH,<=,CAR,TRUE-LISTP,AND,NOT,ATOM,MV,X,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="FIX-LOOP-STOPPER-ALIST">fix-loop-stopper-alist</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-fix-loop-stopper-alist" data-sym="FIX-LOOP-STOPPER-ALIST" title="(defun fix-loop-stopper-alist (x macro-aliases wrld)
  (cond ((null x) (mv nil nil)) ((atom x) (mv :error nil))
        ((not
          (and (true-listp (car x)) (&lt;= 2 (length (car x)))
               (legal-variablep (caar x)) (legal-variablep (cadar x))
...">fix-loop-stopper-alist</a>
  (x <a class="sym-link system" href="axioms.html#def-macro-aliases" data-sym="MACRO-ALIASES">macro-aliases</a> wrld)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> x) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil nil))
    ((<a class="sym-link system" href="axioms.html#def-atom" data-sym="ATOM">atom</a> x) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> <span class="keyword">:error</span> nil))
    ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-true-listp" data-sym="TRUE-LISTP">true-listp</a> (car x))
         (<a class="sym-link system" href="axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> <span class="number">2</span> (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> (car x)))
         (<a class="sym-link system" href="basis-a.html#def-legal-variablep" data-sym="LEGAL-VARIABLEP">legal-variablep</a> (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> x))
         (<a class="sym-link system" href="basis-a.html#def-legal-variablep" data-sym="LEGAL-VARIABLEP">legal-variablep</a> (<a class="sym-link system" href="axioms.html#def-cadar" data-sym="CADAR">cadar</a> x))
         (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> x) (<a class="sym-link system" href="axioms.html#def-cadar" data-sym="CADAR">cadar</a> x))))) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> <span class="keyword">:error</span> nil))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (flg1 fns)
        (<a class="sym-link local-def" href="#def-eliminate-macro-aliases" data-sym="ELIMINATE-MACRO-ALIASES" title="(defun eliminate-macro-aliases (lst macro-aliases wrld)
  (cond
   ((atom lst)
    (cond ((null lst) (mv nil nil)) (t (mv :error &quot;does not end in nil&quot;))))
   (t
...">eliminate-macro-aliases</a> (<a class="sym-link system" href="axioms.html#def-cddar" data-sym="CDDAR">cddar</a> x) <a class="sym-link system" href="axioms.html#def-macro-aliases" data-sym="MACRO-ALIASES">macro-aliases</a> wrld)
        (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> flg1 <span class="keyword">:error</span>) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> <span class="keyword">:error</span> nil))
          (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (flg2 <a class="sym-link system" href="axioms.html#def-rest" data-sym="REST">rest</a>)
              (<a class="sym-link local-def" href="#def-fix-loop-stopper-alist" data-sym="FIX-LOOP-STOPPER-ALIST" title="(defun fix-loop-stopper-alist (x macro-aliases wrld)
  (cond ((null x) (mv nil nil)) ((atom x) (mv :error nil))
        ((not
          (and (true-listp (car x)) (&lt;= 2 (length (car x)))
               (legal-variablep (caar x)) (legal-variablep (cadar x))
...">fix-loop-stopper-alist</a> (cdr x) <a class="sym-link system" href="axioms.html#def-macro-aliases" data-sym="MACRO-ALIASES">macro-aliases</a> wrld)
              (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (flg1 (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (cons (<a class="sym-link system" href="axioms.html#def-list_2A" data-sym="LIST*">list*</a> (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> x) (<a class="sym-link system" href="axioms.html#def-cadar" data-sym="CADAR">cadar</a> x) fns) <a class="sym-link system" href="axioms.html#def-rest" data-sym="REST">rest</a>)))
                (flg2 (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (cons (car x) <a class="sym-link system" href="axioms.html#def-rest" data-sym="REST">rest</a>)))
                (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil x))))))))))</pre>
  </div>

<div class="form-block function" id="def-guess-controller-alist-for-definition-rule" data-defines="GUESS-CONTROLLER-ALIST-FOR-DEFINITION-RULE" data-references="ALL-VARS,MAKE-CONTROLLER-POCKET,CONS,LIST,VALUE,CAR,GUESS-MEASURE,M,ER-LET*,DEFAULT-RULER-EXTENDERS,TERMINATION-MACHINE,T-MACHINE,LET,STATE,WRLD,CTX,BODY,FORMALS,NAMES,DEFUN" data-used-by="TRANSLATE-RULE-CLASS-ALIST" data-part-name="GUESS-CONTROLLER-ALIST-FOR-DEFINITION-RULE" data-part-args="STATE,WRLD,CTX,BODY,FORMALS,NAMES" data-part-body="ALL-VARS,MAKE-CONTROLLER-POCKET,CONS,LIST,VALUE,STATE,CTX,CAR,GUESS-MEASURE,M,ER-LET*,WRLD,DEFAULT-RULER-EXTENDERS,BODY,FORMALS,NAMES,TERMINATION-MACHINE,T-MACHINE,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="GUESS-CONTROLLER-ALIST-FOR-DEFINITION-RULE">guess-controller-alist-for-definition-rule</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-guess-controller-alist-for-definition-rule" data-sym="GUESS-CONTROLLER-ALIST-FOR-DEFINITION-RULE" title="(defun guess-controller-alist-for-definition-rule
       (names formals body ctx wrld state)
  (let ((t-machine
         (termination-machine nil nil names formals body nil nil
                              (default-ruler-extenders wrld))))
...">guess-controller-alist-for-definition-rule</a>
  (names <a class="sym-link system" href="basis-b.html#def-formals" data-sym="FORMALS">formals</a> <a class="sym-link system" href="basis-b.html#def-body" data-sym="BODY">body</a> ctx wrld state)
  (let ((t-machine (termination-machine nil
         nil
         names
         <a class="sym-link system" href="basis-b.html#def-formals" data-sym="FORMALS">formals</a>
         <a class="sym-link system" href="basis-b.html#def-body" data-sym="BODY">body</a>
         nil
         nil
         (default-ruler-extenders wrld))))
    (<a class="sym-link system" href="basis-b.html#def-er-let_2A" data-sym="ER-LET*">er-let*</a> ((m (<a class="sym-link system" href="defuns.html#def-guess-measure" data-sym="GUESS-MEASURE">guess-measure</a> (car names)
           nil
           <a class="sym-link system" href="basis-b.html#def-formals" data-sym="FORMALS">formals</a>
           <span class="number">0</span>
           t-machine
           ctx
           wrld
           state)))
      (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (cons (car names)
            (<a class="sym-link system" href="defuns.html#def-make-controller-pocket" data-sym="MAKE-CONTROLLER-POCKET">make-controller-pocket</a> <a class="sym-link system" href="basis-b.html#def-formals" data-sym="FORMALS">formals</a> (<a class="sym-link system" href="axioms.html#def-all-vars" data-sym="ALL-VARS">all-vars</a> m))))))))</pre>
  </div>

<div class="form-block function" id="def-chk-legal-linear-trigger-terms1" data-defines="CHK-LEGAL-LINEAR-TRIGGER-TERMS1" data-references="CONJOIN,IMPLIES,QUOTE,FCONS-TERM*,IF,W,UNTRANSLATE,SOFT,ER,CDR,CDAR,ALL-VARS,SET-DIFFERENCE-EQ,SUBSETP-EQ,T,EQ,OR,CAAR,ALL-VARS-IN-HYPS,HYP-VARS,LET,VALUE,NULL,COND,STATE,CTX,NAME,LST,TERM,DEFUN" data-used-by="CHK-LEGAL-LINEAR-TRIGGER-TERMS" data-part-name="CHK-LEGAL-LINEAR-TRIGGER-TERMS1" data-part-args="STATE,CTX,NAME,LST,TERM" data-part-body="CONJOIN,IMPLIES,QUOTE,FCONS-TERM*,IF,W,UNTRANSLATE,SOFT,ER,STATE,CTX,NAME,CDR,CHK-LEGAL-LINEAR-TRIGGER-TERMS1,TERM,CDAR,ALL-VARS,SET-DIFFERENCE-EQ,SUBSETP-EQ,T,EQ,OR,CAAR,ALL-VARS-IN-HYPS,HYP-VARS,LET,VALUE,LST,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CHK-LEGAL-LINEAR-TRIGGER-TERMS1">chk-legal-linear-trigger-terms1</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-chk-legal-linear-trigger-terms1" data-sym="CHK-LEGAL-LINEAR-TRIGGER-TERMS1" title="(defun chk-legal-linear-trigger-terms1 (term lst name ctx state)
  (cond ((null lst) (value nil))
        ((let ((hyp-vars (all-vars-in-hyps (caar lst))))
           (or (eq hyp-vars t)
               (subsetp-eq (set-difference-eq (all-vars (cdar lst)) hyp-vars)
...">chk-legal-linear-trigger-terms1</a>
  (term lst name ctx state)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> lst) (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil))
    ((let ((hyp-vars (<a class="sym-link local-def" href="#def-all-vars-in-hyps" data-sym="ALL-VARS-IN-HYPS" title="(defun all-vars-in-hyps (hyps)
  (cond ((null hyps) nil)
        (t
         (let ((vars (all-vars-in-hyps (cdr hyps))))
           (cond ((eq vars t) t)
...">all-vars-in-hyps</a> (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> lst))))
       (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> hyp-vars <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)
         (<a class="sym-link system" href="axioms.html#def-subsetp-eq" data-sym="SUBSETP-EQ">subsetp-eq</a> (<a class="sym-link system" href="axioms.html#def-set-difference-eq" data-sym="SET-DIFFERENCE-EQ">set-difference-eq</a> (<a class="sym-link system" href="axioms.html#def-all-vars" data-sym="ALL-VARS">all-vars</a> (<a class="sym-link system" href="axioms.html#def-cdar" data-sym="CDAR">cdar</a> lst)) hyp-vars)
           (<a class="sym-link system" href="axioms.html#def-all-vars" data-sym="ALL-VARS">all-vars</a> term)))) (<a class="sym-link local-def" href="#def-chk-legal-linear-trigger-terms1" data-sym="CHK-LEGAL-LINEAR-TRIGGER-TERMS1" title="(defun chk-legal-linear-trigger-terms1 (term lst name ctx state)
  (cond ((null lst) (value nil))
        ((let ((hyp-vars (all-vars-in-hyps (caar lst))))
           (or (eq hyp-vars t)
               (subsetp-eq (set-difference-eq (all-vars (cdar lst)) hyp-vars)
...">chk-legal-linear-trigger-terms1</a> term
        (cdr lst)
        name
        ctx
        state))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
        ctx
        <span class="string">"Each term in the :TRIGGER-TERMS of a :LINEAR rule should be a ~
                legal trigger for the rule generated for each branch through ~
                the corollary.  But the proposed trigger ~p0 for the ~
                :LINEAR rule ~x1 is illegal for the branch ~p2 because it ~
                contains insufficient variables.  See :DOC linear."</span>
        (untranslate term nil (<a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a> state))
        name
        (untranslate (if (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> lst)
            (<a class="sym-link system" href="axioms.html#def-fcons-term_2A" data-sym="FCONS-TERM*">fcons-term*</a> '<a class="sym-link system" href="axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="axioms.html#def-conjoin" data-sym="CONJOIN">conjoin</a> (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> lst)) (<a class="sym-link system" href="axioms.html#def-cdar" data-sym="CDAR">cdar</a> lst))
            (<a class="sym-link system" href="axioms.html#def-cdar" data-sym="CDAR">cdar</a> lst))
          <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
          (<a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a> state))))))</pre>
  </div>

<div class="form-block function" id="def-chk-legal-linear-trigger-terms" data-defines="CHK-LEGAL-LINEAR-TRIGGER-TERMS" data-references="W,UNTRANSLATE,SOFT,ER,T,CDR,CHK-LEGAL-LINEAR-TRIGGER-TERMS1,ER-PROGN,IF,QUOTE,FFN-SYMB,EQ,FLAMBDA-APPLICATIONP,FQUOTEP,NOT,CAR,NVARIABLEP,AND,VALUE,NULL,COND,STATE,CTX,NAME,LST,TERMS,DEFUN" data-used-by="TRANSLATE-RULE-CLASS-ALIST" data-part-name="CHK-LEGAL-LINEAR-TRIGGER-TERMS" data-part-args="STATE,CTX,NAME,LST,TERMS" data-part-body="W,UNTRANSLATE,SOFT,ER,T,CDR,CHK-LEGAL-LINEAR-TRIGGER-TERMS,STATE,CTX,NAME,LST,CHK-LEGAL-LINEAR-TRIGGER-TERMS1,ER-PROGN,IF,QUOTE,FFN-SYMB,EQ,FLAMBDA-APPLICATIONP,FQUOTEP,NOT,CAR,NVARIABLEP,AND,VALUE,TERMS,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CHK-LEGAL-LINEAR-TRIGGER-TERMS">chk-legal-linear-trigger-terms</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-chk-legal-linear-trigger-terms" data-sym="CHK-LEGAL-LINEAR-TRIGGER-TERMS" title="(defun chk-legal-linear-trigger-terms (terms lst name ctx state)
  (cond ((null terms) (value nil))
        ((and (nvariablep (car terms)) (not (fquotep (car terms)))
              (not (flambda-applicationp (car terms)))
              (not (eq (ffn-symb (car terms)) &#39;if)))
...">chk-legal-linear-trigger-terms</a>
  (terms lst name ctx state)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> terms) (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil))
    ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-nvariablep" data-sym="NVARIABLEP">nvariablep</a> (car terms))
       (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-fquotep" data-sym="FQUOTEP">fquotep</a> (car terms)))
       (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="basis-b.html#def-flambda-applicationp" data-sym="FLAMBDA-APPLICATIONP">flambda-applicationp</a> (car terms)))
       (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> (car terms)) 'if))) (<a class="sym-link system" href="axioms.html#def-er-progn" data-sym="ER-PROGN">er-progn</a> (<a class="sym-link local-def" href="#def-chk-legal-linear-trigger-terms1" data-sym="CHK-LEGAL-LINEAR-TRIGGER-TERMS1" title="(defun chk-legal-linear-trigger-terms1 (term lst name ctx state)
  (cond ((null lst) (value nil))
        ((let ((hyp-vars (all-vars-in-hyps (caar lst))))
           (or (eq hyp-vars t)
               (subsetp-eq (set-difference-eq (all-vars (cdar lst)) hyp-vars)
...">chk-legal-linear-trigger-terms1</a> (car terms)
          lst
          name
          ctx
          state)
        (<a class="sym-link local-def" href="#def-chk-legal-linear-trigger-terms" data-sym="CHK-LEGAL-LINEAR-TRIGGER-TERMS" title="(defun chk-legal-linear-trigger-terms (terms lst name ctx state)
  (cond ((null terms) (value nil))
        ((and (nvariablep (car terms)) (not (fquotep (car terms)))
              (not (flambda-applicationp (car terms)))
              (not (eq (ffn-symb (car terms)) &#39;if)))
...">chk-legal-linear-trigger-terms</a> (cdr terms)
          lst
          name
          ctx
          state)))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
        ctx
        <span class="string">"The term ~p0 supplied as a :TRIGGER-TERM for the :LINEAR rule ~x1 ~
           is illegal because it is either a variable, a quoted constant, a ~
           lambda application (or LET-expression), or an IF-expression."</span>
        (untranslate (car terms) nil (<a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a> state))
        name))))</pre>
  </div>

<div class="form-block function" id="def-backchain-limit-listp" data-defines="BACKCHAIN-LIMIT-LISTP" data-references="T,CDR,NATP,CAR,NULL,OR,EQUAL,ATOM,COND,LST,DEFUN" data-used-by="TRANSLATE-RULE-CLASS-ALIST" data-part-name="BACKCHAIN-LIMIT-LISTP" data-part-args="LST" data-part-body="T,CDR,BACKCHAIN-LIMIT-LISTP,NATP,CAR,NULL,OR,EQUAL,LST,ATOM,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="BACKCHAIN-LIMIT-LISTP">backchain-limit-listp</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-backchain-limit-listp" data-sym="BACKCHAIN-LIMIT-LISTP" title="(defun backchain-limit-listp (lst)
  (cond ((atom lst) (equal lst nil))
        ((or (null (car lst)) (natp (car lst)))
         (backchain-limit-listp (cdr lst)))
        (t nil)))">backchain-limit-listp</a>
  (lst)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-atom" data-sym="ATOM">atom</a> lst) (equal lst nil))
    ((<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> (car lst)) (<a class="sym-link system" href="axioms.html#def-natp" data-sym="NATP">natp</a> (car lst))) (<a class="sym-link local-def" href="#def-backchain-limit-listp" data-sym="BACKCHAIN-LIMIT-LISTP" title="(defun backchain-limit-listp (lst)
  (cond ((atom lst) (equal lst nil))
        ((or (null (car lst)) (natp (car lst)))
         (backchain-limit-listp (cdr lst)))
        (t nil)))">backchain-limit-listp</a> (cdr lst)))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> nil)))</pre>
  </div>

<div class="form-block function" id="def-recover-metafunction-or-clause-processor-signatures" data-defines="RECOVER-METAFUNCTION-OR-CLAUSE-PROCESSOR-SIGNATURES" data-references="LIST*,NO-DUPLICATESP,SYMBOL-LISTP,DESTRUCTURE-CLAUSE-PROCESSOR-RULE,XFLG,CALL,REST-ARGS,ALIST,CL,FLG,STATE,QUOTE,LIST,IF,T,MV,SYMBOLP,NOT,NULL,OR,IGNORE,DECLARE,META-RULE-HYPOTHESIS-FUNCTIONS,EXTRA-FNS,HYP-FN,INTERPRET-TERM-AS-META-RULE,MFC-SYMBOL,FN,A,X,EV,EQV,HYP,MV-LET,EQ,COND,TERM,TOKEN,DEFUN" data-used-by="TRANSLATE-WELL-FORMEDNESS-GUARANTEE" data-part-name="RECOVER-METAFUNCTION-OR-CLAUSE-PROCESSOR-SIGNATURES" data-part-args="TERM,TOKEN" data-part-body="LIST*,NO-DUPLICATESP,SYMBOL-LISTP,DESTRUCTURE-CLAUSE-PROCESSOR-RULE,XFLG,CALL,REST-ARGS,ALIST,CL,FLG,STATE,QUOTE,LIST,IF,T,MV,SYMBOLP,NOT,NULL,OR,IGNORE,DECLARE,META-RULE-HYPOTHESIS-FUNCTIONS,EXTRA-FNS,HYP-FN,TERM,INTERPRET-TERM-AS-META-RULE,MFC-SYMBOL,FN,A,X,EV,EQV,HYP,MV-LET,TOKEN,EQ,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="RECOVER-METAFUNCTION-OR-CLAUSE-PROCESSOR-SIGNATURES">recover-metafunction-or-clause-processor-signatures</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-recover-metafunction-or-clause-processor-signatures" data-sym="RECOVER-METAFUNCTION-OR-CLAUSE-PROCESSOR-SIGNATURES" title="(defun recover-metafunction-or-clause-processor-signatures (token term)
  (cond
   ((eq token :meta)
    (mv-let (hyp eqv ev x a fn mfc-symbol) (interpret-term-as-meta-rule term)
            (mv-let (hyp-fn extra-fns)
...">recover-metafunction-or-clause-processor-signatures</a>
  (token term)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> token <span class="keyword">:meta</span>) (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (hyp eqv ev x a fn mfc-symbol)
        (<a class="sym-link local-def" href="#def-interpret-term-as-meta-rule" data-sym="INTERPRET-TERM-AS-META-RULE" title="(defun interpret-term-as-meta-rule (term)
  (case-match term
              ((&#39;implies hyp (eqv (ev x a) (ev (fn x) a)))
               (mv hyp eqv ev x a fn nil))
              ((eqv (ev x a) (ev (fn x) a)) (mv *t* eqv ev x a fn nil))
...">interpret-term-as-meta-rule</a> term)
        (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (hyp-fn extra-fns)
          (<a class="sym-link local-def" href="#def-meta-rule-hypothesis-functions" data-sym="META-RULE-HYPOTHESIS-FUNCTIONS" title="(defun meta-rule-hypothesis-functions (hyp ev x a mfc-symbol)
  (let ((hyps
         (remove1-equal (fcons-term* &#39;pseudo-termp x)
                        (remove1-equal (fcons-term* &#39;alistp a)
                                       (flatten-ands-in-lit hyp)))))
...">meta-rule-hypothesis-functions</a> hyp ev x a mfc-symbol)
          (declare (ignore extra-fns))
          (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> eqv)
               (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (symbolp fn))
               (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> hyp-fn)
               (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (symbolp hyp-fn))
               (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (symbolp mfc-symbol))) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> <span class="keyword">:error</span> nil nil nil))
            (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil
                fn
                (if (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> hyp-fn <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)
                  nil
                  hyp-fn)
                (if mfc-symbol
                  (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> mfc-symbol 'state)
                  nil)))))))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (flg fn cl alist rest-args ev call xflg)
        (<a class="sym-link local-def" href="#def-destructure-clause-processor-rule" data-sym="DESTRUCTURE-CLAUSE-PROCESSOR-RULE" title="(defun destructure-clause-processor-rule (term)
  (case-match term
              ((&#39;implies hyp (ev (&#39;disjoin clause) alist))
               (mv-let (hyps meta-extract-flg)
                       (remove-meta-extract-global-hyps
...">destructure-clause-processor-rule</a> term)
        (declare (ignore call xflg))
        (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> flg <span class="keyword">:error</span>)
             (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (symbolp fn))
             (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (symbolp cl))
             (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (symbolp alist))
             (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-symbol-listp" data-sym="SYMBOL-LISTP">symbol-listp</a> rest-args))
             (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (symbolp ev))
             (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-no-duplicatesp" data-sym="NO-DUPLICATESP">no-duplicatesp</a> (<a class="sym-link system" href="axioms.html#def-list_2A" data-sym="LIST*">list*</a> cl alist rest-args)))) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> <span class="keyword">:error</span> nil nil nil))
          (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> flg fn nil rest-args)))))))</pre>
  </div>

<div class="form-block function" id="def-equal-except-on-non-stobjs" data-defines="EQUAL-EXCEPT-ON-NON-STOBJS" data-references="T,STOBJP,OR,CDR,CAR,EQUAL,AND,ATOM,COND,W,ARGLIST2,ARGLIST1,DEFUN" data-used-by="TRANSLATE-WELL-FORMEDNESS-GUARANTEE" data-part-name="EQUAL-EXCEPT-ON-NON-STOBJS" data-part-args="W,ARGLIST2,ARGLIST1" data-part-body="T,STOBJP,OR,W,CDR,EQUAL-EXCEPT-ON-NON-STOBJS,CAR,ARGLIST2,EQUAL,AND,ARGLIST1,ATOM,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="EQUAL-EXCEPT-ON-NON-STOBJS">equal-except-on-non-stobjs</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-equal-except-on-non-stobjs" data-sym="EQUAL-EXCEPT-ON-NON-STOBJS" title="(defun equal-except-on-non-stobjs (arglist1 arglist2 w)
  (cond ((atom arglist1) (and (equal nil arglist1) (equal nil arglist2)))
        ((atom arglist2) nil)
        ((equal (car arglist1) (car arglist2))
         (equal-except-on-non-stobjs (cdr arglist1) (cdr arglist2) w))
...">equal-except-on-non-stobjs</a>
  (arglist1 arglist2 <a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a>)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-atom" data-sym="ATOM">atom</a> arglist1) (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (equal nil arglist1) (equal nil arglist2)))
    ((<a class="sym-link system" href="axioms.html#def-atom" data-sym="ATOM">atom</a> arglist2) nil)
    ((equal (car arglist1) (car arglist2)) (<a class="sym-link local-def" href="#def-equal-except-on-non-stobjs" data-sym="EQUAL-EXCEPT-ON-NON-STOBJS" title="(defun equal-except-on-non-stobjs (arglist1 arglist2 w)
  (cond ((atom arglist1) (and (equal nil arglist1) (equal nil arglist2)))
        ((atom arglist2) nil)
        ((equal (car arglist1) (car arglist2))
         (equal-except-on-non-stobjs (cdr arglist1) (cdr arglist2) w))
...">equal-except-on-non-stobjs</a> (cdr arglist1) (cdr arglist2) <a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a>))
    ((<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="basis-a.html#def-stobjp" data-sym="STOBJP">stobjp</a> (car arglist1) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a>) (<a class="sym-link system" href="basis-a.html#def-stobjp" data-sym="STOBJP">stobjp</a> (car arglist2) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a>)) nil)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-equal-except-on-non-stobjs" data-sym="EQUAL-EXCEPT-ON-NON-STOBJS" title="(defun equal-except-on-non-stobjs (arglist1 arglist2 w)
  (cond ((atom arglist1) (and (equal nil arglist1) (equal nil arglist2)))
        ((atom arglist2) nil)
        ((equal (car arglist1) (car arglist2))
         (equal-except-on-non-stobjs (cdr arglist1) (cdr arglist2) w))
...">equal-except-on-non-stobjs</a> (cdr arglist1) (cdr arglist2) <a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a>))))</pre>
  </div>

<div class="form-block function" id="def-arity-alistp" data-defines="ARITY-ALISTP" data-references="T,ASSOC-EQ,NOT,CDR,NATP,SYMBOLP,CAR,CONSP,AND,EQ,ATOM,COND,ALIST,DEFUN" data-used-by="TRANSLATE-WELL-FORMEDNESS-GUARANTEE,COMPATIBLE-ARITY-ALISTSP" data-part-name="ARITY-ALISTP" data-part-args="ALIST" data-part-body="T,ASSOC-EQ,NOT,ARITY-ALISTP,CDR,NATP,SYMBOLP,CAR,CONSP,AND,EQ,ALIST,ATOM,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ARITY-ALISTP">arity-alistp</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-arity-alistp" data-sym="ARITY-ALISTP" title="(defun arity-alistp (alist)
  (cond ((atom alist) (eq alist nil))
        ((and (consp (car alist)) (symbolp (car (car alist)))
              (natp (cdr (car alist))) (arity-alistp (cdr alist))
              (not (assoc-eq (car (car alist)) (cdr alist))))
...">arity-alistp</a>
  (alist)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-atom" data-sym="ATOM">atom</a> alist) (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> alist nil))
    ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (consp (car alist))
       (symbolp (car (car alist)))
       (<a class="sym-link system" href="axioms.html#def-natp" data-sym="NATP">natp</a> (cdr (car alist)))
       (<a class="sym-link local-def" href="#def-arity-alistp" data-sym="ARITY-ALISTP" title="(defun arity-alistp (alist)
  (cond ((atom alist) (eq alist nil))
        ((and (consp (car alist)) (symbolp (car (car alist)))
              (natp (cdr (car alist))) (arity-alistp (cdr alist))
              (not (assoc-eq (car (car alist)) (cdr alist))))
...">arity-alistp</a> (cdr alist))
       (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a> (car (car alist)) (cdr alist)))) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> nil)))</pre>
  </div>

<div class="form-block function" id="def-compatible-arity-alistsp" data-defines="COMPATIBLE-ARITY-ALISTSP" data-references="UNION-EQUAL,ARITY-ALISTP,T,EQUAL,COND,ALIST2,ALIST1,DEFUN" data-used-by="TRANSLATE-WELL-FORMEDNESS-GUARANTEE" data-part-name="COMPATIBLE-ARITY-ALISTSP" data-part-args="ALIST2,ALIST1" data-part-body="UNION-EQUAL,ARITY-ALISTP,T,ALIST2,ALIST1,EQUAL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="COMPATIBLE-ARITY-ALISTSP">compatible-arity-alistsp</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-compatible-arity-alistsp" data-sym="COMPATIBLE-ARITY-ALISTSP" title="(defun compatible-arity-alistsp (alist1 alist2)
  (cond ((equal alist1 alist2) t)
        (t (arity-alistp (union-equal alist1 alist2)))))">compatible-arity-alistsp</a>
  (alist1 alist2)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((equal alist1 alist2) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-arity-alistp" data-sym="ARITY-ALISTP" title="(defun arity-alistp (alist)
  (cond ((atom alist) (eq alist nil))
        ((and (consp (car alist)) (symbolp (car (car alist)))
              (natp (cdr (car alist))) (arity-alistp (cdr alist))
              (not (assoc-eq (car (car alist)) (cdr alist))))
...">arity-alistp</a> (<a class="sym-link system" href="axioms.html#def-union-equal" data-sym="UNION-EQUAL">union-equal</a> alist1 alist2)))))</pre>
  </div>

<div class="form-block function" id="def-collect-disagreeing-arity-assumptions" data-defines="COLLECT-DISAGREEING-ARITY-ASSUMPTIONS" data-references="T,CONS,CDR,EQUAL,NOT,CAR,ASSOC,AND,ENDP,COND,ALIST2,ALIST1,DEFUN" data-used-by="TRANSLATE-WELL-FORMEDNESS-GUARANTEE" data-part-name="COLLECT-DISAGREEING-ARITY-ASSUMPTIONS" data-part-args="ALIST2,ALIST1" data-part-body="T,COLLECT-DISAGREEING-ARITY-ASSUMPTIONS,CONS,CDR,EQUAL,NOT,ALIST2,CAR,ASSOC,AND,ALIST1,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="COLLECT-DISAGREEING-ARITY-ASSUMPTIONS">collect-disagreeing-arity-assumptions</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-collect-disagreeing-arity-assumptions" data-sym="COLLECT-DISAGREEING-ARITY-ASSUMPTIONS" title="(defun collect-disagreeing-arity-assumptions (alist1 alist2)
  (cond ((endp alist1) nil)
        ((and (assoc (car (car alist1)) alist2)
              (not
               (equal (cdr (car alist1))
...">collect-disagreeing-arity-assumptions</a>
  (alist1 alist2)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> alist1) nil)
    ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-assoc" data-sym="ASSOC">assoc</a> (car (car alist1)) alist2)
       (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (equal (cdr (car alist1))
           (cdr (<a class="sym-link system" href="axioms.html#def-assoc" data-sym="ASSOC">assoc</a> (car (car alist1)) alist2))))) (cons (car (car alist1))
        (<a class="sym-link local-def" href="#def-collect-disagreeing-arity-assumptions" data-sym="COLLECT-DISAGREEING-ARITY-ASSUMPTIONS" title="(defun collect-disagreeing-arity-assumptions (alist1 alist2)
  (cond ((endp alist1) nil)
        ((and (assoc (car (car alist1)) alist2)
              (not
               (equal (cdr (car alist1))
...">collect-disagreeing-arity-assumptions</a> (cdr alist1) alist2)))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-collect-disagreeing-arity-assumptions" data-sym="COLLECT-DISAGREEING-ARITY-ASSUMPTIONS" title="(defun collect-disagreeing-arity-assumptions (alist1 alist2)
  (cond ((endp alist1) nil)
        ((and (assoc (car (car alist1)) alist2)
              (not
               (equal (cdr (car alist1))
...">collect-disagreeing-arity-assumptions</a> (cdr alist1) alist2))))</pre>
  </div>

<div class="form-block function" id="def-interpret-term-as-well-formedness-guarantee-thm" data-defines="INTERPRET-TERM-AS-WELL-FORMEDNESS-GUARANTEE-THM" data-references="&,T,CLAUSES-RESULT,MV,REST-ARGS,!FN,!POST,ALIST,ARITIES-OKP,WVAR,TVAR,!PRE,IMPLIES,CASE-MATCH,LOGIC-TERM-LIST-LISTP,POST,LOGIC-TERM-LISTP,LOGIC-TERMP,QUOTE,EQ,IF,PRE,LET,THM,FN,TOKEN,DEFUN" data-used-by="TRANSLATE-WELL-FORMEDNESS-GUARANTEE" data-part-name="INTERPRET-TERM-AS-WELL-FORMEDNESS-GUARANTEE-THM" data-part-args="THM,FN,TOKEN" data-part-body="&,T,CLAUSES-RESULT,MV,REST-ARGS,!FN,!POST,ALIST,ARITIES-OKP,WVAR,TVAR,!PRE,IMPLIES,THM,CASE-MATCH,LOGIC-TERM-LIST-LISTP,POST,LOGIC-TERM-LISTP,LOGIC-TERMP,QUOTE,TOKEN,EQ,IF,PRE,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="INTERPRET-TERM-AS-WELL-FORMEDNESS-GUARANTEE-THM">interpret-term-as-well-formedness-guarantee-thm</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-interpret-term-as-well-formedness-guarantee-thm" data-sym="INTERPRET-TERM-AS-WELL-FORMEDNESS-GUARANTEE-THM" title="(defun interpret-term-as-well-formedness-guarantee-thm (token fn thm)
  (let ((pre
         (if (eq token :meta)
             &#39;logic-termp
             &#39;logic-term-listp))
...">interpret-term-as-well-formedness-guarantee-thm</a>
  (token fn <a class="sym-link local-def" href="#def-thm" data-sym="THM" title="(defmacro thm (&amp;whole event-form term &amp;key instructions hints otf-flg)
  `(with-output :off summary :stack :push
                (make-event
                 (er-progn
                  (with-output :stack :pop
...">thm</a>)
  (let ((pre (if (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> token <span class="keyword">:meta</span>)
         'logic-termp
         'logic-term-listp)) (post (if (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> token <span class="keyword">:meta</span>)
          'logic-termp
          'logic-term-list-listp)))
    (<a class="sym-link system" href="basis-a.html#def-case-match" data-sym="CASE-MATCH">case-match</a> <a class="sym-link local-def" href="#def-thm" data-sym="THM" title="(defmacro thm (&amp;whole event-form term &amp;key instructions hints otf-flg)
  `(with-output :off summary :stack :push
                (make-event
                 (er-progn
                  (with-output :stack :pop
...">thm</a>
      (('<a class="sym-link system" href="axioms.html#def-implies" data-sym="IMPLIES">implies</a> ('if (!pre tvar wvar)
           ('<a class="sym-link system" href="basis-b.html#def-arities-okp" data-sym="ARITIES-OKP">arities-okp</a> ('quote alist) wvar)
           ''nil)
         (!post (!fn tvar . rest-args) wvar)) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> tvar wvar alist nil rest-args))
      (('<a class="sym-link system" href="axioms.html#def-implies" data-sym="IMPLIES">implies</a> ('if ('<a class="sym-link system" href="basis-b.html#def-arities-okp" data-sym="ARITIES-OKP">arities-okp</a> ('quote alist) wvar)
           (!pre tvar wvar)
           ''nil)
         (!post (!fn tvar . rest-args) wvar)) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> tvar wvar alist nil rest-args))
      (('<a class="sym-link system" href="axioms.html#def-implies" data-sym="IMPLIES">implies</a> (!pre tvar wvar)
         (!post (!fn tvar . rest-args) wvar)) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> tvar wvar nil nil rest-args))
      (('<a class="sym-link system" href="axioms.html#def-implies" data-sym="IMPLIES">implies</a> ('<a class="sym-link system" href="basis-b.html#def-arities-okp" data-sym="ARITIES-OKP">arities-okp</a> ('quote alist) wvar)
         (!post (!fn tvar . rest-args) wvar)) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> tvar wvar alist nil rest-args))
      ((!post (!fn tvar . rest-args) wvar) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> tvar wvar nil nil rest-args))
      (('<a class="sym-link system" href="axioms.html#def-implies" data-sym="IMPLIES">implies</a> ('if (!pre tvar wvar)
           ('<a class="sym-link system" href="basis-b.html#def-arities-okp" data-sym="ARITIES-OKP">arities-okp</a> ('quote alist) wvar)
           ''nil)
         (!post ('<a class="sym-link system" href="axioms.html#def-clauses-result" data-sym="CLAUSES-RESULT">clauses-result</a> (!fn tvar . rest-args)) wvar)) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> tvar wvar alist <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> rest-args))
      (('<a class="sym-link system" href="axioms.html#def-implies" data-sym="IMPLIES">implies</a> ('if ('<a class="sym-link system" href="basis-b.html#def-arities-okp" data-sym="ARITIES-OKP">arities-okp</a> ('quote alist) wvar)
           (!pre tvar wvar)
           ''nil)
         (!post ('<a class="sym-link system" href="axioms.html#def-clauses-result" data-sym="CLAUSES-RESULT">clauses-result</a> (!fn tvar . rest-args)) wvar)) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> tvar wvar alist <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> rest-args))
      (('<a class="sym-link system" href="axioms.html#def-implies" data-sym="IMPLIES">implies</a> (!pre tvar wvar)
         (!post ('<a class="sym-link system" href="axioms.html#def-clauses-result" data-sym="CLAUSES-RESULT">clauses-result</a> (!fn tvar . rest-args)) wvar)) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> tvar wvar nil <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> rest-args))
      (('<a class="sym-link system" href="axioms.html#def-implies" data-sym="IMPLIES">implies</a> ('<a class="sym-link system" href="basis-b.html#def-arities-okp" data-sym="ARITIES-OKP">arities-okp</a> ('quote alist) wvar)
         (!post ('<a class="sym-link system" href="axioms.html#def-clauses-result" data-sym="CLAUSES-RESULT">clauses-result</a> (!fn tvar . rest-args)) wvar)) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> tvar wvar alist <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> rest-args))
      ((!post ('<a class="sym-link system" href="axioms.html#def-clauses-result" data-sym="CLAUSES-RESULT">clauses-result</a> (!fn tvar . rest-args)) wvar) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> tvar wvar nil <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> rest-args))
      (&amp; (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil nil nil <span class="keyword">:error</span> nil)))))</pre>
  </div>

<div class="form-block function" id="def-translate-well-formedness-guarantee" data-defines="TRANSLATE-WELL-FORMEDNESS-GUARANTEE" data-references="COLLECT-DISAGREEING-ARITY-ASSUMPTIONS,UNION-EQUAL,COMPATIBLE-ARITY-ALISTSP,REST-ARGS2,TRIPLE-FLG2,ALIST2,WVAR2,TVAR2,CONS,LIST,LIST*,NO-DUPLICATESP-EQUAL,SYMBOL-LISTP,VARIABLEP,EQUAL-EXCEPT-ON-NON-STOBJS,INTERPRET-TERM-AS-WELL-FORMEDNESS-GUARANTEE-THM,REST-ARGS1,TRIPLE-FLG1,ALIST1,WVAR1,TVAR1,VALUE,EVISC-TUPLE,EVISC,LOGIC-TERMP,EXPECTED-HYP-FN-FORM,<ALIST>,QUOTE,ARITY-ALISTP,W,IMPLIES,QUASIQUOTE,EXPECTED-FN-FORM,LET,RECOVER-METAFUNCTION-OR-CLAUSE-PROCESSOR-SIGNATURES,REST-ARGS,HYP-FN,FN,TRIPLE-FLG,MV-LET,THM2,THM1,THM-NAME2,THM-NAME1,LET*,T,SOFT,ER,IF,CDDR,CADR,CDR,NULL,CAR,CONSP,EQ,FORMULA,SYMBOLP,AND,OR,NOT,COND,STATE,WRLD,CTX,COROLLARY,NAME,X,TOKEN,DEFUN" data-used-by="TRANSLATE-RULE-CLASS-ALIST" data-part-name="TRANSLATE-WELL-FORMEDNESS-GUARANTEE" data-part-args="STATE,WRLD,CTX,COROLLARY,NAME,X,TOKEN" data-part-body="COLLECT-DISAGREEING-ARITY-ASSUMPTIONS,UNION-EQUAL,COMPATIBLE-ARITY-ALISTSP,REST-ARGS2,TRIPLE-FLG2,ALIST2,WVAR2,TVAR2,CONS,LIST,LIST*,NO-DUPLICATESP-EQUAL,SYMBOL-LISTP,VARIABLEP,EQUAL-EXCEPT-ON-NON-STOBJS,INTERPRET-TERM-AS-WELL-FORMEDNESS-GUARANTEE-THM,REST-ARGS1,TRIPLE-FLG1,ALIST1,WVAR1,TVAR1,VALUE,EVISC-TUPLE,EVISC,LOGIC-TERMP,EXPECTED-HYP-FN-FORM,<ALIST>,QUOTE,ARITY-ALISTP,W,IMPLIES,QUASIQUOTE,EXPECTED-FN-FORM,LET,COROLLARY,RECOVER-METAFUNCTION-OR-CLAUSE-PROCESSOR-SIGNATURES,REST-ARGS,HYP-FN,FN,TRIPLE-FLG,MV-LET,THM2,THM1,THM-NAME2,THM-NAME1,LET*,T,NAME,CTX,SOFT,ER,IF,CDDR,CADR,CDR,NULL,CAR,CONSP,TOKEN,EQ,WRLD,FORMULA,X,SYMBOLP,AND,OR,NOT,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="TRANSLATE-WELL-FORMEDNESS-GUARANTEE">translate-well-formedness-guarantee</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-translate-well-formedness-guarantee" data-sym="TRANSLATE-WELL-FORMEDNESS-GUARANTEE" title="(defun translate-well-formedness-guarantee
       (token x name corollary ctx wrld state)
  (cond
   ((not
     (or (and (symbolp x) (formula x nil wrld))
...">translate-well-formedness-guarantee</a>
  (token x name <a class="sym-link system" href="history-management.html#def-corollary" data-sym="COROLLARY">corollary</a> ctx wrld state)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (symbolp x) (<a class="sym-link system" href="history-management.html#def-formula" data-sym="FORMULA">formula</a> x nil wrld))
         (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> token <span class="keyword">:meta</span>)
           (consp x)
           (symbolp (car x))
           (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> (cdr x))
           (<a class="sym-link system" href="history-management.html#def-formula" data-sym="FORMULA">formula</a> (car x) nil wrld))
         (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> token <span class="keyword">:meta</span>)
           (consp x)
           (symbolp (car x))
           (consp (cdr x))
           (symbolp (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> x))
           (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> (<a class="sym-link system" href="axioms.html#def-cddr" data-sym="CDDR">cddr</a> x))
           (<a class="sym-link system" href="history-management.html#def-formula" data-sym="FORMULA">formula</a> (car x) nil wrld)
           (<a class="sym-link system" href="history-management.html#def-formula" data-sym="FORMULA">formula</a> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> x) nil wrld)))) (if (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> token <span class="keyword">:meta</span>)
        (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
          ctx
          <span class="string">"The :WELL-FORMEDNESS-GUARANTEE of :META rule ~x0 is ill-formed.  ~
             In general, a :WELL-FORMEDNESS-GUARANTEE must be of one of the ~
             following forms:~%[1]  thm-name1~%[2]  (thm-name1)~%[3]  ~
             (thm-name1 thm-name2)~%where thm-name1 names a previously proved ~
             theorem guaranteeing that the relevant metafunction returns a ~
             LOGIC-TERMP when given a LOGIC-TERMP.  See :DOC logic-termp.  ~
             Form [3] is only permitted (and is required!) when the ~
             metatheorem has a hypothesis metafunction, in which case ~
             thm-name2 names a previously proved theorem guaranteeing that ~
             the hypothesis metafunction also returns a LOGIC-TERMP when ~
             given one.  ~x1 is of none of the expected forms.  See :DOC ~
             well-formedness-guarantee for details."</span>
          name
          x)
        (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
          ctx
          <span class="string">"The :WELL-FORMEDNESS-GUARANTEE of :CLAUSE-PROCESSOR rule ~x0 ~
             must be the name of a theorem guaranteeing that the clause ~
             processor returns a LOGIC-TERM-LIST-LISTP when given a ~
             LOGIC-TERM-LISTP.  ~x1 is not such a name.  See :DOC ~
             logic-term-listp, :DOC logic-term-list-listp, and :DOC ~
             well-formedness-guarantee for details."</span>
          name
          x)))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((thm-name1 (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((symbolp x) x) (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (car x)))) (thm-name2 (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((symbolp x) nil) (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> x))))
          (thm1 (<a class="sym-link system" href="history-management.html#def-formula" data-sym="FORMULA">formula</a> thm-name1 nil wrld))
          (thm2 (if (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> thm-name2)
              nil
              (<a class="sym-link system" href="history-management.html#def-formula" data-sym="FORMULA">formula</a> thm-name2 nil wrld))))
        (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (triple-flg fn hyp-fn rest-args)
          (<a class="sym-link local-def" href="#def-recover-metafunction-or-clause-processor-signatures" data-sym="RECOVER-METAFUNCTION-OR-CLAUSE-PROCESSOR-SIGNATURES" title="(defun recover-metafunction-or-clause-processor-signatures (token term)
  (cond
   ((eq token :meta)
    (mv-let (hyp eqv ev x a fn mfc-symbol) (interpret-term-as-meta-rule term)
            (mv-let (hyp-fn extra-fns)
...">recover-metafunction-or-clause-processor-signatures</a> token
            <a class="sym-link system" href="history-management.html#def-corollary" data-sym="COROLLARY">corollary</a>)
          (let ((expected-fn-form `(<a class="sym-link system" href="axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (,(IF (EQ TOKEN :META)
     &#39;LOGIC-TERMP
     &#39;LOGIC-TERM-LISTP) x
                     <a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a>)
                   (<a class="sym-link local-def" href="#def-arity-alistp" data-sym="ARITY-ALISTP" title="(defun arity-alistp (alist)
  (cond ((atom alist) (eq alist nil))
        ((and (consp (car alist)) (symbolp (car (car alist)))
              (natp (cdr (car alist))) (arity-alistp (cdr alist))
              (not (assoc-eq (car (car alist)) (cdr alist))))
...">arity-alistp</a> '&lt;alist&gt; <a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a>))
                 (,(IF (EQ TOKEN :META)
     &#39;LOGIC-TERMP
     &#39;LOGIC-TERM-LIST-LISTP) ,(IF TRIPLE-FLG
     `(CLAUSES-RESULT (,FN X ,@REST-ARGS))
     `(,FN X ,@REST-ARGS))
                   <a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a>))) (expected-hyp-fn-form (if hyp-fn
                  `(<a class="sym-link system" href="axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (logic-termp x <a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a>) (<a class="sym-link local-def" href="#def-arity-alistp" data-sym="ARITY-ALISTP" title="(defun arity-alistp (alist)
  (cond ((atom alist) (eq alist nil))
        ((and (consp (car alist)) (symbolp (car (car alist)))
              (natp (cdr (car alist))) (arity-alistp (cdr alist))
              (not (assoc-eq (car (car alist)) (cdr alist))))
...">arity-alistp</a> '&lt;alist&gt; <a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a>))
                    (logic-termp (,HYP-FN x ,@REST-ARGS) <a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a>))
                  nil))
              (evisc (<a class="sym-link system" href="basis-a.html#def-evisc-tuple" data-sym="EVISC-TUPLE">evisc-tuple</a> nil
                  nil
                  '((&lt;alist&gt; . <span class="string">"((fn1 . n1) ... (fnk . nk))"</span>))
                  nil)))
            (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> triple-flg <span class="keyword">:error</span>) (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil))
              (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (tvar1 wvar1 alist1 triple-flg1 rest-args1)
                  (<a class="sym-link local-def" href="#def-interpret-term-as-well-formedness-guarantee-thm" data-sym="INTERPRET-TERM-AS-WELL-FORMEDNESS-GUARANTEE-THM" title="(defun interpret-term-as-well-formedness-guarantee-thm (token fn thm)
  (let ((pre
         (if (eq token :meta)
             &#39;logic-termp
             &#39;logic-term-listp))
...">interpret-term-as-well-formedness-guarantee-thm</a> token
                    fn
                    thm1)
                  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> triple-flg1 <span class="keyword">:error</span>) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                        ctx
                        <span class="string">"The :WELL-FORMEDNESS-GUARANTEE of ~x0 rule ~x1 is ~
                      ill-formed.  We cannot interpret the theorem named ~x2 ~
                      as a well-formedness guarantee for the function ~x3.  ~
                      We expected the name of a theorem like ~X45.  See :DOC ~
                      well-formedness-guarantee for details of the acceptable ~
                      forms."</span>
                        token
                        name
                        thm-name1
                        fn
                        expected-fn-form
                        evisc))
                    ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link local-def" href="#def-equal-except-on-non-stobjs" data-sym="EQUAL-EXCEPT-ON-NON-STOBJS" title="(defun equal-except-on-non-stobjs (arglist1 arglist2 w)
  (cond ((atom arglist1) (and (equal nil arglist1) (equal nil arglist2)))
        ((atom arglist2) nil)
        ((equal (car arglist1) (car arglist2))
         (equal-except-on-non-stobjs (cdr arglist1) (cdr arglist2) w))
...">equal-except-on-non-stobjs</a> rest-args rest-args1 wrld)
                       (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> triple-flg triple-flg1)
                       (<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> tvar1)
                       (<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> wvar1)
                       (<a class="sym-link system" href="axioms.html#def-symbol-listp" data-sym="SYMBOL-LISTP">symbol-listp</a> rest-args1)
                       (<a class="sym-link system" href="axioms.html#def-no-duplicatesp-equal" data-sym="NO-DUPLICATESP-EQUAL">no-duplicatesp-equal</a> (<a class="sym-link system" href="axioms.html#def-list_2A" data-sym="LIST*">list*</a> tvar1 wvar1 rest-args1))
                       (<a class="sym-link local-def" href="#def-arity-alistp" data-sym="ARITY-ALISTP" title="(defun arity-alistp (alist)
  (cond ((atom alist) (eq alist nil))
        ((and (consp (car alist)) (symbolp (car (car alist)))
              (natp (cdr (car alist))) (arity-alistp (cdr alist))
              (not (assoc-eq (car (car alist)) (cdr alist))))
...">arity-alistp</a> alist1)) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> hyp-fn) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (thm-name2 (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                                ctx
                                <span class="string">"The ~x0 rule ~x1 mentions the metafunction ~x2 but ~
                          does not mention a hypothesis metafunction.  ~
                          Therefore, it makes no sense to name a previously ~
                          proved theorem that provides a well-formedness ~
                          guarantee for a hypothesis metafunction.  But you ~
                          have specified such a name, ~x4, with your ~
                          :WELL-FORMEDNESS-GUARANTEE ~x3.  This may indicate ~
                          a misunderstanding.  Replace your guarantee with ~
                          :WELL-FORMEDNESS-GUARANTEE ~x5."</span>
                                token
                                name
                                fn
                                x
                                thm-name2
                                (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> thm-name1)))
                            (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (cons (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> name fn thm-name1) alist1)))))
                        ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> thm-name2) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                            ctx
                            <span class="string">"The :META rule ~x0 mentions the metafunction ~x1 and ~
                        the hypothesis metafunction ~x2.  You have correctly ~
                        named ~x3 as a previously proved theorem guaranteeing ~
                        that ~x1 always returns a LOGIC-TERMP, but you have ~
                        not specified such a name for ~x2.  We require that ~
                        you do so.  That is, prove a theorem like ~X45 with ~
                        some name and change your :WELL-FORMEDNESS-GUARANTEE ~
                        value to (~x3 name)."</span>
                            name
                            fn
                            hyp-fn
                            thm-name1
                            expected-hyp-fn-form
                            evisc))
                        (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (tvar2 wvar2 alist2 triple-flg2 rest-args2)
                            (<a class="sym-link local-def" href="#def-interpret-term-as-well-formedness-guarantee-thm" data-sym="INTERPRET-TERM-AS-WELL-FORMEDNESS-GUARANTEE-THM" title="(defun interpret-term-as-well-formedness-guarantee-thm (token fn thm)
  (let ((pre
         (if (eq token :meta)
             &#39;logic-termp
             &#39;logic-term-listp))
...">interpret-term-as-well-formedness-guarantee-thm</a> token
                              hyp-fn
                              thm2)
                            (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link local-def" href="#def-equal-except-on-non-stobjs" data-sym="EQUAL-EXCEPT-ON-NON-STOBJS" title="(defun equal-except-on-non-stobjs (arglist1 arglist2 w)
  (cond ((atom arglist1) (and (equal nil arglist1) (equal nil arglist2)))
        ((atom arglist2) nil)
        ((equal (car arglist1) (car arglist2))
         (equal-except-on-non-stobjs (cdr arglist1) (cdr arglist2) w))
...">equal-except-on-non-stobjs</a> rest-args rest-args2 wrld)
                                 (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> triple-flg triple-flg2)
                                 (<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> tvar2)
                                 (<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> wvar2)
                                 (<a class="sym-link system" href="axioms.html#def-no-duplicatesp-equal" data-sym="NO-DUPLICATESP-EQUAL">no-duplicatesp-equal</a> (<a class="sym-link system" href="axioms.html#def-list_2A" data-sym="LIST*">list*</a> tvar2 wvar2 rest-args2))
                                 (<a class="sym-link local-def" href="#def-arity-alistp" data-sym="ARITY-ALISTP" title="(defun arity-alistp (alist)
  (cond ((atom alist) (eq alist nil))
        ((and (consp (car alist)) (symbolp (car (car alist)))
              (natp (cdr (car alist))) (arity-alistp (cdr alist))
              (not (assoc-eq (car (car alist)) (cdr alist))))
...">arity-alistp</a> alist2)) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link local-def" href="#def-compatible-arity-alistsp" data-sym="COMPATIBLE-ARITY-ALISTSP" title="(defun compatible-arity-alistsp (alist1 alist2)
  (cond ((equal alist1 alist2) t)
        (t (arity-alistp (union-equal alist1 alist2)))))">compatible-arity-alistsp</a> alist1 alist2) (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (cons (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> name fn thm-name1 hyp-fn thm-name2)
                                        (<a class="sym-link system" href="axioms.html#def-union-equal" data-sym="UNION-EQUAL">union-equal</a> alist1 alist2))))
                                  (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                                      ctx
                                      <span class="string">"The :WELL-FORMEDNESS-GUARANTEE of the :META ~
                                 rule ~x0 for the metafunction ~x1 with ~
                                 hypothesis metafunction ~x2 is inadmissible ~
                                 because the two LOGIC-TERMP theorems (~x3 ~
                                 and ~x4) assume different arities for one or ~
                                 more function symbols, to wit ~&amp;5.  You will ~
                                 have to prove LOGIC-TERMP guarantee theorems ~
                                 that make compatible arity assumptions!"</span>
                                      name
                                      fn
                                      hyp-fn
                                      thm-name1
                                      thm-name2
                                      (<a class="sym-link local-def" href="#def-collect-disagreeing-arity-assumptions" data-sym="COLLECT-DISAGREEING-ARITY-ASSUMPTIONS" title="(defun collect-disagreeing-arity-assumptions (alist1 alist2)
  (cond ((endp alist1) nil)
        ((and (assoc (car (car alist1)) alist2)
              (not
               (equal (cdr (car alist1))
...">collect-disagreeing-arity-assumptions</a> alist1 alist2)))))
                              (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                                  ctx
                                  <span class="string">"The :WELL-FORMEDNESS-GUARANTEE of the :META ~
                               rule ~x0 for the metafunction ~x1 with ~
                               hypothesis metafunction ~x2 specified that ~x3 ~
                               is the name of the previously proved theorem ~
                               that guarantees that ~x2 always returns a ~
                               LOGIC-TERMP.  But theorem ~x3 is not of the ~
                               expected form.  We expected it to be something ~
                               like:~X45.  See :DOC well-formedness-guarantee."</span>
                                  name
                                  fn
                                  hyp-fn
                                  thm-name2
                                  expected-hyp-fn-form
                                  evisc)))))))
                    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                        ctx
                        <span class="string">"The :WELL-FORMEDNESS-GUARANTEE of the ~x0 rule ~x1 ~
                        for ~x2 specified that ~x3 is the name of the ~
                        previously proved theorem that established that ~x2 ~
                        always returns a LOGIC-TERMP.  But theorem ~x3 is not ~
                        of the expected form.  We expected it to be something ~
                        like ~X45. See :DOC well-formedness-guarantee."</span>
                        token
                        name
                        fn
                        thm-name1
                        expected-fn-form
                        evisc))))))))))))</pre>
  </div>

<div class="form-block function" id="def-induction-rule-synp-sanityp" data-defines="INDUCTION-RULE-SYNP-SANITYP" data-references="FFNNAMEP,CDR,SYNP,QUOTE,FFN-SYMB,EQ,FQUOTEP,NOT,CAR,NVARIABLEP,AND,T,ENDP,COND,LST,DEFUN" data-used-by="TRANSLATE-RULE-CLASS-ALIST" data-part-name="INDUCTION-RULE-SYNP-SANITYP" data-part-args="LST" data-part-body="FFNNAMEP,CDR,INDUCTION-RULE-SYNP-SANITYP,SYNP,QUOTE,FFN-SYMB,EQ,FQUOTEP,NOT,CAR,NVARIABLEP,AND,T,LST,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="INDUCTION-RULE-SYNP-SANITYP">induction-rule-synp-sanityp</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-induction-rule-synp-sanityp" data-sym="INDUCTION-RULE-SYNP-SANITYP" title="(defun induction-rule-synp-sanityp (lst)
  (cond ((endp lst) t)
        ((and (nvariablep (car lst)) (not (fquotep (car lst)))
              (eq (ffn-symb (car lst)) &#39;synp))
         (induction-rule-synp-sanityp (cdr lst)))
...">induction-rule-synp-sanityp</a>
  (lst)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> lst) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)
    ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-nvariablep" data-sym="NVARIABLEP">nvariablep</a> (car lst))
       (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-fquotep" data-sym="FQUOTEP">fquotep</a> (car lst)))
       (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> (car lst)) '<a class="sym-link system" href="axioms.html#def-synp" data-sym="SYNP">synp</a>)) (<a class="sym-link local-def" href="#def-induction-rule-synp-sanityp" data-sym="INDUCTION-RULE-SYNP-SANITYP" title="(defun induction-rule-synp-sanityp (lst)
  (cond ((endp lst) t)
        ((and (nvariablep (car lst)) (not (fquotep (car lst)))
              (eq (ffn-symb (car lst)) &#39;synp))
         (induction-rule-synp-sanityp (cdr lst)))
...">induction-rule-synp-sanityp</a> (cdr lst)))
    ((ffnnamep '<a class="sym-link system" href="axioms.html#def-synp" data-sym="SYNP">synp</a> (car lst)) nil)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-induction-rule-synp-sanityp" data-sym="INDUCTION-RULE-SYNP-SANITYP" title="(defun induction-rule-synp-sanityp (lst)
  (cond ((endp lst) t)
        ((and (nvariablep (car lst)) (not (fquotep (car lst)))
              (eq (ffn-symb (car lst)) &#39;synp))
         (induction-rule-synp-sanityp (cdr lst)))
...">induction-rule-synp-sanityp</a> (cdr lst)))))</pre>
  </div>

<div class="form-block function" id="def-translate-rule-class-alist" data-defines="TRANSLATE-RULE-CLASS-ALIST" data-references="*MAX-TYPE-SET*,*MIN-TYPE-SET*,INDUCTION-RULES,INDUCTION-MACHINE,GETPROPC,FLAMBDAP,FQUOTEP,VARIABLEP,BAD-VARS,STRIP-CADRS,UNION-EQ,FIX-LOOP-STOPPER-ALIST,LOOP-STOPPER-ALIST,SET-DIFFERENCE-EQUAL,NO-DUPLICATESP-EQUAL,ALL-FUNCTION-SYMBOLPS,EQL,BACKCHAIN-LIMIT-LISTP,MAKE-LIST,<=,INTEGERP,REMOVE-DUPLICATES-EQUAL,LENGTH,EQUAL,OTHERWISE,&,HYP,CASE-MATCH,HYPS-CONCL-PAIRS,TRANSLATE,TERM,STRIP-CARS,INTERSECTION-EQ,FORBIDDEN-FNS,NON-LOGIC-FNS,BAD-ARITY-ALIST,COLLECT-BAD-FN-ARITY-INFO,BAD-ARITY-INFO,THM-NAME2,HYP-FN,NTH,THM-NAME1,TRANSLATE-WELL-FORMEDNESS-GUARANTEE,WELL-FORMEDNESS-GUARANTEE,REMOVE-GUARD-HOLDERS-LAMP,UNPRETTYIFY,POSSIBLY-CLEAN-UP-DIRTY-LAMBDA-OBJECTS-IN-PAIRS,CHK-LEGAL-LINEAR-TRIGGER-TERMS,REMOVE-GUARD-HOLDERS-LST,TRANSLATE-TERM-LST,TERMS,TRUE-LISTP,MACRO-ALIASES,ELIMINATE-MACRO-ALIASES,LST,FLG,CDDR,SYMBOL-LISTP,CONSP,ATOM,SYMBOL-NAME,TRANSLATE-INSTRUCTIONS,INSTRS,DEFAULT-HINTS,CADR,CONS,TRANSLATE-HINTS+,HINTS,CASE,VAL,INITIALIZE-ACL2,INCLUDE-BOOK-WITH-LOCALS,INCLUDE-BOOK,ASSUMEP,FLATTEN-ANDS-IN-LIT,INDUCTION-RULE-SYNP-SANITYP,MFC,MEMBER-EQ,SET-DIFFERENCE-EQ,REVERSE,SUBSETP-EQ,SCHEME-VARS,COND-VARS,ALL-VARS,PAT-VARS,SCHEME-TERM,*T*,COND-TERM,PAT-TERM,MSG,APPEND,CONTROLLER-ALISTP,GUESS-CONTROLLER-ALIST-FOR-DEFINITION-RULE,CONTROLLER-ALIST,FFNNAMEP,CDR,CLIQUE,ER-LET*,DESTRUCTURE-DEFINITION,TTREE,BODY,ARGS,FN,EQUIV,CHK-DESTRUCTURE-DEFINITION,ER-PROGN,LD-SKIP-PROOFSP,FIND-TYPE-PRESCRIPTION-PAT,IMPLIES,PAT,LET,REMOVE-GUARD-HOLDERS,UNPRETTYIFY-TP,CONCL,LIST,OBSERVATION,PPROGN,FFN-SYMB-P,TRIGGER-TERM,FARGN,CASE-SPLIT,FORCE,QUOTE,FFN-SYMB,OR,CAR,NVARIABLEP,AND,IF,FIRST-HYP,LET*,UNTRANSLATE,IGNORE,DECLARE,DESTRUCTURE-FORWARD-CHAINING-TERM,CONCLS,HYPS,MV-LET,ALIST-TO-KEYWORD-ALIST,VALUE,T,SOFT,ER,ASSOC-EQ,NOT,EQ,NULL,COND,STATE,WRLD,ENS,CTX,X,NAME,COROLLARY,SEEN,ALIST,TOKEN,DEFUN" data-used-by="TRANSLATE-RULE-CLASS1" data-part-name="TRANSLATE-RULE-CLASS-ALIST" data-part-args="STATE,WRLD,ENS,CTX,X,NAME,COROLLARY,SEEN,ALIST,TOKEN" data-part-body="TRANSLATE-RULE-CLASS-ALIST,*MAX-TYPE-SET*,*MIN-TYPE-SET*,INDUCTION-RULES,INDUCTION-MACHINE,GETPROPC,FLAMBDAP,FQUOTEP,VARIABLEP,BAD-VARS,STRIP-CADRS,UNION-EQ,FIX-LOOP-STOPPER-ALIST,LOOP-STOPPER-ALIST,SET-DIFFERENCE-EQUAL,NO-DUPLICATESP-EQUAL,ALL-FUNCTION-SYMBOLPS,EQL,BACKCHAIN-LIMIT-LISTP,MAKE-LIST,<=,INTEGERP,REMOVE-DUPLICATES-EQUAL,LENGTH,EQUAL,OTHERWISE,&,HYP,CASE-MATCH,HYPS-CONCL-PAIRS,TRANSLATE,TERM,STRIP-CARS,INTERSECTION-EQ,FORBIDDEN-FNS,NON-LOGIC-FNS,BAD-ARITY-ALIST,COLLECT-BAD-FN-ARITY-INFO,BAD-ARITY-INFO,THM-NAME2,HYP-FN,NTH,THM-NAME1,TRANSLATE-WELL-FORMEDNESS-GUARANTEE,WELL-FORMEDNESS-GUARANTEE,REMOVE-GUARD-HOLDERS-LAMP,UNPRETTYIFY,POSSIBLY-CLEAN-UP-DIRTY-LAMBDA-OBJECTS-IN-PAIRS,CHK-LEGAL-LINEAR-TRIGGER-TERMS,REMOVE-GUARD-HOLDERS-LST,TRANSLATE-TERM-LST,TERMS,TRUE-LISTP,MACRO-ALIASES,ELIMINATE-MACRO-ALIASES,LST,FLG,CDDR,SYMBOL-LISTP,CONSP,ATOM,SYMBOL-NAME,TRANSLATE-INSTRUCTIONS,INSTRS,DEFAULT-HINTS,CADR,CONS,TRANSLATE-HINTS+,HINTS,CASE,VAL,INITIALIZE-ACL2,INCLUDE-BOOK-WITH-LOCALS,INCLUDE-BOOK,ASSUMEP,FLATTEN-ANDS-IN-LIT,INDUCTION-RULE-SYNP-SANITYP,MFC,MEMBER-EQ,SET-DIFFERENCE-EQ,REVERSE,SUBSETP-EQ,SCHEME-VARS,COND-VARS,ALL-VARS,PAT-VARS,SCHEME-TERM,*T*,COND-TERM,PAT-TERM,MSG,APPEND,CONTROLLER-ALISTP,GUESS-CONTROLLER-ALIST-FOR-DEFINITION-RULE,CONTROLLER-ALIST,FFNNAMEP,CDR,CLIQUE,ER-LET*,DESTRUCTURE-DEFINITION,TTREE,BODY,ARGS,FN,EQUIV,CHK-DESTRUCTURE-DEFINITION,ER-PROGN,STATE,LD-SKIP-PROOFSP,ENS,FIND-TYPE-PRESCRIPTION-PAT,IMPLIES,PAT,LET,REMOVE-GUARD-HOLDERS,UNPRETTYIFY-TP,CONCL,LIST,NAME,OBSERVATION,PPROGN,FFN-SYMB-P,TRIGGER-TERM,FARGN,CASE-SPLIT,FORCE,QUOTE,FFN-SYMB,OR,CAR,NVARIABLEP,AND,IF,FIRST-HYP,LET*,UNTRANSLATE,IGNORE,DECLARE,WRLD,COROLLARY,DESTRUCTURE-FORWARD-CHAINING-TERM,CONCLS,HYPS,MV-LET,ALIST-TO-KEYWORD-ALIST,VALUE,T,X,CTX,SOFT,ER,SEEN,ASSOC-EQ,NOT,TOKEN,EQ,ALIST,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="TRANSLATE-RULE-CLASS-ALIST">translate-rule-class-alist</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-translate-rule-class-alist" data-sym="TRANSLATE-RULE-CLASS-ALIST" title="(defun translate-rule-class-alist
       (token alist seen corollary name x ctx ens wrld state)
  (cond
   ((null alist)
    (cond
...">translate-rule-class-alist</a>
  (token alist seen <a class="sym-link system" href="history-management.html#def-corollary" data-sym="COROLLARY">corollary</a> name x ctx ens wrld state)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> alist) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> token <span class="keyword">:meta</span>) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a> <span class="keyword">:trigger-fns</span> seen)) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                ctx
                <span class="string">"The :META rule class must specify :TRIGGER-FNS.  ~
                  The rule class ~x0 is thus illegal.  See :DOC meta."</span>
                x))
            (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (<a class="sym-link local-def" href="#def-alist-to-keyword-alist" data-sym="ALIST-TO-KEYWORD-ALIST" title="(defun alist-to-keyword-alist (alist ans)
  (declare (xargs :guard (alistp alist)))
  (cond ((endp alist) ans)
        (t
         (alist-to-keyword-alist (cdr alist)">alist-to-keyword-alist</a> seen nil)))))
        ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> token <span class="keyword">:forward-chaining</span>) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a> <span class="keyword">:trigger-terms</span> seen)) (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (hyps concls)
                (<a class="sym-link local-def" href="#def-destructure-forward-chaining-term" data-sym="DESTRUCTURE-FORWARD-CHAINING-TERM" title="(defun destructure-forward-chaining-term (term wrld)
  (let ((term (remove-lambdas (remove-guard-holders term wrld))))
    (cond
     ((or (variablep term) (fquotep term) (not (eq (ffn-symb term) &#39;implies)))
      (mv nil (flatten-ands-in-lit term)))
...">destructure-forward-chaining-term</a> <a class="sym-link system" href="history-management.html#def-corollary" data-sym="COROLLARY">corollary</a> wrld)
                (declare (ignore concls))
                (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> hyps) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                      ctx
                      <span class="string">"When no :TRIGGER-TERMS component is ~
                                 specified for a :FORWARD-CHAINING ~
                                 rule class, the first hypothesis of ~
                                 the conjecture is used as the only ~
                                 trigger.  But ~p0 has no hypotheses ~
                                 and thus ~x1 is an illegal rule ~
                                 class.  See :DOC forward-chaining."</span>
                      (untranslate <a class="sym-link system" href="history-management.html#def-corollary" data-sym="COROLLARY">corollary</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> wrld)
                      x))
                  (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((first-hyp (if (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-nvariablep" data-sym="NVARIABLEP">nvariablep</a> (car hyps))
                             (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> (car hyps)) '<a class="sym-link system" href="axioms.html#def-force" data-sym="FORCE">force</a>)
                               (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> (car hyps)) '<a class="sym-link system" href="axioms.html#def-case-split" data-sym="CASE-SPLIT">case-split</a>)))
                           (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> (car hyps) <span class="number">1</span>)
                           (car hyps))) (trigger-term (if (<a class="sym-link system" href="basis-b.html#def-ffn-symb-p" data-sym="FFN-SYMB-P">ffn-symb-p</a> first-hyp '<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a>)
                            (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> first-hyp <span class="number">1</span>)
                            first-hyp)))
                      (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link system" href="basis-a.html#def-observation" data-sym="OBSERVATION">observation</a> ctx
                          <span class="string">"The :TRIGGER-TERMS for the ~
                                               :FORWARD-CHAINING rule ~x0 will ~
                                               consist of the list containing ~p1."</span>
                          name
                          (untranslate trigger-term nil wrld))
                        (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (<a class="sym-link local-def" href="#def-alist-to-keyword-alist" data-sym="ALIST-TO-KEYWORD-ALIST" title="(defun alist-to-keyword-alist (alist ans)
  (declare (xargs :guard (alistp alist)))
  (cond ((endp alist) ans)
        (t
         (alist-to-keyword-alist (cdr alist)">alist-to-keyword-alist</a> seen
                            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:trigger-terms</span> (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> trigger-term))))))))))
            (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (<a class="sym-link local-def" href="#def-alist-to-keyword-alist" data-sym="ALIST-TO-KEYWORD-ALIST" title="(defun alist-to-keyword-alist (alist ans)
  (declare (xargs :guard (alistp alist)))
  (cond ((endp alist) ans)
        (t
         (alist-to-keyword-alist (cdr alist)">alist-to-keyword-alist</a> seen nil)))))
        ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> token <span class="keyword">:type-prescription</span>) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a> <span class="keyword">:typed-term</span> seen)) (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (hyps concl)
                (<a class="sym-link system" href="defuns.html#def-unprettyify-tp" data-sym="UNPRETTYIFY-TP">unprettyify-tp</a> (remove-guard-holders <a class="sym-link system" href="history-management.html#def-corollary" data-sym="COROLLARY">corollary</a> wrld))
                (declare (ignore hyps))
                (let ((pat (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="basis-b.html#def-ffn-symb-p" data-sym="FFN-SYMB-P">ffn-symb-p</a> concl '<a class="sym-link system" href="axioms.html#def-implies" data-sym="IMPLIES">implies</a>) (<a class="sym-link local-def" href="#def-find-type-prescription-pat" data-sym="FIND-TYPE-PRESCRIPTION-PAT" title="(defun find-type-prescription-pat (term ens wrld)
  (cond ((variablep term) nil) ((fquotep term) nil)
        ((flambda-applicationp term) nil)
        ((eq (ffn-symb term) &#39;if)
         (or (find-type-prescription-pat (fargn term 1) ens wrld)
...">find-type-prescription-pat</a> (<a class="sym-link system" href="axioms.html#def-fargn" data-sym="FARGN">fargn</a> concl <span class="number">2</span>) ens wrld))
                       (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-find-type-prescription-pat" data-sym="FIND-TYPE-PRESCRIPTION-PAT" title="(defun find-type-prescription-pat (term ens wrld)
  (cond ((variablep term) nil) ((fquotep term) nil)
        ((flambda-applicationp term) nil)
        ((eq (ffn-symb term) &#39;if)
         (or (find-type-prescription-pat (fargn term 1) ens wrld)
...">find-type-prescription-pat</a> concl ens wrld)))))
                  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> pat) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                        ctx
                        <span class="string">"When no :TYPED-TERM component is specified for a ~
                            :TYPE-PRESCRIPTION rule class, a suitable term is ~
                            selected heuristically from the conjecture.  But ~
                            our heuristics identify no candidate term in ~p0. ~
                             Thus, ~x1 is an illegal rule class.  See :DOC ~
                            type-prescription."</span>
                        (untranslate <a class="sym-link system" href="history-management.html#def-corollary" data-sym="COROLLARY">corollary</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> wrld)
                        x))
                    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (if (<a class="sym-link system" href="axioms.html#def-ld-skip-proofsp" data-sym="LD-SKIP-PROOFSP">ld-skip-proofsp</a> state)
                          state
                          (<a class="sym-link system" href="basis-a.html#def-observation" data-sym="OBSERVATION">observation</a> ctx
                            <span class="string">"Our heuristics choose ~p0 as the ~
                                         :TYPED-TERM."</span>
                            (untranslate pat nil wrld)))
                        (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (<a class="sym-link local-def" href="#def-alist-to-keyword-alist" data-sym="ALIST-TO-KEYWORD-ALIST" title="(defun alist-to-keyword-alist (alist ans)
  (declare (xargs :guard (alistp alist)))
  (cond ((endp alist) ans)
        (t
         (alist-to-keyword-alist (cdr alist)">alist-to-keyword-alist</a> seen (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:typed-term</span> pat)))))))))
            (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (<a class="sym-link local-def" href="#def-alist-to-keyword-alist" data-sym="ALIST-TO-KEYWORD-ALIST" title="(defun alist-to-keyword-alist (alist ans)
  (declare (xargs :guard (alistp alist)))
  (cond ((endp alist) ans)
        (t
         (alist-to-keyword-alist (cdr alist)">alist-to-keyword-alist</a> seen nil)))))
        ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> token <span class="keyword">:definition</span>) (<a class="sym-link system" href="axioms.html#def-er-progn" data-sym="ER-PROGN">er-progn</a> (<a class="sym-link local-def" href="#def-chk-destructure-definition" data-sym="CHK-DESTRUCTURE-DEFINITION" title="(defun chk-destructure-definition (name term ctx wrld state)
  (mv-let (hyps equiv fn args body ttree)
          (destructure-definition term nil nil wrld nil)
          (declare (ignore hyps equiv args body ttree))
          (cond
...">chk-destructure-definition</a> name <a class="sym-link system" href="history-management.html#def-corollary" data-sym="COROLLARY">corollary</a> ctx wrld state)
            (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (hyps equiv fn <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a> <a class="sym-link system" href="basis-b.html#def-body" data-sym="BODY">body</a> ttree)
              (<a class="sym-link system" href="defuns.html#def-destructure-definition" data-sym="DESTRUCTURE-DEFINITION">destructure-definition</a> <a class="sym-link system" href="history-management.html#def-corollary" data-sym="COROLLARY">corollary</a> nil nil wrld nil)
              (declare (ignore hyps equiv ttree))
              (<a class="sym-link system" href="basis-b.html#def-er-let_2A" data-sym="ER-LET*">er-let*</a> ((clique (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a> <span class="keyword">:clique</span> seen) (cdr (<a class="sym-link system" href="axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a> <span class="keyword">:clique</span> seen)))
                       ((ffnnamep fn <a class="sym-link system" href="basis-b.html#def-body" data-sym="BODY">body</a>) (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> fn))
                       (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> nil)))) (controller-alist (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a> <span class="keyword">:controller-alist</span> seen) (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (cdr (<a class="sym-link system" href="axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a> <span class="keyword">:controller-alist</span> seen))))
                      ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> clique) (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil))
                      ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> (cdr clique)) (<a class="sym-link local-def" href="#def-guess-controller-alist-for-definition-rule" data-sym="GUESS-CONTROLLER-ALIST-FOR-DEFINITION-RULE" title="(defun guess-controller-alist-for-definition-rule
       (names formals body ctx wrld state)
  (let ((t-machine
         (termination-machine nil nil names formals body nil nil
                              (default-ruler-extenders wrld))))
...">guess-controller-alist-for-definition-rule</a> clique
                          <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>
                          <a class="sym-link system" href="basis-b.html#def-body" data-sym="BODY">body</a>
                          ctx
                          wrld
                          state))
                      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                          ctx
                          <span class="string">"We are unable to guess a :CONTROLLER-ALIST for a ~
                            :DEFINITION rule if the :CLIQUE contains more ~
                            than one function symbol.  Therefore, you must ~
                            supply a :CONTROLLER-ALIST entry for ~x0."</span>
                          name)))))
                (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link local-def" href="#def-controller-alistp" data-sym="CONTROLLER-ALISTP" title="(defun controller-alistp (clique alist wrld)
  (cond ((atom alist) (cond ((null alist) (null clique)) (t nil)))
        ((and (consp (car alist)) (symbolp (caar alist))
              (member-eq (caar alist) clique) (boolean-listp (cdar alist))
              (= (length (cdar alist)) (arity (caar alist) wrld)))
...">controller-alistp</a> clique controller-alist wrld) (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (<a class="sym-link local-def" href="#def-alist-to-keyword-alist" data-sym="ALIST-TO-KEYWORD-ALIST" title="(defun alist-to-keyword-alist (alist ans)
  (declare (xargs :guard (alistp alist)))
  (cond ((endp alist) ans)
        (t
         (alist-to-keyword-alist (cdr alist)">alist-to-keyword-alist</a> seen
                        (<a class="sym-link system" href="axioms.html#def-append" data-sym="APPEND">append</a> (if (<a class="sym-link system" href="axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a> <span class="keyword">:clique</span> seen)
                            nil
                            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:clique</span> clique))
                          (if (<a class="sym-link system" href="axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a> <span class="keyword">:controller-alist</span> seen)
                            nil
                            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:controller-alist</span> controller-alist))))))
                  (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                      ctx
                      <span class="string">"The :CONTROLLER-ALIST of a :DEFINITION must be an alist ~
                   that maps each function symbol in the :CLIQUE to a list of ~
                   t&#39;s and nil&#39;s whose length is equal to the arity of the ~
                   function symbol. ~x0 is an inappropriate controller alist ~
                   for the ~@1.  See :DOC definition."</span>
                      controller-alist
                      (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> clique) <span class="string">"empty clique"</span>)
                        (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">":CLIQUE consisting of ~&amp;0"</span> clique))))))))))
        ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> token <span class="keyword">:induction</span>) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a> <span class="keyword">:pattern</span> seen)) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                ctx
                <span class="string">"The :INDUCTION rule class requires the specification of a ~
                  :PATTERN term and ~x0 contains no such entry."</span>
                x))
            ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a> <span class="keyword">:scheme</span> seen)) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                ctx
                <span class="string">"The :INDUCTION rule class requires the specification of a ~
                  :SCHEME term and ~x0 contains no such entry."</span>
                x))
            (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((pat-term (cdr (<a class="sym-link system" href="axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a> <span class="keyword">:pattern</span> seen))) (cond-term (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (cdr (<a class="sym-link system" href="axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a> <span class="keyword">:condition</span> seen)) <a class="sym-link system" href="axioms.html#def-_2At_2A" data-sym="*T*">*t*</a>))
                  (scheme-term (cdr (<a class="sym-link system" href="axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a> <span class="keyword">:scheme</span> seen)))
                  (pat-vars (<a class="sym-link system" href="axioms.html#def-all-vars" data-sym="ALL-VARS">all-vars</a> pat-term))
                  (cond-vars (<a class="sym-link system" href="axioms.html#def-all-vars" data-sym="ALL-VARS">all-vars</a> cond-term))
                  (scheme-vars (<a class="sym-link system" href="axioms.html#def-all-vars" data-sym="ALL-VARS">all-vars</a> scheme-term)))
                (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-subsetp-eq" data-sym="SUBSETP-EQ">subsetp-eq</a> cond-vars pat-vars)) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                      ctx
                      <span class="string">"The variables occurring freely in the :CONDITION term ~
                        of an :INDUCTION rule class must be a subset of those ~
                        occurring freely in the :PATTERN term.  But the ~
                        condition term ~x0 mentions ~&amp;1, which ~#1~[does~/do~] ~
                        not occur in the pattern term ~x2.  Thus the ~
                        :INDUCTION rule class specified for ~x3 is illegal."</span>
                      cond-term
                      (<a class="sym-link system" href="axioms.html#def-reverse" data-sym="REVERSE">reverse</a> (<a class="sym-link system" href="axioms.html#def-set-difference-eq" data-sym="SET-DIFFERENCE-EQ">set-difference-eq</a> cond-vars pat-vars))
                      pat-term
                      name))
                  ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-subsetp-eq" data-sym="SUBSETP-EQ">subsetp-eq</a> scheme-vars pat-vars)) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                      ctx
                      <span class="string">"The variables occurring freely in the :SCHEME term ~
                        of an :INDUCTION rule class must be a subset of those ~
                        occurring freely in the :PATTERN term.  But the ~
                        scheme term ~x0 mentions ~&amp;1, which ~#1~[does~/do~] ~
                        not occur in the pattern term ~x2.  Thus the ~
                        :INDUCTION rule class specified for ~x3 is illegal."</span>
                      scheme-term
                      (<a class="sym-link system" href="axioms.html#def-reverse" data-sym="REVERSE">reverse</a> (<a class="sym-link system" href="axioms.html#def-set-difference-eq" data-sym="SET-DIFFERENCE-EQ">set-difference-eq</a> scheme-vars pat-vars))
                      pat-term
                      name))
                  ((<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> 'state cond-vars) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                      ctx
                      <span class="string">"The variable STATE may not appear in the :CONDITION ~
                        term of an :INDUCTION rule because we have not ~
                        implemented proper handling of STATE in SYNTAXP ~
                        hypotheses of such rules.  But the condition ~x0 ~
                        specified for ~x1 mentions STATE."</span>
                      cond-term
                      name))
                  ((<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> 'mfc cond-vars) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                      ctx
                      <span class="string">"The variable MFC may not appear in the :CONDITION ~
                        term of an :INDUCTION rule because we have not ~
                        implemented proper handling of MFC in SYNTAXP ~
                        hypotheses of such rules.  But the condition ~x0 ~
                        specified for ~x1 mentions MFC."</span>
                      cond-term
                      name))
                  ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link local-def" href="#def-induction-rule-synp-sanityp" data-sym="INDUCTION-RULE-SYNP-SANITYP" title="(defun induction-rule-synp-sanityp (lst)
  (cond ((endp lst) t)
        ((and (nvariablep (car lst)) (not (fquotep (car lst)))
              (eq (ffn-symb (car lst)) &#39;synp))
         (induction-rule-synp-sanityp (cdr lst)))
...">induction-rule-synp-sanityp</a> (flatten-ands-in-lit cond-term))) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                      ctx
                      <span class="string">"The term ~x0 in the :CONDITION field of the ~
                        :INDUCTION rule ~x1 violates the restriction that all ~
                        occurrences of the SYNTAXP (aka SYNP) construct must ~
                        be as top-level conjuncts of the term and not buried ~
                        within other terms."</span>
                      cond-term
                      name))
                  ((<a class="sym-link system" href="axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a> <span class="keyword">:condition</span> seen) (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (<a class="sym-link local-def" href="#def-alist-to-keyword-alist" data-sym="ALIST-TO-KEYWORD-ALIST" title="(defun alist-to-keyword-alist (alist ans)
  (declare (xargs :guard (alistp alist)))
  (cond ((endp alist) ans)
        (t
         (alist-to-keyword-alist (cdr alist)">alist-to-keyword-alist</a> seen nil)))
                  (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (<a class="sym-link local-def" href="#def-alist-to-keyword-alist" data-sym="ALIST-TO-KEYWORD-ALIST" title="(defun alist-to-keyword-alist (alist ans)
  (declare (xargs :guard (alistp alist)))
  (cond ((endp alist) ans)
        (t
         (alist-to-keyword-alist (cdr alist)">alist-to-keyword-alist</a> seen (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:condition</span> <a class="sym-link system" href="axioms.html#def-_2At_2A" data-sym="*T*">*t*</a>)))))))))
        (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (<a class="sym-link local-def" href="#def-alist-to-keyword-alist" data-sym="ALIST-TO-KEYWORD-ALIST" title="(defun alist-to-keyword-alist (alist ans)
  (declare (xargs :guard (alistp alist)))
  (cond ((endp alist) ans)
        (t
         (alist-to-keyword-alist (cdr alist)">alist-to-keyword-alist</a> seen nil)))))
    ((<a class="sym-link system" href="axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a> (car alist) seen) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
        ctx
        <span class="string">"Rule classes may not contain duplicate keys, but ~x0 occurs ~
         twice in ~x1.  See :DOC rule-classes."</span>
        (car alist)
        x))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((assumep (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-ld-skip-proofsp" data-sym="LD-SKIP-PROOFSP">ld-skip-proofsp</a> state) '<a class="sym-link system" href="axioms.html#def-include-book" data-sym="INCLUDE-BOOK">include-book</a>)
             (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-ld-skip-proofsp" data-sym="LD-SKIP-PROOFSP">ld-skip-proofsp</a> state) 'include-book-with-locals)
             (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-ld-skip-proofsp" data-sym="LD-SKIP-PROOFSP">ld-skip-proofsp</a> state) 'initialize-acl2))))
        (<a class="sym-link system" href="basis-b.html#def-er-let_2A" data-sym="ER-LET*">er-let*</a> ((val (<a class="sym-link system" href="axioms.html#def-case" data-sym="CASE">case</a> (car alist)
               (<span class="keyword">:corollary</span> (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> <a class="sym-link system" href="history-management.html#def-corollary" data-sym="COROLLARY">corollary</a>))
               (<span class="keyword">:hints</span> (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a> <span class="keyword">:instructions</span> seen) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                       ctx
                       <span class="string">"It is illegal to supply both :INSTRUCTIONS ~
                         and :HINTS in a rule class.  Hence, ~x0 is ~
                         illegal.  See :DOC rule-classes."</span>
                       x))
                   (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="basis-b.html#def-er-let_2A" data-sym="ER-LET*">er-let*</a> ((hints (if assumep
                            (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil)
                            (<a class="sym-link system" href="history-management.html#def-translate-hints_2B" data-sym="TRANSLATE-HINTS+">translate-hints+</a> (cons <span class="string">"Corollary of "</span> name)
                              (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist)
                              (<a class="sym-link system" href="axioms.html#def-default-hints" data-sym="DEFAULT-HINTS">default-hints</a> wrld)
                              ctx
                              wrld
                              state))))
                       (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> hints)))))
               (<span class="keyword">:instructions</span> (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a> <span class="keyword">:hints</span> seen) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                       ctx
                       <span class="string">"It is illegal to supply both :HINTS and ~
                          :INSTRUCTIONS in a rule class.  Hence, ~x0 is ~
                          illegal.  See :DOC rule-classes."</span>
                       x))
                   (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="basis-b.html#def-er-let_2A" data-sym="ER-LET*">er-let*</a> ((instrs (if assumep
                            (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil)
                            (<a class="sym-link local-def" href="#def-translate-instructions" data-sym="TRANSLATE-INSTRUCTIONS" title="(defun translate-instructions (instructions ctx state)
  (if (eq instructions t)
      (value t)
      (er-progn (chk-primitive-instruction-listp instructions ctx state)
                (value instructions))))">translate-instructions</a> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist) ctx state))))
                       (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> instrs)))))
               (<span class="keyword">:otf-flg</span> (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist)))
               (<span class="keyword">:trigger-fns</span> (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> token <span class="keyword">:forward-chaining</span>) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                       ctx
                       <span class="string">"The :FORWARD-CHAINING rule class may specify ~
                          :TRIGGER-TERMS but may not specify :TRIGGER-FNS.  ~
                          Thus, ~x0 is illegal.  See :DOC forward-chaining ~
                          and :DOC meta."</span>
                       x))
                   ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> token <span class="keyword">:meta</span>)) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                       ctx
                       <span class="string">":TRIGGER-FNS can only be specified for :META rules. ~
                           Thus, ~x0 is illegal.  See :DOC ~@1."</span>
                       x
                       (symbol-name token)))
                   ((<a class="sym-link system" href="axioms.html#def-atom" data-sym="ATOM">atom</a> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist)) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                       ctx
                       <span class="string">"The :TRIGGER-FNS component of a :META rule class ~
                          must be a non-empty true-list of function symbols.  ~
                          But ~x0 is empty.  See :DOC meta."</span>
                       (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist)))
                   ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (car (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist)) 'quote) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                       ctx
                       <span class="string">"The :TRIGGER-FNS component of a :META rule class ~
                          must be a non-empty true-list of function symbols.  ~
                          You specified ~x0 for this component, but the list ~
                          is not to be quoted.~@1  See :DOC meta."</span>
                       (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist)
                       (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (consp (cdr (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist)))
                            (<a class="sym-link system" href="axioms.html#def-symbol-listp" data-sym="SYMBOL-LISTP">symbol-listp</a> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist)))
                            (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> (<a class="sym-link system" href="axioms.html#def-cddr" data-sym="CDDR">cddr</a> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist)))) (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"  Perhaps you intended ~x0 instead."</span>
                             (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist))))
                         (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <span class="string">""</span>))))
                   (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (flg lst)
                       (<a class="sym-link local-def" href="#def-eliminate-macro-aliases" data-sym="ELIMINATE-MACRO-ALIASES" title="(defun eliminate-macro-aliases (lst macro-aliases wrld)
  (cond
   ((atom lst)
    (cond ((null lst) (mv nil nil)) (t (mv :error &quot;does not end in nil&quot;))))
   (t
...">eliminate-macro-aliases</a> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist)
                         (<a class="sym-link system" href="axioms.html#def-macro-aliases" data-sym="MACRO-ALIASES">macro-aliases</a> wrld)
                         wrld)
                       (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> flg <span class="keyword">:error</span>) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                             ctx
                             <span class="string">"The :TRIGGER-FNS component of a ~
                                           :META rule class must be a ~
                                           non-empty true-list of function ~
                                           symbols, but ~x0 ~@1.  See :DOC ~
                                           meta."</span>
                             (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist)
                             lst))
                         (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> lst)))))))
               (<span class="keyword">:trigger-terms</span> (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> token <span class="keyword">:meta</span>) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                       ctx
                       <span class="string">"The :META rule class may specify :TRIGGER-FNS but ~
                          may not specify :TRIGGER-TERMS.  Thus, ~x0 is ~
                          illegal.  See :DOC meta and :DOC forward-chaining."</span>
                       x))
                   ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-true-listp" data-sym="TRUE-LISTP">true-listp</a> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist))) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                       ctx
                       <span class="string">"The :TRIGGER-TERMS must be a list true list.  Thus ~
                          the rule class ~x0 proposed for ~x1 is illegal."</span>
                       x
                       name))
                   ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> token <span class="keyword">:linear</span>) (<a class="sym-link system" href="basis-b.html#def-er-let_2A" data-sym="ER-LET*">er-let*</a> ((terms (translate-term-lst (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> ctx wrld state)))
                       (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> terms) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                             ctx
                             <span class="string">"For the :LINEAR rule ~x0 you specified an empty ~
                              list of :TRIGGER-TERMS.  This is illegal.  If ~
                              you wish to cause ACL2 to compute the trigger ~
                              terms, omit the :TRIGGER-TERMS field entirely.  ~
                              See :DOC linear."</span>
                             name))
                         (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((terms (remove-guard-holders-lst terms wrld)))
                             (<a class="sym-link system" href="axioms.html#def-er-progn" data-sym="ER-PROGN">er-progn</a> (<a class="sym-link local-def" href="#def-chk-legal-linear-trigger-terms" data-sym="CHK-LEGAL-LINEAR-TRIGGER-TERMS" title="(defun chk-legal-linear-trigger-terms (terms lst name ctx state)
  (cond ((null terms) (value nil))
        ((and (nvariablep (car terms)) (not (fquotep (car terms)))
              (not (flambda-applicationp (car terms)))
              (not (eq (ffn-symb (car terms)) &#39;if)))
...">chk-legal-linear-trigger-terms</a> terms
                                 (possibly-clean-up-dirty-lambda-objects-in-pairs (unprettyify (remove-guard-holders <a class="sym-link system" href="history-management.html#def-corollary" data-sym="COROLLARY">corollary</a> wrld))
                                   wrld
                                   (remove-guard-holders-lamp))
                                 name
                                 ctx
                                 state)
                               (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> terms)))))))
                   ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> token <span class="keyword">:forward-chaining</span>) (<a class="sym-link system" href="basis-b.html#def-er-let_2A" data-sym="ER-LET*">er-let*</a> ((terms (translate-term-lst (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> ctx wrld state)))
                       (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> terms) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                             ctx
                             <span class="string">":FORWARD-CHAINING rules must have at least ~
                                   one trigger.  Your rule class, ~x0, ~
                                   specifies none.  See :DOC forward-chaining."</span>
                             x))
                         (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (remove-guard-holders-lst terms wrld))))))
                   (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                       ctx
                       <span class="string">":TRIGGER-TERMS can only be specified for ~
                          :FORWARD-CHAINING and :LINEAR rules.  Thus, ~x0 is ~
                          illegal.  See :DOC ~@1."</span>
                       x
                       (symbol-name token)))))
               (<span class="keyword">:well-formedness-guarantee</span> (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> token <span class="keyword">:meta</span>))
                      (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> token <span class="keyword">:clause-processor</span>))) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                       ctx
                       <span class="string">"Only :META and :CLAUSE-PROCESSOR rule classes are ~
                          permitted to have a :WELL-FORMEDNESS-GUARANTEE ~
                          component.  Thus, ~x0 is illegal.  See :DOC ~
                          well-formedness-guarantee."</span>
                       x))
                   (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="basis-b.html#def-er-let_2A" data-sym="ER-LET*">er-let*</a> ((well-formedness-guarantee (<a class="sym-link local-def" href="#def-translate-well-formedness-guarantee" data-sym="TRANSLATE-WELL-FORMEDNESS-GUARANTEE" title="(defun translate-well-formedness-guarantee
       (token x name corollary ctx wrld state)
  (cond
   ((not
     (or (and (symbolp x) (formula x nil wrld))
...">translate-well-formedness-guarantee</a> token
                            (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist)
                            name
                            <a class="sym-link system" href="history-management.html#def-corollary" data-sym="COROLLARY">corollary</a>
                            ctx
                            wrld
                            state)))
                       (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((thm-name1 (<a class="sym-link system" href="axioms.html#def-nth" data-sym="NTH">nth</a> <span class="number">2</span> (car well-formedness-guarantee))) (hyp-fn (<a class="sym-link system" href="axioms.html#def-nth" data-sym="NTH">nth</a> <span class="number">3</span> (car well-formedness-guarantee)))
                           (thm-name2 (<a class="sym-link system" href="axioms.html#def-nth" data-sym="NTH">nth</a> <span class="number">4</span> (car well-formedness-guarantee)))
                           (alist (cdr well-formedness-guarantee))
                           (bad-arity-info (<a class="sym-link system" href="rewrite.html#def-collect-bad-fn-arity-info" data-sym="COLLECT-BAD-FN-ARITY-INFO">collect-bad-fn-arity-info</a> alist wrld nil nil))
                           (bad-arity-alist (car bad-arity-info))
                           (non-logic-fns (cdr bad-arity-info))
                           (<a class="sym-link system" href="rewrite.html#def-forbidden-fns" data-sym="FORBIDDEN-FNS">forbidden-fns</a> (<a class="sym-link system" href="axioms.html#def-intersection-eq" data-sym="INTERSECTION-EQ">intersection-eq</a> (<a class="sym-link system" href="axioms.html#def-strip-cars" data-sym="STRIP-CARS">strip-cars</a> alist)
                               (<a class="sym-link system" href="rewrite.html#def-forbidden-fns" data-sym="FORBIDDEN-FNS">forbidden-fns</a> wrld state))))
                         (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (bad-arity-alist (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                               ctx
                               <span class="string">"~x0 rule ~x1 is inadmissible because its ~
                                  :WELL-FORMEDNESS-GUARANTEE ~
                                  theorem~#2~[~/s~], named ~&amp;2, ~
                                  ~#2~[is~/are~] incompatible with the ~
                                  current world.  In particular, the ~
                                  ~#2~[theorem makes~/theorems make~] invalid ~
                                  assumptions about the arities of one or ~
                                  more function symbols possibly introduced ~
                                  by the ~s3.  The following alist ~
                                  shows assumed arities that are different ~
                                  from the actual arities of those symbols in ~
                                  the current world: ~X45."</span>
                               token
                               name
                               (if hyp-fn
                                 (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> thm-name1 thm-name2)
                                 (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> thm-name1))
                               (if (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> token <span class="keyword">:meta</span>)
                                 <span class="string">"metafunction"</span>
                                 <span class="string">"clause-processor"</span>)
                               bad-arity-alist
                               nil))
                           (non-logic-fns (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                               ctx
                               <span class="string">"~x0 rule ~x1 is inadmissible because its ~
                                  :WELL-FORMEDNESS-GUARANTEE ~
                                  theorem~#2~[~/s~], named ~&amp;2, ~
                                  ~#2~[is~/are~] incompatible with the ~
                                  current world.  In particular, the ~
                                  ~#2~[theorem assumes~/theorems assume~] ~
                                  that relevant functions are in :logic mode, ~
                                  but :program mode function symbol~#3~[ ~&amp;3 ~
                                  is~/s ~&amp;3 are~] perhaps introduced by the ~
                                  ~s4, ~&amp;3."</span>
                               token
                               name
                               (if hyp-fn
                                 (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> thm-name1 thm-name2)
                                 (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> thm-name1))
                               non-logic-fns
                               (if (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> token <span class="keyword">:meta</span>)
                                 <span class="string">"metafunction"</span>
                                 <span class="string">"clause-processor"</span>)))
                           (<a class="sym-link system" href="rewrite.html#def-forbidden-fns" data-sym="FORBIDDEN-FNS">forbidden-fns</a> (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                               ctx
                               <span class="string">"~x0 rule ~x1 is inadmissible because its ~
                                  well-formedness theorem~#2~[~/s~], named ~
                                  ~&amp;2, ~#2~[is~/are~] incompatible with the ~
                                  current world.  In particular, judging by ~
                                  the ARITIES-OKP ~
                                  ~#2~[hypothesis~/hypotheses~] of the ~
                                  theorem~#2~[~/s~], the specified ~s3 may ~
                                  introduce one or more functions that are ~
                                  currently forbidden, to wit ~&amp;4.  See :DOC ~
                                  set-skip-meta-termp-checks and :DOC ~
                                  well-formedness-guarantee."</span>
                               token
                               name
                               (if hyp-fn
                                 (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> thm-name1 thm-name2)
                                 (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> thm-name1))
                               (if (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> token <span class="keyword">:meta</span>)
                                 <span class="string">"metafunction"</span>
                                 <span class="string">"clause-processor"</span>)
                               <a class="sym-link system" href="rewrite.html#def-forbidden-fns" data-sym="FORBIDDEN-FNS">forbidden-fns</a>))
                           (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> well-formedness-guarantee))))))))
               (<span class="keyword">:typed-term</span> (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> token <span class="keyword">:type-prescription</span>)) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                       ctx
                       <span class="string">"Only :TYPE-PRESCRIPTION rule classes are permitted ~
                          to have a :TYPED-TERM component.  Thus, ~x0 is ~
                          illegal.  See :DOC ~@1."</span>
                       x
                       (symbol-name token)))
                   (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="basis-b.html#def-er-let_2A" data-sym="ER-LET*">er-let*</a> ((term (translate (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> ctx wrld state)))
                       (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> term)))))
               (<span class="keyword">:backchain-limit-lst</span> (let ((hyps-concl-pairs (<a class="sym-link system" href="axioms.html#def-case" data-sym="CASE">case</a> token
                        (<span class="keyword">:meta</span> (<a class="sym-link system" href="basis-a.html#def-case-match" data-sym="CASE-MATCH">case-match</a> <a class="sym-link system" href="history-management.html#def-corollary" data-sym="COROLLARY">corollary</a>
                            (('<a class="sym-link system" href="axioms.html#def-implies" data-sym="IMPLIES">implies</a> hyp concl) (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (cons (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> hyp) concl)))
                            (&amp; (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (cons nil <a class="sym-link system" href="history-management.html#def-corollary" data-sym="COROLLARY">corollary</a>)))))
                        (<span class="keyword">:type-prescription</span> (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (hyps concl)
                            (<a class="sym-link system" href="defuns.html#def-unprettyify-tp" data-sym="UNPRETTYIFY-TP">unprettyify-tp</a> (remove-guard-holders <a class="sym-link system" href="history-management.html#def-corollary" data-sym="COROLLARY">corollary</a> wrld))
                            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (cons hyps concl))))
                        (otherwise (possibly-clean-up-dirty-lambda-objects-in-pairs (unprettyify (remove-guard-holders <a class="sym-link system" href="history-management.html#def-corollary" data-sym="COROLLARY">corollary</a> wrld))
                            wrld
                            (remove-guard-holders-lamp))))))
                   (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> token
                          '(<span class="keyword">:rewrite</span> <span class="keyword">:meta</span> <span class="keyword">:linear</span> <span class="keyword">:type-prescription</span>))) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                         ctx
                         <span class="string">"The rule-class ~@0 is not permitted to have a ~
                            :BACKCHAIN-LIMIT-LST component.  Hence, ~x1 is ~
                            illegal.  See :DOC ~@0."</span>
                         (symbol-name token)
                         x))
                     ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (equal (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> (<a class="sym-link system" href="axioms.html#def-remove-duplicates-equal" data-sym="REMOVE-DUPLICATES-EQUAL">remove-duplicates-equal</a> (<a class="sym-link system" href="axioms.html#def-strip-cars" data-sym="STRIP-CARS">strip-cars</a> hyps-concl-pairs)))
                          <span class="number">1</span>)) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                         ctx
                         <span class="string">"We do not allow you to specify the ~
                            :BACKCHAIN-LIMIT-LST when more than one rule is ~
                            produced from the corollary and at least two such ~
                            rules have different hypothesis lists.  You ~
                            should split the corollary of ~x0 into parts and ~
                            specify a limit for each."</span>
                         x))
                     (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((hyps (car (car hyps-concl-pairs))))
                         (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> hyps) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                               ctx
                               <span class="string">"There are no hypotheses, so ~
                                :BACKCHAIN-LIMIT-LST makes no sense.  See ~
                                :DOC RULE-CLASSES."</span>))
                           ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist)) (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil))
                           ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (integerp (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist)) (<a class="sym-link system" href="axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> <span class="number">0</span> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist))) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> token <span class="keyword">:meta</span>) (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist)))
                               (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (<a class="sym-link system" href="axioms.html#def-make-list" data-sym="MAKE-LIST">make-list</a> (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> hyps) <span class="keyword">:initial-element</span> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist))))))
                           ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> token <span class="keyword">:meta</span>) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                               ctx
                               <span class="string">"The legal values of :BACKCHAIN-LIMIT-LST for ~
                                rules of class :META are nil or a ~
                                non-negative integer.  See :DOC RULE-CLASSES."</span>))
                           ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link local-def" href="#def-backchain-limit-listp" data-sym="BACKCHAIN-LIMIT-LISTP" title="(defun backchain-limit-listp (lst)
  (cond ((atom lst) (equal lst nil))
        ((or (null (car lst)) (natp (car lst)))
         (backchain-limit-listp (cdr lst)))
        (t nil)))">backchain-limit-listp</a> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist))
                              (<a class="sym-link system" href="axioms.html#def-eql" data-sym="EQL">eql</a> (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist)) (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> hyps))) (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist)))
                           (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                               ctx
                               <span class="string">"The legal values of :BACKCHAIN-LIMIT-LST are ~
                                nil, a non-negative integer, or a list of ~
                                these of the same length as the flattened ~
                                hypotheses.  In this case the list of ~
                                flattened hypotheses, of length ~x0, is:~%  ~
                                ~x1.~%See :DOC RULE-CLASSES."</span>
                               (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> hyps)
                               hyps))))))))
               (<span class="keyword">:match-free</span> (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> token '(<span class="keyword">:rewrite</span> <span class="keyword">:linear</span> <span class="keyword">:forward-chaining</span>))) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                       ctx
                       <span class="string">"Only :REWRITE, :FORWARD-CHAINING, and :LINEAR rule ~
                          classes are permitted to have a :MATCH-FREE ~
                          component.  Thus, ~x0 is illegal.  See :DOC ~
                          free-variables."</span>
                       x))
                   ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist) '(<span class="keyword">:all</span> <span class="keyword">:once</span>))) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                       ctx
                       <span class="string">"The legal values of :MATCH-FREE are :ALL and :ONCE. ~
                          Thus, ~x0 is illegal.  See :DOC free-variables."</span>
                       x))
                   (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist)))))
               (<span class="keyword">:clique</span> (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> token <span class="keyword">:definition</span>)) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                       ctx
                       <span class="string">"Only :DEFINITION rule classes are permitted to have ~
                          a :CLIQUE component.  Thus, ~x0 is illegal.  See ~
                          :DOC ~@1."</span>
                       x
                       (symbol-name token)))
                   (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-er-progn" data-sym="ER-PROGN">er-progn</a> (<a class="sym-link local-def" href="#def-chk-destructure-definition" data-sym="CHK-DESTRUCTURE-DEFINITION" title="(defun chk-destructure-definition (name term ctx wrld state)
  (mv-let (hyps equiv fn args body ttree)
          (destructure-definition term nil nil wrld nil)
          (declare (ignore hyps equiv args body ttree))
          (cond
...">chk-destructure-definition</a> name <a class="sym-link system" href="history-management.html#def-corollary" data-sym="COROLLARY">corollary</a> ctx wrld state)
                       (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (hyps equiv fn <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a> <a class="sym-link system" href="basis-b.html#def-body" data-sym="BODY">body</a> ttree)
                         (<a class="sym-link system" href="defuns.html#def-destructure-definition" data-sym="DESTRUCTURE-DEFINITION">destructure-definition</a> <a class="sym-link system" href="history-management.html#def-corollary" data-sym="COROLLARY">corollary</a> nil nil wrld nil)
                         (declare (ignore hyps equiv <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a> ttree))
                         (let ((clique (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist)) nil)
                                ((<a class="sym-link system" href="axioms.html#def-atom" data-sym="ATOM">atom</a> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist)) (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist)))
                                (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist)))))
                           (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-all-function-symbolps" data-sym="ALL-FUNCTION-SYMBOLPS">all-function-symbolps</a> clique wrld)
                                  (<a class="sym-link system" href="axioms.html#def-no-duplicatesp-equal" data-sym="NO-DUPLICATESP-EQUAL">no-duplicatesp-equal</a> clique))) (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (flg lst)
                                 (<a class="sym-link local-def" href="#def-eliminate-macro-aliases" data-sym="ELIMINATE-MACRO-ALIASES" title="(defun eliminate-macro-aliases (lst macro-aliases wrld)
  (cond
   ((atom lst)
    (cond ((null lst) (mv nil nil)) (t (mv :error &quot;does not end in nil&quot;))))
   (t
...">eliminate-macro-aliases</a> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist)
                                   (<a class="sym-link system" href="axioms.html#def-macro-aliases" data-sym="MACRO-ALIASES">macro-aliases</a> wrld)
                                   wrld)
                                 (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                                   ctx
                                   <span class="string">"The :CLIQUE of a :DEFINITION must be ~
                                        a truelist of function symbols ~
                                        (containing no duplications) or else ~
                                        a single function symbol.  ~x0 is ~
                                        neither.~@1  See :DOC definition."</span>
                                   (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist)
                                   (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> flg <span class="keyword">:error</span>) <span class="string">""</span>)
                                     (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"  Note that it is ~
                                                      illegal to use ~v0 ~
                                                      here, because we ~
                                                      require function ~
                                                      symbols, not merely ~
                                                      macros that are aliases ~
                                                      for function symbols ~
                                                      (see :DOC ~
                                                      macro-aliases-table)."</span>
                                         (<a class="sym-link system" href="axioms.html#def-set-difference-equal" data-sym="SET-DIFFERENCE-EQUAL">set-difference-equal</a> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist) lst)))))))
                             ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (ffnnamep fn <a class="sym-link system" href="basis-b.html#def-body" data-sym="BODY">body</a>) (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> fn clique))) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                                 ctx
                                 <span class="string">"The :CLIQUE of a :DEFINITION must ~
                                       contain the defined function, ~x0, if ~
                                       the body calls the function.  See :DOC ~
                                       definition."</span>
                                 fn))
                             ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> clique (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> fn clique))) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                                 ctx
                                 <span class="string">"The :CLIQUE of a :DEFINITION, when ~
                                       non-nil, must contain the function ~
                                       defined.  ~x0 does not contain ~x1.  ~
                                       See :DOC definition."</span>
                                 (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist)
                                 fn))
                             (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> clique)))))))))
               (<span class="keyword">:controller-alist</span> (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> token <span class="keyword">:definition</span>)) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                       ctx
                       <span class="string">"Only :DEFINITION rule classes are permitted to have ~
                          a :CONTROLLER-ALIST component.  Thus, ~x0 is ~
                          illegal.  See :DOC ~@1."</span>
                       x
                       (symbol-name token)))
                   (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist)))))
               (<span class="keyword">:install-body</span> (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> token <span class="keyword">:definition</span>)) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                       ctx
                       <span class="string">"Only :DEFINITION rule classes are permitted to have ~
                          an :INSTALL-BODY component.  Thus, ~x0 is illegal.  ~
                          See :DOC ~@1."</span>
                       x
                       (symbol-name token)))
                   ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist) '(<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> nil <span class="keyword">:normalize</span>))) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                       ctx
                       <span class="string">"The :INSTALL-BODY component of a  :DEFINITION rule ~
                          class must have one of the values ~v0.  Thus, ~x1 ~
                          is illegal.  See :DOC ~@2."</span>
                       '(<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> nil <span class="keyword">:normalize</span>)
                       (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist)
                       (symbol-name token)))
                   (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist)))))
               (<span class="keyword">:loop-stopper</span> (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> token <span class="keyword">:rewrite</span>) (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> token <span class="keyword">:rewrite-quoted-constant</span>))) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                       ctx
                       <span class="string">"Only :REWRITE and :REWRITE-QUOTED-CONSTANT rule ~
                          classes are permitted to have a :LOOP-STOPPER ~
                          component.  Thus, ~x0 is illegal.  See :DOC ~
                          rule-classes."</span>
                       x))
                   (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (flg loop-stopper-alist)
                       (<a class="sym-link local-def" href="#def-fix-loop-stopper-alist" data-sym="FIX-LOOP-STOPPER-ALIST" title="(defun fix-loop-stopper-alist (x macro-aliases wrld)
  (cond ((null x) (mv nil nil)) ((atom x) (mv :error nil))
        ((not
          (and (true-listp (car x)) (&lt;= 2 (length (car x)))
               (legal-variablep (caar x)) (legal-variablep (cadar x))
...">fix-loop-stopper-alist</a> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist)
                         (<a class="sym-link system" href="axioms.html#def-macro-aliases" data-sym="MACRO-ALIASES">macro-aliases</a> wrld)
                         wrld)
                       (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> flg <span class="keyword">:error</span>) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                             ctx
                             <span class="string">"The :LOOP-STOPPER for a rule class must be a ~
                               list whose elements have the form (variable1 ~
                               variable2 . fns), where variable1 and ~
                               variable2 are distinct variables and fns is a ~
                               list of function symbols (or macro-aliases for ~
                               function symbols), but ~x0 does not have this ~
                               form.  Thus, ~x1 is illegal.  See :DOC ~
                               rule-classes."</span>
                             (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist)
                             x))
                         ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-subsetp-eq" data-sym="SUBSETP-EQ">subsetp-eq</a> (<a class="sym-link system" href="axioms.html#def-union-eq" data-sym="UNION-EQ">union-eq</a> (<a class="sym-link system" href="axioms.html#def-strip-cars" data-sym="STRIP-CARS">strip-cars</a> loop-stopper-alist)
                                (<a class="sym-link system" href="axioms.html#def-strip-cadrs" data-sym="STRIP-CADRS">strip-cadrs</a> loop-stopper-alist))
                              (<a class="sym-link system" href="axioms.html#def-all-vars" data-sym="ALL-VARS">all-vars</a> <a class="sym-link system" href="history-management.html#def-corollary" data-sym="COROLLARY">corollary</a>))) (let ((bad-vars (<a class="sym-link system" href="axioms.html#def-set-difference-eq" data-sym="SET-DIFFERENCE-EQ">set-difference-eq</a> (<a class="sym-link system" href="axioms.html#def-union-eq" data-sym="UNION-EQ">union-eq</a> (<a class="sym-link system" href="axioms.html#def-strip-cars" data-sym="STRIP-CARS">strip-cars</a> loop-stopper-alist)
                                    (<a class="sym-link system" href="axioms.html#def-strip-cadrs" data-sym="STRIP-CADRS">strip-cadrs</a> loop-stopper-alist))
                                  (<a class="sym-link system" href="axioms.html#def-all-vars" data-sym="ALL-VARS">all-vars</a> <a class="sym-link system" href="history-management.html#def-corollary" data-sym="COROLLARY">corollary</a>))))
                             (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                               ctx
                               <span class="string">"The variables from elements (variable1 ~
                                 variable2 . fns) of a :LOOP-STOPPER ~
                                 specified for a rule class must all appear ~
                                 in the :COROLLARY theorem for that rule ~
                                 class.  However, the ~#0~[variables ~&amp;1 ~
                                 do~/variable ~&amp;1 does~] not appear in ~p2.  ~
                                 Thus, ~x3 is illegal.  See :DOC rule-classes."</span>
                               (if (cdr bad-vars)
                                 <span class="number">0</span>
                                 <span class="number">1</span>)
                               bad-vars
                               (untranslate <a class="sym-link system" href="history-management.html#def-corollary" data-sym="COROLLARY">corollary</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> wrld)
                               x)))
                         (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> loop-stopper-alist)))))))
               (<span class="keyword">:pattern</span> (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> token <span class="keyword">:induction</span>)) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                       ctx
                       <span class="string">"Only :INDUCTION rule classes are permitted to have ~
                          a :PATTERN component.  Thus, ~x0 is illegal.  See ~
                          :DOC ~@1."</span>
                       x
                       (symbol-name token)))
                   (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="basis-b.html#def-er-let_2A" data-sym="ER-LET*">er-let*</a> ((term (translate (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> ctx wrld state)))
                       (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> term)
                            (<a class="sym-link system" href="axioms.html#def-fquotep" data-sym="FQUOTEP">fquotep</a> term)
                            (<a class="sym-link system" href="basis-b.html#def-flambdap" data-sym="FLAMBDAP">flambdap</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term))) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                             ctx
                             <span class="string">"The :PATTERN term of an :INDUCTION rule class ~
                                may not be a variable symbol, constant, or ~
                                the application of a lambda expression.  Thus ~
                                ~x0 is illegal.  See :DOC induction."</span>
                             x))
                         (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> term)))))))
               (<span class="keyword">:condition</span> (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> token <span class="keyword">:induction</span>)) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                       ctx
                       <span class="string">"Only :INDUCTION rule classes are permitted to have ~
                          a :CONDITION component.  Thus, ~x0 is illegal.  See ~
                          :DOC ~@1."</span>
                       x
                       (symbol-name token)))
                   (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="basis-b.html#def-er-let_2A" data-sym="ER-LET*">er-let*</a> ((term (translate (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> ctx wrld state)))
                       (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> term)))))
               (<span class="keyword">:scheme</span> (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> token <span class="keyword">:induction</span>)) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                       ctx
                       <span class="string">"Only :INDUCTION rule classes are permitted to have ~
                          a :SCHEME component.  Thus, ~x0 is illegal.  See ~
                          :DOC ~@1."</span>
                       x
                       (symbol-name token)))
                   (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="basis-b.html#def-er-let_2A" data-sym="ER-LET*">er-let*</a> ((term (translate (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> ctx wrld state)))
                       (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> term)
                            (<a class="sym-link system" href="axioms.html#def-fquotep" data-sym="FQUOTEP">fquotep</a> term)
                            (<a class="sym-link system" href="basis-b.html#def-flambdap" data-sym="FLAMBDAP">flambdap</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term))) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                             ctx
                             <span class="string">"The :SCHEME term of an :INDUCTION rule class ~
                                may not be a variable symbol, constant, or ~
                                the application of a lambda expression.  Thus ~
                                ~x0 is illegal.  See :DOC induction."</span>
                             x))
                         ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term) 'induction-machine nil wrld)
                              (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term) 'induction-rules nil wrld))) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                             ctx
                             <span class="string">"The function symbol of the :SCHEME term of an ~
                                :INDUCTION rule class must, at least ~
                                sometimes, suggest an induction and ~x0 does ~
                                not.  See :DOC induction."</span>
                             (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term)))
                         (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> term)))))))
               (<span class="keyword">:type-set</span> (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> token <span class="keyword">:type-set-inverter</span>)) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                       ctx
                       <span class="string">"Only :TYPE-SET-INVERTER rule classes are permitted ~
                          to have a :TYPE-SET component.  Thus ~x0 is ~
                          illegal.  See :DOC type-set-inverter."</span>
                       x))
                   ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (integerp (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist))
                        (<a class="sym-link system" href="axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> *min-type-set* (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist))
                        (<a class="sym-link system" href="axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist) *max-type-set*))) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                       ctx
                       <span class="string">"The :TYPE-SET of a :TYPE-SET-INVERTER rule must be ~
                          a type-set, i.e., an integer between ~x0 and ~x1, ~
                          inclusive.  ~x2 is not a type-set.  See :DOC ~
                          type-set and :DOC type-set-inverter."</span>
                       *min-type-set*
                       *max-type-set*
                       (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist)))
                   (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist)))))
               (otherwise (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                   ctx
                   <span class="string">"The key ~x0 is unrecognized as a rule class ~
                        component.  See :DOC rule-classes."</span>
                   (car alist))))))
          (<a class="sym-link local-def" href="#def-translate-rule-class-alist" data-sym="TRANSLATE-RULE-CLASS-ALIST" title="(defun translate-rule-class-alist
       (token alist seen corollary name x ctx ens wrld state)
  (cond
   ((null alist)
    (cond
...">translate-rule-class-alist</a> token
            (<a class="sym-link system" href="axioms.html#def-cddr" data-sym="CDDR">cddr</a> alist)
            (cons (cons (car alist) val) seen)
            <a class="sym-link system" href="history-management.html#def-corollary" data-sym="COROLLARY">corollary</a>
            name
            x
            ctx
            ens
            wrld
            state))))))</pre>
  </div>

<div class="form-block function" id="def-translate-rule-class1" data-defines="TRANSLATE-RULE-CLASS1" data-references="CONS,TRANSLATE-RULE-CLASS-ALIST,ALIST,TRANSLATE,CDR,ASSOC-KEYWORD,CADR,VALUE,COROLLARY,ER-LET*,T,SOFT,ER,CAR,MEMBER-EQ,NOT,COND,QUOTE,RULE-TOKENS,LET,STATE,WRLD,ENS,CTX,X,NAME,TFLG,CLASS,DEFUN" data-used-by="TRANSLATE-RULE-CLASS" data-part-name="TRANSLATE-RULE-CLASS1" data-part-args="STATE,WRLD,ENS,CTX,X,NAME,TFLG,CLASS" data-part-body="CONS,ENS,X,NAME,TRANSLATE-RULE-CLASS-ALIST,ALIST,STATE,WRLD,TRANSLATE,CDR,ASSOC-KEYWORD,CADR,VALUE,TFLG,COROLLARY,ER-LET*,T,CTX,SOFT,ER,CLASS,CAR,MEMBER-EQ,NOT,COND,QUOTE,RULE-TOKENS,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="TRANSLATE-RULE-CLASS1">translate-rule-class1</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-translate-rule-class1" data-sym="TRANSLATE-RULE-CLASS1" title="(defun translate-rule-class1 (class tflg name x ctx ens wrld state)
  (let ((rule-tokens
         &#39;(:rewrite :rewrite-quoted-constant :linear :well-founded-relation
           :built-in-clause :compound-recognizer :elim :generalize :meta
           :forward-chaining :equivalence :refinement :congruence
...">translate-rule-class1</a>
  (class tflg name x ctx ens wrld state)
  (let ((rule-tokens '(<span class="keyword">:rewrite</span> <span class="keyword">:rewrite-quoted-constant</span> <span class="keyword">:linear</span> <span class="keyword">:well-founded-relation</span> <span class="keyword">:built-in-clause</span> <span class="keyword">:compound-recognizer</span> <span class="keyword">:elim</span> <span class="keyword">:generalize</span> <span class="keyword">:meta</span> <span class="keyword">:forward-chaining</span> <span class="keyword">:equivalence</span> <span class="keyword">:refinement</span> <span class="keyword">:congruence</span> <span class="keyword">:type-prescription</span> <span class="keyword">:definition</span> <span class="keyword">:induction</span> <span class="keyword">:type-set-inverter</span> <span class="keyword">:clause-processor</span> <span class="keyword">:tau-system</span>)))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> (car class) rule-tokens)) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
          ctx
          <span class="string">"~x0 is not one of the known rule tokens, ~&amp;1.  See :DOC ~
         rule-classes."</span>
          (car class)
          rule-tokens))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="basis-b.html#def-er-let_2A" data-sym="ER-LET*">er-let*</a> ((<a class="sym-link system" href="history-management.html#def-corollary" data-sym="COROLLARY">corollary</a> (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (tflg (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:corollary</span> (cdr class)))))
               (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (translate (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:corollary</span> (cdr class)))
                   <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
                   <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
                   <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
                   ctx
                   wrld
                   state)))) (alist (<a class="sym-link local-def" href="#def-translate-rule-class-alist" data-sym="TRANSLATE-RULE-CLASS-ALIST" title="(defun translate-rule-class-alist
       (token alist seen corollary name x ctx ens wrld state)
  (cond
   ((null alist)
    (cond
...">translate-rule-class-alist</a> (car class)
                (cdr class)
                nil
                <a class="sym-link system" href="history-management.html#def-corollary" data-sym="COROLLARY">corollary</a>
                name
                x
                ctx
                ens
                wrld
                state)))
          (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (cons (car class) alist)))))))</pre>
  </div>

<div class="form-block function" id="def-reason-for-non-keyword-value-listp" data-defines="REASON-FOR-NON-KEYWORD-VALUE-LISTP" data-references="CDDR,CDR,CAR,KEYWORDP,NOT,MSG,T,QUOTE,HARD,ER,NULL,ATOM,COND,X,DEFUN" data-used-by="TRANSLATE-RULE-CLASS" data-part-name="REASON-FOR-NON-KEYWORD-VALUE-LISTP" data-part-args="X" data-part-body="CDDR,CDR,CAR,KEYWORDP,NOT,MSG,T,REASON-FOR-NON-KEYWORD-VALUE-LISTP,QUOTE,HARD,ER,NULL,X,ATOM,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="REASON-FOR-NON-KEYWORD-VALUE-LISTP">reason-for-non-keyword-value-listp</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-reason-for-non-keyword-value-listp" data-sym="REASON-FOR-NON-KEYWORD-VALUE-LISTP" title="(defun reason-for-non-keyword-value-listp (x)
  (cond
   ((atom x)
    (cond
     ((null x)
...">reason-for-non-keyword-value-listp</a>
  (x)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-atom" data-sym="ATOM">atom</a> x) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> x) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> hard
            '<a class="sym-link local-def" href="#def-reason-for-non-keyword-value-listp" data-sym="REASON-FOR-NON-KEYWORD-VALUE-LISTP" title="(defun reason-for-non-keyword-value-listp (x)
  (cond
   ((atom x)
    (cond
     ((null x)
...">reason-for-non-keyword-value-listp</a>
            <span class="string">"Uh oh, it was a keyword-value-listp after all!"</span>))
        (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"there is a non-nil final cdr of ~x0"</span> x))))
    ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-keywordp" data-sym="KEYWORDP">keywordp</a> (car x))) (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"we found a non-keyword, ~x0, where a keyword was expected"</span>
        (car x)))
    ((<a class="sym-link system" href="axioms.html#def-atom" data-sym="ATOM">atom</a> (cdr x)) (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"the value corresponding to the final key of ~x0 was missing"</span>
        (car x)))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-reason-for-non-keyword-value-listp" data-sym="REASON-FOR-NON-KEYWORD-VALUE-LISTP" title="(defun reason-for-non-keyword-value-listp (x)
  (cond
   ((atom x)
    (cond
     ((null x)
...">reason-for-non-keyword-value-listp</a> (<a class="sym-link system" href="axioms.html#def-cddr" data-sym="CDDR">cddr</a> x)))))</pre>
  </div>

<div class="form-block function" id="def-translate-rule-class" data-defines="TRANSLATE-RULE-CLASS" data-references="REASON-FOR-NON-KEYWORD-VALUE-LISTP,SOFT,ER,NOT,QUASIQUOTE,T,ASSOC-KEYWORD,LIST,SYMBOLP,TRANSLATE-RULE-CLASS1,CDR,KEYWORD-VALUE-LISTP,CAR,CONSP,AND,KEYWORDP,OR,COND,ER-STRING,LET,STATE,WRLD,ENS,CTX,THM,X,NAME,DEFUN" data-used-by="TRANSLATE-RULE-CLASSES1" data-part-name="TRANSLATE-RULE-CLASS" data-part-args="STATE,WRLD,ENS,CTX,THM,X,NAME" data-part-body="REASON-FOR-NON-KEYWORD-VALUE-LISTP,SOFT,ER,STATE,WRLD,ENS,CTX,NAME,NOT,QUASIQUOTE,T,ASSOC-KEYWORD,THM,LIST,SYMBOLP,TRANSLATE-RULE-CLASS1,CDR,KEYWORD-VALUE-LISTP,CAR,CONSP,AND,X,KEYWORDP,OR,COND,ER-STRING,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="TRANSLATE-RULE-CLASS">translate-rule-class</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-translate-rule-class" data-sym="TRANSLATE-RULE-CLASS" title="(defun translate-rule-class (name x thm ctx ens wrld state)
  (let ((er-string
         &quot;The object ~x0 is not a rule class.  Rule classes are either certain ~
          keywords, e.g., :REWRITE, or lists of the form (:rule-token :key1 ~
          val1 :key2 val2 ...), as in (:REWRITE :COROLLARY term :HINTS ...).  ~
...">translate-rule-class</a>
  (name x <a class="sym-link local-def" href="#def-thm" data-sym="THM" title="(defmacro thm (&amp;whole event-form term &amp;key instructions hints otf-flg)
  `(with-output :off summary :stack :push
                (make-event
                 (er-progn
                  (with-output :stack :pop
...">thm</a> ctx ens wrld state)
  (let ((er-string <span class="string">"The object ~x0 is not a rule class.  Rule classes are either certain ~
          keywords, e.g., :REWRITE, or lists of the form (:rule-token :key1 ~
          val1 :key2 val2 ...), as in (:REWRITE :COROLLARY term :HINTS ...).  ~
          In your case, ~@1.  See :DOC rule-classes."</span>))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-keywordp" data-sym="KEYWORDP">keywordp</a> x)
         (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (consp x)
           (<a class="sym-link system" href="axioms.html#def-keywordp" data-sym="KEYWORDP">keywordp</a> (car x))
           (<a class="sym-link system" href="axioms.html#def-keyword-value-listp" data-sym="KEYWORD-VALUE-LISTP">keyword-value-listp</a> (cdr x)))) (<a class="sym-link local-def" href="#def-translate-rule-class1" data-sym="TRANSLATE-RULE-CLASS1" title="(defun translate-rule-class1 (class tflg name x ctx ens wrld state)
  (let ((rule-tokens
         &#39;(:rewrite :rewrite-quoted-constant :linear :well-founded-relation
           :built-in-clause :compound-recognizer :elim :generalize :meta
           :forward-chaining :equivalence :refinement :congruence
...">translate-rule-class1</a> (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((symbolp x) (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> x <span class="keyword">:corollary</span> <a class="sym-link local-def" href="#def-thm" data-sym="THM" title="(defmacro thm (&amp;whole event-form term &amp;key instructions hints otf-flg)
  `(with-output :off summary :stack :push
                (make-event
                 (er-progn
                  (with-output :stack :pop
...">thm</a>))
            ((<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:corollary</span> (cdr x)) x)
            (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> `(,(CAR X) <span class="keyword">:corollary</span> ,THM ,@(CDR X))))
          (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (symbolp x) (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:corollary</span> (cdr x))))
          name
          x
          ctx
          ens
          wrld
          state))
      ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (consp x)) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
          ctx
          er-string
          x
          <span class="string">"the rule class is a non-keyword atom"</span>))
      ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-keywordp" data-sym="KEYWORDP">keywordp</a> (car x))) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
          ctx
          er-string
          x
          <span class="string">"the rule class starts with the non-keyword ~x2"</span>
          (car x)))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
          ctx
          er-string
          x
          (<a class="sym-link local-def" href="#def-reason-for-non-keyword-value-listp" data-sym="REASON-FOR-NON-KEYWORD-VALUE-LISTP" title="(defun reason-for-non-keyword-value-listp (x)
  (cond
   ((atom x)
    (cond
     ((null x)
...">reason-for-non-keyword-value-listp</a> (cdr x)))))))</pre>
  </div>

<div class="form-block function" id="def-translate-rule-classes1" data-defines="TRANSLATE-RULE-CLASSES1" data-references="CONS,CDR,RST,CAR,TRANSLATE-RULE-CLASS,CLASS,ER-LET*,SOFT,ER,T,VALUE,NULL,ATOM,COND,STATE,WRLD,ENS,CTX,THM,CLASSES,NAME,DEFUN" data-used-by="TRANSLATE-RULE-CLASSES" data-part-name="TRANSLATE-RULE-CLASSES1" data-part-args="STATE,WRLD,ENS,CTX,THM,CLASSES,NAME" data-part-body="CONS,CDR,TRANSLATE-RULE-CLASSES1,RST,STATE,WRLD,ENS,THM,CAR,NAME,TRANSLATE-RULE-CLASS,CLASS,ER-LET*,CTX,SOFT,ER,T,VALUE,NULL,CLASSES,ATOM,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="TRANSLATE-RULE-CLASSES1">translate-rule-classes1</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-translate-rule-classes1" data-sym="TRANSLATE-RULE-CLASSES1" title="(defun translate-rule-classes1 (name classes thm ctx ens wrld state)
  (cond
   ((atom classes)
    (cond ((null classes) (value nil))
          (t
...">translate-rule-classes1</a>
  (name classes <a class="sym-link local-def" href="#def-thm" data-sym="THM" title="(defmacro thm (&amp;whole event-form term &amp;key instructions hints otf-flg)
  `(with-output :off summary :stack :push
                (make-event
                 (er-progn
                  (with-output :stack :pop
...">thm</a> ctx ens wrld state)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-atom" data-sym="ATOM">atom</a> classes) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> classes) (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil))
        (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
            ctx
            <span class="string">"The list of rule classes is supposed to a true ~
                  list, but your list ends in ~x0.  See :DOC ~
                  rule-classes."</span>
            classes))))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="basis-b.html#def-er-let_2A" data-sym="ER-LET*">er-let*</a> ((class (<a class="sym-link local-def" href="#def-translate-rule-class" data-sym="TRANSLATE-RULE-CLASS" title="(defun translate-rule-class (name x thm ctx ens wrld state)
  (let ((er-string
         &quot;The object ~x0 is not a rule class.  Rule classes are either certain ~
          keywords, e.g., :REWRITE, or lists of the form (:rule-token :key1 ~
          val1 :key2 val2 ...), as in (:REWRITE :COROLLARY term :HINTS ...).  ~
...">translate-rule-class</a> name
             (car classes)
             <a class="sym-link local-def" href="#def-thm" data-sym="THM" title="(defmacro thm (&amp;whole event-form term &amp;key instructions hints otf-flg)
  `(with-output :off summary :stack :push
                (make-event
                 (er-progn
                  (with-output :stack :pop
...">thm</a>
             ctx
             ens
             wrld
             state)) (rst (<a class="sym-link local-def" href="#def-translate-rule-classes1" data-sym="TRANSLATE-RULE-CLASSES1" title="(defun translate-rule-classes1 (name classes thm ctx ens wrld state)
  (cond
   ((atom classes)
    (cond ((null classes) (value nil))
          (t
...">translate-rule-classes1</a> name
              (cdr classes)
              <a class="sym-link local-def" href="#def-thm" data-sym="THM" title="(defmacro thm (&amp;whole event-form term &amp;key instructions hints otf-flg)
  `(with-output :off summary :stack :push
                (make-event
                 (er-progn
                  (with-output :stack :pop
...">thm</a>
              ctx
              ens
              wrld
              state)))
        (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (cons class rst))))))</pre>
  </div>

<div class="form-block function" id="def-translate-rule-classes" data-defines="TRANSLATE-RULE-CLASSES" data-references="T,LIST,ATOM,NULL,COND,TRANSLATE-RULE-CLASSES1,STATE,WRLD,ENS,CTX,THM,CLASSES,NAME,DEFUN" data-used-by="DEFTHM-FN1,DEFAXIOM-FN" data-part-name="TRANSLATE-RULE-CLASSES" data-part-args="STATE,WRLD,ENS,CTX,THM,CLASSES,NAME" data-part-body="STATE,WRLD,ENS,CTX,THM,T,LIST,ATOM,CLASSES,NULL,COND,NAME,TRANSLATE-RULE-CLASSES1" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="TRANSLATE-RULE-CLASSES">translate-rule-classes</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-translate-rule-classes" data-sym="TRANSLATE-RULE-CLASSES" title="(defun translate-rule-classes (name classes thm ctx ens wrld state)
  (translate-rule-classes1 name
                           (cond ((null classes) nil)
                                 ((atom classes) (list classes)) (t classes))
                           thm ctx ens wrld state))">translate-rule-classes</a>
  (name classes <a class="sym-link local-def" href="#def-thm" data-sym="THM" title="(defmacro thm (&amp;whole event-form term &amp;key instructions hints otf-flg)
  `(with-output :off summary :stack :push
                (make-event
                 (er-progn
                  (with-output :stack :pop
...">thm</a> ctx ens wrld state)
  (<a class="sym-link local-def" href="#def-translate-rule-classes1" data-sym="TRANSLATE-RULE-CLASSES1" title="(defun translate-rule-classes1 (name classes thm ctx ens wrld state)
  (cond
   ((atom classes)
    (cond ((null classes) (value nil))
          (t
...">translate-rule-classes1</a> name
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> classes) nil)
      ((<a class="sym-link system" href="axioms.html#def-atom" data-sym="ATOM">atom</a> classes) (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> classes))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> classes))
    <a class="sym-link local-def" href="#def-thm" data-sym="THM" title="(defmacro thm (&amp;whole event-form term &amp;key instructions hints otf-flg)
  `(with-output :off summary :stack :push
                (make-event
                 (er-progn
                  (with-output :stack :pop
...">thm</a>
    ctx
    ens
    wrld
    state))</pre>
  </div>

<div class="form-block function" id="def-chk-acceptable-x-rule" data-defines="CHK-ACCEPTABLE-X-RULE" data-references="HARD,ER,VALUE,OTHERWISE,CHK-ACCEPTABLE-TAU-RULE,CHK-ACCEPTABLE-TYPE-SET-INVERTER-RULE,CHK-ACCEPTABLE-INDUCTION-RULE,CHK-ACCEPTABLE-DEFINITION-RULE,CHK-ACCEPTABLE-TYPE-PRESCRIPTION-RULE,CHK-ACCEPTABLE-FORWARD-CHAINING-RULE,CHK-ACCEPTABLE-CLAUSE-PROCESSOR-RULE,CHK-ACCEPTABLE-META-RULE,CHK-ACCEPTABLE-REFINEMENT-RULE,CHK-ACCEPTABLE-CONGRUENCE-RULE,CHK-ACCEPTABLE-EQUIVALENCE-RULE,CHK-ACCEPTABLE-GENERALIZE-RULE,CHK-ACCEPTABLE-ELIM-RULE,CHK-ACCEPTABLE-COMPOUND-RECOGNIZER-RULE,CHK-ACCEPTABLE-BUILT-IN-CLAUSE-RULE,CHK-ACCEPTABLE-WELL-FOUNDED-RELATION-RULE,CHK-ACCEPTABLE-LINEAR-RULE,T,CHK-ACCEPTABLE-REWRITE-RULE,CAR,CASE,CDR,ASSOC-KEYWORD,CADR,TERM,LET,STATE,WRLD,ENS,CTX,CLASS,NAME,DEFUN" data-used-by="CHK-ACCEPTABLE-X-RULES" data-part-name="CHK-ACCEPTABLE-X-RULE" data-part-args="STATE,WRLD,ENS,CTX,CLASS,NAME" data-part-body="HARD,ER,VALUE,OTHERWISE,CHK-ACCEPTABLE-TAU-RULE,CHK-ACCEPTABLE-TYPE-SET-INVERTER-RULE,CHK-ACCEPTABLE-INDUCTION-RULE,CHK-ACCEPTABLE-DEFINITION-RULE,CHK-ACCEPTABLE-TYPE-PRESCRIPTION-RULE,CHK-ACCEPTABLE-FORWARD-CHAINING-RULE,CHK-ACCEPTABLE-CLAUSE-PROCESSOR-RULE,CHK-ACCEPTABLE-META-RULE,CHK-ACCEPTABLE-REFINEMENT-RULE,CHK-ACCEPTABLE-CONGRUENCE-RULE,CHK-ACCEPTABLE-EQUIVALENCE-RULE,CHK-ACCEPTABLE-GENERALIZE-RULE,CHK-ACCEPTABLE-ELIM-RULE,CHK-ACCEPTABLE-COMPOUND-RECOGNIZER-RULE,CHK-ACCEPTABLE-BUILT-IN-CLAUSE-RULE,CHK-ACCEPTABLE-WELL-FOUNDED-RELATION-RULE,CHK-ACCEPTABLE-LINEAR-RULE,T,STATE,WRLD,ENS,CTX,NAME,CHK-ACCEPTABLE-REWRITE-RULE,CAR,CASE,CLASS,CDR,ASSOC-KEYWORD,CADR,TERM,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CHK-ACCEPTABLE-X-RULE">chk-acceptable-x-rule</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-chk-acceptable-x-rule" data-sym="CHK-ACCEPTABLE-X-RULE" title="(defun chk-acceptable-x-rule (name class ctx ens wrld state)
  (let ((term (cadr (assoc-keyword :corollary (cdr class)))))
    (case (car class)
      (:rewrite
       (chk-acceptable-rewrite-rule nil name
...">chk-acceptable-x-rule</a>
  (name class ctx ens wrld state)
  (let ((term (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:corollary</span> (cdr class)))))
    (<a class="sym-link system" href="axioms.html#def-case" data-sym="CASE">case</a> (car class)
      (<span class="keyword">:rewrite</span> (<a class="sym-link local-def" href="#def-chk-acceptable-rewrite-rule" data-sym="CHK-ACCEPTABLE-REWRITE-RULE" title="(defun chk-acceptable-rewrite-rule
       (qc-flg name match-free loop-stopper term ctx ens wrld state)
  (chk-acceptable-rewrite-rule1 qc-flg name match-free loop-stopper
                                (possibly-clean-up-dirty-lambda-objects-in-pairs
                                 (unprettyify (remove-guard-holders term wrld))
...">chk-acceptable-rewrite-rule</a> nil
          name
          (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:match-free</span> (cdr class)))
          (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:loop-stopper</span> (cdr class)))
          term
          ctx
          ens
          wrld
          state))
      (<span class="keyword">:rewrite-quoted-constant</span> (<a class="sym-link local-def" href="#def-chk-acceptable-rewrite-rule" data-sym="CHK-ACCEPTABLE-REWRITE-RULE" title="(defun chk-acceptable-rewrite-rule
       (qc-flg name match-free loop-stopper term ctx ens wrld state)
  (chk-acceptable-rewrite-rule1 qc-flg name match-free loop-stopper
                                (possibly-clean-up-dirty-lambda-objects-in-pairs
                                 (unprettyify (remove-guard-holders term wrld))
...">chk-acceptable-rewrite-rule</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
          name
          (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:match-free</span> (cdr class)))
          (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:loop-stopper</span> (cdr class)))
          term
          ctx
          ens
          wrld
          state))
      (<span class="keyword">:linear</span> (<a class="sym-link local-def" href="#def-chk-acceptable-linear-rule" data-sym="CHK-ACCEPTABLE-LINEAR-RULE" title="(defun chk-acceptable-linear-rule
       (name match-free trigger-terms term ctx ens wrld state)
  (chk-acceptable-linear-rule1 name match-free trigger-terms
                               (possibly-clean-up-dirty-lambda-objects-in-pairs
                                (unprettyify (remove-guard-holders term wrld))
...">chk-acceptable-linear-rule</a> name
          (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:match-free</span> (cdr class)))
          (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:trigger-terms</span> (cdr class)))
          term
          ctx
          ens
          wrld
          state))
      (<span class="keyword">:well-founded-relation</span> (<a class="sym-link local-def" href="#def-chk-acceptable-well-founded-relation-rule" data-sym="CHK-ACCEPTABLE-WELL-FOUNDED-RELATION-RULE" title="(defun chk-acceptable-well-founded-relation-rule (name term ctx wrld state)
  (mv-let (mp rel) (destructure-well-founded-relation-rule term)
          (cond
           ((null mp)
            (er soft ctx
...">chk-acceptable-well-founded-relation-rule</a> name
          term
          ctx
          wrld
          state))
      (<span class="keyword">:built-in-clause</span> (<a class="sym-link local-def" href="#def-chk-acceptable-built-in-clause-rule" data-sym="CHK-ACCEPTABLE-BUILT-IN-CLAUSE-RULE" title="(defun chk-acceptable-built-in-clause-rule (name term ctx wrld state)
  (chk-acceptable-built-in-clause-rule1 name (unprettyify term) ctx wrld state))">chk-acceptable-built-in-clause-rule</a> name
          term
          ctx
          wrld
          state))
      (<span class="keyword">:compound-recognizer</span> (<a class="sym-link local-def" href="#def-chk-acceptable-compound-recognizer-rule" data-sym="CHK-ACCEPTABLE-COMPOUND-RECOGNIZER-RULE" title="(defun chk-acceptable-compound-recognizer-rule (name term ctx ens wrld state)
  (mv-let (parity fn var term1) (destructure-compound-recognizer term)
          (cond
           ((null parity)
            (er soft ctx
...">chk-acceptable-compound-recognizer-rule</a> name
          term
          ctx
          ens
          wrld
          state))
      (<span class="keyword">:elim</span> (<a class="sym-link local-def" href="#def-chk-acceptable-elim-rule" data-sym="CHK-ACCEPTABLE-ELIM-RULE" title="(defun chk-acceptable-elim-rule (name term ctx wrld state)
  (let ((lst (unprettyify term)))
    (case-match lst
                (((&amp; equiv lhs rhs))
                 (cond
...">chk-acceptable-elim-rule</a> name term ctx wrld state))
      (<span class="keyword">:generalize</span> (<a class="sym-link local-def" href="#def-chk-acceptable-generalize-rule" data-sym="CHK-ACCEPTABLE-GENERALIZE-RULE" title="(defun chk-acceptable-generalize-rule (name term ctx wrld state)
  (declare (ignore name term ctx wrld))
  (value nil))">chk-acceptable-generalize-rule</a> name term ctx wrld state))
      (<span class="keyword">:equivalence</span> (<a class="sym-link local-def" href="#def-chk-acceptable-equivalence-rule" data-sym="CHK-ACCEPTABLE-EQUIVALENCE-RULE" title="(defun chk-acceptable-equivalence-rule (name term ctx wrld state)
  (let* ((act-clauses (shallow-clausify term))
         (fn (find-candidate-equivalence-relation act-clauses)))
    (cond
     ((null fn)
...">chk-acceptable-equivalence-rule</a> name term ctx wrld state))
      (<span class="keyword">:congruence</span> (<a class="sym-link local-def" href="#def-chk-acceptable-congruence-rule" data-sym="CHK-ACCEPTABLE-CONGRUENCE-RULE" title="(defun chk-acceptable-congruence-rule (name term ctx wrld state)
  (mv-let (flg x) (interpret-term-as-congruence-rule name term wrld)
          (cond ((not flg) (er soft ctx &quot;~@0&quot; x))
                (t
                 (let ((fn (car x))
...">chk-acceptable-congruence-rule</a> name term ctx wrld state))
      (<span class="keyword">:refinement</span> (<a class="sym-link local-def" href="#def-chk-acceptable-refinement-rule" data-sym="CHK-ACCEPTABLE-REFINEMENT-RULE" title="(defun chk-acceptable-refinement-rule (name term ctx wrld state)
  (let ((str
         &quot;~x0 does not have the form of a :REFINEMENT rule.  See :DOC refinement.&quot;))
    (case-match term
                ((&#39;implies (equiv1 x y) (equiv2 x y))
...">chk-acceptable-refinement-rule</a> name term ctx wrld state))
      (<span class="keyword">:meta</span> (<a class="sym-link local-def" href="#def-chk-acceptable-meta-rule" data-sym="CHK-ACCEPTABLE-META-RULE" title="(defun chk-acceptable-meta-rule (name trigger-fns term ctx ens wrld state)
  (er-progn
   (chk-non-local-in-non-trivial-encapsulate &quot;Rules of class :META&quot; t ctx wrld
                                             state)
   (cond
...">chk-acceptable-meta-rule</a> name
          (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:trigger-fns</span> (cdr class)))
          term
          ctx
          ens
          wrld
          state))
      (<span class="keyword">:clause-processor</span> (<a class="sym-link local-def" href="#def-chk-acceptable-clause-processor-rule" data-sym="CHK-ACCEPTABLE-CLAUSE-PROCESSOR-RULE" title="(defun chk-acceptable-clause-processor-rule (name term ctx wrld state)
  (er-progn
   (chk-non-local-in-non-trivial-encapsulate &quot;Rules of class :CLAUSE-PROCESSOR&quot;
                                             t ctx wrld state)
   (let ((str
...">chk-acceptable-clause-processor-rule</a> name
          term
          ctx
          wrld
          state))
      (<span class="keyword">:forward-chaining</span> (<a class="sym-link local-def" href="#def-chk-acceptable-forward-chaining-rule" data-sym="CHK-ACCEPTABLE-FORWARD-CHAINING-RULE" title="(defun chk-acceptable-forward-chaining-rule
       (name match-free trigger-terms term ctx ens wrld state)
  (mv-let (hyps concls) (destructure-forward-chaining-term term wrld)
          (let ((hyps-vars (all-vars1-lst hyps nil))
                (concls-vars (all-vars1-lst concls nil)))
...">chk-acceptable-forward-chaining-rule</a> name
          (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:match-free</span> (cdr class)))
          (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:trigger-terms</span> (cdr class)))
          term
          ctx
          ens
          wrld
          state))
      (<span class="keyword">:type-prescription</span> (<a class="sym-link local-def" href="#def-chk-acceptable-type-prescription-rule" data-sym="CHK-ACCEPTABLE-TYPE-PRESCRIPTION-RULE" title="(defun chk-acceptable-type-prescription-rule
       (name typed-term term backchain-limit-lst ctx ens wrld state)
  (declare (ignore backchain-limit-lst))
  (mv-let (erp hyps concl ts vars ttree)
          (destructure-type-prescription name typed-term term ens wrld)
...">chk-acceptable-type-prescription-rule</a> name
          (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:typed-term</span> (cdr class)))
          term
          (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:backchain-limit-lst</span> (cdr class))
          ctx
          ens
          wrld
          state))
      (<span class="keyword">:definition</span> (<a class="sym-link local-def" href="#def-chk-acceptable-definition-rule" data-sym="CHK-ACCEPTABLE-DEFINITION-RULE" title="(defun chk-acceptable-definition-rule
       (name clique controller-alist install-body-tail term ctx ens wrld state)
  (mv-let (hyps equiv fn args body ttree)
          (destructure-definition term nil ens wrld nil)
          (cond
...">chk-acceptable-definition-rule</a> name
          (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:clique</span> (cdr class)))
          (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:controller-alist</span> (cdr class)))
          (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:install-body</span> (cdr class))
          term
          ctx
          ens
          wrld
          state))
      (<span class="keyword">:induction</span> (<a class="sym-link local-def" href="#def-chk-acceptable-induction-rule" data-sym="CHK-ACCEPTABLE-INDUCTION-RULE" title="(defun chk-acceptable-induction-rule (name term ctx wrld state)
  (declare (ignore name term ctx wrld))
  (value nil))">chk-acceptable-induction-rule</a> name term ctx wrld state))
      (<span class="keyword">:type-set-inverter</span> (<a class="sym-link local-def" href="#def-chk-acceptable-type-set-inverter-rule" data-sym="CHK-ACCEPTABLE-TYPE-SET-INVERTER-RULE" title="(defun chk-acceptable-type-set-inverter-rule (name ts term ctx ens wrld state)
  (let* ((vars (all-vars term)))
    (cond
     ((not
       (and (ffn-symb-p term &#39;equal) (equal vars &#39;(x))
...">chk-acceptable-type-set-inverter-rule</a> name
          (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:type-set</span> (cdr class)))
          term
          ctx
          ens
          wrld
          state))
      (<span class="keyword">:tau-system</span> (chk-acceptable-tau-rule name term ctx wrld state))
      (otherwise (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> hard
            ctx
            <span class="string">"Unrecognized rule class token ~x0 in CHK-ACCEPTABLE-X-RULE."</span>
            (car class)))))))</pre>
  </div>

<div class="form-block function" id="def-chk-acceptable-x-rules" data-defines="CHK-ACCEPTABLE-X-RULES" data-references="CONS-TAG-TREES,CDR,TTREE,CAR,CHK-ACCEPTABLE-X-RULE,TTREE1,ER-LET*,T,VALUE,NULL,COND,STATE,WRLD,ENS,CTX,CLASSES,NAME,DEFUN" data-used-by="CHK-ACCEPTABLE-RULES" data-part-name="CHK-ACCEPTABLE-X-RULES" data-part-args="STATE,WRLD,ENS,CTX,CLASSES,NAME" data-part-body="CONS-TAG-TREES,CDR,CHK-ACCEPTABLE-X-RULES,TTREE,STATE,WRLD,ENS,CTX,CAR,NAME,CHK-ACCEPTABLE-X-RULE,TTREE1,ER-LET*,T,VALUE,CLASSES,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CHK-ACCEPTABLE-X-RULES">chk-acceptable-x-rules</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-chk-acceptable-x-rules" data-sym="CHK-ACCEPTABLE-X-RULES" title="(defun chk-acceptable-x-rules (name classes ctx ens wrld state)
  (cond ((null classes) (value nil))
        (t
         (er-let*
          ((ttree1
...">chk-acceptable-x-rules</a>
  (name classes ctx ens wrld state)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> classes) (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="basis-b.html#def-er-let_2A" data-sym="ER-LET*">er-let*</a> ((ttree1 (<a class="sym-link local-def" href="#def-chk-acceptable-x-rule" data-sym="CHK-ACCEPTABLE-X-RULE" title="(defun chk-acceptable-x-rule (name class ctx ens wrld state)
  (let ((term (cadr (assoc-keyword :corollary (cdr class)))))
    (case (car class)
      (:rewrite
       (chk-acceptable-rewrite-rule nil name
...">chk-acceptable-x-rule</a> name
             (car classes)
             ctx
             ens
             wrld
             state)) (ttree (<a class="sym-link local-def" href="#def-chk-acceptable-x-rules" data-sym="CHK-ACCEPTABLE-X-RULES" title="(defun chk-acceptable-x-rules (name classes ctx ens wrld state)
  (cond ((null classes) (value nil))
        (t
         (er-let*
          ((ttree1
...">chk-acceptable-x-rules</a> name
              (cdr classes)
              ctx
              ens
              wrld
              state)))
        (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (cons-tag-trees ttree1 ttree))))))</pre>
  </div>

<div class="form-block function" id="def-collect-keys-eq" data-defines="COLLECT-KEYS-EQ" data-references="T,CDR,CAR,CONS,CAAR,MEMBER-EQ,ENDP,COND,ALIST,SYM-LIST,DEFUN" data-used-by="CHK-ACCEPTABLE-RULES" data-part-name="COLLECT-KEYS-EQ" data-part-args="ALIST,SYM-LIST" data-part-body="T,CDR,COLLECT-KEYS-EQ,CAR,CONS,SYM-LIST,CAAR,MEMBER-EQ,ALIST,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="COLLECT-KEYS-EQ">collect-keys-eq</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-collect-keys-eq" data-sym="COLLECT-KEYS-EQ" title="(defun collect-keys-eq (sym-list alist)
  (cond ((endp alist) nil)
        ((member-eq (caar alist) sym-list)
         (cons (car alist) (collect-keys-eq sym-list (cdr alist))))
        (t (collect-keys-eq sym-list (cdr alist)))))">collect-keys-eq</a>
  (sym-list alist)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> alist) nil)
    ((<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> alist) sym-list) (cons (car alist) (<a class="sym-link local-def" href="#def-collect-keys-eq" data-sym="COLLECT-KEYS-EQ" title="(defun collect-keys-eq (sym-list alist)
  (cond ((endp alist) nil)
        ((member-eq (caar alist) sym-list)
         (cons (car alist) (collect-keys-eq sym-list (cdr alist))))
        (t (collect-keys-eq sym-list (cdr alist)))))">collect-keys-eq</a> sym-list (cdr alist))))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-collect-keys-eq" data-sym="COLLECT-KEYS-EQ" title="(defun collect-keys-eq (sym-list alist)
  (cond ((endp alist) nil)
        ((member-eq (caar alist) sym-list)
         (cons (car alist) (collect-keys-eq sym-list (cdr alist))))
        (t (collect-keys-eq sym-list (cdr alist)))))">collect-keys-eq</a> sym-list (cdr alist)))))</pre>
  </div>

<div class="form-block function" id="def-chk-acceptable-rules" data-defines="CHK-ACCEPTABLE-RULES" data-references="CHK-ASSUMPTION-FREE-TTREE,ER-PROGN,CHK-ACCEPTABLE-X-RULES,TTREE1,ER-LET*,VALUE,NULL,T,COLLECT-KEYS-EQ,INCLUDE-BOOK-WITH-LOCALS,INCLUDE-BOOK,QUOTE,LD-SKIP-PROOFSP,EQ,OR,COND,LET,STATE,WRLD,ENS,CTX,CLASSES,NAME,DEFUN" data-used-by="DEFTHM-FN1,DEFAXIOM-FN" data-part-name="CHK-ACCEPTABLE-RULES" data-part-args="STATE,WRLD,ENS,CTX,CLASSES,NAME" data-part-body="CHK-ASSUMPTION-FREE-TTREE,ER-PROGN,WRLD,ENS,CTX,NAME,CHK-ACCEPTABLE-X-RULES,TTREE1,ER-LET*,VALUE,NULL,T,COLLECT-KEYS-EQ,INCLUDE-BOOK-WITH-LOCALS,INCLUDE-BOOK,QUOTE,STATE,LD-SKIP-PROOFSP,EQ,OR,COND,CLASSES,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CHK-ACCEPTABLE-RULES">chk-acceptable-rules</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-chk-acceptable-rules" data-sym="CHK-ACCEPTABLE-RULES" title="(defun chk-acceptable-rules (name classes ctx ens wrld state)
  (let ((classes
         (cond
          ((or (eq (ld-skip-proofsp state) &#39;include-book)
               (eq (ld-skip-proofsp state) &#39;include-book-with-locals))
...">chk-acceptable-rules</a>
  (name classes ctx ens wrld state)
  (let ((classes (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-ld-skip-proofsp" data-sym="LD-SKIP-PROOFSP">ld-skip-proofsp</a> state) '<a class="sym-link system" href="axioms.html#def-include-book" data-sym="INCLUDE-BOOK">include-book</a>)
            (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-ld-skip-proofsp" data-sym="LD-SKIP-PROOFSP">ld-skip-proofsp</a> state) 'include-book-with-locals)) (<a class="sym-link local-def" href="#def-collect-keys-eq" data-sym="COLLECT-KEYS-EQ" title="(defun collect-keys-eq (sym-list alist)
  (cond ((endp alist) nil)
        ((member-eq (caar alist) sym-list)
         (cons (car alist) (collect-keys-eq sym-list (cdr alist))))
        (t (collect-keys-eq sym-list (cdr alist)))))">collect-keys-eq</a> '(<span class="keyword">:meta</span> <span class="keyword">:clause-processor</span> <span class="keyword">:congruence</span>)
             classes))
         (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> classes))))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> classes) (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="basis-b.html#def-er-let_2A" data-sym="ER-LET*">er-let*</a> ((ttree1 (<a class="sym-link local-def" href="#def-chk-acceptable-x-rules" data-sym="CHK-ACCEPTABLE-X-RULES" title="(defun chk-acceptable-x-rules (name classes ctx ens wrld state)
  (cond ((null classes) (value nil))
        (t
         (er-let*
          ((ttree1
...">chk-acceptable-x-rules</a> name classes ctx ens wrld state)))
          (<a class="sym-link system" href="axioms.html#def-er-progn" data-sym="ER-PROGN">er-progn</a> (<a class="sym-link system" href="prove.html#def-chk-assumption-free-ttree" data-sym="CHK-ASSUMPTION-FREE-TTREE">chk-assumption-free-ttree</a> ttree1 ctx state)
            (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> ttree1)))))))</pre>
  </div>

<div class="form-block function" id="def-add-x-rule" data-defines="ADD-X-RULE" data-references="QUOTE,HARD,ER,OTHERWISE,ADD-TYPE-SET-INVERTER-RULE,ADD-INDUCTION-RULE,IF,PAIR,ADD-DEFINITION-RULE,ADD-TYPE-PRESCRIPTION-RULE,ADD-FORWARD-CHAINING-RULE,BASE-SYMBOL,ADD-CLAUSE-PROCESSOR-RULE,ADD-META-RULE,ADD-CONGRUENCE-RULE,ADD-REFINEMENT-RULE,ADD-EQUIVALENCE-RULE,ADD-GENERALIZE-RULE,ADD-ELIM-RULE,ADD-COMPOUND-RECOGNIZER-RULE,ADD-BUILT-IN-CLAUSE-RULE,ADD-WELL-FOUNDED-RELATION-RULE,ADD-LINEAR-RULE,T,ADD-REWRITE-RULE,CAR,CASE,CDR,ASSOC-KEYWORD,CADR,TERM,LET,STATE,WRLD,ENS,CLASS,NUME,RUNE,DEFUN" data-used-by="ADD-RULES1" data-part-name="ADD-X-RULE" data-part-args="STATE,WRLD,ENS,CLASS,NUME,RUNE" data-part-body="ADD-X-RULE,QUOTE,HARD,ER,OTHERWISE,ADD-TYPE-SET-INVERTER-RULE,ADD-INDUCTION-RULE,IF,PAIR,ADD-DEFINITION-RULE,ADD-TYPE-PRESCRIPTION-RULE,ADD-FORWARD-CHAINING-RULE,BASE-SYMBOL,ADD-CLAUSE-PROCESSOR-RULE,ADD-META-RULE,ADD-CONGRUENCE-RULE,ADD-REFINEMENT-RULE,ADD-EQUIVALENCE-RULE,ADD-GENERALIZE-RULE,ADD-ELIM-RULE,ADD-COMPOUND-RECOGNIZER-RULE,ADD-BUILT-IN-CLAUSE-RULE,ADD-WELL-FOUNDED-RELATION-RULE,STATE,ADD-LINEAR-RULE,T,WRLD,ENS,NUME,RUNE,ADD-REWRITE-RULE,CAR,CASE,CLASS,CDR,ASSOC-KEYWORD,CADR,TERM,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ADD-X-RULE">add-x-rule</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-add-x-rule" data-sym="ADD-X-RULE" title="(defun add-x-rule (rune nume class ens wrld state)
  (let ((term (cadr (assoc-keyword :corollary (cdr class)))))
    (case (car class)
      (:rewrite
       (add-rewrite-rule nil rune nume
...">add-x-rule</a>
  (rune nume class ens wrld state)
  (let ((term (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:corollary</span> (cdr class)))))
    (<a class="sym-link system" href="axioms.html#def-case" data-sym="CASE">case</a> (car class)
      (<span class="keyword">:rewrite</span> (<a class="sym-link local-def" href="#def-add-rewrite-rule" data-sym="ADD-REWRITE-RULE" title="(defun add-rewrite-rule
       (qc-flg rune nume loop-stopper-lst term backchain-limit-lst match-free
        ens wrld)
  (add-rewrite-rule1 qc-flg rune nume
                     (possibly-clean-up-dirty-lambda-objects-in-pairs
...">add-rewrite-rule</a> nil
          rune
          nume
          (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:loop-stopper</span> (cdr class))
          term
          (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:backchain-limit-lst</span> (cdr class))
          (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:match-free</span> (cdr class)))
          ens
          wrld))
      (<span class="keyword">:rewrite-quoted-constant</span> (<a class="sym-link local-def" href="#def-add-rewrite-rule" data-sym="ADD-REWRITE-RULE" title="(defun add-rewrite-rule
       (qc-flg rune nume loop-stopper-lst term backchain-limit-lst match-free
        ens wrld)
  (add-rewrite-rule1 qc-flg rune nume
                     (possibly-clean-up-dirty-lambda-objects-in-pairs
...">add-rewrite-rule</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
          rune
          nume
          (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:loop-stopper</span> (cdr class))
          term
          (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:backchain-limit-lst</span> (cdr class))
          (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:match-free</span> (cdr class)))
          ens
          wrld))
      (<span class="keyword">:linear</span> (<a class="sym-link local-def" href="#def-add-linear-rule" data-sym="ADD-LINEAR-RULE" title="(defun add-linear-rule
       (rune nume trigger-terms term backchain-limit-lst match-free ens wrld
        state)
  (add-linear-rule1 rune nume trigger-terms
                    (possibly-clean-up-dirty-lambda-objects-in-pairs
...">add-linear-rule</a> rune
          nume
          (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:trigger-terms</span> (cdr class)))
          term
          (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:backchain-limit-lst</span> (cdr class))
          (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:match-free</span> (cdr class)))
          ens
          wrld
          state))
      (<span class="keyword">:well-founded-relation</span> (<a class="sym-link local-def" href="#def-add-well-founded-relation-rule" data-sym="ADD-WELL-FOUNDED-RELATION-RULE" title="(defun add-well-founded-relation-rule (rune nume term wrld)
  (declare (ignore nume))
  (mv-let (mp rel) (destructure-well-founded-relation-rule term)
          (global-set &#39;well-founded-relation-alist
                      (cons (cons rel (cons mp rune))
...">add-well-founded-relation-rule</a> rune nume term wrld))
      (<span class="keyword">:built-in-clause</span> (<a class="sym-link local-def" href="#def-add-built-in-clause-rule" data-sym="ADD-BUILT-IN-CLAUSE-RULE" title="(defun add-built-in-clause-rule (rune nume term wrld)
  (let ((rules (make-built-in-clause-rules rune nume (unprettyify term) wrld)))
    (global-set &#39;half-length-built-in-clauses
                (floor
                 (+ (length rules)
...">add-built-in-clause-rule</a> rune nume term wrld))
      (<span class="keyword">:compound-recognizer</span> (<a class="sym-link local-def" href="#def-add-compound-recognizer-rule" data-sym="ADD-COMPOUND-RECOGNIZER-RULE" title="(defun add-compound-recognizer-rule (rune nume term ens wrld)
  (mv-let (parity fn var term1) (destructure-compound-recognizer term)
          (mv-let (recog-tuple ttree)
                  (make-recognizer-tuple rune nume parity fn var term1 ens
                                         wrld)
...">add-compound-recognizer-rule</a> rune nume term ens wrld))
      (<span class="keyword">:elim</span> (<a class="sym-link local-def" href="#def-add-elim-rule" data-sym="ADD-ELIM-RULE" title="(defun add-elim-rule (rune nume term wrld)
  (let* ((lst (unprettyify term))
         (hyps (caar lst))
         (equiv (ffn-symb (cdar lst)))
         (lhs (fargn (cdar lst) 1))
...">add-elim-rule</a> rune nume term wrld))
      (<span class="keyword">:generalize</span> (<a class="sym-link local-def" href="#def-add-generalize-rule" data-sym="ADD-GENERALIZE-RULE" title="(defun add-generalize-rule (rune nume term wrld)
  (global-set &#39;generalize-rules
              (cons (make generalize-rule :rune rune :nume nume :formula term)
                    (global-val &#39;generalize-rules wrld))
              wrld))">add-generalize-rule</a> rune nume term wrld))
      (<span class="keyword">:equivalence</span> (<a class="sym-link local-def" href="#def-add-equivalence-rule" data-sym="ADD-EQUIVALENCE-RULE" title="(defun add-equivalence-rule (rune nume term ens wrld)
  (let* ((act-clauses (shallow-clausify term))
         (fn (find-candidate-equivalence-relation act-clauses)))
    (putprop fn &#39;coarsenings (list fn)
             (putprop &#39;equal &#39;coarsenings
...">add-equivalence-rule</a> rune nume term ens wrld))
      (<span class="keyword">:refinement</span> (<a class="sym-link local-def" href="#def-add-refinement-rule" data-sym="ADD-REFINEMENT-RULE" title="(defun add-refinement-rule (name nume term wrld)
  (declare (ignore name nume))
  (let ((equiv1 (ffn-symb (fargn term 1))) (equiv2 (ffn-symb (fargn term 2))))
    (putprop-coarsenings
     (close-value-sets
...">add-refinement-rule</a> rune nume term wrld))
      (<span class="keyword">:congruence</span> (<a class="sym-link local-def" href="#def-add-congruence-rule" data-sym="ADD-CONGRUENCE-RULE" title="(defun add-congruence-rule (rune nume term wrld)
  (mv-let (flg x)
          (interpret-term-as-congruence-rule (base-symbol rune) term wrld)
          (let ((fn (car x))
                (equiv1 (cadr x))
...">add-congruence-rule</a> rune nume term wrld))
      (<span class="keyword">:meta</span> (<a class="sym-link local-def" href="#def-add-meta-rule" data-sym="ADD-META-RULE" title="(defun add-meta-rule
       (rune nume trigger-fns well-formedness-guarantee term backchain-limit
        wrld)
  (mv-let (hyp eqv ev x a fn mfc-symbol) (interpret-term-as-meta-rule term)
          (mv-let (hyp-fn extra-fns)
...">add-meta-rule</a> rune
          nume
          (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:trigger-fns</span> (cdr class)))
          (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:well-formedness-guarantee</span> (cdr class)))
          term
          (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:backchain-limit-lst</span> (cdr class))
          wrld))
      (<span class="keyword">:clause-processor</span> (<a class="sym-link local-def" href="#def-add-clause-processor-rule" data-sym="ADD-CLAUSE-PROCESSOR-RULE" title="(defun add-clause-processor-rule (name well-formedness-guarantee term wrld)
  (mv-let
   (clauses-result-call-p cl-proc clause alist rest-args ev cl-proc-call
    meta-extract-flg)
   (destructure-clause-processor-rule term)
...">add-clause-processor-rule</a> (base-symbol rune)
          (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:well-formedness-guarantee</span> (cdr class)))
          term
          wrld))
      (<span class="keyword">:forward-chaining</span> (<a class="sym-link local-def" href="#def-add-forward-chaining-rule" data-sym="ADD-FORWARD-CHAINING-RULE" title="(defun add-forward-chaining-rule (rune nume trigger-terms term match-free wrld)
  (mv-let (hyps concls) (destructure-forward-chaining-term term wrld)
          (putprop-forward-chaining-rules-lst rune nume trigger-terms hyps
                                              concls
                                              (match-free-fc-value match-free
...">add-forward-chaining-rule</a> rune
          nume
          (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:trigger-terms</span> (cdr class)))
          term
          (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:match-free</span> (cdr class)))
          wrld))
      (<span class="keyword">:type-prescription</span> (<a class="sym-link local-def" href="#def-add-type-prescription-rule" data-sym="ADD-TYPE-PRESCRIPTION-RULE" title="(defun add-type-prescription-rule
       (rune nume typed-term term backchain-limit-lst ens wrld quietp)
  (mv-let (erp hyps concl ts vars ttree)
          (destructure-type-prescription (base-symbol rune) typed-term term ens
                                         wrld)
...">add-type-prescription-rule</a> rune
          nume
          (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:typed-term</span> (cdr class)))
          term
          (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:backchain-limit-lst</span> (cdr class))
          ens
          wrld
          nil))
      (<span class="keyword">:definition</span> (<a class="sym-link system" href="defuns.html#def-add-definition-rule" data-sym="ADD-DEFINITION-RULE">add-definition-rule</a> rune
          nume
          (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:clique</span> (cdr class)))
          (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:controller-alist</span> (cdr class)))
          (let ((pair (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:install-body</span> (cdr class))))
            (if pair
              (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> pair)
              <span class="keyword">:normalize</span>))
          term
          ens
          wrld))
      (<span class="keyword">:induction</span> (<a class="sym-link local-def" href="#def-add-induction-rule" data-sym="ADD-INDUCTION-RULE" title="(defun add-induction-rule (rune nume pat-term cond-term scheme-term term wrld)
  (declare (ignore term))
  (let ((fn (ffn-symb pat-term)))
    (putprop fn &#39;induction-rules
             (cons
...">add-induction-rule</a> rune
          nume
          (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:pattern</span> (cdr class)))
          (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:condition</span> (cdr class)))
          (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:scheme</span> (cdr class)))
          term
          wrld))
      (<span class="keyword">:type-set-inverter</span> (<a class="sym-link local-def" href="#def-add-type-set-inverter-rule" data-sym="ADD-TYPE-SET-INVERTER-RULE" title="(defun add-type-set-inverter-rule (rune nume ts term ens wrld)
  (mv-let (ts ttree)
          (cond
           ((null ts)
            (type-set-implied-by-term &#39;x nil (fargn term 2) ens wrld nil))
...">add-type-set-inverter-rule</a> rune
          nume
          (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:type-set</span> (cdr class)))
          term
          ens
          wrld))
      (<span class="keyword">:tau-system</span> wrld)
      (otherwise (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> hard
          '<a class="sym-link local-def" href="#def-add-x-rule" data-sym="ADD-X-RULE" title="(defun add-x-rule (rune nume class ens wrld state)
  (let ((term (cadr (assoc-keyword :corollary (cdr class)))))
    (case (car class)
      (:rewrite
       (add-rewrite-rule nil rune nume
...">add-x-rule</a>
          <span class="string">"Unrecognized rule class token ~x0 in ADD-X-RULE."</span>
          (car class))))))</pre>
  </div>

<div class="form-block function" id="def-add-rules1" data-defines="ADD-RULES1" data-references="CAR,ADD-X-RULE,CDR,T,NULL,COND,STATE,WRLD,ENS,CLASSES,MAPPING-PAIRS,DEFUN" data-used-by="ADD-RULES" data-part-name="ADD-RULES1" data-part-args="STATE,WRLD,ENS,CLASSES,MAPPING-PAIRS" data-part-body="STATE,CAR,ADD-X-RULE,ENS,MAPPING-PAIRS,CDR,ADD-RULES1,T,WRLD,CLASSES,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ADD-RULES1">add-rules1</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-add-rules1" data-sym="ADD-RULES1" title="(defun add-rules1 (mapping-pairs classes ens wrld state)
  (cond ((null classes) wrld)
        (t
         (add-rules1 (cdr mapping-pairs) (cdr classes) ens
                     (add-x-rule (cdr (car mapping-pairs))
...">add-rules1</a>
  (mapping-pairs classes ens wrld state)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> classes) wrld)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-add-rules1" data-sym="ADD-RULES1" title="(defun add-rules1 (mapping-pairs classes ens wrld state)
  (cond ((null classes) wrld)
        (t
         (add-rules1 (cdr mapping-pairs) (cdr classes) ens
                     (add-x-rule (cdr (car mapping-pairs))
...">add-rules1</a> (cdr mapping-pairs)
        (cdr classes)
        ens
        (<a class="sym-link local-def" href="#def-add-x-rule" data-sym="ADD-X-RULE" title="(defun add-x-rule (rune nume class ens wrld state)
  (let ((term (cadr (assoc-keyword :corollary (cdr class)))))
    (case (car class)
      (:rewrite
       (add-rewrite-rule nil rune nume
...">add-x-rule</a> (cdr (car mapping-pairs))
          (car (car mapping-pairs))
          (car classes)
          ens
          wrld
          state)
        state))))</pre>
  </div>

<div class="form-block function" id="def-truncate-class-alist" data-defines="TRUNCATE-CLASS-ALIST" data-references="CONS,T,CDDR,CADR,EQUAL,AND,CAR,EQ,OR,NULL,COND,TERM,ALIST,DEFUN" data-used-by="TRUNCATE-CLASSES" data-part-name="TRUNCATE-CLASS-ALIST" data-part-args="TERM,ALIST" data-part-body="CONS,T,CDDR,TRUNCATE-CLASS-ALIST,TERM,CADR,EQUAL,AND,CAR,EQ,OR,ALIST,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="TRUNCATE-CLASS-ALIST">truncate-class-alist</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-truncate-class-alist" data-sym="TRUNCATE-CLASS-ALIST" title="(defun truncate-class-alist (alist term)
  (cond ((null alist) nil)
        ((or (eq (car alist) :hints) (eq (car alist) :instructions)
             (and (eq (car alist) :corollary) (equal (cadr alist) term)))
         (truncate-class-alist (cddr alist) term))
...">truncate-class-alist</a>
  (alist term)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> alist) nil)
    ((<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (car alist) <span class="keyword">:hints</span>)
       (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (car alist) <span class="keyword">:instructions</span>)
       (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (car alist) <span class="keyword">:corollary</span>) (equal (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist) term))) (<a class="sym-link local-def" href="#def-truncate-class-alist" data-sym="TRUNCATE-CLASS-ALIST" title="(defun truncate-class-alist (alist term)
  (cond ((null alist) nil)
        ((or (eq (car alist) :hints) (eq (car alist) :instructions)
             (and (eq (car alist) :corollary) (equal (cadr alist) term)))
         (truncate-class-alist (cddr alist) term))
...">truncate-class-alist</a> (<a class="sym-link system" href="axioms.html#def-cddr" data-sym="CDDR">cddr</a> alist) term))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (cons (car alist)
        (cons (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> alist) (<a class="sym-link local-def" href="#def-truncate-class-alist" data-sym="TRUNCATE-CLASS-ALIST" title="(defun truncate-class-alist (alist term)
  (cond ((null alist) nil)
        ((or (eq (car alist) :hints) (eq (car alist) :instructions)
             (and (eq (car alist) :corollary) (equal (cadr alist) term)))
         (truncate-class-alist (cddr alist) term))
...">truncate-class-alist</a> (<a class="sym-link system" href="axioms.html#def-cddr" data-sym="CDDR">cddr</a> alist) term))))))</pre>
  </div>

<div class="form-block function" id="def-truncate-classes" data-defines="TRUNCATE-CLASSES" data-references="CDR,CDAR,TRUNCATE-CLASS-ALIST,CAAR,CONS,T,NULL,COND,TERM,CLASSES,DEFUN" data-used-by="REDUNDANT-THEOREMP,ADD-RULES" data-part-name="TRUNCATE-CLASSES" data-part-args="TERM,CLASSES" data-part-body="CDR,TRUNCATE-CLASSES,TERM,CDAR,TRUNCATE-CLASS-ALIST,CAAR,CONS,T,CLASSES,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="TRUNCATE-CLASSES">truncate-classes</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-truncate-classes" data-sym="TRUNCATE-CLASSES" title="(defun truncate-classes (classes term)
  (cond ((null classes) nil)
        (t
         (cons (cons (caar classes) (truncate-class-alist (cdar classes) term))
               (truncate-classes (cdr classes) term)))))">truncate-classes</a>
  (classes term)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> classes) nil)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (cons (cons (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> classes)
          (<a class="sym-link local-def" href="#def-truncate-class-alist" data-sym="TRUNCATE-CLASS-ALIST" title="(defun truncate-class-alist (alist term)
  (cond ((null alist) nil)
        ((or (eq (car alist) :hints) (eq (car alist) :instructions)
             (and (eq (car alist) :corollary) (equal (cadr alist) term)))
         (truncate-class-alist (cddr alist) term))
...">truncate-class-alist</a> (<a class="sym-link system" href="axioms.html#def-cdar" data-sym="CDAR">cdar</a> classes) term))
        (<a class="sym-link local-def" href="#def-truncate-classes" data-sym="TRUNCATE-CLASSES" title="(defun truncate-classes (classes term)
  (cond ((null classes) nil)
        (t
         (cons (cons (caar classes) (truncate-class-alist (cdar classes) term))
               (truncate-classes (cdr classes) term)))))">truncate-classes</a> (cdr classes) term)))))</pre>
  </div>

<div class="form-block function" id="def-make-runes1" data-defines="MAKE-RUNES1" data-references="CDDR,1+,CONS,CDR,ASSOC-EQ,TEMP,CAAR,TOKEN,LET*,T,REVAPPEND,NULL,COND,RUNES,CLASSES,EVENT-NAME,DEFUN" data-used-by="MAKE-RUNES" data-part-name="MAKE-RUNES1" data-part-args="RUNES,CLASSES,EVENT-NAME" data-part-body="CDDR,1+,CONS,CDR,EVENT-NAME,MAKE-RUNES1,ASSOC-EQ,TEMP,CAAR,TOKEN,LET*,T,RUNES,REVAPPEND,CLASSES,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="MAKE-RUNES1">make-runes1</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-make-runes1" data-sym="MAKE-RUNES1" title="(defun make-runes1 (event-name classes runes)
  (cond ((null classes) (revappend runes nil))
        (t
         (let* ((token (caar classes)) (temp (assoc-eq token runes)))
           (make-runes1 event-name (cdr classes)
...">make-runes1</a>
  (event-name classes runes)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> classes) (<a class="sym-link system" href="axioms.html#def-revappend" data-sym="REVAPPEND">revappend</a> runes nil))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((token (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> classes)) (temp (<a class="sym-link system" href="axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a> token runes)))
        (<a class="sym-link local-def" href="#def-make-runes1" data-sym="MAKE-RUNES1" title="(defun make-runes1 (event-name classes runes)
  (cond ((null classes) (revappend runes nil))
        (t
         (let* ((token (caar classes)) (temp (assoc-eq token runes)))
           (make-runes1 event-name (cdr classes)
...">make-runes1</a> event-name
          (cdr classes)
          (cons (cons token
              (cons event-name
                (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> temp) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a> token (cdr classes)) <span class="number">1</span>) (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> nil)))
                  (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-1_2B" data-sym="1+">1+</a> (<a class="sym-link system" href="axioms.html#def-cddr" data-sym="CDDR">cddr</a> temp))))))
            runes))))))</pre>
  </div>

<div class="form-block function" id="def-make-runes" data-defines="MAKE-RUNES" data-references="MAKE-RUNES1,CLASSES,EVENT-NAME,DEFUN" data-used-by="ADD-RULES" data-part-name="MAKE-RUNES" data-part-args="CLASSES,EVENT-NAME" data-part-body="CLASSES,EVENT-NAME,MAKE-RUNES1" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="MAKE-RUNES">make-runes</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-make-runes" data-sym="MAKE-RUNES" title="(defun make-runes (event-name classes) (make-runes1 event-name classes nil))">make-runes</a>
  (event-name classes)
  (<a class="sym-link local-def" href="#def-make-runes1" data-sym="MAKE-RUNES1" title="(defun make-runes1 (event-name classes runes)
  (cond ((null classes) (revappend runes nil))
        (t
         (let* ((token (caar classes)) (temp (assoc-eq token runes)))
           (make-runes1 event-name (cdr classes)
...">make-runes1</a> event-name classes nil))</pre>
  </div>

<div class="form-block function" id="def-make-runic-mapping-pairs" data-defines="MAKE-RUNIC-MAPPING-PAIRS" data-references="CDR,1+,CAR,CONS,T,QUOTE,MAX-NUME-EXCEEDED-ERROR,FIXNUM-BOUND,<=,OR,PROG2$,NULL,COND,RUNES,NUME,DEFUN" data-used-by="ADD-RULES" data-part-name="MAKE-RUNIC-MAPPING-PAIRS" data-part-args="RUNES,NUME" data-part-body="CDR,1+,CAR,CONS,T,MAKE-RUNIC-MAPPING-PAIRS,QUOTE,MAX-NUME-EXCEEDED-ERROR,FIXNUM-BOUND,NUME,<=,OR,PROG2$,RUNES,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="MAKE-RUNIC-MAPPING-PAIRS">make-runic-mapping-pairs</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-make-runic-mapping-pairs" data-sym="MAKE-RUNIC-MAPPING-PAIRS" title="(defun make-runic-mapping-pairs (nume runes)
  (cond
   ((null runes)
    (prog2$
     (or (&lt;= nume (fixnum-bound))
...">make-runic-mapping-pairs</a>
  (nume runes)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> runes) (<a class="sym-link system" href="axioms.html#def-prog2_24" data-sym="PROG2$">prog2$</a> (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> nume (<a class="sym-link system" href="axioms.html#def-fixnum-bound" data-sym="FIXNUM-BOUND">fixnum-bound</a>))
          (<a class="sym-link system" href="defuns.html#def-max-nume-exceeded-error" data-sym="MAX-NUME-EXCEEDED-ERROR">max-nume-exceeded-error</a> '<a class="sym-link local-def" href="#def-make-runic-mapping-pairs" data-sym="MAKE-RUNIC-MAPPING-PAIRS" title="(defun make-runic-mapping-pairs (nume runes)
  (cond
   ((null runes)
    (prog2$
     (or (&lt;= nume (fixnum-bound))
...">make-runic-mapping-pairs</a>))
        nil))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (cons (cons nume (car runes))
        (<a class="sym-link local-def" href="#def-make-runic-mapping-pairs" data-sym="MAKE-RUNIC-MAPPING-PAIRS" title="(defun make-runic-mapping-pairs (nume runes)
  (cond
   ((null runes)
    (prog2$
     (or (&lt;= nume (fixnum-bound))
...">make-runic-mapping-pairs</a> (<a class="sym-link system" href="axioms.html#def-1_2B" data-sym="1+">1+</a> nume) (cdr runes))))))</pre>
  </div>

<div class="form-block function" id="def-add-rules" data-defines="ADD-RULES" data-references="ADD-RULES1,TRUNCATE-CLASSES,UNTRANSLATED-THEOREM,THEOREM,QUOTE,PUTPROP,MAKE-RUNES,GET-NEXT-NUME,MAKE-RUNIC-MAPPING-PAIRS,RUNIC-MAPPING-PAIRS,LET,STATE,WRLD,ENS,UNTRANSLATED-TERM,TERM,CLASSES,NAME,DEFUN" data-used-by="DEFTHM-FN1,DEFAXIOM-FN" data-part-name="ADD-RULES" data-part-args="STATE,WRLD,ENS,UNTRANSLATED-TERM,TERM,CLASSES,NAME" data-part-body="STATE,ENS,ADD-RULES1,TRUNCATE-CLASSES,UNTRANSLATED-TERM,UNTRANSLATED-THEOREM,TERM,THEOREM,QUOTE,PUTPROP,CLASSES,NAME,MAKE-RUNES,WRLD,GET-NEXT-NUME,MAKE-RUNIC-MAPPING-PAIRS,RUNIC-MAPPING-PAIRS,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ADD-RULES">add-rules</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-add-rules" data-sym="ADD-RULES" title="(defun add-rules (name classes term untranslated-term ens wrld state)
  (let ((runic-mapping-pairs
         (make-runic-mapping-pairs (get-next-nume wrld)
                                   (make-runes name classes))))
    (putprop name &#39;runic-mapping-pairs runic-mapping-pairs
...">add-rules</a>
  (name classes term untranslated-term ens wrld state)
  (let ((runic-mapping-pairs (<a class="sym-link local-def" href="#def-make-runic-mapping-pairs" data-sym="MAKE-RUNIC-MAPPING-PAIRS" title="(defun make-runic-mapping-pairs (nume runes)
  (cond
   ((null runes)
    (prog2$
     (or (&lt;= nume (fixnum-bound))
...">make-runic-mapping-pairs</a> (get-next-nume wrld)
         (<a class="sym-link local-def" href="#def-make-runes" data-sym="MAKE-RUNES" title="(defun make-runes (event-name classes) (make-runes1 event-name classes nil))">make-runes</a> name classes))))
    (<a class="sym-link system" href="axioms.html#def-putprop" data-sym="PUTPROP">putprop</a> name
      'runic-mapping-pairs
      runic-mapping-pairs
      (<a class="sym-link system" href="axioms.html#def-putprop" data-sym="PUTPROP">putprop</a> name
        'theorem
        term
        (<a class="sym-link system" href="axioms.html#def-putprop" data-sym="PUTPROP">putprop</a> name
          'untranslated-theorem
          untranslated-term
          (<a class="sym-link system" href="axioms.html#def-putprop" data-sym="PUTPROP">putprop</a> name
            'classes
            (<a class="sym-link local-def" href="#def-truncate-classes" data-sym="TRUNCATE-CLASSES" title="(defun truncate-classes (classes term)
  (cond ((null classes) nil)
        (t
         (cons (cons (caar classes) (truncate-class-alist (cdar classes) term))
               (truncate-classes (cdr classes) term)))))">truncate-classes</a> classes term)
            (<a class="sym-link local-def" href="#def-add-rules1" data-sym="ADD-RULES1" title="(defun add-rules1 (mapping-pairs classes ens wrld state)
  (cond ((null classes) wrld)
        (t
         (add-rules1 (cdr mapping-pairs) (cdr classes) ens
                     (add-x-rule (cdr (car mapping-pairs))
...">add-rules1</a> runic-mapping-pairs classes ens wrld state)))))))</pre>
  </div>

<div class="form-block function" id="def-redundant-theoremp" data-defines="REDUNDANT-THEOREMP" data-references="GET-EVENT,OLD-EVENT-FORM,DEFAXIOM,CAR,EQ,NOT,OR,TRUNCATE-CLASSES,THEOREM,QUOTE,GETPROPC,EQUAL,AND,TMP,LET,ASSERT$,WRLD,EVENT-FORM,CLASSES,TERM,NAME,DEFUN" data-used-by="DEFTHM-FN1,DEFAXIOM-FN" data-part-name="REDUNDANT-THEOREMP" data-part-args="WRLD,EVENT-FORM,CLASSES,TERM,NAME" data-part-body="GET-EVENT,OLD-EVENT-FORM,DEFAXIOM,CAR,EQ,NOT,OR,CLASSES,TRUNCATE-CLASSES,WRLD,THEOREM,QUOTE,NAME,GETPROPC,TERM,EQUAL,AND,TMP,LET,EVENT-FORM,ASSERT$" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="REDUNDANT-THEOREMP">redundant-theoremp</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-redundant-theoremp" data-sym="REDUNDANT-THEOREMP" title="(defun redundant-theoremp (name term classes event-form wrld)
  (assert$ event-form
           (let ((tmp
                  (and (equal term (getpropc name &#39;theorem 0 wrld))
                       (equal (truncate-classes classes term)
...">redundant-theoremp</a>
  (name term classes event-form wrld)
  (<a class="sym-link system" href="axioms.html#def-assert_24" data-sym="ASSERT$">assert$</a> event-form
    (let ((tmp (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (equal term (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> name 'theorem <span class="number">0</span> wrld))
           (equal (<a class="sym-link local-def" href="#def-truncate-classes" data-sym="TRUNCATE-CLASSES" title="(defun truncate-classes (classes term)
  (cond ((null classes) nil)
        (t
         (cons (cons (caar classes) (truncate-class-alist (cdar classes) term))
               (truncate-classes (cdr classes) term)))))">truncate-classes</a> classes term)
             (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> name 'classes <span class="number">0</span> wrld)))))
      (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> tmp (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (car event-form) '<a class="sym-link system" href="axioms.html#def-defaxiom" data-sym="DEFAXIOM">defaxiom</a>)))
        (let ((old-event-form (get-event name wrld)))
          (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> tmp (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (car old-event-form) '<a class="sym-link system" href="axioms.html#def-defaxiom" data-sym="DEFAXIOM">defaxiom</a>))
            (equal event-form old-event-form)))))))</pre>
  </div>

<div class="form-block function" id="def-non-tautological-classes" data-defines="NON-TAUTOLOGICAL-CLASSES" data-references="CONS,T,*T*,IF,QUOTE,MCONS-TERM*,IF-TAUTOLOGYP,EQUAL,OR,CAR,CDR,ASSOC-KEYWORD,CADR,COR,LET,NULL,COND,CLASSES,TERM,DEFUN" data-used-by="PROVE-COROLLARIES" data-part-name="NON-TAUTOLOGICAL-CLASSES" data-part-args="CLASSES,TERM" data-part-body="CONS,T,NON-TAUTOLOGICAL-CLASSES,*T*,IF,QUOTE,MCONS-TERM*,IF-TAUTOLOGYP,TERM,EQUAL,OR,CAR,CDR,ASSOC-KEYWORD,CADR,COR,LET,CLASSES,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="NON-TAUTOLOGICAL-CLASSES">non-tautological-classes</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-non-tautological-classes" data-sym="NON-TAUTOLOGICAL-CLASSES" title="(defun non-tautological-classes (term classes)
  (cond ((null classes) nil)
        ((let ((cor (cadr (assoc-keyword :corollary (cdr (car classes))))))
           (or (equal term cor)
               (if-tautologyp (mcons-term* &#39;if term cor *t*))))
...">non-tautological-classes</a>
  (term classes)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> classes) nil)
    ((let ((cor (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:corollary</span> (cdr (car classes))))))
       (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (equal term cor)
         (<a class="sym-link system" href="rewrite.html#def-if-tautologyp" data-sym="IF-TAUTOLOGYP">if-tautologyp</a> (<a class="sym-link system" href="basis-b.html#def-mcons-term_2A" data-sym="MCONS-TERM*">mcons-term*</a> 'if term cor <a class="sym-link system" href="axioms.html#def-_2At_2A" data-sym="*T*">*t*</a>)))) (<a class="sym-link local-def" href="#def-non-tautological-classes" data-sym="NON-TAUTOLOGICAL-CLASSES" title="(defun non-tautological-classes (term classes)
  (cond ((null classes) nil)
        ((let ((cor (cadr (assoc-keyword :corollary (cdr (car classes))))))
           (or (equal term cor)
               (if-tautologyp (mcons-term* &#39;if term cor *t*))))
...">non-tautological-classes</a> term (cdr classes)))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (cons (car classes)
        (<a class="sym-link local-def" href="#def-non-tautological-classes" data-sym="NON-TAUTOLOGICAL-CLASSES" title="(defun non-tautological-classes (term classes)
  (cond ((null classes) nil)
        ((let ((cor (cadr (assoc-keyword :corollary (cdr (car classes))))))
           (or (equal term cor)
               (if-tautologyp (mcons-term* &#39;if term cor *t*))))
...">non-tautological-classes</a> term (cdr classes))))))</pre>
  </div>

<div class="form-block function" id="def-prove-corollaries1" data-defines="PROVE-COROLLARIES1" data-references="CONS-TAG-TREES,1+,MAKE-PSPV,PROVE,PROOF-BUILDER,TTREE1,TERM-EVISC-TUPLE,PROOFS-CO,UNTRANSLATE,=,AND,LIST,FMS,EVENT,IO?,PPROGN,CONS,TRANSLATE-HINTS,DEFAULT-HINTS,IF,ER-LET*,INSTRUCTIONS,HINTS,OTF-FLG,CAR,CDR,ASSOC-KEYWORD,CADR,IMPLIES,QUOTE,FCONS-TERM*,GOAL,LET,T,VALUE,NULL,COND,TTREE,STATE,CTX,WRLD,ENS,RULE-CLASSES,N,I,TERM,NAME,DEFUN" data-used-by="PROVE-COROLLARIES" data-part-name="PROVE-COROLLARIES1" data-part-args="TTREE,STATE,CTX,WRLD,ENS,RULE-CLASSES,N,I,TERM,NAME" data-part-body="CONS-TAG-TREES,1+,PROVE-COROLLARIES1,ENS,MAKE-PSPV,PROVE,PROOF-BUILDER,TTREE1,TERM-EVISC-TUPLE,PROOFS-CO,UNTRANSLATE,=,AND,LIST,FMS,I,N,EVENT,IO?,PPROGN,STATE,CTX,NAME,CONS,TRANSLATE-HINTS,WRLD,DEFAULT-HINTS,IF,ER-LET*,INSTRUCTIONS,HINTS,OTF-FLG,CAR,CDR,ASSOC-KEYWORD,CADR,TERM,IMPLIES,QUOTE,FCONS-TERM*,GOAL,LET,T,TTREE,VALUE,RULE-CLASSES,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="PROVE-COROLLARIES1">prove-corollaries1</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-prove-corollaries1" data-sym="PROVE-COROLLARIES1" title="(defun prove-corollaries1 (name term i n rule-classes ens wrld ctx state ttree)
  (cond ((null rule-classes) (value ttree))
        (t
         (let ((goal
                (fcons-term* &#39;implies term
...">prove-corollaries1</a>
  (name term i n rule-classes ens wrld ctx state ttree)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> rule-classes) (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> ttree))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((goal (<a class="sym-link system" href="axioms.html#def-fcons-term_2A" data-sym="FCONS-TERM*">fcons-term*</a> '<a class="sym-link system" href="axioms.html#def-implies" data-sym="IMPLIES">implies</a>
             term
             (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:corollary</span> (cdr (car rule-classes)))))) (otf-flg (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:otf-flg</span> (cdr (car rule-classes)))))
          (hints (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:hints</span> (cdr (car rule-classes)))))
          (instructions (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:instructions</span> (cdr (car rule-classes))))))
        (<a class="sym-link system" href="basis-b.html#def-er-let_2A" data-sym="ER-LET*">er-let*</a> ((hints (if hints
               (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> hints)
               (let ((<a class="sym-link system" href="axioms.html#def-default-hints" data-sym="DEFAULT-HINTS">default-hints</a> (<a class="sym-link system" href="axioms.html#def-default-hints" data-sym="DEFAULT-HINTS">default-hints</a> wrld)))
                 (if <a class="sym-link system" href="axioms.html#def-default-hints" data-sym="DEFAULT-HINTS">default-hints</a>
                   (translate-hints (cons <span class="string">"Corollary of "</span> name)
                     <a class="sym-link system" href="axioms.html#def-default-hints" data-sym="DEFAULT-HINTS">default-hints</a>
                     ctx
                     wrld
                     state)
                   (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil))))))
          (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link system" href="basis-a.html#def-io_3F" data-sym="IO?">io?</a> event
              nil
              state
              (wrld goal n i)
              (<a class="sym-link system" href="basis-a.html#def-fms" data-sym="FMS">fms</a> <span class="string">"The~#0~[~/ first~/ second~/ next~/ last~] goal is ~p1.~%"</span>
                (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (cons #\0
                    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-_3D" data-sym="=">=</a> i <span class="number">1</span>) (<a class="sym-link system" href="axioms.html#def-_3D" data-sym="=">=</a> n <span class="number">1</span>)) <span class="number">0</span>)
                      ((<a class="sym-link system" href="axioms.html#def-_3D" data-sym="=">=</a> i <span class="number">1</span>) <span class="number">1</span>)
                      ((<a class="sym-link system" href="axioms.html#def-_3D" data-sym="=">=</a> i <span class="number">2</span>) <span class="number">2</span>)
                      ((<a class="sym-link system" href="axioms.html#def-_3D" data-sym="=">=</a> i n) <span class="number">4</span>)
                      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <span class="number">3</span>)))
                  (cons #\1 (untranslate goal <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> wrld)))
                (<a class="sym-link system" href="basis-b.html#def-proofs-co" data-sym="PROOFS-CO">proofs-co</a> state)
                state
                (<a class="sym-link system" href="basis-a.html#def-term-evisc-tuple" data-sym="TERM-EVISC-TUPLE">term-evisc-tuple</a> nil state)))
            (<a class="sym-link system" href="basis-b.html#def-er-let_2A" data-sym="ER-LET*">er-let*</a> ((ttree1 (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (instructions (proof-builder nil
                       (untranslate goal <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> wrld)
                       goal
                       nil
                       instructions
                       wrld
                       state))
                   (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="prove.html#def-prove" data-sym="PROVE">prove</a> goal
                       (<a class="sym-link system" href="prove.html#def-make-pspv" data-sym="MAKE-PSPV">make-pspv</a> ens
                         wrld
                         state
                         <span class="keyword">:displayed-goal</span> goal
                         <span class="keyword">:otf-flg</span> otf-flg)
                       hints
                       ens
                       wrld
                       ctx
                       state)))))
              (<a class="sym-link local-def" href="#def-prove-corollaries1" data-sym="PROVE-COROLLARIES1" title="(defun prove-corollaries1 (name term i n rule-classes ens wrld ctx state ttree)
  (cond ((null rule-classes) (value ttree))
        (t
         (let ((goal
                (fcons-term* &#39;implies term
...">prove-corollaries1</a> name
                term
                (<a class="sym-link system" href="axioms.html#def-1_2B" data-sym="1+">1+</a> i)
                n
                (cdr rule-classes)
                ens
                wrld
                ctx
                state
                (cons-tag-trees ttree1 ttree)))))))))</pre>
  </div>

<div class="form-block function" id="def-prove-corollaries" data-defines="PROVE-COROLLARIES" data-references="PROVE-COROLLARIES1,TERM-EVISC-TUPLE,PROOFS-CO,IF,CONS,LIST,FMS,EVENT,IO?,PPROGN,T,VALUE,=,COND,LENGTH,N,NON-TAUTOLOGICAL-CLASSES,CLASSES,LET*,STATE,CTX,WRLD,ENS,RULE-CLASSES,TERM,NAME,DEFUN" data-used-by="DEFTHM-FN1,DEFAXIOM-FN" data-part-name="PROVE-COROLLARIES" data-part-args="STATE,CTX,WRLD,ENS,RULE-CLASSES,TERM,NAME" data-part-body="CTX,WRLD,ENS,NAME,PROVE-COROLLARIES1,TERM-EVISC-TUPLE,PROOFS-CO,IF,CONS,LIST,FMS,STATE,EVENT,IO?,PPROGN,T,VALUE,=,COND,LENGTH,N,RULE-CLASSES,TERM,NON-TAUTOLOGICAL-CLASSES,CLASSES,LET*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="PROVE-COROLLARIES">prove-corollaries</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-prove-corollaries" data-sym="PROVE-COROLLARIES" title="(defun prove-corollaries (name term rule-classes ens wrld ctx state)
  (let* ((classes (non-tautological-classes term rule-classes))
         (n (length classes)))
    (cond ((= n 0) (value nil))
          (t
...">prove-corollaries</a>
  (name term rule-classes ens wrld ctx state)
  (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((classes (<a class="sym-link local-def" href="#def-non-tautological-classes" data-sym="NON-TAUTOLOGICAL-CLASSES" title="(defun non-tautological-classes (term classes)
  (cond ((null classes) nil)
        ((let ((cor (cadr (assoc-keyword :corollary (cdr (car classes))))))
           (or (equal term cor)
               (if-tautologyp (mcons-term* &#39;if term cor *t*))))
...">non-tautological-classes</a> term rule-classes)) (n (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> classes)))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-_3D" data-sym="=">=</a> n <span class="number">0</span>) (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link system" href="basis-a.html#def-io_3F" data-sym="IO?">io?</a> event
            nil
            state
            (rule-classes n)
            (<a class="sym-link system" href="basis-a.html#def-fms" data-sym="FMS">fms</a> <span class="string">"~%We now consider~#2~[ the~/, in turn, the ~x0~]~#1~[~/ ~
                non-trivial~] ~#2~[corollary~/corollaries~] claimed in the ~
                specified rule ~#3~[class~/classes~].~%"</span>
              (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (cons #\0 n)
                (cons #\1
                  (if (<a class="sym-link system" href="axioms.html#def-_3D" data-sym="=">=</a> (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> rule-classes) <span class="number">1</span>)
                    <span class="number">0</span>
                    <span class="number">1</span>))
                (cons #\2
                  (if (<a class="sym-link system" href="axioms.html#def-_3D" data-sym="=">=</a> n <span class="number">1</span>)
                    <span class="number">0</span>
                    <span class="number">1</span>))
                (cons #\3
                  (if (<a class="sym-link system" href="axioms.html#def-_3D" data-sym="=">=</a> (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> rule-classes) <span class="number">1</span>)
                    <span class="number">0</span>
                    <span class="number">1</span>)))
              (<a class="sym-link system" href="basis-b.html#def-proofs-co" data-sym="PROOFS-CO">proofs-co</a> state)
              state
              (<a class="sym-link system" href="basis-a.html#def-term-evisc-tuple" data-sym="TERM-EVISC-TUPLE">term-evisc-tuple</a> nil state)))
          (<a class="sym-link local-def" href="#def-prove-corollaries1" data-sym="PROVE-COROLLARIES1" title="(defun prove-corollaries1 (name term i n rule-classes ens wrld ctx state ttree)
  (cond ((null rule-classes) (value ttree))
        (t
         (let ((goal
                (fcons-term* &#39;implies term
...">prove-corollaries1</a> name
            term
            <span class="number">1</span>
            n
            classes
            ens
            wrld
            ctx
            state
            nil))))))</pre>
  </div>

<div class="form-block function" id="def-enabled-runep-string" data-defines="ENABLED-RUNEP-STRING" data-references="ENABLED-RUNEP,IF,WRLD,ENS,RUNE,DEFUN" data-part-name="ENABLED-RUNEP-STRING" data-part-args="WRLD,ENS,RUNE" data-part-body="WRLD,ENS,RUNE,ENABLED-RUNEP,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ENABLED-RUNEP-STRING">enabled-runep-string</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-enabled-runep-string" data-sym="ENABLED-RUNEP-STRING" title="(defun enabled-runep-string (rune ens wrld)
  (if (enabled-runep rune ens wrld)
      &quot;Enabled&quot;
      &quot;Disabled&quot;))">enabled-runep-string</a>
  (rune ens wrld)
  (if (enabled-runep rune ens wrld)
    <span class="string">"Enabled"</span>
    <span class="string">"Disabled"</span>))</pre>
  </div>

<div class="form-block function" id="def-untranslate-hyps" data-defines="UNTRANSLATE-HYPS" data-references="UNTRANSLATE-LST,AND,QUOTE,CONS,CAR,UNTRANSLATE,CDR,T,NULL,COND,WRLD,HYPS,DEFUN" data-used-by="INFO-FOR-TYPE-SET-INVERTER-RULES,INFO-FOR-TYPE-PRESCRIPTIONS,INFO-FOR-FORWARD-CHAINING-RULES,INFO-FOR-ELIMINATE-DESTRUCTORS-RULES,INFO-FOR-LINEAR-LEMMAS" data-part-name="UNTRANSLATE-HYPS" data-part-args="WRLD,HYPS" data-part-body="UNTRANSLATE-LST,AND,QUOTE,CONS,WRLD,CAR,UNTRANSLATE,CDR,T,HYPS,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="UNTRANSLATE-HYPS">untranslate-hyps</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-untranslate-hyps" data-sym="UNTRANSLATE-HYPS" title="(defun untranslate-hyps (hyps wrld)
  (cond ((null hyps) t) ((null (cdr hyps)) (untranslate (car hyps) t wrld))
        (t (cons &#39;and (untranslate-lst hyps t wrld)))))">untranslate-hyps</a>
  (hyps wrld)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> hyps) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)
    ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> (cdr hyps)) (untranslate (car hyps) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> wrld))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (cons '<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (untranslate-lst hyps <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> wrld)))))</pre>
  </div>

<div class="form-block function" id="def-info-for-lemmas" data-defines="INFO-FOR-LEMMAS" data-references="CDR,QUASIQUOTE,CONS,MEMBER,T,EQ,OR,HEURISTIC-INFO,BACKCHAIN-LIMIT-LST,EQUIV,HYPS,RHS,LHS,SUBCLASS,RUNE,REWRITE-RULE,ACCESS,NUME,CAR,RULE,LET*,NULL,IF,WRLD,ENS,NUMES,LEMMAS,DEFUN" data-used-by="INFO-FOR-X-RULES" data-part-name="INFO-FOR-LEMMAS" data-part-args="WRLD,ENS,NUMES,LEMMAS" data-part-body="WRLD,ENS,CDR,INFO-FOR-LEMMAS,QUASIQUOTE,CONS,MEMBER,T,NUMES,EQ,OR,HEURISTIC-INFO,BACKCHAIN-LIMIT-LST,EQUIV,HYPS,RHS,LHS,SUBCLASS,RUNE,REWRITE-RULE,ACCESS,NUME,CAR,RULE,LET*,LEMMAS,NULL,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="INFO-FOR-LEMMAS">info-for-lemmas</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-info-for-lemmas" data-sym="INFO-FOR-LEMMAS" title="(defun info-for-lemmas (lemmas numes ens wrld)
  (if (null lemmas)
      nil
      (let* ((rule (car lemmas))
             (nume (access rewrite-rule rule :nume))
...">info-for-lemmas</a>
  (lemmas numes ens wrld)
  (if (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> lemmas)
    nil
    (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((rule (car lemmas)) (nume (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> rewrite-rule rule <span class="keyword">:nume</span>))
        (rune (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> rewrite-rule rule <span class="keyword">:rune</span>))
        (subclass (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> rewrite-rule rule <span class="keyword">:subclass</span>))
        (lhs (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> rewrite-rule rule <span class="keyword">:lhs</span>))
        (rhs (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> rewrite-rule rule <span class="keyword">:rhs</span>))
        (hyps (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> rewrite-rule rule <span class="keyword">:hyps</span>))
        (equiv (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> rewrite-rule rule <span class="keyword">:equiv</span>))
        (backchain-limit-lst (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> rewrite-rule rule <span class="keyword">:backchain-limit-lst</span>))
        (heuristic-info (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> rewrite-rule rule <span class="keyword">:heuristic-info</span>)))
      (if (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> numes <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>) (<a class="sym-link system" href="axioms.html#def-member" data-sym="MEMBER">member</a> nume numes))
        (cons `((<span class="keyword">:rune</span> ,RUNE <span class="keyword">:rewrite</span> ,NUME) (<span class="keyword">:enabled</span> ,(AND (ENABLED-RUNEP RUNE ENS WRLD) T))
            ,@(IF (EQ SUBCLASS &#39;META)
      `((:HYP-FN ,(OR HYPS :NONE) HYPS) (:EQUIV ,EQUIV) (:META-FN ,LHS))
      `((:HYPS ,(UNTRANSLATE-HYPS HYPS WRLD) HYPS) (:EQUIV ,EQUIV)
        (:LHS ,(UNTRANSLATE LHS NIL WRLD) LHS)
        (:RHS ,(UNTRANSLATE RHS NIL WRLD) RHS)))
            (<span class="keyword">:backchain-limit-lst</span> ,BACKCHAIN-LIMIT-LST)
            (<span class="keyword">:subclass</span> ,SUBCLASS)
            ,@(COND ((EQ SUBCLASS &#39;BACKCHAIN) `((:LOOP-STOPPER ,HEURISTIC-INFO)))
        ((EQ SUBCLASS &#39;DEFINITION)
         `((:CLIQUE ,(CAR HEURISTIC-INFO))
           (:CONTROLLER-ALIST ,(CDR HEURISTIC-INFO))))
        ((EQ SUBCLASS &#39;REWRITE-QUOTED-CONSTANT)
         `((:FORM ,(CAR HEURISTIC-INFO))
           (:LOOP-STOPPER ,(CDR HEURISTIC-INFO))))
        (T NIL)))
          (<a class="sym-link local-def" href="#def-info-for-lemmas" data-sym="INFO-FOR-LEMMAS" title="(defun info-for-lemmas (lemmas numes ens wrld)
  (if (null lemmas)
      nil
      (let* ((rule (car lemmas))
             (nume (access rewrite-rule rule :nume))
...">info-for-lemmas</a> (cdr lemmas) numes ens wrld))
        (<a class="sym-link local-def" href="#def-info-for-lemmas" data-sym="INFO-FOR-LEMMAS" title="(defun info-for-lemmas (lemmas numes ens wrld)
  (if (null lemmas)
      nil
      (let* ((rule (car lemmas))
             (nume (access rewrite-rule rule :nume))
...">info-for-lemmas</a> (cdr lemmas) numes ens wrld)))))</pre>
  </div>

<div class="form-block function" id="def-assoc-eq-eq" data-defines="ASSOC-EQ-EQ" data-references="T,CDR,CAR,EQ,AND,ENDP,COND,ALIST,Y,X,DEFUN" data-used-by="RESTRICT-PKG-IMPORTS" data-part-name="ASSOC-EQ-EQ" data-part-args="ALIST,Y,X" data-part-body="ASSOC-EQ-EQ,T,Y,CDR,X,CAR,EQ,AND,ALIST,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ASSOC-EQ-EQ">assoc-eq-eq</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-assoc-eq-eq" data-sym="ASSOC-EQ-EQ" title="(defun assoc-eq-eq (x y alist)
  (cond ((endp alist) nil)
        ((and (eq (car (car alist)) x) (eq (car (cdr (car alist))) y))
         (car alist))
        (t (assoc-eq-eq x y (cdr alist)))))">assoc-eq-eq</a>
  (x y alist)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> alist) nil)
    ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (car (car alist)) x)
       (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (car (cdr (car alist))) y)) (car alist))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-assoc-eq-eq" data-sym="ASSOC-EQ-EQ" title="(defun assoc-eq-eq (x y alist)
  (cond ((endp alist) nil)
        ((and (eq (car (car alist)) x) (eq (car (cdr (car alist))) y))
         (car alist))
        (t (assoc-eq-eq x y (cdr alist)))))">assoc-eq-eq</a> x y (cdr alist)))))</pre>
  </div>

<div class="form-block function" id="def-info-for-well-founded-relation-rules" data-defines="INFO-FOR-WELL-FOUNDED-RELATION-RULES" data-references="CDR,CADR,LIST,CONS,CDDR,RUNE,CAR,RULE,LET*,NULL,IF,RULES,DEFUN" data-used-by="INFO-FOR-X-RULES" data-part-name="INFO-FOR-WELL-FOUNDED-RELATION-RULES" data-part-args="RULES" data-part-body="CDR,INFO-FOR-WELL-FOUNDED-RELATION-RULES,CADR,LIST,CONS,CDDR,RUNE,CAR,RULE,LET*,RULES,NULL,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="INFO-FOR-WELL-FOUNDED-RELATION-RULES">info-for-well-founded-relation-rules</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-info-for-well-founded-relation-rules" data-sym="INFO-FOR-WELL-FOUNDED-RELATION-RULES" title="(defun info-for-well-founded-relation-rules (rules)
  (if (null rules)
      nil
      (let* ((rule (car rules)) (rune (cddr rule)))
        (cons
...">info-for-well-founded-relation-rules</a>
  (rules)
  (if (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> rules)
    nil
    (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((rule (car rules)) (rune (<a class="sym-link system" href="axioms.html#def-cddr" data-sym="CDDR">cddr</a> rule)))
      (cons (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:rune</span> rune <span class="keyword">:well-founded-relation</span>)
          (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:domain-predicate</span> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> rule))
          (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:well-founded-relation</span> (car rule)))
        (<a class="sym-link local-def" href="#def-info-for-well-founded-relation-rules" data-sym="INFO-FOR-WELL-FOUNDED-RELATION-RULES" title="(defun info-for-well-founded-relation-rules (rules)
  (if (null rules)
      nil
      (let* ((rule (car rules)) (rune (cddr rule)))
        (cons
...">info-for-well-founded-relation-rules</a> (cdr rules))))))</pre>
  </div>

<div class="form-block function" id="def-info-for-built-in-clause-rules1" data-defines="INFO-FOR-BUILT-IN-CLAUSE-RULES1" data-references="CDR,PRETTYIFY-CLAUSE,ENABLED-RUNEP,AND,LIST,CONS,MEMBER,T,EQ,OR,CLAUSE,RUNE,BUILT-IN-CLAUSE,ACCESS,NUME,CAR,RULE,LET*,NULL,IF,WRLD,ENS,NUMES,RULES,DEFUN" data-used-by="INFO-FOR-BUILT-IN-CLAUSE-RULES" data-part-name="INFO-FOR-BUILT-IN-CLAUSE-RULES1" data-part-args="WRLD,ENS,NUMES,RULES" data-part-body="CDR,INFO-FOR-BUILT-IN-CLAUSE-RULES1,PRETTYIFY-CLAUSE,WRLD,ENS,ENABLED-RUNEP,AND,LIST,CONS,MEMBER,T,NUMES,EQ,OR,CLAUSE,RUNE,BUILT-IN-CLAUSE,ACCESS,NUME,CAR,RULE,LET*,RULES,NULL,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="INFO-FOR-BUILT-IN-CLAUSE-RULES1">info-for-built-in-clause-rules1</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-info-for-built-in-clause-rules1" data-sym="INFO-FOR-BUILT-IN-CLAUSE-RULES1" title="(defun info-for-built-in-clause-rules1 (rules numes ens wrld)
  (if (null rules)
      nil
      (let* ((rule (car rules))
             (nume (access built-in-clause rule :nume))
...">info-for-built-in-clause-rules1</a>
  (rules numes ens wrld)
  (if (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> rules)
    nil
    (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((rule (car rules)) (nume (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> built-in-clause rule <span class="keyword">:nume</span>))
        (rune (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> built-in-clause rule <span class="keyword">:rune</span>))
        (clause (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> built-in-clause rule <span class="keyword">:clause</span>)))
      (if (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> numes <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>) (<a class="sym-link system" href="axioms.html#def-member" data-sym="MEMBER">member</a> nume numes))
        (cons (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:rune</span> rune <span class="keyword">:built-in-clause</span> nume)
            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:enabled</span> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (enabled-runep rune ens wrld) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>))
            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:clause</span> (prettyify-clause clause nil wrld) clause))
          (<a class="sym-link local-def" href="#def-info-for-built-in-clause-rules1" data-sym="INFO-FOR-BUILT-IN-CLAUSE-RULES1" title="(defun info-for-built-in-clause-rules1 (rules numes ens wrld)
  (if (null rules)
      nil
      (let* ((rule (car rules))
             (nume (access built-in-clause rule :nume))
...">info-for-built-in-clause-rules1</a> (cdr rules) numes ens wrld))
        (<a class="sym-link local-def" href="#def-info-for-built-in-clause-rules1" data-sym="INFO-FOR-BUILT-IN-CLAUSE-RULES1" title="(defun info-for-built-in-clause-rules1 (rules numes ens wrld)
  (if (null rules)
      nil
      (let* ((rule (car rules))
             (nume (access built-in-clause rule :nume))
...">info-for-built-in-clause-rules1</a> (cdr rules) numes ens wrld)))))</pre>
  </div>

<div class="form-block function" id="def-info-for-built-in-clause-rules" data-defines="INFO-FOR-BUILT-IN-CLAUSE-RULES" data-references="CDR,CDAR,INFO-FOR-BUILT-IN-CLAUSE-RULES1,APPEND,NULL,IF,WRLD,ENS,NUMES,ALIST,DEFUN" data-used-by="INFO-FOR-X-RULES" data-part-name="INFO-FOR-BUILT-IN-CLAUSE-RULES" data-part-args="WRLD,ENS,NUMES,ALIST" data-part-body="CDR,INFO-FOR-BUILT-IN-CLAUSE-RULES,WRLD,ENS,NUMES,CDAR,INFO-FOR-BUILT-IN-CLAUSE-RULES1,APPEND,ALIST,NULL,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="INFO-FOR-BUILT-IN-CLAUSE-RULES">info-for-built-in-clause-rules</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-info-for-built-in-clause-rules" data-sym="INFO-FOR-BUILT-IN-CLAUSE-RULES" title="(defun info-for-built-in-clause-rules (alist numes ens wrld)
  (if (null alist)
      nil
      (append (info-for-built-in-clause-rules1 (cdar alist) numes ens wrld)
              (info-for-built-in-clause-rules (cdr alist) numes ens wrld))))">info-for-built-in-clause-rules</a>
  (alist numes ens wrld)
  (if (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> alist)
    nil
    (<a class="sym-link system" href="axioms.html#def-append" data-sym="APPEND">append</a> (<a class="sym-link local-def" href="#def-info-for-built-in-clause-rules1" data-sym="INFO-FOR-BUILT-IN-CLAUSE-RULES1" title="(defun info-for-built-in-clause-rules1 (rules numes ens wrld)
  (if (null rules)
      nil
      (let* ((rule (car rules))
             (nume (access built-in-clause rule :nume))
...">info-for-built-in-clause-rules1</a> (<a class="sym-link system" href="axioms.html#def-cdar" data-sym="CDAR">cdar</a> alist)
        numes
        ens
        wrld)
      (<a class="sym-link local-def" href="#def-info-for-built-in-clause-rules" data-sym="INFO-FOR-BUILT-IN-CLAUSE-RULES" title="(defun info-for-built-in-clause-rules (alist numes ens wrld)
  (if (null alist)
      nil
      (append (info-for-built-in-clause-rules1 (cdar alist) numes ens wrld)
              (info-for-built-in-clause-rules (cdr alist) numes ens wrld))))">info-for-built-in-clause-rules</a> (cdr alist) numes ens wrld))))</pre>
  </div>

<div class="form-block function" id="def-info-for-compound-recognizer-rules" data-defines="INFO-FOR-COMPOUND-RECOGNIZER-RULES" data-references="CDR,DECODE-TYPE-SET,ENABLED-RUNEP,AND,LIST,CONS,MEMBER,T,EQ,OR,STRONGP,FALSE-TS,TRUE-TS,RUNE,RECOGNIZER-TUPLE,ACCESS,NUME,CAR,RULE,LET*,NULL,IF,WRLD,ENS,NUMES,RULES,DEFUN" data-used-by="INFO-FOR-X-RULES" data-part-name="INFO-FOR-COMPOUND-RECOGNIZER-RULES" data-part-args="WRLD,ENS,NUMES,RULES" data-part-body="CDR,INFO-FOR-COMPOUND-RECOGNIZER-RULES,DECODE-TYPE-SET,WRLD,ENS,ENABLED-RUNEP,AND,LIST,CONS,MEMBER,T,NUMES,EQ,OR,STRONGP,FALSE-TS,TRUE-TS,RUNE,RECOGNIZER-TUPLE,ACCESS,NUME,CAR,RULE,LET*,RULES,NULL,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="INFO-FOR-COMPOUND-RECOGNIZER-RULES">info-for-compound-recognizer-rules</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-info-for-compound-recognizer-rules" data-sym="INFO-FOR-COMPOUND-RECOGNIZER-RULES" title="(defun info-for-compound-recognizer-rules (rules numes ens wrld)
  (if (null rules)
      nil
      (let* ((rule (car rules))
             (nume (access recognizer-tuple rule :nume))
...">info-for-compound-recognizer-rules</a>
  (rules numes ens wrld)
  (if (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> rules)
    nil
    (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((rule (car rules)) (nume (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> recognizer-tuple rule <span class="keyword">:nume</span>))
        (rune (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> recognizer-tuple rule <span class="keyword">:rune</span>))
        (true-ts (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> recognizer-tuple rule <span class="keyword">:true-ts</span>))
        (false-ts (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> recognizer-tuple rule <span class="keyword">:false-ts</span>))
        (strongp (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> recognizer-tuple rule <span class="keyword">:strongp</span>)))
      (if (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> numes <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>) (<a class="sym-link system" href="axioms.html#def-member" data-sym="MEMBER">member</a> nume numes))
        (cons (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:rune</span> rune <span class="keyword">:compound-recognizer</span> nume)
            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:enabled</span> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (enabled-runep rune ens wrld) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>))
            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:fn</span> (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> recognizer-tuple rule <span class="keyword">:fn</span>))
            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:true-ts</span> (decode-type-set true-ts) true-ts)
            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:false-ts</span> (decode-type-set false-ts) false-ts)
            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:strongp</span> strongp))
          (<a class="sym-link local-def" href="#def-info-for-compound-recognizer-rules" data-sym="INFO-FOR-COMPOUND-RECOGNIZER-RULES" title="(defun info-for-compound-recognizer-rules (rules numes ens wrld)
  (if (null rules)
      nil
      (let* ((rule (car rules))
             (nume (access recognizer-tuple rule :nume))
...">info-for-compound-recognizer-rules</a> (cdr rules)
            numes
            ens
            wrld))
        (<a class="sym-link local-def" href="#def-info-for-compound-recognizer-rules" data-sym="INFO-FOR-COMPOUND-RECOGNIZER-RULES" title="(defun info-for-compound-recognizer-rules (rules numes ens wrld)
  (if (null rules)
      nil
      (let* ((rule (car rules))
             (nume (access recognizer-tuple rule :nume))
...">info-for-compound-recognizer-rules</a> (cdr rules)
          numes
          ens
          wrld)))))</pre>
  </div>

<div class="form-block function" id="def-info-for-generalize-rules" data-defines="INFO-FOR-GENERALIZE-RULES" data-references="CDR,UNTRANSLATE,ENABLED-RUNEP,AND,LIST,CONS,MEMBER,T,EQ,OR,FORMULA,RUNE,GENERALIZE-RULE,ACCESS,NUME,CAR,RULE,LET*,NULL,IF,WRLD,ENS,NUMES,RULES,DEFUN" data-used-by="INFO-FOR-X-RULES" data-part-name="INFO-FOR-GENERALIZE-RULES" data-part-args="WRLD,ENS,NUMES,RULES" data-part-body="CDR,INFO-FOR-GENERALIZE-RULES,UNTRANSLATE,WRLD,ENS,ENABLED-RUNEP,AND,LIST,CONS,MEMBER,T,NUMES,EQ,OR,FORMULA,RUNE,GENERALIZE-RULE,ACCESS,NUME,CAR,RULE,LET*,RULES,NULL,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="INFO-FOR-GENERALIZE-RULES">info-for-generalize-rules</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-info-for-generalize-rules" data-sym="INFO-FOR-GENERALIZE-RULES" title="(defun info-for-generalize-rules (rules numes ens wrld)
  (if (null rules)
      nil
      (let* ((rule (car rules))
             (nume (access generalize-rule rule :nume))
...">info-for-generalize-rules</a>
  (rules numes ens wrld)
  (if (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> rules)
    nil
    (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((rule (car rules)) (nume (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> generalize-rule rule <span class="keyword">:nume</span>))
        (rune (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> generalize-rule rule <span class="keyword">:rune</span>))
        (<a class="sym-link system" href="history-management.html#def-formula" data-sym="FORMULA">formula</a> (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> generalize-rule rule <span class="keyword">:formula</span>)))
      (if (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> numes <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>) (<a class="sym-link system" href="axioms.html#def-member" data-sym="MEMBER">member</a> nume numes))
        (cons (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:rune</span> rune <span class="keyword">:generalize</span> nume)
            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:enabled</span> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (enabled-runep rune ens wrld) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>))
            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:formula</span> (untranslate <a class="sym-link system" href="history-management.html#def-formula" data-sym="FORMULA">formula</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> wrld) <a class="sym-link system" href="history-management.html#def-formula" data-sym="FORMULA">formula</a>))
          (<a class="sym-link local-def" href="#def-info-for-generalize-rules" data-sym="INFO-FOR-GENERALIZE-RULES" title="(defun info-for-generalize-rules (rules numes ens wrld)
  (if (null rules)
      nil
      (let* ((rule (car rules))
             (nume (access generalize-rule rule :nume))
...">info-for-generalize-rules</a> (cdr rules) numes ens wrld))
        (<a class="sym-link local-def" href="#def-info-for-generalize-rules" data-sym="INFO-FOR-GENERALIZE-RULES" title="(defun info-for-generalize-rules (rules numes ens wrld)
  (if (null rules)
      nil
      (let* ((rule (car rules))
             (nume (access generalize-rule rule :nume))
...">info-for-generalize-rules</a> (cdr rules) numes ens wrld)))))</pre>
  </div>

<div class="form-block function" id="def-info-for-linear-lemmas" data-defines="INFO-FOR-LINEAR-LEMMAS" data-references="CDR,UNTRANSLATE,UNTRANSLATE-HYPS,ENABLED-RUNEP,AND,LIST,CONS,MEMBER,T,EQ,OR,BACKCHAIN-LIMIT-LST,MAX-TERM,CONCL,HYPS,RUNE,LINEAR-LEMMA,ACCESS,NUME,CAR,RULE,LET*,NULL,IF,WRLD,ENS,NUMES,RULES,DEFUN" data-used-by="INFO-FOR-X-RULES" data-part-name="INFO-FOR-LINEAR-LEMMAS" data-part-args="WRLD,ENS,NUMES,RULES" data-part-body="CDR,INFO-FOR-LINEAR-LEMMAS,UNTRANSLATE,UNTRANSLATE-HYPS,WRLD,ENS,ENABLED-RUNEP,AND,LIST,CONS,MEMBER,T,NUMES,EQ,OR,BACKCHAIN-LIMIT-LST,MAX-TERM,CONCL,HYPS,RUNE,LINEAR-LEMMA,ACCESS,NUME,CAR,RULE,LET*,RULES,NULL,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="INFO-FOR-LINEAR-LEMMAS">info-for-linear-lemmas</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-info-for-linear-lemmas" data-sym="INFO-FOR-LINEAR-LEMMAS" title="(defun info-for-linear-lemmas (rules numes ens wrld)
  (if (null rules)
      nil
      (let* ((rule (car rules))
             (nume (access linear-lemma rule :nume))
...">info-for-linear-lemmas</a>
  (rules numes ens wrld)
  (if (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> rules)
    nil
    (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((rule (car rules)) (nume (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> linear-lemma rule <span class="keyword">:nume</span>))
        (rune (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> linear-lemma rule <span class="keyword">:rune</span>))
        (hyps (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> linear-lemma rule <span class="keyword">:hyps</span>))
        (concl (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> linear-lemma rule <span class="keyword">:concl</span>))
        (max-term (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> linear-lemma rule <span class="keyword">:max-term</span>))
        (backchain-limit-lst (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> linear-lemma rule <span class="keyword">:backchain-limit-lst</span>)))
      (if (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> numes <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>) (<a class="sym-link system" href="axioms.html#def-member" data-sym="MEMBER">member</a> nume numes))
        (cons (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:rune</span> rune <span class="keyword">:linear</span> nume)
            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:enabled</span> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (enabled-runep rune ens wrld) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>))
            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:hyps</span> (<a class="sym-link local-def" href="#def-untranslate-hyps" data-sym="UNTRANSLATE-HYPS" title="(defun untranslate-hyps (hyps wrld)
  (cond ((null hyps) t) ((null (cdr hyps)) (untranslate (car hyps) t wrld))
        (t (cons &#39;and (untranslate-lst hyps t wrld)))))">untranslate-hyps</a> hyps wrld) hyps)
            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:concl</span> (untranslate concl nil wrld) concl)
            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:max-term</span> (untranslate max-term nil wrld) max-term)
            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:backchain-limit-lst</span> backchain-limit-lst))
          (<a class="sym-link local-def" href="#def-info-for-linear-lemmas" data-sym="INFO-FOR-LINEAR-LEMMAS" title="(defun info-for-linear-lemmas (rules numes ens wrld)
  (if (null rules)
      nil
      (let* ((rule (car rules))
             (nume (access linear-lemma rule :nume))
...">info-for-linear-lemmas</a> (cdr rules) numes ens wrld))
        (<a class="sym-link local-def" href="#def-info-for-linear-lemmas" data-sym="INFO-FOR-LINEAR-LEMMAS" title="(defun info-for-linear-lemmas (rules numes ens wrld)
  (if (null rules)
      nil
      (let* ((rule (car rules))
             (nume (access linear-lemma rule :nume))
...">info-for-linear-lemmas</a> (cdr rules) numes ens wrld)))))</pre>
  </div>

<div class="form-block function" id="def-info-for-eliminate-destructors-rules" data-defines="INFO-FOR-ELIMINATE-DESTRUCTORS-RULES" data-references="CDR,UNTRANSLATE-LST,UNTRANSLATE,UNTRANSLATE-HYPS,ENABLED-RUNEP,AND,LIST,CONS,MEMBER,T,EQ,OR,CRUCIAL-POSITION,DESTRUCTOR-TERMS,DESTRUCTOR-TERM,RHS,LHS,EQUIV,HYPS,NUME,ELIM-RULE,ACCESS,RUNE,CAR,RULE,LET*,NULL,IF,WRLD,ENS,NUMES,RULES,DEFUN" data-used-by="INFO-FOR-X-RULES" data-part-name="INFO-FOR-ELIMINATE-DESTRUCTORS-RULES" data-part-args="WRLD,ENS,NUMES,RULES" data-part-body="CDR,INFO-FOR-ELIMINATE-DESTRUCTORS-RULES,UNTRANSLATE-LST,UNTRANSLATE,UNTRANSLATE-HYPS,WRLD,ENS,ENABLED-RUNEP,AND,LIST,CONS,MEMBER,T,NUMES,EQ,OR,CRUCIAL-POSITION,DESTRUCTOR-TERMS,DESTRUCTOR-TERM,RHS,LHS,EQUIV,HYPS,NUME,ELIM-RULE,ACCESS,RUNE,CAR,RULE,LET*,RULES,NULL,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="INFO-FOR-ELIMINATE-DESTRUCTORS-RULES">info-for-eliminate-destructors-rules</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-info-for-eliminate-destructors-rules" data-sym="INFO-FOR-ELIMINATE-DESTRUCTORS-RULES" title="(defun info-for-eliminate-destructors-rules (rules numes ens wrld)
  (if (null rules)
      nil
      (let* ((rule (car rules))
             (rune (access elim-rule rule :rune))
...">info-for-eliminate-destructors-rules</a>
  (rules numes ens wrld)
  (if (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> rules)
    nil
    (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((rule (car rules)) (rune (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> elim-rule rule <span class="keyword">:rune</span>))
        (nume (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> elim-rule rule <span class="keyword">:nume</span>))
        (hyps (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> elim-rule rule <span class="keyword">:hyps</span>))
        (equiv (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> elim-rule rule <span class="keyword">:equiv</span>))
        (lhs (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> elim-rule rule <span class="keyword">:lhs</span>))
        (rhs (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> elim-rule rule <span class="keyword">:rhs</span>))
        (destructor-term (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> elim-rule rule <span class="keyword">:destructor-term</span>))
        (destructor-terms (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> elim-rule rule <span class="keyword">:destructor-terms</span>))
        (crucial-position (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> elim-rule rule <span class="keyword">:crucial-position</span>)))
      (if (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> numes <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>) (<a class="sym-link system" href="axioms.html#def-member" data-sym="MEMBER">member</a> nume numes))
        (cons (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:rune</span> rune <span class="keyword">:elim</span> nume)
            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:enabled</span> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (enabled-runep rune ens wrld) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>))
            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:hyps</span> (<a class="sym-link local-def" href="#def-untranslate-hyps" data-sym="UNTRANSLATE-HYPS" title="(defun untranslate-hyps (hyps wrld)
  (cond ((null hyps) t) ((null (cdr hyps)) (untranslate (car hyps) t wrld))
        (t (cons &#39;and (untranslate-lst hyps t wrld)))))">untranslate-hyps</a> hyps wrld) hyps)
            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:equiv</span> equiv)
            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:lhs</span> (untranslate lhs nil wrld) lhs)
            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:rhs</span> (untranslate rhs nil wrld) rhs)
            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:destructor-term</span> (untranslate destructor-term nil wrld)
              destructor-term)
            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:destructor-terms</span> (untranslate-lst destructor-terms nil wrld)
              destructor-terms)
            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:crucial-position</span> crucial-position))
          (<a class="sym-link local-def" href="#def-info-for-eliminate-destructors-rules" data-sym="INFO-FOR-ELIMINATE-DESTRUCTORS-RULES" title="(defun info-for-eliminate-destructors-rules (rules numes ens wrld)
  (if (null rules)
      nil
      (let* ((rule (car rules))
             (rune (access elim-rule rule :rune))
...">info-for-eliminate-destructors-rules</a> (cdr rules)
            numes
            ens
            wrld))
        (<a class="sym-link local-def" href="#def-info-for-eliminate-destructors-rules" data-sym="INFO-FOR-ELIMINATE-DESTRUCTORS-RULES" title="(defun info-for-eliminate-destructors-rules (rules numes ens wrld)
  (if (null rules)
      nil
      (let* ((rule (car rules))
             (rune (access elim-rule rule :rune))
...">info-for-eliminate-destructors-rules</a> (cdr rules)
          numes
          ens
          wrld)))))</pre>
  </div>

<div class="form-block function" id="def-info-for-congruences" data-defines="INFO-FOR-CONGRUENCES" data-references="IGNORE,DECLARE,WRLD,ENS,NUMES,VAL,DEFUN" data-used-by="INFO-FOR-X-RULES" data-part-name="INFO-FOR-CONGRUENCES" data-part-args="WRLD,ENS,NUMES,VAL" data-part-declare="WRLD,ENS,NUMES,VAL,IGNORE,DECLARE" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="INFO-FOR-CONGRUENCES">info-for-congruences</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-info-for-congruences" data-sym="INFO-FOR-CONGRUENCES" title="(defun info-for-congruences (val numes ens wrld)
  (declare (ignore val numes ens wrld))
  nil)">info-for-congruences</a>
  (val numes ens wrld)
  (declare (ignore val numes ens wrld))
  nil)</pre>
  </div>

<div class="form-block function" id="def-info-for-pequivs" data-defines="INFO-FOR-PEQUIVS" data-references="IGNORE,DECLARE,WRLD,ENS,NUMES,VAL,DEFUN" data-used-by="INFO-FOR-X-RULES" data-part-name="INFO-FOR-PEQUIVS" data-part-args="WRLD,ENS,NUMES,VAL" data-part-declare="WRLD,ENS,NUMES,VAL,IGNORE,DECLARE" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="INFO-FOR-PEQUIVS">info-for-pequivs</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-info-for-pequivs" data-sym="INFO-FOR-PEQUIVS" title="(defun info-for-pequivs (val numes ens wrld)
  (declare (ignore val numes ens wrld))
  nil)">info-for-pequivs</a>
  (val numes ens wrld)
  (declare (ignore val numes ens wrld))
  nil)</pre>
  </div>

<div class="form-block function" id="def-info-for-coarsenings" data-defines="INFO-FOR-COARSENINGS" data-references="IGNORE,DECLARE,WRLD,ENS,NUMES,VAL,DEFUN" data-used-by="INFO-FOR-X-RULES" data-part-name="INFO-FOR-COARSENINGS" data-part-args="WRLD,ENS,NUMES,VAL" data-part-declare="WRLD,ENS,NUMES,VAL,IGNORE,DECLARE" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="INFO-FOR-COARSENINGS">info-for-coarsenings</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-info-for-coarsenings" data-sym="INFO-FOR-COARSENINGS" title="(defun info-for-coarsenings (val numes ens wrld)
  (declare (ignore val numes ens wrld))
  nil)">info-for-coarsenings</a>
  (val numes ens wrld)
  (declare (ignore val numes ens wrld))
  nil)</pre>
  </div>

<div class="form-block function" id="def-info-for-forward-chaining-rules" data-defines="INFO-FOR-FORWARD-CHAINING-RULES" data-references="CDR,UNTRANSLATE-HYPS,UNTRANSLATE,ENABLED-RUNEP,AND,LIST,CONS,MEMBER,T,EQ,OR,CONCLS,HYPS,TRIGGER,NUME,FORWARD-CHAINING-RULE,ACCESS,RUNE,CAR,RULE,LET*,NULL,IF,WRLD,ENS,NUMES,RULES,DEFUN" data-used-by="INFO-FOR-X-RULES" data-part-name="INFO-FOR-FORWARD-CHAINING-RULES" data-part-args="WRLD,ENS,NUMES,RULES" data-part-body="CDR,INFO-FOR-FORWARD-CHAINING-RULES,UNTRANSLATE-HYPS,UNTRANSLATE,WRLD,ENS,ENABLED-RUNEP,AND,LIST,CONS,MEMBER,T,NUMES,EQ,OR,CONCLS,HYPS,TRIGGER,NUME,FORWARD-CHAINING-RULE,ACCESS,RUNE,CAR,RULE,LET*,RULES,NULL,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="INFO-FOR-FORWARD-CHAINING-RULES">info-for-forward-chaining-rules</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-info-for-forward-chaining-rules" data-sym="INFO-FOR-FORWARD-CHAINING-RULES" title="(defun info-for-forward-chaining-rules (rules numes ens wrld)
  (if (null rules)
      nil
      (let* ((rule (car rules))
             (rune (access forward-chaining-rule rule :rune))
...">info-for-forward-chaining-rules</a>
  (rules numes ens wrld)
  (if (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> rules)
    nil
    (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((rule (car rules)) (rune (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> forward-chaining-rule rule <span class="keyword">:rune</span>))
        (nume (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> forward-chaining-rule rule <span class="keyword">:nume</span>))
        (trigger (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> forward-chaining-rule rule <span class="keyword">:trigger</span>))
        (hyps (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> forward-chaining-rule rule <span class="keyword">:hyps</span>))
        (concls (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> forward-chaining-rule rule <span class="keyword">:concls</span>)))
      (if (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> numes <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>) (<a class="sym-link system" href="axioms.html#def-member" data-sym="MEMBER">member</a> nume numes))
        (cons (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:rune</span> rune <span class="keyword">:forward-chaining</span> nume)
            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:enabled</span> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (enabled-runep rune ens wrld) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>))
            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:trigger</span> (untranslate trigger nil wrld) trigger)
            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:hyps</span> (<a class="sym-link local-def" href="#def-untranslate-hyps" data-sym="UNTRANSLATE-HYPS" title="(defun untranslate-hyps (hyps wrld)
  (cond ((null hyps) t) ((null (cdr hyps)) (untranslate (car hyps) t wrld))
        (t (cons &#39;and (untranslate-lst hyps t wrld)))))">untranslate-hyps</a> hyps wrld) hyps)
            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:concls</span> (<a class="sym-link local-def" href="#def-untranslate-hyps" data-sym="UNTRANSLATE-HYPS" title="(defun untranslate-hyps (hyps wrld)
  (cond ((null hyps) t) ((null (cdr hyps)) (untranslate (car hyps) t wrld))
        (t (cons &#39;and (untranslate-lst hyps t wrld)))))">untranslate-hyps</a> concls wrld) concls))
          (<a class="sym-link local-def" href="#def-info-for-forward-chaining-rules" data-sym="INFO-FOR-FORWARD-CHAINING-RULES" title="(defun info-for-forward-chaining-rules (rules numes ens wrld)
  (if (null rules)
      nil
      (let* ((rule (car rules))
             (rune (access forward-chaining-rule rule :rune))
...">info-for-forward-chaining-rules</a> (cdr rules) numes ens wrld))
        (<a class="sym-link local-def" href="#def-info-for-forward-chaining-rules" data-sym="INFO-FOR-FORWARD-CHAINING-RULES" title="(defun info-for-forward-chaining-rules (rules numes ens wrld)
  (if (null rules)
      nil
      (let* ((rule (car rules))
             (rune (access forward-chaining-rule rule :rune))
...">info-for-forward-chaining-rules</a> (cdr rules) numes ens wrld)))))</pre>
  </div>

<div class="form-block function" id="def-decode-type-set-lst" data-defines="DECODE-TYPE-SET-LST" data-references="CDR,CAR,DECODE-TYPE-SET,CONS,IF,LST,DEFUN" data-part-name="DECODE-TYPE-SET-LST" data-part-args="LST" data-part-body="CDR,DECODE-TYPE-SET-LST,CAR,DECODE-TYPE-SET,CONS,LST,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DECODE-TYPE-SET-LST">decode-type-set-lst</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-decode-type-set-lst" data-sym="DECODE-TYPE-SET-LST" title="(defun decode-type-set-lst (lst)
  (if lst
      (cons (decode-type-set (car lst)) (decode-type-set-lst (cdr lst)))
      nil))">decode-type-set-lst</a>
  (lst)
  (if lst
    (cons (decode-type-set (car lst))
      (<a class="sym-link local-def" href="#def-decode-type-set-lst" data-sym="DECODE-TYPE-SET-LST" title="(defun decode-type-set-lst (lst)
  (if lst
      (cons (decode-type-set (car lst)) (decode-type-set-lst (cdr lst)))
      nil))">decode-type-set-lst</a> (cdr lst)))
    nil))</pre>
  </div>

<div class="form-block function" id="def-info-for-type-prescriptions" data-defines="INFO-FOR-TYPE-PRESCRIPTIONS" data-references="CDR,DECODE-TYPE-SET,UNTRANSLATE,UNTRANSLATE-HYPS,ENABLED-RUNEP,AND,LIST,CONS,MEMBER,T,EQ,OR,COROLLARY,VARS,BASIC-TS,BACKCHAIN-LIMIT-LST,HYPS,TERM,NUME,TYPE-PRESCRIPTION,ACCESS,RUNE,CAR,RULE,LET*,NULL,IF,WRLD,ENS,NUMES,RULES,DEFUN" data-used-by="INFO-FOR-X-RULES" data-part-name="INFO-FOR-TYPE-PRESCRIPTIONS" data-part-args="WRLD,ENS,NUMES,RULES" data-part-body="CDR,INFO-FOR-TYPE-PRESCRIPTIONS,DECODE-TYPE-SET,UNTRANSLATE,UNTRANSLATE-HYPS,WRLD,ENS,ENABLED-RUNEP,AND,LIST,CONS,MEMBER,T,NUMES,EQ,OR,COROLLARY,VARS,BASIC-TS,BACKCHAIN-LIMIT-LST,HYPS,TERM,NUME,TYPE-PRESCRIPTION,ACCESS,RUNE,CAR,RULE,LET*,RULES,NULL,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="INFO-FOR-TYPE-PRESCRIPTIONS">info-for-type-prescriptions</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-info-for-type-prescriptions" data-sym="INFO-FOR-TYPE-PRESCRIPTIONS" title="(defun info-for-type-prescriptions (rules numes ens wrld)
  (if (null rules)
      nil
      (let* ((rule (car rules))
             (rune (access type-prescription rule :rune))
...">info-for-type-prescriptions</a>
  (rules numes ens wrld)
  (if (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> rules)
    nil
    (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((rule (car rules)) (rune (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> type-prescription rule <span class="keyword">:rune</span>))
        (nume (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> type-prescription rule <span class="keyword">:nume</span>))
        (term (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> type-prescription rule <span class="keyword">:term</span>))
        (hyps (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> type-prescription rule <span class="keyword">:hyps</span>))
        (backchain-limit-lst (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> type-prescription rule <span class="keyword">:backchain-limit-lst</span>))
        (basic-ts (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> type-prescription rule <span class="keyword">:basic-ts</span>))
        (vars (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> type-prescription rule <span class="keyword">:vars</span>))
        (<a class="sym-link system" href="history-management.html#def-corollary" data-sym="COROLLARY">corollary</a> (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> type-prescription rule <span class="keyword">:corollary</span>)))
      (if (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> numes <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>) (<a class="sym-link system" href="axioms.html#def-member" data-sym="MEMBER">member</a> nume numes))
        (cons (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:rune</span> rune <span class="keyword">:type-prescription</span> nume)
            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:enabled</span> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (enabled-runep rune ens wrld) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>))
            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:hyps</span> (<a class="sym-link local-def" href="#def-untranslate-hyps" data-sym="UNTRANSLATE-HYPS" title="(defun untranslate-hyps (hyps wrld)
  (cond ((null hyps) t) ((null (cdr hyps)) (untranslate (car hyps) t wrld))
        (t (cons &#39;and (untranslate-lst hyps t wrld)))))">untranslate-hyps</a> hyps wrld) hyps)
            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:term</span> (untranslate term nil wrld) term)
            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:backchain-limit-lst</span> backchain-limit-lst)
            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:basic-ts</span> (decode-type-set basic-ts) basic-ts)
            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:vars</span> vars)
            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:corollary</span> (untranslate <a class="sym-link system" href="history-management.html#def-corollary" data-sym="COROLLARY">corollary</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> wrld) <a class="sym-link system" href="history-management.html#def-corollary" data-sym="COROLLARY">corollary</a>))
          (<a class="sym-link local-def" href="#def-info-for-type-prescriptions" data-sym="INFO-FOR-TYPE-PRESCRIPTIONS" title="(defun info-for-type-prescriptions (rules numes ens wrld)
  (if (null rules)
      nil
      (let* ((rule (car rules))
             (rune (access type-prescription rule :rune))
...">info-for-type-prescriptions</a> (cdr rules) numes ens wrld))
        (<a class="sym-link local-def" href="#def-info-for-type-prescriptions" data-sym="INFO-FOR-TYPE-PRESCRIPTIONS" title="(defun info-for-type-prescriptions (rules numes ens wrld)
  (if (null rules)
      nil
      (let* ((rule (car rules))
             (rune (access type-prescription rule :rune))
...">info-for-type-prescriptions</a> (cdr rules) numes ens wrld)))))</pre>
  </div>

<div class="form-block function" id="def-info-for-induction-rules" data-defines="INFO-FOR-INDUCTION-RULES" data-references="CDR,CONJOIN,UNTRANSLATE,ENABLED-RUNEP,AND,LIST,CONS,MEMBER,T,EQ,OR,SCHEME,CONDITION,PATTERN,NUME,INDUCTION-RULE,ACCESS,RUNE,CAR,RULE,LET*,NULL,IF,WRLD,ENS,NUMES,RULES,DEFUN" data-used-by="INFO-FOR-X-RULES" data-part-name="INFO-FOR-INDUCTION-RULES" data-part-args="WRLD,ENS,NUMES,RULES" data-part-body="CDR,INFO-FOR-INDUCTION-RULES,CONJOIN,UNTRANSLATE,WRLD,ENS,ENABLED-RUNEP,AND,LIST,CONS,MEMBER,T,NUMES,EQ,OR,SCHEME,CONDITION,PATTERN,NUME,INDUCTION-RULE,ACCESS,RUNE,CAR,RULE,LET*,RULES,NULL,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="INFO-FOR-INDUCTION-RULES">info-for-induction-rules</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-info-for-induction-rules" data-sym="INFO-FOR-INDUCTION-RULES" title="(defun info-for-induction-rules (rules numes ens wrld)
  (if (null rules)
      nil
      (let* ((rule (car rules))
             (rune (access induction-rule rule :rune))
...">info-for-induction-rules</a>
  (rules numes ens wrld)
  (if (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> rules)
    nil
    (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((rule (car rules)) (rune (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> induction-rule rule <span class="keyword">:rune</span>))
        (nume (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> induction-rule rule <span class="keyword">:nume</span>))
        (pattern (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> induction-rule rule <span class="keyword">:pattern</span>))
        (condition (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> induction-rule rule <span class="keyword">:condition</span>))
        (scheme (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> induction-rule rule <span class="keyword">:scheme</span>)))
      (if (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> numes <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>) (<a class="sym-link system" href="axioms.html#def-member" data-sym="MEMBER">member</a> nume numes))
        (cons (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:rune</span> rune <span class="keyword">:induction</span> nume)
            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:enabled</span> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (enabled-runep rune ens wrld) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>))
            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:pattern</span> (untranslate pattern nil wrld) pattern)
            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:condition</span> (untranslate (<a class="sym-link system" href="axioms.html#def-conjoin" data-sym="CONJOIN">conjoin</a> condition) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> wrld)
              condition)
            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:scheme</span> (untranslate scheme nil wrld) scheme))
          (<a class="sym-link local-def" href="#def-info-for-induction-rules" data-sym="INFO-FOR-INDUCTION-RULES" title="(defun info-for-induction-rules (rules numes ens wrld)
  (if (null rules)
      nil
      (let* ((rule (car rules))
             (rune (access induction-rule rule :rune))
...">info-for-induction-rules</a> (cdr rules) numes ens wrld))
        (<a class="sym-link local-def" href="#def-info-for-induction-rules" data-sym="INFO-FOR-INDUCTION-RULES" title="(defun info-for-induction-rules (rules numes ens wrld)
  (if (null rules)
      nil
      (let* ((rule (car rules))
             (rune (access induction-rule rule :rune))
...">info-for-induction-rules</a> (cdr rules) numes ens wrld)))))</pre>
  </div>

<div class="form-block function" id="def-info-for-type-set-inverter-rules" data-defines="INFO-FOR-TYPE-SET-INVERTER-RULES" data-references="CDR,UNTRANSLATE-HYPS,ENABLED-RUNEP,AND,LIST,CONS,MEMBER,T,EQ,OR,TERMS,TYPE-SET,NUME,TYPE-SET-INVERTER-RULE,ACCESS,RUNE,CAR,RULE,LET*,NULL,IF,WRLD,ENS,NUMES,RULES,DEFUN" data-used-by="INFO-FOR-X-RULES" data-part-name="INFO-FOR-TYPE-SET-INVERTER-RULES" data-part-args="WRLD,ENS,NUMES,RULES" data-part-body="CDR,INFO-FOR-TYPE-SET-INVERTER-RULES,UNTRANSLATE-HYPS,WRLD,ENS,ENABLED-RUNEP,AND,LIST,CONS,MEMBER,T,NUMES,EQ,OR,TERMS,TYPE-SET,NUME,TYPE-SET-INVERTER-RULE,ACCESS,RUNE,CAR,RULE,LET*,RULES,NULL,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="INFO-FOR-TYPE-SET-INVERTER-RULES">info-for-type-set-inverter-rules</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-info-for-type-set-inverter-rules" data-sym="INFO-FOR-TYPE-SET-INVERTER-RULES" title="(defun info-for-type-set-inverter-rules (rules numes ens wrld)
  (if (null rules)
      nil
      (let* ((rule (car rules))
             (rune (access type-set-inverter-rule rule :rune))
...">info-for-type-set-inverter-rules</a>
  (rules numes ens wrld)
  (if (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> rules)
    nil
    (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((rule (car rules)) (rune (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> type-set-inverter-rule rule <span class="keyword">:rune</span>))
        (nume (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> type-set-inverter-rule rule <span class="keyword">:nume</span>))
        (type-set (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> type-set-inverter-rule rule <span class="keyword">:ts</span>))
        (terms (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> type-set-inverter-rule rule <span class="keyword">:terms</span>)))
      (if (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> numes <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>) (<a class="sym-link system" href="axioms.html#def-member" data-sym="MEMBER">member</a> nume numes))
        (cons (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:rune</span> rune <span class="keyword">:type-set-inverter</span> nume)
            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:enabled</span> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (enabled-runep rune ens wrld) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>))
            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:type-set</span> type-set)
            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:condition</span> (<a class="sym-link local-def" href="#def-untranslate-hyps" data-sym="UNTRANSLATE-HYPS" title="(defun untranslate-hyps (hyps wrld)
  (cond ((null hyps) t) ((null (cdr hyps)) (untranslate (car hyps) t wrld))
        (t (cons &#39;and (untranslate-lst hyps t wrld)))))">untranslate-hyps</a> terms wrld) terms))
          (<a class="sym-link local-def" href="#def-info-for-type-set-inverter-rules" data-sym="INFO-FOR-TYPE-SET-INVERTER-RULES" title="(defun info-for-type-set-inverter-rules (rules numes ens wrld)
  (if (null rules)
      nil
      (let* ((rule (car rules))
             (rune (access type-set-inverter-rule rule :rune))
...">info-for-type-set-inverter-rules</a> (cdr rules)
            numes
            ens
            wrld))
        (<a class="sym-link local-def" href="#def-info-for-type-set-inverter-rules" data-sym="INFO-FOR-TYPE-SET-INVERTER-RULES" title="(defun info-for-type-set-inverter-rules (rules numes ens wrld)
  (if (null rules)
      nil
      (let* ((rule (car rules))
             (rune (access type-set-inverter-rule rule :rune))
...">info-for-type-set-inverter-rules</a> (cdr rules)
          numes
          ens
          wrld)))))</pre>
  </div>

<div class="form-block function" id="def-info-for-x-rules" data-defines="INFO-FOR-X-RULES" data-references="INFO-FOR-COMPOUND-RECOGNIZER-RULES,RECOGNIZER-ALIST,INFO-FOR-INDUCTION-RULES,INDUCTION-RULES,INFO-FOR-TYPE-PRESCRIPTIONS,TYPE-PRESCRIPTIONS,INFO-FOR-FORWARD-CHAINING-RULES,FORWARD-CHAINING-RULES,INFO-FOR-COARSENINGS,COARSENINGS,INFO-FOR-PEQUIVS,PEQUIVS,INFO-FOR-CONGRUENCES,CONGRUENCES,INFO-FOR-ELIMINATE-DESTRUCTORS-RULES,ELIMINATE-DESTRUCTORS-RULES,INFO-FOR-LINEAR-LEMMAS,LINEAR-LEMMAS,LEMMAS,T,OTHERWISE,INFO-FOR-LEMMAS,REWRITE-QUOTED-CONSTANT-RULES,INFO-FOR-GENERALIZE-RULES,GENERALIZE-RULES,INFO-FOR-TYPE-SET-INVERTER-RULES,TYPE-SET-INVERTER-RULES,INFO-FOR-BUILT-IN-CLAUSE-RULES,BUILT-IN-CLAUSES,INFO-FOR-WELL-FOUNDED-RELATION-RULES,CDR,CONSP,IF,WELL-FOUNDED-RELATION-ALIST,CASE,GLOBAL-VALUE,QUOTE,EQ,COND,WRLD,ENS,NUMES,VAL,KEY,SYM,DEFUN" data-used-by="INFO-FOR-RULES" data-part-name="INFO-FOR-X-RULES" data-part-args="WRLD,ENS,NUMES,VAL,KEY,SYM" data-part-body="INFO-FOR-COMPOUND-RECOGNIZER-RULES,RECOGNIZER-ALIST,INFO-FOR-INDUCTION-RULES,INDUCTION-RULES,INFO-FOR-TYPE-PRESCRIPTIONS,TYPE-PRESCRIPTIONS,INFO-FOR-FORWARD-CHAINING-RULES,FORWARD-CHAINING-RULES,INFO-FOR-COARSENINGS,COARSENINGS,INFO-FOR-PEQUIVS,PEQUIVS,INFO-FOR-CONGRUENCES,CONGRUENCES,INFO-FOR-ELIMINATE-DESTRUCTORS-RULES,ELIMINATE-DESTRUCTORS-RULES,INFO-FOR-LINEAR-LEMMAS,LINEAR-LEMMAS,LEMMAS,T,OTHERWISE,INFO-FOR-LEMMAS,REWRITE-QUOTED-CONSTANT-RULES,INFO-FOR-GENERALIZE-RULES,GENERALIZE-RULES,INFO-FOR-TYPE-SET-INVERTER-RULES,TYPE-SET-INVERTER-RULES,WRLD,ENS,NUMES,INFO-FOR-BUILT-IN-CLAUSE-RULES,BUILT-IN-CLAUSES,INFO-FOR-WELL-FOUNDED-RELATION-RULES,VAL,CDR,CONSP,IF,WELL-FOUNDED-RELATION-ALIST,SYM,CASE,GLOBAL-VALUE,QUOTE,KEY,EQ,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="INFO-FOR-X-RULES">info-for-x-rules</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-info-for-x-rules" data-sym="INFO-FOR-X-RULES" title="(defun info-for-x-rules (sym key val numes ens wrld)
  (cond
   ((eq key &#39;global-value)
    (case sym
      (well-founded-relation-alist
...">info-for-x-rules</a>
  (sym key val numes ens wrld)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> key 'global-value) (<a class="sym-link system" href="axioms.html#def-case" data-sym="CASE">case</a> sym
        (well-founded-relation-alist (if (consp (cdr val))
            (<a class="sym-link local-def" href="#def-info-for-well-founded-relation-rules" data-sym="INFO-FOR-WELL-FOUNDED-RELATION-RULES" title="(defun info-for-well-founded-relation-rules (rules)
  (if (null rules)
      nil
      (let* ((rule (car rules)) (rune (cddr rule)))
        (cons
...">info-for-well-founded-relation-rules</a> val)
            nil))
        (built-in-clauses (<a class="sym-link local-def" href="#def-info-for-built-in-clause-rules" data-sym="INFO-FOR-BUILT-IN-CLAUSE-RULES" title="(defun info-for-built-in-clause-rules (alist numes ens wrld)
  (if (null alist)
      nil
      (append (info-for-built-in-clause-rules1 (cdar alist) numes ens wrld)
              (info-for-built-in-clause-rules (cdr alist) numes ens wrld))))">info-for-built-in-clause-rules</a> val numes ens wrld))
        (type-set-inverter-rules (<a class="sym-link local-def" href="#def-info-for-type-set-inverter-rules" data-sym="INFO-FOR-TYPE-SET-INVERTER-RULES" title="(defun info-for-type-set-inverter-rules (rules numes ens wrld)
  (if (null rules)
      nil
      (let* ((rule (car rules))
             (rune (access type-set-inverter-rule rule :rune))
...">info-for-type-set-inverter-rules</a> val numes ens wrld))
        (generalize-rules (<a class="sym-link local-def" href="#def-info-for-generalize-rules" data-sym="INFO-FOR-GENERALIZE-RULES" title="(defun info-for-generalize-rules (rules numes ens wrld)
  (if (null rules)
      nil
      (let* ((rule (car rules))
             (nume (access generalize-rule rule :nume))
...">info-for-generalize-rules</a> val numes ens wrld))
        (rewrite-quoted-constant-rules (<a class="sym-link local-def" href="#def-info-for-lemmas" data-sym="INFO-FOR-LEMMAS" title="(defun info-for-lemmas (lemmas numes ens wrld)
  (if (null lemmas)
      nil
      (let* ((rule (car lemmas))
             (nume (access rewrite-rule rule :nume))
...">info-for-lemmas</a> val numes ens wrld))
        (otherwise nil)))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-case" data-sym="CASE">case</a> key
        (lemmas (<a class="sym-link local-def" href="#def-info-for-lemmas" data-sym="INFO-FOR-LEMMAS" title="(defun info-for-lemmas (lemmas numes ens wrld)
  (if (null lemmas)
      nil
      (let* ((rule (car lemmas))
             (nume (access rewrite-rule rule :nume))
...">info-for-lemmas</a> val numes ens wrld))
        (linear-lemmas (<a class="sym-link local-def" href="#def-info-for-linear-lemmas" data-sym="INFO-FOR-LINEAR-LEMMAS" title="(defun info-for-linear-lemmas (rules numes ens wrld)
  (if (null rules)
      nil
      (let* ((rule (car rules))
             (nume (access linear-lemma rule :nume))
...">info-for-linear-lemmas</a> val numes ens wrld))
        (eliminate-destructors-rules (<a class="sym-link local-def" href="#def-info-for-eliminate-destructors-rules" data-sym="INFO-FOR-ELIMINATE-DESTRUCTORS-RULES" title="(defun info-for-eliminate-destructors-rules (rules numes ens wrld)
  (if (null rules)
      nil
      (let* ((rule (car rules))
             (rune (access elim-rule rule :rune))
...">info-for-eliminate-destructors-rules</a> val numes ens wrld))
        (congruences (<a class="sym-link local-def" href="#def-info-for-congruences" data-sym="INFO-FOR-CONGRUENCES" title="(defun info-for-congruences (val numes ens wrld)
  (declare (ignore val numes ens wrld))
  nil)">info-for-congruences</a> val numes ens wrld))
        (pequivs (<a class="sym-link local-def" href="#def-info-for-pequivs" data-sym="INFO-FOR-PEQUIVS" title="(defun info-for-pequivs (val numes ens wrld)
  (declare (ignore val numes ens wrld))
  nil)">info-for-pequivs</a> val numes ens wrld))
        (coarsenings (<a class="sym-link local-def" href="#def-info-for-coarsenings" data-sym="INFO-FOR-COARSENINGS" title="(defun info-for-coarsenings (val numes ens wrld)
  (declare (ignore val numes ens wrld))
  nil)">info-for-coarsenings</a> val numes ens wrld))
        (forward-chaining-rules (<a class="sym-link local-def" href="#def-info-for-forward-chaining-rules" data-sym="INFO-FOR-FORWARD-CHAINING-RULES" title="(defun info-for-forward-chaining-rules (rules numes ens wrld)
  (if (null rules)
      nil
      (let* ((rule (car rules))
             (rune (access forward-chaining-rule rule :rune))
...">info-for-forward-chaining-rules</a> val numes ens wrld))
        (type-prescriptions (<a class="sym-link local-def" href="#def-info-for-type-prescriptions" data-sym="INFO-FOR-TYPE-PRESCRIPTIONS" title="(defun info-for-type-prescriptions (rules numes ens wrld)
  (if (null rules)
      nil
      (let* ((rule (car rules))
             (rune (access type-prescription rule :rune))
...">info-for-type-prescriptions</a> val numes ens wrld))
        (induction-rules (<a class="sym-link local-def" href="#def-info-for-induction-rules" data-sym="INFO-FOR-INDUCTION-RULES" title="(defun info-for-induction-rules (rules numes ens wrld)
  (if (null rules)
      nil
      (let* ((rule (car rules))
             (rune (access induction-rule rule :rune))
...">info-for-induction-rules</a> val numes ens wrld))
        (recognizer-alist (<a class="sym-link local-def" href="#def-info-for-compound-recognizer-rules" data-sym="INFO-FOR-COMPOUND-RECOGNIZER-RULES" title="(defun info-for-compound-recognizer-rules (rules numes ens wrld)
  (if (null rules)
      nil
      (let* ((rule (car rules))
             (nume (access recognizer-tuple rule :nume))
...">info-for-compound-recognizer-rules</a> val numes ens wrld))
        (otherwise nil)))))</pre>
  </div>

<div class="form-block function" id="def-info-for-rules" data-defines="INFO-FOR-RULES" data-references="CDDAR,CAAR,INFO-FOR-X-RULES,APPEND,T,CDR,*ACL2-PROPERTY-UNBOUND*,CADAR,EQ,NULL,COND,WRLD,ENS,NUMES,PROPS,DEFUN" data-used-by="PR-BODY" data-part-name="INFO-FOR-RULES" data-part-args="WRLD,ENS,NUMES,PROPS" data-part-body="CDDAR,CAAR,INFO-FOR-X-RULES,APPEND,T,WRLD,ENS,NUMES,CDR,INFO-FOR-RULES,*ACL2-PROPERTY-UNBOUND*,CADAR,EQ,PROPS,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="INFO-FOR-RULES">info-for-rules</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-info-for-rules" data-sym="INFO-FOR-RULES" title="(defun info-for-rules (props numes ens wrld)
  (cond ((null props) nil)
        ((eq (cadar props) *acl2-property-unbound*)
         (info-for-rules (cdr props) numes ens wrld))
        (t
...">info-for-rules</a>
  (<a class="sym-link system" href="history-management.html#def-props" data-sym="PROPS">props</a> numes ens wrld)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> <a class="sym-link system" href="history-management.html#def-props" data-sym="PROPS">props</a>) nil)
    ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-cadar" data-sym="CADAR">cadar</a> <a class="sym-link system" href="history-management.html#def-props" data-sym="PROPS">props</a>) <a class="sym-link system" href="axioms.html#def-_2Aacl2-property-unbound_2A" data-sym="*ACL2-PROPERTY-UNBOUND*">*acl2-property-unbound*</a>) (<a class="sym-link local-def" href="#def-info-for-rules" data-sym="INFO-FOR-RULES" title="(defun info-for-rules (props numes ens wrld)
  (cond ((null props) nil)
        ((eq (cadar props) *acl2-property-unbound*)
         (info-for-rules (cdr props) numes ens wrld))
        (t
...">info-for-rules</a> (cdr <a class="sym-link system" href="history-management.html#def-props" data-sym="PROPS">props</a>) numes ens wrld))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-append" data-sym="APPEND">append</a> (<a class="sym-link local-def" href="#def-info-for-x-rules" data-sym="INFO-FOR-X-RULES" title="(defun info-for-x-rules (sym key val numes ens wrld)
  (cond
   ((eq key &#39;global-value)
    (case sym
      (well-founded-relation-alist
...">info-for-x-rules</a> (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> <a class="sym-link system" href="history-management.html#def-props" data-sym="PROPS">props</a>)
          (<a class="sym-link system" href="axioms.html#def-cadar" data-sym="CADAR">cadar</a> <a class="sym-link system" href="history-management.html#def-props" data-sym="PROPS">props</a>)
          (<a class="sym-link system" href="axioms.html#def-cddar" data-sym="CDDAR">cddar</a> <a class="sym-link system" href="history-management.html#def-props" data-sym="PROPS">props</a>)
          numes
          ens
          wrld)
        (<a class="sym-link local-def" href="#def-info-for-rules" data-sym="INFO-FOR-RULES" title="(defun info-for-rules (props numes ens wrld)
  (cond ((null props) nil)
        ((eq (cadar props) *acl2-property-unbound*)
         (info-for-rules (cdr props) numes ens wrld))
        (t
...">info-for-rules</a> (cdr <a class="sym-link system" href="history-management.html#def-props" data-sym="PROPS">props</a>) numes ens wrld)))))</pre>
  </div>

<div class="form-block function" id="def-print-info-for-rules-entry" data-defines="PRINT-INFO-FOR-RULES-ENTRY" data-references="IGNORE,DECLARE,T,CAAR,<,COND,STRING,CDR,STRING-DOWNCASE1,QUOTE,COERCE,LST,CAR,SYMBOL-NAME,NAME,LET*,CONS,LIST,FMT1,COL,MV-LET,CONSP,NOT,IF,STATE,CHAN,VALS,KEYS,DEFUN" data-used-by="PRINT-INFO-FOR-RULES" data-part-name="PRINT-INFO-FOR-RULES-ENTRY" data-part-args="STATE,CHAN,VALS,KEYS" data-part-body="PRINT-INFO-FOR-RULES-ENTRY,IGNORE,DECLARE,T,VALS,CAAR,<,COND,CHAN,STRING,CDR,STRING-DOWNCASE1,QUOTE,COERCE,LST,CAR,SYMBOL-NAME,NAME,LET*,CONS,LIST,FMT1,COL,MV-LET,STATE,KEYS,CONSP,NOT,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="PRINT-INFO-FOR-RULES-ENTRY">print-info-for-rules-entry</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-print-info-for-rules-entry" data-sym="PRINT-INFO-FOR-RULES-ENTRY" title="(defun print-info-for-rules-entry (keys vals chan state)
  (if (not (consp keys))
      state
      (mv-let (col state)
              (fmt1 &quot;~s0:&quot;
...">print-info-for-rules-entry</a>
  (keys vals chan state)
  (if (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (consp keys))
    state
    (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (col state)
      (<a class="sym-link system" href="basis-a.html#def-fmt1" data-sym="FMT1">fmt1</a> <span class="string">"~s0:"</span>
        (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (cons #\0
            (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((name (symbol-name (car keys))) (lst (coerce name '<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a>)))
              (coerce (cons (car lst) (<a class="sym-link system" href="axioms.html#def-string-downcase1" data-sym="STRING-DOWNCASE1">string-downcase1</a> (cdr lst)))
                '<a class="sym-link system" href="axioms.html#def-string" data-sym="STRING">string</a>))))
        <span class="number">0</span>
        chan
        state
        nil)
      (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (col state)
        (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((&lt; col <span class="number">14</span>) (<a class="sym-link system" href="basis-a.html#def-fmt1" data-sym="FMT1">fmt1</a> <span class="string">"~t0~q1"</span>
              (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (cons #\0 <span class="number">14</span>) (cons #\1 (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> vals)))
              col
              chan
              state
              nil))
          (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="basis-a.html#def-fmt1" data-sym="FMT1">fmt1</a> <span class="string">" ~q0"</span>
              (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (cons #\0 (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> vals)))
              col
              chan
              state
              nil)))
        (declare (ignore col))
        (<a class="sym-link local-def" href="#def-print-info-for-rules-entry" data-sym="PRINT-INFO-FOR-RULES-ENTRY" title="(defun print-info-for-rules-entry (keys vals chan state)
  (if (not (consp keys))
      state
      (mv-let (col state)
              (fmt1 &quot;~s0:&quot;
...">print-info-for-rules-entry</a> (cdr keys)
          (cdr vals)
          chan
          state)))))</pre>
  </div>

<div class="form-block function" id="def-print-info-for-rules" data-defines="PRINT-INFO-FOR-RULES" data-references="CDR,STRIP-CDRS,CAR,STRIP-CARS,PRINT-INFO-FOR-RULES-ENTRY,NEWLINE,PPROGN,VALUE,CONSP,NOT,IF,STATE,CHAN,INFO,DEFUN" data-used-by="PR-BODY" data-part-name="PRINT-INFO-FOR-RULES" data-part-args="STATE,CHAN,INFO" data-part-body="CDR,PRINT-INFO-FOR-RULES,STRIP-CDRS,CAR,STRIP-CARS,PRINT-INFO-FOR-RULES-ENTRY,STATE,CHAN,NEWLINE,PPROGN,VALUE,INFO,CONSP,NOT,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="PRINT-INFO-FOR-RULES">print-info-for-rules</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-print-info-for-rules" data-sym="PRINT-INFO-FOR-RULES" title="(defun print-info-for-rules (info chan state)
  (if (not (consp info))
      (value :invisible)
      (pprogn (newline chan state)
              (print-info-for-rules-entry (strip-cars (car info))
...">print-info-for-rules</a>
  (info chan state)
  (if (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (consp info))
    (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> <span class="keyword">:invisible</span>)
    (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link system" href="basis-a.html#def-newline" data-sym="NEWLINE">newline</a> chan state)
      (<a class="sym-link local-def" href="#def-print-info-for-rules-entry" data-sym="PRINT-INFO-FOR-RULES-ENTRY" title="(defun print-info-for-rules-entry (keys vals chan state)
  (if (not (consp keys))
      state
      (mv-let (col state)
              (fmt1 &quot;~s0:&quot;
...">print-info-for-rules-entry</a> (<a class="sym-link system" href="axioms.html#def-strip-cars" data-sym="STRIP-CARS">strip-cars</a> (car info))
        (<a class="sym-link system" href="axioms.html#def-strip-cdrs" data-sym="STRIP-CDRS">strip-cdrs</a> (car info))
        chan
        state)
      (<a class="sym-link local-def" href="#def-print-info-for-rules" data-sym="PRINT-INFO-FOR-RULES" title="(defun print-info-for-rules (info chan state)
  (if (not (consp info))
      (value :invisible)
      (pprogn (newline chan state)
              (print-info-for-rules-entry (strip-cars (car info))
...">print-info-for-rules</a> (cdr info) chan state))))</pre>
  </div>

<div class="form-block function" id="def-replace-prop" data-defines="REPLACE-PROP" data-references="CAR,T,CDR,LIST*,CONS,CADAR,CAAR,EQ,AND,ENDP,COND,WORLD-ALIST,VAL,KEY,SYMB,DEFUN" data-used-by="RESTRICT-PKG-IMPORTS" data-part-name="REPLACE-PROP" data-part-args="WORLD-ALIST,VAL,KEY,SYMB" data-part-body="REPLACE-PROP,CAR,T,CDR,VAL,LIST*,CONS,KEY,CADAR,SYMB,CAAR,EQ,AND,WORLD-ALIST,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="REPLACE-PROP">replace-prop</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-replace-prop" data-sym="REPLACE-PROP" title="(defun replace-prop (symb key val world-alist)
  (cond ((endp world-alist) nil)
        ((and (eq (caar world-alist) symb) (eq (cadar world-alist) key))
         (cons (list* symb key val) (cdr world-alist)))
        (t
...">replace-prop</a>
  (symb key val world-alist)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> world-alist) nil)
    ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> world-alist) symb)
       (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-cadar" data-sym="CADAR">cadar</a> world-alist) key)) (cons (<a class="sym-link system" href="axioms.html#def-list_2A" data-sym="LIST*">list*</a> symb key val) (cdr world-alist)))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (cons (car world-alist)
        (<a class="sym-link local-def" href="#def-replace-prop" data-sym="REPLACE-PROP" title="(defun replace-prop (symb key val world-alist)
  (cond ((endp world-alist) nil)
        ((and (eq (caar world-alist) symb) (eq (cadar world-alist) key))
         (cons (list* symb key val) (cdr world-alist)))
        (t
...">replace-prop</a> symb key val (cdr world-alist))))))</pre>
  </div>

<div class="form-block function" id="def-restrict-pkg-imports" data-defines="RESTRICT-PKG-IMPORTS" data-references="T,CDDR,-,TAKE,REPLACE-PROP,LENGTH,NTHCDR,GETPROPC,OLD-PKG-IMPORTS,COND,LEMMAS,PKG-IMPORTS,QUOTE,ASSOC-EQ-EQ,TRIP,LET,WRLD,WRLD-SEGMENT,PROPS,DEFUN" data-used-by="PR-BODY" data-part-name="RESTRICT-PKG-IMPORTS" data-part-args="WRLD,WRLD-SEGMENT,PROPS" data-part-body="T,CDDR,-,TAKE,REPLACE-PROP,WRLD,WRLD-SEGMENT,LENGTH,NTHCDR,GETPROPC,OLD-PKG-IMPORTS,COND,PROPS,LEMMAS,PKG-IMPORTS,QUOTE,ASSOC-EQ-EQ,TRIP,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="RESTRICT-PKG-IMPORTS">restrict-pkg-imports</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-restrict-pkg-imports" data-sym="RESTRICT-PKG-IMPORTS" title="(defun restrict-pkg-imports (props wrld-segment wrld)
  (let ((trip (assoc-eq-eq &#39;pkg-imports &#39;lemmas props)))
    (cond
     (trip
      (let ((old-pkg-imports
...">restrict-pkg-imports</a>
  (<a class="sym-link system" href="history-management.html#def-props" data-sym="PROPS">props</a> wrld-segment wrld)
  (let ((trip (<a class="sym-link local-def" href="#def-assoc-eq-eq" data-sym="ASSOC-EQ-EQ" title="(defun assoc-eq-eq (x y alist)
  (cond ((endp alist) nil)
        ((and (eq (car (car alist)) x) (eq (car (cdr (car alist))) y))
         (car alist))
        (t (assoc-eq-eq x y (cdr alist)))))">assoc-eq-eq</a> 'pkg-imports 'lemmas <a class="sym-link system" href="history-management.html#def-props" data-sym="PROPS">props</a>)))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (trip (let ((old-pkg-imports (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> 'pkg-imports
               'lemmas
               nil
               (<a class="sym-link system" href="axioms.html#def-nthcdr" data-sym="NTHCDR">nthcdr</a> (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> wrld-segment) wrld))))
          (<a class="sym-link local-def" href="#def-replace-prop" data-sym="REPLACE-PROP" title="(defun replace-prop (symb key val world-alist)
  (cond ((endp world-alist) nil)
        ((and (eq (caar world-alist) symb) (eq (cadar world-alist) key))
         (cons (list* symb key val) (cdr world-alist)))
        (t
...">replace-prop</a> 'pkg-imports
            'lemmas
            (<a class="sym-link system" href="axioms.html#def-take" data-sym="TAKE">take</a> (<a class="sym-link system" href="axioms.html#def--" data-sym="-">-</a> (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> (<a class="sym-link system" href="axioms.html#def-cddr" data-sym="CDDR">cddr</a> trip)) (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> old-pkg-imports))
              (<a class="sym-link system" href="axioms.html#def-cddr" data-sym="CDDR">cddr</a> trip))
            <a class="sym-link system" href="history-management.html#def-props" data-sym="PROPS">props</a>)))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <a class="sym-link system" href="history-management.html#def-props" data-sym="PROPS">props</a>))))</pre>
  </div>

<div class="form-block function" id="def-pr-body" data-defines="PR-BODY" data-references="STANDARD-CO,ENS-MAYBE-BRR,INFO-FOR-RULES,RESTRICT-PKG-IMPORTS,T,EQ,IF,ACTUAL-PROPS,PROPS,LET*,PRINT-INFO-FOR-RULES,STATE,WRLD,NUMES,WRLD-SEGMENT,DEFUN" data-used-by="PR!-FN,PR-FN" data-part-name="PR-BODY" data-part-args="STATE,WRLD,NUMES,WRLD-SEGMENT" data-part-body="STANDARD-CO,STATE,ENS-MAYBE-BRR,INFO-FOR-RULES,WRLD,RESTRICT-PKG-IMPORTS,T,NUMES,EQ,IF,WRLD-SEGMENT,ACTUAL-PROPS,PROPS,LET*,PRINT-INFO-FOR-RULES" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="PR-BODY">pr-body</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-pr-body" data-sym="PR-BODY" title="(defun pr-body (wrld-segment numes wrld state)
  (print-info-for-rules
   (let* ((props (actual-props wrld-segment nil nil))
          (props
           (if (eq numes t)
...">pr-body</a>
  (wrld-segment numes wrld state)
  (<a class="sym-link local-def" href="#def-print-info-for-rules" data-sym="PRINT-INFO-FOR-RULES" title="(defun print-info-for-rules (info chan state)
  (if (not (consp info))
      (value :invisible)
      (pprogn (newline chan state)
              (print-info-for-rules-entry (strip-cars (car info))
...">print-info-for-rules</a> (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((<a class="sym-link system" href="history-management.html#def-props" data-sym="PROPS">props</a> (<a class="sym-link system" href="rewrite.html#def-actual-props" data-sym="ACTUAL-PROPS">actual-props</a> wrld-segment nil nil)) (<a class="sym-link system" href="history-management.html#def-props" data-sym="PROPS">props</a> (if (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> numes <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)
            (<a class="sym-link local-def" href="#def-restrict-pkg-imports" data-sym="RESTRICT-PKG-IMPORTS" title="(defun restrict-pkg-imports (props wrld-segment wrld)
  (let ((trip (assoc-eq-eq &#39;pkg-imports &#39;lemmas props)))
    (cond
     (trip
      (let ((old-pkg-imports
...">restrict-pkg-imports</a> <a class="sym-link system" href="history-management.html#def-props" data-sym="PROPS">props</a> wrld-segment wrld)
            <a class="sym-link system" href="history-management.html#def-props" data-sym="PROPS">props</a>)))
      (<a class="sym-link local-def" href="#def-info-for-rules" data-sym="INFO-FOR-RULES" title="(defun info-for-rules (props numes ens wrld)
  (cond ((null props) nil)
        ((eq (cadar props) *acl2-property-unbound*)
         (info-for-rules (cdr props) numes ens wrld))
        (t
...">info-for-rules</a> <a class="sym-link system" href="history-management.html#def-props" data-sym="PROPS">props</a> numes (<a class="sym-link system" href="history-management.html#def-ens-maybe-brr" data-sym="ENS-MAYBE-BRR">ens-maybe-brr</a> state) wrld))
    (<a class="sym-link system" href="basis-a.html#def-standard-co" data-sym="STANDARD-CO">standard-co</a> state)
    state))</pre>
  </div>

<div class="form-block function" id="def-pr-fn" data-defines="PR-FN" data-references="PR,SOFT,ER,CDR,CAR,CDDR,ACCESS-EVENT-TUPLE-DEPTH,WORLD-TO-NEXT-NON-DEEPER-EVENT,PR-BODY,GLOBAL-VALUE,CADAR,EVENT-LANDMARK,CAAR,ASSERT$,NULL,DECODE-LOGICAL-NAME,WRLD2,RUNIC-MAPPING-PAIRS,QUOTE,GETPROPC,STRIP-CARS,NUMES,T,VALUE,PRINT-UNDEFINED-PRIMITIVE-MSG,STANDARD-CO,CONS,LIST,FMS,EQ,IF,PPROGN,*PRIMITIVE-FORMALS-AND-GUARDS*,ASSOC-EQ,MACRO-ALIASES,DEREF-MACRO-NAME,NAME,W,WRLD,LET*,KEYWORDP,NOT,SYMBOLP,AND,COND,STATE,NAME0,DEFUN" data-used-by="PR" data-part-name="PR-FN" data-part-args="STATE,NAME0" data-part-body="PR,SOFT,ER,CDR,CAR,CDDR,ACCESS-EVENT-TUPLE-DEPTH,WORLD-TO-NEXT-NON-DEEPER-EVENT,PR-BODY,GLOBAL-VALUE,CADAR,EVENT-LANDMARK,CAAR,ASSERT$,NULL,DECODE-LOGICAL-NAME,WRLD2,RUNIC-MAPPING-PAIRS,QUOTE,GETPROPC,STRIP-CARS,NUMES,T,VALUE,PRINT-UNDEFINED-PRIMITIVE-MSG,STANDARD-CO,CONS,LIST,FMS,EQ,IF,PPROGN,*PRIMITIVE-FORMALS-AND-GUARDS*,ASSOC-EQ,MACRO-ALIASES,DEREF-MACRO-NAME,NAME,STATE,W,WRLD,LET*,KEYWORDP,NOT,NAME0,SYMBOLP,AND,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="PR-FN">pr-fn</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-pr-fn" data-sym="PR-FN" title="(defun pr-fn (name0 state)
  (cond
   ((and (symbolp name0) (not (keywordp name0)))
    (let* ((wrld (w state))
           (name (deref-macro-name name0 (macro-aliases wrld))))
...">pr-fn</a>
  (name0 state)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (symbolp name0) (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-keywordp" data-sym="KEYWORDP">keywordp</a> name0))) (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((wrld (<a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a> state)) (name (<a class="sym-link system" href="axioms.html#def-deref-macro-name" data-sym="DEREF-MACRO-NAME">deref-macro-name</a> name0 (<a class="sym-link system" href="axioms.html#def-macro-aliases" data-sym="MACRO-ALIASES">macro-aliases</a> wrld))))
        (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a> name <a class="sym-link system" href="basis-b.html#def-_2Aprimitive-formals-and-guards_2A" data-sym="*PRIMITIVE-FORMALS-AND-GUARDS*">*primitive-formals-and-guards*</a>) (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (if (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> name name0)
                state
                (<a class="sym-link system" href="basis-a.html#def-fms" data-sym="FMS">fms</a> <span class="string">"~x0 is a macro alias for ~x1."</span>
                  (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (cons #\0 name0) (cons #\1 name))
                  (<a class="sym-link system" href="basis-a.html#def-standard-co" data-sym="STANDARD-CO">standard-co</a> state)
                  state
                  nil))
              (<a class="sym-link system" href="history-management.html#def-print-undefined-primitive-msg" data-sym="PRINT-UNDEFINED-PRIMITIVE-MSG">print-undefined-primitive-msg</a> name
                (<a class="sym-link system" href="basis-a.html#def-standard-co" data-sym="STANDARD-CO">standard-co</a> state)
                state)
              (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> <span class="keyword">:invisible</span>)))
          (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((numes (<a class="sym-link system" href="axioms.html#def-strip-cars" data-sym="STRIP-CARS">strip-cars</a> (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> name 'runic-mapping-pairs nil wrld))) (wrld2 (<a class="sym-link system" href="rewrite.html#def-decode-logical-name" data-sym="DECODE-LOGICAL-NAME">decode-logical-name</a> name wrld)))
              (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> wrld2) (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil))
                (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-assert_24" data-sym="ASSERT$">assert$</a> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> wrld2) 'event-landmark)
                      (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-cadar" data-sym="CADAR">cadar</a> wrld2) 'global-value))
                    (<a class="sym-link local-def" href="#def-pr-body" data-sym="PR-BODY" title="(defun pr-body (wrld-segment numes wrld state)
  (print-info-for-rules
   (let* ((props (actual-props wrld-segment nil nil))
          (props
           (if (eq numes t)
...">pr-body</a> (<a class="sym-link system" href="rewrite.html#def-world-to-next-non-deeper-event" data-sym="WORLD-TO-NEXT-NON-DEEPER-EVENT">world-to-next-non-deeper-event</a> (access-event-tuple-depth (<a class="sym-link system" href="axioms.html#def-cddr" data-sym="CDDR">cddr</a> (car wrld2)))
                        (cdr wrld2))
                      numes
                      wrld
                      state)))))))))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
        '<a class="sym-link local-def" href="#def-pr" data-sym="PR" title="(defmacro pr (name) (list &#39;pr-fn name &#39;state))">pr</a>
        <span class="string">"The argument to PR must be a non-keyword symbol.  Perhaps you ~
                should use PR! instead."</span>))))</pre>
  </div>

<div class="form-block function" id="def-print-clause-processor-rules1" data-defines="PRINT-CLAUSE-PROCESSOR-RULES1" data-references="STANDARD-CO,TERM-EVISC-TUPLE,UNTRANSLATE,CONS,LIST,FMS,PPROGN,CDR,TERM,NAME,CAR,PAIR,LET*,VALUE,NULL,IF,STATE,WRLD,ALIST,DEFUN" data-used-by="PRINT-CLAUSE-PROCESSOR-RULES" data-part-name="PRINT-CLAUSE-PROCESSOR-RULES1" data-part-args="STATE,WRLD,ALIST" data-part-body="PRINT-CLAUSE-PROCESSOR-RULES1,STANDARD-CO,STATE,TERM-EVISC-TUPLE,WRLD,UNTRANSLATE,CONS,LIST,FMS,PPROGN,CDR,TERM,NAME,CAR,PAIR,LET*,VALUE,ALIST,NULL,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="PRINT-CLAUSE-PROCESSOR-RULES1">print-clause-processor-rules1</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-print-clause-processor-rules1" data-sym="PRINT-CLAUSE-PROCESSOR-RULES1" title="(defun print-clause-processor-rules1 (alist wrld state)
  (if (null alist)
      (value :invisible)
      (let* ((pair (car alist)) (name (car pair)) (term (cdr pair)))
        (pprogn
...">print-clause-processor-rules1</a>
  (alist wrld state)
  (if (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> alist)
    (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> <span class="keyword">:invisible</span>)
    (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((pair (car alist)) (name (car pair)) (term (cdr pair)))
      (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link system" href="basis-a.html#def-fms" data-sym="FMS">fms</a> <span class="string">"Rule ~x0:~|~P12~|"</span>
          (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (cons #\0 name)
            (cons #\1 (untranslate term nil wrld))
            (cons #\2 (<a class="sym-link system" href="basis-a.html#def-term-evisc-tuple" data-sym="TERM-EVISC-TUPLE">term-evisc-tuple</a> nil state)))
          (<a class="sym-link system" href="basis-a.html#def-standard-co" data-sym="STANDARD-CO">standard-co</a> state)
          state
          nil)
        (<a class="sym-link local-def" href="#def-print-clause-processor-rules1" data-sym="PRINT-CLAUSE-PROCESSOR-RULES1" title="(defun print-clause-processor-rules1 (alist wrld state)
  (if (null alist)
      (value :invisible)
      (let* ((pair (car alist)) (name (car pair)) (term (cdr pair)))
        (pprogn
...">print-clause-processor-rules1</a> (cdr alist) wrld state)))))</pre>
  </div>

<div class="form-block macro" id="def-print-clause-processor-rules" data-defines="PRINT-CLAUSE-PROCESSOR-RULES" data-references="CLAUSE-PROCESSOR-RULES,GLOBAL-VAL,PRINT-CLAUSE-PROCESSOR-RULES1,STATE,W,WRLD,LET,QUOTE,DEFMACRO" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="PRINT-CLAUSE-PROCESSOR-RULES">print-clause-processor-rules</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-print-clause-processor-rules" data-sym="PRINT-CLAUSE-PROCESSOR-RULES" title="(defmacro print-clause-processor-rules ()
  &#39;(let ((wrld (w state)))
     (print-clause-processor-rules1 (global-val &#39;clause-processor-rules wrld)
                                    wrld state)))">print-clause-processor-rules</a>
  nil
  '(let ((wrld (<a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a> state)))
    (<a class="sym-link local-def" href="#def-print-clause-processor-rules1" data-sym="PRINT-CLAUSE-PROCESSOR-RULES1" title="(defun print-clause-processor-rules1 (alist wrld state)
  (if (null alist)
      (value :invisible)
      (let* ((pair (car alist)) (name (car pair)) (term (cdr pair)))
        (pprogn
...">print-clause-processor-rules1</a> (<a class="sym-link system" href="axioms.html#def-global-val" data-sym="GLOBAL-VAL">global-val</a> 'clause-processor-rules wrld)
      wrld
      state)))</pre>
  </div>

<div class="form-block function" id="def-new-numes" data-defines="NEW-NUMES" data-references="T,CDR,STRIP-CARS,APPEND,*ACL2-PROPERTY-UNBOUND*,CDDR,NOT,RUNIC-MAPPING-PAIRS,QUOTE,CAR,CADR,EQ,AND,NULL,COND,WORLD-SEGMENT,DEFUN" data-part-name="NEW-NUMES" data-part-args="WORLD-SEGMENT" data-part-body="T,CDR,NEW-NUMES,STRIP-CARS,APPEND,*ACL2-PROPERTY-UNBOUND*,CDDR,NOT,RUNIC-MAPPING-PAIRS,QUOTE,CAR,CADR,EQ,AND,WORLD-SEGMENT,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="NEW-NUMES">new-numes</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-new-numes" data-sym="NEW-NUMES" title="(defun new-numes (world-segment)
  (cond ((null world-segment) nil)
        ((and (eq (cadr (car world-segment)) &#39;runic-mapping-pairs)
              (not (eq (cddr (car world-segment)) *acl2-property-unbound*)))
         (append (strip-cars (cddr (car world-segment)))
...">new-numes</a>
  (world-segment)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> world-segment) nil)
    ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (car world-segment)) 'runic-mapping-pairs)
       (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-cddr" data-sym="CDDR">cddr</a> (car world-segment)) <a class="sym-link system" href="axioms.html#def-_2Aacl2-property-unbound_2A" data-sym="*ACL2-PROPERTY-UNBOUND*">*acl2-property-unbound*</a>))) (<a class="sym-link system" href="axioms.html#def-append" data-sym="APPEND">append</a> (<a class="sym-link system" href="axioms.html#def-strip-cars" data-sym="STRIP-CARS">strip-cars</a> (<a class="sym-link system" href="axioms.html#def-cddr" data-sym="CDDR">cddr</a> (car world-segment)))
        (<a class="sym-link local-def" href="#def-new-numes" data-sym="NEW-NUMES" title="(defun new-numes (world-segment)
  (cond ((null world-segment) nil)
        ((and (eq (cadr (car world-segment)) &#39;runic-mapping-pairs)
              (not (eq (cddr (car world-segment)) *acl2-property-unbound*)))
         (append (strip-cars (cddr (car world-segment)))
...">new-numes</a> (cdr world-segment))))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-new-numes" data-sym="NEW-NUMES" title="(defun new-numes (world-segment)
  (cond ((null world-segment) nil)
        ((and (eq (cadr (car world-segment)) &#39;runic-mapping-pairs)
              (not (eq (cddr (car world-segment)) *acl2-property-unbound*)))
         (append (strip-cars (cddr (car world-segment)))
...">new-numes</a> (cdr world-segment)))))</pre>
  </div>

<div class="form-block function" id="def-world-to-next-command" data-defines="WORLD-TO-NEXT-COMMAND" data-references="CAR,CONS,CDR,T,GLOBAL-VALUE,CADAR,COMMAND-LANDMARK,QUOTE,CAAR,EQ,AND,REVERSE,NULL,COND,ANS,WRLD,DEFUN" data-used-by="PR!-FN" data-part-name="WORLD-TO-NEXT-COMMAND" data-part-args="ANS,WRLD" data-part-body="CAR,CONS,CDR,WORLD-TO-NEXT-COMMAND,T,GLOBAL-VALUE,CADAR,COMMAND-LANDMARK,QUOTE,CAAR,EQ,AND,ANS,REVERSE,WRLD,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="WORLD-TO-NEXT-COMMAND">world-to-next-command</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-world-to-next-command" data-sym="WORLD-TO-NEXT-COMMAND" title="(defun world-to-next-command (wrld ans)
  (cond ((null wrld) (reverse ans))
        ((and (eq (caar wrld) &#39;command-landmark)
              (eq (cadar wrld) &#39;global-value))
         (reverse ans))">world-to-next-command</a>
  (wrld ans)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> wrld) (<a class="sym-link system" href="axioms.html#def-reverse" data-sym="REVERSE">reverse</a> ans))
    ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> wrld) 'command-landmark)
       (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-cadar" data-sym="CADAR">cadar</a> wrld) 'global-value)) (<a class="sym-link system" href="axioms.html#def-reverse" data-sym="REVERSE">reverse</a> ans))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-world-to-next-command" data-sym="WORLD-TO-NEXT-COMMAND" title="(defun world-to-next-command (wrld ans)
  (cond ((null wrld) (reverse ans))
        ((and (eq (caar wrld) &#39;command-landmark)
              (eq (cadar wrld) &#39;global-value))
         (reverse ans))">world-to-next-command</a> (cdr wrld) (cons (car wrld) ans)))))</pre>
  </div>

<div class="form-block function" id="def-pr_21-fn" data-defines="PR!-FN" data-references="T,CDR,WORLD-TO-NEXT-COMMAND,PR-BODY,PRINT-NEW-RULES,QUOTE,ER-DECODE-CD,WRLD-TAIL,ER-LET*,W,WRLD,LET,STATE,CD,DEFUN" data-used-by="PR!" data-part-name="PR!-FN" data-part-args="STATE,CD" data-part-body="T,CDR,WORLD-TO-NEXT-COMMAND,PR-BODY,PRINT-NEW-RULES,QUOTE,CD,ER-DECODE-CD,WRLD-TAIL,ER-LET*,STATE,W,WRLD,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="PR!-FN">pr!-fn</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-pr_21-fn" data-sym="PR!-FN" title="(defun pr!-fn (cd state)
  (let ((wrld (w state)))
    (er-let* ((wrld-tail (er-decode-cd cd wrld &#39;print-new-rules state)))
             (pr-body (world-to-next-command (cdr wrld-tail) nil) t wrld
                      state))))">pr!-fn</a>
  (cd state)
  (let ((wrld (<a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a> state)))
    (<a class="sym-link system" href="basis-b.html#def-er-let_2A" data-sym="ER-LET*">er-let*</a> ((wrld-tail (<a class="sym-link system" href="history-management.html#def-er-decode-cd" data-sym="ER-DECODE-CD">er-decode-cd</a> cd wrld 'print-new-rules state)))
      (<a class="sym-link local-def" href="#def-pr-body" data-sym="PR-BODY" title="(defun pr-body (wrld-segment numes wrld state)
  (print-info-for-rules
   (let* ((props (actual-props wrld-segment nil nil))
          (props
           (if (eq numes t)
...">pr-body</a> (<a class="sym-link local-def" href="#def-world-to-next-command" data-sym="WORLD-TO-NEXT-COMMAND" title="(defun world-to-next-command (wrld ans)
  (cond ((null wrld) (reverse ans))
        ((and (eq (caar wrld) &#39;command-landmark)
              (eq (cadar wrld) &#39;global-value))
         (reverse ans))">world-to-next-command</a> (cdr wrld-tail) nil)
        <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
        wrld
        state))))</pre>
  </div>

<div class="form-block macro" id="def-pr" data-defines="PR" data-references="STATE,PR-FN,QUOTE,LIST,NAME,DEFMACRO" data-used-by="PR-FN" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="PR">pr</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-pr" data-sym="PR" title="(defmacro pr (name) (list &#39;pr-fn name &#39;state))">pr</a> (name) (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> '<a class="sym-link local-def" href="#def-pr-fn" data-sym="PR-FN" title="(defun pr-fn (name0 state)
  (cond
   ((and (symbolp name0) (not (keywordp name0)))
    (let* ((wrld (w state))
           (name (deref-macro-name name0 (macro-aliases wrld))))
...">pr-fn</a> name 'state))</pre>
  </div>

<div class="form-block macro" id="def-pr_21" data-defines="PR!" data-references="STATE,PR!-FN,QUOTE,LIST,CD,DEFMACRO" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="PR!">pr!</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-pr_21" data-sym="PR!" title="(defmacro pr! (cd) (list &#39;pr!-fn cd &#39;state))">pr!</a> (cd) (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> '<a class="sym-link local-def" href="#def-pr_21-fn" data-sym="PR!-FN" title="(defun pr!-fn (cd state)
  (let ((wrld (w state)))
    (er-let* ((wrld-tail (er-decode-cd cd wrld &#39;print-new-rules state)))
             (pr-body (world-to-next-command (cdr wrld-tail) nil) t wrld
                      state))))">pr!-fn</a> cd 'state))</pre>
  </div>

<div class="form-block function" id="def-disabledp-fn-lst" data-defines="DISABLEDP-FN-LST" data-references="CDAR,CONS,T,CDR,CAAR,ENABLED-NUMEP,ENDP,COND,FIXNAT-ALISTP,ENABLED-STRUCTURE-P,AND,XARGS,DECLARE,ENS,RUNIC-MAPPING-PAIRS,DEFUN" data-used-by="DISABLEDP-FN" data-part-name="DISABLEDP-FN-LST" data-part-args="ENS,RUNIC-MAPPING-PAIRS" data-part-declare="RUNIC-MAPPING-PAIRS,FIXNAT-ALISTP,ENS,ENABLED-STRUCTURE-P,AND,XARGS,DECLARE" data-part-body="CDAR,CONS,T,CDR,DISABLEDP-FN-LST,ENS,CAAR,ENABLED-NUMEP,RUNIC-MAPPING-PAIRS,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DISABLEDP-FN-LST">disabledp-fn-lst</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-disabledp-fn-lst" data-sym="DISABLEDP-FN-LST" title="(defun disabledp-fn-lst (runic-mapping-pairs ens)
  (declare
   (xargs :guard
    (and (enabled-structure-p ens) (fixnat-alistp runic-mapping-pairs))))
  (cond ((endp runic-mapping-pairs) nil)
...">disabledp-fn-lst</a>
  (runic-mapping-pairs ens)
  (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (enabled-structure-p ens)
        (<a class="sym-link system" href="axioms.html#def-fixnat-alistp" data-sym="FIXNAT-ALISTP">fixnat-alistp</a> runic-mapping-pairs))))
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> runic-mapping-pairs) nil)
    ((enabled-numep (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> runic-mapping-pairs) ens) (<a class="sym-link local-def" href="#def-disabledp-fn-lst" data-sym="DISABLEDP-FN-LST" title="(defun disabledp-fn-lst (runic-mapping-pairs ens)
  (declare
   (xargs :guard
    (and (enabled-structure-p ens) (fixnat-alistp runic-mapping-pairs))))
  (cond ((endp runic-mapping-pairs) nil)
...">disabledp-fn-lst</a> (cdr runic-mapping-pairs) ens))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (cons (<a class="sym-link system" href="axioms.html#def-cdar" data-sym="CDAR">cdar</a> runic-mapping-pairs)
        (<a class="sym-link local-def" href="#def-disabledp-fn-lst" data-sym="DISABLEDP-FN-LST" title="(defun disabledp-fn-lst (runic-mapping-pairs ens)
  (declare
   (xargs :guard
    (and (enabled-structure-p ens) (fixnat-alistp runic-mapping-pairs))))
  (cond ((endp runic-mapping-pairs) nil)
...">disabledp-fn-lst</a> (cdr runic-mapping-pairs) ens)))))</pre>
  </div>

<div class="form-block function" id="def-disabledp-fn" data-defines="DISABLEDP-FN" data-references="ENABLED-RUNEP,RUNEP,LET*,DISABLEDP,HARD?,ER,DISABLEDP-FN-LST,BASE-SYMBOL,TRANSLATE-ABBREV-RUNE,RUNE,CADR,CDR,CONSP,T,RUNIC-MAPPING-PAIRS,GETPROPC,FIXNAT-ALISTP,LOGICAL-NAMEP,EQ,NOT,DEREF-MACRO-NAME,NAME2,LET,SYMBOLP,COND,KNOWN-PACKAGE-ALIST,QUOTE,GLOBAL-VAL,KNOWN-PACKAGE-ALISTP,R-SYMBOL-ALISTP,MACRO-ALIASES,SYMBOL-ALISTP,PLIST-WORLDP,ENABLED-STRUCTURE-P,AND,XARGS,DECLARE,WRLD,ENS,NAME,DEFUN" data-used-by="DISABLEDP" data-part-name="DISABLEDP-FN" data-part-args="WRLD,ENS,NAME" data-part-declare="BASE-SYMBOL,TRANSLATE-ABBREV-RUNE,RUNE,CADR,CDR,CONSP,T,RUNIC-MAPPING-PAIRS,GETPROPC,FIXNAT-ALISTP,LOGICAL-NAMEP,EQ,NOT,DEREF-MACRO-NAME,NAME2,LET,NAME,SYMBOLP,COND,KNOWN-PACKAGE-ALIST,QUOTE,GLOBAL-VAL,KNOWN-PACKAGE-ALISTP,R-SYMBOL-ALISTP,MACRO-ALIASES,SYMBOL-ALISTP,WRLD,PLIST-WORLDP,ENS,ENABLED-STRUCTURE-P,AND,XARGS,DECLARE" data-part-body="ENABLED-RUNEP,RUNEP,TRANSLATE-ABBREV-RUNE,RUNE,LET*,DISABLEDP,HARD?,ER,T,ENS,RUNIC-MAPPING-PAIRS,QUOTE,GETPROPC,DISABLEDP-FN-LST,LOGICAL-NAMEP,EQ,NOT,AND,WRLD,MACRO-ALIASES,DEREF-MACRO-NAME,NAME2,LET,NAME,SYMBOLP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DISABLEDP-FN">disabledp-fn</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-disabledp-fn" data-sym="DISABLEDP-FN" title="(defun disabledp-fn (name ens wrld)
  (declare
   (xargs :guard
    (and (enabled-structure-p ens) (plist-worldp wrld)
         (symbol-alistp (macro-aliases wrld))
...">disabledp-fn</a>
  (name ens wrld)
  (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (enabled-structure-p ens)
        (<a class="sym-link system" href="axioms.html#def-plist-worldp" data-sym="PLIST-WORLDP">plist-worldp</a> wrld)
        (<a class="sym-link system" href="axioms.html#def-symbol-alistp" data-sym="SYMBOL-ALISTP">symbol-alistp</a> (<a class="sym-link system" href="axioms.html#def-macro-aliases" data-sym="MACRO-ALIASES">macro-aliases</a> wrld))
        (<a class="sym-link system" href="axioms.html#def-r-symbol-alistp" data-sym="R-SYMBOL-ALISTP">r-symbol-alistp</a> (<a class="sym-link system" href="axioms.html#def-macro-aliases" data-sym="MACRO-ALIASES">macro-aliases</a> wrld))
        (<a class="sym-link system" href="axioms.html#def-known-package-alistp" data-sym="KNOWN-PACKAGE-ALISTP">known-package-alistp</a> (<a class="sym-link system" href="axioms.html#def-global-val" data-sym="GLOBAL-VAL">global-val</a> '<a class="sym-link system" href="axioms.html#def-known-package-alist" data-sym="KNOWN-PACKAGE-ALIST">known-package-alist</a> wrld))
        (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((symbolp name) (let ((name2 (<a class="sym-link system" href="axioms.html#def-deref-macro-name" data-sym="DEREF-MACRO-NAME">deref-macro-name</a> name (<a class="sym-link system" href="axioms.html#def-macro-aliases" data-sym="MACRO-ALIASES">macro-aliases</a> wrld))))
              (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> name2 <span class="keyword">:here</span>))
                   name2
                   (<a class="sym-link system" href="history-management.html#def-logical-namep" data-sym="LOGICAL-NAMEP">logical-namep</a> name2 wrld)) (<a class="sym-link system" href="axioms.html#def-fixnat-alistp" data-sym="FIXNAT-ALISTP">fixnat-alistp</a> (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> name2 'runic-mapping-pairs nil wrld)))
                (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>))))
          (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (consp name)
              (consp (cdr name))
              (symbolp (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> name))
              (let ((rune (translate-abbrev-rune name (<a class="sym-link system" href="axioms.html#def-macro-aliases" data-sym="MACRO-ALIASES">macro-aliases</a> wrld))))
                (<a class="sym-link system" href="axioms.html#def-fixnat-alistp" data-sym="FIXNAT-ALISTP">fixnat-alistp</a> (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> (base-symbol rune) 'runic-mapping-pairs nil wrld)))))))))
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((symbolp name) (let ((name2 (<a class="sym-link system" href="axioms.html#def-deref-macro-name" data-sym="DEREF-MACRO-NAME">deref-macro-name</a> name (<a class="sym-link system" href="axioms.html#def-macro-aliases" data-sym="MACRO-ALIASES">macro-aliases</a> wrld))))
        (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> name2 <span class="keyword">:here</span>))
             name2
             (<a class="sym-link system" href="history-management.html#def-logical-namep" data-sym="LOGICAL-NAMEP">logical-namep</a> name2 wrld)) (<a class="sym-link local-def" href="#def-disabledp-fn-lst" data-sym="DISABLEDP-FN-LST" title="(defun disabledp-fn-lst (runic-mapping-pairs ens)
  (declare
   (xargs :guard
    (and (enabled-structure-p ens) (fixnat-alistp runic-mapping-pairs))))
  (cond ((endp runic-mapping-pairs) nil)
...">disabledp-fn-lst</a> (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> name2 'runic-mapping-pairs nil wrld)
              ens))
          (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> hard?
              '<a class="sym-link local-def" href="#def-disabledp" data-sym="DISABLEDP" title="(defmacro disabledp (name)
  `(disabledp-fn ,name (ens-maybe-brr state) (w state)))">disabledp</a>
              <span class="string">"Illegal call of disabledp on symbolp argument ~x0.  See ~
                    :DOC disabledp."</span>
              name)))))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((rune (translate-abbrev-rune name (<a class="sym-link system" href="axioms.html#def-macro-aliases" data-sym="MACRO-ALIASES">macro-aliases</a> wrld))))
        (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((runep rune wrld) (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (enabled-runep rune ens wrld)))
          (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> hard?
              '<a class="sym-link local-def" href="#def-disabledp" data-sym="DISABLEDP" title="(defmacro disabledp (name)
  `(disabledp-fn ,name (ens-maybe-brr state) (w state)))">disabledp</a>
              <span class="string">"Illegal call of disabledp: ~x0 does not designate a ~
                      rune or a list of runes.  See :DOC disabledp."</span>
              name)))))))</pre>
  </div>

<div class="form-block macro" id="def-disabledp" data-defines="DISABLEDP" data-references="W,STATE,ENS-MAYBE-BRR,DISABLEDP-FN,QUASIQUOTE,NAME,DEFMACRO" data-used-by="DISABLEDP-FN" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="DISABLEDP">disabledp</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-disabledp" data-sym="DISABLEDP" title="(defmacro disabledp (name)
  `(disabledp-fn ,name (ens-maybe-brr state) (w state)))">disabledp</a>
  (name)
  `(<a class="sym-link local-def" href="#def-disabledp-fn" data-sym="DISABLEDP-FN" title="(defun disabledp-fn (name ens wrld)
  (declare
   (xargs :guard
    (and (enabled-structure-p ens) (plist-worldp wrld)
         (symbol-alistp (macro-aliases wrld))
...">disabledp-fn</a> ,NAME (<a class="sym-link system" href="history-management.html#def-ens-maybe-brr" data-sym="ENS-MAYBE-BRR">ens-maybe-brr</a> state) (<a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a> state)))</pre>
  </div>

<div class="form-block function" id="def-collect-abbreviation-subclass" data-defines="COLLECT-ABBREVIATION-SUBCLASS" data-references="T,CDR,CONS,ABBREVIATION,QUOTE,CAR,REWRITE-RULE,ACCESS,EQ,NULL,COND,RULES,DEFUN" data-used-by="RUNES-TO-MONITOR1" data-part-name="COLLECT-ABBREVIATION-SUBCLASS" data-part-args="RULES" data-part-body="T,CDR,COLLECT-ABBREVIATION-SUBCLASS,CONS,ABBREVIATION,QUOTE,CAR,REWRITE-RULE,ACCESS,EQ,RULES,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="COLLECT-ABBREVIATION-SUBCLASS">collect-abbreviation-subclass</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-collect-abbreviation-subclass" data-sym="COLLECT-ABBREVIATION-SUBCLASS" title="(defun collect-abbreviation-subclass (rules)
  (cond ((null rules) nil)
        ((eq (access rewrite-rule (car rules) :subclass) &#39;abbreviation)
         (cons (car rules) (collect-abbreviation-subclass (cdr rules))))
        (t (collect-abbreviation-subclass (cdr rules)))))">collect-abbreviation-subclass</a>
  (rules)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> rules) nil)
    ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> rewrite-rule (car rules) <span class="keyword">:subclass</span>)
       'abbreviation) (cons (car rules)
        (<a class="sym-link local-def" href="#def-collect-abbreviation-subclass" data-sym="COLLECT-ABBREVIATION-SUBCLASS" title="(defun collect-abbreviation-subclass (rules)
  (cond ((null rules) nil)
        ((eq (access rewrite-rule (car rules) :subclass) &#39;abbreviation)
         (cons (car rules) (collect-abbreviation-subclass (cdr rules))))
        (t (collect-abbreviation-subclass (cdr rules)))))">collect-abbreviation-subclass</a> (cdr rules))))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-collect-abbreviation-subclass" data-sym="COLLECT-ABBREVIATION-SUBCLASS" title="(defun collect-abbreviation-subclass (rules)
  (cond ((null rules) nil)
        ((eq (access rewrite-rule (car rules) :subclass) &#39;abbreviation)
         (cons (car rules) (collect-abbreviation-subclass (cdr rules))))
        (t (collect-abbreviation-subclass (cdr rules)))))">collect-abbreviation-subclass</a> (cdr rules)))))</pre>
  </div>

<div class="form-block function" id="def-runes-to-monitor1" data-defines="RUNES-TO-MONITOR1" data-references="+,CONS,LENGTH,EQUAL,COLLECT-ABBREVIATION-SUBCLASS,BAD-REWRITE-RULES,CDR,FIND-RULES-OF-RUNE,RULES,QUOTE,MEMBER-EQ,CAR,RUNE,LET,REVERSE,VALUE,<,ASSERT$,>,IF,WARNING$,NOT,AND,PPROGN,T,SOFT,ER,NULL,ENDP,COND,ACC,SOME-S-BAD,SOME-S-ALL,SOME-SIMPLE,ONLY-SIMPLE-COUNT,ONLY-SIMPLE,QUIETP,STATE,CTX,WRLD,X,RUNES,DEFUN" data-used-by="RUNES-TO-MONITOR" data-part-name="RUNES-TO-MONITOR1" data-part-args="ACC,SOME-S-BAD,SOME-S-ALL,SOME-SIMPLE,ONLY-SIMPLE-COUNT,ONLY-SIMPLE,QUIETP,STATE,CTX,WRLD,X,RUNES" data-part-body="+,CONS,LENGTH,EQUAL,COLLECT-ABBREVIATION-SUBCLASS,BAD-REWRITE-RULES,CDR,RUNES-TO-MONITOR1,WRLD,FIND-RULES-OF-RUNE,RULES,QUOTE,MEMBER-EQ,CAR,RUNE,LET,REVERSE,VALUE,SOME-S-BAD,SOME-S-ALL,<,ASSERT$,SOME-SIMPLE,STATE,ONLY-SIMPLE-COUNT,>,IF,WARNING$,QUIETP,NOT,ONLY-SIMPLE,AND,PPROGN,T,X,CTX,SOFT,ER,ACC,NULL,RUNES,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="RUNES-TO-MONITOR1">runes-to-monitor1</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-runes-to-monitor1" data-sym="RUNES-TO-MONITOR1" title="(defun runes-to-monitor1
       (runes x wrld ctx state quietp only-simple only-simple-count some-simple
        some-s-all some-s-bad acc)
  (cond
   ((endp runes)
...">runes-to-monitor1</a>
  (runes x
    wrld
    ctx
    state
    quietp
    only-simple
    only-simple-count
    some-simple
    some-s-all
    some-s-bad
    acc)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> runes) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> acc) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
            ctx
            <span class="string">"~x0 does not represent any runes to be monitored.  See :DOC ~
           monitor."</span>
            x))
        (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> only-simple (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> quietp)) (<a class="sym-link system" href="axioms.html#def-warning_24" data-sym="WARNING$">warning$</a> ctx
                  <span class="string">"Monitor"</span>
                  <span class="string">"The rune~#0~[~/s~] ~&amp;0 name~#0~[s~/~] only~#1~[ a~/~] ~
                    simple abbreviation rule~#1~[~/s~].  Monitors can be ~
                    installed on abbreviation rules, but will not fire during ~
                    preprocessing, so you may want to supply the hint :DO-NOT ~
                    &#39;(PREPROCESS); see :DOC hints.  For an explanation of ~
                    what a simple abbreviation rule is, see :DOC simple.  ~
                    Also, see :DOC monitor."</span>
                  only-simple
                  (if (<a class="sym-link system" href="axioms.html#def-_3E" data-sym="&gt;">&gt;</a> only-simple-count <span class="number">1</span>)
                    <span class="number">1</span>
                    <span class="number">0</span>)))
              (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> state))
            (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> some-simple (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> quietp)) (<a class="sym-link system" href="axioms.html#def-assert_24" data-sym="ASSERT$">assert$</a> (&lt; <span class="number">1</span> some-s-all)
                  (<a class="sym-link system" href="axioms.html#def-warning_24" data-sym="WARNING$">warning$</a> ctx
                    <span class="string">"Monitor"</span>
                    <span class="string">"Among the ~n0 rules named ~v1 ~#2~[is a simple ~
                     abbreviation rule~/are ~n3 simple abbreviation rules~].  ~
                     Such rules can be monitored, but will not fire during ~
                     preprocessing, so you may want to supply the hint ~
                     :DO-NOT &#39;(PREPROCESS); see :DOC hints.  For an ~
                     explanation of what a simple abbreviation rule is, see ~
                     :DOC simple.  Also, see :DOC monitor."</span>
                    some-s-all
                    some-simple
                    (if (&lt; <span class="number">1</span> some-s-bad)
                      <span class="number">1</span>
                      <span class="number">0</span>)
                    some-s-bad)))
              (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> state))
            (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (<a class="sym-link system" href="axioms.html#def-reverse" data-sym="REVERSE">reverse</a> acc))))))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((rune (car runes)))
        (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> (car rune) '(<span class="keyword">:rewrite</span> <span class="keyword">:definition</span>)) (let ((rules (<a class="sym-link system" href="rewrite.html#def-find-rules-of-rune" data-sym="FIND-RULES-OF-RUNE">find-rules-of-rune</a> rune wrld)))
              (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> rules) (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (if quietp
                      state
                      (<a class="sym-link system" href="axioms.html#def-warning_24" data-sym="WARNING$">warning$</a> ctx <span class="string">"Monitor"</span> <span class="string">"No rules are named ~x0."</span> rune))
                    (<a class="sym-link local-def" href="#def-runes-to-monitor1" data-sym="RUNES-TO-MONITOR1" title="(defun runes-to-monitor1
       (runes x wrld ctx state quietp only-simple only-simple-count some-simple
        some-s-all some-s-bad acc)
  (cond
   ((endp runes)
...">runes-to-monitor1</a> (cdr runes)
                      x
                      wrld
                      ctx
                      state
                      quietp
                      only-simple
                      only-simple-count
                      some-simple
                      some-s-all
                      some-s-bad
                      acc)))
                (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((bad-rewrite-rules (<a class="sym-link local-def" href="#def-collect-abbreviation-subclass" data-sym="COLLECT-ABBREVIATION-SUBCLASS" title="(defun collect-abbreviation-subclass (rules)
  (cond ((null rules) nil)
        ((eq (access rewrite-rule (car rules) :subclass) &#39;abbreviation)
         (cons (car rules) (collect-abbreviation-subclass (cdr rules))))
        (t (collect-abbreviation-subclass (cdr rules)))))">collect-abbreviation-subclass</a> rules)))
                    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((equal (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> bad-rewrite-rules) (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> rules)) (<a class="sym-link local-def" href="#def-runes-to-monitor1" data-sym="RUNES-TO-MONITOR1" title="(defun runes-to-monitor1
       (runes x wrld ctx state quietp only-simple only-simple-count some-simple
        some-s-all some-s-bad acc)
  (cond
   ((endp runes)
...">runes-to-monitor1</a> (cdr runes)
                          x
                          wrld
                          ctx
                          state
                          quietp
                          (cons rune only-simple)
                          (<a class="sym-link system" href="axioms.html#def-_2B" data-sym="+">+</a> (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> rules) only-simple-count)
                          some-simple
                          some-s-all
                          some-s-bad
                          (cons rune acc)))
                      (bad-rewrite-rules (<a class="sym-link local-def" href="#def-runes-to-monitor1" data-sym="RUNES-TO-MONITOR1" title="(defun runes-to-monitor1
       (runes x wrld ctx state quietp only-simple only-simple-count some-simple
        some-s-all some-s-bad acc)
  (cond
   ((endp runes)
...">runes-to-monitor1</a> (cdr runes)
                          x
                          wrld
                          ctx
                          state
                          quietp
                          only-simple
                          only-simple-count
                          (cons rune some-simple)
                          (<a class="sym-link system" href="axioms.html#def-_2B" data-sym="+">+</a> (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> rules) some-s-all)
                          (<a class="sym-link system" href="axioms.html#def-_2B" data-sym="+">+</a> (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> bad-rewrite-rules) some-s-bad)
                          (cons rune acc)))
                      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-runes-to-monitor1" data-sym="RUNES-TO-MONITOR1" title="(defun runes-to-monitor1
       (runes x wrld ctx state quietp only-simple only-simple-count some-simple
        some-s-all some-s-bad acc)
  (cond
   ((endp runes)
...">runes-to-monitor1</a> (cdr runes)
                          x
                          wrld
                          ctx
                          state
                          quietp
                          only-simple
                          only-simple-count
                          some-simple
                          some-s-all
                          some-s-bad
                          (cons rune acc)))))))))
          (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-runes-to-monitor1" data-sym="RUNES-TO-MONITOR1" title="(defun runes-to-monitor1
       (runes x wrld ctx state quietp only-simple only-simple-count some-simple
        some-s-all some-s-bad acc)
  (cond
   ((endp runes)
...">runes-to-monitor1</a> (cdr runes)
              x
              wrld
              ctx
              state
              quietp
              only-simple
              only-simple-count
              some-simple
              some-s-all
              some-s-bad
              (cons rune acc))))))))</pre>
  </div>

<div class="form-block constant" id="def-_2Amonitorable-rune-types_2A" data-defines="*MONITORABLE-RUNE-TYPES*" data-references="QUOTE,DEFCONST" data-used-by="RUNES-TO-MONITOR,MONITORABLE-RUNES" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="*MONITORABLE-RUNE-TYPES*">*monitorable-rune-types*</span><span class="form-type">constant</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defconst" data-sym="DEFCONST">defconst</a> <a class="sym-link local-def" href="#def-_2Amonitorable-rune-types_2A" data-sym="*MONITORABLE-RUNE-TYPES*" title="(defconst *monitorable-rune-types*
          &#39;(:rewrite :rewrite-quoted-constant :definition :linear))">*monitorable-rune-types*</a>
  '(<span class="keyword">:rewrite</span> <span class="keyword">:rewrite-quoted-constant</span> <span class="keyword">:definition</span> <span class="keyword">:linear</span>))</pre>
  </div>

<div class="form-block function" id="def-monitorable-runes" data-defines="MONITORABLE-RUNES" data-references="T,CDR,CAR,CONS,*MONITORABLE-RUNE-TYPES*,CAAR,MEMBER-EQ,ENDP,COND,LST,DEFUN" data-used-by="MONITORABLE-RUNES-FROM-MAPPING-PAIRS" data-part-name="MONITORABLE-RUNES" data-part-args="LST" data-part-body="T,CDR,MONITORABLE-RUNES,CAR,CONS,*MONITORABLE-RUNE-TYPES*,CAAR,MEMBER-EQ,LST,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="MONITORABLE-RUNES">monitorable-runes</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-monitorable-runes" data-sym="MONITORABLE-RUNES" title="(defun monitorable-runes (lst)
  (cond ((endp lst) nil)
        ((member-eq (caar lst) *monitorable-rune-types*)
         (cons (car lst) (monitorable-runes (cdr lst))))
        (t (monitorable-runes (cdr lst)))))">monitorable-runes</a>
  (lst)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> lst) nil)
    ((<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> lst) <a class="sym-link local-def" href="#def-_2Amonitorable-rune-types_2A" data-sym="*MONITORABLE-RUNE-TYPES*" title="(defconst *monitorable-rune-types*
          &#39;(:rewrite :rewrite-quoted-constant :definition :linear))">*monitorable-rune-types*</a>) (cons (car lst) (<a class="sym-link local-def" href="#def-monitorable-runes" data-sym="MONITORABLE-RUNES" title="(defun monitorable-runes (lst)
  (cond ((endp lst) nil)
        ((member-eq (caar lst) *monitorable-rune-types*)
         (cons (car lst) (monitorable-runes (cdr lst))))
        (t (monitorable-runes (cdr lst)))))">monitorable-runes</a> (cdr lst))))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-monitorable-runes" data-sym="MONITORABLE-RUNES" title="(defun monitorable-runes (lst)
  (cond ((endp lst) nil)
        ((member-eq (caar lst) *monitorable-rune-types*)
         (cons (car lst) (monitorable-runes (cdr lst))))
        (t (monitorable-runes (cdr lst)))))">monitorable-runes</a> (cdr lst)))))</pre>
  </div>

<div class="form-block function" id="def-monitorable-runes-from-mapping-pairs" data-defines="MONITORABLE-RUNES-FROM-MAPPING-PAIRS" data-references="MONITORABLE-RUNES,RUNIC-MAPPING-PAIRS,QUOTE,MACRO-ALIASES,DEREF-MACRO-NAME,GETPROPC,STRIP-CDRS,TEMP,LET,WRLD,SYM,DEFUN" data-used-by="RUNES-TO-MONITOR" data-part-name="MONITORABLE-RUNES-FROM-MAPPING-PAIRS" data-part-args="WRLD,SYM" data-part-body="MONITORABLE-RUNES,RUNIC-MAPPING-PAIRS,QUOTE,WRLD,MACRO-ALIASES,SYM,DEREF-MACRO-NAME,GETPROPC,STRIP-CDRS,TEMP,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="MONITORABLE-RUNES-FROM-MAPPING-PAIRS">monitorable-runes-from-mapping-pairs</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-monitorable-runes-from-mapping-pairs" data-sym="MONITORABLE-RUNES-FROM-MAPPING-PAIRS" title="(defun monitorable-runes-from-mapping-pairs (sym wrld)
  (let ((temp
         (strip-cdrs
          (getpropc (deref-macro-name sym (macro-aliases wrld))
                    &#39;runic-mapping-pairs nil wrld))))">monitorable-runes-from-mapping-pairs</a>
  (sym wrld)
  (let ((temp (<a class="sym-link system" href="axioms.html#def-strip-cdrs" data-sym="STRIP-CDRS">strip-cdrs</a> (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> (<a class="sym-link system" href="axioms.html#def-deref-macro-name" data-sym="DEREF-MACRO-NAME">deref-macro-name</a> sym (<a class="sym-link system" href="axioms.html#def-macro-aliases" data-sym="MACRO-ALIASES">macro-aliases</a> wrld))
           'runic-mapping-pairs
           nil
           wrld))))
    (<a class="sym-link local-def" href="#def-monitorable-runes" data-sym="MONITORABLE-RUNES" title="(defun monitorable-runes (lst)
  (cond ((endp lst) nil)
        ((member-eq (caar lst) *monitorable-rune-types*)
         (cons (car lst) (monitorable-runes (cdr lst))))
        (t (monitorable-runes (cdr lst)))))">monitorable-runes</a> temp)))</pre>
  </div>

<div class="form-block function" id="def-runes-to-monitor" data-defines="RUNES-TO-MONITOR" data-references="RUNES-TO-MONITOR1,LIST,*MONITORABLE-RUNE-TYPES*,CAR,MEMBER-EQ,SOFT,ER,RUNEP,NOT,MACRO-ALIASES,TRANSLATE-ABBREV-RUNE,RUNE,LET,T,MONITORABLE-RUNES-FROM-MAPPING-PAIRS,SYMBOLP,COND,RUNES,W,VALUE,WRLD,ER-LET*,QUIETP,STATE,CTX,X,DEFUN" data-used-by="UNCONDITIONAL-MONITOR-TUPLES,TRANSLATE-RUNE-AND-CRITERIA" data-part-name="RUNES-TO-MONITOR" data-part-args="QUIETP,STATE,CTX,X" data-part-body="QUIETP,RUNES-TO-MONITOR1,LIST,*MONITORABLE-RUNE-TYPES*,CAR,MEMBER-EQ,CTX,SOFT,ER,RUNEP,NOT,MACRO-ALIASES,TRANSLATE-ABBREV-RUNE,RUNE,LET,T,MONITORABLE-RUNES-FROM-MAPPING-PAIRS,X,SYMBOLP,COND,RUNES,STATE,W,VALUE,WRLD,ER-LET*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="RUNES-TO-MONITOR">runes-to-monitor</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-runes-to-monitor" data-sym="RUNES-TO-MONITOR" title="(defun runes-to-monitor (x ctx state quietp)
  (er-let*
   ((wrld (value (w state)))
    (runes
     (cond ((symbolp x) (value (monitorable-runes-from-mapping-pairs x wrld)))
...">runes-to-monitor</a>
  (x ctx state quietp)
  (<a class="sym-link system" href="basis-b.html#def-er-let_2A" data-sym="ER-LET*">er-let*</a> ((wrld (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (<a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a> state))) (runes (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((symbolp x) (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (<a class="sym-link local-def" href="#def-monitorable-runes-from-mapping-pairs" data-sym="MONITORABLE-RUNES-FROM-MAPPING-PAIRS" title="(defun monitorable-runes-from-mapping-pairs (sym wrld)
  (let ((temp
         (strip-cdrs
          (getpropc (deref-macro-name sym (macro-aliases wrld))
                    &#39;runic-mapping-pairs nil wrld))))">monitorable-runes-from-mapping-pairs</a> x wrld)))
          (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((rune (translate-abbrev-rune x (<a class="sym-link system" href="axioms.html#def-macro-aliases" data-sym="MACRO-ALIASES">macro-aliases</a> wrld))))
              (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (runep rune wrld)) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft ctx <span class="string">"~x0 does not designate a (valid) rune."</span> rune))
                ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> (car rune) <a class="sym-link local-def" href="#def-_2Amonitorable-rune-types_2A" data-sym="*MONITORABLE-RUNE-TYPES*" title="(defconst *monitorable-rune-types*
          &#39;(:rewrite :rewrite-quoted-constant :definition :linear))">*monitorable-rune-types*</a>)) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                    ctx
                    <span class="string">"Only ~&amp;0 runes may be monitored.  We cannot break ~x1."</span>
                    <a class="sym-link local-def" href="#def-_2Amonitorable-rune-types_2A" data-sym="*MONITORABLE-RUNE-TYPES*" title="(defconst *monitorable-rune-types*
          &#39;(:rewrite :rewrite-quoted-constant :definition :linear))">*monitorable-rune-types*</a>
                    rune))
                (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> rune)))))))))
    (<a class="sym-link local-def" href="#def-runes-to-monitor1" data-sym="RUNES-TO-MONITOR1" title="(defun runes-to-monitor1
       (runes x wrld ctx state quietp only-simple only-simple-count some-simple
        some-s-all some-s-bad acc)
  (cond
   ((endp runes)
...">runes-to-monitor1</a> runes
      x
      wrld
      ctx
      state
      quietp
      nil
      <span class="number">0</span>
      nil
      <span class="number">0</span>
      <span class="number">0</span>
      nil)))</pre>
  </div>

<div class="form-block function" id="def-remove1-assoc-equal_3F" data-defines="REMOVE1-ASSOC-EQUAL?" data-references="T,REMOVE1-ASSOC-EQUAL,ASSOC-EQUAL,COND,ALIST,KEY,DEFUN" data-used-by="REMOVE1-ASSOC-EQUAL?-LST" data-part-name="REMOVE1-ASSOC-EQUAL?" data-part-args="ALIST,KEY" data-part-body="T,REMOVE1-ASSOC-EQUAL,ALIST,KEY,ASSOC-EQUAL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="REMOVE1-ASSOC-EQUAL?">remove1-assoc-equal?</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-remove1-assoc-equal_3F" data-sym="REMOVE1-ASSOC-EQUAL?" title="(defun remove1-assoc-equal? (key alist)
  (cond ((assoc-equal key alist) (remove1-assoc-equal key alist)) (t alist)))">remove1-assoc-equal?</a>
  (key alist)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-assoc-equal" data-sym="ASSOC-EQUAL">assoc-equal</a> key alist) (<a class="sym-link system" href="axioms.html#def-remove1-assoc-equal" data-sym="REMOVE1-ASSOC-EQUAL">remove1-assoc-equal</a> key alist))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> alist)))</pre>
  </div>

<div class="form-block function" id="def-remove1-assoc-equal_3F-lst" data-defines="REMOVE1-ASSOC-EQUAL?-LST" data-references="CAR,REMOVE1-ASSOC-EQUAL?,CDR,CONSP,IF,ALISTP,XARGS,DECLARE,ALIST,LST,DEFUN" data-used-by="PROCEED-FROM-BRKPT1,MERGE-NEW-AND-OLD-MONITORS" data-part-name="REMOVE1-ASSOC-EQUAL?-LST" data-part-args="ALIST,LST" data-part-declare="ALIST,ALISTP,XARGS,DECLARE" data-part-body="ALIST,CAR,REMOVE1-ASSOC-EQUAL?,CDR,REMOVE1-ASSOC-EQUAL?-LST,LST,CONSP,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="REMOVE1-ASSOC-EQUAL?-LST">remove1-assoc-equal?-lst</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-remove1-assoc-equal_3F-lst" data-sym="REMOVE1-ASSOC-EQUAL?-LST" title="(defun remove1-assoc-equal?-lst (lst alist)
  (declare (xargs :guard (alistp alist)))
  (if (consp lst)
      (remove1-assoc-equal?-lst (cdr lst)
                                (remove1-assoc-equal? (car lst) alist))">remove1-assoc-equal?-lst</a>
  (lst alist)
  (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="axioms.html#def-alistp" data-sym="ALISTP">alistp</a> alist)))
  (if (consp lst)
    (<a class="sym-link local-def" href="#def-remove1-assoc-equal_3F-lst" data-sym="REMOVE1-ASSOC-EQUAL?-LST" title="(defun remove1-assoc-equal?-lst (lst alist)
  (declare (xargs :guard (alistp alist)))
  (if (consp lst)
      (remove1-assoc-equal?-lst (cdr lst)
                                (remove1-assoc-equal? (car lst) alist))">remove1-assoc-equal?-lst</a> (cdr lst)
      (<a class="sym-link local-def" href="#def-remove1-assoc-equal_3F" data-sym="REMOVE1-ASSOC-EQUAL?" title="(defun remove1-assoc-equal? (key alist)
  (cond ((assoc-equal key alist) (remove1-assoc-equal key alist)) (t alist)))">remove1-assoc-equal?</a> (car lst) alist))
    alist))</pre>
  </div>

<div class="form-block function" id="def-preserve-other-brr-criteria" data-defines="PRESERVE-OTHER-BRR-CRITERIA" data-references="CADR,CONS,T,CDDR,QUOTE,CAR,MEMBER-EQ,REVAPPEND,ENDP,COND,CRITERIA-ALIST,ARGS,DEFUN" data-used-by="TRANSLATE-RUNE-AND-CRITERIA" data-part-name="PRESERVE-OTHER-BRR-CRITERIA" data-part-args="CRITERIA-ALIST,ARGS" data-part-body="CADR,CONS,T,CDDR,PRESERVE-OTHER-BRR-CRITERIA,QUOTE,CAR,MEMBER-EQ,CRITERIA-ALIST,REVAPPEND,ARGS,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="PRESERVE-OTHER-BRR-CRITERIA">preserve-other-brr-criteria</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-preserve-other-brr-criteria" data-sym="PRESERVE-OTHER-BRR-CRITERIA" title="(defun preserve-other-brr-criteria (args criteria-alist)
  (cond ((endp args) (revappend criteria-alist nil))
        ((member-eq (car args) &#39;(:condition :depth :abstraction :lambda :rf))
         (preserve-other-brr-criteria (cddr args) criteria-alist))
        (t
...">preserve-other-brr-criteria</a>
  (<a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a> criteria-alist)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>) (<a class="sym-link system" href="axioms.html#def-revappend" data-sym="REVAPPEND">revappend</a> criteria-alist nil))
    ((<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> (car <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>)
       '(<span class="keyword">:condition</span> <span class="keyword">:depth</span> <span class="keyword">:abstraction</span> <span class="keyword">:lambda</span> <span class="keyword">:rf</span>)) (<a class="sym-link local-def" href="#def-preserve-other-brr-criteria" data-sym="PRESERVE-OTHER-BRR-CRITERIA" title="(defun preserve-other-brr-criteria (args criteria-alist)
  (cond ((endp args) (revappend criteria-alist nil))
        ((member-eq (car args) &#39;(:condition :depth :abstraction :lambda :rf))
         (preserve-other-brr-criteria (cddr args) criteria-alist))
        (t
...">preserve-other-brr-criteria</a> (<a class="sym-link system" href="axioms.html#def-cddr" data-sym="CDDR">cddr</a> <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>) criteria-alist))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-preserve-other-brr-criteria" data-sym="PRESERVE-OTHER-BRR-CRITERIA" title="(defun preserve-other-brr-criteria (args criteria-alist)
  (cond ((endp args) (revappend criteria-alist nil))
        ((member-eq (car args) &#39;(:condition :depth :abstraction :lambda :rf))
         (preserve-other-brr-criteria (cddr args) criteria-alist))
        (t
...">preserve-other-brr-criteria</a> (<a class="sym-link system" href="axioms.html#def-cddr" data-sym="CDDR">cddr</a> <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>)
        (cons (cons (car <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>) (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>)) criteria-alist)))))</pre>
  </div>

<div class="form-block function" id="def-remove1-assoc-equal-lst" data-defines="REMOVE1-ASSOC-EQUAL-LST" data-references="CAR,REMOVE1-ASSOC-EQUAL,CDR,CONSP,IF,ALISTP,XARGS,DECLARE,ALIST,LST,DEFUN" data-used-by="REMOVE-RUNES-FROM-OLD-MONITORS" data-part-name="REMOVE1-ASSOC-EQUAL-LST" data-part-args="ALIST,LST" data-part-declare="ALIST,ALISTP,XARGS,DECLARE" data-part-body="ALIST,CAR,REMOVE1-ASSOC-EQUAL,CDR,REMOVE1-ASSOC-EQUAL-LST,LST,CONSP,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="REMOVE1-ASSOC-EQUAL-LST">remove1-assoc-equal-lst</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-remove1-assoc-equal-lst" data-sym="REMOVE1-ASSOC-EQUAL-LST" title="(defun remove1-assoc-equal-lst (lst alist)
  (declare (xargs :guard (alistp alist)))
  (if (consp lst)
      (remove1-assoc-equal-lst (cdr lst) (remove1-assoc-equal (car lst) alist))
      alist))">remove1-assoc-equal-lst</a>
  (lst alist)
  (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="axioms.html#def-alistp" data-sym="ALISTP">alistp</a> alist)))
  (if (consp lst)
    (<a class="sym-link local-def" href="#def-remove1-assoc-equal-lst" data-sym="REMOVE1-ASSOC-EQUAL-LST" title="(defun remove1-assoc-equal-lst (lst alist)
  (declare (xargs :guard (alistp alist)))
  (if (consp lst)
      (remove1-assoc-equal-lst (cdr lst) (remove1-assoc-equal (car lst) alist))
      alist))">remove1-assoc-equal-lst</a> (cdr lst)
      (<a class="sym-link system" href="axioms.html#def-remove1-assoc-equal" data-sym="REMOVE1-ASSOC-EQUAL">remove1-assoc-equal</a> (car lst) alist))
    alist))</pre>
  </div>

<div class="form-block function" id="def-set-difference-assoc-equal" data-defines="SET-DIFFERENCE-ASSOC-EQUAL" data-references="CONS,T,CDR,CAR,ASSOC-EQUAL,ENDP,COND,ALISTP,TRUE-LISTP,AND,XARGS,DECLARE,ALIST,LST,DEFUN" data-part-name="SET-DIFFERENCE-ASSOC-EQUAL" data-part-args="ALIST,LST" data-part-declare="ALIST,ALISTP,LST,TRUE-LISTP,AND,XARGS,DECLARE" data-part-body="CONS,T,CDR,SET-DIFFERENCE-ASSOC-EQUAL,ALIST,CAR,ASSOC-EQUAL,LST,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="SET-DIFFERENCE-ASSOC-EQUAL">set-difference-assoc-equal</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-set-difference-assoc-equal" data-sym="SET-DIFFERENCE-ASSOC-EQUAL" title="(defun set-difference-assoc-equal (lst alist)
  (declare (xargs :guard (and (true-listp lst) (alistp alist))))
  (cond ((endp lst) nil)
        ((assoc-equal (car lst) alist)
         (set-difference-assoc-equal (cdr lst) alist))">set-difference-assoc-equal</a>
  (lst alist)
  (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-true-listp" data-sym="TRUE-LISTP">true-listp</a> lst) (<a class="sym-link system" href="axioms.html#def-alistp" data-sym="ALISTP">alistp</a> alist))))
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> lst) nil)
    ((<a class="sym-link system" href="axioms.html#def-assoc-equal" data-sym="ASSOC-EQUAL">assoc-equal</a> (car lst) alist) (<a class="sym-link local-def" href="#def-set-difference-assoc-equal" data-sym="SET-DIFFERENCE-ASSOC-EQUAL" title="(defun set-difference-assoc-equal (lst alist)
  (declare (xargs :guard (and (true-listp lst) (alistp alist))))
  (cond ((endp lst) nil)
        ((assoc-equal (car lst) alist)
         (set-difference-assoc-equal (cdr lst) alist))">set-difference-assoc-equal</a> (cdr lst) alist))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (cons (car lst)
        (<a class="sym-link local-def" href="#def-set-difference-assoc-equal" data-sym="SET-DIFFERENCE-ASSOC-EQUAL" title="(defun set-difference-assoc-equal (lst alist)
  (declare (xargs :guard (and (true-listp lst) (alistp alist))))
  (cond ((endp lst) nil)
        ((assoc-equal (car lst) alist)
         (set-difference-assoc-equal (cdr lst) alist))">set-difference-assoc-equal</a> (cdr lst) alist)))))</pre>
  </div>

<div class="form-block function" id="def-merge-new-and-old-monitors" data-defines="MERGE-NEW-AND-OLD-MONITORS" data-references="STRIP-CARS,REMOVE1-ASSOC-EQUAL?-LST,APPEND,OLD-LST,NEW-LST,DEFUN" data-used-by="MONITOR-FN" data-part-name="MERGE-NEW-AND-OLD-MONITORS" data-part-args="OLD-LST,NEW-LST" data-part-body="OLD-LST,STRIP-CARS,REMOVE1-ASSOC-EQUAL?-LST,NEW-LST,APPEND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="MERGE-NEW-AND-OLD-MONITORS">merge-new-and-old-monitors</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-merge-new-and-old-monitors" data-sym="MERGE-NEW-AND-OLD-MONITORS" title="(defun merge-new-and-old-monitors (new-lst old-lst)
  (append new-lst (remove1-assoc-equal?-lst (strip-cars new-lst) old-lst)))">merge-new-and-old-monitors</a>
  (new-lst old-lst)
  (<a class="sym-link system" href="axioms.html#def-append" data-sym="APPEND">append</a> new-lst
    (<a class="sym-link local-def" href="#def-remove1-assoc-equal_3F-lst" data-sym="REMOVE1-ASSOC-EQUAL?-LST" title="(defun remove1-assoc-equal?-lst (lst alist)
  (declare (xargs :guard (alistp alist)))
  (if (consp lst)
      (remove1-assoc-equal?-lst (cdr lst)
                                (remove1-assoc-equal? (car lst) alist))">remove1-assoc-equal?-lst</a> (<a class="sym-link system" href="axioms.html#def-strip-cars" data-sym="STRIP-CARS">strip-cars</a> new-lst) old-lst)))</pre>
  </div>

<div class="form-block function" id="def-translate-rune-and-criteria" data-defines="TRANSLATE-RUNE-AND-CRITERIA" data-references="CONS,APPEND,PRESERVE-OTHER-BRR-CRITERIA,PAIRLIS-X2,*T*,TRANSLATE-BREAK-CONDITION,CONDITION,VALUE,W,TRANSLATE,IF,APAT,NATP,MONITOR,QUOTE,SOFT,ER,CADR,BOOLEANP,NOT,LAMBDA-SPEC,ABSTRACTION-SPEC,DEPTH-SPEC,RF-SPEC,ASSOC-KEYWORD,CONDITION-SPEC,LET*,EVENS,NO-DUPLICATESP-EQ,KEYWORD-VALUE-LISTP,RUNES-TO-MONITOR,RUNES,ER-LET*,LIST,T,CAR,KEYWORDP,CONSP,AND,COND,LET,STATE,CTX,ARGS,X,DEFUN" data-used-by="MONITOR-FN" data-part-name="TRANSLATE-RUNE-AND-CRITERIA" data-part-args="STATE,CTX,ARGS,X" data-part-body="CONS,APPEND,PRESERVE-OTHER-BRR-CRITERIA,PAIRLIS-X2,*T*,TRANSLATE-BREAK-CONDITION,CONDITION,VALUE,W,TRANSLATE,IF,APAT,NATP,MONITOR,QUOTE,SOFT,ER,CADR,BOOLEANP,NOT,LAMBDA-SPEC,ABSTRACTION-SPEC,DEPTH-SPEC,RF-SPEC,ASSOC-KEYWORD,CONDITION-SPEC,LET*,EVENS,NO-DUPLICATESP-EQ,KEYWORD-VALUE-LISTP,STATE,CTX,X,RUNES-TO-MONITOR,RUNES,ER-LET*,LIST,T,CAR,KEYWORDP,CONSP,AND,COND,ARGS,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="TRANSLATE-RUNE-AND-CRITERIA">translate-rune-and-criteria</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-translate-rune-and-criteria" data-sym="TRANSLATE-RUNE-AND-CRITERIA" title="(defun translate-rune-and-criteria (x args ctx state)
  (let ((args
         (cond ((and (consp args) (keywordp (car args))) args)
               (t (list :condition args)))))
    (er-let* ((runes (runes-to-monitor x ctx state nil)))
...">translate-rune-and-criteria</a>
  (x <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a> ctx state)
  (let ((<a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a> (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (consp <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>) (<a class="sym-link system" href="axioms.html#def-keywordp" data-sym="KEYWORDP">keywordp</a> (car <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>))) <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>)
         (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:condition</span> <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>)))))
    (<a class="sym-link system" href="basis-b.html#def-er-let_2A" data-sym="ER-LET*">er-let*</a> ((runes (<a class="sym-link local-def" href="#def-runes-to-monitor" data-sym="RUNES-TO-MONITOR" title="(defun runes-to-monitor (x ctx state quietp)
  (er-let*
   ((wrld (value (w state)))
    (runes
     (cond ((symbolp x) (value (monitorable-runes-from-mapping-pairs x wrld)))
...">runes-to-monitor</a> x ctx state nil)))
      (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-keyword-value-listp" data-sym="KEYWORD-VALUE-LISTP">keyword-value-listp</a> <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>)
           (<a class="sym-link system" href="axioms.html#def-no-duplicatesp-eq" data-sym="NO-DUPLICATESP-EQ">no-duplicatesp-eq</a> (<a class="sym-link system" href="axioms.html#def-evens" data-sym="EVENS">evens</a> <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>))) (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((condition-spec (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:condition</span> <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>)) (rf-spec (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:rf</span> <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>))
              (depth-spec (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:depth</span> <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>))
              (abstraction-spec (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:abstraction</span> <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>))
              (lambda-spec (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:lambda</span> <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>)))
            (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> rf-spec (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-booleanp" data-sym="BOOLEANP">booleanp</a> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> rf-spec)))) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                  '<a class="sym-link local-def" href="#def-monitor" data-sym="MONITOR" title="(defmacro monitor (x expr &amp;optional quietp)
  `(monitor-fn ,x ,expr &#39;monitor ,quietp state))">monitor</a>
                  <span class="string">"When supplied, the :rf value in MONITOR&#39;s second argument ~
                 must be T or NIL and ~x0 is neither!"</span>
                  (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> rf-spec)))
              ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> depth-spec (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-natp" data-sym="NATP">natp</a> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> depth-spec)))) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                  '<a class="sym-link local-def" href="#def-monitor" data-sym="MONITOR" title="(defmacro monitor (x expr &amp;optional quietp)
  `(monitor-fn ,x ,expr &#39;monitor ,quietp state))">monitor</a>
                  <span class="string">"When supplied, the :depth value in MONITOR&#39;s second argument ~
                 must be a natural and ~x0 is not!"</span>
                  (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> depth-spec)))
              ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> lambda-spec (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-booleanp" data-sym="BOOLEANP">booleanp</a> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> lambda-spec)))) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                  '<a class="sym-link local-def" href="#def-monitor" data-sym="MONITOR" title="(defmacro monitor (x expr &amp;optional quietp)
  `(monitor-fn ,x ,expr &#39;monitor ,quietp state))">monitor</a>
                  <span class="string">"When supplied, the :lambda value in MONITOR&#39;s second ~
                 argument must be a Boolean and ~x0 is not!"</span>
                  (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> lambda-spec)))
              (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="basis-b.html#def-er-let_2A" data-sym="ER-LET*">er-let*</a> ((apat (if abstraction-spec
                       (translate (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> abstraction-spec)
                         <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
                         <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
                         <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
                         ctx
                         (<a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a> state)
                         state)
                       (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil))) (condition (if condition-spec
                        (<a class="sym-link system" href="rewrite.html#def-translate-break-condition" data-sym="TRANSLATE-BREAK-CONDITION">translate-break-condition</a> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> condition-spec) ctx state)
                        (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> <a class="sym-link system" href="axioms.html#def-_2At_2A" data-sym="*T*">*t*</a>))))
                  (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (<a class="sym-link system" href="axioms.html#def-pairlis-x2" data-sym="PAIRLIS-X2">pairlis-x2</a> runes
                      (<a class="sym-link local-def" href="#def-preserve-other-brr-criteria" data-sym="PRESERVE-OTHER-BRR-CRITERIA" title="(defun preserve-other-brr-criteria (args criteria-alist)
  (cond ((endp args) (revappend criteria-alist nil))
        ((member-eq (car args) &#39;(:condition :depth :abstraction :lambda :rf))
         (preserve-other-brr-criteria (cddr args) criteria-alist))
        (t
...">preserve-other-brr-criteria</a> <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>
                        (<a class="sym-link system" href="axioms.html#def-append" data-sym="APPEND">append</a> (if lambda-spec
                            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (cons <span class="keyword">:lambda</span> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> lambda-spec)))
                            nil)
                          (if abstraction-spec
                            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (cons <span class="keyword">:abstraction</span> apat))
                            nil)
                          (if depth-spec
                            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (cons <span class="keyword">:depth</span> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> depth-spec)))
                            nil)
                          (if rf-spec
                            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (cons <span class="keyword">:rf</span> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> rf-spec)))
                            nil)
                          (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (cons <span class="keyword">:condition</span> condition)))))))))))
        (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
            '<a class="sym-link local-def" href="#def-monitor" data-sym="MONITOR" title="(defmacro monitor (x expr &amp;optional quietp)
  `(monitor-fn ,x ,expr &#39;monitor ,quietp state))">monitor</a>
            <span class="string">"The second argument to MONITOR must satisfy ~
               keyword-value-listp with no duplicate keys and ~x0 is not!"</span>
            <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>))))))</pre>
  </div>

<div class="form-block function" id="def-monitor-fn" data-defines="MONITOR-FN" data-references="T,IF,VALUE,SYNC-EPHEMERAL-WHS-WITH-PERSISTENT-WHS,PPROGN,LIST,CHANGE,NOT,AND,PROG2$,MERGE-NEW-AND-OLD-MONITORS,NEW-BRR-MONITORED-RUNES,BRR-STATUS,ACCESS,OLD-BRR-MONITORED-RUNES,LET*,WHS,LAMBDA,BRR,WORMHOLE-EVAL,CW,GSTACKP,QUOTE,F-GET-GLOBAL,OR,SEMI-INITIALIZE-BRR-WORMHOLE,PROGN$,TRANSLATE-RUNE-AND-CRITERIA,NEW-PAIRS,ER-LET*,STATE,QUIETP,CTX,ARGS,X,DEFUN" data-used-by="MONITOR" data-part-name="MONITOR-FN" data-part-args="STATE,QUIETP,CTX,ARGS,X" data-part-body="T,IF,VALUE,SYNC-EPHEMERAL-WHS-WITH-PERSISTENT-WHS,PPROGN,LIST,CHANGE,QUIETP,NOT,AND,PROG2$,MERGE-NEW-AND-OLD-MONITORS,NEW-BRR-MONITORED-RUNES,BRR-STATUS,ACCESS,OLD-BRR-MONITORED-RUNES,LET*,WHS,LAMBDA,BRR,WORMHOLE-EVAL,CW,GSTACKP,QUOTE,F-GET-GLOBAL,OR,SEMI-INITIALIZE-BRR-WORMHOLE,PROGN$,STATE,CTX,ARGS,X,TRANSLATE-RUNE-AND-CRITERIA,NEW-PAIRS,ER-LET*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="MONITOR-FN">monitor-fn</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-monitor-fn" data-sym="MONITOR-FN" title="(defun monitor-fn (x args ctx quietp state)
  (er-let* ((new-pairs (translate-rune-and-criteria x args ctx state)))
           (progn$ (semi-initialize-brr-wormhole state)
                   (progn$
                    (or (f-get-global &#39;gstackp state)
...">monitor-fn</a>
  (x <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a> ctx quietp state)
  (<a class="sym-link system" href="basis-b.html#def-er-let_2A" data-sym="ER-LET*">er-let*</a> ((new-pairs (<a class="sym-link local-def" href="#def-translate-rune-and-criteria" data-sym="TRANSLATE-RUNE-AND-CRITERIA" title="(defun translate-rune-and-criteria (x args ctx state)
  (let ((args
         (cond ((and (consp args) (keywordp (car args))) args)
               (t (list :condition args)))))
    (er-let* ((runes (runes-to-monitor x ctx state nil)))
...">translate-rune-and-criteria</a> x <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a> ctx state)))
    (<a class="sym-link system" href="axioms.html#def-progn_24" data-sym="PROGN$">progn$</a> (<a class="sym-link system" href="rewrite.html#def-semi-initialize-brr-wormhole" data-sym="SEMI-INITIALIZE-BRR-WORMHOLE">semi-initialize-brr-wormhole</a> state)
      (<a class="sym-link system" href="axioms.html#def-progn_24" data-sym="PROGN$">progn$</a> (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-f-get-global" data-sym="F-GET-GLOBAL">f-get-global</a> 'gstackp state)
          (<a class="sym-link system" href="axioms.html#def-cw" data-sym="CW">cw</a> <span class="string">"Note: Enable break-rewrite with :brr t.~%~%"</span>))
        (<a class="sym-link system" href="basis-a.html#def-wormhole-eval" data-sym="WORMHOLE-EVAL">wormhole-eval</a> '<a class="sym-link local-def" href="#def-brr" data-sym="BRR" title="(defmacro brr (flg &amp;optional quietp) `(brr-fn ,flg ,quietp state))">brr</a>
          '(lambda (whs)
            (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((old-brr-monitored-runes (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> brr-status whs <span class="keyword">:brr-monitored-runes</span>)) (new-brr-monitored-runes (<a class="sym-link local-def" href="#def-merge-new-and-old-monitors" data-sym="MERGE-NEW-AND-OLD-MONITORS" title="(defun merge-new-and-old-monitors (new-lst old-lst)
  (append new-lst (remove1-assoc-equal?-lst (strip-cars new-lst) old-lst)))">merge-new-and-old-monitors</a> new-pairs
                    old-brr-monitored-runes)))
              (<a class="sym-link system" href="axioms.html#def-prog2_24" data-sym="PROG2$">prog2$</a> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> quietp) (<a class="sym-link system" href="axioms.html#def-cw" data-sym="CW">cw</a> <span class="string">"~Y01~|"</span> new-brr-monitored-runes nil))
                (<a class="sym-link system" href="basis-a.html#def-change" data-sym="CHANGE">change</a> brr-status
                  whs
                  <span class="keyword">:brr-monitored-runes</span> new-brr-monitored-runes))))
          (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> new-pairs quietp))
        (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link system" href="basis-a.html#def-sync-ephemeral-whs-with-persistent-whs" data-sym="SYNC-EPHEMERAL-WHS-WITH-PERSISTENT-WHS">sync-ephemeral-whs-with-persistent-whs</a> '<a class="sym-link local-def" href="#def-brr" data-sym="BRR" title="(defmacro brr (flg &amp;optional quietp) `(brr-fn ,flg ,quietp state))">brr</a> state)
          (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (if quietp
              <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
              <span class="keyword">:invisible</span>)))))))</pre>
  </div>

<div class="form-block function" id="def-all-keys-with-base-symbol" data-defines="ALL-KEYS-WITH-BASE-SYMBOL" data-references="T,CDR,CONS,CAR,BASE-SYMBOL,EQUAL,ENDP,COND,ALIST,X,DEFUN" data-used-by="UNMONITOR-FN" data-part-name="ALL-KEYS-WITH-BASE-SYMBOL" data-part-args="ALIST,X" data-part-body="T,CDR,ALL-KEYS-WITH-BASE-SYMBOL,CONS,X,CAR,BASE-SYMBOL,EQUAL,ALIST,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ALL-KEYS-WITH-BASE-SYMBOL">all-keys-with-base-symbol</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-all-keys-with-base-symbol" data-sym="ALL-KEYS-WITH-BASE-SYMBOL" title="(defun all-keys-with-base-symbol (x alist)
  (cond ((endp alist) nil)
        ((equal (base-symbol (car (car alist))) x)
         (cons (car (car alist)) (all-keys-with-base-symbol x (cdr alist))))
        (t (all-keys-with-base-symbol x (cdr alist)))))">all-keys-with-base-symbol</a>
  (x alist)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> alist) nil)
    ((equal (base-symbol (car (car alist))) x) (cons (car (car alist))
        (<a class="sym-link local-def" href="#def-all-keys-with-base-symbol" data-sym="ALL-KEYS-WITH-BASE-SYMBOL" title="(defun all-keys-with-base-symbol (x alist)
  (cond ((endp alist) nil)
        ((equal (base-symbol (car (car alist))) x)
         (cons (car (car alist)) (all-keys-with-base-symbol x (cdr alist))))
        (t (all-keys-with-base-symbol x (cdr alist)))))">all-keys-with-base-symbol</a> x (cdr alist))))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-all-keys-with-base-symbol" data-sym="ALL-KEYS-WITH-BASE-SYMBOL" title="(defun all-keys-with-base-symbol (x alist)
  (cond ((endp alist) nil)
        ((equal (base-symbol (car (car alist))) x)
         (cons (car (car alist)) (all-keys-with-base-symbol x (cdr alist))))
        (t (all-keys-with-base-symbol x (cdr alist)))))">all-keys-with-base-symbol</a> x (cdr alist)))))</pre>
  </div>

<div class="form-block function" id="def-all-monitored-runes-removed-reminder" data-defines="ALL-MONITORED-RUNES-REMOVED-REMINDER" data-references="CW,DEFUN" data-used-by="UNMONITOR-FN,REMOVE-RUNES-FROM-OLD-MONITORS" data-part-name="ALL-MONITORED-RUNES-REMOVED-REMINDER" data-part-body="CW" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ALL-MONITORED-RUNES-REMOVED-REMINDER">all-monitored-runes-removed-reminder</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-all-monitored-runes-removed-reminder" data-sym="ALL-MONITORED-RUNES-REMOVED-REMINDER" title="(defun all-monitored-runes-removed-reminder ()
  (cw &quot;Note:  No runes are being monitored.  Perhaps you should turn off ~
       break-rewrite with (brr nil).~%~%&quot;))">all-monitored-runes-removed-reminder</a>
  nil
  (<a class="sym-link system" href="axioms.html#def-cw" data-sym="CW">cw</a> <span class="string">"Note:  No runes are being monitored.  Perhaps you should turn off ~
       break-rewrite with (brr nil).~%~%"</span>))</pre>
  </div>

<div class="form-block function" id="def-remove-runes-from-old-monitors" data-defines="REMOVE-RUNES-FROM-OLD-MONITORS" data-references="ALL-MONITORED-RUNES-REMOVED-REMINDER,NULL,AND,IF,PROG2$,REMOVE1-ASSOC-EQUAL-LST,NEW-BRR-MONITORED-RUNES,LET*,BRR-REMINDER-FLG,OLD-BRR-MONITORED-RUNES,RUNES,DEFUN" data-used-by="UNMONITOR-FN" data-part-name="REMOVE-RUNES-FROM-OLD-MONITORS" data-part-args="BRR-REMINDER-FLG,OLD-BRR-MONITORED-RUNES,RUNES" data-part-body="ALL-MONITORED-RUNES-REMOVED-REMINDER,NULL,BRR-REMINDER-FLG,AND,IF,PROG2$,OLD-BRR-MONITORED-RUNES,RUNES,REMOVE1-ASSOC-EQUAL-LST,NEW-BRR-MONITORED-RUNES,LET*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="REMOVE-RUNES-FROM-OLD-MONITORS">remove-runes-from-old-monitors</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-remove-runes-from-old-monitors" data-sym="REMOVE-RUNES-FROM-OLD-MONITORS" title="(defun remove-runes-from-old-monitors
       (runes old-brr-monitored-runes brr-reminder-flg)
  (let* ((new-brr-monitored-runes
          (remove1-assoc-equal-lst runes old-brr-monitored-runes)))
    (prog2$
...">remove-runes-from-old-monitors</a>
  (runes old-brr-monitored-runes brr-reminder-flg)
  (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((new-brr-monitored-runes (<a class="sym-link local-def" href="#def-remove1-assoc-equal-lst" data-sym="REMOVE1-ASSOC-EQUAL-LST" title="(defun remove1-assoc-equal-lst (lst alist)
  (declare (xargs :guard (alistp alist)))
  (if (consp lst)
      (remove1-assoc-equal-lst (cdr lst) (remove1-assoc-equal (car lst) alist))
      alist))">remove1-assoc-equal-lst</a> runes old-brr-monitored-runes)))
    (<a class="sym-link system" href="axioms.html#def-prog2_24" data-sym="PROG2$">prog2$</a> (if (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> brr-reminder-flg (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> new-brr-monitored-runes))
        (<a class="sym-link local-def" href="#def-all-monitored-runes-removed-reminder" data-sym="ALL-MONITORED-RUNES-REMOVED-REMINDER" title="(defun all-monitored-runes-removed-reminder ()
  (cw &quot;Note:  No runes are being monitored.  Perhaps you should turn off ~
       break-rewrite with (brr nil).~%~%&quot;))">all-monitored-runes-removed-reminder</a>)
        nil)
      new-brr-monitored-runes)))</pre>
  </div>

<div class="form-block function" id="def-unmonitor-fn" data-defines="UNMONITOR-FN" data-references="SYNC-EPHEMERAL-WHS-WITH-PERSISTENT-WHS,PPROGN,CHANGE,CW,REMOVE-RUNES-FROM-OLD-MONITORS,NEW-BRR-MONITORED-RUNES,LAMBDA,WORMHOLE-EVAL,BRR-REMINDER-FLG,LET,SOFT,ER,VALUE,ALL-MONITORED-RUNES-REMOVED-REMINDER,GSTACKP,F-GET-GLOBAL,AND,PROG2$,NULL,T,LIST,ASSOC-EQUAL,ALL-KEYS-WITH-BASE-SYMBOL,SYMBOLP,STRIP-CARS,EQ,COND,RUNES,BRR-STATUS,ACCESS,OLD-BRR-MONITORED-RUNES,LET*,BRR,QUOTE,GET-PERSISTENT-WHS,WHS,ER-LET*,SEMI-INITIALIZE-BRR-WORMHOLE,PROGN$,STATE,CTX,X,DEFUN" data-used-by="UNMONITOR" data-part-name="UNMONITOR-FN" data-part-args="STATE,CTX,X" data-part-body="SYNC-EPHEMERAL-WHS-WITH-PERSISTENT-WHS,PPROGN,CHANGE,CW,REMOVE-RUNES-FROM-OLD-MONITORS,NEW-BRR-MONITORED-RUNES,LAMBDA,WORMHOLE-EVAL,BRR-REMINDER-FLG,LET,CTX,SOFT,ER,VALUE,ALL-MONITORED-RUNES-REMOVED-REMINDER,GSTACKP,F-GET-GLOBAL,AND,PROG2$,NULL,T,LIST,ASSOC-EQUAL,ALL-KEYS-WITH-BASE-SYMBOL,SYMBOLP,STRIP-CARS,X,EQ,COND,RUNES,BRR-STATUS,ACCESS,OLD-BRR-MONITORED-RUNES,LET*,BRR,QUOTE,GET-PERSISTENT-WHS,WHS,ER-LET*,STATE,SEMI-INITIALIZE-BRR-WORMHOLE,PROGN$" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="UNMONITOR-FN">unmonitor-fn</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-unmonitor-fn" data-sym="UNMONITOR-FN" title="(defun unmonitor-fn (x ctx state)
  (progn$ (semi-initialize-brr-wormhole state)
          (er-let* ((whs (get-persistent-whs &#39;brr state)))
                   (let* ((old-brr-monitored-runes
                           (access brr-status whs :brr-monitored-runes))
...">unmonitor-fn</a>
  (x ctx state)
  (<a class="sym-link system" href="axioms.html#def-progn_24" data-sym="PROGN$">progn$</a> (<a class="sym-link system" href="rewrite.html#def-semi-initialize-brr-wormhole" data-sym="SEMI-INITIALIZE-BRR-WORMHOLE">semi-initialize-brr-wormhole</a> state)
    (<a class="sym-link system" href="basis-b.html#def-er-let_2A" data-sym="ER-LET*">er-let*</a> ((whs (<a class="sym-link system" href="axioms.html#def-get-persistent-whs" data-sym="GET-PERSISTENT-WHS">get-persistent-whs</a> '<a class="sym-link local-def" href="#def-brr" data-sym="BRR" title="(defmacro brr (flg &amp;optional quietp) `(brr-fn ,flg ,quietp state))">brr</a> state)))
      (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((old-brr-monitored-runes (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> brr-status whs <span class="keyword">:brr-monitored-runes</span>)) (runes (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> x <span class="keyword">:all</span>) (<a class="sym-link system" href="axioms.html#def-strip-cars" data-sym="STRIP-CARS">strip-cars</a> old-brr-monitored-runes))
              ((symbolp x) (<a class="sym-link local-def" href="#def-all-keys-with-base-symbol" data-sym="ALL-KEYS-WITH-BASE-SYMBOL" title="(defun all-keys-with-base-symbol (x alist)
  (cond ((endp alist) nil)
        ((equal (base-symbol (car (car alist))) x)
         (cons (car (car alist)) (all-keys-with-base-symbol x (cdr alist))))
        (t (all-keys-with-base-symbol x (cdr alist)))))">all-keys-with-base-symbol</a> x old-brr-monitored-runes))
              ((<a class="sym-link system" href="axioms.html#def-assoc-equal" data-sym="ASSOC-EQUAL">assoc-equal</a> x old-brr-monitored-runes) (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> x))
              (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> nil))))
        (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> runes) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> x <span class="keyword">:all</span>) (<a class="sym-link system" href="axioms.html#def-prog2_24" data-sym="PROG2$">prog2$</a> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-f-get-global" data-sym="F-GET-GLOBAL">f-get-global</a> 'gstackp state)
                    (<a class="sym-link local-def" href="#def-all-monitored-runes-removed-reminder" data-sym="ALL-MONITORED-RUNES-REMOVED-REMINDER" title="(defun all-monitored-runes-removed-reminder ()
  (cw &quot;Note:  No runes are being monitored.  Perhaps you should turn off ~
       break-rewrite with (brr nil).~%~%&quot;))">all-monitored-runes-removed-reminder</a>))
                  (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil)))
              ((symbolp x) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                  ctx
                  <span class="string">"No rune with base symbol ~x0 is being monitored.  Perhaps you ~
                misspelled it?"</span>
                  x))
              (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                  ctx
                  <span class="string">"~x0 is not being monitored.  Perhaps you misspelled it?"</span>
                  x))))
          (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-prog2_24" data-sym="PROG2$">prog2$</a> (let ((brr-reminder-flg (<a class="sym-link system" href="axioms.html#def-f-get-global" data-sym="F-GET-GLOBAL">f-get-global</a> 'gstackp state)))
                (<a class="sym-link system" href="basis-a.html#def-wormhole-eval" data-sym="WORMHOLE-EVAL">wormhole-eval</a> '<a class="sym-link local-def" href="#def-brr" data-sym="BRR" title="(defmacro brr (flg &amp;optional quietp) `(brr-fn ,flg ,quietp state))">brr</a>
                  '(lambda (whs)
                    (let ((new-brr-monitored-runes (<a class="sym-link local-def" href="#def-remove-runes-from-old-monitors" data-sym="REMOVE-RUNES-FROM-OLD-MONITORS" title="(defun remove-runes-from-old-monitors
       (runes old-brr-monitored-runes brr-reminder-flg)
  (let* ((new-brr-monitored-runes
          (remove1-assoc-equal-lst runes old-brr-monitored-runes)))
    (prog2$
...">remove-runes-from-old-monitors</a> runes
                           old-brr-monitored-runes
                           brr-reminder-flg)))
                      (<a class="sym-link system" href="axioms.html#def-prog2_24" data-sym="PROG2$">prog2$</a> (<a class="sym-link system" href="axioms.html#def-cw" data-sym="CW">cw</a> <span class="string">"~Y01~|"</span> new-brr-monitored-runes nil)
                        (<a class="sym-link system" href="basis-a.html#def-change" data-sym="CHANGE">change</a> brr-status
                          whs
                          <span class="keyword">:brr-monitored-runes</span> new-brr-monitored-runes))))
                  (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> runes brr-reminder-flg)))
              (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link system" href="basis-a.html#def-sync-ephemeral-whs-with-persistent-whs" data-sym="SYNC-EPHEMERAL-WHS-WITH-PERSISTENT-WHS">sync-ephemeral-whs-with-persistent-whs</a> '<a class="sym-link local-def" href="#def-brr" data-sym="BRR" title="(defmacro brr (flg &amp;optional quietp) `(brr-fn ,flg ,quietp state))">brr</a> state)
                (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> <span class="keyword">:invisible</span>)))))))))</pre>
  </div>

<div class="form-block function" id="def-monitored-runes-fn" data-defines="MONITORED-RUNES-FN" data-references="VALUE,BRR-STATUS,ACCESS,CW,WHS,LAMBDA,BRR,QUOTE,WORMHOLE-EVAL,PROG2$,SEMI-INITIALIZE-BRR-WORMHOLE,PROGN$,STATE,DEFUN" data-used-by="MONITORED-RUNES,BRR-FN" data-part-name="MONITORED-RUNES-FN" data-part-args="STATE" data-part-body="VALUE,BRR-STATUS,ACCESS,CW,WHS,LAMBDA,BRR,QUOTE,WORMHOLE-EVAL,PROG2$,STATE,SEMI-INITIALIZE-BRR-WORMHOLE,PROGN$" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="MONITORED-RUNES-FN">monitored-runes-fn</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-monitored-runes-fn" data-sym="MONITORED-RUNES-FN" title="(defun monitored-runes-fn (state)
  (progn$ (semi-initialize-brr-wormhole state)
          (prog2$
           (wormhole-eval &#39;brr
                          &#39;(lambda (whs)
...">monitored-runes-fn</a>
  (state)
  (<a class="sym-link system" href="axioms.html#def-progn_24" data-sym="PROGN$">progn$</a> (<a class="sym-link system" href="rewrite.html#def-semi-initialize-brr-wormhole" data-sym="SEMI-INITIALIZE-BRR-WORMHOLE">semi-initialize-brr-wormhole</a> state)
    (<a class="sym-link system" href="axioms.html#def-prog2_24" data-sym="PROG2$">prog2$</a> (<a class="sym-link system" href="basis-a.html#def-wormhole-eval" data-sym="WORMHOLE-EVAL">wormhole-eval</a> '<a class="sym-link local-def" href="#def-brr" data-sym="BRR" title="(defmacro brr (flg &amp;optional quietp) `(brr-fn ,flg ,quietp state))">brr</a>
        '(lambda (whs)
          (<a class="sym-link system" href="axioms.html#def-prog2_24" data-sym="PROG2$">prog2$</a> (<a class="sym-link system" href="axioms.html#def-cw" data-sym="CW">cw</a> <span class="string">"~Y01~|"</span>
              (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> brr-status whs <span class="keyword">:brr-monitored-runes</span>)
              nil)
            whs))
        nil)
      (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> <span class="keyword">:invisible</span>))))</pre>
  </div>

<div class="form-block function" id="def-brr-fn" data-defines="BRR-FN" data-references="MONITORED-RUNES-FN,ER-PROGN,F-PUT-GLOBAL,PPROGN,SEMI-INITIALIZE-BRR-WORMHOLE,BRR,SOFT,ER,T,VALUE,CW,PROG2$,GSTACKP,QUOTE,F-GET-GLOBAL,EQ,COND,STATE,QUIETP,FLG,DEFUN" data-used-by="BRR" data-part-name="BRR-FN" data-part-args="STATE,QUIETP,FLG" data-part-body="MONITORED-RUNES-FN,ER-PROGN,QUIETP,F-PUT-GLOBAL,PPROGN,SEMI-INITIALIZE-BRR-WORMHOLE,BRR,SOFT,ER,T,VALUE,CW,PROG2$,FLG,STATE,GSTACKP,QUOTE,F-GET-GLOBAL,EQ,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="BRR-FN">brr-fn</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-brr-fn" data-sym="BRR-FN" title="(defun brr-fn (flg quietp state)
  (cond
   ((eq (f-get-global &#39;gstackp state) :brr-data)
    (cond
     (flg
...">brr-fn</a>
  (flg quietp state)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-f-get-global" data-sym="F-GET-GLOBAL">f-get-global</a> 'gstackp state) <span class="keyword">:brr-data</span>) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (flg (<a class="sym-link system" href="axioms.html#def-prog2_24" data-sym="PROG2$">prog2$</a> (<a class="sym-link system" href="axioms.html#def-cw" data-sym="CW">cw</a> <span class="string">"No change: Break-rewrite is already enabled for ~
                        brr-data.  See :DOC with-brr-data~|"</span>)
            (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil)))
        (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
            '<a class="sym-link local-def" href="#def-brr" data-sym="BRR" title="(defmacro brr (flg &amp;optional quietp) `(brr-fn ,flg ,quietp state))">brr</a>
            <span class="string">"It is illegal to exit break-rewrite using :brr when ~
                  brr-data is being tracked.  See :DOC with-brr-data."</span>))))
    (flg (<a class="sym-link system" href="axioms.html#def-prog2_24" data-sym="PROG2$">prog2$</a> (<a class="sym-link system" href="rewrite.html#def-semi-initialize-brr-wormhole" data-sym="SEMI-INITIALIZE-BRR-WORMHOLE">semi-initialize-brr-wormhole</a> state)
        (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link system" href="axioms.html#def-f-put-global" data-sym="F-PUT-GLOBAL">f-put-global</a> 'gstackp <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> state)
          (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (quietp (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>))
            (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-prog2_24" data-sym="PROG2$">prog2$</a> (<a class="sym-link system" href="axioms.html#def-cw" data-sym="CW">cw</a> <span class="string">"Use :a! to exit break-rewrite.~|See :DOC ~
                    set-brr-evisc-tuple and :DOC iprint to control ~
                    suppression of details when printing.~|~%The monitored ~
                    runes are:~%"</span>)
                (<a class="sym-link system" href="axioms.html#def-er-progn" data-sym="ER-PROGN">er-progn</a> (<a class="sym-link local-def" href="#def-monitored-runes-fn" data-sym="MONITORED-RUNES-FN" title="(defun monitored-runes-fn (state)
  (progn$ (semi-initialize-brr-wormhole state)
          (prog2$
           (wormhole-eval &#39;brr
                          &#39;(lambda (whs)
...">monitored-runes-fn</a> state) (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>))))))))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link system" href="axioms.html#def-f-put-global" data-sym="F-PUT-GLOBAL">f-put-global</a> 'gstackp nil state) (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil)))))</pre>
  </div>

<div class="form-block macro" id="def-brr" data-defines="BRR" data-references="STATE,BRR-FN,QUASIQUOTE,QUIETP,&OPTIONAL,FLG,DEFMACRO" data-used-by="PROCEED-FROM-BRKPT1,MONITOR!,BRR-FN,MONITORED-RUNES-FN,UNMONITOR-FN,MONITOR-FN" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="BRR">brr</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-brr" data-sym="BRR" title="(defmacro brr (flg &amp;optional quietp) `(brr-fn ,flg ,quietp state))">brr</a>
  (flg &amp;optional quietp)
  `(<a class="sym-link local-def" href="#def-brr-fn" data-sym="BRR-FN" title="(defun brr-fn (flg quietp state)
  (cond
   ((eq (f-get-global &#39;gstackp state) :brr-data)
    (cond
     (flg
...">brr-fn</a> ,FLG ,QUIETP state))</pre>
  </div>

<div class="form-block macro" id="def-monitor_21" data-defines="MONITOR!" data-references="MONITOR,T,BRR,ER-PROGN,QUASIQUOTE,EXPR,X,DEFMACRO" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="MONITOR!">monitor!</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-monitor_21" data-sym="MONITOR!" title="(defmacro monitor! (x expr) `(er-progn (brr t t) (monitor ,x ,expr t)))">monitor!</a>
  (x expr)
  `(<a class="sym-link system" href="axioms.html#def-er-progn" data-sym="ER-PROGN">er-progn</a> (<a class="sym-link local-def" href="#def-brr" data-sym="BRR" title="(defmacro brr (flg &amp;optional quietp) `(brr-fn ,flg ,quietp state))">brr</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>) (<a class="sym-link local-def" href="#def-monitor" data-sym="MONITOR" title="(defmacro monitor (x expr &amp;optional quietp)
  `(monitor-fn ,x ,expr &#39;monitor ,quietp state))">monitor</a> ,X ,EXPR <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)))</pre>
  </div>

<div class="form-block macro" id="def-brr_40" data-defines="BRR@" data-references="WORMHOLE-STATUS,F-GET-GLOBAL,BRR-STATUS,ACCESS,OTHERWISE,FINAL-TTREE,INITIAL-TTREE,ANCESTORS,GENEQV,TYPE-ALIST,FAILURE-REASON,POT-LIST,BRR-RESULT,WONP,UNIFY-SUBST,TARGET,STATE,LEMMA,GET-BRR-LOCAL,GET-RULE-FIELD,CASE,QUOTE,MEMBER-EQ,XARGS,DECLARE,SYM,DEFMACRO" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="BRR@">brr@</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-brr_40" data-sym="BRR@" title="(defmacro brr@ (sym)
  (declare
   (xargs :guard
    (member-eq sym
               (quote
...">brr@</a>
  (sym)
  (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> sym
        '(<span class="keyword">:lhs</span> <span class="keyword">:rhs</span> <span class="keyword">:hyps</span> <span class="keyword">:target</span> <span class="keyword">:unify-subst</span> <span class="keyword">:wonp</span> <span class="keyword">:rewritten-rhs</span> <span class="keyword">:poly-list</span> <span class="keyword">:pot-lst</span> <span class="keyword">:failure-reason</span> <span class="keyword">:lemma</span> <span class="keyword">:type-alist</span> <span class="keyword">:geneqv</span> <span class="keyword">:ancestors</span> <span class="keyword">:initial-ttree</span> <span class="keyword">:final-ttree</span> <span class="keyword">:gstack</span>))))
  (<a class="sym-link system" href="axioms.html#def-case" data-sym="CASE">case</a> sym
    (<span class="keyword">:lhs</span> '(<a class="sym-link system" href="rewrite.html#def-get-rule-field" data-sym="GET-RULE-FIELD">get-rule-field</a> (<a class="sym-link system" href="rewrite.html#def-get-brr-local" data-sym="GET-BRR-LOCAL">get-brr-local</a> 'lemma state) <span class="keyword">:lhs</span>))
    (<span class="keyword">:rhs</span> '(<a class="sym-link system" href="rewrite.html#def-get-rule-field" data-sym="GET-RULE-FIELD">get-rule-field</a> (<a class="sym-link system" href="rewrite.html#def-get-brr-local" data-sym="GET-BRR-LOCAL">get-brr-local</a> 'lemma state) <span class="keyword">:rhs</span>))
    (<span class="keyword">:hyps</span> '(<a class="sym-link system" href="rewrite.html#def-get-rule-field" data-sym="GET-RULE-FIELD">get-rule-field</a> (<a class="sym-link system" href="rewrite.html#def-get-brr-local" data-sym="GET-BRR-LOCAL">get-brr-local</a> 'lemma state) <span class="keyword">:hyps</span>))
    (<span class="keyword">:target</span> '(<a class="sym-link system" href="rewrite.html#def-get-brr-local" data-sym="GET-BRR-LOCAL">get-brr-local</a> 'target state))
    (<span class="keyword">:unify-subst</span> '(<a class="sym-link system" href="rewrite.html#def-get-brr-local" data-sym="GET-BRR-LOCAL">get-brr-local</a> 'unify-subst state))
    (<span class="keyword">:wonp</span> '(<a class="sym-link system" href="rewrite.html#def-get-brr-local" data-sym="GET-BRR-LOCAL">get-brr-local</a> 'wonp state))
    (<span class="keyword">:rewritten-rhs</span> '(<a class="sym-link system" href="rewrite.html#def-get-brr-local" data-sym="GET-BRR-LOCAL">get-brr-local</a> '<a class="sym-link system" href="rewrite.html#def-brr-result" data-sym="BRR-RESULT">brr-result</a> state))
    (<span class="keyword">:poly-list</span> '(<a class="sym-link system" href="rewrite.html#def-brr-result" data-sym="BRR-RESULT">brr-result</a> state))
    (<span class="keyword">:pot-list</span> '(<a class="sym-link system" href="rewrite.html#def-get-brr-local" data-sym="GET-BRR-LOCAL">get-brr-local</a> 'pot-list state))
    (<span class="keyword">:failure-reason</span> '(<a class="sym-link system" href="rewrite.html#def-get-brr-local" data-sym="GET-BRR-LOCAL">get-brr-local</a> 'failure-reason state))
    (<span class="keyword">:lemma</span> '(<a class="sym-link system" href="rewrite.html#def-get-brr-local" data-sym="GET-BRR-LOCAL">get-brr-local</a> 'lemma state))
    (<span class="keyword">:type-alist</span> '(<a class="sym-link system" href="rewrite.html#def-get-brr-local" data-sym="GET-BRR-LOCAL">get-brr-local</a> 'type-alist state))
    (<span class="keyword">:geneqv</span> '(<a class="sym-link system" href="rewrite.html#def-get-brr-local" data-sym="GET-BRR-LOCAL">get-brr-local</a> 'geneqv state))
    (<span class="keyword">:ancestors</span> '(<a class="sym-link system" href="rewrite.html#def-get-brr-local" data-sym="GET-BRR-LOCAL">get-brr-local</a> 'ancestors state))
    (<span class="keyword">:initial-ttree</span> '(<a class="sym-link system" href="rewrite.html#def-get-brr-local" data-sym="GET-BRR-LOCAL">get-brr-local</a> 'initial-ttree state))
    (<span class="keyword">:final-ttree</span> '(<a class="sym-link system" href="rewrite.html#def-get-brr-local" data-sym="GET-BRR-LOCAL">get-brr-local</a> 'final-ttree state))
    (otherwise '(<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> brr-status
        (<a class="sym-link system" href="axioms.html#def-f-get-global" data-sym="F-GET-GLOBAL">f-get-global</a> 'wormhole-status state)
        <span class="keyword">:brr-gstack</span>))))</pre>
  </div>

<div class="form-block macro" id="def-monitor" data-defines="MONITOR" data-references="STATE,QUOTE,MONITOR-FN,QUASIQUOTE,QUIETP,&OPTIONAL,EXPR,X,DEFMACRO" data-used-by="MONITOR!,TRANSLATE-RUNE-AND-CRITERIA" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="MONITOR">monitor</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-monitor" data-sym="MONITOR" title="(defmacro monitor (x expr &amp;optional quietp)
  `(monitor-fn ,x ,expr &#39;monitor ,quietp state))">monitor</a>
  (x expr &amp;optional quietp)
  `(<a class="sym-link local-def" href="#def-monitor-fn" data-sym="MONITOR-FN" title="(defun monitor-fn (x args ctx quietp state)
  (er-let* ((new-pairs (translate-rune-and-criteria x args ctx state)))
           (progn$ (semi-initialize-brr-wormhole state)
                   (progn$
                    (or (f-get-global &#39;gstackp state)
...">monitor-fn</a> ,X ,EXPR '<a class="sym-link local-def" href="#def-monitor" data-sym="MONITOR" title="(defmacro monitor (x expr &amp;optional quietp)
  `(monitor-fn ,x ,expr &#39;monitor ,quietp state))">monitor</a> ,QUIETP state))</pre>
  </div>

<div class="form-block macro" id="def-unmonitor" data-defines="UNMONITOR" data-references="STATE,QUOTE,UNMONITOR-FN,QUASIQUOTE,RUNE,DEFMACRO" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="UNMONITOR">unmonitor</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-unmonitor" data-sym="UNMONITOR" title="(defmacro unmonitor (rune) `(unmonitor-fn ,rune &#39;unmonitor state))">unmonitor</a>
  (rune)
  `(<a class="sym-link local-def" href="#def-unmonitor-fn" data-sym="UNMONITOR-FN" title="(defun unmonitor-fn (x ctx state)
  (progn$ (semi-initialize-brr-wormhole state)
          (er-let* ((whs (get-persistent-whs &#39;brr state)))
                   (let* ((old-brr-monitored-runes
                           (access brr-status whs :brr-monitored-runes))
...">unmonitor-fn</a> ,RUNE '<a class="sym-link local-def" href="#def-unmonitor" data-sym="UNMONITOR" title="(defmacro unmonitor (rune) `(unmonitor-fn ,rune &#39;unmonitor state))">unmonitor</a> state))</pre>
  </div>

<div class="form-block macro" id="def-monitored-runes" data-defines="MONITORED-RUNES" data-references="STATE,MONITORED-RUNES-FN,QUASIQUOTE,DEFMACRO" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="MONITORED-RUNES">monitored-runes</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-monitored-runes" data-sym="MONITORED-RUNES" title="(defmacro monitored-runes () `(monitored-runes-fn state))">monitored-runes</a> nil `(<a class="sym-link local-def" href="#def-monitored-runes-fn" data-sym="MONITORED-RUNES-FN" title="(defun monitored-runes-fn (state)
  (progn$ (semi-initialize-brr-wormhole state)
          (prog2$
           (wormhole-eval &#39;brr
                          &#39;(lambda (whs)
...">monitored-runes-fn</a> state))</pre>
  </div>

<div class="form-block function" id="def-unconditional-monitor-tuples" data-defines="UNCONDITIONAL-MONITOR-TUPLES" data-references="*T*,CONS,LIST,PAIRLIS-X2,APPEND,CDR,REST,CAR,RUNES-TO-MONITOR,RUNES,ER-LET*,T,VALUE,ENDP,COND,STATE,CTX,X-LST,DEFUN" data-used-by="PROCEED-FROM-BRKPT1" data-part-name="UNCONDITIONAL-MONITOR-TUPLES" data-part-args="STATE,CTX,X-LST" data-part-body="*T*,CONS,LIST,PAIRLIS-X2,APPEND,CDR,UNCONDITIONAL-MONITOR-TUPLES,REST,STATE,CTX,CAR,RUNES-TO-MONITOR,RUNES,ER-LET*,T,VALUE,X-LST,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="UNCONDITIONAL-MONITOR-TUPLES">unconditional-monitor-tuples</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-unconditional-monitor-tuples" data-sym="UNCONDITIONAL-MONITOR-TUPLES" title="(defun unconditional-monitor-tuples (x-lst ctx state)
  (cond ((endp x-lst) (value nil))
        (t
         (er-let*
          ((runes (runes-to-monitor (car x-lst) ctx state nil))
...">unconditional-monitor-tuples</a>
  (x-lst ctx state)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> x-lst) (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="basis-b.html#def-er-let_2A" data-sym="ER-LET*">er-let*</a> ((runes (<a class="sym-link local-def" href="#def-runes-to-monitor" data-sym="RUNES-TO-MONITOR" title="(defun runes-to-monitor (x ctx state quietp)
  (er-let*
   ((wrld (value (w state)))
    (runes
     (cond ((symbolp x) (value (monitorable-runes-from-mapping-pairs x wrld)))
...">runes-to-monitor</a> (car x-lst) ctx state nil)) (<a class="sym-link system" href="axioms.html#def-rest" data-sym="REST">rest</a> (<a class="sym-link local-def" href="#def-unconditional-monitor-tuples" data-sym="UNCONDITIONAL-MONITOR-TUPLES" title="(defun unconditional-monitor-tuples (x-lst ctx state)
  (cond ((endp x-lst) (value nil))
        (t
         (er-let*
          ((runes (runes-to-monitor (car x-lst) ctx state nil))
...">unconditional-monitor-tuples</a> (cdr x-lst) ctx state)))
        (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (<a class="sym-link system" href="axioms.html#def-append" data-sym="APPEND">append</a> (<a class="sym-link system" href="axioms.html#def-pairlis-x2" data-sym="PAIRLIS-X2">pairlis-x2</a> runes (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (cons <span class="keyword">:condition</span> <a class="sym-link system" href="axioms.html#def-_2At_2A" data-sym="*T*">*t*</a>)))
            <a class="sym-link system" href="axioms.html#def-rest" data-sym="REST">rest</a>))))))</pre>
  </div>

<div class="form-block function" id="def-proceed-from-brkpt1" data-defines="PROCEED-FROM-BRKPT1" data-references="STANDARD-OI,SAVED-STANDARD-OI,CONS,PUT-ASSOC-EQ-ALIST,STRIP-CARS,REMOVE1-ASSOC-EQUAL?-LST,APPEND,ACCESS,BRR-STATUS,CHANGE,BRR,SET-PERSISTENT-WHS-AND-EPHEMERAL-WHS,WORMHOLE-STATUS,QUOTE,F-GET-GLOBAL,WHS,LET,PPROGN,LIST,CAR,KEYWORDP,CONSP,AND,SYMBOLP,OR,IF,UNCONDITIONAL-MONITOR-TUPLES,VALUE,T,EQ,COND,TUPLES,ER-LET*,STATE,CTX,RUNES,ACTION,DEFUN" data-used-by="EXIT-BRR" data-part-name="PROCEED-FROM-BRKPT1" data-part-args="STATE,CTX,RUNES,ACTION" data-part-body="ACTION,STANDARD-OI,SAVED-STANDARD-OI,CONS,PUT-ASSOC-EQ-ALIST,STRIP-CARS,REMOVE1-ASSOC-EQUAL?-LST,APPEND,ACCESS,BRR-STATUS,CHANGE,BRR,SET-PERSISTENT-WHS-AND-EPHEMERAL-WHS,WORMHOLE-STATUS,QUOTE,F-GET-GLOBAL,WHS,LET,PPROGN,STATE,CTX,LIST,CAR,KEYWORDP,CONSP,AND,SYMBOLP,OR,IF,UNCONDITIONAL-MONITOR-TUPLES,VALUE,T,RUNES,EQ,COND,TUPLES,ER-LET*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="PROCEED-FROM-BRKPT1">proceed-from-brkpt1</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-proceed-from-brkpt1" data-sym="PROCEED-FROM-BRKPT1" title="(defun proceed-from-brkpt1 (action runes ctx state)
  (er-let*
   ((tuples
     (cond ((eq runes t) (value nil)) ((eq runes :none) (value nil))
           (t
...">proceed-from-brkpt1</a>
  (action runes ctx state)
  (<a class="sym-link system" href="basis-b.html#def-er-let_2A" data-sym="ER-LET*">er-let*</a> ((tuples (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> runes <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>) (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil))
         ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> runes <span class="keyword">:none</span>) (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil))
         (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-unconditional-monitor-tuples" data-sym="UNCONDITIONAL-MONITOR-TUPLES" title="(defun unconditional-monitor-tuples (x-lst ctx state)
  (cond ((endp x-lst) (value nil))
        (t
         (er-let*
          ((runes (runes-to-monitor (car x-lst) ctx state nil))
...">unconditional-monitor-tuples</a> (if (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (symbolp runes)
                 (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (consp runes) (<a class="sym-link system" href="axioms.html#def-keywordp" data-sym="KEYWORDP">keywordp</a> (car runes))))
               (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> runes)
               runes)
             ctx
             state)))))
    (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (let ((whs (<a class="sym-link system" href="axioms.html#def-f-get-global" data-sym="F-GET-GLOBAL">f-get-global</a> 'wormhole-status state)))
        (<a class="sym-link system" href="basis-a.html#def-set-persistent-whs-and-ephemeral-whs" data-sym="SET-PERSISTENT-WHS-AND-EPHEMERAL-WHS">set-persistent-whs-and-ephemeral-whs</a> '<a class="sym-link local-def" href="#def-brr" data-sym="BRR" title="(defmacro brr (flg &amp;optional quietp) `(brr-fn ,flg ,quietp state))">brr</a>
          (<a class="sym-link system" href="basis-a.html#def-change" data-sym="CHANGE">change</a> brr-status
            whs
            <span class="keyword">:brr-monitored-runes</span> (if (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> runes <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)
              (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> brr-status whs <span class="keyword">:brr-monitored-runes</span>)
              (if (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> runes <span class="keyword">:none</span>)
                nil
                (<a class="sym-link system" href="axioms.html#def-append" data-sym="APPEND">append</a> tuples
                  (<a class="sym-link local-def" href="#def-remove1-assoc-equal_3F-lst" data-sym="REMOVE1-ASSOC-EQUAL?-LST" title="(defun remove1-assoc-equal?-lst (lst alist)
  (declare (xargs :guard (alistp alist)))
  (if (consp lst)
      (remove1-assoc-equal?-lst (cdr lst)
                                (remove1-assoc-equal? (car lst) alist))">remove1-assoc-equal?-lst</a> (<a class="sym-link system" href="axioms.html#def-strip-cars" data-sym="STRIP-CARS">strip-cars</a> tuples)
                    (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> brr-status whs <span class="keyword">:brr-monitored-runes</span>)))))
            <span class="keyword">:brr-local-alist</span> (put-assoc-eq-alist (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> brr-status whs <span class="keyword">:brr-local-alist</span>)
              (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (cons 'saved-standard-oi (<a class="sym-link system" href="axioms.html#def-f-get-global" data-sym="F-GET-GLOBAL">f-get-global</a> '<a class="sym-link system" href="basis-b.html#def-standard-oi" data-sym="STANDARD-OI">standard-oi</a> state))
                (cons 'action action))))
          state))
      (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> <span class="keyword">:q</span>))))</pre>
  </div>

<div class="form-block function" id="def-exit-brr" data-defines="EXIT-BRR" data-references="SILENT,PROCEED-FROM-BRKPT1,T,VALUE,POP-BRR-STATUS,PPROGN,BRR-DEPTH,CW,PROG2$,WORMHOLE-STATUS,F-GET-GLOBAL,BRR-STATUS,ACCESS,WONP,QUOTE,ASSOC-EQ,COND,STATE,DEFUN" data-used-by="OK-IF-FN" data-part-name="EXIT-BRR" data-part-args="STATE" data-part-body="EXIT-BRR,SILENT,PROCEED-FROM-BRKPT1,T,VALUE,POP-BRR-STATUS,PPROGN,BRR-DEPTH,CW,PROG2$,STATE,WORMHOLE-STATUS,F-GET-GLOBAL,BRR-STATUS,ACCESS,WONP,QUOTE,ASSOC-EQ,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="EXIT-BRR">exit-brr</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-exit-brr" data-sym="EXIT-BRR" title="(defun exit-brr (state)
  (cond
   ((assoc-eq &#39;wonp
              (access brr-status (f-get-global &#39;wormhole-status state)
                      :brr-local-alist))
...">exit-brr</a>
  (state)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a> 'wonp
       (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> brr-status
         (<a class="sym-link system" href="axioms.html#def-f-get-global" data-sym="F-GET-GLOBAL">f-get-global</a> 'wormhole-status state)
         <span class="keyword">:brr-local-alist</span>)) (<a class="sym-link system" href="axioms.html#def-prog2_24" data-sym="PROG2$">prog2$</a> (<a class="sym-link system" href="axioms.html#def-cw" data-sym="CW">cw</a> <span class="string">"~F0)~%"</span> (<a class="sym-link system" href="rewrite.html#def-brr-depth" data-sym="BRR-DEPTH">brr-depth</a> state))
        (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link system" href="rewrite.html#def-pop-brr-status" data-sym="POP-BRR-STATUS">pop-brr-status</a> state) (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> <span class="keyword">:q</span>))))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-proceed-from-brkpt1" data-sym="PROCEED-FROM-BRKPT1" title="(defun proceed-from-brkpt1 (action runes ctx state)
  (er-let*
   ((tuples
     (cond ((eq runes t) (value nil)) ((eq runes :none) (value nil))
           (t
...">proceed-from-brkpt1</a> 'silent <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> '<a class="sym-link local-def" href="#def-exit-brr" data-sym="EXIT-BRR" title="(defun exit-brr (state)
  (cond
   ((assoc-eq &#39;wonp
              (access brr-status (f-get-global &#39;wormhole-status state)
                      :brr-local-alist))
...">exit-brr</a> state))))</pre>
  </div>

<div class="form-block function" id="def-ok-if-fn" data-defines="OK-IF-FN" data-references="VALUE,EXIT-BRR,CDR,COND,T,W,OK-IF,QUOTE,SIMPLE-TRANSLATE-AND-EVAL,PAIR,ER-LET*,STATE,TERM,DEFUN" data-used-by="OK-IF" data-part-name="OK-IF-FN" data-part-args="STATE,TERM" data-part-body="VALUE,EXIT-BRR,CDR,COND,T,W,OK-IF,STATE,QUOTE,TERM,SIMPLE-TRANSLATE-AND-EVAL,PAIR,ER-LET*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="OK-IF-FN">ok-if-fn</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-ok-if-fn" data-sym="OK-IF-FN" title="(defun ok-if-fn (term state)
  (er-let*
   ((pair
     (simple-translate-and-eval term nil &#39;(state) &quot;The ok-if test&quot; &#39;ok-if
                                (w state) state t)))">ok-if-fn</a>
  (term state)
  (<a class="sym-link system" href="basis-b.html#def-er-let_2A" data-sym="ER-LET*">er-let*</a> ((pair (simple-translate-and-eval term
         nil
         '(state)
         <span class="string">"The ok-if test"</span>
         '<a class="sym-link local-def" href="#def-ok-if" data-sym="OK-IF" title="(defmacro ok-if (term) `(ok-if-fn ,term state))">ok-if</a>
         (<a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a> state)
         state
         <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((cdr pair) (<a class="sym-link local-def" href="#def-exit-brr" data-sym="EXIT-BRR" title="(defun exit-brr (state)
  (cond
   ((assoc-eq &#39;wonp
              (access brr-status (f-get-global &#39;wormhole-status state)
                      :brr-local-alist))
...">exit-brr</a> state)) (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil)))))</pre>
  </div>

<div class="form-block macro" id="def-ok-if" data-defines="OK-IF" data-references="STATE,OK-IF-FN,QUASIQUOTE,TERM,DEFMACRO" data-used-by="OK-IF-FN" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="OK-IF">ok-if</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-ok-if" data-sym="OK-IF" title="(defmacro ok-if (term) `(ok-if-fn ,term state))">ok-if</a> (term) `(<a class="sym-link local-def" href="#def-ok-if-fn" data-sym="OK-IF-FN" title="(defun ok-if-fn (term state)
  (er-let*
   ((pair
     (simple-translate-and-eval term nil &#39;(state) &quot;The ok-if test&quot; &#39;ok-if
                                (w state) state t)))">ok-if-fn</a> ,TERM state))</pre>
  </div>

<div class="form-block function" id="def-print-rule-storage-dependencies" data-defines="PRINT-RULE-STORAGE-DEPENDENCIES" data-references="PROOFS-CO,CONS,LIST,FMS,NTH,TILDE-*-SIMP-PHRASE,SIMP-PHRASE,LET,EVENT,IO?,PPROGN,T,VALUE,LD-SKIP-PROOFSP,COND,STATE,TTREE,NAME,DEFUN" data-used-by="DEFTHM-FN1,DEFAXIOM-FN" data-part-name="PRINT-RULE-STORAGE-DEPENDENCIES" data-part-args="STATE,TTREE,NAME" data-part-body="PROOFS-CO,CONS,LIST,FMS,NTH,TILDE-*-SIMP-PHRASE,SIMP-PHRASE,LET,TTREE,NAME,EVENT,IO?,PPROGN,T,VALUE,STATE,LD-SKIP-PROOFSP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="PRINT-RULE-STORAGE-DEPENDENCIES">print-rule-storage-dependencies</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-print-rule-storage-dependencies" data-sym="PRINT-RULE-STORAGE-DEPENDENCIES" title="(defun print-rule-storage-dependencies (name ttree state)
  (cond ((ld-skip-proofsp state) (value nil))
        (t
         (pprogn
          (io? event nil state (name ttree)
...">print-rule-storage-dependencies</a>
  (name ttree state)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-ld-skip-proofsp" data-sym="LD-SKIP-PROOFSP">ld-skip-proofsp</a> state) (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link system" href="basis-a.html#def-io_3F" data-sym="IO?">io?</a> event
          nil
          state
          (name ttree)
          (let ((simp-phrase (tilde-*-simp-phrase ttree)))
            (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-nth" data-sym="NTH">nth</a> <span class="number">4</span> simp-phrase) (<a class="sym-link system" href="basis-a.html#def-fms" data-sym="FMS">fms</a> <span class="string">"The storage of ~x0 depends upon ~*1.~%"</span>
                  (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (cons #\0 name) (cons #\1 simp-phrase))
                  (<a class="sym-link system" href="basis-b.html#def-proofs-co" data-sym="PROOFS-CO">proofs-co</a> state)
                  state
                  nil))
              (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> state))))
        (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil)))))</pre>
  </div>

<div class="form-block function" id="def-defaxiom-supporters" data-defines="DEFAXIOM-SUPPORTERS" data-references="VALUE,ALL-FNNAMES,INSTANTIABLE-ANCESTORS,SUPPORTERS,LET,IGNORE,DECLARE,STATE,WRLD,CTX,NAME,TTERM,DEFUN" data-used-by="DEFAXIOM-FN" data-part-name="DEFAXIOM-SUPPORTERS" data-part-args="STATE,WRLD,CTX,NAME,TTERM" data-part-declare="CTX,NAME,IGNORE,DECLARE" data-part-body="VALUE,WRLD,TTERM,ALL-FNNAMES,INSTANTIABLE-ANCESTORS,SUPPORTERS,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFAXIOM-SUPPORTERS">defaxiom-supporters</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-defaxiom-supporters" data-sym="DEFAXIOM-SUPPORTERS" title="(defun defaxiom-supporters (tterm name ctx wrld state)
  (declare (ignore name ctx))
  (let ((supporters (instantiable-ancestors (all-fnnames tterm) wrld nil)))
    (value supporters)))">defaxiom-supporters</a>
  (tterm name ctx wrld state)
  (declare (ignore name ctx))
  (let ((supporters (<a class="sym-link system" href="history-management.html#def-instantiable-ancestors" data-sym="INSTANTIABLE-ANCESTORS">instantiable-ancestors</a> (all-fnnames tterm) wrld nil)))
    (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> supporters)))</pre>
  </div>

<div class="form-block macro" id="def-when-logic-or-boot-strap" data-defines="WHEN-LOGIC-OR-BOOT-STRAP" data-references="SKIP-WHEN-LOGIC,BOOT-STRAP-FLG,QUOTE,F-GET-GLOBAL,NOT,STATE,DEFAULT-DEFUN-MODE-FROM-STATE,EQ,AND,IF,QUASIQUOTE,X,STR,DEFMACRO" data-used-by="DEFAXIOM-FN" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="WHEN-LOGIC-OR-BOOT-STRAP">when-logic-or-boot-strap</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-when-logic-or-boot-strap" data-sym="WHEN-LOGIC-OR-BOOT-STRAP" title="(defmacro when-logic-or-boot-strap (str x)
  `(if (and (eq (default-defun-mode-from-state state) :program)
            (not (f-get-global &#39;boot-strap-flg state)))
       (skip-when-logic &#39;,str state)
       ,x))">when-logic-or-boot-strap</a>
  (str x)
  `(if (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-default-defun-mode-from-state" data-sym="DEFAULT-DEFUN-MODE-FROM-STATE">default-defun-mode-from-state</a> state) <span class="keyword">:program</span>)
      (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-f-get-global" data-sym="F-GET-GLOBAL">f-get-global</a> 'boot-strap-flg state)))
    (<a class="sym-link system" href="basis-b.html#def-skip-when-logic" data-sym="SKIP-WHEN-LOGIC">skip-when-logic</a> ',STR state)
    ,X))</pre>
  </div>

<div class="form-block function" id="def-defaxiom-fn" data-defines="DEFAXIOM-FN" data-references="INSTALL-EVENT,PRINT-RULE-STORAGE-DEPENDENCIES,CHK-ASSUMPTION-FREE-TTREE,AXIOMSP,F-PUT-GLOBAL,PPROGN,CONS-TAG-TREES,TTREE4,DEFAXIOM-SUPPORTER,MAYBE-PUTPROP-LST,WRLD4,GLOBAL-VAL,NONCONSTRUCTIVE-AXIOM-NAMES,GLOBAL-SET,WRLD3,ADD-RULES,WRLD2,LET*,PROVE-COROLLARIES,VALUE,LD-SKIP-PROOFSP,TTREE3,THEOREM,CHK-JUST-NEW-NAME,WRLD1,CHK-ACCEPTABLE-RULES,TTREE1,ENFORCE-REDUNDANCY,REMOVE-GUARD-HOLDERS,ALL-FFN-SYMBS,CANONICAL-ANCESTORS-LST,ATTACHED-FNS,STOP-REDUNDANT-EVENT,REDUNDANT-THEOREMP,SOFT,ER,ASSOC-EQ,OR,COND,TRANSLATE-RULE-CLASSES,CLASSES,DEFAXIOM-SUPPORTERS,SUPPORTERS,T,TRANSLATE,TTERM,ER-LET*,CTX,CHK-ALL-BUT-NEW-NAME,ER-PROGN,ENS,W,WRLD,LET,ASSERT$,DEFAXIOM,QUOTE,CONS,WITH-CTX-SUMMARIZED,WHEN-LOGIC-OR-BOOT-STRAP,EVENT-FORM,RULE-CLASSES,STATE,TERM,NAME,DEFUN" data-part-name="DEFAXIOM-FN" data-part-args="EVENT-FORM,RULE-CLASSES,STATE,TERM,NAME" data-part-body="INSTALL-EVENT,PRINT-RULE-STORAGE-DEPENDENCIES,CHK-ASSUMPTION-FREE-TTREE,AXIOMSP,F-PUT-GLOBAL,PPROGN,CONS-TAG-TREES,TTREE4,DEFAXIOM-SUPPORTER,MAYBE-PUTPROP-LST,WRLD4,GLOBAL-VAL,NONCONSTRUCTIVE-AXIOM-NAMES,GLOBAL-SET,WRLD3,ADD-RULES,WRLD2,LET*,PROVE-COROLLARIES,VALUE,LD-SKIP-PROOFSP,TTREE3,THEOREM,CHK-JUST-NEW-NAME,WRLD1,CHK-ACCEPTABLE-RULES,TTREE1,ENFORCE-REDUNDANCY,REMOVE-GUARD-HOLDERS,ALL-FFN-SYMBS,CANONICAL-ANCESTORS-LST,ATTACHED-FNS,STOP-REDUNDANT-EVENT,REDUNDANT-THEOREMP,SOFT,ER,ASSOC-EQ,OR,COND,RULE-CLASSES,TRANSLATE-RULE-CLASSES,CLASSES,DEFAXIOM-SUPPORTERS,SUPPORTERS,T,TERM,TRANSLATE,TTERM,ER-LET*,CTX,CHK-ALL-BUT-NEW-NAME,ER-PROGN,ENS,STATE,W,WRLD,LET,EVENT-FORM,ASSERT$,NAME,DEFAXIOM,QUOTE,CONS,WITH-CTX-SUMMARIZED,WHEN-LOGIC-OR-BOOT-STRAP" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFAXIOM-FN">defaxiom-fn</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-defaxiom-fn" data-sym="DEFAXIOM-FN" title="(defun defaxiom-fn (name term state rule-classes event-form)
  (when-logic-or-boot-strap &quot;DEFAXIOM&quot;
                            (with-ctx-summarized (cons &#39;defaxiom name)
                                                 (assert$ event-form
                                                          (let ((wrld
...">defaxiom-fn</a>
  (name term state rule-classes event-form)
  (<a class="sym-link local-def" href="#def-when-logic-or-boot-strap" data-sym="WHEN-LOGIC-OR-BOOT-STRAP" title="(defmacro when-logic-or-boot-strap (str x)
  `(if (and (eq (default-defun-mode-from-state state) :program)
            (not (f-get-global &#39;boot-strap-flg state)))
       (skip-when-logic &#39;,str state)
       ,x))">when-logic-or-boot-strap</a> <span class="string">"DEFAXIOM"</span>
    (<a class="sym-link system" href="history-management.html#def-with-ctx-summarized" data-sym="WITH-CTX-SUMMARIZED">with-ctx-summarized</a> (cons '<a class="sym-link system" href="axioms.html#def-defaxiom" data-sym="DEFAXIOM">defaxiom</a> name)
      (<a class="sym-link system" href="axioms.html#def-assert_24" data-sym="ASSERT$">assert$</a> event-form
        (let ((wrld (<a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a> state)) (ens (ens state)))
          (<a class="sym-link system" href="axioms.html#def-er-progn" data-sym="ER-PROGN">er-progn</a> (chk-all-but-new-name name ctx nil wrld state)
            (<a class="sym-link system" href="basis-b.html#def-er-let_2A" data-sym="ER-LET*">er-let*</a> ((tterm (translate term <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> ctx wrld state)) (supporters (<a class="sym-link local-def" href="#def-defaxiom-supporters" data-sym="DEFAXIOM-SUPPORTERS" title="(defun defaxiom-supporters (tterm name ctx wrld state)
  (declare (ignore name ctx))
  (let ((supporters (instantiable-ancestors (all-fnnames tterm) wrld nil)))
    (value supporters)))">defaxiom-supporters</a> tterm name ctx wrld state))
                (classes (<a class="sym-link local-def" href="#def-translate-rule-classes" data-sym="TRANSLATE-RULE-CLASSES" title="(defun translate-rule-classes (name classes thm ctx ens wrld state)
  (translate-rule-classes1 name
                           (cond ((null classes) nil)
                                 ((atom classes) (list classes)) (t classes))
                           thm ctx ens wrld state))">translate-rule-classes</a> name
                    rule-classes
                    tterm
                    ctx
                    ens
                    wrld
                    state)))
              (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a> <span class="keyword">:meta</span> classes)
                   (<a class="sym-link system" href="axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a> <span class="keyword">:clause-processor</span> classes)) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                    ctx
                    <span class="string">"It is illegal for a defaxiom event to specify :RULE-CLASSES ~
                 of type :META or :CLAUSE-PROCESSOR.  See :DOC defaxiom.  A ~
                 reasonable alternative might be to use defthm with ~
                 skip-proofs."</span>))
                ((<a class="sym-link local-def" href="#def-redundant-theoremp" data-sym="REDUNDANT-THEOREMP" title="(defun redundant-theoremp (name term classes event-form wrld)
  (assert$ event-form
           (let ((tmp
                  (and (equal term (getpropc name &#39;theorem 0 wrld))
                       (equal (truncate-classes classes term)
...">redundant-theoremp</a> name tterm classes event-form wrld) (<a class="sym-link system" href="history-management.html#def-stop-redundant-event" data-sym="STOP-REDUNDANT-EVENT">stop-redundant-event</a> ctx state))
                (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((<a class="sym-link local-def" href="#def-attached-fns" data-sym="ATTACHED-FNS" title="(defun attached-fns (fns wrld)
  (cond ((endp fns) nil)
        (t
         (let ((prop (attachment-alist (car fns) wrld)))
           (cond
...">attached-fns</a> (<a class="sym-link local-def" href="#def-attached-fns" data-sym="ATTACHED-FNS" title="(defun attached-fns (fns wrld)
  (cond ((endp fns) nil)
        (t
         (let ((prop (attachment-alist (car fns) wrld)))
           (cond
...">attached-fns</a> (<a class="sym-link local-def" href="#def-canonical-ancestors-lst" data-sym="CANONICAL-ANCESTORS-LST" title="(defun canonical-ancestors-lst (fns wrld)
  (canonical-ancestors-rec (collect-canonical-siblings fns wrld nil nil) wrld
                           t))">canonical-ancestors-lst</a> (<a class="sym-link system" href="rewrite.html#def-all-ffn-symbs" data-sym="ALL-FFN-SYMBS">all-ffn-symbs</a> (remove-guard-holders tterm wrld) nil)
                           wrld)
                         wrld)))
                    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (<a class="sym-link local-def" href="#def-attached-fns" data-sym="ATTACHED-FNS" title="(defun attached-fns (fns wrld)
  (cond ((endp fns) nil)
        (t
         (let ((prop (attachment-alist (car fns) wrld)))
           (cond
...">attached-fns</a> (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                          ctx
                          <span class="string">"The following function~#0~[ has an attachment, but is~/s ~
                     have attachments, but are~] ancestral in the proposed ~
                     axiom: ~&amp;0. ~ See :DOC defattach."</span>
                          <a class="sym-link local-def" href="#def-attached-fns" data-sym="ATTACHED-FNS" title="(defun attached-fns (fns wrld)
  (cond ((endp fns) nil)
        (t
         (let ((prop (attachment-alist (car fns) wrld)))
           (cond
...">attached-fns</a>))
                      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="basis-b.html#def-enforce-redundancy" data-sym="ENFORCE-REDUNDANCY">enforce-redundancy</a> event-form
                          ctx
                          wrld
                          (<a class="sym-link system" href="basis-b.html#def-er-let_2A" data-sym="ER-LET*">er-let*</a> ((ttree1 (<a class="sym-link local-def" href="#def-chk-acceptable-rules" data-sym="CHK-ACCEPTABLE-RULES" title="(defun chk-acceptable-rules (name classes ctx ens wrld state)
  (let ((classes
         (cond
          ((or (eq (ld-skip-proofsp state) &#39;include-book)
               (eq (ld-skip-proofsp state) &#39;include-book-with-locals))
...">chk-acceptable-rules</a> name classes ctx ens wrld state)) (wrld1 (<a class="sym-link system" href="history-management.html#def-chk-just-new-name" data-sym="CHK-JUST-NEW-NAME">chk-just-new-name</a> name nil 'theorem nil ctx wrld state))
                              (ttree3 (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-ld-skip-proofsp" data-sym="LD-SKIP-PROOFSP">ld-skip-proofsp</a> state) (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil))
                                  (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-prove-corollaries" data-sym="PROVE-COROLLARIES" title="(defun prove-corollaries (name term rule-classes ens wrld ctx state)
  (let* ((classes (non-tautological-classes term rule-classes))
         (n (length classes)))
    (cond ((= n 0) (value nil))
          (t
...">prove-corollaries</a> name tterm classes ens wrld1 ctx state)))))
                            (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((wrld2 (<a class="sym-link local-def" href="#def-add-rules" data-sym="ADD-RULES" title="(defun add-rules (name classes term untranslated-term ens wrld state)
  (let ((runic-mapping-pairs
         (make-runic-mapping-pairs (get-next-nume wrld)
                                   (make-runes name classes))))
    (putprop name &#39;runic-mapping-pairs runic-mapping-pairs
...">add-rules</a> name classes tterm term ens wrld1 state)) (wrld3 (<a class="sym-link system" href="basis-b.html#def-global-set" data-sym="GLOBAL-SET">global-set</a> 'nonconstructive-axiom-names
                                    (cons name (<a class="sym-link system" href="axioms.html#def-global-val" data-sym="GLOBAL-VAL">global-val</a> 'nonconstructive-axiom-names wrld))
                                    wrld2))
                                (wrld4 (<a class="sym-link local-def" href="#def-maybe-putprop-lst" data-sym="MAYBE-PUTPROP-LST" title="(defun maybe-putprop-lst (symb-lst key val wrld)
  (cond ((endp symb-lst) wrld)
        (t
         (let ((symb (car symb-lst)))
           (maybe-putprop-lst (cdr symb-lst) key val
...">maybe-putprop-lst</a> supporters
                                    'defaxiom-supporter
                                    name
                                    wrld3))
                                (ttree4 (cons-tag-trees ttree1 ttree3)))
                              (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link system" href="axioms.html#def-f-put-global" data-sym="F-PUT-GLOBAL">f-put-global</a> 'axiomsp <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> state)
                                (<a class="sym-link system" href="axioms.html#def-er-progn" data-sym="ER-PROGN">er-progn</a> (<a class="sym-link system" href="prove.html#def-chk-assumption-free-ttree" data-sym="CHK-ASSUMPTION-FREE-TTREE">chk-assumption-free-ttree</a> ttree4 ctx state)
                                  (<a class="sym-link local-def" href="#def-print-rule-storage-dependencies" data-sym="PRINT-RULE-STORAGE-DEPENDENCIES" title="(defun print-rule-storage-dependencies (name ttree state)
  (cond ((ld-skip-proofsp state) (value nil))
        (t
         (pprogn
          (io? event nil state (name ttree)
...">print-rule-storage-dependencies</a> name ttree1 state)
                                  (<a class="sym-link system" href="history-management.html#def-install-event" data-sym="INSTALL-EVENT">install-event</a> name
                                    event-form
                                    '<a class="sym-link system" href="axioms.html#def-defaxiom" data-sym="DEFAXIOM">defaxiom</a>
                                    name
                                    ttree4
                                    nil
                                    <span class="keyword">:protect</span> ctx
                                    wrld4
                                    state))))))))))))))))))</pre>
  </div>

<div class="form-block function" id="def-warn-on-inappropriate-defun-mode" data-defines="WARN-ON-INAPPROPRIATE-DEFUN-MODE" data-references="WARNING$,W,DEFAULT-DEFUN-MODE,EQ,OR,IF,STATE,CTX,EVENT-FORM,ASSUMEP,DEFUN" data-used-by="DEFTHM-FN1" data-part-name="WARN-ON-INAPPROPRIATE-DEFUN-MODE" data-part-args="STATE,CTX,EVENT-FORM,ASSUMEP" data-part-body="EVENT-FORM,CTX,WARNING$,STATE,W,DEFAULT-DEFUN-MODE,EQ,ASSUMEP,OR,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="WARN-ON-INAPPROPRIATE-DEFUN-MODE">warn-on-inappropriate-defun-mode</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-warn-on-inappropriate-defun-mode" data-sym="WARN-ON-INAPPROPRIATE-DEFUN-MODE" title="(defun warn-on-inappropriate-defun-mode (assumep event-form ctx state)
  (if (or assumep (eq (default-defun-mode (w state)) :logic))
      state
      (warning$ ctx &quot;Defun-Mode&quot;
                &quot;It is perhaps unusual to execute the event ~x0 in the ~
...">warn-on-inappropriate-defun-mode</a>
  (assumep event-form ctx state)
  (if (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> assumep (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-default-defun-mode" data-sym="DEFAULT-DEFUN-MODE">default-defun-mode</a> (<a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a> state)) <span class="keyword">:logic</span>))
    state
    (<a class="sym-link system" href="axioms.html#def-warning_24" data-sym="WARNING$">warning$</a> ctx
      <span class="string">"Defun-Mode"</span>
      <span class="string">"It is perhaps unusual to execute the event ~x0 in the ~
              :program default-defun-mode when ld-skip-proofsp has not been ~
              set to T."</span>
      event-form)))</pre>
  </div>

<div class="form-block macro" id="def-with-waterfall-parallelism-timings" data-defines="WITH-WATERFALL-PARALLELISM-TIMINGS" data-references="IGNORE,DECLARE,FORM,NAME,DEFMACRO" data-used-by="DEFTHM-FN1" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="WITH-WATERFALL-PARALLELISM-TIMINGS">with-waterfall-parallelism-timings</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-with-waterfall-parallelism-timings" data-sym="WITH-WATERFALL-PARALLELISM-TIMINGS" title="(defmacro with-waterfall-parallelism-timings (name form)
  (declare (ignore name))
  form)">with-waterfall-parallelism-timings</a>
  (name form)
  (declare (ignore name))
  form)</pre>
  </div>

<div class="form-block function" id="def-translate-for-defthm" data-defines="TRANSLATE-FOR-DEFTHM" data-references="STORE-CERT-DATA,TRANSLATE,TTERM,ER-LET*,T,CONS,TRANSLATE-CERT-DATA-RECORD,ACCESS,EQUAL,ASSERT$,VALUE,COND,CERT-DATA-ENTRY,CERT-DATA-VAL,GET-TRANSLATE-CERT-DATA-RECORD,REC,LET,STATE,WRLD,CTX,TERM,NAME,DEFUN" data-used-by="DEFTHM-FN1" data-part-name="TRANSLATE-FOR-DEFTHM" data-part-args="STATE,WRLD,CTX,TERM,NAME" data-part-body="STORE-CERT-DATA,WRLD,CTX,TERM,TRANSLATE,TTERM,ER-LET*,T,CONS,TRANSLATE-CERT-DATA-RECORD,ACCESS,EQUAL,ASSERT$,VALUE,COND,STATE,CERT-DATA-ENTRY,NAME,CERT-DATA-VAL,GET-TRANSLATE-CERT-DATA-RECORD,REC,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="TRANSLATE-FOR-DEFTHM">translate-for-defthm</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-translate-for-defthm" data-sym="TRANSLATE-FOR-DEFTHM" title="(defun translate-for-defthm (name term ctx wrld state)
  (let ((rec
         (get-translate-cert-data-record :defthm
                                         (cert-data-val name
                                                        (cert-data-entry
...">translate-for-defthm</a>
  (name term ctx wrld state)
  (let ((rec (<a class="sym-link system" href="defuns.html#def-get-translate-cert-data-record" data-sym="GET-TRANSLATE-CERT-DATA-RECORD">get-translate-cert-data-record</a> <span class="keyword">:defthm</span> (<a class="sym-link system" href="defuns.html#def-cert-data-val" data-sym="CERT-DATA-VAL">cert-data-val</a> name (<a class="sym-link system" href="defuns.html#def-cert-data-entry" data-sym="CERT-DATA-ENTRY">cert-data-entry</a> <span class="keyword">:translate</span> state))
         state)))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (rec (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (<a class="sym-link system" href="axioms.html#def-assert_24" data-sym="ASSERT$">assert$</a> (equal (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> translate-cert-data-record rec <span class="keyword">:inputs</span>) name)
            (cons nil (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> translate-cert-data-record rec <span class="keyword">:value</span>)))))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="basis-b.html#def-er-let_2A" data-sym="ER-LET*">er-let*</a> ((tterm (translate term <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> ctx wrld state)))
          (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (cons (<a class="sym-link system" href="defuns.html#def-store-cert-data" data-sym="STORE-CERT-DATA">store-cert-data</a> nil tterm wrld state) tterm)))))))</pre>
  </div>

<div class="form-block function" id="def-defthm-fn1" data-defines="DEFTHM-FN1" data-references="INSTALL-EVENT,PRINT-RULE-STORAGE-DEPENDENCIES,CHK-ASSUMPTION-FREE-TTREE,CONS-TAG-TREES,TTREE4,UPDATE-META-PROPS,WRLD4,STATE-GLOBALS-SET-BY,ALL-FNNAMES,UPDATE-TRANSLATE-CERT-DATA,WRLD3,ADD-RULES,WRLD2,LET*,PROVE-COROLLARIES,TTREE3,MAKE-PSPV,PROVE,PROOF-BUILDER,SOFT,ER,ER-PROGN,TTREE2,DEFAULT-HINTS,NULL,AND,TRANSLATE-HINTS+,THINTS,TRANSLATE-INSTRUCTIONS,INITIALIZE-ACL2,INCLUDE-BOOK-WITH-LOCALS,INCLUDE-BOOK,EQ,THEOREM,CHK-JUST-NEW-NAME,WRLD1,CHK-ACCEPTABLE-RULES,TTREE1,WITH-USELESS-RUNES,ENFORCE-REDUNDANCY,T,STOP-REDUNDANT-EVENT,REDUNDANT-THEOREMP,COND,ENS,TRANSLATE-RULE-CLASSES,CLASSES,TTERM,CDR,TTERM0,CAR,VALUE,CERT-DATA-FLG,TRANSLATE-FOR-DEFTHM,CERT-DATA-FLG/TTERM0,CHK-ALL-BUT-NEW-NAME,IGNORE,ER-LET*,WITH-WATERFALL-PARALLELISM-TIMINGS,CTX,WARN-ON-INAPPROPRIATE-DEFUN-MODE,PPROGN,LD-SKIP-PROOFSP,LIST,EQUAL,NOT,IF,APPEND,LIST*,OR,W,WRLD,LET,ASSERT$,DEFTHM,QUOTE,CONS,WITH-CTX-SUMMARIZED,EVENT-FORM,OTF-FLG,HINTS,INSTRUCTIONS,RULE-CLASSES,STATE,TERM,NAME,DEFUN" data-used-by="DEFTHM-FN" data-part-name="DEFTHM-FN1" data-part-args="EVENT-FORM,OTF-FLG,HINTS,INSTRUCTIONS,RULE-CLASSES,STATE,TERM,NAME" data-part-body="INSTALL-EVENT,PRINT-RULE-STORAGE-DEPENDENCIES,CHK-ASSUMPTION-FREE-TTREE,CONS-TAG-TREES,TTREE4,UPDATE-META-PROPS,WRLD4,STATE-GLOBALS-SET-BY,ALL-FNNAMES,UPDATE-TRANSLATE-CERT-DATA,WRLD3,ADD-RULES,WRLD2,LET*,PROVE-COROLLARIES,TTREE3,MAKE-PSPV,PROVE,PROOF-BUILDER,SOFT,ER,ER-PROGN,TTREE2,DEFAULT-HINTS,NULL,AND,TRANSLATE-HINTS+,THINTS,TRANSLATE-INSTRUCTIONS,INITIALIZE-ACL2,INCLUDE-BOOK-WITH-LOCALS,INCLUDE-BOOK,EQ,THEOREM,CHK-JUST-NEW-NAME,WRLD1,CHK-ACCEPTABLE-RULES,TTREE1,WITH-USELESS-RUNES,ENFORCE-REDUNDANCY,T,STOP-REDUNDANT-EVENT,REDUNDANT-THEOREMP,COND,ENS,TRANSLATE-RULE-CLASSES,CLASSES,TTERM,CDR,TTERM0,CAR,VALUE,CERT-DATA-FLG,TRANSLATE-FOR-DEFTHM,CERT-DATA-FLG/TTERM0,CHK-ALL-BUT-NEW-NAME,IGNORE,ER-LET*,WITH-WATERFALL-PARALLELISM-TIMINGS,CTX,WARN-ON-INAPPROPRIATE-DEFUN-MODE,PPROGN,LD-SKIP-PROOFSP,OTF-FLG,HINTS,INSTRUCTIONS,LIST,RULE-CLASSES,EQUAL,NOT,IF,APPEND,TERM,LIST*,OR,STATE,W,WRLD,LET,EVENT-FORM,ASSERT$,NAME,DEFTHM,QUOTE,CONS,WITH-CTX-SUMMARIZED" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFTHM-FN1">defthm-fn1</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-defthm-fn1" data-sym="DEFTHM-FN1" title="(defun defthm-fn1
       (name term state rule-classes instructions hints otf-flg event-form)
  (with-ctx-summarized (cons &#39;defthm name)
                       (assert$ event-form
                                (let ((wrld (w state))
...">defthm-fn1</a>
  (name term
    state
    rule-classes
    instructions
    hints
    otf-flg
    event-form)
  (<a class="sym-link system" href="history-management.html#def-with-ctx-summarized" data-sym="WITH-CTX-SUMMARIZED">with-ctx-summarized</a> (cons '<a class="sym-link system" href="axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> name)
    (<a class="sym-link system" href="axioms.html#def-assert_24" data-sym="ASSERT$">assert$</a> event-form
      (let ((wrld (<a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a> state)) (event-form (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> event-form
              (<a class="sym-link system" href="axioms.html#def-list_2A" data-sym="LIST*">list*</a> '<a class="sym-link system" href="axioms.html#def-defthm" data-sym="DEFTHM">defthm</a>
                name
                term
                (<a class="sym-link system" href="axioms.html#def-append" data-sym="APPEND">append</a> (if (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (equal rule-classes '(<span class="keyword">:rewrite</span>)))
                    (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:rule-classes</span> rule-classes)
                    nil)
                  (if instructions
                    (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:instructions</span> instructions)
                    nil)
                  (if hints
                    (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:hints</span> hints)
                    nil)
                  (if otf-flg
                    (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:otf-flg</span> otf-flg)
                    nil)))))
          (<a class="sym-link system" href="axioms.html#def-ld-skip-proofsp" data-sym="LD-SKIP-PROOFSP">ld-skip-proofsp</a> (<a class="sym-link system" href="axioms.html#def-ld-skip-proofsp" data-sym="LD-SKIP-PROOFSP">ld-skip-proofsp</a> state)))
        (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link local-def" href="#def-warn-on-inappropriate-defun-mode" data-sym="WARN-ON-INAPPROPRIATE-DEFUN-MODE" title="(defun warn-on-inappropriate-defun-mode (assumep event-form ctx state)
  (if (or assumep (eq (default-defun-mode (w state)) :logic))
      state
      (warning$ ctx &quot;Defun-Mode&quot;
                &quot;It is perhaps unusual to execute the event ~x0 in the ~
...">warn-on-inappropriate-defun-mode</a> <a class="sym-link system" href="axioms.html#def-ld-skip-proofsp" data-sym="LD-SKIP-PROOFSP">ld-skip-proofsp</a>
            event-form
            ctx
            state)
          (<a class="sym-link local-def" href="#def-with-waterfall-parallelism-timings" data-sym="WITH-WATERFALL-PARALLELISM-TIMINGS" title="(defmacro with-waterfall-parallelism-timings (name form)
  (declare (ignore name))
  form)">with-waterfall-parallelism-timings</a> name
            (<a class="sym-link system" href="basis-b.html#def-er-let_2A" data-sym="ER-LET*">er-let*</a> ((ignore (chk-all-but-new-name name ctx nil wrld state)) (cert-data-flg/tterm0 (<a class="sym-link local-def" href="#def-translate-for-defthm" data-sym="TRANSLATE-FOR-DEFTHM" title="(defun translate-for-defthm (name term ctx wrld state)
  (let ((rec
         (get-translate-cert-data-record :defthm
                                         (cert-data-val name
                                                        (cert-data-entry
...">translate-for-defthm</a> name term ctx wrld state))
                (cert-data-flg (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (car cert-data-flg/tterm0)))
                (tterm0 (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (cdr cert-data-flg/tterm0)))
                (tterm (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> tterm0))
                (classes (<a class="sym-link local-def" href="#def-translate-rule-classes" data-sym="TRANSLATE-RULE-CLASSES" title="(defun translate-rule-classes (name classes thm ctx ens wrld state)
  (translate-rule-classes1 name
                           (cond ((null classes) nil)
                                 ((atom classes) (list classes)) (t classes))
                           thm ctx ens wrld state))">translate-rule-classes</a> name
                    rule-classes
                    tterm0
                    ctx
                    (ens state)
                    wrld
                    state)))
              (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link local-def" href="#def-redundant-theoremp" data-sym="REDUNDANT-THEOREMP" title="(defun redundant-theoremp (name term classes event-form wrld)
  (assert$ event-form
           (let ((tmp
                  (and (equal term (getpropc name &#39;theorem 0 wrld))
                       (equal (truncate-classes classes term)
...">redundant-theoremp</a> name tterm0 classes event-form wrld) (<a class="sym-link system" href="history-management.html#def-stop-redundant-event" data-sym="STOP-REDUNDANT-EVENT">stop-redundant-event</a> ctx state))
                (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="basis-b.html#def-enforce-redundancy" data-sym="ENFORCE-REDUNDANCY">enforce-redundancy</a> event-form
                    ctx
                    wrld
                    (<a class="sym-link system" href="defuns.html#def-with-useless-runes" data-sym="WITH-USELESS-RUNES">with-useless-runes</a> name
                      wrld
                      (<a class="sym-link system" href="basis-b.html#def-er-let_2A" data-sym="ER-LET*">er-let*</a> ((ens (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (ens state))) (ttree1 (<a class="sym-link local-def" href="#def-chk-acceptable-rules" data-sym="CHK-ACCEPTABLE-RULES" title="(defun chk-acceptable-rules (name classes ctx ens wrld state)
  (let ((classes
         (cond
          ((or (eq (ld-skip-proofsp state) &#39;include-book)
               (eq (ld-skip-proofsp state) &#39;include-book-with-locals))
...">chk-acceptable-rules</a> name classes ctx ens wrld state))
                          (wrld1 (<a class="sym-link system" href="history-management.html#def-chk-just-new-name" data-sym="CHK-JUST-NEW-NAME">chk-just-new-name</a> name nil 'theorem nil ctx wrld state))
                          (instructions (if (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> <a class="sym-link system" href="axioms.html#def-ld-skip-proofsp" data-sym="LD-SKIP-PROOFSP">ld-skip-proofsp</a> '<a class="sym-link system" href="axioms.html#def-include-book" data-sym="INCLUDE-BOOK">include-book</a>)
                                (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> <a class="sym-link system" href="axioms.html#def-ld-skip-proofsp" data-sym="LD-SKIP-PROOFSP">ld-skip-proofsp</a> 'include-book-with-locals)
                                (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> <a class="sym-link system" href="axioms.html#def-ld-skip-proofsp" data-sym="LD-SKIP-PROOFSP">ld-skip-proofsp</a> 'initialize-acl2))
                              (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil)
                              (<a class="sym-link local-def" href="#def-translate-instructions" data-sym="TRANSLATE-INSTRUCTIONS" title="(defun translate-instructions (instructions ctx state)
  (if (eq instructions t)
      (value t)
      (er-progn (chk-primitive-instruction-listp instructions ctx state)
                (value instructions))))">translate-instructions</a> instructions ctx state)))
                          (thints (if (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> <a class="sym-link system" href="axioms.html#def-ld-skip-proofsp" data-sym="LD-SKIP-PROOFSP">ld-skip-proofsp</a> '<a class="sym-link system" href="axioms.html#def-include-book" data-sym="INCLUDE-BOOK">include-book</a>)
                                (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> <a class="sym-link system" href="axioms.html#def-ld-skip-proofsp" data-sym="LD-SKIP-PROOFSP">ld-skip-proofsp</a> 'include-book-with-locals)
                                (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> <a class="sym-link system" href="axioms.html#def-ld-skip-proofsp" data-sym="LD-SKIP-PROOFSP">ld-skip-proofsp</a> 'initialize-acl2))
                              (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil)
                              (<a class="sym-link system" href="history-management.html#def-translate-hints_2B" data-sym="TRANSLATE-HINTS+">translate-hints+</a> name
                                hints
                                (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> instructions) (<a class="sym-link system" href="axioms.html#def-default-hints" data-sym="DEFAULT-HINTS">default-hints</a> wrld1))
                                ctx
                                wrld1
                                state)))
                          (ttree2 (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (instructions (<a class="sym-link system" href="axioms.html#def-er-progn" data-sym="ER-PROGN">er-progn</a> (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (thints (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                                        ctx
                                        <span class="string">"It is not permitted to ~
                                                      supply both ~
                                                      :INSTRUCTIONS and ~
                                                      :HINTS to DEFTHM."</span>))
                                    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil)))
                                  (proof-builder name
                                    term
                                    tterm
                                    classes
                                    instructions
                                    wrld1
                                    state)))
                              (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="prove.html#def-prove" data-sym="PROVE">prove</a> tterm
                                  (<a class="sym-link system" href="prove.html#def-make-pspv" data-sym="MAKE-PSPV">make-pspv</a> ens
                                    wrld1
                                    state
                                    <span class="keyword">:displayed-goal</span> term
                                    <span class="keyword">:otf-flg</span> otf-flg)
                                  thints
                                  ens
                                  wrld1
                                  ctx
                                  state))))
                          (ttree3 (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (<a class="sym-link system" href="axioms.html#def-ld-skip-proofsp" data-sym="LD-SKIP-PROOFSP">ld-skip-proofsp</a> (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil))
                              (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-prove-corollaries" data-sym="PROVE-COROLLARIES" title="(defun prove-corollaries (name term rule-classes ens wrld ctx state)
  (let* ((classes (non-tautological-classes term rule-classes))
         (n (length classes)))
    (cond ((= n 0) (value nil))
          (t
...">prove-corollaries</a> name tterm0 classes ens wrld1 ctx state)))))
                        (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((wrld2 (<a class="sym-link local-def" href="#def-add-rules" data-sym="ADD-RULES" title="(defun add-rules (name classes term untranslated-term ens wrld state)
  (let ((runic-mapping-pairs
         (make-runic-mapping-pairs (get-next-nume wrld)
                                   (make-runes name classes))))
    (putprop name &#39;runic-mapping-pairs runic-mapping-pairs
...">add-rules</a> name classes tterm0 term ens wrld1 state)) (wrld3 (if cert-data-flg
                                (<a class="sym-link system" href="defuns.html#def-update-translate-cert-data" data-sym="UPDATE-TRANSLATE-CERT-DATA">update-translate-cert-data</a> name
                                  wrld
                                  wrld2
                                  <span class="keyword">:type</span> <span class="keyword">:defthm</span> <span class="keyword">:inputs</span> name
                                  <span class="keyword">:value</span> tterm0
                                  <span class="keyword">:fns</span> (all-fnnames tterm0)
                                  <span class="keyword">:vars</span> (<a class="sym-link system" href="defuns.html#def-state-globals-set-by" data-sym="STATE-GLOBALS-SET-BY">state-globals-set-by</a> tterm0 nil))
                                wrld2))
                            (wrld4 (<a class="sym-link local-def" href="#def-update-meta-props" data-sym="UPDATE-META-PROPS" title="(defun update-meta-props (name ttree wrld state)
  (let ((lst (tagged-objects &#39;evaluator-check-for-rule ttree)))
    (cond ((null lst) wrld)
          (t
           (let* ((rule-class
...">update-meta-props</a> name ttree1 wrld3 state))
                            (ttree4 (cons-tag-trees ttree1 (cons-tag-trees ttree2 ttree3))))
                          (<a class="sym-link system" href="axioms.html#def-er-progn" data-sym="ER-PROGN">er-progn</a> (<a class="sym-link system" href="prove.html#def-chk-assumption-free-ttree" data-sym="CHK-ASSUMPTION-FREE-TTREE">chk-assumption-free-ttree</a> ttree4 ctx state)
                            (<a class="sym-link local-def" href="#def-print-rule-storage-dependencies" data-sym="PRINT-RULE-STORAGE-DEPENDENCIES" title="(defun print-rule-storage-dependencies (name ttree state)
  (cond ((ld-skip-proofsp state) (value nil))
        (t
         (pprogn
          (io? event nil state (name ttree)
...">print-rule-storage-dependencies</a> name ttree1 state)
                            (<a class="sym-link system" href="history-management.html#def-install-event" data-sym="INSTALL-EVENT">install-event</a> name
                              event-form
                              '<a class="sym-link system" href="axioms.html#def-defthm" data-sym="DEFTHM">defthm</a>
                              name
                              ttree4
                              nil
                              <span class="keyword">:protect</span> ctx
                              wrld4
                              state)))))))))))))
    <span class="keyword">:event-type</span> '<a class="sym-link system" href="axioms.html#def-defthm" data-sym="DEFTHM">defthm</a>
    <span class="keyword">:event</span> event-form))</pre>
  </div>

<div class="form-block function" id="def-defthm-fn" data-defines="DEFTHM-FN" data-references="DEFTHM-FN1,WHEN-LOGIC,EVENT-FORM,OTF-FLG,HINTS,INSTRUCTIONS,RULE-CLASSES,STATE,TERM,NAME,DEFUN" data-part-name="DEFTHM-FN" data-part-args="EVENT-FORM,OTF-FLG,HINTS,INSTRUCTIONS,RULE-CLASSES,STATE,TERM,NAME" data-part-body="EVENT-FORM,OTF-FLG,HINTS,INSTRUCTIONS,RULE-CLASSES,STATE,TERM,NAME,DEFTHM-FN1,WHEN-LOGIC" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFTHM-FN">defthm-fn</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-defthm-fn" data-sym="DEFTHM-FN" title="(defun defthm-fn
       (name term state rule-classes instructions hints otf-flg event-form)
  (when-logic &quot;DEFTHM&quot;
              (defthm-fn1 name term state rule-classes instructions hints
                          otf-flg event-form)))">defthm-fn</a>
  (name term
    state
    rule-classes
    instructions
    hints
    otf-flg
    event-form)
  (<a class="sym-link system" href="axioms.html#def-when-logic" data-sym="WHEN-LOGIC">when-logic</a> <span class="string">"DEFTHM"</span>
    (<a class="sym-link local-def" href="#def-defthm-fn1" data-sym="DEFTHM-FN1" title="(defun defthm-fn1
       (name term state rule-classes instructions hints otf-flg event-form)
  (with-ctx-summarized (cons &#39;defthm name)
                       (assert$ event-form
                                (let ((wrld (w state))
...">defthm-fn1</a> name
      term
      state
      rule-classes
      instructions
      hints
      otf-flg
      event-form)))</pre>
  </div>

<div class="form-block function" id="def-thm-fn" data-defines="THM-FN" data-references="PROOFS-CO,IF,FMS,IO?,ACCUMULATED-TTREE,F-PUT-GLOBAL,PPROGN,MAKE-PSPV,PROVE,PROOF-BUILDER,SOFT,ER,AND,TTREE,TRANSLATE,TTERM,DEFAULT-HINTS,TRANSLATE-HINTS+,THINTS,CTX,TRANSLATE-INSTRUCTIONS,ER-LET*,ENS,W,WRLD,T,VALUE,INITIALIZE-ACL2,INCLUDE-BOOK-WITH-LOCALS,INCLUDE-BOOK,QUOTE,LD-SKIP-PROOFSP,MEMBER-EQ,COND,WITH-CTX-SUMMARIZED,ER-PROGN,THM,QUASIQUOTE,OR,LET,EVENT-FORM,OTF-FLG,HINTS,INSTRUCTIONS,STATE,TERM,DEFUN" data-used-by="THM" data-part-name="THM-FN" data-part-args="EVENT-FORM,OTF-FLG,HINTS,INSTRUCTIONS,STATE,TERM" data-part-body="PROOFS-CO,IF,FMS,IO?,ACCUMULATED-TTREE,F-PUT-GLOBAL,PPROGN,OTF-FLG,MAKE-PSPV,PROVE,PROOF-BUILDER,SOFT,ER,AND,TTREE,TERM,TRANSLATE,TTERM,DEFAULT-HINTS,HINTS,TRANSLATE-HINTS+,THINTS,CTX,TRANSLATE-INSTRUCTIONS,INSTRUCTIONS,ER-LET*,ENS,W,WRLD,T,VALUE,INITIALIZE-ACL2,INCLUDE-BOOK-WITH-LOCALS,INCLUDE-BOOK,QUOTE,STATE,LD-SKIP-PROOFSP,MEMBER-EQ,COND,WITH-CTX-SUMMARIZED,ER-PROGN,THM,QUASIQUOTE,OR,EVENT-FORM,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="THM-FN">thm-fn</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-thm-fn" data-sym="THM-FN" title="(defun thm-fn (term state instructions hints otf-flg event-form)
  (let ((event-form
         (or event-form
             `(thm ,term ,@(and instructions `(:instructions ,instructions))
                   ,@(and hints `(:hints ,hints))
...">thm-fn</a>
  (term state instructions hints otf-flg event-form)
  (let ((event-form (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> event-form
         `(<a class="sym-link local-def" href="#def-thm" data-sym="THM" title="(defmacro thm (&amp;whole event-form term &amp;key instructions hints otf-flg)
  `(with-output :off summary :stack :push
                (make-event
                 (er-progn
                  (with-output :stack :pop
...">thm</a> ,TERM
           ,@(AND INSTRUCTIONS `(:INSTRUCTIONS ,INSTRUCTIONS))
           ,@(AND HINTS `(:HINTS ,HINTS))
           ,@(AND OTF-FLG `(:OTF-FLG ,OTF-FLG))))))
    (<a class="sym-link system" href="axioms.html#def-er-progn" data-sym="ER-PROGN">er-progn</a> (<a class="sym-link system" href="history-management.html#def-with-ctx-summarized" data-sym="WITH-CTX-SUMMARIZED">with-ctx-summarized</a> <span class="string">"( THM ...)"</span>
        (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> (<a class="sym-link system" href="axioms.html#def-ld-skip-proofsp" data-sym="LD-SKIP-PROOFSP">ld-skip-proofsp</a> state)
             '(<a class="sym-link system" href="axioms.html#def-include-book" data-sym="INCLUDE-BOOK">include-book</a> include-book-with-locals initialize-acl2)) (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil))
          (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((wrld (<a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a> state)) (ens (ens state)))
              (<a class="sym-link system" href="basis-b.html#def-er-let_2A" data-sym="ER-LET*">er-let*</a> ((instructions (<a class="sym-link local-def" href="#def-translate-instructions" data-sym="TRANSLATE-INSTRUCTIONS" title="(defun translate-instructions (instructions ctx state)
  (if (eq instructions t)
      (value t)
      (er-progn (chk-primitive-instruction-listp instructions ctx state)
                (value instructions))))">translate-instructions</a> instructions ctx state)) (thints (<a class="sym-link system" href="history-management.html#def-translate-hints_2B" data-sym="TRANSLATE-HINTS+">translate-hints+</a> '<a class="sym-link local-def" href="#def-thm" data-sym="THM" title="(defmacro thm (&amp;whole event-form term &amp;key instructions hints otf-flg)
  `(with-output :off summary :stack :push
                (make-event
                 (er-progn
                  (with-output :stack :pop
...">thm</a>
                      hints
                      (<a class="sym-link system" href="axioms.html#def-default-hints" data-sym="DEFAULT-HINTS">default-hints</a> wrld)
                      ctx
                      wrld
                      state)))
                (<a class="sym-link system" href="basis-b.html#def-er-let_2A" data-sym="ER-LET*">er-let*</a> ((tterm (translate term <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> ctx wrld state)) (ttree (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> instructions thints) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                            ctx
                            <span class="string">"It is not permitted to supply both ~
                              :INSTRUCTIONS and :HINTS to THM."</span>))
                        (instructions (proof-builder nil term tterm nil instructions wrld state))
                        (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="prove.html#def-prove" data-sym="PROVE">prove</a> tterm
                            (<a class="sym-link system" href="prove.html#def-make-pspv" data-sym="MAKE-PSPV">make-pspv</a> ens
                              wrld
                              state
                              <span class="keyword">:displayed-goal</span> term
                              <span class="keyword">:otf-flg</span> otf-flg)
                            thints
                            ens
                            wrld
                            ctx
                            state)))))
                  (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link system" href="axioms.html#def-f-put-global" data-sym="F-PUT-GLOBAL">f-put-global</a> 'accumulated-ttree ttree state)
                    (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil)))))))
        <span class="keyword">:event-type</span> '<a class="sym-link local-def" href="#def-thm" data-sym="THM" title="(defmacro thm (&amp;whole event-form term &amp;key instructions hints otf-flg)
  `(with-output :off summary :stack :push
                (make-event
                 (er-progn
                  (with-output :stack :pop
...">thm</a>
        <span class="keyword">:event</span> event-form)
      (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link system" href="basis-a.html#def-io_3F" data-sym="IO?">io?</a> <a class="sym-link system" href="prove.html#def-prove" data-sym="PROVE">prove</a>
          nil
          state
          nil
          (<a class="sym-link system" href="basis-a.html#def-fms" data-sym="FMS">fms</a> (if (<a class="sym-link system" href="axioms.html#def-ld-skip-proofsp" data-sym="LD-SKIP-PROOFSP">ld-skip-proofsp</a> state)
              <span class="string">"Proof skipped.~%"</span>
              <span class="string">"Proof succeeded.~%"</span>)
            nil
            (<a class="sym-link system" href="basis-b.html#def-proofs-co" data-sym="PROOFS-CO">proofs-co</a> state)
            state
            nil))
        (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> <span class="keyword">:invisible</span>)))))</pre>
  </div>

<div class="form-block macro" id="def-thm" data-defines="THM" data-references="T,VALUE-TRIPLE,VALUE,STATE,QUOTE,THM-FN,ER-PROGN,MAKE-EVENT,SUMMARY,WITH-OUTPUT,QUASIQUOTE,OTF-FLG,HINTS,INSTRUCTIONS,&KEY,TERM,EVENT-FORM,&WHOLE,DEFMACRO" data-used-by="THM-FN,TRANSLATE-RULE-CLASSES,TRANSLATE-RULE-CLASSES1,TRANSLATE-RULE-CLASS,INTERPRET-TERM-AS-WELL-FORMEDNESS-GUARANTEE-THM" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="THM">thm</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-thm" data-sym="THM" title="(defmacro thm (&amp;whole event-form term &amp;key instructions hints otf-flg)
  `(with-output :off summary :stack :push
                (make-event
                 (er-progn
                  (with-output :stack :pop
...">thm</a>
  (&amp;whole event-form term &amp;key instructions hints otf-flg)
  `(<a class="sym-link system" href="axioms.html#def-with-output" data-sym="WITH-OUTPUT">with-output</a> <span class="keyword">:off</span> summary
    <span class="keyword">:stack</span> <span class="keyword">:push</span> (<a class="sym-link system" href="axioms.html#def-make-event" data-sym="MAKE-EVENT">make-event</a> (<a class="sym-link system" href="axioms.html#def-er-progn" data-sym="ER-PROGN">er-progn</a> (<a class="sym-link system" href="axioms.html#def-with-output" data-sym="WITH-OUTPUT">with-output</a> <span class="keyword">:stack</span> <span class="keyword">:pop</span> (<a class="sym-link local-def" href="#def-thm-fn" data-sym="THM-FN" title="(defun thm-fn (term state instructions hints otf-flg event-form)
  (let ((event-form
         (or event-form
             `(thm ,term ,@(and instructions `(:instructions ,instructions))
                   ,@(and hints `(:hints ,hints))
...">thm-fn</a> ',TERM
            state
            ',INSTRUCTIONS
            ',HINTS
            ',OTF-FLG
            ',EVENT-FORM))
        (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> '(<a class="sym-link system" href="axioms.html#def-value-triple" data-sym="VALUE-TRIPLE">value-triple</a> <span class="keyword">:invisible</span>)))
      <span class="keyword">:expansion?</span> (<a class="sym-link system" href="axioms.html#def-value-triple" data-sym="VALUE-TRIPLE">value-triple</a> <span class="keyword">:invisible</span>)
      <span class="keyword">:on-behalf-of</span> <span class="keyword">:quiet!</span> <span class="keyword">:save-event-data</span> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)))</pre>
  </div>

<div class="form-block function" id="def-chk-extensible-rule-classes" data-defines="CHK-EXTENSIBLE-RULE-CLASSES" data-references="SOFT,ER,T,VALUE,TRUE-LISTP,SYMBOLP,OR,COND,STATE,CTX,RULE-CLASSES,DEFUN" data-part-name="CHK-EXTENSIBLE-RULE-CLASSES" data-part-args="STATE,CTX,RULE-CLASSES" data-part-body="CTX,SOFT,ER,T,VALUE,TRUE-LISTP,RULE-CLASSES,SYMBOLP,OR,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CHK-EXTENSIBLE-RULE-CLASSES">chk-extensible-rule-classes</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-chk-extensible-rule-classes" data-sym="CHK-EXTENSIBLE-RULE-CLASSES" title="(defun chk-extensible-rule-classes (rule-classes ctx state)
  (cond ((or (symbolp rule-classes) (true-listp rule-classes)) (value nil))
        (t
         (er soft ctx &quot;The :rule-classes argument to must be either ~
                a symbol or a true-listp.  Your rule-classes is ~x0.&quot;">chk-extensible-rule-classes</a>
  (rule-classes ctx state)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (symbolp rule-classes) (<a class="sym-link system" href="axioms.html#def-true-listp" data-sym="TRUE-LISTP">true-listp</a> rule-classes)) (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
        ctx
        <span class="string">"The :rule-classes argument to must be either ~
                a symbol or a true-listp.  Your rule-classes is ~x0."</span>
        rule-classes))))</pre>
  </div>

<div class="form-block function" id="def-extend-rule-classes" data-defines="EXTEND-RULE-CLASSES" data-references="CONS,MEMBER-EQ,LIST,T,EQ,NULL,SYMBOLP,COND,RULE-CLASSES,CLASS,DEFUN" data-part-name="EXTEND-RULE-CLASSES" data-part-args="RULE-CLASSES,CLASS" data-part-body="CONS,MEMBER-EQ,LIST,T,EQ,CLASS,NULL,RULE-CLASSES,SYMBOLP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="EXTEND-RULE-CLASSES">extend-rule-classes</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-extend-rule-classes" data-sym="EXTEND-RULE-CLASSES" title="(defun extend-rule-classes (class rule-classes)
  (cond
   ((symbolp rule-classes)
    (cond ((null rule-classes) class) ((eq rule-classes class) rule-classes)
          (t (list class rule-classes))))">extend-rule-classes</a>
  (class rule-classes)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((symbolp rule-classes) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> rule-classes) class)
        ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> rule-classes class) rule-classes)
        (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> class rule-classes))))
    ((<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> class rule-classes) rule-classes)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (cons class rule-classes))))</pre>
  </div>

<div class="form-block constant" id="def-_2Adefequiv-package-values_2A" data-defines="*DEFEQUIV-PACKAGE-VALUES*" data-references="QUOTE,DEFCONST" data-used-by="DEFEQUIV-FN,DEFEQUIV-FORM" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="*DEFEQUIV-PACKAGE-VALUES*">*defequiv-package-values*</span><span class="form-type">constant</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defconst" data-sym="DEFCONST">defconst</a> <a class="sym-link local-def" href="#def-_2Adefequiv-package-values_2A" data-sym="*DEFEQUIV-PACKAGE-VALUES*" title="(defconst *defequiv-package-values* &#39;(:current :equiv :legacy))">*defequiv-package-values*</a>
  '(<span class="keyword">:current</span> <span class="keyword">:equiv</span> <span class="keyword">:legacy</span>))</pre>
  </div>

<div class="form-block function" id="def-defequiv-form" data-defines="DEFEQUIV-FORM" data-references="DEFTHM,QUASIQUOTE,EQUIVALENCE-RELATION-CONDITION,EQUIVALENCE-CONDITION,LIST,GEN-SYM-SYM,DEFAULT-NAME,OTHERWISE,PKG-WITNESS,CASE,SYM,LET*,STRINGP,NULL,OR,*DEFEQUIV-PACKAGE-VALUES*,MEMBER-EQ,SYMBOLP,AND,XARGS,DECLARE,OTF-FLG,HINTS,INSTRUCTIONS,RULE-CLASSES,EVENT-NAME,CURRENT-PKG,PACKAGE,EQUIV,DEFUN" data-used-by="DEFEQUIV-FN" data-part-name="DEFEQUIV-FORM" data-part-args="OTF-FLG,HINTS,INSTRUCTIONS,RULE-CLASSES,EVENT-NAME,CURRENT-PKG,PACKAGE,EQUIV" data-part-declare="EVENT-NAME,STRINGP,CURRENT-PKG,NULL,OR,*DEFEQUIV-PACKAGE-VALUES*,PACKAGE,MEMBER-EQ,EQUIV,SYMBOLP,AND,XARGS,DECLARE" data-part-body="DEFTHM,QUASIQUOTE,EQUIVALENCE-RELATION-CONDITION,EQUIVALENCE-CONDITION,OR,EVENT-NAME,LIST,GEN-SYM-SYM,DEFAULT-NAME,EQUIV,OTHERWISE,CURRENT-PKG,PKG-WITNESS,PACKAGE,CASE,SYM,LET*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFEQUIV-FORM">defequiv-form</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-defequiv-form" data-sym="DEFEQUIV-FORM" title="(defun defequiv-form
       (equiv package current-pkg event-name rule-classes instructions hints
        otf-flg)
  (declare
   (xargs :guard
...">defequiv-form</a>
  (equiv package
    current-pkg
    event-name
    rule-classes
    instructions
    hints
    otf-flg)
  (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (symbolp equiv)
        (<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> package <a class="sym-link local-def" href="#def-_2Adefequiv-package-values_2A" data-sym="*DEFEQUIV-PACKAGE-VALUES*" title="(defconst *defequiv-package-values* &#39;(:current :equiv :legacy))">*defequiv-package-values*</a>)
        (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> current-pkg) (stringp current-pkg))
        (symbolp event-name))))
  (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((sym (<a class="sym-link system" href="axioms.html#def-case" data-sym="CASE">case</a> package
         (<span class="keyword">:current</span> (pkg-witness current-pkg))
         (otherwise equiv))) (default-name (<a class="sym-link local-def" href="#def-gen-sym-sym" data-sym="GEN-SYM-SYM" title="(defun gen-sym-sym (l sym)
  (declare (xargs :guard (and (atom-listp l) (symbolp sym))))
  (fix-intern-in-pkg-of-sym (pack-to-string l) sym))">gen-sym-sym</a> (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> equiv <span class="string">"-IS-AN-EQUIVALENCE"</span>) sym))
      (event-name (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> event-name default-name))
      (equivalence-condition (<a class="sym-link local-def" href="#def-equivalence-relation-condition" data-sym="EQUIVALENCE-RELATION-CONDITION" title="(defun equivalence-relation-condition (fn sym)
  `(and ,(boolean-fn fn sym) ,(reflexivity fn sym) ,(symmetry fn sym)
        ,(transitivity fn sym)))">equivalence-relation-condition</a> equiv sym)))
    `(<a class="sym-link system" href="axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> ,EVENT-NAME
      ,EQUIVALENCE-CONDITION
      <span class="keyword">:rule-classes</span> ,(EXTEND-RULE-CLASSES :EQUIVALENCE RULE-CLASSES)
      ,@(IF INSTRUCTIONS
      (LIST :INSTRUCTIONS INSTRUCTIONS)
      NIL)
      ,@(IF HINTS
      (LIST :HINTS HINTS)
      NIL)
      ,@(IF OTF-FLG
      (LIST :OTF-FLG OTF-FLG)
      NIL))))</pre>
  </div>

<div class="form-block function" id="def-defequiv-fn" data-defines="DEFEQUIV-FN" data-references="STATE,CURRENT-PACKAGE,MAKE-EVENT,T,DEFEQUIV-FORM,EQ,*DEFEQUIV-PACKAGE-VALUES*,MEMBER-EQ,SOFT,ER,QUASIQUOTE,SYMBOLP,NOT,COND,DEFEQUIV,QUOTE,CONS,CTX,LET,OTF-FLG,HINTS,INSTRUCTIONS,RULE-CLASSES,EVENT-NAME,PACKAGE,EQUIV,DEFUN" data-used-by="DEFEQUIV" data-part-name="DEFEQUIV-FN" data-part-args="OTF-FLG,HINTS,INSTRUCTIONS,RULE-CLASSES,EVENT-NAME,PACKAGE,EQUIV" data-part-body="STATE,CURRENT-PACKAGE,MAKE-EVENT,T,OTF-FLG,HINTS,INSTRUCTIONS,RULE-CLASSES,DEFEQUIV-FORM,EQ,EVENT-NAME,*DEFEQUIV-PACKAGE-VALUES*,PACKAGE,MEMBER-EQ,SOFT,ER,QUASIQUOTE,SYMBOLP,NOT,COND,EQUIV,DEFEQUIV,QUOTE,CONS,CTX,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFEQUIV-FN">defequiv-fn</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-defequiv-fn" data-sym="DEFEQUIV-FN" title="(defun defequiv-fn
       (equiv package event-name rule-classes instructions hints otf-flg)
  (let ((ctx (cons &#39;defequiv equiv)))
    (cond
     ((not (symbolp equiv))
...">defequiv-fn</a>
  (equiv package
    event-name
    rule-classes
    instructions
    hints
    otf-flg)
  (let ((ctx (cons '<a class="sym-link local-def" href="#def-defequiv" data-sym="DEFEQUIV" title="(defmacro defequiv
          (equiv
           &amp;key (package &#39;:current) event-name (rule-classes &#39;(:equivalence))
           instructions hints otf-flg)
  (defequiv-fn equiv package event-name rule-classes instructions hints">defequiv</a> equiv)))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (symbolp equiv)) `(<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
          ',CTX
          <span class="string">"The first argument of ~x0 must be a symbol, but ~x1 is not.  See ~
            :DOC defequiv."</span>
          '<a class="sym-link local-def" href="#def-defequiv" data-sym="DEFEQUIV" title="(defmacro defequiv
          (equiv
           &amp;key (package &#39;:current) event-name (rule-classes &#39;(:equivalence))
           instructions hints otf-flg)
  (defequiv-fn equiv package event-name rule-classes instructions hints">defequiv</a>
          ',EQUIV))
      ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> package <a class="sym-link local-def" href="#def-_2Adefequiv-package-values_2A" data-sym="*DEFEQUIV-PACKAGE-VALUES*" title="(defconst *defequiv-package-values* &#39;(:current :equiv :legacy))">*defequiv-package-values*</a>)) `(<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
          ',CTX
          <span class="string">"The (optional) :PACKAGE keyword of ~x0 must be ~v1, but ~x2 is ~
            none of these.  See :DOC defequiv."</span>
          '<a class="sym-link local-def" href="#def-defequiv" data-sym="DEFEQUIV" title="(defmacro defequiv
          (equiv
           &amp;key (package &#39;:current) event-name (rule-classes &#39;(:equivalence))
           instructions hints otf-flg)
  (defequiv-fn equiv package event-name rule-classes instructions hints">defequiv</a>
          <a class="sym-link local-def" href="#def-_2Adefequiv-package-values_2A" data-sym="*DEFEQUIV-PACKAGE-VALUES*" title="(defconst *defequiv-package-values* &#39;(:current :equiv :legacy))">*defequiv-package-values*</a>
          ',PACKAGE))
      ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (symbolp event-name)) `(<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
          ',CTX
          <span class="string">"The (optional) :EVENT-NAME keyword argument of ~x0 must be a ~
            symbol, but ~x1 is not.  See :DOC defequiv."</span>
          '<a class="sym-link local-def" href="#def-defequiv" data-sym="DEFEQUIV" title="(defmacro defequiv
          (equiv
           &amp;key (package &#39;:current) event-name (rule-classes &#39;(:equivalence))
           instructions hints otf-flg)
  (defequiv-fn equiv package event-name rule-classes instructions hints">defequiv</a>
          ',EVENT-NAME))
      ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> package <span class="keyword">:current</span>)) (<a class="sym-link local-def" href="#def-defequiv-form" data-sym="DEFEQUIV-FORM" title="(defun defequiv-form
       (equiv package current-pkg event-name rule-classes instructions hints
        otf-flg)
  (declare
   (xargs :guard
...">defequiv-form</a> equiv
          package
          nil
          event-name
          rule-classes
          instructions
          hints
          otf-flg))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> `(<a class="sym-link system" href="axioms.html#def-make-event" data-sym="MAKE-EVENT">make-event</a> (<a class="sym-link local-def" href="#def-defequiv-form" data-sym="DEFEQUIV-FORM" title="(defun defequiv-form
       (equiv package current-pkg event-name rule-classes instructions hints
        otf-flg)
  (declare
   (xargs :guard
...">defequiv-form</a> ',EQUIV
            ',PACKAGE
            (<a class="sym-link system" href="axioms.html#def-current-package" data-sym="CURRENT-PACKAGE">current-package</a> state)
            ',EVENT-NAME
            ',RULE-CLASSES
            ',INSTRUCTIONS
            ',HINTS
            ',OTF-FLG))))))</pre>
  </div>

<div class="form-block macro" id="def-defequiv" data-defines="DEFEQUIV" data-references="DEFEQUIV-FN,OTF-FLG,HINTS,INSTRUCTIONS,RULE-CLASSES,EVENT-NAME,QUOTE,PACKAGE,&KEY,EQUIV,DEFMACRO" data-used-by="DEFEQUIV-FN" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFEQUIV">defequiv</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-defequiv" data-sym="DEFEQUIV" title="(defmacro defequiv
          (equiv
           &amp;key (package &#39;:current) event-name (rule-classes &#39;(:equivalence))
           instructions hints otf-flg)
  (defequiv-fn equiv package event-name rule-classes instructions hints">defequiv</a>
  (equiv &amp;key
    (package '<span class="keyword">:current</span>)
    event-name
    (rule-classes '(<span class="keyword">:equivalence</span>))
    instructions
    hints
    otf-flg)
  (<a class="sym-link local-def" href="#def-defequiv-fn" data-sym="DEFEQUIV-FN" title="(defun defequiv-fn
       (equiv package event-name rule-classes instructions hints otf-flg)
  (let ((ctx (cons &#39;defequiv equiv)))
    (cond
     ((not (symbolp equiv))
...">defequiv-fn</a> equiv
    package
    event-name
    rule-classes
    instructions
    hints
    otf-flg))</pre>
  </div>

<div class="form-block constant" id="def-_2Adefrefinement-package-values_2A" data-defines="*DEFREFINEMENT-PACKAGE-VALUES*" data-references="QUOTE,DEFCONST" data-used-by="DEFREFINEMENT-FN,DEFREFINEMENT-FORM" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="*DEFREFINEMENT-PACKAGE-VALUES*">*defrefinement-package-values*</span><span class="form-type">constant</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defconst" data-sym="DEFCONST">defconst</a> <a class="sym-link local-def" href="#def-_2Adefrefinement-package-values_2A" data-sym="*DEFREFINEMENT-PACKAGE-VALUES*" title="(defconst *defrefinement-package-values* &#39;(:current :equiv1 :equiv2 :legacy))">*defrefinement-package-values*</a>
  '(<span class="keyword">:current</span> <span class="keyword">:equiv1</span> <span class="keyword">:equiv2</span> <span class="keyword">:legacy</span>))</pre>
  </div>

<div class="form-block function" id="def-defrefinement-form" data-defines="DEFREFINEMENT-FORM" data-references="IMPLIES,DEFTHM,QUASIQUOTE,Y,FIX-INTERN-IN-PKG-OF-SYM,X,LIST,GEN-SYM-SYM,DEFAULT-NAME,OTHERWISE,PKG-WITNESS,CASE,SYM,LET*,STRINGP,NULL,OR,*DEFREFINEMENT-PACKAGE-VALUES*,MEMBER,SYMBOLP,AND,XARGS,DECLARE,OTF-FLG,HINTS,INSTRUCTIONS,RULE-CLASSES,EVENT-NAME,CURRENT-PKG,PACKAGE,EQUIV2,EQUIV1,DEFUN" data-used-by="DEFREFINEMENT-FN" data-part-name="DEFREFINEMENT-FORM" data-part-args="OTF-FLG,HINTS,INSTRUCTIONS,RULE-CLASSES,EVENT-NAME,CURRENT-PKG,PACKAGE,EQUIV2,EQUIV1" data-part-declare="EVENT-NAME,STRINGP,CURRENT-PKG,NULL,OR,*DEFREFINEMENT-PACKAGE-VALUES*,PACKAGE,MEMBER,EQUIV2,EQUIV1,SYMBOLP,AND,XARGS,DECLARE" data-part-body="IMPLIES,DEFTHM,QUASIQUOTE,Y,FIX-INTERN-IN-PKG-OF-SYM,X,OR,EVENT-NAME,LIST,GEN-SYM-SYM,DEFAULT-NAME,EQUIV1,OTHERWISE,EQUIV2,CURRENT-PKG,PKG-WITNESS,PACKAGE,CASE,SYM,LET*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFREFINEMENT-FORM">defrefinement-form</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-defrefinement-form" data-sym="DEFREFINEMENT-FORM" title="(defun defrefinement-form
       (equiv1 equiv2 package current-pkg event-name rule-classes instructions
        hints otf-flg)
  (declare
   (xargs :guard
...">defrefinement-form</a>
  (equiv1 equiv2
    package
    current-pkg
    event-name
    rule-classes
    instructions
    hints
    otf-flg)
  (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (symbolp equiv1)
        (symbolp equiv2)
        (<a class="sym-link system" href="axioms.html#def-member" data-sym="MEMBER">member</a> package <a class="sym-link local-def" href="#def-_2Adefrefinement-package-values_2A" data-sym="*DEFREFINEMENT-PACKAGE-VALUES*" title="(defconst *defrefinement-package-values* &#39;(:current :equiv1 :equiv2 :legacy))">*defrefinement-package-values*</a>)
        (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> current-pkg) (stringp current-pkg))
        (symbolp event-name))))
  (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((sym (<a class="sym-link system" href="axioms.html#def-case" data-sym="CASE">case</a> package
         (<span class="keyword">:current</span> (pkg-witness current-pkg))
         (<span class="keyword">:equiv2</span> equiv2)
         (otherwise equiv1))) (default-name (<a class="sym-link local-def" href="#def-gen-sym-sym" data-sym="GEN-SYM-SYM" title="(defun gen-sym-sym (l sym)
  (declare (xargs :guard (and (atom-listp l) (symbolp sym))))
  (fix-intern-in-pkg-of-sym (pack-to-string l) sym))">gen-sym-sym</a> (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> equiv1 <span class="string">"-REFINES-"</span> equiv2) sym))
      (event-name (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> event-name default-name))
      (x (<a class="sym-link local-def" href="#def-fix-intern-in-pkg-of-sym" data-sym="FIX-INTERN-IN-PKG-OF-SYM" title="(defmacro fix-intern-in-pkg-of-sym (string sym)
  `(intern-in-package-of-symbol ,string
                                (let ((sym ,sym))
                                  (if (equal (symbol-package-name sym)
                                             *main-lisp-package-name*)
...">fix-intern-in-pkg-of-sym</a> <span class="string">"X"</span> sym))
      (y (<a class="sym-link local-def" href="#def-fix-intern-in-pkg-of-sym" data-sym="FIX-INTERN-IN-PKG-OF-SYM" title="(defmacro fix-intern-in-pkg-of-sym (string sym)
  `(intern-in-package-of-symbol ,string
                                (let ((sym ,sym))
                                  (if (equal (symbol-package-name sym)
                                             *main-lisp-package-name*)
...">fix-intern-in-pkg-of-sym</a> <span class="string">"Y"</span> sym)))
    `(<a class="sym-link system" href="axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> ,EVENT-NAME
      (<a class="sym-link system" href="axioms.html#def-implies" data-sym="IMPLIES">implies</a> (,EQUIV1 ,X ,Y) (,EQUIV2 ,X ,Y))
      <span class="keyword">:rule-classes</span> ,(EXTEND-RULE-CLASSES :REFINEMENT RULE-CLASSES)
      ,@(IF INSTRUCTIONS
      (LIST :INSTRUCTIONS INSTRUCTIONS)
      NIL)
      ,@(IF HINTS
      (LIST :HINTS HINTS)
      NIL)
      ,@(IF OTF-FLG
      (LIST :OTF-FLG OTF-FLG)
      NIL))))</pre>
  </div>

<div class="form-block function" id="def-defrefinement-fn" data-defines="DEFREFINEMENT-FN" data-references="STATE,CURRENT-PACKAGE,MAKE-EVENT,T,DEFREFINEMENT-FORM,EQ,*DEFREFINEMENT-PACKAGE-VALUES*,MEMBER-EQ,SOFT,ER,QUASIQUOTE,SYMBOLP,AND,NOT,COND,DEFREFINEMENT,QUOTE,CONS,CTX,LET,OTF-FLG,HINTS,INSTRUCTIONS,RULE-CLASSES,EVENT-NAME,PACKAGE,EQUIV2,EQUIV1,DEFUN" data-used-by="DEFREFINEMENT" data-part-name="DEFREFINEMENT-FN" data-part-args="OTF-FLG,HINTS,INSTRUCTIONS,RULE-CLASSES,EVENT-NAME,PACKAGE,EQUIV2,EQUIV1" data-part-body="STATE,CURRENT-PACKAGE,MAKE-EVENT,T,OTF-FLG,HINTS,INSTRUCTIONS,RULE-CLASSES,DEFREFINEMENT-FORM,EQ,EVENT-NAME,*DEFREFINEMENT-PACKAGE-VALUES*,PACKAGE,MEMBER-EQ,SOFT,ER,QUASIQUOTE,EQUIV2,SYMBOLP,AND,NOT,COND,EQUIV1,DEFREFINEMENT,QUOTE,CONS,CTX,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFREFINEMENT-FN">defrefinement-fn</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-defrefinement-fn" data-sym="DEFREFINEMENT-FN" title="(defun defrefinement-fn
       (equiv1 equiv2 package event-name rule-classes instructions hints
        otf-flg)
  (let ((ctx (cons &#39;defrefinement equiv1)))
    (cond
...">defrefinement-fn</a>
  (equiv1 equiv2
    package
    event-name
    rule-classes
    instructions
    hints
    otf-flg)
  (let ((ctx (cons '<a class="sym-link local-def" href="#def-defrefinement" data-sym="DEFREFINEMENT" title="(defmacro defrefinement
          (equiv1 equiv2
           &amp;key (package &#39;:current) event-name (rule-classes &#39;(:refinement))
           instructions hints otf-flg)
  (defrefinement-fn equiv1 equiv2 package event-name rule-classes instructions">defrefinement</a> equiv1)))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (symbolp equiv1) (symbolp equiv2))) `(<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
          ',CTX
          <span class="string">"The first two arguments of ~x0 must be symbols, but ~@1.  See ~
            :DOC defrefinement."</span>
          '<a class="sym-link local-def" href="#def-defrefinement" data-sym="DEFREFINEMENT" title="(defmacro defrefinement
          (equiv1 equiv2
           &amp;key (package &#39;:current) event-name (rule-classes &#39;(:refinement))
           instructions hints otf-flg)
  (defrefinement-fn equiv1 equiv2 package event-name rule-classes instructions">defrefinement</a>
          ,(COND ((SYMBOLP EQUIV1) `(MSG &quot;~x0 is not&quot; &#39;,EQUIV2))
       ((SYMBOLP EQUIV2) `(MSG &quot;~x0 is not&quot; &#39;,EQUIV1))
       (T `(MSG &quot;~&amp;0 are not&quot; &#39;(,EQUIV1 ,EQUIV2))))))
      ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> package <a class="sym-link local-def" href="#def-_2Adefrefinement-package-values_2A" data-sym="*DEFREFINEMENT-PACKAGE-VALUES*" title="(defconst *defrefinement-package-values* &#39;(:current :equiv1 :equiv2 :legacy))">*defrefinement-package-values*</a>)) `(<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
          ',CTX
          <span class="string">"The (optional) :PACKAGE keyword of ~x0 must be ~v1, but ~x2 is ~
            none of these.  See :DOC defequiv."</span>
          '<a class="sym-link local-def" href="#def-defrefinement" data-sym="DEFREFINEMENT" title="(defmacro defrefinement
          (equiv1 equiv2
           &amp;key (package &#39;:current) event-name (rule-classes &#39;(:refinement))
           instructions hints otf-flg)
  (defrefinement-fn equiv1 equiv2 package event-name rule-classes instructions">defrefinement</a>
          <a class="sym-link local-def" href="#def-_2Adefrefinement-package-values_2A" data-sym="*DEFREFINEMENT-PACKAGE-VALUES*" title="(defconst *defrefinement-package-values* &#39;(:current :equiv1 :equiv2 :legacy))">*defrefinement-package-values*</a>
          ',PACKAGE))
      ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (symbolp event-name)) `(<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
          ',CTX
          <span class="string">"The (optional) :EVENT-NAME keyword argument of ~x0 must be a ~
            symbol, but ~x1 is not.  See :DOC defequiv."</span>
          '<a class="sym-link local-def" href="#def-defrefinement" data-sym="DEFREFINEMENT" title="(defmacro defrefinement
          (equiv1 equiv2
           &amp;key (package &#39;:current) event-name (rule-classes &#39;(:refinement))
           instructions hints otf-flg)
  (defrefinement-fn equiv1 equiv2 package event-name rule-classes instructions">defrefinement</a>
          ',EVENT-NAME))
      ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> package <span class="keyword">:current</span>)) (<a class="sym-link local-def" href="#def-defrefinement-form" data-sym="DEFREFINEMENT-FORM" title="(defun defrefinement-form
       (equiv1 equiv2 package current-pkg event-name rule-classes instructions
        hints otf-flg)
  (declare
   (xargs :guard
...">defrefinement-form</a> equiv1
          equiv2
          package
          nil
          event-name
          rule-classes
          instructions
          hints
          otf-flg))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> `(<a class="sym-link system" href="axioms.html#def-make-event" data-sym="MAKE-EVENT">make-event</a> (<a class="sym-link local-def" href="#def-defrefinement-form" data-sym="DEFREFINEMENT-FORM" title="(defun defrefinement-form
       (equiv1 equiv2 package current-pkg event-name rule-classes instructions
        hints otf-flg)
  (declare
   (xargs :guard
...">defrefinement-form</a> ',EQUIV1
            ',EQUIV2
            ',PACKAGE
            (<a class="sym-link system" href="axioms.html#def-current-package" data-sym="CURRENT-PACKAGE">current-package</a> state)
            ',EVENT-NAME
            ',RULE-CLASSES
            ',INSTRUCTIONS
            ',HINTS
            ',OTF-FLG))))))</pre>
  </div>

<div class="form-block macro" id="def-defrefinement" data-defines="DEFREFINEMENT" data-references="DEFREFINEMENT-FN,OTF-FLG,HINTS,INSTRUCTIONS,RULE-CLASSES,EVENT-NAME,QUOTE,PACKAGE,&KEY,EQUIV2,EQUIV1,DEFMACRO" data-used-by="DEFREFINEMENT-FN" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFREFINEMENT">defrefinement</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-defrefinement" data-sym="DEFREFINEMENT" title="(defmacro defrefinement
          (equiv1 equiv2
           &amp;key (package &#39;:current) event-name (rule-classes &#39;(:refinement))
           instructions hints otf-flg)
  (defrefinement-fn equiv1 equiv2 package event-name rule-classes instructions">defrefinement</a>
  (equiv1 equiv2
    &amp;key
    (package '<span class="keyword">:current</span>)
    event-name
    (rule-classes '(<span class="keyword">:refinement</span>))
    instructions
    hints
    otf-flg)
  (<a class="sym-link local-def" href="#def-defrefinement-fn" data-sym="DEFREFINEMENT-FN" title="(defun defrefinement-fn
       (equiv1 equiv2 package event-name rule-classes instructions hints
        otf-flg)
  (let ((ctx (cons &#39;defrefinement equiv1)))
    (cond
...">defrefinement-fn</a> equiv1
    equiv2
    package
    event-name
    rule-classes
    instructions
    hints
    otf-flg))</pre>
  </div>

<div class="form-block constant" id="def-_2Adefcong-package-values_2A" data-defines="*DEFCONG-PACKAGE-VALUES*" data-references="QUOTE,DEFCONST" data-used-by="DEFCONG-FN,DEFCONG-FORM" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="*DEFCONG-PACKAGE-VALUES*">*defcong-package-values*</span><span class="form-type">constant</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defconst" data-sym="DEFCONST">defconst</a> <a class="sym-link local-def" href="#def-_2Adefcong-package-values_2A" data-sym="*DEFCONG-PACKAGE-VALUES*" title="(defconst *defcong-package-values*
          &#39;(:current :equiv1 :legacy :equiv2 :function))">*defcong-package-values*</a>
  '(<span class="keyword">:current</span> <span class="keyword">:equiv1</span> <span class="keyword">:legacy</span> <span class="keyword">:equiv2</span> <span class="keyword">:function</span>))</pre>
  </div>

<div class="form-block function" id="def-defcong-form" data-defines="DEFCONG-FORM" data-references="IMPLIES,DEFTHM,QUASIQUOTE,UPDATE-NTH,UPDATED-FN-ARGS,-EQUIV,ARG-K-EQUIV,NTH,KTH-ARG,LIST,GEN-SYM-SYM,DEFAULT-NAME,OTHERWISE,PKG-WITNESS,CASE,SYM,FN,LET*,STRINGP,NULL,OR,*DEFCONG-PACKAGE-VALUES*,MEMBER,IF,QUOTE,CAR,EQ,NOT,LENGTH,<,INTEGERP,CDR,NO-DUPLICATESP-EQUAL,SYMBOL-LISTP,SYMBOLP,AND,XARGS,DECLARE,OTF-FLG,HINTS,INSTRUCTIONS,RULE-CLASSES,EVENT-NAME,CURRENT-PKG,PACKAGE,K,FN-ARGS,EQUIV2,EQUIV1,DEFUN" data-used-by="DEFCONG-FN" data-part-name="DEFCONG-FORM" data-part-args="OTF-FLG,HINTS,INSTRUCTIONS,RULE-CLASSES,EVENT-NAME,CURRENT-PKG,PACKAGE,K,FN-ARGS,EQUIV2,EQUIV1" data-part-declare="EVENT-NAME,STRINGP,CURRENT-PKG,NULL,OR,*DEFCONG-PACKAGE-VALUES*,PACKAGE,MEMBER,IF,QUOTE,CAR,EQ,NOT,LENGTH,<,K,INTEGERP,CDR,NO-DUPLICATESP-EQUAL,FN-ARGS,SYMBOL-LISTP,EQUIV2,EQUIV1,SYMBOLP,AND,XARGS,DECLARE" data-part-body="IMPLIES,DEFTHM,QUASIQUOTE,UPDATE-NTH,UPDATED-FN-ARGS,-EQUIV,QUOTE,ARG-K-EQUIV,NTH,KTH-ARG,OR,EVENT-NAME,K,LIST,GEN-SYM-SYM,DEFAULT-NAME,EQUIV1,OTHERWISE,EQUIV2,CURRENT-PKG,PKG-WITNESS,PACKAGE,CASE,SYM,FN-ARGS,CAR,FN,LET*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFCONG-FORM">defcong-form</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-defcong-form" data-sym="DEFCONG-FORM" title="(defun defcong-form
       (equiv1 equiv2 fn-args k package current-pkg event-name rule-classes
        instructions hints otf-flg)
  (declare
   (xargs :guard
...">defcong-form</a>
  (equiv1 equiv2
    fn-args
    k
    package
    current-pkg
    event-name
    rule-classes
    instructions
    hints
    otf-flg)
  (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (symbolp equiv1)
        (symbolp equiv2)
        (<a class="sym-link system" href="axioms.html#def-symbol-listp" data-sym="SYMBOL-LISTP">symbol-listp</a> fn-args)
        (<a class="sym-link system" href="axioms.html#def-no-duplicatesp-equal" data-sym="NO-DUPLICATESP-EQUAL">no-duplicatesp-equal</a> (cdr fn-args))
        (integerp k)
        (&lt; <span class="number">0</span> k)
        (&lt; k (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> fn-args))
        (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (car fn-args) 'if))
        (<a class="sym-link system" href="axioms.html#def-member" data-sym="MEMBER">member</a> package <a class="sym-link local-def" href="#def-_2Adefcong-package-values_2A" data-sym="*DEFCONG-PACKAGE-VALUES*" title="(defconst *defcong-package-values*
          &#39;(:current :equiv1 :legacy :equiv2 :function))">*defcong-package-values*</a>)
        (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> current-pkg) (stringp current-pkg))
        (symbolp event-name))))
  (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((fn (car fn-args)) (sym (<a class="sym-link system" href="axioms.html#def-case" data-sym="CASE">case</a> package
          (<span class="keyword">:current</span> (pkg-witness current-pkg))
          (<span class="keyword">:equiv2</span> equiv2)
          (<span class="keyword">:function</span> fn)
          (otherwise equiv1)))
      (default-name (<a class="sym-link local-def" href="#def-gen-sym-sym" data-sym="GEN-SYM-SYM" title="(defun gen-sym-sym (l sym)
  (declare (xargs :guard (and (atom-listp l) (symbolp sym))))
  (fix-intern-in-pkg-of-sym (pack-to-string l) sym))">gen-sym-sym</a> (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> equiv1 <span class="string">"-IMPLIES-"</span> equiv2 <span class="string">"-"</span> fn <span class="string">"-"</span> k)
          sym))
      (event-name (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> event-name default-name))
      (kth-arg (<a class="sym-link system" href="axioms.html#def-nth" data-sym="NTH">nth</a> k fn-args))
      (arg-k-equiv (<a class="sym-link local-def" href="#def-gen-sym-sym" data-sym="GEN-SYM-SYM" title="(defun gen-sym-sym (l sym)
  (declare (xargs :guard (and (atom-listp l) (symbolp sym))))
  (fix-intern-in-pkg-of-sym (pack-to-string l) sym))">gen-sym-sym</a> (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> kth-arg '-equiv) sym))
      (updated-fn-args (<a class="sym-link system" href="axioms.html#def-update-nth" data-sym="UPDATE-NTH">update-nth</a> k arg-k-equiv fn-args)))
    `(<a class="sym-link system" href="axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> ,EVENT-NAME
      (<a class="sym-link system" href="axioms.html#def-implies" data-sym="IMPLIES">implies</a> (,EQUIV1 ,KTH-ARG ,ARG-K-EQUIV)
        (,EQUIV2 ,FN-ARGS ,UPDATED-FN-ARGS))
      <span class="keyword">:rule-classes</span> ,(EXTEND-RULE-CLASSES :CONGRUENCE RULE-CLASSES)
      ,@(IF INSTRUCTIONS
      (LIST :INSTRUCTIONS INSTRUCTIONS)
      NIL)
      ,@(IF HINTS
      (LIST :HINTS HINTS)
      NIL)
      ,@(IF OTF-FLG
      (LIST :OTF-FLG OTF-FLG)
      NIL))))</pre>
  </div>

<div class="form-block function" id="def-defcong-fn" data-defines="DEFCONG-FN" data-references="STATE,CURRENT-PACKAGE,MAKE-EVENT,T,DEFCONG-FORM,EQUAL,*DEFCONG-PACKAGE-VALUES*,MEMBER-EQ,LENGTH,<,INTEGERP,IF,CAR,EQL,CDR,NO-DUPLICATESP-EQ,SYMBOL-LISTP,SOFT,ER,QUASIQUOTE,SYMBOLP,AND,NOT,COND,DEFCONG,QUOTE,CONS,CTX,LET,OTF-FLG,HINTS,INSTRUCTIONS,RULE-CLASSES,EVENT-NAME,PACKAGE,K,FN-ARGS,EQUIV2,EQUIV1,DEFUN" data-used-by="DEFCONG" data-part-name="DEFCONG-FN" data-part-args="OTF-FLG,HINTS,INSTRUCTIONS,RULE-CLASSES,EVENT-NAME,PACKAGE,K,FN-ARGS,EQUIV2,EQUIV1" data-part-body="STATE,CURRENT-PACKAGE,MAKE-EVENT,T,OTF-FLG,HINTS,INSTRUCTIONS,RULE-CLASSES,DEFCONG-FORM,EQUAL,EVENT-NAME,*DEFCONG-PACKAGE-VALUES*,PACKAGE,MEMBER-EQ,LENGTH,<,K,INTEGERP,IF,CAR,EQL,CDR,NO-DUPLICATESP-EQ,FN-ARGS,SYMBOL-LISTP,SOFT,ER,QUASIQUOTE,EQUIV2,SYMBOLP,AND,NOT,COND,EQUIV1,DEFCONG,QUOTE,CONS,CTX,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFCONG-FN">defcong-fn</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-defcong-fn" data-sym="DEFCONG-FN" title="(defun defcong-fn
       (equiv1 equiv2 fn-args k package event-name rule-classes instructions
        hints otf-flg)
  (let ((ctx (cons &#39;defcong equiv1)))
    (cond
...">defcong-fn</a>
  (equiv1 equiv2
    fn-args
    k
    package
    event-name
    rule-classes
    instructions
    hints
    otf-flg)
  (let ((ctx (cons '<a class="sym-link local-def" href="#def-defcong" data-sym="DEFCONG" title="(defmacro defcong
          (equiv1 equiv2 fn-args k
           &amp;key (package &#39;:current) event-name (rule-classes &#39;(:congruence))
           instructions hints otf-flg)
  (defcong-fn equiv1 equiv2 fn-args k package event-name rule-classes">defcong</a> equiv1)))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (symbolp equiv1) (symbolp equiv2))) `(<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
          ',CTX
          <span class="string">"The first two arguments of ~x0 must be symbols, but ~@1.  See ~
            :DOC defcong."</span>
          '<a class="sym-link local-def" href="#def-defcong" data-sym="DEFCONG" title="(defmacro defcong
          (equiv1 equiv2 fn-args k
           &amp;key (package &#39;:current) event-name (rule-classes &#39;(:congruence))
           instructions hints otf-flg)
  (defcong-fn equiv1 equiv2 fn-args k package event-name rule-classes">defcong</a>
          ,(COND ((SYMBOLP EQUIV1) `(MSG &quot;~x0 is not&quot; &#39;,EQUIV2))
       ((SYMBOLP EQUIV2) `(MSG &quot;~x0 is not&quot; &#39;,EQUIV1))
       (T `(MSG &quot;~&amp;0 are not&quot; &#39;(,EQUIV1 ,EQUIV2))))))
      ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-symbol-listp" data-sym="SYMBOL-LISTP">symbol-listp</a> fn-args)
           (<a class="sym-link system" href="axioms.html#def-no-duplicatesp-eq" data-sym="NO-DUPLICATESP-EQ">no-duplicatesp-eq</a> (cdr fn-args))
           (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eql" data-sym="EQL">eql</a> (car fn-args) 'if)))) `(<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
          ',CTX
          <span class="string">"The third argument of ~x0 must be a list, starting with a symbol ~
            other than ~x1 and followed by a duplicate-free list of symbols. ~
            However, ~x2 is not of this form.  See :DOC defcong."</span>
          '<a class="sym-link local-def" href="#def-defcong" data-sym="DEFCONG" title="(defmacro defcong
          (equiv1 equiv2 fn-args k
           &amp;key (package &#39;:current) event-name (rule-classes &#39;(:congruence))
           instructions hints otf-flg)
  (defcong-fn equiv1 equiv2 fn-args k package event-name rule-classes">defcong</a>
          'if
          ',FN-ARGS))
      ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (integerp k) (&lt; <span class="number">0</span> k) (&lt; k (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> fn-args)))) `(<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
          ',CTX
          <span class="string">"The fourth argument of ~x0, ~x1, is illegal.  It must be a ~
            positive integer less than the length of the third argument ~
            (which in this case is ~x2).  See :DOC defcong."</span>
          '<a class="sym-link local-def" href="#def-defcong" data-sym="DEFCONG" title="(defmacro defcong
          (equiv1 equiv2 fn-args k
           &amp;key (package &#39;:current) event-name (rule-classes &#39;(:congruence))
           instructions hints otf-flg)
  (defcong-fn equiv1 equiv2 fn-args k package event-name rule-classes">defcong</a>
          ',K
          ',(LENGTH FN-ARGS)))
      ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> package <a class="sym-link local-def" href="#def-_2Adefcong-package-values_2A" data-sym="*DEFCONG-PACKAGE-VALUES*" title="(defconst *defcong-package-values*
          &#39;(:current :equiv1 :legacy :equiv2 :function))">*defcong-package-values*</a>)) `(<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
          ',CTX
          <span class="string">"The (optional) :PACKAGE keyword of ~x0 must be ~v1, but ~x2 is ~
            none of these.  See :DOC defcong."</span>
          '<a class="sym-link local-def" href="#def-defcong" data-sym="DEFCONG" title="(defmacro defcong
          (equiv1 equiv2 fn-args k
           &amp;key (package &#39;:current) event-name (rule-classes &#39;(:congruence))
           instructions hints otf-flg)
  (defcong-fn equiv1 equiv2 fn-args k package event-name rule-classes">defcong</a>
          <a class="sym-link local-def" href="#def-_2Adefcong-package-values_2A" data-sym="*DEFCONG-PACKAGE-VALUES*" title="(defconst *defcong-package-values*
          &#39;(:current :equiv1 :legacy :equiv2 :function))">*defcong-package-values*</a>
          ',PACKAGE))
      ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (symbolp event-name)) `(<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
          ',CTX
          <span class="string">"The (optional) :EVENT-NAME keyword argument of ~x0 must be a ~
            symbol, but ~x1 is not.  See :DOC defcong."</span>
          '<a class="sym-link local-def" href="#def-defcong" data-sym="DEFCONG" title="(defmacro defcong
          (equiv1 equiv2 fn-args k
           &amp;key (package &#39;:current) event-name (rule-classes &#39;(:congruence))
           instructions hints otf-flg)
  (defcong-fn equiv1 equiv2 fn-args k package event-name rule-classes">defcong</a>
          ',EVENT-NAME))
      ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (equal package <span class="keyword">:current</span>)) (<a class="sym-link local-def" href="#def-defcong-form" data-sym="DEFCONG-FORM" title="(defun defcong-form
       (equiv1 equiv2 fn-args k package current-pkg event-name rule-classes
        instructions hints otf-flg)
  (declare
   (xargs :guard
...">defcong-form</a> equiv1
          equiv2
          fn-args
          k
          package
          nil
          event-name
          rule-classes
          instructions
          hints
          otf-flg))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> `(<a class="sym-link system" href="axioms.html#def-make-event" data-sym="MAKE-EVENT">make-event</a> (<a class="sym-link local-def" href="#def-defcong-form" data-sym="DEFCONG-FORM" title="(defun defcong-form
       (equiv1 equiv2 fn-args k package current-pkg event-name rule-classes
        instructions hints otf-flg)
  (declare
   (xargs :guard
...">defcong-form</a> ',EQUIV1
            ',EQUIV2
            ',FN-ARGS
            ',K
            ',PACKAGE
            (<a class="sym-link system" href="axioms.html#def-current-package" data-sym="CURRENT-PACKAGE">current-package</a> state)
            ',EVENT-NAME
            ',RULE-CLASSES
            ',INSTRUCTIONS
            ',HINTS
            ',OTF-FLG))))))</pre>
  </div>

<div class="form-block macro" id="def-defcong" data-defines="DEFCONG" data-references="DEFCONG-FN,OTF-FLG,HINTS,INSTRUCTIONS,RULE-CLASSES,EVENT-NAME,QUOTE,PACKAGE,&KEY,K,FN-ARGS,EQUIV2,EQUIV1,DEFMACRO" data-used-by="DEFCONG-FN" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFCONG">defcong</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-defcong" data-sym="DEFCONG" title="(defmacro defcong
          (equiv1 equiv2 fn-args k
           &amp;key (package &#39;:current) event-name (rule-classes &#39;(:congruence))
           instructions hints otf-flg)
  (defcong-fn equiv1 equiv2 fn-args k package event-name rule-classes">defcong</a>
  (equiv1 equiv2
    fn-args
    k
    &amp;key
    (package '<span class="keyword">:current</span>)
    event-name
    (rule-classes '(<span class="keyword">:congruence</span>))
    instructions
    hints
    otf-flg)
  (<a class="sym-link local-def" href="#def-defcong-fn" data-sym="DEFCONG-FN" title="(defun defcong-fn
       (equiv1 equiv2 fn-args k package event-name rule-classes instructions
        hints otf-flg)
  (let ((ctx (cons &#39;defcong equiv1)))
    (cond
...">defcong-fn</a> equiv1
    equiv2
    fn-args
    k
    package
    event-name
    rule-classes
    instructions
    hints
    otf-flg))</pre>
  </div>


  </main>
  
<script>
// ACL2 Book HTML Documentation - Interactive Features
// Generated by cert2 - build2 system

// State
let activeFilter = null;
let activePartFilter = null;
let activeNameFilter = null;
let currentFontSize = 14;

// Theme management
function getStoredTheme() {
  return localStorage.getItem('acl2-theme') || 'dark';
}

function setTheme(theme) {
  if (theme === 'light') {
    document.documentElement.setAttribute('data-theme', 'light');
    document.getElementById('theme-toggle').textContent = '🌙';
  } else {
    document.documentElement.removeAttribute('data-theme');
    document.getElementById('theme-toggle').textContent = '☀️';
  }
  localStorage.setItem('acl2-theme', theme);
}

function toggleTheme() {
  const current = getStoredTheme();
  setTheme(current === 'dark' ? 'light' : 'dark');
}

// Font size management
function getStoredFontSize() {
  return parseInt(localStorage.getItem('acl2-fontsize') || '14', 10);
}

function setFontSize(size) {
  size = Math.max(10, Math.min(24, size)); // Clamp between 10-24
  currentFontSize = size;
  document.body.style.fontSize = size + 'px';
  localStorage.setItem('acl2-fontsize', size.toString());
}

function increaseFontSize() {
  setFontSize(currentFontSize + 2);
}

function decreaseFontSize() {
  setFontSize(currentFontSize - 2);
}

// Get all form blocks
function getFormBlocks() {
  return document.querySelectorAll('.form-block');
}

// Clear all filters
function clearFilter() {
  activeFilter = null;
  activePartFilter = null;
  activeNameFilter = null;
  getFormBlocks().forEach(b => {
    b.classList.remove('hidden', 'dimmed');
  });
  document.querySelectorAll('.part-btn').forEach(b => b.classList.remove('active'));
  const status = document.querySelector('.filter-status');
  status.classList.remove('active');
  // Slide name filter back to original position
  document.querySelector('.controls-left').style.transform = '';
  // Clear the name filter input
  const nameInput = document.getElementById('name-filter');
  if (nameInput) nameInput.value = '';
}

// Show filter status and slide name filter right
function showFilterStatus(text) {
  const status = document.querySelector('.filter-status');
  status.classList.add('active');
  status.querySelector('.filter-text').textContent = text;
  // Slide name filter to the right to make room
  setTimeout(() => {
    const statusWidth = status.offsetWidth;
    document.querySelector('.controls-left').style.transform = `translateX(${statusWidth + 15}px)`;
  }, 10);
}

// Filter to show only forms that define or reference a symbol
function filterBySymbol(symName, showUsedBy) {
  clearFilter();
  activeFilter = symName;
  
  const blocks = getFormBlocks();
  let visibleCount = 0;
  
  blocks.forEach(block => {
    const definesName = block.dataset.defines;
    const references = (block.dataset.references || '').split(',');
    const usedBy = (block.dataset.usedBy || '').split(',');
    
    let show = false;
    if (showUsedBy) {
      // Show forms that USE this symbol
      show = references.includes(symName) || definesName === symName;
    } else {
      // Show forms that this symbol USES
      show = usedBy.includes(symName) || definesName === symName;
    }
    
    if (show) {
      block.classList.remove('hidden');
      visibleCount++;
    } else {
      block.classList.add('hidden');
    }
  });
  
  // Update status
  showFilterStatus(`Filtering by: ${symName} (${visibleCount} items)`);
}

// Filter by defthm part (term, hints, rule-classes, etc.)
function filterByPart(formId, partName) {
  clearFilter();
  activePartFilter = { formId, partName };
  
  // Get the part's referenced symbols
  // data-part-term becomes dataset.partTerm, data-part-hints becomes dataset.partHints, etc.
  const block = document.getElementById(formId);
  const datasetKey = 'part' + partName.charAt(0).toUpperCase() + partName.slice(1).replace(/-([a-z])/g, (g) => g[1].toUpperCase());
  const partData = block.dataset[datasetKey];
  if (!partData) return;
  
  const partSyms = partData.split(',').filter(s => s);
  
  // Highlight the button
  block.querySelector(`.part-btn[data-part="${partName}"]`).classList.add('active');
  
  // Hide forms not referenced by this part
  getFormBlocks().forEach(b => {
    const definesName = b.dataset.defines;
    if (b.id === formId || partSyms.includes(definesName)) {
      b.classList.remove('hidden');
    } else {
      b.classList.add('hidden');
    }
  });
  
  // Update status
  showFilterStatus(`Filtering ${formId} :${partName} (${partSyms.length} references)`);
}

// Filter by name (substring or regex)
function filterByName(pattern, useRegex) {
  // Clear other filters but keep the input value
  activeFilter = null;
  activePartFilter = null;
  document.querySelectorAll('.part-btn').forEach(b => b.classList.remove('active'));
  
  if (!pattern || pattern.trim() === '') {
    // Empty pattern - show all
    activeNameFilter = null;
    getFormBlocks().forEach(b => b.classList.remove('hidden'));
    const status = document.querySelector('.filter-status');
    status.classList.remove('active');
    document.querySelector('.controls-left').style.transform = '';
    return;
  }
  
  activeNameFilter = pattern;
  
  let matcher;
  let isValidRegex = true;
  
  if (useRegex) {
    try {
      matcher = new RegExp(pattern, 'i');
    } catch (e) {
      // Invalid regex - show error in status and don't filter
      showFilterStatus(`Invalid regex: ${e.message}`);
      return;
    }
  } else {
    // Plain substring match (case-insensitive)
    const lowerPattern = pattern.toLowerCase();
    matcher = { test: (s) => s.toLowerCase().includes(lowerPattern) };
  }
  
  const blocks = getFormBlocks();
  let visibleCount = 0;
  
  blocks.forEach(block => {
    const definesName = block.dataset.defines || '';
    if (matcher.test(definesName)) {
      block.classList.remove('hidden');
      visibleCount++;
    } else {
      block.classList.add('hidden');
    }
  });
  
  // Update status
  const modeText = useRegex ? 'regex' : 'name';
  showFilterStatus(`Filtering by ${modeText}: "${pattern}" (${visibleCount} matches)`);
}

// Click on a name to show what references it
function handleNameClick(symName) {
  if (activeFilter === symName) {
    clearFilter();
  } else {
    filterBySymbol(symName, true);
  }
}

// Navigate to a definition (same file or different)
function navigateTo(symName, file) {
  if (file) {
    // External file - navigate
    window.location.href = file + '.html#def-' + symName.toLowerCase();
  } else {
    // Same file - scroll
    const target = document.getElementById('def-' + symName.toLowerCase());
    if (target) {
      target.scrollIntoView({ behavior: 'smooth', block: 'center' });
      target.classList.add('highlight');
      setTimeout(() => target.classList.remove('highlight'), 400);
    }
  }
}

// Initialize
document.addEventListener('DOMContentLoaded', () => {
  // Part buttons
  document.querySelectorAll('.part-btn').forEach(btn => {
    btn.addEventListener('click', (e) => {
      e.stopPropagation();
      const formId = btn.closest('.form-block').id;
      const partName = btn.dataset.part;
      if (activePartFilter && activePartFilter.formId === formId && 
          activePartFilter.partName === partName) {
        clearFilter();
      } else {
        filterByPart(formId, partName);
      }
    });
  });
  
  // Clear filter button
  document.querySelector('.clear-filter').addEventListener('click', clearFilter);
  
  // Name filter input
  const nameFilter = document.getElementById('name-filter');
  const regexToggle = document.getElementById('regex-toggle');
  
  let filterTimeout = null;
  nameFilter.addEventListener('input', () => {
    // Debounce the filter to avoid excessive updates while typing
    clearTimeout(filterTimeout);
    filterTimeout = setTimeout(() => {
      filterByName(nameFilter.value, regexToggle.checked);
    }, 150);
  });
  
  // Re-filter when regex toggle changes
  regexToggle.addEventListener('change', () => {
    if (nameFilter.value) {
      filterByName(nameFilter.value, regexToggle.checked);
    }
  });
  
  // Allow Escape key to clear filter when in input
  nameFilter.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
      clearFilter();
      nameFilter.blur();
    }
  });
  
  // Symbol references (old span-based refs)
  document.querySelectorAll('.sym-ref').forEach(ref => {
    ref.addEventListener('click', (e) => {
      e.stopPropagation();
      const sym = ref.dataset.sym;
      const file = ref.dataset.file;
      if (file) {
        navigateTo(sym, file);
      } else {
        handleNameClick(sym);
      }
    });
  });
  
  // Symbol links (new anchor-based links)
  // These use standard <a> tags so navigation happens automatically
  // But we need to clear filters if target would be hidden
  document.querySelectorAll('.sym-link').forEach(link => {
    link.addEventListener('click', (e) => {
      const href = link.getAttribute('href');
      if (href && href.startsWith('#')) {
        // Local link - check if target is hidden by filter
        const targetId = href.substring(1);
        const target = document.getElementById(targetId);
        if (target) {
          // If target is hidden, clear the filter first
          if (target.classList.contains('hidden')) {
            clearFilter();
          }
          // Add highlight effect after a short delay
          setTimeout(() => {
            target.classList.add('highlight');
            setTimeout(() => target.classList.remove('highlight'), 400);
          }, 100);
        }
      }
      // For external links, default behavior handles navigation
    });
  });
  
  // Form names (show what uses them)
  document.querySelectorAll('.form-name').forEach(name => {
    name.addEventListener('click', (e) => {
      handleNameClick(name.dataset.sym);
    });
  });
  
  // Handle hash navigation (when arriving at page with #anchor)
  if (window.location.hash) {
    const target = document.querySelector(window.location.hash);
    if (target) {
      setTimeout(() => {
        target.scrollIntoView({ behavior: 'smooth', block: 'center' });
        target.classList.add('highlight');
        setTimeout(() => target.classList.remove('highlight'), 400);
      }, 200);
    }
  }
  
  // Initialize theme from storage
  setTheme(getStoredTheme());
  
  // Initialize font size from storage
  currentFontSize = getStoredFontSize();
  setFontSize(currentFontSize);
  
  // Theme toggle button
  document.getElementById('theme-toggle').addEventListener('click', toggleTheme);
  
  // Font size buttons
  document.getElementById('font-larger').addEventListener('click', increaseFontSize);
  document.getElementById('font-smaller').addEventListener('click', decreaseFontSize);
});

</script>

</body>
</html>