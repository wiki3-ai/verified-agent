<!DOCTYPE html>
<html lang="en" vocab="http://schema.org/" typeof="SoftwareSourceCode">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>properties - ACL2 Book</title>
  <meta property="name" content="properties">
  <meta property="programmingLanguage" content="ACL2">
  
<style>
/* ACL2 Book HTML Documentation Styles */
/* Generated by cert2 - build2 system */

/* Dark theme (default) */
:root {
  --bg: #1e1e2e;
  --fg: #cdd6f4;
  --comment: #6c7086;
  --keyword: #cba6f7;
  --string: #a6e3a1;
  --function: #89b4fa;
  --type: #f9e2af;
  --link: #89dceb;
  --link-hover: #f5c2e7;
  --highlight: rgba(137, 180, 250, 0.2);
  --border: #313244;
  --block-bg: rgba(49, 50, 68, 0.5);
  --btn-bg: #313244;
  --btn-hover: rgba(137, 180, 250, 0.2);
}

/* Light theme */
[data-theme="light"] {
  --bg: #eff1f5;
  --fg: #4c4f69;
  --comment: #6c6f85;
  --keyword: #8839ef;
  --string: #40a02b;
  --function: #1e66f5;
  --type: #df8e1d;
  --link: #04a5e5;
  --link-hover: #ea76cb;
  --highlight: rgba(30, 102, 245, 0.15);
  --border: #ccd0da;
  --block-bg: rgba(204, 208, 218, 0.3);
  --btn-bg: #ccd0da;
  --btn-hover: rgba(30, 102, 245, 0.15);
}

body {
  font-family: 'JetBrains Mono', 'Fira Code', monospace;
  background: var(--bg);
  color: var(--fg);
  margin: 0;
  padding: 20px;
  line-height: 1.6;
  font-size: 14px;
  transition: background 0.1s, color 0.1s;
}

/* Controls toolbar */
.controls-left {
  position: fixed;
  top: 10px;
  left: 20px;
  display: flex;
  gap: 8px;
  align-items: center;
  z-index: 200;
  transition: transform 0.1s ease;
}

.controls-right {
  position: fixed;
  top: 10px;
  right: 20px;
  display: flex;
  gap: 8px;
  align-items: center;
  z-index: 200;
}

.control-btn {
  padding: 6px 12px;
  background: var(--btn-bg);
  border: 1px solid var(--border);
  border-radius: 4px;
  color: var(--fg);
  cursor: pointer;
  font-family: inherit;
  font-size: 14px;
  transition: all 0.1s;
}

.control-btn:hover {
  background: var(--btn-hover);
  border-color: var(--link);
}

.name-filter {
  padding: 6px 10px;
  background: var(--btn-bg);
  border: 1px solid var(--border);
  border-radius: 4px;
  color: var(--fg);
  font-family: inherit;
  font-size: 13px;
  width: 150px;
  transition: all 0.1s;
}

.name-filter:focus {
  outline: none;
  border-color: var(--link);
  width: 200px;
}

.name-filter::placeholder {
  color: var(--comment);
}

.regex-label {
  display: flex;
  align-items: center;
  gap: 4px;
  color: var(--comment);
  font-size: 12px;
  cursor: pointer;
}

.regex-label input {
  cursor: pointer;
}

.book-header {
  border-bottom: 2px solid var(--border);
  padding-bottom: 20px;
  margin-bottom: 20px;
}

.book-header h1 {
  color: var(--keyword);
  margin: 0;
}

.book-header .path {
  color: var(--comment);
  font-size: 0.9em;
}

.book-header .path .source-link {
  color: var(--comment);
  text-decoration: none;
}

.book-header .path .source-link:hover {
  color: var(--link);
  text-decoration: underline;
}

.form-block {
  margin: 10px 0;
  padding: 15px;
  background: var(--block-bg);
  border-radius: 8px;
  border-left: 3px solid var(--border);
}

.form-block.theorem { border-left-color: var(--keyword); }
.form-block.function { border-left-color: var(--function); }
.form-block.macro { border-left-color: var(--type); }
.form-block.include-book { border-left-color: var(--string); }

.form-block.hidden { display: none; }
.form-block.dimmed { opacity: 0.3; }

.form-block.highlight {
  animation: highlight-pulse 0.4s ease-out;
}

@keyframes highlight-pulse {
  0% { background: var(--highlight); box-shadow: 0 0 20px var(--link); }
  100% { background: rgba(49, 50, 68, 0.5); box-shadow: none; }
}

.form-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
}

.form-name {
  color: var(--function);
  font-weight: bold;
  cursor: pointer;
}

.form-name:hover {
  color: var(--link-hover);
  text-decoration: underline;
}

.form-type {
  color: var(--comment);
  font-size: 0.85em;
}

pre.code {
  margin: 0;
  overflow-x: auto;
  white-space: pre-wrap;
  word-wrap: break-word;
}

.sym-ref {
  color: var(--link);
  cursor: pointer;
  border-radius: 2px;
}

.sym-ref:hover {
  background: var(--highlight);
  color: var(--link-hover);
}

.sym-ref.local-def { color: var(--function); font-weight: bold; }
.sym-ref.external { color: var(--type); }

/* Symbol links (clickable hyperlinks) */
.sym-link {
  color: var(--link);
  text-decoration: none;
  border-radius: 2px;
  cursor: pointer;
  position: relative;
}

.sym-link:hover {
  background: var(--highlight);
  color: var(--link-hover);
  text-decoration: underline;
}

.sym-link.local-def {
  color: var(--function);
  font-weight: bold;
}

.sym-link.external {
  color: var(--type);
}

/* Tooltips using title attribute with custom styling */
.sym-link[title] {
  /* Browser will show title on hover */
}

/* Syntax highlighting in code blocks */
.keyword {
  color: var(--keyword);
}

.string {
  color: var(--string);
}

.number {
  color: #f77524; /* orange */
}

/* Include-book path links */
.include-path {
  color: var(--string);
  text-decoration: none;
  border-radius: 2px;
  cursor: pointer;
}

.include-path:hover {
  background: var(--highlight);
  color: var(--link-hover);
  text-decoration: underline;
}

/* Part buttons for defthm */
.part-buttons {
  display: flex;
  gap: 5px;
  margin: 10px 0;
  flex-wrap: wrap;
}

.part-btn {
  padding: 4px 10px;
  background: var(--border);
  border: 1px solid var(--comment);
  border-radius: 4px;
  color: var(--fg);
  cursor: pointer;
  font-size: 0.85em;
  font-family: inherit;
}

.part-btn:hover {
  background: var(--highlight);
  border-color: var(--link);
}

.part-btn.active {
  background: var(--link);
  color: var(--bg);
  border-color: var(--link);
}

/* References panel */
.refs-panel {
  margin-top: 10px;
  padding: 10px;
  background: rgba(0,0,0,0.2);
  border-radius: 4px;
  display: none;
}

.refs-panel.visible { display: block; }

.refs-panel h4 {
  margin: 0 0 5px 0;
  color: var(--comment);
  font-size: 0.9em;
}

.refs-list {
  display: flex;
  flex-wrap: wrap;
  gap: 5px;
}

/* Included books section */
.includes-section {
  margin-bottom: 20px;
  padding: 15px;
  background: rgba(49, 50, 68, 0.3);
  border-radius: 8px;
  border: 1px solid var(--border);
}

.includes-section h2 {
  margin: 0 0 10px 0;
  color: var(--comment);
  font-size: 1em;
  font-weight: normal;
}

.includes-list {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.include-link {
  padding: 6px 12px;
  background: var(--border);
  border-radius: 4px;
  color: var(--link);
  text-decoration: none;
  font-size: 0.9em;
  transition: all 0.1s;
}

.include-link:hover {
  background: var(--highlight);
  color: var(--link-hover);
}

.include-link.local {
  border-left: 2px solid var(--comment);
}

/* Filter status */
.filter-status {
  position: fixed;
  top: 10px;
  left: 20px;
  background: var(--bg);
  padding: 6px 12px;
  border: 1px solid var(--border);
  border-radius: 4px;
  z-index: 201;
  display: none;
  align-items: center;
  gap: 10px;
}

.filter-status.active {
  display: flex;
  align-items: center;
  gap: 10px;
}

.clear-filter {
  padding: 5px 15px;
  background: var(--keyword);
  color: var(--bg);
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

/* RDFa vocab indicator */
[vocab] { /* semantic web annotations present */ }

</style>

</head>
<body>
  <div class="controls-left">
    <input type="text" id="name-filter" class="name-filter" placeholder="Filter by name..." title="Filter definitions by name">
    <label class="regex-label"><input type="checkbox" id="regex-toggle"> regex</label>
  </div>

  <div class="controls-right">
    <button class="control-btn" id="theme-toggle" title="Toggle light/dark theme">☀️</button>
    <button class="control-btn" id="font-smaller" title="Decrease font size">A-</button>
    <button class="control-btn" id="font-larger" title="Increase font size">A+</button>
  </div>

  <div class="filter-status">
    <span class="filter-text">Filtering...</span>
    <button class="clear-filter">Clear Filter</button>
  </div>
  
  <div class="book-header">
    <h1 property="name">properties</h1>
    <div class="path"><a href="properties.lisp" class="source-link">books/acl2s/properties</a></div>
  </div>
  
  <main property="text">
<div class="form-block other" id="form-0" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-in-package" data-sym="IN-PACKAGE">in-package</a> <span class="string">"ACL2S"</span>)</pre>
  </div>

<div class="form-block other" id="form-1" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-include-book" data-sym="INCLUDE-BOOK">include-book</a> <a class="include-path" href="../../acl2s/definec.html" title="Open acl2s/definec">"acl2s/definec"</a> <span class="keyword">:dir</span> <span class="keyword">:system</span> <span class="keyword">:ttags</span> <span class="keyword">:all</span>)</pre>
  </div>

<div class="form-block other" id="form-2" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-include-book" data-sym="INCLUDE-BOOK">include-book</a> <a class="include-path" href="../../acl2s/acl2s-size.html" title="Open acl2s/acl2s-size">"acl2s/acl2s-size"</a> <span class="keyword">:dir</span> <span class="keyword">:system</span>)</pre>
  </div>

<div class="form-block other" id="form-3" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-include-book" data-sym="INCLUDE-BOOK">include-book</a> <a class="include-path" href="../../acl2s/ccg/ccg.html" title="Open acl2s/ccg/ccg">"acl2s/ccg/ccg"</a> <span class="keyword">:dir</span> <span class="keyword">:system</span> <span class="keyword">:uncertified-okp</span> nil <span class="keyword">:ttags</span> ((<span class="keyword">:ccg</span>)) <span class="keyword">:load-compiled-file</span> nil)</pre>
  </div>

<div class="form-block other" id="form-4" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-include-book" data-sym="INCLUDE-BOOK">include-book</a> <a class="include-path" href="base-lists.html" title="Open base-lists">"base-lists"</a>)</pre>
  </div>

<div class="form-block other" id="form-5" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-include-book" data-sym="INCLUDE-BOOK">include-book</a> <a class="include-path" href="guard-obligation-testing.html" title="Open guard-obligation-testing">"guard-obligation-testing"</a>)</pre>
  </div>

<div class="form-block function" id="def-gen-property-accessors-updators" data-defines="GEN-PROPERTY-ACCESSORS-UPDATORS" data-references="CDR,TBL-SET-FN,X,QUOTE,TBL-GET-FN,DEFMACRO,LIST*,SET-,UPD,-,GET-,MAKE-SYMBL,ACC,&,QUASIQUOTE,B*,ENDP,IF,A,TBL,DEFUN" data-part-name="GEN-PROPERTY-ACCESSORS-UPDATORS" data-part-args="A,TBL" data-part-body="CDR,TBL,GEN-PROPERTY-ACCESSORS-UPDATORS,TBL-SET-FN,X,QUOTE,TBL-GET-FN,DEFMACRO,LIST*,SET-,UPD,-,GET-,MAKE-SYMBL,ACC,&,QUASIQUOTE,B*,A,ENDP,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="GEN-PROPERTY-ACCESSORS-UPDATORS">gen-property-accessors-updators</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-gen-property-accessors-updators" data-sym="GEN-PROPERTY-ACCESSORS-UPDATORS" title="(defun acl2s::gen-property-accessors-updators (acl2s::tbl acl2s::a)
  (if (endp acl2s::a)
      nil
      (acl2s::b*
       ((`((,acl2s::key . acl2s::&amp;) . acl2s::&amp;) acl2s::a)
...">gen-property-accessors-updators</a>
  (tbl a)
  (if (<a class="sym-link system" href="../../axioms.html#def-endp" data-sym="ENDP">endp</a> a)
    nil
    (b* ((`((,ACL2S::KEY . &amp;) . &amp;) a) (acc (make-symbl `(get- ,ACL2S::TBL <a class="sym-link system" href="../../axioms.html#def--" data-sym="-">-</a> ,ACL2S::KEY)
            <span class="string">"ACL2S"</span>))
        (upd (make-symbl `(set- ,ACL2S::TBL <a class="sym-link system" href="../../axioms.html#def--" data-sym="-">-</a> ,ACL2S::KEY)
            <span class="string">"ACL2S"</span>)))
      (<a class="sym-link system" href="../../axioms.html#def-list_2A" data-sym="LIST*">list*</a> `(<a class="sym-link system" href="../../axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> ,ACL2S::ACC
          nil
          (tbl-get-fn ',ACL2S::TBL ,ACL2S::KEY))
        `(<a class="sym-link system" href="../../axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> ,ACL2S::UPD
          (x)
          (tbl-set-fn ',ACL2S::TBL ,ACL2S::KEY x))
        (<a class="sym-link local-def" href="#def-gen-property-accessors-updators" data-sym="GEN-PROPERTY-ACCESSORS-UPDATORS" title="(defun acl2s::gen-property-accessors-updators (acl2s::tbl acl2s::a)
  (if (endp acl2s::a)
      nil
      (acl2s::b*
       ((`((,acl2s::key . acl2s::&amp;) . acl2s::&amp;) acl2s::a)
...">gen-property-accessors-updators</a> tbl
          (cdr a))))))</pre>
  </div>

<div class="form-block macro" id="def-gen-property-table" data-defines="GEN-PROPERTY-TABLE" data-references="TABLE-ALIST,PLIST-WORLDP,XARGS,DECLARE,WRLD,DEFUN,QUOTE,ACL2S-PROPERTY-TABLE,TABLE,PROGN,QUASIQUOTE,DEFAULT-ALIST,DEFMACRO" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="GEN-PROPERTY-TABLE">gen-property-table</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-gen-property-table" data-sym="GEN-PROPERTY-TABLE" title="(defmacro acl2s::gen-property-table (acl2s::default-alist)
  `(progn
    (acl2s::table acl2s::acl2s-property-table nil &#39;,acl2s::default-alist
     :clear)
    (defun acl2s::acl2s-property-table (acl2s::wrld)
...">gen-property-table</a>
  (default-alist)
  `(<a class="sym-link system" href="../../axioms.html#def-progn" data-sym="PROGN">progn</a> (<a class="sym-link system" href="../../axioms.html#def-table" data-sym="TABLE">table</a> acl2s-property-table
      nil
      ',ACL2S::DEFAULT-ALIST
      <span class="keyword">:clear</span>)
    (<a class="sym-link system" href="../../axioms.html#def-defun" data-sym="DEFUN">defun</a> acl2s-property-table
      (wrld)
      <span class="string">"API to get the alist representing property table"</span>
      (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="../../axioms.html#def-plist-worldp" data-sym="PLIST-WORLDP">plist-worldp</a> wrld)))
      (<a class="sym-link system" href="../../axioms.html#def-table-alist" data-sym="TABLE-ALIST">table-alist</a> 'acl2s-property-table
        wrld))
    ,@(ACL2S::GEN-PROPERTY-ACCESSORS-UPDATORS &#39;ACL2S::ACL2S-PROPERTY-TABLE
   ACL2S::DEFAULT-ALIST)))</pre>
  </div>

<div class="form-block other" id="form-8" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(def-const *property-thm-keywords*
  '(<span class="keyword">:hints</span> <span class="keyword">:otf-flg</span>))</pre>
  </div>

<div class="form-block other" id="form-9" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(def-const *property-just-defthm-keywords*
  '(<span class="keyword">:rule-classes</span> <span class="keyword">:instructions</span>))</pre>
  </div>

<div class="form-block other" id="form-10" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(def-const *property-core-keywords*
  '(<span class="keyword">:proofs?</span> <span class="keyword">:proof-timeout</span> <span class="keyword">:testing?</span> <span class="keyword">:testing-timeout</span> <span class="keyword">:doc</span> <span class="keyword">:check-contracts?</span> <span class="keyword">:test-contracts?</span> <span class="keyword">:complete-contracts?</span> <span class="keyword">:debug?</span>))</pre>
  </div>

<div class="form-block other" id="form-11" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(def-const *property-conjecture-keywords*
  '(<span class="keyword">:vars</span> <span class="keyword">:hyps</span> <span class="keyword">:h</span> <span class="keyword">:body</span> <span class="keyword">:b</span>))</pre>
  </div>

<div class="form-block other" id="form-12" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(def-const *property-keywords*
  (<a class="sym-link system" href="../../axioms.html#def-append" data-sym="APPEND">append</a> *property-conjecture-keywords*
    *property-core-keywords*
    *property-thm-keywords*
    *property-just-defthm-keywords*))</pre>
  </div>

<div class="form-block other" id="form-13" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-gen-property-table" data-sym="GEN-PROPERTY-TABLE" title="(defmacro acl2s::gen-property-table (acl2s::default-alist)
  `(progn
    (acl2s::table acl2s::acl2s-property-table nil &#39;,acl2s::default-alist
     :clear)
    (defun acl2s::acl2s-property-table (acl2s::wrld)
...">gen-property-table</a> ((<span class="keyword">:debug?</span>) (<span class="keyword">:proofs?</span> . <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>)
    (<span class="keyword">:proof-timeout</span> . <span class="number">40</span>)
    (<span class="keyword">:testing?</span> . <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>)
    (<span class="keyword">:testing-timeout</span> . <span class="number">20</span>)
    (<span class="keyword">:check-contracts?</span> . <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>)
    (<span class="keyword">:test-contracts?</span> . <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>)
    (<span class="keyword">:complete-contracts?</span> . <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>)))</pre>
  </div>

<div class="form-block other" id="form-14" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(definec find-first-duplicate
  (l <span class="keyword">:tl</span>)
  <span class="keyword">:tl</span> (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../axioms.html#def-endp" data-sym="ENDP">endp</a> l) nil)
    ((in (car l) (cdr l)) (<a class="sym-link system" href="../../axioms.html#def-list" data-sym="LIST">list</a> (car l)))
    (<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> (find-first-duplicate (cdr l)))))</pre>
  </div>

<div class="form-block other" id="form-15" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(sig find-first-duplicate
  ((listof <span class="keyword">:a</span>))
  =&gt;
  (listof <span class="keyword">:a</span>))</pre>
  </div>

<div class="form-block other" id="form-16" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(definec hyps-list-from-hyps
  (hyps <span class="keyword">:all</span>)
  <span class="keyword">:all</span> (<a class="sym-link system" href="../../basis-a.html#def-case-match" data-sym="CASE-MATCH">case-match</a> hyps
    (('<a class="sym-link system" href="../../axioms.html#def-and" data-sym="AND">and</a> . l) l)
    (('^ . l) l)
    (&amp; (<a class="sym-link system" href="../../axioms.html#def-list" data-sym="LIST">list</a> hyps))))</pre>
  </div>

<div class="form-block other" id="form-17" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(definec extract-hyps
  (x <span class="keyword">:all</span>)
  <span class="keyword">:tl</span> <span class="keyword">:ic</span> (simple-termp x)
  (b* ((x-hyps (<a class="sym-link system" href="../../basis-a.html#def-case-match" data-sym="CASE-MATCH">case-match</a> x
         (('<a class="sym-link system" href="../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> hyps &amp;) (hyps-list-from-hyps hyps))
         (('=&gt; hyps &amp;) (hyps-list-from-hyps hyps))
         (('-&gt; hyps &amp;) (hyps-list-from-hyps hyps))
         (&amp; nil))) (find-duplicate-x-hyps (find-first-duplicate x-hyps))
      (<a class="sym-link system" href="../../axioms.html#def--" data-sym="-">-</a> (cw? find-duplicate-x-hyps
          <span class="string">"~|**Warning: Your conjecture has duplicate hypothesis, ~x0. ~
                ~%**This may indicate an error."</span>
          find-duplicate-x-hyps)))
    (remove-dups x-hyps)))</pre>
  </div>

<div class="form-block other" id="form-18" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(definec extract-body
  (x <span class="keyword">:all</span>)
  <span class="keyword">:all</span> (<a class="sym-link system" href="../../basis-a.html#def-case-match" data-sym="CASE-MATCH">case-match</a> x
    (('<a class="sym-link system" href="../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> &amp; <a class="sym-link system" href="../../basis-b.html#def-body" data-sym="BODY">body</a>) <a class="sym-link system" href="../../basis-b.html#def-body" data-sym="BODY">body</a>)
    (('=&gt; &amp; <a class="sym-link system" href="../../basis-b.html#def-body" data-sym="BODY">body</a>) <a class="sym-link system" href="../../basis-b.html#def-body" data-sym="BODY">body</a>)
    (('-&gt; &amp; <a class="sym-link system" href="../../basis-b.html#def-body" data-sym="BODY">body</a>) <a class="sym-link system" href="../../basis-b.html#def-body" data-sym="BODY">body</a>)
    (&amp; x)))</pre>
  </div>

<div class="form-block other" id="form-19" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(definec del1
  (e <span class="keyword">:all</span> x <span class="keyword">:tl</span>)
  <span class="keyword">:tl</span> (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../axioms.html#def-endp" data-sym="ENDP">endp</a> x) x)
    ((== e (car x)) (cdr x))
    (<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> (cons (car x) (del1 e (cdr x))))))</pre>
  </div>

<div class="form-block other" id="form-20" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(definec sym-diff
  (x <span class="keyword">:tl</span> y <span class="keyword">:tl</span>)
  <span class="keyword">:tl</span> (app (<a class="sym-link system" href="../../axioms.html#def-set-difference-equal" data-sym="SET-DIFFERENCE-EQUAL">set-difference-equal</a> x y)
    (<a class="sym-link system" href="../../axioms.html#def-set-difference-equal" data-sym="SET-DIFFERENCE-EQUAL">set-difference-equal</a> y x)))</pre>
  </div>

<div class="form-block other" id="form-21" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(definec property-varsp
  (x <span class="keyword">:tl</span>)
  <span class="keyword">:bool</span> (v (<a class="sym-link system" href="../../axioms.html#def-endp" data-sym="ENDP">endp</a> x)
    (^ (consp (cdr x))
      (<a class="sym-link system" href="../../basis-a.html#def-legal-variablep" data-sym="LEGAL-VARIABLEP">legal-variablep</a> (<a class="sym-link system" href="../../axioms.html#def-first" data-sym="FIRST">first</a> x))
      (<a class="sym-link system" href="../../axioms.html#def-keywordp" data-sym="KEYWORDP">keywordp</a> (<a class="sym-link system" href="../../axioms.html#def-second" data-sym="SECOND">second</a> x))
      (property-varsp (<a class="sym-link system" href="../../axioms.html#def-cddr" data-sym="CDDR">cddr</a> x)))))</pre>
  </div>

<div class="form-block function" id="def-parse-property" data-defines="PARSE-PROPERTY" data-references="VALUE,TEST-ERP,TEST?,TE-TEST-ERP,THM-ERP,THM-NO-TEST,WITH-OUTPUT,TRANS-EVAL,WITH-TIME-LIMIT,TE-THM-ERP,CW,TESTING-TIMEOUT,PROOF-TIMEOUT,TEST-GUARDS,GT-GUARDS,GUARD-OBLIGATION-TESTING,GT-ERP,NOT,CHECK-GUARDS,PRETTYIFY-CLAUSE-SET,GC-GUARDS,CL,&,LIST*,GUARD-OBLIGATION,VAL,GC-ERP,IMPLIEZ,SUBLIS-FN-SIMPLE,GPROP,CONSP,UNLESS,LIST,PARSED,SYM-DIFF,VAR-DIFF,VARS,ALL-VARS,ALL-VARS,TRANS-PROP,IMPLIES,QUASIQUOTE,ENDP,PROP,APPEND,TYPE-HYPS-LIST,TYPE-LIST,MAKE-INPUT-CONTRACT,TYPE-LIST1,FIND-BAD-D-ARG-TYPES,BAD-TYPE,MAP-PREDS,USER-PREDS,MAP-INTERN-TYPES,ODDS,USER-TYPES,EVENS,USER-VARS,USER-VAR-LIST,REMOVE-DUPS,FIND-FIRST-DUPLICATE,FIND-DUPLICATE-HYP,EXTRACT-HYPS,PSEUDO-TRANSLATE,PT-HYPS-LIST,ERP,HYPS-LIST-FROM-HYPS,HYPS-LIST,EXTRACT-BODY,T,COND,BODY,TEST-CONTRACTS?,CHECK-CONTRACTS?,BODY?,HYPS?,OR,PROCESS-TYPED-ARGS,CONS,IVARS?,ECW,PROPER-ARGSP,!,WHEN,ASSOC,VARS?,CW?,-,==,DEBUG-ALL?,GET1,DEBUG?,*PROPERTY-KEYWORDS*,EXTRACT-KEYWORDS,PROP-REST,KWD-ALIST,MV,FILTER-KEYWORDS,REMOVE1-ASSOC-EQ-LST,ACL2S-PROPERTY-TABLE,PT,CDR,IF,AND,NAME,CAR,LEGAL-VARIABLEP,NAME?,PROPERTY,CTX,TYPE-ALIAS-TABLE,ATBL,TYPE-METADATA-TABLE,QUOTE,TABLE-ALIST,TBL,W,WRLD,CURRENT-PACKAGE,PKG,B*,XARGS,DECLARE,STATE,ARGS,DEFUN" data-used-by="PROPERTY-FN" data-part-name="PARSE-PROPERTY" data-part-args="STATE,ARGS" data-part-declare="STATE,XARGS,DECLARE" data-part-body="VALUE,TEST-ERP,TEST?,TE-TEST-ERP,THM-ERP,THM-NO-TEST,WITH-OUTPUT,TRANS-EVAL,WITH-TIME-LIMIT,TE-THM-ERP,CW,TESTING-TIMEOUT,PROOF-TIMEOUT,TEST-GUARDS,GT-GUARDS,GUARD-OBLIGATION-TESTING,GT-ERP,NOT,CHECK-GUARDS,PRETTYIFY-CLAUSE-SET,GC-GUARDS,CL,&,LIST*,GUARD-OBLIGATION,VAL,GC-ERP,IMPLIEZ,SUBLIS-FN-SIMPLE,GPROP,CONSP,UNLESS,LIST,PARSED,SYM-DIFF,VAR-DIFF,VARS,ALL-VARS,ALL-VARS,TRANS-PROP,IMPLIES,QUASIQUOTE,ENDP,PROP,APPEND,TYPE-HYPS-LIST,TYPE-LIST,MAKE-INPUT-CONTRACT,TYPE-LIST1,FIND-BAD-D-ARG-TYPES,BAD-TYPE,MAP-PREDS,USER-PREDS,MAP-INTERN-TYPES,ODDS,USER-TYPES,EVENS,USER-VARS,USER-VAR-LIST,REMOVE-DUPS,FIND-FIRST-DUPLICATE,FIND-DUPLICATE-HYP,EXTRACT-HYPS,PSEUDO-TRANSLATE,PT-HYPS-LIST,ERP,HYPS-LIST-FROM-HYPS,HYPS-LIST,EXTRACT-BODY,T,COND,BODY,TEST-CONTRACTS?,CHECK-CONTRACTS?,BODY?,HYPS?,OR,PROCESS-TYPED-ARGS,CONS,IVARS?,ECW,PROPER-ARGSP,!,WHEN,ASSOC,VARS?,CW?,-,==,DEBUG-ALL?,GET1,DEBUG?,*PROPERTY-KEYWORDS*,EXTRACT-KEYWORDS,PROP-REST,KWD-ALIST,MV,FILTER-KEYWORDS,REMOVE1-ASSOC-EQ-LST,ACL2S-PROPERTY-TABLE,PT,CDR,IF,AND,NAME,ARGS,CAR,LEGAL-VARIABLEP,NAME?,PROPERTY,CTX,TYPE-ALIAS-TABLE,ATBL,TYPE-METADATA-TABLE,QUOTE,TABLE-ALIST,TBL,W,WRLD,STATE,CURRENT-PACKAGE,PKG,B*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="PARSE-PROPERTY">parse-property</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-parse-property" data-sym="PARSE-PROPERTY" title="(defun acl2s::parse-property (acl2s::args acl2s::state)
  (declare (acl2s::xargs :mode :program :stobjs (acl2s::state)))
  (acl2s::b*
   ((acl2s::pkg (acl2s::current-package acl2s::state))
    (acl2s::wrld (acl2s::w acl2s::state))
...">parse-property</a>
  (<a class="sym-link system" href="../../defuns.html#def-args" data-sym="ARGS">args</a> state)
  (declare (xargs <span class="keyword">:mode</span> <span class="keyword">:program</span> <span class="keyword">:stobjs</span> (state)))
  (b* ((pkg (<a class="sym-link system" href="../../axioms.html#def-current-package" data-sym="CURRENT-PACKAGE">current-package</a> state)) (wrld (<a class="sym-link system" href="../../axioms.html#def-w" data-sym="W">w</a> state))
      (tbl (<a class="sym-link system" href="../../axioms.html#def-table-alist" data-sym="TABLE-ALIST">table-alist</a> 'type-metadata-table wrld))
      (atbl (<a class="sym-link system" href="../../axioms.html#def-table-alist" data-sym="TABLE-ALIST">table-alist</a> 'type-alias-table wrld))
      (ctx '<a class="sym-link local-def" href="#def-property" data-sym="PROPERTY" title="(defmacro acl2s::property (&amp;rest acl2s::args)
  (acl2s::b*
   ((acl2s::debug?
     (let ((acl2s::lst (member :debug? acl2s::args)))
       (and acl2s::lst (cadr acl2s::lst)))))
...">property</a>)
      (name? (<a class="sym-link system" href="../../basis-a.html#def-legal-variablep" data-sym="LEGAL-VARIABLEP">legal-variablep</a> (car <a class="sym-link system" href="../../defuns.html#def-args" data-sym="ARGS">args</a>)))
      (name (<a class="sym-link system" href="../../axioms.html#def-and" data-sym="AND">and</a> name? (car <a class="sym-link system" href="../../defuns.html#def-args" data-sym="ARGS">args</a>)))
      (<a class="sym-link system" href="../../defuns.html#def-args" data-sym="ARGS">args</a> (if name?
          (cdr <a class="sym-link system" href="../../defuns.html#def-args" data-sym="ARGS">args</a>)
          <a class="sym-link system" href="../../defuns.html#def-args" data-sym="ARGS">args</a>))
      (pt (acl2s-property-table wrld))
      (pt (<a class="sym-link system" href="../../prove.html#def-remove1-assoc-eq-lst" data-sym="REMOVE1-ASSOC-EQ-LST">remove1-assoc-eq-lst</a> (filter-keywords <a class="sym-link system" href="../../defuns.html#def-args" data-sym="ARGS">args</a>)
          pt))
      ((<a class="sym-link system" href="../../axioms.html#def-mv" data-sym="MV">mv</a> kwd-alist prop-rest) (extract-keywords ctx
          *property-keywords*
          <a class="sym-link system" href="../../defuns.html#def-args" data-sym="ARGS">args</a>
          pt
          nil))
      (debug? (get1 <span class="keyword">:debug?</span> kwd-alist))
      (debug-all? (== debug? <span class="keyword">:all</span>))
      (<a class="sym-link system" href="../../axioms.html#def--" data-sym="-">-</a> (cw? debug-all?
          <span class="string">"~%**prop-rest is: ~x0~%"</span>
          prop-rest))
      (<a class="sym-link system" href="../../axioms.html#def--" data-sym="-">-</a> (cw? debug-all?
          <span class="string">"~|**kwd-alist is: ~x0~%"</span>
          kwd-alist))
      (vars? (<a class="sym-link system" href="../../axioms.html#def-assoc" data-sym="ASSOC">assoc</a> <span class="keyword">:vars</span> kwd-alist))
      (<a class="sym-link system" href="../../axioms.html#def--" data-sym="-">-</a> (cw? debug-all?
          <span class="string">"~|**vars? is: ~x0~%"</span>
          vars?))
      ((when (<a class="sym-link system" href="../../axioms.html#def-and" data-sym="AND">and</a> (! vars?)
           (! (proper-argsp (car prop-rest))))) (ecw <span class="string">"~%**ERROR: The argument list: ~x0 is not well-formed."</span>
          (car prop-rest)
          nil))
      (ivars? (<a class="sym-link system" href="../../axioms.html#def-and" data-sym="AND">and</a> (! vars?)
          (cons <span class="keyword">:vars</span> (process-typed-args (car prop-rest)))))
      (vars? (<a class="sym-link system" href="../../axioms.html#def-or" data-sym="OR">or</a> vars? ivars?))
      (<a class="sym-link system" href="../../axioms.html#def--" data-sym="-">-</a> (cw? debug-all?
          <span class="string">"~|**vars? is: ~x0~%"</span>
          vars?))
      (prop-rest (if ivars?
          (cdr prop-rest)
          prop-rest))
      (hyps? (<a class="sym-link system" href="../../axioms.html#def-assoc" data-sym="ASSOC">assoc</a> <span class="keyword">:hyps</span> kwd-alist))
      (hyps? (<a class="sym-link system" href="../../axioms.html#def-or" data-sym="OR">or</a> hyps? (<a class="sym-link system" href="../../axioms.html#def-assoc" data-sym="ASSOC">assoc</a> <span class="keyword">:h</span> kwd-alist)))
      (body? (<a class="sym-link system" href="../../axioms.html#def-assoc" data-sym="ASSOC">assoc</a> <span class="keyword">:body</span> kwd-alist))
      (body? (<a class="sym-link system" href="../../axioms.html#def-or" data-sym="OR">or</a> body? (<a class="sym-link system" href="../../axioms.html#def-assoc" data-sym="ASSOC">assoc</a> <span class="keyword">:b</span> kwd-alist)))
      (check-contracts? (get1 <span class="keyword">:check-contracts?</span> kwd-alist))
      (test-contracts? (get1 <span class="keyword">:test-contracts?</span> kwd-alist))
      (<a class="sym-link system" href="../../basis-b.html#def-body" data-sym="BODY">body</a> (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> (body? (<a class="sym-link system" href="../../axioms.html#def-or" data-sym="OR">or</a> (get1 <span class="keyword">:body</span> kwd-alist)
              (get1 <span class="keyword">:b</span> kwd-alist)))
          (hyps? (car prop-rest))
          (<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> (extract-body (car prop-rest)))))
      (hyps-list (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> (hyps? (hyps-list-from-hyps (<a class="sym-link system" href="../../axioms.html#def-or" data-sym="OR">or</a> (get1 <span class="keyword">:hyps</span> kwd-alist)
                (get1 <span class="keyword">:h</span> kwd-alist))))
          (body? nil)))
      ((<a class="sym-link system" href="../../axioms.html#def-mv" data-sym="MV">mv</a> erp pt-hyps-list) (if (<a class="sym-link system" href="../../axioms.html#def-or" data-sym="OR">or</a> hyps? body?)
          (<a class="sym-link system" href="../../axioms.html#def-mv" data-sym="MV">mv</a> nil nil)
          (pseudo-translate (car prop-rest) nil wrld)))
      ((when erp) (ecw <span class="string">"~%**ERROR: The translation of hyps: ~
              ~x0 ~
              resulted in an error."</span>
          (car prop-rest)
          nil))
      (hyps-list (if pt-hyps-list
          (extract-hyps pt-hyps-list)
          hyps-list))
      (find-duplicate-hyp (find-first-duplicate hyps-list))
      (<a class="sym-link system" href="../../axioms.html#def--" data-sym="-">-</a> (cw? find-duplicate-hyp
          <span class="string">"~%**Warning: Your property has a duplicate hypothesis, ~x0. ~
                ~%**This may indicate an error.~%"</span>
          find-duplicate-hyp))
      (hyps-list (remove-dups hyps-list))
      (user-var-list (cdr vars?))
      (user-vars (<a class="sym-link system" href="../../axioms.html#def-evens" data-sym="EVENS">evens</a> user-var-list))
      (user-types (<a class="sym-link system" href="../../axioms.html#def-odds" data-sym="ODDS">odds</a> user-var-list))
      (user-types (map-intern-types user-types pkg))
      (<a class="sym-link system" href="../../axioms.html#def--" data-sym="-">-</a> (cw? debug-all?
          <span class="string">"~|**user-types is: ~x0~%"</span>
          user-types))
      (user-preds (map-preds user-types tbl atbl))
      (<a class="sym-link system" href="../../axioms.html#def--" data-sym="-">-</a> (cw? debug-all?
          <span class="string">"~|**user-preds is: ~x0~%"</span>
          user-preds))
      (bad-type (find-bad-d-arg-types user-types
          user-preds))
      ((when bad-type) (ecw <span class="string">"~%**ERROR: One of the argument types, ~x0, is not a type."</span>
          bad-type
          nil))
      (type-list1 (make-input-contract user-vars
          user-preds))
      (type-list (hyps-list-from-hyps type-list1))
      (type-hyps-list (<a class="sym-link system" href="../../axioms.html#def-append" data-sym="APPEND">append</a> type-list hyps-list))
      (<a class="sym-link system" href="../../axioms.html#def--" data-sym="-">-</a> (cw? debug-all?
          <span class="string">"~|**type-hyps-list is: ~x0~%"</span>
          type-hyps-list))
      (prop (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../axioms.html#def-endp" data-sym="ENDP">endp</a> type-hyps-list) <a class="sym-link system" href="../../basis-b.html#def-body" data-sym="BODY">body</a>)
          ((<a class="sym-link system" href="../../axioms.html#def-endp" data-sym="ENDP">endp</a> (cdr type-hyps-list)) `(<a class="sym-link system" href="../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> ,(CAR ACL2S::TYPE-HYPS-LIST) ,ACL2S::BODY))
          (<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> `(<a class="sym-link system" href="../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../axioms.html#def-and" data-sym="AND">and</a> ,@ACL2S::TYPE-HYPS-LIST) ,ACL2S::BODY))))
      ((<a class="sym-link system" href="../../axioms.html#def-mv" data-sym="MV">mv</a> erp trans-prop) (pseudo-translate prop nil wrld))
      (<a class="sym-link system" href="../../axioms.html#def-all-vars" data-sym="ALL-VARS">all-vars</a> (<a class="sym-link system" href="../../axioms.html#def-all-vars" data-sym="ALL-VARS">all-vars</a> trans-prop))
      (vars (if vars?
          user-vars
          <a class="sym-link system" href="../../axioms.html#def-all-vars" data-sym="ALL-VARS">all-vars</a>))
      (<a class="sym-link system" href="../../axioms.html#def--" data-sym="-">-</a> (cw? debug-all?
          <span class="string">"~|**vars is: ~x0~%"</span>
          vars))
      (<a class="sym-link system" href="../../axioms.html#def--" data-sym="-">-</a> (cw? debug-all?
          <span class="string">"~|**all-vars is: ~x0~%"</span>
          <a class="sym-link system" href="../../axioms.html#def-all-vars" data-sym="ALL-VARS">all-vars</a>))
      (var-diff (sym-diff vars <a class="sym-link system" href="../../axioms.html#def-all-vars" data-sym="ALL-VARS">all-vars</a>))
      (<a class="sym-link system" href="../../axioms.html#def--" data-sym="-">-</a> (cw? debug-all?
          <span class="string">"~|**prop is: ~x0~%"</span>
          prop))
      (<a class="sym-link system" href="../../axioms.html#def--" data-sym="-">-</a> (cw? debug-all?
          <span class="string">"~|**trans-prop is: ~x0~%"</span>
          trans-prop))
      (parsed (<a class="sym-link system" href="../../axioms.html#def-list" data-sym="LIST">list</a> name? name prop kwd-alist))
      ((when erp) (ecw <span class="string">"~%**ERROR: The translation of prop: ~
              ~x0 ~
              resulted in an error."</span>
          prop
          parsed))
      ((unless (<a class="sym-link system" href="../../axioms.html#def-or" data-sym="OR">or</a> (consp prop-rest) body?)) (ecw <span class="string">"~%**ERROR: Empty properties are not allowed."</span>
          parsed))
      ((when var-diff) (ecw <span class="string">"~%**ERROR: The :vars provided do not match the actual variables ~
                appearing in the property. An example is ~x0."</span>
          (car var-diff)
          parsed))
      (gprop (<a class="sym-link system" href="../../history-management.html#def-sublis-fn-simple" data-sym="SUBLIS-FN-SIMPLE">sublis-fn-simple</a> '((<a class="sym-link system" href="../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> . impliez))
          trans-prop))
      (<a class="sym-link system" href="../../axioms.html#def--" data-sym="-">-</a> (cw? debug-all?
          <span class="string">"~|**gprop is: ~x0~%"</span>
          gprop))
      ((<a class="sym-link system" href="../../axioms.html#def-mv" data-sym="MV">mv</a> gc-erp val) (if check-contracts?
          (<a class="sym-link system" href="../../defuns.html#def-guard-obligation" data-sym="GUARD-OBLIGATION">guard-obligation</a> gprop
            nil
            nil
            <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>
            ctx
            state)
          (<a class="sym-link system" href="../../defuns.html#def-guard-obligation" data-sym="GUARD-OBLIGATION">guard-obligation</a> <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>
            nil
            nil
            <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>
            ctx
            state)))
      ((<a class="sym-link system" href="../../axioms.html#def-list_2A" data-sym="LIST*">list*</a> &amp; cl &amp;) val)
      (gc-guards (if gc-erp
          <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>
          (prettyify-clause-set cl nil wrld)))
      (check-guards (if (<a class="sym-link system" href="../../axioms.html#def-and" data-sym="AND">and</a> check-contracts? (<a class="sym-link system" href="../../axioms.html#def-not" data-sym="NOT">not</a> gc-erp))
          gc-guards
          <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>))
      ((<a class="sym-link system" href="../../axioms.html#def-mv" data-sym="MV">mv</a> gt-erp val) (if test-contracts?
          (guard-obligation-testing gprop
            nil
            nil
            <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>
            ctx
            state)
          (<a class="sym-link system" href="../../defuns.html#def-guard-obligation" data-sym="GUARD-OBLIGATION">guard-obligation</a> <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>
            nil
            nil
            <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>
            ctx
            state)))
      ((when gt-erp) (ecw <span class="string">"~%**ERROR Determining Contract Checking Proof Obligation.** ~
              ~%**val is: ~x0"</span>
          val
          parsed))
      ((<a class="sym-link system" href="../../axioms.html#def-list_2A" data-sym="LIST*">list*</a> &amp; cl &amp;) val)
      (gt-guards (prettyify-clause-set cl nil wrld))
      (test-guards (if test-contracts?
          gt-guards
          <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>))
      (<a class="sym-link system" href="../../axioms.html#def--" data-sym="-">-</a> (cw? debug?
          <span class="string">"~|**The Original Contract Checking Proof Obligation is: ~x0~%"</span>
          gc-guards))
      (<a class="sym-link system" href="../../axioms.html#def--" data-sym="-">-</a> (cw? debug?
          <span class="string">"~|**The Original Contract Testing Proof Obligation is: ~x0~%"</span>
          gt-guards))
      (<a class="sym-link system" href="../../axioms.html#def--" data-sym="-">-</a> (cw? debug?
          <span class="string">"~|**The Contract Checking Proof Obligation is: ~x0~%"</span>
          check-guards))
      (<a class="sym-link system" href="../../axioms.html#def--" data-sym="-">-</a> (cw? debug?
          <span class="string">"~|**The Contract Testing Proof Obligation is: ~x0~%"</span>
          test-guards))
      (proof-timeout (get1 <span class="keyword">:proof-timeout</span> kwd-alist))
      (testing-timeout (get1 <span class="keyword">:testing-timeout</span> kwd-alist))
      (<a class="sym-link system" href="../../axioms.html#def--" data-sym="-">-</a> (cw? (<a class="sym-link system" href="../../axioms.html#def-and" data-sym="AND">and</a> check-contracts? (<a class="sym-link system" href="../../axioms.html#def-not" data-sym="NOT">not</a> gc-erp))
          <span class="string">"~%Form:  ( CONTRACT-CHECKING PROPERTY ...)"</span>))
      (<a class="sym-link system" href="../../axioms.html#def--" data-sym="-">-</a> (<a class="sym-link system" href="../../axioms.html#def-cw" data-sym="CW">cw</a> <span class="string">"~%"</span>))
      ((<a class="sym-link system" href="../../axioms.html#def-mv" data-sym="MV">mv</a> te-thm-erp val state) (if (<a class="sym-link system" href="../../axioms.html#def-and" data-sym="AND">and</a> check-contracts? (<a class="sym-link system" href="../../axioms.html#def-not" data-sym="NOT">not</a> gc-erp))
          (with-time-limit proof-timeout
            (trans-eval `(<a class="sym-link system" href="../../axioms.html#def-with-output" data-sym="WITH-OUTPUT">with-output</a> ,@(IF ACL2S::DEBUG?
      &#39;(:ON :ALL :SUMMARY-ON :ALL :GAG-MODE NIL :OFF
        (ACL2S::PROOF-BUILDER ACL2S::PROOF-TREE))
      (IF ACL2S::CHECK-CONTRACTS?
          &#39;(:OFF :ALL :ON (ACL2S::SUMMARY ACL2S::COMMENT) :SUMMARY-ON :ALL
            :SUMMARY-OFF (:OTHER-THAN TIME))
          &#39;(:OFF :ALL :SUMMARY-OFF :ALL :ON ACL2S::COMMENT)))
                (thm-no-test ,ACL2S::CHECK-GUARDS))
              ctx
              state
              <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>))
          (<a class="sym-link system" href="../../axioms.html#def-mv" data-sym="MV">mv</a> nil nil state)))
      ((<a class="sym-link system" href="../../axioms.html#def-list_2A" data-sym="LIST*">list*</a> &amp; thm-erp &amp;) val)
      (<a class="sym-link system" href="../../axioms.html#def--" data-sym="-">-</a> (cw? debug-all?
          <span class="string">"~|**te-thm-erp is: ~x0~%"</span>
          te-thm-erp))
      (<a class="sym-link system" href="../../axioms.html#def--" data-sym="-">-</a> (cw? debug-all?
          <span class="string">"~|**val is: ~x0~%"</span>
          val))
      (<a class="sym-link system" href="../../axioms.html#def--" data-sym="-">-</a> (cw? debug-all?
          <span class="string">"~|**thm-erp is: ~x0~%"</span>
          thm-erp))
      (<a class="sym-link system" href="../../axioms.html#def--" data-sym="-">-</a> (cw? thm-erp
          <span class="string">"~%**ERROR During Contract Checking.** ~
              ~|**The Contract Checking Proof Obligation is: ~x0"</span>
          check-guards))
      (<a class="sym-link system" href="../../axioms.html#def--" data-sym="-">-</a> (cw? (<a class="sym-link system" href="../../axioms.html#def-and" data-sym="AND">and</a> test-contracts?
            (<a class="sym-link system" href="../../axioms.html#def-or" data-sym="OR">or</a> thm-erp
              gc-erp
              (<a class="sym-link system" href="../../axioms.html#def-not" data-sym="NOT">not</a> check-contracts?)))
          <span class="string">"~%Form:  ( TESTING PROPERTY CONTRACTS ...)"</span>))
      ((<a class="sym-link system" href="../../axioms.html#def-mv" data-sym="MV">mv</a> te-test-erp val state) (if (<a class="sym-link system" href="../../axioms.html#def-and" data-sym="AND">and</a> test-contracts?
            (<a class="sym-link system" href="../../axioms.html#def-or" data-sym="OR">or</a> thm-erp
              gc-erp
              (<a class="sym-link system" href="../../axioms.html#def-not" data-sym="NOT">not</a> check-contracts?)))
          (with-time-limit testing-timeout
            (trans-eval `(<a class="sym-link system" href="../../axioms.html#def-with-output" data-sym="WITH-OUTPUT">with-output</a> ,@(IF ACL2S::DEBUG?
      &#39;(:ON :ALL :OFF (ACL2S::PROOF-BUILDER ACL2S::PROOF-TREE) :GAG-MODE NIL)
      &#39;(:OFF :ALL :ON (ERROR ACL2S::COMMENT)))
                (test? ,ACL2S::TEST-GUARDS
                  ,@(IF ACL2S::DEBUG?
      &#39;NIL
      &#39;(:PRINT-CGEN-SUMMARY NIL :NUM-WITNESSES 0))))
              ctx
              state
              <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>))
          (<a class="sym-link system" href="../../axioms.html#def-mv" data-sym="MV">mv</a> nil nil state)))
      ((<a class="sym-link system" href="../../axioms.html#def-list_2A" data-sym="LIST*">list*</a> &amp; test-erp &amp;) val)
      (<a class="sym-link system" href="../../axioms.html#def--" data-sym="-">-</a> (cw? debug-all?
          <span class="string">"~|**te-test-erp is: ~x0~%"</span>
          te-test-erp))
      (<a class="sym-link system" href="../../axioms.html#def--" data-sym="-">-</a> (cw? debug-all?
          <span class="string">"~|**val is: ~x0~%"</span>
          val))
      (<a class="sym-link system" href="../../axioms.html#def--" data-sym="-">-</a> (cw? debug-all?
          <span class="string">"~|**test-erp is: ~x0~%"</span>
          test-erp))
      ((when gc-erp) (ecw <span class="string">"~%**ERROR Determining Contract Checking Proof Obligation.** ~
              ~%**val is: ~x0"</span>
          val
          parsed))
      ((when test-erp) (ecw <span class="string">"~%**Contract Testing Error. The hypotheses of your property must imply:~
~%  ~x0.~
~%The counterexample above shows that this is not the case."</span>
          test-guards
          parsed))
      ((when thm-erp) (ecw <span class="string">"~%**Contract Checking Error. The hypotheses of your property must imply:~
~%  ~x0."</span>
          check-guards
          parsed)))
    (<a class="sym-link system" href="../../axioms.html#def-value" data-sym="VALUE">value</a> parsed)))</pre>
  </div>

<div class="form-block function" id="def-contract-check" data-defines="CONTRACT-CHECK" data-references="VALUE,TEST-ERP,TEST?,ERROR,IF,TE-TEST-ERP,THM-ERP,THM-NO-TEST,ENCAPSULATE,TIME,COMMENT,SUMMARY,WITH-OUTPUT,QUASIQUOTE,TRANS-EVAL,WITH-TIME-LIMIT,TE-THM-ERP,CGEN-TIMEOUT,CGET,TIMEOUT,CONS,MAKE-CGEN-STATE-FN,CGEN-STATE,PRETTYIFY-CLAUSE-SET,GUARDS,CL,&,LIST*,SOFT,ER,WHEN,GUARD-OBLIGATION,VAL,ERP,MV,IMPLIEZ,IMPLIES,SUBLIS-FN-SIMPLE,GPROP,T,CW?,-,PROP,QUOTE,CTX,W,WRLD,B*,XARGS,DECLARE,STATE,KWD-VAL-LST,FORM,DEFUN" data-part-name="CONTRACT-CHECK" data-part-args="STATE,KWD-VAL-LST,FORM" data-part-declare="STATE,XARGS,DECLARE" data-part-body="VALUE,TEST-ERP,TEST?,ERROR,IF,TE-TEST-ERP,THM-ERP,THM-NO-TEST,ENCAPSULATE,TIME,COMMENT,SUMMARY,WITH-OUTPUT,QUASIQUOTE,TRANS-EVAL,WITH-TIME-LIMIT,TE-THM-ERP,CGEN-TIMEOUT,CGET,TIMEOUT,KWD-VAL-LST,CONS,MAKE-CGEN-STATE-FN,CGEN-STATE,PRETTYIFY-CLAUSE-SET,GUARDS,CL,&,LIST*,SOFT,ER,WHEN,GUARD-OBLIGATION,VAL,ERP,MV,IMPLIEZ,IMPLIES,SUBLIS-FN-SIMPLE,GPROP,T,CW?,-,FORM,PROP,CONTRACT-CHECK,QUOTE,CTX,STATE,W,WRLD,B*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CONTRACT-CHECK">contract-check</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-contract-check" data-sym="CONTRACT-CHECK" title="(defun acl2s::contract-check (acl2s::form acl2s::kwd-val-lst acl2s::state)
  (declare (acl2s::xargs :mode :program :stobjs (acl2s::state)))
  (acl2s::b*
   ((acl2s::wrld (acl2s::w acl2s::state)) (acl2s::ctx &#39;acl2s::contract-check)
    (acl2s::prop acl2s::form)
...">contract-check</a>
  (form kwd-val-lst state)
  (declare (xargs <span class="keyword">:mode</span> <span class="keyword">:program</span> <span class="keyword">:stobjs</span> (state)))
  (b* ((wrld (<a class="sym-link system" href="../../axioms.html#def-w" data-sym="W">w</a> state)) (ctx '<a class="sym-link local-def" href="#def-contract-check" data-sym="CONTRACT-CHECK" title="(defun acl2s::contract-check (acl2s::form acl2s::kwd-val-lst acl2s::state)
  (declare (acl2s::xargs :mode :program :stobjs (acl2s::state)))
  (acl2s::b*
   ((acl2s::wrld (acl2s::w acl2s::state)) (acl2s::ctx &#39;acl2s::contract-check)
    (acl2s::prop acl2s::form)
...">contract-check</a>)
      (prop form)
      (<a class="sym-link system" href="../../axioms.html#def--" data-sym="-">-</a> (cw? <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> <span class="string">"~%**Property is: ~x0~%"</span> prop))
      (gprop (<a class="sym-link system" href="../../history-management.html#def-sublis-fn-simple" data-sym="SUBLIS-FN-SIMPLE">sublis-fn-simple</a> '((<a class="sym-link system" href="../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> . impliez))
          prop))
      ((<a class="sym-link system" href="../../axioms.html#def-mv" data-sym="MV">mv</a> erp val) (<a class="sym-link system" href="../../defuns.html#def-guard-obligation" data-sym="GUARD-OBLIGATION">guard-obligation</a> gprop
          nil
          nil
          <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>
          ctx
          state))
      ((when erp) (<a class="sym-link system" href="../../axioms.html#def-er" data-sym="ER">er</a> soft
          ctx
          <span class="string">"~|**ERROR During Contract Checking.**"</span>))
      ((<a class="sym-link system" href="../../axioms.html#def-list_2A" data-sym="LIST*">list*</a> &amp; cl &amp;) val)
      (guards (prettyify-clause-set cl nil wrld))
      (<a class="sym-link system" href="../../axioms.html#def--" data-sym="-">-</a> (cw? <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>
          <span class="string">"~|**The Contract Completion Proof Obligation is: ~x0~%"</span>
          guards))
      (<a class="sym-link system" href="../../axioms.html#def--" data-sym="-">-</a> (cw? <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>
          <span class="string">"~%Form:  ( CONTRACT-CHECKING PROPERTY ...)~%"</span>))
      (cgen-state (make-cgen-state-fn form
          (cons <span class="keyword">:user-defined</span> ctx)
          kwd-val-lst
          (<a class="sym-link system" href="../../axioms.html#def-w" data-sym="W">w</a> state)))
      (timeout (cget cgen-timeout))
      ((<a class="sym-link system" href="../../axioms.html#def-mv" data-sym="MV">mv</a> te-thm-erp val state) (with-time-limit timeout
          (trans-eval `(<a class="sym-link system" href="../../axioms.html#def-with-output" data-sym="WITH-OUTPUT">with-output</a> <span class="keyword">:off</span> <span class="keyword">:all</span> <span class="keyword">:on</span> (summary <a class="sym-link system" href="../../rewrite.html#def-comment" data-sym="COMMENT">comment</a>)
              <span class="keyword">:summary-off</span> (<span class="keyword">:other-than</span> time)
              <span class="keyword">:gag-mode</span> nil
              (<a class="sym-link system" href="../../axioms.html#def-encapsulate" data-sym="ENCAPSULATE">encapsulate</a> nil
                (<a class="sym-link system" href="../../axioms.html#def-with-output" data-sym="WITH-OUTPUT">with-output</a> <span class="keyword">:off</span> <span class="keyword">:all</span> <span class="keyword">:on</span> <a class="sym-link system" href="../../rewrite.html#def-comment" data-sym="COMMENT">comment</a>
                  (thm-no-test ,ACL2S::GUARDS))))
            ctx
            state
            <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>)))
      ((<a class="sym-link system" href="../../axioms.html#def-list_2A" data-sym="LIST*">list*</a> &amp; thm-erp &amp;) val)
      (<a class="sym-link system" href="../../axioms.html#def--" data-sym="-">-</a> (cw? <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>
          <span class="string">"~|**trans-eval-thm-erp is: ~x0~%"</span>
          te-thm-erp))
      (<a class="sym-link system" href="../../axioms.html#def--" data-sym="-">-</a> (cw? <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> <span class="string">"~|**val is: ~x0~%"</span> val))
      (<a class="sym-link system" href="../../axioms.html#def--" data-sym="-">-</a> (cw? <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> <span class="string">"~|**thm-erp is: ~x0~%"</span> thm-erp))
      (<a class="sym-link system" href="../../axioms.html#def--" data-sym="-">-</a> (cw? thm-erp
          <span class="string">"~|Form:  ( TESTING PROPERTY CONTRACTS ...)"</span>))
      ((<a class="sym-link system" href="../../axioms.html#def-mv" data-sym="MV">mv</a> te-test-erp val state) (if thm-erp
          (with-time-limit timeout
            (trans-eval `(<a class="sym-link system" href="../../axioms.html#def-with-output" data-sym="WITH-OUTPUT">with-output</a> <span class="keyword">:off</span> <span class="keyword">:all</span> <span class="keyword">:on</span> (error <a class="sym-link system" href="../../rewrite.html#def-comment" data-sym="COMMENT">comment</a>)
                (test? ,ACL2S::GUARDS
                  <span class="keyword">:print-cgen-summary</span> nil
                  <span class="keyword">:num-witnesses</span> <span class="number">0</span>))
              ctx
              state
              <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>))
          (<a class="sym-link system" href="../../axioms.html#def-mv" data-sym="MV">mv</a> nil nil state)))
      ((<a class="sym-link system" href="../../axioms.html#def-list_2A" data-sym="LIST*">list*</a> &amp; test-erp &amp;) val)
      (<a class="sym-link system" href="../../axioms.html#def--" data-sym="-">-</a> (cw? <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>
          <span class="string">"~|**trans-eval-test-erp is: ~x0~%"</span>
          te-test-erp))
      (<a class="sym-link system" href="../../axioms.html#def--" data-sym="-">-</a> (cw? <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> <span class="string">"~|**val is: ~x0~%"</span> val))
      (<a class="sym-link system" href="../../axioms.html#def--" data-sym="-">-</a> (cw? <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> <span class="string">"~|**test-erp is: ~x0~%"</span> test-erp))
      ((when test-erp) (<a class="sym-link system" href="../../axioms.html#def-er" data-sym="ER">er</a> soft
          ctx
          <span class="string">"~%**Contract Completion Error. The hypotheses of your property must imply:~
~%  ~x0.~
~%The counterexample above shows that this is not the case."</span>
          guards))
      ((when thm-erp) (<a class="sym-link system" href="../../axioms.html#def-er" data-sym="ER">er</a> soft
          ctx
          <span class="string">"~%**Contract Completion Error. The hypotheses of your property must imply:~
~%  ~x0."</span>
          guards)))
    (<a class="sym-link system" href="../../axioms.html#def-value" data-sym="VALUE">value</a> <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>)))</pre>
  </div>

<div class="form-block other" id="form-24" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(definec gen-other-keywords-aux
  (alist <span class="keyword">:alist</span> aux <span class="keyword">:tl</span>)
  <span class="keyword">:tl</span> (if (<a class="sym-link system" href="../../axioms.html#def-endp" data-sym="ENDP">endp</a> alist)
    aux
    (gen-other-keywords-aux (cdr alist)
      `(,(CAAR ACL2S::ALIST) ,(CDAR ACL2S::ALIST) . ,ACL2S::AUX))))</pre>
  </div>

<div class="form-block other" id="form-25" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(definec gen-other-keywords
  (alist <span class="keyword">:alist</span>)
  <span class="keyword">:tl</span> (gen-other-keywords-aux alist nil))</pre>
  </div>

<div class="form-block function" id="def-property-core" data-defines="PROPERTY-CORE" data-references="DEFTHMSKIPALL,TEST?,DEFTHM-TEST-NO-PROOF,WITH-TIME-LIMIT,CW,VALUE-TRIPLE,ENCAPSULATE,TIME,SUMMARY,COMMENT,WITH-OUTPUT,QUASIQUOTE,WHEN,LIST*,ARGS,GEN-OTHER-KEYWORDS,FLAT-KWDS,CW?,-,*PROPERTY-CONJECTURE-KEYWORDS*,*PROPERTY-CORE-KEYWORDS*,*PROPERTY-JUST-DEFTHM-KEYWORDS*,IF,APPEND,REMOVE1-ASSOC-EQ-LST,OTHER-KWDS,THM-NO-TEST,T,THM,DEFTHM-NO-TEST,DEFTHM,QUOTE,AND,COND,PROVE,TESTING-TIMEOUT,PROOF-TIMEOUT,==,DEBUG-ALL?,DEBUG?,TESTING?,GET1,PROOFS?,KWD-ALIST,PROP,NAME,NAME?,LIST,B*,XARGS,DECLARE,PARSED,DEFUN" data-part-name="PROPERTY-CORE" data-part-args="PARSED" data-part-declare="XARGS,DECLARE" data-part-body="DEFTHMSKIPALL,TEST?,DEFTHM-TEST-NO-PROOF,WITH-TIME-LIMIT,CW,VALUE-TRIPLE,ENCAPSULATE,TIME,SUMMARY,COMMENT,WITH-OUTPUT,QUASIQUOTE,WHEN,LIST*,ARGS,GEN-OTHER-KEYWORDS,FLAT-KWDS,CW?,-,*PROPERTY-CONJECTURE-KEYWORDS*,*PROPERTY-CORE-KEYWORDS*,*PROPERTY-JUST-DEFTHM-KEYWORDS*,IF,APPEND,REMOVE1-ASSOC-EQ-LST,OTHER-KWDS,THM-NO-TEST,T,THM,DEFTHM-NO-TEST,DEFTHM,QUOTE,AND,COND,PROVE,TESTING-TIMEOUT,PROOF-TIMEOUT,==,DEBUG-ALL?,DEBUG?,TESTING?,GET1,PROOFS?,PARSED,KWD-ALIST,PROP,NAME,NAME?,LIST,B*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="PROPERTY-CORE">property-core</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-property-core" data-sym="PROPERTY-CORE" title="(defun acl2s::property-core (acl2s::parsed)
  (declare (acl2s::xargs :mode :program))
  (acl2s::b*
   (((list acl2s::name? acl2s::name acl2s::prop acl2s::kwd-alist)
     acl2s::parsed)
...">property-core</a>
  (parsed)
  (declare (xargs <span class="keyword">:mode</span> <span class="keyword">:program</span>))
  (b* (((<a class="sym-link system" href="../../axioms.html#def-list" data-sym="LIST">list</a> name? name prop kwd-alist) parsed) (proofs? (get1 <span class="keyword">:proofs?</span> kwd-alist))
      (testing? (get1 <span class="keyword">:testing?</span> kwd-alist))
      (debug? (get1 <span class="keyword">:debug?</span> kwd-alist))
      (debug-all? (== debug? <span class="keyword">:all</span>))
      (proof-timeout (get1 <span class="keyword">:proof-timeout</span> kwd-alist))
      (testing-timeout (get1 <span class="keyword">:testing-timeout</span> kwd-alist))
      (<a class="sym-link system" href="../../prove.html#def-prove" data-sym="PROVE">prove</a> (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../axioms.html#def-and" data-sym="AND">and</a> name? testing?) '<a class="sym-link system" href="../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a>)
          (name? 'defthm-no-test)
          (testing? '<a class="sym-link system" href="../../defthm.html#def-thm" data-sym="THM">thm</a>)
          (<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> 'thm-no-test)))
      (other-kwds (<a class="sym-link system" href="../../prove.html#def-remove1-assoc-eq-lst" data-sym="REMOVE1-ASSOC-EQ-LST">remove1-assoc-eq-lst</a> (<a class="sym-link system" href="../../axioms.html#def-append" data-sym="APPEND">append</a> (if name?
              nil
              *property-just-defthm-keywords*)
            *property-core-keywords*
            *property-conjecture-keywords*)
          kwd-alist))
      (<a class="sym-link system" href="../../axioms.html#def--" data-sym="-">-</a> (cw? debug-all?
          <span class="string">"~|Kwd-alist: ~x0~%"</span>
          kwd-alist))
      (<a class="sym-link system" href="../../axioms.html#def--" data-sym="-">-</a> (cw? debug-all?
          <span class="string">"~|Other-kwds: ~x0~%"</span>
          other-kwds))
      (flat-kwds (gen-other-keywords other-kwds))
      (<a class="sym-link system" href="../../axioms.html#def--" data-sym="-">-</a> (cw? debug-all?
          <span class="string">"~|Flat-kwds: ~x0~%"</span>
          flat-kwds))
      (<a class="sym-link system" href="../../defuns.html#def-args" data-sym="ARGS">args</a> (if name?
          (<a class="sym-link system" href="../../axioms.html#def-list_2A" data-sym="LIST*">list*</a> name prop flat-kwds)
          (<a class="sym-link system" href="../../axioms.html#def-list_2A" data-sym="LIST*">list*</a> prop flat-kwds)))
      ((when proofs?) `(<a class="sym-link system" href="../../axioms.html#def-with-output" data-sym="WITH-OUTPUT">with-output</a> <span class="keyword">:off</span> <span class="keyword">:all</span> <span class="keyword">:on</span> (<a class="sym-link system" href="../../rewrite.html#def-comment" data-sym="COMMENT">comment</a> summary)
          <span class="keyword">:summary-on</span> <span class="keyword">:all</span> <span class="keyword">:summary-off</span> (<span class="keyword">:other-than</span> time)
          (<a class="sym-link system" href="../../axioms.html#def-encapsulate" data-sym="ENCAPSULATE">encapsulate</a> nil
            (<a class="sym-link system" href="../../axioms.html#def-value-triple" data-sym="VALUE-TRIPLE">value-triple</a> (<a class="sym-link system" href="../../axioms.html#def-cw" data-sym="CW">cw</a> <span class="string">"~|Form:  ( PROVING PROPERTY )~%"</span>))
            (with-time-limit ,ACL2S::PROOF-TIMEOUT
              (<a class="sym-link system" href="../../axioms.html#def-with-output" data-sym="WITH-OUTPUT">with-output</a> ,@(IF ACL2S::DEBUG?
      &#39;(:ON :ALL :OFF (ACL2S::PROOF-BUILDER ACL2S::PROOF-TREE) :SUMMARY-ON :ALL
        :GAG-MODE NIL)
      &#39;(:STACK :POP :ON (ERROR ACL2S::SUMMARY ACL2S::COMMENT) :SUMMARY-ON :ALL
        :SUMMARY-OFF (:OTHER-THAN TIME ACL2S::RULES ACL2S::WARNINGS)))
                (,ACL2S::PROVE ,@ACL2S::ARGS)))
            (<a class="sym-link system" href="../../axioms.html#def-value-triple" data-sym="VALUE-TRIPLE">value-triple</a> (<a class="sym-link system" href="../../axioms.html#def-cw" data-sym="CW">cw</a> <span class="string">"~|Form:  ( ACCEPTED PROPERTY AS THEOREM )~%"</span>)))))
      ((when (<a class="sym-link system" href="../../axioms.html#def-and" data-sym="AND">and</a> testing? name?)) `(<a class="sym-link system" href="../../axioms.html#def-with-output" data-sym="WITH-OUTPUT">with-output</a> <span class="keyword">:off</span> <span class="keyword">:all</span> <span class="keyword">:on</span> (<a class="sym-link system" href="../../rewrite.html#def-comment" data-sym="COMMENT">comment</a> summary)
          <span class="keyword">:summary-on</span> <span class="keyword">:all</span> <span class="keyword">:summary-off</span> (<span class="keyword">:other-than</span> time)
          (<a class="sym-link system" href="../../axioms.html#def-encapsulate" data-sym="ENCAPSULATE">encapsulate</a> nil
            (<a class="sym-link system" href="../../axioms.html#def-value-triple" data-sym="VALUE-TRIPLE">value-triple</a> (<a class="sym-link system" href="../../axioms.html#def-cw" data-sym="CW">cw</a> <span class="string">"~|Form:  ( TESTING PROPERTY )~%"</span>))
            (with-time-limit ,ACL2S::TESTING-TIMEOUT
              (<a class="sym-link system" href="../../axioms.html#def-with-output" data-sym="WITH-OUTPUT">with-output</a> ,@(IF ACL2S::DEBUG?
      &#39;(:ON :ALL :OFF (ACL2S::PROOF-BUILDER ACL2S::PROOF-TREE) :SUMMARY-ON :ALL
        :GAG-MODE NIL)
      &#39;(:STACK :POP :ON (ERROR ACL2S::SUMMARY ACL2S::COMMENT) :SUMMARY-ON :ALL
        :SUMMARY-OFF (:OTHER-THAN TIME ACL2S::RULES ACL2S::WARNINGS)))
                (defthm-test-no-proof ,@ACL2S::ARGS)))
            (<a class="sym-link system" href="../../axioms.html#def-value-triple" data-sym="VALUE-TRIPLE">value-triple</a> (<a class="sym-link system" href="../../axioms.html#def-cw" data-sym="CW">cw</a> <span class="string">"~|Form:  ( ACCEPTED PROPERTY AS A THEOREM WITHOUT PROOF )~%"</span>)))))
      ((when testing?) `(<a class="sym-link system" href="../../axioms.html#def-with-output" data-sym="WITH-OUTPUT">with-output</a> <span class="keyword">:off</span> <span class="keyword">:all</span> <span class="keyword">:on</span> (<a class="sym-link system" href="../../rewrite.html#def-comment" data-sym="COMMENT">comment</a> summary)
          <span class="keyword">:summary-on</span> <span class="keyword">:all</span> <span class="keyword">:summary-off</span> (<span class="keyword">:other-than</span> time)
          (<a class="sym-link system" href="../../axioms.html#def-encapsulate" data-sym="ENCAPSULATE">encapsulate</a> nil
            (<a class="sym-link system" href="../../axioms.html#def-value-triple" data-sym="VALUE-TRIPLE">value-triple</a> (<a class="sym-link system" href="../../axioms.html#def-cw" data-sym="CW">cw</a> <span class="string">"~|Form:  ( TESTING PROPERTY )~%"</span>))
            (with-time-limit ,ACL2S::TESTING-TIMEOUT
              (<a class="sym-link system" href="../../axioms.html#def-with-output" data-sym="WITH-OUTPUT">with-output</a> ,@(IF ACL2S::DEBUG?
      &#39;(:ON :ALL :OFF (ACL2S::PROOF-BUILDER ACL2S::PROOF-TREE) :SUMMARY-ON :ALL
        :GAG-MODE NIL)
      &#39;(:OFF :ALL :ON (ERROR ACL2S::COMMENT)))
                (test? ,@ACL2S::ARGS)))
            (<a class="sym-link system" href="../../axioms.html#def-value-triple" data-sym="VALUE-TRIPLE">value-triple</a> (<a class="sym-link system" href="../../axioms.html#def-cw" data-sym="CW">cw</a> <span class="string">"~|Form:  ( PROPERTY PASSED TESTING )~%"</span>)))))
      ((when name?) `(<a class="sym-link system" href="../../axioms.html#def-with-output" data-sym="WITH-OUTPUT">with-output</a> <span class="keyword">:off</span> <span class="keyword">:all</span> <span class="keyword">:on</span> (<a class="sym-link system" href="../../rewrite.html#def-comment" data-sym="COMMENT">comment</a> summary)
          <span class="keyword">:summary-on</span> <span class="keyword">:all</span> <span class="keyword">:summary-off</span> (<span class="keyword">:other-than</span> time)
          (<a class="sym-link system" href="../../axioms.html#def-encapsulate" data-sym="ENCAPSULATE">encapsulate</a> nil
            (<a class="sym-link system" href="../../axioms.html#def-value-triple" data-sym="VALUE-TRIPLE">value-triple</a> (<a class="sym-link system" href="../../axioms.html#def-cw" data-sym="CW">cw</a> <span class="string">"~|Form:  ( ANALYZING PROPERTY )~%"</span>))
            (with-time-limit ,ACL2S::PROOF-TIMEOUT
              (<a class="sym-link system" href="../../axioms.html#def-with-output" data-sym="WITH-OUTPUT">with-output</a> ,@(IF ACL2S::DEBUG?
      &#39;(:ON :ALL :OFF (ACL2S::PROOF-BUILDER ACL2S::PROOF-TREE) :SUMMARY-ON :ALL
        :GAG-MODE NIL)
      &#39;(:STACK :POP :ON (ERROR ACL2S::SUMMARY ACL2S::COMMENT) :SUMMARY-ON :ALL
        :SUMMARY-OFF (:OTHER-THAN TIME ACL2S::WARNINGS)))
                (defthmskipall ,@ACL2S::ARGS)))
            (<a class="sym-link system" href="../../axioms.html#def-value-triple" data-sym="VALUE-TRIPLE">value-triple</a> (<a class="sym-link system" href="../../axioms.html#def-cw" data-sym="CW">cw</a> <span class="string">"~|Form:  ( ACCEPTED PROPERTY AS A THEOREM WITHOUT PROOF )~%"</span>))))))
    `(<a class="sym-link system" href="../../axioms.html#def-value-triple" data-sym="VALUE-TRIPLE">value-triple</a> <span class="keyword">:passed</span>)))</pre>
  </div>

<div class="form-block function" id="def-property-fn" data-defines="PROPERTY-FN" data-references="QUOTE,MAKE-EVENT,QUASIQUOTE,VALUE,ECW,WHEN,IF,DEBUG-HINT,GET1,DEBUG?,KWD-ALIST,-,LIST,PARSE-PROPERTY,PARSED,ERP,MV,B*,XARGS,DECLARE,STATE,ARGS,DEFUN" data-used-by="PROPERTY" data-part-name="PROPERTY-FN" data-part-args="STATE,ARGS" data-part-declare="STATE,XARGS,DECLARE" data-part-body="QUOTE,MAKE-EVENT,QUASIQUOTE,VALUE,ECW,WHEN,IF,DEBUG-HINT,GET1,DEBUG?,KWD-ALIST,-,LIST,ARGS,PARSE-PROPERTY,STATE,PARSED,ERP,MV,B*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="PROPERTY-FN">property-fn</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-property-fn" data-sym="PROPERTY-FN" title="(defun acl2s::property-fn (acl2s::args acl2s::state)
  (declare (acl2s::xargs :mode :program :stobjs (acl2s::state)))
  (acl2s::b*
   (((acl2s::mv acl2s::erp acl2s::parsed acl2s::state)
     (acl2s::parse-property acl2s::args acl2s::state))
...">property-fn</a>
  (<a class="sym-link system" href="../../defuns.html#def-args" data-sym="ARGS">args</a> state)
  (declare (xargs <span class="keyword">:mode</span> <span class="keyword">:program</span> <span class="keyword">:stobjs</span> (state)))
  (b* (((<a class="sym-link system" href="../../axioms.html#def-mv" data-sym="MV">mv</a> erp parsed state) (<a class="sym-link local-def" href="#def-parse-property" data-sym="PARSE-PROPERTY" title="(defun acl2s::parse-property (acl2s::args acl2s::state)
  (declare (acl2s::xargs :mode :program :stobjs (acl2s::state)))
  (acl2s::b*
   ((acl2s::pkg (acl2s::current-package acl2s::state))
    (acl2s::wrld (acl2s::w acl2s::state))
...">parse-property</a> <a class="sym-link system" href="../../defuns.html#def-args" data-sym="ARGS">args</a> state)) ((<a class="sym-link system" href="../../axioms.html#def-list" data-sym="LIST">list</a> <a class="sym-link system" href="../../axioms.html#def--" data-sym="-">-</a> <a class="sym-link system" href="../../axioms.html#def--" data-sym="-">-</a> <a class="sym-link system" href="../../axioms.html#def--" data-sym="-">-</a> kwd-alist) parsed)
      (debug? (get1 <span class="keyword">:debug?</span> kwd-alist))
      (debug-hint (if debug?
          <span class="string">""</span>
          <span class="string">" To debug, add &quot;:debug? t&quot; at the end of your property.~%"</span>))
      ((when erp) (ecw <span class="string">"~%~|******** PROPERTY FAILED ********~% ~@0"</span>
          debug-hint
          nil)))
    (<a class="sym-link system" href="../../axioms.html#def-value" data-sym="VALUE">value</a> `(<a class="sym-link system" href="../../axioms.html#def-make-event" data-sym="MAKE-EVENT">make-event</a> ',(ACL2S::PROPERTY-CORE ACL2S::PARSED)))))</pre>
  </div>

<div class="form-block macro" id="def-property" data-defines="PROPERTY" data-references="CW,VALUE-TRIPLE,STATE,QUOTE,PROPERTY-FN,MAKE-EVENT,ENCAPSULATE,TIME,COMMENT,SUMMARY,WITH-OUTPUT,QUASIQUOTE,CADR,AND,MEMBER,LST,LET,DEBUG?,B*,ARGS,&REST,DEFMACRO" data-used-by="PROPERTYD,PROPERTY-FAIL,PARSE-PROPERTY" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="PROPERTY">property</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-property" data-sym="PROPERTY" title="(defmacro acl2s::property (&amp;rest acl2s::args)
  (acl2s::b*
   ((acl2s::debug?
     (let ((acl2s::lst (member :debug? acl2s::args)))
       (and acl2s::lst (cadr acl2s::lst)))))
...">property</a>
  (&amp;rest <a class="sym-link system" href="../../defuns.html#def-args" data-sym="ARGS">args</a>)
  (b* ((debug? (let ((lst (<a class="sym-link system" href="../../axioms.html#def-member" data-sym="MEMBER">member</a> <span class="keyword">:debug?</span> <a class="sym-link system" href="../../defuns.html#def-args" data-sym="ARGS">args</a>)))
         (<a class="sym-link system" href="../../axioms.html#def-and" data-sym="AND">and</a> lst (<a class="sym-link system" href="../../axioms.html#def-cadr" data-sym="CADR">cadr</a> lst)))))
    `(<a class="sym-link system" href="../../axioms.html#def-with-output" data-sym="WITH-OUTPUT">with-output</a> <span class="keyword">:off</span> <span class="keyword">:all</span> <span class="keyword">:on</span> (summary <a class="sym-link system" href="../../rewrite.html#def-comment" data-sym="COMMENT">comment</a>)
      <span class="keyword">:summary-off</span> (<span class="keyword">:other-than</span> time)
      <span class="keyword">:gag-mode</span> ,(NOT ACL2S::DEBUG?)
      <span class="keyword">:stack</span> <span class="keyword">:push</span> (<a class="sym-link system" href="../../axioms.html#def-encapsulate" data-sym="ENCAPSULATE">encapsulate</a> nil
        (<a class="sym-link system" href="../../axioms.html#def-with-output" data-sym="WITH-OUTPUT">with-output</a> <span class="keyword">:off</span> <span class="keyword">:all</span> <span class="keyword">:on</span> <a class="sym-link system" href="../../rewrite.html#def-comment" data-sym="COMMENT">comment</a>
          (<a class="sym-link system" href="../../axioms.html#def-make-event" data-sym="MAKE-EVENT">make-event</a> (<a class="sym-link local-def" href="#def-property-fn" data-sym="PROPERTY-FN" title="(defun acl2s::property-fn (acl2s::args acl2s::state)
  (declare (acl2s::xargs :mode :program :stobjs (acl2s::state)))
  (acl2s::b*
   (((acl2s::mv acl2s::erp acl2s::parsed acl2s::state)
     (acl2s::parse-property acl2s::args acl2s::state))
...">property-fn</a> ',ACL2S::ARGS state)))
        (<a class="sym-link system" href="../../axioms.html#def-value-triple" data-sym="VALUE-TRIPLE">value-triple</a> (<a class="sym-link system" href="../../axioms.html#def-cw" data-sym="CW">cw</a> <span class="string">"~|Form:  ( PROPERTY CHECKING SUCCESSFUL )~%"</span>))))))</pre>
  </div>

<div class="form-block macro" id="def-property-fail" data-defines="PROPERTY-FAIL" data-references="PROPERTY,MUST-FAIL,QUASIQUOTE,ARGS,&REST,DEFMACRO" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="PROPERTY-FAIL">property-fail</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-property-fail" data-sym="PROPERTY-FAIL" title="(defmacro acl2s::property-fail (&amp;rest acl2s::args)
  `(acl2s::must-fail (acl2s::property ,@acl2s::args)))">property-fail</a>
  (&amp;rest <a class="sym-link system" href="../../defuns.html#def-args" data-sym="ARGS">args</a>)
  `(must-fail (<a class="sym-link local-def" href="#def-property" data-sym="PROPERTY" title="(defmacro acl2s::property (&amp;rest acl2s::args)
  (acl2s::b*
   ((acl2s::debug?
     (let ((acl2s::lst (member :debug? acl2s::args)))
       (and acl2s::lst (cadr acl2s::lst)))))
...">property</a> ,@ACL2S::ARGS)))</pre>
  </div>

<div class="form-block macro" id="def-modeling-set-parms" data-defines="MODELING-SET-PARMS" data-references="SET-ACL2S-PROPERTY-TABLE-TESTING-TIMEOUT,SET-ACL2S-PROPERTY-TABLE-PROOF-TIMEOUT,SET-DEFUNC-TIMEOUT,CGEN-LOCAL-TIMEOUT,CGEN-TIMEOUT,ACL2S-DEFAULTS,PROGN,QUASIQUOTE,TESTING,PROOF,DEFUNC,CGEN-LOCAL,CGEN,DEFMACRO" data-used-by="MODELING-ADMIT-ALL,MODELING-ADMIT-DEFS,MODELING-VALIDATE-DEFS,MODELING-START" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="MODELING-SET-PARMS">modeling-set-parms</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-modeling-set-parms" data-sym="MODELING-SET-PARMS" title="(defmacro acl2s::modeling-set-parms
          (acl2s::cgen acl2s::cgen-local acl2s::defunc acl2s::proof
           acl2s::testing)
  `(progn
    (acl2s::acl2s-defaults :set acl2s::cgen-timeout ,acl2s::cgen)
...">modeling-set-parms</a>
  (cgen cgen-local
    defunc
    proof
    testing)
  `(<a class="sym-link system" href="../../axioms.html#def-progn" data-sym="PROGN">progn</a> (acl2s-defaults <span class="keyword">:set</span> cgen-timeout
      ,ACL2S::CGEN)
    (acl2s-defaults <span class="keyword">:set</span> cgen-local-timeout
      ,ACL2S::CGEN-LOCAL)
    (set-defunc-timeout ,ACL2S::DEFUNC)
    (set-acl2s-property-table-proof-timeout ,ACL2S::PROOF)
    (set-acl2s-property-table-testing-timeout ,ACL2S::TESTING)))</pre>
  </div>

<div class="form-block macro" id="def-modeling-start" data-defines="MODELING-START" data-references="MODELING-SET-PARMS,SET-ACL2S-PROPERTY-TABLE-TESTING?,SET-ACL2S-PROPERTY-TABLE-PROOFS?,SET-ACL2S-PROPERTY-TABLE-CHECK-CONTRACTS?,SET-ACL2S-PROPERTY-TABLE-TEST-CONTRACTS?,SET-DEFUNC-SKIP-BODY-CONTRACTSP,SET-DEFUNC-SKIP-FUNCTION-CONTRACTP,SET-DEFUNC-SKIP-ADMISSIBILITYP,T,TESTING-ENABLED,ACL2S-DEFAULTS,PROGN,QUASIQUOTE,TESTING,PROOF,DEFUNC,CGEN-LOCAL,QUOTE,CGEN,&KEY,DEFMACRO" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="MODELING-START">modeling-start</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-modeling-start" data-sym="MODELING-START" title="(defmacro acl2s::modeling-start
          (
           &amp;key (acl2s::cgen &#39;2) (acl2s::cgen-local &#39;1) (acl2s::defunc &#39;5)
           (acl2s::proof &#39;5) (acl2s::testing &#39;5))
  `(progn
...">modeling-start</a>
  (&amp;key (cgen '<span class="number">2</span>)
    (cgen-local '<span class="number">1</span>)
    (defunc '<span class="number">5</span>)
    (proof '<span class="number">5</span>)
    (testing '<span class="number">5</span>))
  `(<a class="sym-link system" href="../../axioms.html#def-progn" data-sym="PROGN">progn</a> (acl2s-defaults <span class="keyword">:set</span> testing-enabled <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>)
    (set-defunc-skip-admissibilityp <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>)
    (set-defunc-skip-function-contractp <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>)
    (set-defunc-skip-body-contractsp <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>)
    (set-acl2s-property-table-test-contracts? <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>)
    (set-acl2s-property-table-check-contracts? nil)
    (set-acl2s-property-table-proofs? nil)
    (set-acl2s-property-table-testing? <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>)
    (<a class="sym-link local-def" href="#def-modeling-set-parms" data-sym="MODELING-SET-PARMS" title="(defmacro acl2s::modeling-set-parms
          (acl2s::cgen acl2s::cgen-local acl2s::defunc acl2s::proof
           acl2s::testing)
  `(progn
    (acl2s::acl2s-defaults :set acl2s::cgen-timeout ,acl2s::cgen)
...">modeling-set-parms</a> ,ACL2S::CGEN
      ,ACL2S::CGEN-LOCAL
      ,ACL2S::DEFUNC
      ,ACL2S::PROOF
      ,ACL2S::TESTING)))</pre>
  </div>

<div class="form-block macro" id="def-modeling-validate-defs" data-defines="MODELING-VALIDATE-DEFS" data-references="MODELING-SET-PARMS,SET-ACL2S-PROPERTY-TABLE-TESTING?,SET-ACL2S-PROPERTY-TABLE-PROOFS?,SET-ACL2S-PROPERTY-TABLE-CHECK-CONTRACTS?,SET-ACL2S-PROPERTY-TABLE-TEST-CONTRACTS?,SET-DEFUNC-BODY-CONTRACTS-STRICTP,SET-DEFUNC-FUNCTION-CONTRACT-STRICTP,SET-DEFUNC-TERMINATION-STRICTP,SET-DEFUNC-SKIP-BODY-CONTRACTSP,SET-DEFUNC-SKIP-FUNCTION-CONTRACTP,SET-DEFUNC-SKIP-ADMISSIBILITYP,T,TESTING-ENABLED,ACL2S-DEFAULTS,PROGN,QUASIQUOTE,TESTING,PROOF,DEFUNC,CGEN-LOCAL,QUOTE,CGEN,&KEY,DEFMACRO" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="MODELING-VALIDATE-DEFS">modeling-validate-defs</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-modeling-validate-defs" data-sym="MODELING-VALIDATE-DEFS" title="(defmacro acl2s::modeling-validate-defs
          (
           &amp;key (acl2s::cgen &#39;4) (acl2s::cgen-local &#39;2) (acl2s::defunc &#39;10)
           (acl2s::proof &#39;10) (acl2s::testing &#39;10))
  `(progn
...">modeling-validate-defs</a>
  (&amp;key (cgen '<span class="number">4</span>)
    (cgen-local '<span class="number">2</span>)
    (defunc '<span class="number">10</span>)
    (proof '<span class="number">10</span>)
    (testing '<span class="number">10</span>))
  `(<a class="sym-link system" href="../../axioms.html#def-progn" data-sym="PROGN">progn</a> (acl2s-defaults <span class="keyword">:set</span> testing-enabled <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>)
    (set-defunc-skip-admissibilityp nil)
    (set-defunc-skip-function-contractp nil)
    (set-defunc-skip-body-contractsp nil)
    (set-defunc-termination-strictp nil)
    (set-defunc-function-contract-strictp nil)
    (set-defunc-body-contracts-strictp nil)
    (set-acl2s-property-table-test-contracts? <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>)
    (set-acl2s-property-table-check-contracts? nil)
    (set-acl2s-property-table-proofs? nil)
    (set-acl2s-property-table-testing? <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>)
    (<a class="sym-link local-def" href="#def-modeling-set-parms" data-sym="MODELING-SET-PARMS" title="(defmacro acl2s::modeling-set-parms
          (acl2s::cgen acl2s::cgen-local acl2s::defunc acl2s::proof
           acl2s::testing)
  `(progn
    (acl2s::acl2s-defaults :set acl2s::cgen-timeout ,acl2s::cgen)
...">modeling-set-parms</a> ,ACL2S::CGEN
      ,ACL2S::CGEN-LOCAL
      ,ACL2S::DEFUNC
      ,ACL2S::PROOF
      ,ACL2S::TESTING)))</pre>
  </div>

<div class="form-block macro" id="def-modeling-admit-defs" data-defines="MODELING-ADMIT-DEFS" data-references="MODELING-SET-PARMS,SET-ACL2S-PROPERTY-TABLE-TESTING?,SET-ACL2S-PROPERTY-TABLE-PROOFS?,SET-ACL2S-PROPERTY-TABLE-CHECK-CONTRACTS?,SET-DEFUNC-BODY-CONTRACTS-STRICTP,SET-DEFUNC-FUNCTION-CONTRACT-STRICTP,SET-DEFUNC-TERMINATION-STRICTP,SET-DEFUNC-SKIP-BODY-CONTRACTSP,SET-DEFUNC-SKIP-FUNCTION-CONTRACTP,SET-DEFUNC-SKIP-ADMISSIBILITYP,T,TESTING-ENABLED,ACL2S-DEFAULTS,PROGN,QUASIQUOTE,TESTING,PROOF,DEFUNC,CGEN-LOCAL,QUOTE,CGEN,&KEY,DEFMACRO" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="MODELING-ADMIT-DEFS">modeling-admit-defs</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-modeling-admit-defs" data-sym="MODELING-ADMIT-DEFS" title="(defmacro acl2s::modeling-admit-defs
          (
           &amp;key (acl2s::cgen &#39;30) (acl2s::cgen-local &#39;15) (acl2s::defunc &#39;60)
           (acl2s::proof &#39;60) (acl2s::testing &#39;30))
  `(progn
...">modeling-admit-defs</a>
  (&amp;key (cgen '<span class="number">30</span>)
    (cgen-local '<span class="number">15</span>)
    (defunc '<span class="number">60</span>)
    (proof '<span class="number">60</span>)
    (testing '<span class="number">30</span>))
  `(<a class="sym-link system" href="../../axioms.html#def-progn" data-sym="PROGN">progn</a> (acl2s-defaults <span class="keyword">:set</span> testing-enabled <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>)
    (set-defunc-skip-admissibilityp nil)
    (set-defunc-skip-function-contractp nil)
    (set-defunc-skip-body-contractsp nil)
    (set-defunc-termination-strictp <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>)
    (set-defunc-function-contract-strictp <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>)
    (set-defunc-body-contracts-strictp <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>)
    (set-acl2s-property-table-check-contracts? <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>)
    (set-acl2s-property-table-proofs? nil)
    (set-acl2s-property-table-testing? <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>)
    (<a class="sym-link local-def" href="#def-modeling-set-parms" data-sym="MODELING-SET-PARMS" title="(defmacro acl2s::modeling-set-parms
          (acl2s::cgen acl2s::cgen-local acl2s::defunc acl2s::proof
           acl2s::testing)
  `(progn
    (acl2s::acl2s-defaults :set acl2s::cgen-timeout ,acl2s::cgen)
...">modeling-set-parms</a> ,ACL2S::CGEN
      ,ACL2S::CGEN-LOCAL
      ,ACL2S::DEFUNC
      ,ACL2S::PROOF
      ,ACL2S::TESTING)))</pre>
  </div>

<div class="form-block macro" id="def-modeling-admit-all" data-defines="MODELING-ADMIT-ALL" data-references="MODELING-SET-PARMS,SET-ACL2S-PROPERTY-TABLE-TESTING?,SET-ACL2S-PROPERTY-TABLE-PROOFS?,SET-ACL2S-PROPERTY-TABLE-CHECK-CONTRACTS?,SET-ACL2S-PROPERTY-TABLE-TEST-CONTRACTS?,SET-DEFUNC-BODY-CONTRACTS-STRICTP,SET-DEFUNC-FUNCTION-CONTRACT-STRICTP,SET-DEFUNC-TERMINATION-STRICTP,SET-DEFUNC-SKIP-BODY-CONTRACTSP,SET-DEFUNC-SKIP-FUNCTION-CONTRACTP,SET-DEFUNC-SKIP-ADMISSIBILITYP,T,TESTING-ENABLED,ACL2S-DEFAULTS,PROGN,QUASIQUOTE,TESTING,PROOF,DEFUNC,CGEN-LOCAL,QUOTE,CGEN,&KEY,DEFMACRO" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="MODELING-ADMIT-ALL">modeling-admit-all</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-modeling-admit-all" data-sym="MODELING-ADMIT-ALL" title="(defmacro acl2s::modeling-admit-all
          (
           &amp;key (acl2s::cgen &#39;60) (acl2s::cgen-local &#39;15) (acl2s::defunc &#39;90)
           (acl2s::proof &#39;120) (acl2s::testing &#39;60))
  `(progn
...">modeling-admit-all</a>
  (&amp;key (cgen '<span class="number">60</span>)
    (cgen-local '<span class="number">15</span>)
    (defunc '<span class="number">90</span>)
    (proof '<span class="number">120</span>)
    (testing '<span class="number">60</span>))
  `(<a class="sym-link system" href="../../axioms.html#def-progn" data-sym="PROGN">progn</a> (acl2s-defaults <span class="keyword">:set</span> testing-enabled <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>)
    (set-defunc-skip-admissibilityp nil)
    (set-defunc-skip-function-contractp nil)
    (set-defunc-skip-body-contractsp nil)
    (set-defunc-termination-strictp <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>)
    (set-defunc-function-contract-strictp <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>)
    (set-defunc-body-contracts-strictp <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>)
    (set-acl2s-property-table-test-contracts? <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>)
    (set-acl2s-property-table-check-contracts? <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>)
    (set-acl2s-property-table-proofs? <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>)
    (set-acl2s-property-table-testing? <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>)
    (<a class="sym-link local-def" href="#def-modeling-set-parms" data-sym="MODELING-SET-PARMS" title="(defmacro acl2s::modeling-set-parms
          (acl2s::cgen acl2s::cgen-local acl2s::defunc acl2s::proof
           acl2s::testing)
  `(progn
    (acl2s::acl2s-defaults :set acl2s::cgen-timeout ,acl2s::cgen)
...">modeling-set-parms</a> ,ACL2S::CGEN
      ,ACL2S::CGEN-LOCAL
      ,ACL2S::DEFUNC
      ,ACL2S::PROOF
      ,ACL2S::TESTING)))</pre>
  </div>

<div class="form-block other" id="form-35" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-property" data-sym="PROPERTY" title="(defmacro acl2s::property (&amp;rest acl2s::args)
  (acl2s::b*
   ((acl2s::debug?
     (let ((acl2s::lst (member :debug? acl2s::args)))
       (and acl2s::lst (cadr acl2s::lst)))))
...">property</a> (i <span class="keyword">:int</span>)
  <span class="keyword">:hyps</span> (<a class="sym-link system" href="../../axioms.html#def-natp" data-sym="NATP">natp</a> i)
  (=&gt; (&lt; <span class="number">0</span> i) (<a class="sym-link system" href="../../axioms.html#def-posp" data-sym="POSP">posp</a> i)))</pre>
  </div>

<div class="form-block other" id="form-36" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-property" data-sym="PROPERTY" title="(defmacro acl2s::property (&amp;rest acl2s::args)
  (acl2s::b*
   ((acl2s::debug?
     (let ((acl2s::lst (member :debug? acl2s::args)))
       (and acl2s::lst (cadr acl2s::lst)))))
...">property</a> (i <span class="keyword">:rational</span>)
  <span class="keyword">:hyps</span> (intp i)
  (=&gt; (&lt; <span class="number">0</span> i) (<a class="sym-link system" href="../../axioms.html#def-posp" data-sym="POSP">posp</a> i)))</pre>
  </div>

<div class="form-block other" id="form-37" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-property" data-sym="PROPERTY" title="(defmacro acl2s::property (&amp;rest acl2s::args)
  (acl2s::b*
   ((acl2s::debug?
     (let ((acl2s::lst (member :debug? acl2s::args)))
       (and acl2s::lst (cadr acl2s::lst)))))
...">property</a> (i <span class="keyword">:rational</span>)
  <span class="keyword">:hyps</span> (&lt; <span class="number">0</span> i)
  (=&gt; (intp i) (<a class="sym-link system" href="../../axioms.html#def-posp" data-sym="POSP">posp</a> i)))</pre>
  </div>

<div class="form-block other" id="form-38" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-property" data-sym="PROPERTY" title="(defmacro acl2s::property (&amp;rest acl2s::args)
  (acl2s::b*
   ((acl2s::debug?
     (let ((acl2s::lst (member :debug? acl2s::args)))
       (and acl2s::lst (cadr acl2s::lst)))))
...">property</a> (i <span class="keyword">:int</span>)
  <span class="keyword">:hyps</span> (<a class="sym-link system" href="../../axioms.html#def-natp" data-sym="NATP">natp</a> i)
  <span class="keyword">:body</span> (=&gt; (&lt; <span class="number">0</span> i) (<a class="sym-link system" href="../../axioms.html#def-posp" data-sym="POSP">posp</a> i)))</pre>
  </div>

<div class="form-block other" id="form-39" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-property" data-sym="PROPERTY" title="(defmacro acl2s::property (&amp;rest acl2s::args)
  (acl2s::b*
   ((acl2s::debug?
     (let ((acl2s::lst (member :debug? acl2s::args)))
       (and acl2s::lst (cadr acl2s::lst)))))
...">property</a> (i <span class="keyword">:rational</span>)
  <span class="keyword">:hyps</span> (intp i)
  <span class="keyword">:body</span> (=&gt; (&lt; <span class="number">0</span> i) (<a class="sym-link system" href="../../axioms.html#def-posp" data-sym="POSP">posp</a> i)))</pre>
  </div>

<div class="form-block other" id="form-40" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-property" data-sym="PROPERTY" title="(defmacro acl2s::property (&amp;rest acl2s::args)
  (acl2s::b*
   ((acl2s::debug?
     (let ((acl2s::lst (member :debug? acl2s::args)))
       (and acl2s::lst (cadr acl2s::lst)))))
...">property</a> (i <span class="keyword">:rational</span>)
  <span class="keyword">:hyps</span> (&lt; <span class="number">0</span> i)
  <span class="keyword">:body</span> (=&gt; (intp i) (<a class="sym-link system" href="../../axioms.html#def-posp" data-sym="POSP">posp</a> i)))</pre>
  </div>

<div class="form-block macro" id="def-propertyd" data-defines="PROPERTYD" data-references="DISABLE,IN-THEORY,PROPERTY,ENCAPSULATE,ERROR,WITH-OUTPUT,QUASIQUOTE,ARGS,&REST,NAME,DEFMACRO" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="PROPERTYD">propertyd</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-propertyd" data-sym="PROPERTYD" title="(defmacro acl2s::propertyd (acl2s::name &amp;rest acl2s::args)
  `(acl2s::with-output :off :all :on (error) :stack :push
    (acl2s::encapsulate nil (acl2s::property ,acl2s::name ,@acl2s::args)
     (acl2s::in-theory (acl2s::disable ,acl2s::name)))))">propertyd</a>
  (name &amp;rest <a class="sym-link system" href="../../defuns.html#def-args" data-sym="ARGS">args</a>)
  `(<a class="sym-link system" href="../../axioms.html#def-with-output" data-sym="WITH-OUTPUT">with-output</a> <span class="keyword">:off</span> <span class="keyword">:all</span> <span class="keyword">:on</span> (error)
    <span class="keyword">:stack</span> <span class="keyword">:push</span> (<a class="sym-link system" href="../../axioms.html#def-encapsulate" data-sym="ENCAPSULATE">encapsulate</a> nil
      (<a class="sym-link local-def" href="#def-property" data-sym="PROPERTY" title="(defmacro acl2s::property (&amp;rest acl2s::args)
  (acl2s::b*
   ((acl2s::debug?
     (let ((acl2s::lst (member :debug? acl2s::args)))
       (and acl2s::lst (cadr acl2s::lst)))))
...">property</a> ,ACL2S::NAME ,@ACL2S::ARGS)
      (<a class="sym-link system" href="../../axioms.html#def-in-theory" data-sym="IN-THEORY">in-theory</a> (disable ,ACL2S::NAME)))))</pre>
  </div>


  </main>
  
<script>
// ACL2 Book HTML Documentation - Interactive Features
// Generated by cert2 - build2 system

// State
let activeFilter = null;
let activePartFilter = null;
let activeNameFilter = null;
let currentFontSize = 14;

// Theme management
function getStoredTheme() {
  return localStorage.getItem('acl2-theme') || 'dark';
}

function setTheme(theme) {
  if (theme === 'light') {
    document.documentElement.setAttribute('data-theme', 'light');
    document.getElementById('theme-toggle').textContent = '🌙';
  } else {
    document.documentElement.removeAttribute('data-theme');
    document.getElementById('theme-toggle').textContent = '☀️';
  }
  localStorage.setItem('acl2-theme', theme);
}

function toggleTheme() {
  const current = getStoredTheme();
  setTheme(current === 'dark' ? 'light' : 'dark');
}

// Font size management
function getStoredFontSize() {
  return parseInt(localStorage.getItem('acl2-fontsize') || '14', 10);
}

function setFontSize(size) {
  size = Math.max(10, Math.min(24, size)); // Clamp between 10-24
  currentFontSize = size;
  document.body.style.fontSize = size + 'px';
  localStorage.setItem('acl2-fontsize', size.toString());
}

function increaseFontSize() {
  setFontSize(currentFontSize + 2);
}

function decreaseFontSize() {
  setFontSize(currentFontSize - 2);
}

// Get all form blocks
function getFormBlocks() {
  return document.querySelectorAll('.form-block');
}

// Clear all filters
function clearFilter() {
  activeFilter = null;
  activePartFilter = null;
  activeNameFilter = null;
  getFormBlocks().forEach(b => {
    b.classList.remove('hidden', 'dimmed');
  });
  document.querySelectorAll('.part-btn').forEach(b => b.classList.remove('active'));
  const status = document.querySelector('.filter-status');
  status.classList.remove('active');
  // Slide name filter back to original position
  document.querySelector('.controls-left').style.transform = '';
  // Clear the name filter input
  const nameInput = document.getElementById('name-filter');
  if (nameInput) nameInput.value = '';
}

// Show filter status and slide name filter right
function showFilterStatus(text) {
  const status = document.querySelector('.filter-status');
  status.classList.add('active');
  status.querySelector('.filter-text').textContent = text;
  // Slide name filter to the right to make room
  setTimeout(() => {
    const statusWidth = status.offsetWidth;
    document.querySelector('.controls-left').style.transform = `translateX(${statusWidth + 15}px)`;
  }, 10);
}

// Filter to show only forms that define or reference a symbol
function filterBySymbol(symName, showUsedBy) {
  clearFilter();
  activeFilter = symName;
  
  const blocks = getFormBlocks();
  let visibleCount = 0;
  
  blocks.forEach(block => {
    const definesName = block.dataset.defines;
    const references = (block.dataset.references || '').split(',');
    const usedBy = (block.dataset.usedBy || '').split(',');
    
    let show = false;
    if (showUsedBy) {
      // Show forms that USE this symbol
      show = references.includes(symName) || definesName === symName;
    } else {
      // Show forms that this symbol USES
      show = usedBy.includes(symName) || definesName === symName;
    }
    
    if (show) {
      block.classList.remove('hidden');
      visibleCount++;
    } else {
      block.classList.add('hidden');
    }
  });
  
  // Update status
  showFilterStatus(`Filtering by: ${symName} (${visibleCount} items)`);
}

// Filter by defthm part (term, hints, rule-classes, etc.)
function filterByPart(formId, partName) {
  clearFilter();
  activePartFilter = { formId, partName };
  
  // Get the part's referenced symbols
  // data-part-term becomes dataset.partTerm, data-part-hints becomes dataset.partHints, etc.
  const block = document.getElementById(formId);
  const datasetKey = 'part' + partName.charAt(0).toUpperCase() + partName.slice(1).replace(/-([a-z])/g, (g) => g[1].toUpperCase());
  const partData = block.dataset[datasetKey];
  if (!partData) return;
  
  const partSyms = partData.split(',').filter(s => s);
  
  // Highlight the button
  block.querySelector(`.part-btn[data-part="${partName}"]`).classList.add('active');
  
  // Hide forms not referenced by this part
  getFormBlocks().forEach(b => {
    const definesName = b.dataset.defines;
    if (b.id === formId || partSyms.includes(definesName)) {
      b.classList.remove('hidden');
    } else {
      b.classList.add('hidden');
    }
  });
  
  // Update status
  showFilterStatus(`Filtering ${formId} :${partName} (${partSyms.length} references)`);
}

// Filter by name (substring or regex)
function filterByName(pattern, useRegex) {
  // Clear other filters but keep the input value
  activeFilter = null;
  activePartFilter = null;
  document.querySelectorAll('.part-btn').forEach(b => b.classList.remove('active'));
  
  if (!pattern || pattern.trim() === '') {
    // Empty pattern - show all
    activeNameFilter = null;
    getFormBlocks().forEach(b => b.classList.remove('hidden'));
    const status = document.querySelector('.filter-status');
    status.classList.remove('active');
    document.querySelector('.controls-left').style.transform = '';
    return;
  }
  
  activeNameFilter = pattern;
  
  let matcher;
  let isValidRegex = true;
  
  if (useRegex) {
    try {
      matcher = new RegExp(pattern, 'i');
    } catch (e) {
      // Invalid regex - show error in status and don't filter
      showFilterStatus(`Invalid regex: ${e.message}`);
      return;
    }
  } else {
    // Plain substring match (case-insensitive)
    const lowerPattern = pattern.toLowerCase();
    matcher = { test: (s) => s.toLowerCase().includes(lowerPattern) };
  }
  
  const blocks = getFormBlocks();
  let visibleCount = 0;
  
  blocks.forEach(block => {
    const definesName = block.dataset.defines || '';
    if (matcher.test(definesName)) {
      block.classList.remove('hidden');
      visibleCount++;
    } else {
      block.classList.add('hidden');
    }
  });
  
  // Update status
  const modeText = useRegex ? 'regex' : 'name';
  showFilterStatus(`Filtering by ${modeText}: "${pattern}" (${visibleCount} matches)`);
}

// Click on a name to show what references it
function handleNameClick(symName) {
  if (activeFilter === symName) {
    clearFilter();
  } else {
    filterBySymbol(symName, true);
  }
}

// Navigate to a definition (same file or different)
function navigateTo(symName, file) {
  if (file) {
    // External file - navigate
    window.location.href = file + '.html#def-' + symName.toLowerCase();
  } else {
    // Same file - scroll
    const target = document.getElementById('def-' + symName.toLowerCase());
    if (target) {
      target.scrollIntoView({ behavior: 'smooth', block: 'center' });
      target.classList.add('highlight');
      setTimeout(() => target.classList.remove('highlight'), 400);
    }
  }
}

// Initialize
document.addEventListener('DOMContentLoaded', () => {
  // Part buttons
  document.querySelectorAll('.part-btn').forEach(btn => {
    btn.addEventListener('click', (e) => {
      e.stopPropagation();
      const formId = btn.closest('.form-block').id;
      const partName = btn.dataset.part;
      if (activePartFilter && activePartFilter.formId === formId && 
          activePartFilter.partName === partName) {
        clearFilter();
      } else {
        filterByPart(formId, partName);
      }
    });
  });
  
  // Clear filter button
  document.querySelector('.clear-filter').addEventListener('click', clearFilter);
  
  // Name filter input
  const nameFilter = document.getElementById('name-filter');
  const regexToggle = document.getElementById('regex-toggle');
  
  let filterTimeout = null;
  nameFilter.addEventListener('input', () => {
    // Debounce the filter to avoid excessive updates while typing
    clearTimeout(filterTimeout);
    filterTimeout = setTimeout(() => {
      filterByName(nameFilter.value, regexToggle.checked);
    }, 150);
  });
  
  // Re-filter when regex toggle changes
  regexToggle.addEventListener('change', () => {
    if (nameFilter.value) {
      filterByName(nameFilter.value, regexToggle.checked);
    }
  });
  
  // Allow Escape key to clear filter when in input
  nameFilter.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
      clearFilter();
      nameFilter.blur();
    }
  });
  
  // Symbol references (old span-based refs)
  document.querySelectorAll('.sym-ref').forEach(ref => {
    ref.addEventListener('click', (e) => {
      e.stopPropagation();
      const sym = ref.dataset.sym;
      const file = ref.dataset.file;
      if (file) {
        navigateTo(sym, file);
      } else {
        handleNameClick(sym);
      }
    });
  });
  
  // Symbol links (new anchor-based links)
  // These use standard <a> tags so navigation happens automatically
  // But we need to clear filters if target would be hidden
  document.querySelectorAll('.sym-link').forEach(link => {
    link.addEventListener('click', (e) => {
      const href = link.getAttribute('href');
      if (href && href.startsWith('#')) {
        // Local link - check if target is hidden by filter
        const targetId = href.substring(1);
        const target = document.getElementById(targetId);
        if (target) {
          // If target is hidden, clear the filter first
          if (target.classList.contains('hidden')) {
            clearFilter();
          }
          // Add highlight effect after a short delay
          setTimeout(() => {
            target.classList.add('highlight');
            setTimeout(() => target.classList.remove('highlight'), 400);
          }, 100);
        }
      }
      // For external links, default behavior handles navigation
    });
  });
  
  // Form names (show what uses them)
  document.querySelectorAll('.form-name').forEach(name => {
    name.addEventListener('click', (e) => {
      handleNameClick(name.dataset.sym);
    });
  });
  
  // Handle hash navigation (when arriving at page with #anchor)
  if (window.location.hash) {
    const target = document.querySelector(window.location.hash);
    if (target) {
      setTimeout(() => {
        target.scrollIntoView({ behavior: 'smooth', block: 'center' });
        target.classList.add('highlight');
        setTimeout(() => target.classList.remove('highlight'), 400);
      }, 200);
    }
  }
  
  // Initialize theme from storage
  setTheme(getStoredTheme());
  
  // Initialize font size from storage
  currentFontSize = getStoredFontSize();
  setFontSize(currentFontSize);
  
  // Theme toggle button
  document.getElementById('theme-toggle').addEventListener('click', toggleTheme);
  
  // Font size buttons
  document.getElementById('font-larger').addEventListener('click', increaseFontSize);
  document.getElementById('font-smaller').addEventListener('click', decreaseFontSize);
});

</script>

</body>
</html>