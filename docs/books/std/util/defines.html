<!DOCTYPE html>
<html lang="en" vocab="http://schema.org/" typeof="SoftwareSourceCode">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>defines - ACL2 Book</title>
  <meta property="name" content="defines">
  <meta property="programmingLanguage" content="ACL2">
  
<style>
/* ACL2 Book HTML Documentation Styles */
/* Generated by cert2 - build2 system */

/* Dark theme (default) */
:root {
  --bg: #1e1e2e;
  --fg: #cdd6f4;
  --comment: #6c7086;
  --keyword: #cba6f7;
  --string: #a6e3a1;
  --function: #89b4fa;
  --type: #f9e2af;
  --link: #89dceb;
  --link-hover: #f5c2e7;
  --highlight: rgba(137, 180, 250, 0.2);
  --border: #313244;
  --block-bg: rgba(49, 50, 68, 0.5);
  --btn-bg: #313244;
  --btn-hover: rgba(137, 180, 250, 0.2);
}

/* Light theme */
[data-theme="light"] {
  --bg: #eff1f5;
  --fg: #4c4f69;
  --comment: #6c6f85;
  --keyword: #8839ef;
  --string: #40a02b;
  --function: #1e66f5;
  --type: #df8e1d;
  --link: #04a5e5;
  --link-hover: #ea76cb;
  --highlight: rgba(30, 102, 245, 0.15);
  --border: #ccd0da;
  --block-bg: rgba(204, 208, 218, 0.3);
  --btn-bg: #ccd0da;
  --btn-hover: rgba(30, 102, 245, 0.15);
}

body {
  font-family: 'JetBrains Mono', 'Fira Code', monospace;
  background: var(--bg);
  color: var(--fg);
  margin: 0;
  padding: 20px;
  line-height: 1.6;
  font-size: 14px;
  transition: background 0.1s, color 0.1s;
}

/* Controls toolbar */
.controls-left {
  position: fixed;
  top: 10px;
  left: 20px;
  display: flex;
  gap: 8px;
  align-items: center;
  z-index: 200;
  transition: transform 0.1s ease;
}

.controls-right {
  position: fixed;
  top: 10px;
  right: 20px;
  display: flex;
  gap: 8px;
  align-items: center;
  z-index: 200;
}

.control-btn {
  padding: 6px 12px;
  background: var(--btn-bg);
  border: 1px solid var(--border);
  border-radius: 4px;
  color: var(--fg);
  cursor: pointer;
  font-family: inherit;
  font-size: 14px;
  transition: all 0.1s;
}

.control-btn:hover {
  background: var(--btn-hover);
  border-color: var(--link);
}

.name-filter {
  padding: 6px 10px;
  background: var(--btn-bg);
  border: 1px solid var(--border);
  border-radius: 4px;
  color: var(--fg);
  font-family: inherit;
  font-size: 13px;
  width: 150px;
  transition: all 0.1s;
}

.name-filter:focus {
  outline: none;
  border-color: var(--link);
  width: 200px;
}

.name-filter::placeholder {
  color: var(--comment);
}

.regex-label {
  display: flex;
  align-items: center;
  gap: 4px;
  color: var(--comment);
  font-size: 12px;
  cursor: pointer;
}

.regex-label input {
  cursor: pointer;
}

.book-header {
  border-bottom: 2px solid var(--border);
  padding-bottom: 20px;
  margin-bottom: 20px;
}

.book-header h1 {
  color: var(--keyword);
  margin: 0;
}

.book-header .path {
  color: var(--comment);
  font-size: 0.9em;
}

.book-header .path .source-link {
  color: var(--comment);
  text-decoration: none;
}

.book-header .path .source-link:hover {
  color: var(--link);
  text-decoration: underline;
}

.form-block {
  margin: 10px 0;
  padding: 15px;
  background: var(--block-bg);
  border-radius: 8px;
  border-left: 3px solid var(--border);
}

.form-block.theorem { border-left-color: var(--keyword); }
.form-block.function { border-left-color: var(--function); }
.form-block.macro { border-left-color: var(--type); }
.form-block.include-book { border-left-color: var(--string); }

.form-block.hidden { display: none; }
.form-block.dimmed { opacity: 0.3; }

.form-block.highlight {
  animation: highlight-pulse 0.4s ease-out;
}

@keyframes highlight-pulse {
  0% { background: var(--highlight); box-shadow: 0 0 20px var(--link); }
  100% { background: rgba(49, 50, 68, 0.5); box-shadow: none; }
}

.form-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
}

.form-name {
  color: var(--function);
  font-weight: bold;
  cursor: pointer;
}

.form-name:hover {
  color: var(--link-hover);
  text-decoration: underline;
}

.form-type {
  color: var(--comment);
  font-size: 0.85em;
}

pre.code {
  margin: 0;
  overflow-x: auto;
  white-space: pre-wrap;
  word-wrap: break-word;
}

.sym-ref {
  color: var(--link);
  cursor: pointer;
  border-radius: 2px;
}

.sym-ref:hover {
  background: var(--highlight);
  color: var(--link-hover);
}

.sym-ref.local-def { color: var(--function); font-weight: bold; }
.sym-ref.external { color: var(--type); }

/* Symbol links (clickable hyperlinks) */
.sym-link {
  color: var(--link);
  text-decoration: none;
  border-radius: 2px;
  cursor: pointer;
  position: relative;
}

.sym-link:hover {
  background: var(--highlight);
  color: var(--link-hover);
  text-decoration: underline;
}

.sym-link.local-def {
  color: var(--function);
  font-weight: bold;
}

.sym-link.external {
  color: var(--type);
}

/* Tooltips using title attribute with custom styling */
.sym-link[title] {
  /* Browser will show title on hover */
}

/* Syntax highlighting in code blocks */
.keyword {
  color: var(--keyword);
}

.string {
  color: var(--string);
}

.number {
  color: #f77524; /* orange */
}

/* Include-book path links */
.include-path {
  color: var(--string);
  text-decoration: none;
  border-radius: 2px;
  cursor: pointer;
}

.include-path:hover {
  background: var(--highlight);
  color: var(--link-hover);
  text-decoration: underline;
}

/* Part buttons for defthm */
.part-buttons {
  display: flex;
  gap: 5px;
  margin: 10px 0;
  flex-wrap: wrap;
}

.part-btn {
  padding: 4px 10px;
  background: var(--border);
  border: 1px solid var(--comment);
  border-radius: 4px;
  color: var(--fg);
  cursor: pointer;
  font-size: 0.85em;
  font-family: inherit;
}

.part-btn:hover {
  background: var(--highlight);
  border-color: var(--link);
}

.part-btn.active {
  background: var(--link);
  color: var(--bg);
  border-color: var(--link);
}

/* References panel */
.refs-panel {
  margin-top: 10px;
  padding: 10px;
  background: rgba(0,0,0,0.2);
  border-radius: 4px;
  display: none;
}

.refs-panel.visible { display: block; }

.refs-panel h4 {
  margin: 0 0 5px 0;
  color: var(--comment);
  font-size: 0.9em;
}

.refs-list {
  display: flex;
  flex-wrap: wrap;
  gap: 5px;
}

/* Included books section */
.includes-section {
  margin-bottom: 20px;
  padding: 15px;
  background: rgba(49, 50, 68, 0.3);
  border-radius: 8px;
  border: 1px solid var(--border);
}

.includes-section h2 {
  margin: 0 0 10px 0;
  color: var(--comment);
  font-size: 1em;
  font-weight: normal;
}

.includes-list {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.include-link {
  padding: 6px 12px;
  background: var(--border);
  border-radius: 4px;
  color: var(--link);
  text-decoration: none;
  font-size: 0.9em;
  transition: all 0.1s;
}

.include-link:hover {
  background: var(--highlight);
  color: var(--link-hover);
}

.include-link.local {
  border-left: 2px solid var(--comment);
}

/* Filter status */
.filter-status {
  position: fixed;
  top: 10px;
  left: 20px;
  background: var(--bg);
  padding: 6px 12px;
  border: 1px solid var(--border);
  border-radius: 4px;
  z-index: 201;
  display: none;
  align-items: center;
  gap: 10px;
}

.filter-status.active {
  display: flex;
  align-items: center;
  gap: 10px;
}

.clear-filter {
  padding: 5px 15px;
  background: var(--keyword);
  color: var(--bg);
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

/* RDFa vocab indicator */
[vocab] { /* semantic web annotations present */ }

</style>

</head>
<body>
  <div class="controls-left">
    <input type="text" id="name-filter" class="name-filter" placeholder="Filter by name..." title="Filter definitions by name">
    <label class="regex-label"><input type="checkbox" id="regex-toggle"> regex</label>
  </div>

  <div class="controls-right">
    <button class="control-btn" id="theme-toggle" title="Toggle light/dark theme">☀️</button>
    <button class="control-btn" id="font-smaller" title="Decrease font size">A-</button>
    <button class="control-btn" id="font-larger" title="Increase font size">A+</button>
  </div>

  <div class="filter-status">
    <span class="filter-text">Filtering...</span>
    <button class="clear-filter">Clear Filter</button>
  </div>
  
  <div class="book-header">
    <h1 property="name">defines</h1>
    <div class="path"><a href="defines.lisp" class="source-link">books/std/util/defines</a></div>
  </div>
  
  <main property="text">
<div class="form-block other" id="form-0" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-in-package" data-sym="IN-PACKAGE">in-package</a> <span class="string">"STD"</span>)</pre>
  </div>

<div class="form-block other" id="form-1" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-include-book" data-sym="INCLUDE-BOOK">include-book</a> <a class="include-path" href="define.html" title="Open define">"define"</a>)</pre>
  </div>

<div class="form-block other" id="form-2" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-include-book" data-sym="INCLUDE-BOOK">include-book</a> <a class="include-path" href="../../../tools/flag.html" title="Open tools/flag">"tools/flag"</a> <span class="keyword">:dir</span> <span class="keyword">:system</span>)</pre>
  </div>

<div class="form-block other" id="form-3" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-set-state-ok" data-sym="SET-STATE-OK">set-state-ok</a> <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>)</pre>
  </div>

<div class="form-block other" id="form-4" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-program" data-sym="PROGRAM">program</a>)</pre>
  </div>

<div class="form-block other" id="form-5" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defxdoc <a class="sym-link local-def" href="#def-defines" data-sym="DEFINES" title="(defmacro std::defines (std::name &amp;rest std::args)
  (let* ((std::verbose-tail (member :verbosep std::args))
         (std::verbosep (and std::verbose-tail (cadr std::verbose-tail))))
    `(std::with-output :stack :push ,@(and (not std::verbosep) &#39;(:off :all))
      (std::make-event">defines</a>
  <span class="keyword">:parents</span> (std/util <a class="sym-link system" href="../../../axioms.html#def-mutual-recursion" data-sym="MUTUAL-RECURSION">mutual-recursion</a>)
  <span class="keyword">:short</span> <span class="string">"A very fine alternative to @(see mutual-recursion)."</span>
  <span class="keyword">:long</span> <span class="string">"&lt;p&gt;@(&#39;Defines&#39;) is a sophisticated macro for introducing mutually
recursive functions using @(see define).  It gives you:&lt;/p&gt;

&lt;ul&gt;

&lt;li&gt;The usual benefits of @(&#39;define&#39;)&amp;mdash;@(see extended-formals), concise
@(see xargs) syntax, @(see returns-specifiers), @(see xdoc) integration, easy
inlining, and so on.&lt;/li&gt;

&lt;li&gt;Automatic @(see acl2::make-flag) integration, so you can easily prove
inductive theorems about your new definitions.&lt;/li&gt;

&lt;/ul&gt;

&lt;h3&gt;Examples&lt;/h3&gt;

@({
    (defines terms
      :parents (syntax)
      :short &quot;Example of terms in some simple, numeric language.&quot;

      (define my-termp (x)
        (if (atom x)
            (natp x)
          (and (symbolp (car x))
               (my-term-listp (cdr x))))
        ///
        (defthm natp-when-my-termp
          (implies (atom x)
                   (equal (my-termp x)
                          (natp x))))
        (defthm my-termp-of-cons
          (equal (my-termp (cons fn args))
                 (and (symbolp fn)
                      (my-term-listp args)))))

      (define my-term-listp (x)
        (if (atom x)
            t
          (and (my-termp (car x))
               (my-term-listp (cdr x))))
        ///
        (deflist my-term-listp (x)
          (my-termp x)
          :already-definedp t)))

  (defines flattening
    :parents (terms)
    :short &quot;Collect up the arguments of terms.&quot;

    (define my-flatten-term ((x my-termp))
      :flag term
      :returns (numbers true-listp :rule-classes :type-prescription)
      (if (atom x)
          (list x)
        (my-flatten-term-list (cdr x))))

    (define my-flatten-term-list ((x my-term-listp))
      :flag list
      :returns (numbers true-listp :rule-classes :type-prescription)
      (if (atom x)
          nil
        (append (my-flatten-term (car x))
                (my-flatten-term-list (cdr x)))))
    ///
    (defthm-flattening-flag
      (defthm nat-listp-of-my-flatten-term
        (implies (my-termp x)
                 (nat-listp (my-flatten-term x)))
        :flag term)
      (defthm nat-listp-of-my-flatten-term-list
        (implies (my-term-listp x)
                 (nat-listp (my-flatten-term-list x)))
        :flag list)))
})

&lt;h3&gt;Usage&lt;/h3&gt;

&lt;p&gt;The general form of @(see defines) is:&lt;/p&gt;

@({
    (defines clique-name
      [global options]
      (define f1 ...)
      ...
      (define fN ...)
      [/// other-events])
})

&lt;p&gt;The @(&#39;clique-name&#39;) may be any symbol&amp;mdash;we often just use the name of
the first function in the clique, but this is not required.  The name is used
for documentation purposes, and also (by default) is used to name the flag
function that will be introduced by @(see acl2::make-flag).&lt;/p&gt;

&lt;p&gt;The global options each have the form @(&#39;:name value&#39;), and we describe
these options below.  We usually prefer to put these options at the front of
the @(&#39;defines&#39;) form, as shown above, but the options can be put anywhere
until the @(&#39;///&#39;) form.&lt;/p&gt;

&lt;p&gt;There must be at least two @(&#39;define&#39;) forms.  These can use the usual @(see
define) syntax, and mostly this all works out naturally.  The most significant
caveats have to do with how we try to prove the theorems for @(&#39;:returns&#39;)
specifiers (see below).&lt;/p&gt;

&lt;p&gt;The @(&#39;other-events&#39;) are a structuring device that allow you to associate
any arbitrary events.  These events are submitted after the definitions, flag
function, etc., have been processed.  All of the functions in the clique are
left enabled while processing these events.&lt;/p&gt;

&lt;p&gt;Note that individual @(&#39;define&#39;)s can have their own other-events.  All of
these individual sections are processed (with their own local scopes) before
any global @(&#39;other-events&#39;).&lt;/p&gt;

&lt;h4&gt;Global Options&lt;/h4&gt;

&lt;dl&gt;

&lt;dt&gt;:verbosep bool&lt;/dt&gt;

&lt;dd&gt;Normally most output is suppressed, but this can make it hard to understand
failures.  You can enable @(&#39;:verbosep t&#39;) for better debugging.&lt;/dd&gt;


&lt;dt&gt;:mode&lt;/dt&gt;
&lt;dt&gt;:guard-hints, :guard-debug&lt;/dt&gt;

&lt;dt&gt;:verify-guards val&lt;/dt&gt;

&lt;dd&gt;The value @(&#39;val&#39;) may be one of the following: @(&#39;t&#39;), @(&#39;nil&#39;), or
@(&#39;:after-returns&#39;). The first two correspond to what is described in @(see
xargs). The keyword @(&#39;:after-returns&#39;) indicates that the guards of the
functions are to be verified after the @(see returns-specifiers).&lt;/dd&gt;

&lt;dt&gt;:well-founded-relation, :measure-debug, :hints, :otf-flg&lt;/dt&gt;
&lt;dt&gt;:ruler-extenders&lt;/dt&gt;

&lt;dd&gt;In an ordinary @(see mutual-recursion), each of these @(see xargs) style
options can be attached to any @(&#39;defun&#39;) in the clique.  But we usually think
of these as global options to the whole clique, so we make them available as
top-level options to the @(&#39;defines&#39;) form.  In the implementation, we just
attach these options to the first @(&#39;defun&#39;) form generated, except for
@(&#39;:ruler-extenders&#39;), which we apply to all of the defuns.&lt;/dd&gt;


&lt;dt&gt;:prepwork&lt;/dt&gt;

&lt;dd&gt;Arbitrary events to be submitted before the definitions.  Typically this
might include @(see in-theory) calls, one-off supporting lemmas, etc.  Prepwork
is not automatically @(see local), so lemmas and theory changes should usually
be explicitly made @(see local).&lt;/dd&gt;

&lt;dd&gt;Note that each individual @(&#39;define&#39;) may have its own @(&#39;:prepwork&#39;)
section.  All of these sections will be appended together in order, with the
global @(&#39;:prepwork&#39;) coming first, and submitted before the definitions.&lt;/dd&gt;


&lt;dt&gt;:returns-hints hints&lt;/dt&gt;
&lt;dt&gt;:returns-no-induct bool&lt;/dt&gt;

&lt;dd&gt;You can give hints for the inductive @(&#39;:returns&#39;) theorem.  Alternately,
if you know you don&#39;t need to prove the returns theorems inductively, you can
set @(&#39;:returns-no-induct t&#39;), which may improve performance.&lt;/dd&gt;


&lt;dt&gt;:parents, :short, :long&lt;/dt&gt;

&lt;dd&gt;These are global @(see xdoc) options that will be associated with the
@(&#39;clique-name&#39;) for this @(&#39;defines&#39;).&lt;/dd&gt;

&lt;dd&gt;Note that each individual @(&#39;define&#39;) may separately have its own
documentation and rest-events.  As a convenience, if global documentation is
provided while individual documentation is not, a basic topic will be created
whose @(&#39;:parents&#39;) point at the @(&#39;clique-name&#39;).&lt;/dd&gt;

&lt;dd&gt;A corner case is when the @(&#39;clique-name&#39;) agrees with an individual
function&#39;s name.  In this case we try to grab the documentation from
&lt;i&gt;either&lt;/i&gt; the named function or the global options.  To prevent confusion,
we cause an error if documentation is provided in both places.&lt;/dd&gt;

&lt;dt&gt;:ignore-ok val&lt;/dt&gt;
&lt;dt&gt;:irrelevant-formals-ok val&lt;/dt&gt;
&lt;dt&gt;:bogus-ok val&lt;/dt&gt;

&lt;dd&gt;Submit @(see set-ignore-ok), @(see set-irrelevant-formals-ok), and/or
@(see set-bogus-mutual-recursion-ok) forms before the definitions.  These
options are @(see local) to the definitions; they do not affect the
@(&#39;other-events&#39;) or any later events.&lt;/dd&gt;


&lt;dt&gt;:flag name&lt;/dt&gt;

&lt;dd&gt;You can also use @(&#39;:flag nil&#39;) to suppress the creation of a flag
function.  Alternately, you can use this option to customize the name of the
flag function.  The default is inferred from the @(&#39;clique-name&#39;), i.e., it
will look like @(&#39;&lt;clique-name&gt;-flag&#39;).&lt;/dd&gt;

&lt;dt&gt;:flag-var var&lt;/dt&gt;
&lt;dt&gt;:flag-defthm-macro name&lt;/dt&gt;
&lt;dt&gt;:flag-hints hints&lt;/dt&gt;

&lt;dd&gt;Control the flag variable name, flag macro name, and hints for @(see
acl2::make-flag).&lt;/dd&gt;


&lt;dt&gt;:flag-local bool&lt;/dt&gt;

&lt;dd&gt;By default the flag function is created locally.  This generally improves
performance when later including your book, and is appropriate when all of your
flag-based reasoning about the function is done in @(&#39;:returns&#39;) specifiers and
in the @(&#39;///&#39;) section.  If you need the flag function and its macros to exist
beyond the @(&#39;defines&#39;) form, set @(&#39;:flag-local nil&#39;).&lt;/dd&gt;


&lt;dt&gt;:progn bool&lt;/dt&gt;

&lt;dd&gt;By default everything is submitted in an @(&#39;(encapsulate nil ...)&#39;).  If
you set @(&#39;:progn t&#39;), then we will instead submit everything in a @(&#39;progn&#39;).
This mainly affects what @(&#39;local&#39;) means within the @(&#39;///&#39;) section.  This
may slightly improve performance by avoiding the overhead of @(see
encapsulate), and is mainly meant as a tool for macro developers.&lt;/dd&gt;


&lt;/dl&gt;"</span>)</pre>
  </div>

<div class="form-block other" id="form-6" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defconst" data-sym="DEFCONST">defconst</a> *defines-xargs-keywords*
  '(<span class="keyword">:ruler-extenders</span> <span class="keyword">:guard-hints</span> <span class="keyword">:hints</span> <span class="keyword">:guard-debug</span> <span class="keyword">:measure-debug</span> <span class="keyword">:well-founded-relation</span> <span class="keyword">:otf-flg</span> <span class="keyword">:mode</span> <span class="keyword">:verify-guards</span>))</pre>
  </div>

<div class="form-block other" id="form-7" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defconst" data-sym="DEFCONST">defconst</a> *defines-keywords*
  (<a class="sym-link system" href="../../../axioms.html#def-append" data-sym="APPEND">append</a> '(<span class="keyword">:ignore-ok</span> <span class="keyword">:irrelevant-formals-ok</span> <span class="keyword">:bogus-ok</span> <span class="keyword">:parents</span> <span class="keyword">:short</span> <span class="keyword">:long</span> <span class="keyword">:prepwork</span> <span class="keyword">:flag</span> <span class="keyword">:flag-var</span> <span class="keyword">:flag-local</span> <span class="keyword">:flag-defthm-macro</span> <span class="keyword">:flag-hints</span> <span class="keyword">:returns-no-induct</span> <span class="keyword">:returns-hints</span> <span class="keyword">:verbosep</span> <span class="keyword">:progn</span>)
    *defines-xargs-keywords*))</pre>
  </div>

<div class="form-block function" id="def-parse-defines" data-defines="PARSE-DEFINES" data-references="PARSE-DEFINE,GUTS1,ARGS,NAME,CONS,HARD?,ER,DEFINE,QUOTE,FIRST,EQ,CDR,CONSP,AND,UNLESS,CAR,FORM1,ATOM,WHEN,B*,WORLD,EXTRA-KEYWORDS,FORMS,CTX,DEFUN" data-used-by="DEFINES-FN" data-part-name="PARSE-DEFINES" data-part-args="WORLD,EXTRA-KEYWORDS,FORMS,CTX" data-part-body="PARSE-DEFINES,WORLD,EXTRA-KEYWORDS,PARSE-DEFINE,GUTS1,ARGS,NAME,CONS,CTX,HARD?,ER,DEFINE,QUOTE,FIRST,EQ,CDR,CONSP,AND,UNLESS,CAR,FORM1,FORMS,ATOM,WHEN,B*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="PARSE-DEFINES">parse-defines</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-parse-defines" data-sym="PARSE-DEFINES" title="(defun std::parse-defines (std::ctx std::forms std::extra-keywords std::world)
  (std::b*
   (((when (atom std::forms)) nil) (std::form1 (car std::forms))
    ((unless
         (and (consp std::form1) (consp (cdr std::form1))
...">parse-defines</a>
  (ctx forms extra-keywords world)
  (b* (((when (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> forms)) nil) (form1 (car forms))
      ((unless (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (consp form1)
           (consp (cdr form1))
           (<a class="sym-link system" href="../../../axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="../../../axioms.html#def-first" data-sym="FIRST">first</a> form1) 'define))) (<a class="sym-link system" href="../../../axioms.html#def-er" data-sym="ER">er</a> hard?
          ctx
          <span class="string">"Expected a list of ~s0 forms, but found ~x1."</span>
          'define
          (car forms)))
      ((cons name <a class="sym-link system" href="../../../defuns.html#def-args" data-sym="ARGS">args</a>) (cdr form1))
      (guts1 (parse-define name
          <a class="sym-link system" href="../../../defuns.html#def-args" data-sym="ARGS">args</a>
          extra-keywords
          world)))
    (cons guts1
      (<a class="sym-link local-def" href="#def-parse-defines" data-sym="PARSE-DEFINES" title="(defun std::parse-defines (std::ctx std::forms std::extra-keywords std::world)
  (std::b*
   (((when (atom std::forms)) nil) (std::form1 (car std::forms))
    ((unless
         (and (consp std::form1) (consp (cdr std::form1))
...">parse-defines</a> ctx
        (cdr forms)
        extra-keywords
        world))))</pre>
  </div>

<div class="form-block function" id="def-collect-prepworks" data-defines="COLLECT-PREPWORKS" data-references="CDR,CAR,DEFGUTS->KWD-ALIST,GETARG,APPEND,ATOM,IF,GUTSLIST,DEFUN" data-used-by="DEFINES-FN" data-part-name="COLLECT-PREPWORKS" data-part-args="GUTSLIST" data-part-body="CDR,COLLECT-PREPWORKS,CAR,DEFGUTS->KWD-ALIST,GETARG,APPEND,GUTSLIST,ATOM,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="COLLECT-PREPWORKS">collect-prepworks</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-collect-prepworks" data-sym="COLLECT-PREPWORKS" title="(defun std::collect-prepworks (std::gutslist)
  (if (atom std::gutslist)
      nil
      (append
       (std::getarg :prepwork nil
...">collect-prepworks</a>
  (gutslist)
  (if (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> gutslist)
    nil
    (<a class="sym-link system" href="../../../axioms.html#def-append" data-sym="APPEND">append</a> (getarg <span class="keyword">:prepwork</span> nil
        (defguts-&gt;kwd-alist (car gutslist)))
      (<a class="sym-link local-def" href="#def-collect-prepworks" data-sym="COLLECT-PREPWORKS" title="(defun std::collect-prepworks (std::gutslist)
  (if (atom std::gutslist)
      nil
      (append
       (std::getarg :prepwork nil
...">collect-prepworks</a> (cdr gutslist)))))</pre>
  </div>

<div class="form-block function" id="def-collect-macros" data-defines="COLLECT-MACROS" data-references="CONS,CDR,UNLESS,CAR,DEFGUTS->MACRO,MACROS1,ATOM,WHEN,B*,GUTSLIST,DEFUN" data-used-by="DEFINES-FN" data-part-name="COLLECT-MACROS" data-part-args="GUTSLIST" data-part-body="CONS,CDR,COLLECT-MACROS,UNLESS,CAR,DEFGUTS->MACRO,MACROS1,GUTSLIST,ATOM,WHEN,B*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="COLLECT-MACROS">collect-macros</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-collect-macros" data-sym="COLLECT-MACROS" title="(defun std::collect-macros (std::gutslist)
  (std::b*
   (((when (atom std::gutslist)) nil)
    (std::macros1 (std::defguts-&gt;macro (car std::gutslist)))
    ((unless std::macros1) (std::collect-macros (cdr std::gutslist))))">collect-macros</a>
  (gutslist)
  (b* (((when (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> gutslist)) nil) (macros1 (defguts-&gt;macro (car gutslist)))
      ((unless macros1) (<a class="sym-link local-def" href="#def-collect-macros" data-sym="COLLECT-MACROS" title="(defun std::collect-macros (std::gutslist)
  (std::b*
   (((when (atom std::gutslist)) nil)
    (std::macros1 (std::defguts-&gt;macro (car std::gutslist)))
    ((unless std::macros1) (std::collect-macros (cdr std::gutslist))))">collect-macros</a> (cdr gutslist))))
    (cons macros1
      (<a class="sym-link local-def" href="#def-collect-macros" data-sym="COLLECT-MACROS" title="(defun std::collect-macros (std::gutslist)
  (std::b*
   (((when (atom std::gutslist)) nil)
    (std::macros1 (std::defguts-&gt;macro (car std::gutslist)))
    ((unless std::macros1) (std::collect-macros (cdr std::gutslist))))">collect-macros</a> (cdr gutslist)))))</pre>
  </div>

<div class="form-block function" id="def-collect-ignore-oks" data-defines="COLLECT-IGNORE-OKS" data-references="CDR,CONS,ASSOC,CAR,DEFGUTS->KWD-ALIST,KWD-ALIST,ATOM,WHEN,B*,GUTSLIST,DEFUN" data-used-by="MAKE-IGNORE-EVENTS" data-part-name="COLLECT-IGNORE-OKS" data-part-args="GUTSLIST" data-part-body="COLLECT-IGNORE-OKS,CDR,CONS,ASSOC,CAR,DEFGUTS->KWD-ALIST,KWD-ALIST,GUTSLIST,ATOM,WHEN,B*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="COLLECT-IGNORE-OKS">collect-ignore-oks</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-collect-ignore-oks" data-sym="COLLECT-IGNORE-OKS" title="(defun std::collect-ignore-oks (std::gutslist)
  (std::b*
   (((when (atom std::gutslist)) nil)
    (std::kwd-alist (std::defguts-&gt;kwd-alist (car std::gutslist)))
    ((when (assoc :ignore-ok std::kwd-alist))
...">collect-ignore-oks</a>
  (gutslist)
  (b* (((when (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> gutslist)) nil) (kwd-alist (defguts-&gt;kwd-alist (car gutslist)))
      ((when (<a class="sym-link system" href="../../../axioms.html#def-assoc" data-sym="ASSOC">assoc</a> <span class="keyword">:ignore-ok</span> kwd-alist)) (cons (cdr (<a class="sym-link system" href="../../../axioms.html#def-assoc" data-sym="ASSOC">assoc</a> <span class="keyword">:ignore-ok</span> kwd-alist))
          (<a class="sym-link local-def" href="#def-collect-ignore-oks" data-sym="COLLECT-IGNORE-OKS" title="(defun std::collect-ignore-oks (std::gutslist)
  (std::b*
   (((when (atom std::gutslist)) nil)
    (std::kwd-alist (std::defguts-&gt;kwd-alist (car std::gutslist)))
    ((when (assoc :ignore-ok std::kwd-alist))
...">collect-ignore-oks</a> (cdr gutslist)))))
    (<a class="sym-link local-def" href="#def-collect-ignore-oks" data-sym="COLLECT-IGNORE-OKS" title="(defun std::collect-ignore-oks (std::gutslist)
  (std::b*
   (((when (atom std::gutslist)) nil)
    (std::kwd-alist (std::defguts-&gt;kwd-alist (car std::gutslist)))
    ((when (assoc :ignore-ok std::kwd-alist))
...">collect-ignore-oks</a> (cdr gutslist))))</pre>
  </div>

<div class="form-block function" id="def-collect-irrelevant-formals-oks" data-defines="COLLECT-IRRELEVANT-FORMALS-OKS" data-references="CDR,CONS,ASSOC,CAR,DEFGUTS->KWD-ALIST,KWD-ALIST,ATOM,WHEN,B*,GUTSLIST,DEFUN" data-used-by="MAKE-IGNORE-EVENTS" data-part-name="COLLECT-IRRELEVANT-FORMALS-OKS" data-part-args="GUTSLIST" data-part-body="COLLECT-IRRELEVANT-FORMALS-OKS,CDR,CONS,ASSOC,CAR,DEFGUTS->KWD-ALIST,KWD-ALIST,GUTSLIST,ATOM,WHEN,B*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="COLLECT-IRRELEVANT-FORMALS-OKS">collect-irrelevant-formals-oks</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-collect-irrelevant-formals-oks" data-sym="COLLECT-IRRELEVANT-FORMALS-OKS" title="(defun std::collect-irrelevant-formals-oks (std::gutslist)
  (std::b*
   (((when (atom std::gutslist)) nil)
    (std::kwd-alist (std::defguts-&gt;kwd-alist (car std::gutslist)))
    ((when (assoc :irrelevant-formals-ok std::kwd-alist))
...">collect-irrelevant-formals-oks</a>
  (gutslist)
  (b* (((when (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> gutslist)) nil) (kwd-alist (defguts-&gt;kwd-alist (car gutslist)))
      ((when (<a class="sym-link system" href="../../../axioms.html#def-assoc" data-sym="ASSOC">assoc</a> <span class="keyword">:irrelevant-formals-ok</span> kwd-alist)) (cons (cdr (<a class="sym-link system" href="../../../axioms.html#def-assoc" data-sym="ASSOC">assoc</a> <span class="keyword">:irrelevant-formals-ok</span> kwd-alist))
          (<a class="sym-link local-def" href="#def-collect-irrelevant-formals-oks" data-sym="COLLECT-IRRELEVANT-FORMALS-OKS" title="(defun std::collect-irrelevant-formals-oks (std::gutslist)
  (std::b*
   (((when (atom std::gutslist)) nil)
    (std::kwd-alist (std::defguts-&gt;kwd-alist (car std::gutslist)))
    ((when (assoc :irrelevant-formals-ok std::kwd-alist))
...">collect-irrelevant-formals-oks</a> (cdr gutslist)))))
    (<a class="sym-link local-def" href="#def-collect-irrelevant-formals-oks" data-sym="COLLECT-IRRELEVANT-FORMALS-OKS" title="(defun std::collect-irrelevant-formals-oks (std::gutslist)
  (std::b*
   (((when (atom std::gutslist)) nil)
    (std::kwd-alist (std::defguts-&gt;kwd-alist (car std::gutslist)))
    ((when (assoc :irrelevant-formals-ok std::kwd-alist))
...">collect-irrelevant-formals-oks</a> (cdr gutslist))))</pre>
  </div>

<div class="form-block function" id="def-make-ignore-events" data-defines="MAKE-IGNORE-EVENTS" data-references="SET-BOGUS-MUTUAL-RECURSION-OK,SET-IRRELEVANT-FORMALS-OK,T,SET-IGNORE-OK,QUOTE,CAR,AND,APPEND,BOGUS-OKP,COLLECT-IRRELEVANT-FORMALS-OKS,IRREL-OKS,HARD?,ER,ATOM,OR,UNLESS,REMOVE-DUPLICATES,CDR,CONS,ASSOC,IF,COLLECT-IGNORE-OKS,IGNORE-OKS,B*,GUTSLIST,KWD-ALIST,CTX,DEFUN" data-used-by="DEFINES-FN" data-part-name="MAKE-IGNORE-EVENTS" data-part-args="GUTSLIST,KWD-ALIST,CTX" data-part-body="SET-BOGUS-MUTUAL-RECURSION-OK,SET-IRRELEVANT-FORMALS-OK,T,SET-IGNORE-OK,QUOTE,CAR,AND,APPEND,BOGUS-OKP,COLLECT-IRRELEVANT-FORMALS-OKS,IRREL-OKS,CTX,HARD?,ER,ATOM,OR,UNLESS,REMOVE-DUPLICATES,CDR,CONS,KWD-ALIST,ASSOC,IF,GUTSLIST,COLLECT-IGNORE-OKS,IGNORE-OKS,B*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="MAKE-IGNORE-EVENTS">make-ignore-events</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-make-ignore-events" data-sym="MAKE-IGNORE-EVENTS" title="(defun std::make-ignore-events (std::ctx std::kwd-alist std::gutslist)
  (std::b*
   ((std::ignore-oks (std::collect-ignore-oks std::gutslist))
    (std::ignore-oks
     (if (assoc :ignore-ok std::kwd-alist)
...">make-ignore-events</a>
  (ctx kwd-alist gutslist)
  (b* ((ignore-oks (<a class="sym-link local-def" href="#def-collect-ignore-oks" data-sym="COLLECT-IGNORE-OKS" title="(defun std::collect-ignore-oks (std::gutslist)
  (std::b*
   (((when (atom std::gutslist)) nil)
    (std::kwd-alist (std::defguts-&gt;kwd-alist (car std::gutslist)))
    ((when (assoc :ignore-ok std::kwd-alist))
...">collect-ignore-oks</a> gutslist)) (ignore-oks (if (<a class="sym-link system" href="../../../axioms.html#def-assoc" data-sym="ASSOC">assoc</a> <span class="keyword">:ignore-ok</span> kwd-alist)
          (cons (cdr (<a class="sym-link system" href="../../../axioms.html#def-assoc" data-sym="ASSOC">assoc</a> <span class="keyword">:ignore-ok</span> kwd-alist))
            ignore-oks)
          ignore-oks))
      (ignore-oks (<a class="sym-link system" href="../../../axioms.html#def-remove-duplicates" data-sym="REMOVE-DUPLICATES">remove-duplicates</a> ignore-oks))
      ((unless (<a class="sym-link system" href="../../../axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> ignore-oks) (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> (cdr ignore-oks)))) (<a class="sym-link system" href="../../../axioms.html#def-er" data-sym="ER">er</a> hard?
          ctx
          <span class="string">"Conflicting :ignore-ok settings."</span>))
      (irrel-oks (<a class="sym-link local-def" href="#def-collect-irrelevant-formals-oks" data-sym="COLLECT-IRRELEVANT-FORMALS-OKS" title="(defun std::collect-irrelevant-formals-oks (std::gutslist)
  (std::b*
   (((when (atom std::gutslist)) nil)
    (std::kwd-alist (std::defguts-&gt;kwd-alist (car std::gutslist)))
    ((when (assoc :irrelevant-formals-ok std::kwd-alist))
...">collect-irrelevant-formals-oks</a> gutslist))
      (irrel-oks (if (<a class="sym-link system" href="../../../axioms.html#def-assoc" data-sym="ASSOC">assoc</a> <span class="keyword">:irrel-ok</span> kwd-alist)
          (cons (cdr (<a class="sym-link system" href="../../../axioms.html#def-assoc" data-sym="ASSOC">assoc</a> <span class="keyword">:ignore-ok</span> kwd-alist))
            irrel-oks)
          irrel-oks))
      (irrel-oks (<a class="sym-link system" href="../../../axioms.html#def-remove-duplicates" data-sym="REMOVE-DUPLICATES">remove-duplicates</a> irrel-oks))
      ((unless (<a class="sym-link system" href="../../../axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> irrel-oks) (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> (cdr irrel-oks)))) (<a class="sym-link system" href="../../../axioms.html#def-er" data-sym="ER">er</a> hard?
          ctx
          <span class="string">"Conflicting :irrel-ok settings."</span>))
      (bogus-okp (cdr (<a class="sym-link system" href="../../../axioms.html#def-assoc" data-sym="ASSOC">assoc</a> <span class="keyword">:bogus-ok</span> kwd-alist))))
    (<a class="sym-link system" href="../../../axioms.html#def-append" data-sym="APPEND">append</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (car ignore-oks) '((<a class="sym-link system" href="../../../axioms.html#def-set-ignore-ok" data-sym="SET-IGNORE-OK">set-ignore-ok</a> <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>)))
      (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (car irrel-oks)
        '((<a class="sym-link system" href="../../../axioms.html#def-set-irrelevant-formals-ok" data-sym="SET-IRRELEVANT-FORMALS-OK">set-irrelevant-formals-ok</a> <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>)))
      (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> bogus-okp
        '((<a class="sym-link system" href="../../../axioms.html#def-set-bogus-mutual-recursion-ok" data-sym="SET-BOGUS-MUTUAL-RECURSION-OK">set-bogus-mutual-recursion-ok</a> <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>))))))</pre>
  </div>

<div class="form-block function" id="def-collect-main-defs" data-defines="COLLECT-MAIN-DEFS" data-references="CDR,CAR,DEFGUTS->MAIN-DEF,CONS,ATOM,IF,GUTSLIST,DEFUN" data-used-by="DEFINES-FN" data-part-name="COLLECT-MAIN-DEFS" data-part-args="GUTSLIST" data-part-body="CDR,COLLECT-MAIN-DEFS,CAR,DEFGUTS->MAIN-DEF,CONS,GUTSLIST,ATOM,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="COLLECT-MAIN-DEFS">collect-main-defs</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-collect-main-defs" data-sym="COLLECT-MAIN-DEFS" title="(defun std::collect-main-defs (std::gutslist)
  (if (atom std::gutslist)
      nil
      (cons (std::defguts-&gt;main-def (car std::gutslist))
            (std::collect-main-defs (cdr std::gutslist)))))">collect-main-defs</a>
  (gutslist)
  (if (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> gutslist)
    nil
    (cons (defguts-&gt;main-def (car gutslist))
      (<a class="sym-link local-def" href="#def-collect-main-defs" data-sym="COLLECT-MAIN-DEFS" title="(defun std::collect-main-defs (std::gutslist)
  (if (atom std::gutslist)
      nil
      (cons (std::defguts-&gt;main-def (car std::gutslist))
            (std::collect-main-defs (cdr std::gutslist)))))">collect-main-defs</a> (cdr gutslist)))))</pre>
  </div>

<div class="form-block function" id="def-collect-macro-aliases" data-defines="COLLECT-MACRO-ALIASES" data-references="CDR,CAR,ADD-MACRO-ALIASES-FROM-GUTS,APPEND,ATOM,IF,GUTSLIST,DEFUN" data-used-by="DEFINES-FN" data-part-name="COLLECT-MACRO-ALIASES" data-part-args="GUTSLIST" data-part-body="CDR,COLLECT-MACRO-ALIASES,CAR,ADD-MACRO-ALIASES-FROM-GUTS,APPEND,GUTSLIST,ATOM,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="COLLECT-MACRO-ALIASES">collect-macro-aliases</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-collect-macro-aliases" data-sym="COLLECT-MACRO-ALIASES" title="(defun std::collect-macro-aliases (std::gutslist)
  (if (atom std::gutslist)
      nil
      (append (std::add-macro-aliases-from-guts (car std::gutslist))
              (std::collect-macro-aliases (cdr std::gutslist)))))">collect-macro-aliases</a>
  (gutslist)
  (if (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> gutslist)
    nil
    (<a class="sym-link system" href="../../../axioms.html#def-append" data-sym="APPEND">append</a> (add-macro-aliases-from-guts (car gutslist))
      (<a class="sym-link local-def" href="#def-collect-macro-aliases" data-sym="COLLECT-MACRO-ALIASES" title="(defun std::collect-macro-aliases (std::gutslist)
  (if (atom std::gutslist)
      nil
      (append (std::add-macro-aliases-from-guts (car std::gutslist))
              (std::collect-macro-aliases (cdr std::gutslist)))))">collect-macro-aliases</a> (cdr gutslist)))))</pre>
  </div>

<div class="form-block function" id="def-collect-guts-alist-exts" data-defines="COLLECT-GUTS-ALIST-EXTS" data-references="CDR,CAR,EXTEND-DEFINE-GUTS-ALIST,CONS,ATOM,IF,GUTSLIST,DEFUN" data-used-by="DEFINES-FN" data-part-name="COLLECT-GUTS-ALIST-EXTS" data-part-args="GUTSLIST" data-part-body="CDR,COLLECT-GUTS-ALIST-EXTS,CAR,EXTEND-DEFINE-GUTS-ALIST,CONS,GUTSLIST,ATOM,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="COLLECT-GUTS-ALIST-EXTS">collect-guts-alist-exts</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-collect-guts-alist-exts" data-sym="COLLECT-GUTS-ALIST-EXTS" title="(defun std::collect-guts-alist-exts (std::gutslist)
  (if (atom std::gutslist)
      nil
      (cons (std::extend-define-guts-alist (car std::gutslist))
            (std::collect-guts-alist-exts (cdr std::gutslist)))))">collect-guts-alist-exts</a>
  (gutslist)
  (if (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> gutslist)
    nil
    (cons (extend-define-guts-alist (car gutslist))
      (<a class="sym-link local-def" href="#def-collect-guts-alist-exts" data-sym="COLLECT-GUTS-ALIST-EXTS" title="(defun std::collect-guts-alist-exts (std::gutslist)
  (if (atom std::gutslist)
      nil
      (cons (std::extend-define-guts-alist (car std::gutslist))
            (std::collect-guts-alist-exts (cdr std::gutslist)))))">collect-guts-alist-exts</a> (cdr gutslist)))))</pre>
  </div>

<div class="form-block function" id="def-collect-names-from-guts" data-defines="COLLECT-NAMES-FROM-GUTS" data-references="CDR,CAR,DEFGUTS->NAME,CONS,ATOM,IF,GUTSLIST,DEFUN" data-used-by="DEFINES-FN" data-part-name="COLLECT-NAMES-FROM-GUTS" data-part-args="GUTSLIST" data-part-body="CDR,COLLECT-NAMES-FROM-GUTS,CAR,DEFGUTS->NAME,CONS,GUTSLIST,ATOM,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="COLLECT-NAMES-FROM-GUTS">collect-names-from-guts</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-collect-names-from-guts" data-sym="COLLECT-NAMES-FROM-GUTS" title="(defun std::collect-names-from-guts (std::gutslist)
  (if (atom std::gutslist)
      nil
      (cons (std::defguts-&gt;name (car std::gutslist))
            (std::collect-names-from-guts (cdr std::gutslist)))))">collect-names-from-guts</a>
  (gutslist)
  (if (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> gutslist)
    nil
    (cons (defguts-&gt;name (car gutslist))
      (<a class="sym-link local-def" href="#def-collect-names-from-guts" data-sym="COLLECT-NAMES-FROM-GUTS" title="(defun std::collect-names-from-guts (std::gutslist)
  (if (atom std::gutslist)
      nil
      (cons (std::defguts-&gt;name (car std::gutslist))
            (std::collect-names-from-guts (cdr std::gutslist)))))">collect-names-from-guts</a> (cdr gutslist)))))</pre>
  </div>

<div class="form-block function" id="def-collect-defines-to-disable" data-defines="COLLECT-DEFINES-TO-DISABLE" data-references="GUTS1.NAME-FN,CONS,CDR,GUTS1.KWD-ALIST,GETARG,ENABLED-P,CAR,GUTS1,DEFGUTS,ATOM,WHEN,B*,GUTSLIST,DEFUN" data-used-by="DEFINES-FN" data-part-name="COLLECT-DEFINES-TO-DISABLE" data-part-args="GUTSLIST" data-part-body="GUTS1.NAME-FN,CONS,CDR,COLLECT-DEFINES-TO-DISABLE,GUTS1.KWD-ALIST,GETARG,ENABLED-P,CAR,GUTS1,DEFGUTS,GUTSLIST,ATOM,WHEN,B*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="COLLECT-DEFINES-TO-DISABLE">collect-defines-to-disable</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-collect-defines-to-disable" data-sym="COLLECT-DEFINES-TO-DISABLE" title="(defun std::collect-defines-to-disable (std::gutslist)
  (std::b*
   (((when (atom std::gutslist)) nil)
    ((std::defguts std::guts1) (car std::gutslist))
    (std::enabled-p (std::getarg :enabled nil std::guts1.kwd-alist))
...">collect-defines-to-disable</a>
  (gutslist)
  (b* (((when (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> gutslist)) nil) ((defguts guts1) (car gutslist))
      (enabled-p (getarg <span class="keyword">:enabled</span> nil guts1.kwd-alist))
      ((when enabled-p) (<a class="sym-link local-def" href="#def-collect-defines-to-disable" data-sym="COLLECT-DEFINES-TO-DISABLE" title="(defun std::collect-defines-to-disable (std::gutslist)
  (std::b*
   (((when (atom std::gutslist)) nil)
    ((std::defguts std::guts1) (car std::gutslist))
    (std::enabled-p (std::getarg :enabled nil std::guts1.kwd-alist))
...">collect-defines-to-disable</a> (cdr gutslist))))
    (cons guts1.name-fn
      (<a class="sym-link local-def" href="#def-collect-defines-to-disable" data-sym="COLLECT-DEFINES-TO-DISABLE" title="(defun std::collect-defines-to-disable (std::gutslist)
  (std::b*
   (((when (atom std::gutslist)) nil)
    ((std::defguts std::guts1) (car std::gutslist))
    (std::enabled-p (std::getarg :enabled nil std::guts1.kwd-alist))
...">collect-defines-to-disable</a> (cdr gutslist)))))</pre>
  </div>

<div class="form-block function" id="def-make-fn-defsections" data-defines="MAKE-FN-DEFSECTIONS" data-references="ERROR,DEFSECTION,MV,PROGN,WITH-OUTPUT,SET-DEFINE-CURRENT-FUNCTION,QUASIQUOTE,REST-EVENTS,GUTS.REST-EVENTS,LIST,GUTS.NAME,EQ,NOT,AND,ASSOC,IF,PARENTS,LONG,GUTS.KWD-ALIST,GETARG,SHORT,DEFGUTS,B*,DIVIDE-DEFSECTIONS,PROCESS-RETURNS,CLIQUENAME,GUTS,DEFUN" data-used-by="COLLECT-FN-DEFSECTIONS" data-part-name="MAKE-FN-DEFSECTIONS" data-part-args="DIVIDE-DEFSECTIONS,PROCESS-RETURNS,CLIQUENAME,GUTS" data-part-body="ERROR,DEFSECTION,MV,PROGN,WITH-OUTPUT,SET-DEFINE-CURRENT-FUNCTION,QUASIQUOTE,REST-EVENTS,GUTS.REST-EVENTS,PROCESS-RETURNS,DIVIDE-DEFSECTIONS,LIST,GUTS.NAME,EQ,NOT,CLIQUENAME,AND,ASSOC,IF,PARENTS,LONG,GUTS.KWD-ALIST,GETARG,SHORT,GUTS,DEFGUTS,B*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="MAKE-FN-DEFSECTIONS">make-fn-defsections</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-make-fn-defsections" data-sym="MAKE-FN-DEFSECTIONS" title="(defun std::make-fn-defsections
       (std::guts std::cliquename std::process-returns std::divide-defsections)
  (std::b*
   (((std::defguts std::guts) std::guts)
    (std::short (std::getarg :short nil std::guts.kwd-alist))
...">make-fn-defsections</a>
  (guts cliquename
    process-returns
    divide-defsections)
  (b* (((defguts guts) guts) (short (getarg <span class="keyword">:short</span> nil guts.kwd-alist))
      (long (getarg <span class="keyword">:long</span> nil guts.kwd-alist))
      (parents (getarg <span class="keyword">:parents</span> nil guts.kwd-alist))
      (parents (if (<a class="sym-link system" href="../../../axioms.html#def-assoc" data-sym="ASSOC">assoc</a> <span class="keyword">:parents</span> guts.kwd-alist)
          parents
          (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> cliquename
            (<a class="sym-link system" href="../../../axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="../../../axioms.html#def-eq" data-sym="EQ">eq</a> cliquename guts.name))
            (<a class="sym-link system" href="../../../axioms.html#def-list" data-sym="LIST">list</a> cliquename))))
      (divide-defsections (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> process-returns
          divide-defsections
          guts.rest-events))
      (rest-events `((set-define-current-function ,STD::GUTS.NAME) (<a class="sym-link system" href="../../../axioms.html#def-with-output" data-sym="WITH-OUTPUT">with-output</a> <span class="keyword">:stack</span> <span class="keyword">:pop</span> (<a class="sym-link system" href="../../../axioms.html#def-progn" data-sym="PROGN">progn</a> . ,STD::GUTS.REST-EVENTS)))))
    (<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> `(defsection ,STD::GUTS.NAME
        ,@(AND STD::PARENTS `(:PARENTS ,STD::PARENTS))
        ,@(AND STD::SHORT `(:SHORT ,STD::SHORT))
        ,@(AND STD::LONG `(:LONG ,STD::LONG))
        ,@(AND STD::PROCESS-RETURNS
       `((STD::MAKE-EVENT
          (LET* ((STD::WORLD (STD::W STD::STATE))
                 (STD::EVENTS
                  (STD::RETURNSPEC-THMS &#39;,STD::GUTS.NAME &#39;,STD::GUTS.NAME-FN
                   &#39;,STD::GUTS.RETURNSPECS STD::WORLD)))
            `(STD::WITH-OUTPUT :STACK :POP (PROGN . ,STD::EVENTS))))))
        ,@(AND (NOT STD::DIVIDE-DEFSECTIONS) STD::REST-EVENTS))
      `(,@(AND STD::DIVIDE-DEFSECTIONS
       `((STD::MAKE-EVENT
          (LET ((STD::OLD-TOPIC
                 (XDOC::FIND-TOPIC &#39;,STD::GUTS.NAME
                  (XDOC::GET-XDOC-TABLE (STD::W STD::STATE))))
                (STD::DEFSECTION-NAME
                 &#39;,(PACKN-POS (LIST STD::GUTS.NAME &#39;STD::-REST-EVENTS)
                              STD::GUTS.NAME))
                (STD::EXTENSION &#39;,STD::GUTS.NAME)
                (STD::REST-EVENTS &#39;,STD::REST-EVENTS))
            `(STD::DEFSECTION ,STD::DEFSECTION-NAME
              ,@(AND STD::OLD-TOPIC `(:EXTENSION ,STD::EXTENSION))
              ,@STD::REST-EVENTS))))) (<a class="sym-link system" href="../../../axioms.html#def-with-output" data-sym="WITH-OUTPUT">with-output</a> <span class="keyword">:on</span> (error)
          ,(STD::ADD-SIGNATURE-FROM-GUTS STD::GUTS))))))</pre>
  </div>

<div class="form-block function" id="def-collect-fn-defsections" data-defines="COLLECT-FN-DEFSECTIONS" data-references="APPEND,CONS,CDR,REST2,SECTIONS,CAR,MAKE-FN-DEFSECTIONS,REST1,SECTION1,B*,MV,ATOM,IF,DIVIDE-DEFSECTIONS,PROCESS-RETURNS,CLIQUENAME,GUTSLIST,DEFUN" data-used-by="DEFINES-FN" data-part-name="COLLECT-FN-DEFSECTIONS" data-part-args="DIVIDE-DEFSECTIONS,PROCESS-RETURNS,CLIQUENAME,GUTSLIST" data-part-body="APPEND,CONS,CDR,COLLECT-FN-DEFSECTIONS,REST2,SECTIONS,DIVIDE-DEFSECTIONS,PROCESS-RETURNS,CLIQUENAME,CAR,MAKE-FN-DEFSECTIONS,REST1,SECTION1,B*,MV,GUTSLIST,ATOM,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="COLLECT-FN-DEFSECTIONS">collect-fn-defsections</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-collect-fn-defsections" data-sym="COLLECT-FN-DEFSECTIONS" title="(defun std::collect-fn-defsections
       (std::gutslist std::cliquename std::process-returns
        std::divide-defsections)
  (if (atom std::gutslist)
      (std::mv nil nil)
...">collect-fn-defsections</a>
  (gutslist cliquename
    process-returns
    divide-defsections)
  (if (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> gutslist)
    (<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> nil nil)
    (b* (((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> section1 rest1) (<a class="sym-link local-def" href="#def-make-fn-defsections" data-sym="MAKE-FN-DEFSECTIONS" title="(defun std::make-fn-defsections
       (std::guts std::cliquename std::process-returns std::divide-defsections)
  (std::b*
   (((std::defguts std::guts) std::guts)
    (std::short (std::getarg :short nil std::guts.kwd-alist))
...">make-fn-defsections</a> (car gutslist)
           cliquename
           process-returns
           divide-defsections)) ((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> sections rest2) (<a class="sym-link local-def" href="#def-collect-fn-defsections" data-sym="COLLECT-FN-DEFSECTIONS" title="(defun std::collect-fn-defsections
       (std::gutslist std::cliquename std::process-returns
        std::divide-defsections)
  (if (atom std::gutslist)
      (std::mv nil nil)
...">collect-fn-defsections</a> (cdr gutslist)
            cliquename
            process-returns
            divide-defsections)))
      (<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> (cons section1 sections)
        (<a class="sym-link system" href="../../../axioms.html#def-append" data-sym="APPEND">append</a> rest1 rest2)))))</pre>
  </div>

<div class="form-block function" id="def-guts-_3Eflag" data-defines="GUTS->FLAG" data-references="DEFGUTS->NAME,DEFGUTS->KWD-ALIST,ASSOC,CDR,OR,GUTS,DEFUN" data-used-by="FN-RETURNSPEC-FLAG-ENTRIES,COLLECT-FLAG-MAPPING" data-part-name="GUTS->FLAG" data-part-args="GUTS" data-part-body="DEFGUTS->NAME,GUTS,DEFGUTS->KWD-ALIST,ASSOC,CDR,OR" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="GUTS->FLAG">guts-&gt;flag</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-guts-_3Eflag" data-sym="GUTS-&gt;FLAG" title="(defun std::guts-&gt;flag (std::guts)
  (or (cdr (assoc :flag (std::defguts-&gt;kwd-alist std::guts)))
      (std::defguts-&gt;name std::guts)))">guts-&gt;flag</a>
  (guts)
  (<a class="sym-link system" href="../../../axioms.html#def-or" data-sym="OR">or</a> (cdr (<a class="sym-link system" href="../../../axioms.html#def-assoc" data-sym="ASSOC">assoc</a> <span class="keyword">:flag</span> (defguts-&gt;kwd-alist guts)))
    (defguts-&gt;name guts)))</pre>
  </div>

<div class="form-block function" id="def-collect-flag-mapping" data-defines="COLLECT-FLAG-MAPPING" data-references="CDR,GUTS->FLAG,CAR,DEFGUTS->NAME-FN,LIST,CONS,ATOM,IF,GUTSLIST,DEFUN" data-used-by="DEFINES-FN" data-part-name="COLLECT-FLAG-MAPPING" data-part-args="GUTSLIST" data-part-body="CDR,COLLECT-FLAG-MAPPING,GUTS->FLAG,CAR,DEFGUTS->NAME-FN,LIST,CONS,GUTSLIST,ATOM,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="COLLECT-FLAG-MAPPING">collect-flag-mapping</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-collect-flag-mapping" data-sym="COLLECT-FLAG-MAPPING" title="(defun std::collect-flag-mapping (std::gutslist)
  (if (atom std::gutslist)
      nil
      (cons
       (list (std::defguts-&gt;name-fn (car std::gutslist))
...">collect-flag-mapping</a>
  (gutslist)
  (if (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> gutslist)
    nil
    (cons (<a class="sym-link system" href="../../../axioms.html#def-list" data-sym="LIST">list</a> (defguts-&gt;name-fn (car gutslist))
        (<a class="sym-link local-def" href="#def-guts-_3Eflag" data-sym="GUTS-&gt;FLAG" title="(defun std::guts-&gt;flag (std::guts)
  (or (cdr (assoc :flag (std::defguts-&gt;kwd-alist std::guts)))
      (std::defguts-&gt;name std::guts)))">guts-&gt;flag</a> (car gutslist)))
      (<a class="sym-link local-def" href="#def-collect-flag-mapping" data-sym="COLLECT-FLAG-MAPPING" title="(defun std::collect-flag-mapping (std::gutslist)
  (if (atom std::gutslist)
      nil
      (cons
       (list (std::defguts-&gt;name-fn (car std::gutslist))
...">collect-flag-mapping</a> (cdr gutslist)))))</pre>
  </div>

<div class="form-block function" id="def-returnspec-thm-bodies" data-defines="RETURNSPEC-THM-BODIES" data-references="CONS,T,EQ,IF,CDR,REST,CAR,RETURNSPEC-THM-BODY,BODY,ATOM,WHEN,B*,WORLD,RETSPECS,BINDS,FNNAME,DEFUN" data-part-name="RETURNSPEC-THM-BODIES" data-part-args="WORLD,RETSPECS,BINDS,FNNAME" data-part-body="CONS,T,EQ,IF,CDR,RETURNSPEC-THM-BODIES,REST,WORLD,CAR,BINDS,FNNAME,RETURNSPEC-THM-BODY,BODY,RETSPECS,ATOM,WHEN,B*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="RETURNSPEC-THM-BODIES">returnspec-thm-bodies</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-returnspec-thm-bodies" data-sym="RETURNSPEC-THM-BODIES" title="(defun std::returnspec-thm-bodies
       (std::fnname std::binds std::retspecs std::world)
  (std::b*
   (((when (atom std::retspecs)) nil)
    (std::body
...">returnspec-thm-bodies</a>
  (fnname binds retspecs world)
  (b* (((when (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> retspecs)) nil) (<a class="sym-link system" href="../../../basis-b.html#def-body" data-sym="BODY">body</a> (returnspec-thm-body fnname
          binds
          (car retspecs)
          world))
      (<a class="sym-link system" href="../../../axioms.html#def-rest" data-sym="REST">rest</a> (<a class="sym-link local-def" href="#def-returnspec-thm-bodies" data-sym="RETURNSPEC-THM-BODIES" title="(defun std::returnspec-thm-bodies
       (std::fnname std::binds std::retspecs std::world)
  (std::b*
   (((when (atom std::retspecs)) nil)
    (std::body
...">returnspec-thm-bodies</a> fnname
          binds
          (cdr retspecs)
          world)))
    (if (<a class="sym-link system" href="../../../axioms.html#def-eq" data-sym="EQ">eq</a> <a class="sym-link system" href="../../../basis-b.html#def-body" data-sym="BODY">body</a> <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>)
      <a class="sym-link system" href="../../../axioms.html#def-rest" data-sym="REST">rest</a>
      (cons <a class="sym-link system" href="../../../basis-b.html#def-body" data-sym="BODY">body</a> <a class="sym-link system" href="../../../axioms.html#def-rest" data-sym="REST">rest</a>))))</pre>
  </div>

<div class="form-block function" id="def-returnspec-thm-ruleclasses-add-corollary" data-defines="RETURNSPEC-THM-RULECLASSES-ADD-COROLLARY" data-references="ASSOC-KEYWORD,QUASIQUOTE,CONS,CDR,REST,CAR,CLASS,ATOM,WHEN,B*,BODY,CLASSES,DEFUN" data-used-by="RETURNSPEC-THM-RULECLASSES" data-part-name="RETURNSPEC-THM-RULECLASSES-ADD-COROLLARY" data-part-args="BODY,CLASSES" data-part-body="ASSOC-KEYWORD,QUASIQUOTE,CONS,BODY,CDR,RETURNSPEC-THM-RULECLASSES-ADD-COROLLARY,REST,CAR,CLASS,CLASSES,ATOM,WHEN,B*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="RETURNSPEC-THM-RULECLASSES-ADD-COROLLARY">returnspec-thm-ruleclasses-add-corollary</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-returnspec-thm-ruleclasses-add-corollary" data-sym="RETURNSPEC-THM-RULECLASSES-ADD-COROLLARY" title="(defun std::returnspec-thm-ruleclasses-add-corollary (std::classes std::body)
  (std::b*
   (((when (atom std::classes)) nil) (class (car std::classes))
    (rest
     (std::returnspec-thm-ruleclasses-add-corollary (cdr std::classes)
...">returnspec-thm-ruleclasses-add-corollary</a>
  (classes <a class="sym-link system" href="../../../basis-b.html#def-body" data-sym="BODY">body</a>)
  (b* (((when (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> classes)) nil) (class (car classes))
      (<a class="sym-link system" href="../../../axioms.html#def-rest" data-sym="REST">rest</a> (<a class="sym-link local-def" href="#def-returnspec-thm-ruleclasses-add-corollary" data-sym="RETURNSPEC-THM-RULECLASSES-ADD-COROLLARY" title="(defun std::returnspec-thm-ruleclasses-add-corollary (std::classes std::body)
  (std::b*
   (((when (atom std::classes)) nil) (class (car std::classes))
    (rest
     (std::returnspec-thm-ruleclasses-add-corollary (cdr std::classes)
...">returnspec-thm-ruleclasses-add-corollary</a> (cdr classes)
          <a class="sym-link system" href="../../../basis-b.html#def-body" data-sym="BODY">body</a>))
      ((when (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> class)) (cons `(,CLASS <span class="keyword">:corollary</span> ,STD::BODY) <a class="sym-link system" href="../../../axioms.html#def-rest" data-sym="REST">rest</a>))
      ((when (<a class="sym-link system" href="../../../axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:corollary</span> (cdr class))) (cons class <a class="sym-link system" href="../../../axioms.html#def-rest" data-sym="REST">rest</a>)))
    (cons `(,(CAR CLASS) <span class="keyword">:corollary</span> ,STD::BODY . ,(CDR CLASS))
      <a class="sym-link system" href="../../../axioms.html#def-rest" data-sym="REST">rest</a>)))</pre>
  </div>

<div class="form-block function" id="def-returnspec-thm-ruleclasses" data-defines="RETURNSPEC-THM-RULECLASSES" data-references="APPEND,RETURNSPEC-THM-RULECLASSES-ADD-COROLLARY,CLASSES-WITH-COROLLARIES,LIST,AND,IF,RETURNSPEC->RULE-CLASSES,CLASSES,CDR,REST,CAR,RETURNSPEC-THM-BODY,BODY,ATOM,WHEN,B*,WORLD,RETSPECS,BINDS,FNNAME,DEFUN" data-part-name="RETURNSPEC-THM-RULECLASSES" data-part-args="WORLD,RETSPECS,BINDS,FNNAME" data-part-body="APPEND,RETURNSPEC-THM-RULECLASSES-ADD-COROLLARY,CLASSES-WITH-COROLLARIES,LIST,AND,IF,RETURNSPEC->RULE-CLASSES,CLASSES,CDR,RETURNSPEC-THM-RULECLASSES,REST,WORLD,CAR,BINDS,FNNAME,RETURNSPEC-THM-BODY,BODY,RETSPECS,ATOM,WHEN,B*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="RETURNSPEC-THM-RULECLASSES">returnspec-thm-ruleclasses</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-returnspec-thm-ruleclasses" data-sym="RETURNSPEC-THM-RULECLASSES" title="(defun std::returnspec-thm-ruleclasses
       (std::fnname std::binds std::retspecs std::world)
  (std::b*
   (((when (atom std::retspecs)) nil)
    (std::body
...">returnspec-thm-ruleclasses</a>
  (fnname binds retspecs world)
  (b* (((when (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> retspecs)) nil) (<a class="sym-link system" href="../../../basis-b.html#def-body" data-sym="BODY">body</a> (returnspec-thm-body fnname
          binds
          (car retspecs)
          world))
      (<a class="sym-link system" href="../../../axioms.html#def-rest" data-sym="REST">rest</a> (<a class="sym-link local-def" href="#def-returnspec-thm-ruleclasses" data-sym="RETURNSPEC-THM-RULECLASSES" title="(defun std::returnspec-thm-ruleclasses
       (std::fnname std::binds std::retspecs std::world)
  (std::b*
   (((when (atom std::retspecs)) nil)
    (std::body
...">returnspec-thm-ruleclasses</a> fnname
          binds
          (cdr retspecs)
          world))
      (classes (returnspec-&gt;rule-classes (car retspecs)))
      (classes (if (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> classes) classes)
          (<a class="sym-link system" href="../../../axioms.html#def-list" data-sym="LIST">list</a> classes)
          classes))
      (classes-with-corollaries (<a class="sym-link local-def" href="#def-returnspec-thm-ruleclasses-add-corollary" data-sym="RETURNSPEC-THM-RULECLASSES-ADD-COROLLARY" title="(defun std::returnspec-thm-ruleclasses-add-corollary (std::classes std::body)
  (std::b*
   (((when (atom std::classes)) nil) (class (car std::classes))
    (rest
     (std::returnspec-thm-ruleclasses-add-corollary (cdr std::classes)
...">returnspec-thm-ruleclasses-add-corollary</a> classes
          <a class="sym-link system" href="../../../basis-b.html#def-body" data-sym="BODY">body</a>)))
    (<a class="sym-link system" href="../../../axioms.html#def-append" data-sym="APPEND">append</a> classes-with-corollaries <a class="sym-link system" href="../../../axioms.html#def-rest" data-sym="REST">rest</a>)))</pre>
  </div>

<div class="form-block function" id="def-returnspec-thm-hints" data-defines="RETURNSPEC-THM-HINTS" data-references="CDR,CAR,RETURNSPEC->HINTS,APPEND,ATOM,IF,RETSPECS,DEFUN" data-part-name="RETURNSPEC-THM-HINTS" data-part-args="RETSPECS" data-part-body="CDR,RETURNSPEC-THM-HINTS,CAR,RETURNSPEC->HINTS,APPEND,RETSPECS,ATOM,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="RETURNSPEC-THM-HINTS">returnspec-thm-hints</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-returnspec-thm-hints" data-sym="RETURNSPEC-THM-HINTS" title="(defun std::returnspec-thm-hints (std::retspecs)
  (if (atom std::retspecs)
      nil
      (append (std::returnspec-&gt;hints (car std::retspecs))
              (std::returnspec-thm-hints (cdr std::retspecs)))))">returnspec-thm-hints</a>
  (retspecs)
  (if (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> retspecs)
    nil
    (<a class="sym-link system" href="../../../axioms.html#def-append" data-sym="APPEND">append</a> (returnspec-&gt;hints (car retspecs))
      (<a class="sym-link local-def" href="#def-returnspec-thm-hints" data-sym="RETURNSPEC-THM-HINTS" title="(defun std::returnspec-thm-hints (std::retspecs)
  (if (atom std::retspecs)
      nil
      (append (std::returnspec-&gt;hints (car std::retspecs))
              (std::returnspec-thm-hints (cdr std::retspecs)))))">returnspec-thm-hints</a> (cdr retspecs)))))</pre>
  </div>

<div class="form-block function" id="def-find-first-string-hint" data-defines="FIND-FIRST-STRING-HINT" data-references="CDR,CAAR,STRINGP,CAR,CONSP,AND,ATOM,IF,RETSPEC-HINTS,DEFUN" data-used-by="RETURNSPECS-FLAG-ENTRIES" data-part-name="FIND-FIRST-STRING-HINT" data-part-args="RETSPEC-HINTS" data-part-body="CDR,FIND-FIRST-STRING-HINT,CAAR,STRINGP,CAR,CONSP,AND,RETSPEC-HINTS,ATOM,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="FIND-FIRST-STRING-HINT">find-first-string-hint</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-find-first-string-hint" data-sym="FIND-FIRST-STRING-HINT" title="(defun std::find-first-string-hint (std::retspec-hints)
  (if (atom std::retspec-hints)
      nil
      (if (and (consp (car std::retspec-hints))
               (stringp (caar std::retspec-hints)))
...">find-first-string-hint</a>
  (retspec-hints)
  (if (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> retspec-hints)
    nil
    (if (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (consp (car retspec-hints))
        (stringp (<a class="sym-link system" href="../../../axioms.html#def-caar" data-sym="CAAR">caar</a> retspec-hints)))
      (<a class="sym-link system" href="../../../axioms.html#def-caar" data-sym="CAAR">caar</a> retspec-hints)
      (<a class="sym-link local-def" href="#def-find-first-string-hint" data-sym="FIND-FIRST-STRING-HINT" title="(defun std::find-first-string-hint (std::retspec-hints)
  (if (atom std::retspec-hints)
      nil
      (if (and (consp (car std::retspec-hints))
               (stringp (caar std::retspec-hints)))
...">find-first-string-hint</a> (cdr retspec-hints)))))</pre>
  </div>

<div class="form-block function" id="def-returnspecs-flag-entries" data-defines="RETURNSPECS-FLAG-ENTRIES" data-references="DEFTHM,QUASIQUOTE,CONS,DEFINES,QUOTE,HARD?,ER,AND,-,X.OPTS,GETARG,HINTS-SUB-RETURNNAMES,RETURNSPEC-STRSUBST,STRSUBST,X.HINTS,FIND-FIRST-STRING-HINT,SUBGOAL,X,RETURNSPEC,CDR,T,EQ,CAR,RETURNSPEC-THM-BODY,FORMULA,ATOM,WHEN,B*,WORLD,RETSPEC-CONFIG,RULECLASS-SUBST,BODY-SUBST,BINDS,FNNAME-FN,FNNAME,FLAG,RETSPECS,DEFUN" data-used-by="FN-RETURNSPEC-FLAG-ENTRIES" data-part-name="RETURNSPECS-FLAG-ENTRIES" data-part-args="WORLD,RETSPEC-CONFIG,RULECLASS-SUBST,BODY-SUBST,BINDS,FNNAME-FN,FNNAME,FLAG,RETSPECS" data-part-body="DEFTHM,QUASIQUOTE,CONS,DEFINES,QUOTE,HARD?,ER,AND,-,X.OPTS,GETARG,HINTS-SUB-RETURNNAMES,RETURNSPEC-STRSUBST,STRSUBST,X.HINTS,FIND-FIRST-STRING-HINT,SUBGOAL,X,RETURNSPEC,RETSPEC-CONFIG,RULECLASS-SUBST,BODY-SUBST,FNNAME,FLAG,CDR,RETURNSPECS-FLAG-ENTRIES,T,EQ,WORLD,CAR,BINDS,FNNAME-FN,RETURNSPEC-THM-BODY,FORMULA,RETSPECS,ATOM,WHEN,B*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="RETURNSPECS-FLAG-ENTRIES">returnspecs-flag-entries</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-returnspecs-flag-entries" data-sym="RETURNSPECS-FLAG-ENTRIES" title="(defun std::returnspecs-flag-entries
       (std::retspecs std::flag std::fnname std::fnname-fn std::binds
        std::body-subst std::ruleclass-subst std::retspec-config std::world)
  (std::b*
   (((when (atom std::retspecs)) nil)
...">returnspecs-flag-entries</a>
  (retspecs flag
    fnname
    fnname-fn
    binds
    body-subst
    ruleclass-subst
    retspec-config
    world)
  (b* (((when (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> retspecs)) nil) (<a class="sym-link system" href="../../../history-management.html#def-formula" data-sym="FORMULA">formula</a> (returnspec-thm-body fnname-fn
          binds
          (car retspecs)
          world))
      ((when (<a class="sym-link system" href="../../../axioms.html#def-eq" data-sym="EQ">eq</a> <a class="sym-link system" href="../../../history-management.html#def-formula" data-sym="FORMULA">formula</a> <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>)) (<a class="sym-link local-def" href="#def-returnspecs-flag-entries" data-sym="RETURNSPECS-FLAG-ENTRIES" title="(defun std::returnspecs-flag-entries
       (std::retspecs std::flag std::fnname std::fnname-fn std::binds
        std::body-subst std::ruleclass-subst std::retspec-config std::world)
  (std::b*
   (((when (atom std::retspecs)) nil)
...">returnspecs-flag-entries</a> (cdr retspecs)
          flag
          fnname
          fnname-fn
          binds
          body-subst
          ruleclass-subst
          retspec-config
          world))
      ((returnspec x) (car retspecs))
      (subgoal (<a class="sym-link local-def" href="#def-find-first-string-hint" data-sym="FIND-FIRST-STRING-HINT" title="(defun std::find-first-string-hint (std::retspec-hints)
  (if (atom std::retspec-hints)
      nil
      (if (and (consp (car std::retspec-hints))
               (stringp (caar std::retspec-hints)))
...">find-first-string-hint</a> x.hints))
      (strsubst (returnspec-strsubst fnname fnname-fn))
      (hints-sub-returnnames (getarg <span class="keyword">:hints-sub-returnnames</span> (getarg <span class="keyword">:hints-sub-returnnames</span> nil retspec-config)
          x.opts))
      (<a class="sym-link system" href="../../../axioms.html#def--" data-sym="-">-</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> subgoal
          (<a class="sym-link system" href="../../../axioms.html#def-er" data-sym="ER">er</a> hard?
            '<a class="sym-link local-def" href="#def-defines" data-sym="DEFINES" title="(defmacro std::defines (std::name &amp;rest std::args)
  (let* ((std::verbose-tail (member :verbosep std::args))
         (std::verbosep (and std::verbose-tail (cadr std::verbose-tail))))
    `(std::with-output :stack :push ,@(and (not std::verbosep) &#39;(:off :all))
      (std::make-event">defines</a>
            <span class="string">"Error in returnspec theorems: unless using ~x0,~
                    subgoal hints should be given using the global ~x1 ~
                    option.  Computed hints may be given on individual ~
                    :returns entries.  Found hint for ~x2."</span>
            <span class="keyword">:returns-no-induct</span> <span class="keyword">:returns-hints</span> subgoal))))
    (cons `(<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> ,(STD::INTERN-IN-PACKAGE-OF-SYMBOL
  (CONCATENATE &#39;STRING &quot;RETURN-TYPE-OF-&quot; (SYMBOL-NAME STD::FNNAME) &quot;.&quot;
               (SYMBOL-NAME STD::X.NAME))
  STD::FNNAME)
        ,(STD::RETURNSPEC-SUBLIS STD::BODY-SUBST NIL STD::FORMULA)
        <span class="keyword">:hints</span> ,(STD::RETURNSPEC-SUBLIS
  (IF STD::HINTS-SUB-RETURNNAMES
      STD::RULECLASS-SUBST
      STD::BODY-SUBST)
  STD::STRSUBST STD::X.HINTS)
        <span class="keyword">:rule-classes</span> ,(STD::RETURNSPEC-SUBLIS STD::RULECLASS-SUBST NIL STD::X.RULE-CLASSES)
        <span class="keyword">:flag</span> ,STD::FLAG)
      (<a class="sym-link local-def" href="#def-returnspecs-flag-entries" data-sym="RETURNSPECS-FLAG-ENTRIES" title="(defun std::returnspecs-flag-entries
       (std::retspecs std::flag std::fnname std::fnname-fn std::binds
        std::body-subst std::ruleclass-subst std::retspec-config std::world)
  (std::b*
   (((when (atom std::retspecs)) nil)
...">returnspecs-flag-entries</a> (cdr retspecs)
        flag
        fnname
        fnname-fn
        binds
        body-subst
        ruleclass-subst
        retspec-config
        world))))</pre>
  </div>

<div class="form-block function" id="def-fn-returnspec-flag-entries" data-defines="FN-RETURNSPEC-FLAG-ENTRIES" data-references="RETURNSPECS-FLAG-ENTRIES,GUTS.NAME,RETURNSPEC-RETURN-VALUE-SUBST,RULECLASS-SUBST,BODY-SUBST,MV,CDR,CONSP,IF,MAKE-SYMBOLS-IGNORABLE,IGNORABLE-NAMES,GUTS.RETURNSPECS,RETURNSPECLIST->NAMES,NAMES,BINDS,QUASIQUOTE,FNCALL,GUTS.NAME-FN,LOOK-UP-FORMALS,FORMALS,GUTS->FLAG,FLAG,DEFGUTS,B*,WORLD,RETSPEC-CONFIG,GUTS,DEFUN" data-used-by="COLLECT-RETURNSPEC-FLAG-THMS" data-part-name="FN-RETURNSPEC-FLAG-ENTRIES" data-part-args="WORLD,RETSPEC-CONFIG,GUTS" data-part-body="RETSPEC-CONFIG,RETURNSPECS-FLAG-ENTRIES,GUTS.NAME,RETURNSPEC-RETURN-VALUE-SUBST,RULECLASS-SUBST,BODY-SUBST,MV,CDR,CONSP,IF,MAKE-SYMBOLS-IGNORABLE,IGNORABLE-NAMES,GUTS.RETURNSPECS,RETURNSPECLIST->NAMES,NAMES,BINDS,QUASIQUOTE,FNCALL,WORLD,GUTS.NAME-FN,LOOK-UP-FORMALS,FORMALS,GUTS->FLAG,FLAG,GUTS,DEFGUTS,B*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="FN-RETURNSPEC-FLAG-ENTRIES">fn-returnspec-flag-entries</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-fn-returnspec-flag-entries" data-sym="FN-RETURNSPEC-FLAG-ENTRIES" title="(defun std::fn-returnspec-flag-entries
       (std::guts std::retspec-config std::world)
  (std::b*
   (((std::defguts std::guts) std::guts)
    (std::flag (std::guts-&gt;flag std::guts))
...">fn-returnspec-flag-entries</a>
  (guts retspec-config world)
  (b* (((defguts guts) guts) (flag (<a class="sym-link local-def" href="#def-guts-_3Eflag" data-sym="GUTS-&gt;FLAG" title="(defun std::guts-&gt;flag (std::guts)
  (or (cdr (assoc :flag (std::defguts-&gt;kwd-alist std::guts)))
      (std::defguts-&gt;name std::guts)))">guts-&gt;flag</a> guts))
      (<a class="sym-link system" href="../../../basis-b.html#def-formals" data-sym="FORMALS">formals</a> (look-up-formals guts.name-fn world))
      (fncall `(,STD::GUTS.NAME-FN . ,STD::FORMALS))
      (binds (b* ((names (returnspeclist-&gt;names guts.returnspecs)) (ignorable-names (make-symbols-ignorable names)))
          (if (consp (cdr ignorable-names))
            `((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> . ,STD::IGNORABLE-NAMES) ,STD::FNCALL)
            `(,(CAR STD::IGNORABLE-NAMES) ,STD::FNCALL))))
      ((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> body-subst ruleclass-subst) (returnspec-return-value-subst guts.name
          guts.name-fn
          <a class="sym-link system" href="../../../basis-b.html#def-formals" data-sym="FORMALS">formals</a>
          (returnspeclist-&gt;names guts.returnspecs))))
    (<a class="sym-link local-def" href="#def-returnspecs-flag-entries" data-sym="RETURNSPECS-FLAG-ENTRIES" title="(defun std::returnspecs-flag-entries
       (std::retspecs std::flag std::fnname std::fnname-fn std::binds
        std::body-subst std::ruleclass-subst std::retspec-config std::world)
  (std::b*
   (((when (atom std::retspecs)) nil)
...">returnspecs-flag-entries</a> guts.returnspecs
      flag
      guts.name
      guts.name-fn
      binds
      body-subst
      ruleclass-subst
      retspec-config
      world)))</pre>
  </div>

<div class="form-block function" id="def-collect-returnspec-flag-thms" data-defines="COLLECT-RETURNSPEC-FLAG-THMS" data-references="CDR,CAR,FN-RETURNSPEC-FLAG-ENTRIES,APPEND,ATOM,IF,WORLD,RETSPEC-CONFIG,GUTSLIST,DEFUN" data-used-by="RETURNSPEC-FLAG-THM" data-part-name="COLLECT-RETURNSPEC-FLAG-THMS" data-part-args="WORLD,RETSPEC-CONFIG,GUTSLIST" data-part-body="CDR,COLLECT-RETURNSPEC-FLAG-THMS,WORLD,RETSPEC-CONFIG,CAR,FN-RETURNSPEC-FLAG-ENTRIES,APPEND,GUTSLIST,ATOM,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="COLLECT-RETURNSPEC-FLAG-THMS">collect-returnspec-flag-thms</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-collect-returnspec-flag-thms" data-sym="COLLECT-RETURNSPEC-FLAG-THMS" title="(defun std::collect-returnspec-flag-thms
       (std::gutslist std::retspec-config std::world)
  (if (atom std::gutslist)
      nil
      (append
...">collect-returnspec-flag-thms</a>
  (gutslist retspec-config world)
  (if (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> gutslist)
    nil
    (<a class="sym-link system" href="../../../axioms.html#def-append" data-sym="APPEND">append</a> (<a class="sym-link local-def" href="#def-fn-returnspec-flag-entries" data-sym="FN-RETURNSPEC-FLAG-ENTRIES" title="(defun std::fn-returnspec-flag-entries
       (std::guts std::retspec-config std::world)
  (std::b*
   (((std::defguts std::guts) std::guts)
    (std::flag (std::guts-&gt;flag std::guts))
...">fn-returnspec-flag-entries</a> (car gutslist)
        retspec-config
        world)
      (<a class="sym-link local-def" href="#def-collect-returnspec-flag-thms" data-sym="COLLECT-RETURNSPEC-FLAG-THMS" title="(defun std::collect-returnspec-flag-thms
       (std::gutslist std::retspec-config std::world)
  (if (atom std::gutslist)
      nil
      (append
...">collect-returnspec-flag-thms</a> (cdr gutslist)
        retspec-config
        world))))</pre>
  </div>

<div class="form-block function" id="def-returnspec-mrec-default-default-hint" data-defines="RETURNSPEC-MREC-DEFAULT-DEFAULT-HINT" data-references="DISABLE,EXPAND-CALLS,STABLE-UNDER-SIMPLIFICATIONP,QUASIQUOTE,QUOTE,EQUAL,CLAUSE-ID,ACCESS,EQL,AND,T,RECURSIVEP,FNS,LET,WORLD,ID,FNNAME,DEFUN" data-part-name="RETURNSPEC-MREC-DEFAULT-DEFAULT-HINT" data-part-args="WORLD,ID,FNNAME" data-part-body="DISABLE,EXPAND-CALLS,STABLE-UNDER-SIMPLIFICATIONP,QUASIQUOTE,QUOTE,EQUAL,ID,CLAUSE-ID,ACCESS,EQL,AND,WORLD,T,FNNAME,RECURSIVEP,FNS,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="RETURNSPEC-MREC-DEFAULT-DEFAULT-HINT">returnspec-mrec-default-default-hint</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-returnspec-mrec-default-default-hint" data-sym="RETURNSPEC-MREC-DEFAULT-DEFAULT-HINT" title="(defun std::returnspec-mrec-default-default-hint
       (std::fnname std::id std::world)
  (let ((std::fns (recursivep std::fnname t std::world)))
    (and (eql 0 (access clause-id std::id :forcing-round))
         (equal &#39;(1) (access clause-id std::id :pool-lst))
...">returnspec-mrec-default-default-hint</a>
  (fnname id world)
  (let ((fns (recursivep fnname <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a> world)))
    (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-eql" data-sym="EQL">eql</a> <span class="number">0</span> (<a class="sym-link system" href="../../../axioms.html#def-access" data-sym="ACCESS">access</a> clause-id id <span class="keyword">:forcing-round</span>))
      (equal '(<span class="number">1</span>) (<a class="sym-link system" href="../../../axioms.html#def-access" data-sym="ACCESS">access</a> clause-id id <span class="keyword">:pool-lst</span>))
      `(<span class="keyword">:computed-hint-replacement</span> ((<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> stable-under-simplificationp
           (expand-calls . ,STD::FNS)))
        <span class="keyword">:in-theory</span> (disable . ,STD::FNS)))))</pre>
  </div>

<div class="form-block function" id="def-returnspec-mrec-default-hints" data-defines="RETURNSPEC-MREC-DEFAULT-HINTS" data-references="SUBST,DEFAULT-HINTS-TABLE,TABLE-ALIST,RETURNSPEC-MREC,QUOTE,ASSOC,CDR,ENTRY,LET,WORLD,FNNAME,DEFUN" data-used-by="RETURNSPEC-FLAG-THM" data-part-name="RETURNSPEC-MREC-DEFAULT-HINTS" data-part-args="WORLD,FNNAME" data-part-body="FNNAME,SUBST,WORLD,DEFAULT-HINTS-TABLE,TABLE-ALIST,RETURNSPEC-MREC,QUOTE,ASSOC,CDR,ENTRY,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="RETURNSPEC-MREC-DEFAULT-HINTS">returnspec-mrec-default-hints</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-returnspec-mrec-default-hints" data-sym="RETURNSPEC-MREC-DEFAULT-HINTS" title="(defun std::returnspec-mrec-default-hints (std::fnname std::world)
  (let ((std::entry
         (cdr
          (assoc &#39;std::returnspec-mrec
                 (std::table-alist &#39;std::default-hints-table std::world)))))">returnspec-mrec-default-hints</a>
  (fnname world)
  (let ((entry (cdr (<a class="sym-link system" href="../../../axioms.html#def-assoc" data-sym="ASSOC">assoc</a> 'returnspec-mrec
           (<a class="sym-link system" href="../../../axioms.html#def-table-alist" data-sym="TABLE-ALIST">table-alist</a> 'default-hints-table world)))))
    (<a class="sym-link system" href="../../../axioms.html#def-subst" data-sym="SUBST">subst</a> fnname 'fnname entry)))</pre>
  </div>

<div class="form-block macro" id="def-set-returnspec-mrec-default-hints" data-defines="SET-RETURNSPEC-MREC-DEFAULT-HINTS" data-references="RETURNSPEC-MREC,QUOTE,DEFAULT-HINTS-TABLE,TABLE,QUASIQUOTE,HINT,DEFMACRO" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="SET-RETURNSPEC-MREC-DEFAULT-HINTS">set-returnspec-mrec-default-hints</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-set-returnspec-mrec-default-hints" data-sym="SET-RETURNSPEC-MREC-DEFAULT-HINTS" title="(defmacro std::set-returnspec-mrec-default-hints (std::hint)
  `(std::table std::default-hints-table &#39;std::returnspec-mrec &#39;,std::hint))">set-returnspec-mrec-default-hints</a>
  (hint)
  `(<a class="sym-link system" href="../../../axioms.html#def-table" data-sym="TABLE">table</a> default-hints-table
    'returnspec-mrec
    ',STD::HINT))</pre>
  </div>

<div class="form-block other" id="form-34" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-set-returnspec-mrec-default-hints" data-sym="SET-RETURNSPEC-MREC-DEFAULT-HINTS" title="(defmacro std::set-returnspec-mrec-default-hints (std::hint)
  `(std::table std::default-hints-table &#39;std::returnspec-mrec &#39;,std::hint))">set-returnspec-mrec-default-hints</a> ((<a class="sym-link local-def" href="#def-returnspec-mrec-default-default-hint" data-sym="RETURNSPEC-MREC-DEFAULT-DEFAULT-HINT" title="(defun std::returnspec-mrec-default-default-hint
       (std::fnname std::id std::world)
  (let ((std::fns (recursivep std::fnname t std::world)))
    (and (eql 0 (access clause-id std::id :forcing-round))
         (equal &#39;(1) (access clause-id std::id :pool-lst))
...">returnspec-mrec-default-default-hint</a> 'fnname
     id
     world)))</pre>
  </div>

<div class="form-block function" id="def-returnspec-flag-thm" data-defines="RETURNSPEC-FLAG-THM" data-references="VALUE-TRIPLE,T,QUASIQUOTE,CAR,DEFGUTS->NAME-FN,RETURNSPEC-MREC-DEFAULT-HINTS,EQ,IF,HINTS,DEFINE,TABLE-ALIST,RETURNSPEC-CONFIG,QUOTE,ASSOC,CDR,COLLECT-RETURNSPEC-FLAG-THMS,THMS,LET*,WORLD,RETURNS-HINTS,GUTSLIST,DEFTHM-MACRO,DEFUN" data-part-name="RETURNSPEC-FLAG-THM" data-part-args="WORLD,RETURNS-HINTS,GUTSLIST,DEFTHM-MACRO" data-part-body="VALUE-TRIPLE,T,QUASIQUOTE,CAR,DEFGUTS->NAME-FN,RETURNSPEC-MREC-DEFAULT-HINTS,RETURNS-HINTS,EQ,IF,HINTS,WORLD,DEFINE,TABLE-ALIST,RETURNSPEC-CONFIG,QUOTE,ASSOC,CDR,GUTSLIST,COLLECT-RETURNSPEC-FLAG-THMS,THMS,LET*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="RETURNSPEC-FLAG-THM">returnspec-flag-thm</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-returnspec-flag-thm" data-sym="RETURNSPEC-FLAG-THM" title="(defun std::returnspec-flag-thm
       (std::defthm-macro std::gutslist std::returns-hints std::world)
  (let* ((std::thms
          (std::collect-returnspec-flag-thms std::gutslist
           (cdr
...">returnspec-flag-thm</a>
  (defthm-macro gutslist
    returns-hints
    world)
  (<a class="sym-link system" href="../../../axioms.html#def-let_2A" data-sym="LET*">let*</a> ((thms (<a class="sym-link local-def" href="#def-collect-returnspec-flag-thms" data-sym="COLLECT-RETURNSPEC-FLAG-THMS" title="(defun std::collect-returnspec-flag-thms
       (std::gutslist std::retspec-config std::world)
  (if (atom std::gutslist)
      nil
      (append
...">collect-returnspec-flag-thms</a> gutslist
         (cdr (<a class="sym-link system" href="../../../axioms.html#def-assoc" data-sym="ASSOC">assoc</a> 'returnspec-config
             (<a class="sym-link system" href="../../../axioms.html#def-table-alist" data-sym="TABLE-ALIST">table-alist</a> 'define world)))
         world)) (hints (if (<a class="sym-link system" href="../../../axioms.html#def-eq" data-sym="EQ">eq</a> returns-hints <span class="keyword">:none</span>)
          (<a class="sym-link local-def" href="#def-returnspec-mrec-default-hints" data-sym="RETURNSPEC-MREC-DEFAULT-HINTS" title="(defun std::returnspec-mrec-default-hints (std::fnname std::world)
  (let ((std::entry
         (cdr
          (assoc &#39;std::returnspec-mrec
                 (std::table-alist &#39;std::default-hints-table std::world)))))">returnspec-mrec-default-hints</a> (defguts-&gt;name-fn (car gutslist))
            world)
          returns-hints)))
    (if thms
      `(,STD::DEFTHM-MACRO ,@STD::THMS
        <span class="keyword">:skip-others</span> <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>
        <span class="keyword">:hints</span> ,STD::HINTS)
      `(<a class="sym-link system" href="../../../axioms.html#def-value-triple" data-sym="VALUE-TRIPLE">value-triple</a> <span class="keyword">:skipped</span>))))</pre>
  </div>

<div class="form-block other" id="form-36" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(def-primitive-aggregate defines-guts
  (name gutslist
    kwd-alist
    flag-mapping
    flag-defthm-macro
    guards-after-returns))</pre>
  </div>

<div class="form-block function" id="def-get-defines-alist" data-defines="GET-DEFINES-ALIST" data-references="DEFINE,TABLE-ALIST,DEFINES-ALIST,QUOTE,ASSOC,CDR,WORLD,DEFUN" data-used-by="DEFRET-MUTUAL-FN,EXTEND-DEFINES-ALIST" data-part-name="GET-DEFINES-ALIST" data-part-args="WORLD" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="GET-DEFINES-ALIST">get-defines-alist</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-get-defines-alist" data-sym="GET-DEFINES-ALIST" title="(defun std::get-defines-alist (std::world)
  &quot;Look up information about the current defines in the world.&quot;
  (cdr (assoc &#39;std::defines-alist (std::table-alist &#39;std::define std::world))))">get-defines-alist</a>
  (world)
  <span class="string">"Look up information about the current defines in the world."</span>
  (cdr (<a class="sym-link system" href="../../../axioms.html#def-assoc" data-sym="ASSOC">assoc</a> 'defines-alist
      (<a class="sym-link system" href="../../../axioms.html#def-table-alist" data-sym="TABLE-ALIST">table-alist</a> 'define world))))</pre>
  </div>

<div class="form-block function" id="def-extend-defines-alist" data-defines="EXTEND-DEFINES-ALIST" data-references="WORLD,GET-DEFINES-ALIST,CONS,DEFINES-ALIST,QUOTE,DEFINE,TABLE,QUASIQUOTE,GUTS,DEFUN" data-part-name="EXTEND-DEFINES-ALIST" data-part-args="GUTS" data-part-body="WORLD,GET-DEFINES-ALIST,CONS,DEFINES-ALIST,QUOTE,DEFINE,TABLE,QUASIQUOTE" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="EXTEND-DEFINES-ALIST">extend-defines-alist</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-extend-defines-alist" data-sym="EXTEND-DEFINES-ALIST" title="(defun std::extend-defines-alist (std::guts)
  `(std::table std::define &#39;std::defines-alist
    (cons (cons &#39;,(std::defines-guts-&gt;name std::guts) &#39;,std::guts)
          (std::get-defines-alist std::world))))">extend-defines-alist</a>
  (guts)
  `(<a class="sym-link system" href="../../../axioms.html#def-table" data-sym="TABLE">table</a> define
    'defines-alist
    (cons (cons ',(STD::DEFINES-GUTS-&gt;NAME STD::GUTS) ',STD::GUTS)
      (<a class="sym-link local-def" href="#def-get-defines-alist" data-sym="GET-DEFINES-ALIST" title="(defun std::get-defines-alist (std::world)
  &quot;Look up information about the current defines in the world.&quot;
  (cdr (assoc &#39;std::defines-alist (std::table-alist &#39;std::define std::world))))">get-defines-alist</a> world))))</pre>
  </div>

<div class="form-block function" id="def-gutslist-find-hints" data-defines="GUTSLIST-FIND-HINTS" data-references="CDR,CAR,DEFGUTS->KWD-ALIST,GETARG,OR,ATOM,IF,GUTSLIST,DEFUN" data-used-by="DEFINES-FN" data-part-name="GUTSLIST-FIND-HINTS" data-part-args="GUTSLIST" data-part-body="CDR,GUTSLIST-FIND-HINTS,CAR,DEFGUTS->KWD-ALIST,GETARG,OR,GUTSLIST,ATOM,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="GUTSLIST-FIND-HINTS">gutslist-find-hints</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-gutslist-find-hints" data-sym="GUTSLIST-FIND-HINTS" title="(defun std::gutslist-find-hints (std::gutslist)
  (if (atom std::gutslist)
      nil
      (or
       (std::getarg :hints nil (std::defguts-&gt;kwd-alist (car std::gutslist)))">gutslist-find-hints</a>
  (gutslist)
  (if (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> gutslist)
    nil
    (<a class="sym-link system" href="../../../axioms.html#def-or" data-sym="OR">or</a> (getarg <span class="keyword">:hints</span> nil
        (defguts-&gt;kwd-alist (car gutslist)))
      (<a class="sym-link local-def" href="#def-gutslist-find-hints" data-sym="GUTSLIST-FIND-HINTS" title="(defun std::gutslist-find-hints (std::gutslist)
  (if (atom std::gutslist)
      nil
      (or
       (std::getarg :hints nil (std::defguts-&gt;kwd-alist (car std::gutslist)))">gutslist-find-hints</a> (cdr gutslist)))))</pre>
  </div>

<div class="form-block function" id="def-apply-ruler-extenders-to-defs" data-defines="APPLY-RULER-EXTENDERS-TO-DEFS" data-references="CDR,NTHCDR,XARGS,DECLARE,QUASIQUOTE,CAR,TAKE,APPEND,CONS,ATOM,IF,DEFS,RULER-EXTENDERS,DEFUN" data-used-by="DEFINES-FN" data-part-name="APPLY-RULER-EXTENDERS-TO-DEFS" data-part-args="DEFS,RULER-EXTENDERS" data-part-body="CDR,RULER-EXTENDERS,APPLY-RULER-EXTENDERS-TO-DEFS,NTHCDR,XARGS,DECLARE,QUASIQUOTE,CAR,TAKE,APPEND,CONS,DEFS,ATOM,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="APPLY-RULER-EXTENDERS-TO-DEFS">apply-ruler-extenders-to-defs</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-apply-ruler-extenders-to-defs" data-sym="APPLY-RULER-EXTENDERS-TO-DEFS" title="(defun std::apply-ruler-extenders-to-defs (std::ruler-extenders std::defs)
  (if (atom std::defs)
      nil
      (cons
       (append (std::take 3 (car std::defs))
...">apply-ruler-extenders-to-defs</a>
  (ruler-extenders defs)
  (if (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> defs)
    nil
    (cons (<a class="sym-link system" href="../../../axioms.html#def-append" data-sym="APPEND">append</a> (<a class="sym-link system" href="../../../axioms.html#def-take" data-sym="TAKE">take</a> <span class="number">3</span> (car defs))
        `((declare (xargs <span class="keyword">:ruler-extenders</span> ,STD::RULER-EXTENDERS)))
        (<a class="sym-link system" href="../../../axioms.html#def-nthcdr" data-sym="NTHCDR">nthcdr</a> <span class="number">3</span> (car defs)))
      (<a class="sym-link local-def" href="#def-apply-ruler-extenders-to-defs" data-sym="APPLY-RULER-EXTENDERS-TO-DEFS" title="(defun std::apply-ruler-extenders-to-defs (std::ruler-extenders std::defs)
  (if (atom std::defs)
      nil
      (cons
       (append (std::take 3 (car std::defs))
...">apply-ruler-extenders-to-defs</a> ruler-extenders
        (cdr defs)))))</pre>
  </div>

<div class="form-block function" id="def-maybe-inject-global-docs" data-defines="MAYBE-INJECT-GLOBAL-DOCS" data-references="CHANGE-DEFGUTS,NEW-GUTS,IF,OR,ACONS,REMOVE1-ASSOC,KWD-ALIST,DEFINES,DEFINE,RAISE,AND,ASSOC,CONSP,SUB-PARENTSP,SUB-PARENTS,SUB-LONG,GUTS1.KWD-ALIST,GETARG,SUB-SHORT,CONS,GUTS1.NAME,EQUAL,UNLESS,DEFGUTS,CAR,GUTS1,CDR,REST,ATOM,WHEN,QUOTE,__FUNCTION__,B*,GUTSLIST,LONG,SHORT,PARENTS,PARENTSP,NAME,DEFUN" data-used-by="DEFINES-FN" data-part-name="MAYBE-INJECT-GLOBAL-DOCS" data-part-args="GUTSLIST,LONG,SHORT,PARENTS,PARENTSP,NAME" data-part-body="CHANGE-DEFGUTS,NEW-GUTS,IF,OR,ACONS,REMOVE1-ASSOC,KWD-ALIST,DEFINES,DEFINE,RAISE,AND,ASSOC,CONSP,SUB-PARENTSP,SUB-PARENTS,SUB-LONG,GUTS1.KWD-ALIST,GETARG,SUB-SHORT,CONS,GUTS1.NAME,EQUAL,UNLESS,DEFGUTS,CAR,GUTS1,CDR,LONG,SHORT,PARENTS,PARENTSP,NAME,REST,GUTSLIST,ATOM,WHEN,MAYBE-INJECT-GLOBAL-DOCS,QUOTE,__FUNCTION__,B*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="MAYBE-INJECT-GLOBAL-DOCS">maybe-inject-global-docs</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-maybe-inject-global-docs" data-sym="MAYBE-INJECT-GLOBAL-DOCS" title="(defun std::maybe-inject-global-docs
       (std::name std::parentsp std::parents std::short std::long
        std::gutslist)
  (std::b*
   ((std::__function__ &#39;std::maybe-inject-global-docs)
...">maybe-inject-global-docs</a>
  (name parentsp
    parents
    short
    long
    gutslist)
  (b* ((__function__ '<a class="sym-link local-def" href="#def-maybe-inject-global-docs" data-sym="MAYBE-INJECT-GLOBAL-DOCS" title="(defun std::maybe-inject-global-docs
       (std::name std::parentsp std::parents std::short std::long
        std::gutslist)
  (std::b*
   ((std::__function__ &#39;std::maybe-inject-global-docs)
...">maybe-inject-global-docs</a>) ((when (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> gutslist)) nil)
      (<a class="sym-link system" href="../../../axioms.html#def-rest" data-sym="REST">rest</a> (<a class="sym-link local-def" href="#def-maybe-inject-global-docs" data-sym="MAYBE-INJECT-GLOBAL-DOCS" title="(defun std::maybe-inject-global-docs
       (std::name std::parentsp std::parents std::short std::long
        std::gutslist)
  (std::b*
   ((std::__function__ &#39;std::maybe-inject-global-docs)
...">maybe-inject-global-docs</a> name
          parentsp
          parents
          short
          long
          (cdr gutslist)))
      (guts1 (car gutslist))
      ((defguts guts1) guts1)
      ((unless (equal guts1.name name)) (cons (car gutslist) <a class="sym-link system" href="../../../axioms.html#def-rest" data-sym="REST">rest</a>))
      (sub-short (getarg <span class="keyword">:short</span> nil guts1.kwd-alist))
      (sub-long (getarg <span class="keyword">:long</span> nil guts1.kwd-alist))
      (sub-parents (getarg <span class="keyword">:parents</span> nil guts1.kwd-alist))
      (sub-parentsp (consp (<a class="sym-link system" href="../../../axioms.html#def-assoc" data-sym="ASSOC">assoc</a> <span class="keyword">:parents</span> guts1.kwd-alist)))
      ((when (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> parentsp sub-parentsp)) (raise <span class="string">"Can&#39;t give :parents in (~x1 ~x0 ...) because there are global ~
                :parents in the (~x2 ~x0 ...) form."</span>
          name
          'define
          '<a class="sym-link local-def" href="#def-defines" data-sym="DEFINES" title="(defmacro std::defines (std::name &amp;rest std::args)
  (let* ((std::verbose-tail (member :verbosep std::args))
         (std::verbosep (and std::verbose-tail (cadr std::verbose-tail))))
    `(std::with-output :stack :push ,@(and (not std::verbosep) &#39;(:off :all))
      (std::make-event">defines</a>))
      ((when (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> short sub-short)) (raise <span class="string">"Can&#39;t give :short in (~x1 ~x0 ...) because there is a global ~
                :short in the (~x2 ~x0 ...) form."</span>
          name
          'define
          '<a class="sym-link local-def" href="#def-defines" data-sym="DEFINES" title="(defmacro std::defines (std::name &amp;rest std::args)
  (let* ((std::verbose-tail (member :verbosep std::args))
         (std::verbosep (and std::verbose-tail (cadr std::verbose-tail))))
    `(std::with-output :stack :push ,@(and (not std::verbosep) &#39;(:off :all))
      (std::make-event">defines</a>))
      ((when (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> long sub-long)) (raise <span class="string">"Can&#39;t give :long in (~x1 ~x0 ...) because there is a global ~
                :long in the (~x2 ~x0 ...) form."</span>
          name
          'define
          '<a class="sym-link local-def" href="#def-defines" data-sym="DEFINES" title="(defmacro std::defines (std::name &amp;rest std::args)
  (let* ((std::verbose-tail (member :verbosep std::args))
         (std::verbosep (and std::verbose-tail (cadr std::verbose-tail))))
    `(std::with-output :stack :push ,@(and (not std::verbosep) &#39;(:off :all))
      (std::make-event">defines</a>))
      (kwd-alist guts1.kwd-alist)
      (kwd-alist (<a class="sym-link system" href="../../../axioms.html#def-remove1-assoc" data-sym="REMOVE1-ASSOC">remove1-assoc</a> <span class="keyword">:short</span> kwd-alist))
      (kwd-alist (<a class="sym-link system" href="../../../axioms.html#def-remove1-assoc" data-sym="REMOVE1-ASSOC">remove1-assoc</a> <span class="keyword">:long</span> kwd-alist))
      (kwd-alist (<a class="sym-link system" href="../../../axioms.html#def-remove1-assoc" data-sym="REMOVE1-ASSOC">remove1-assoc</a> <span class="keyword">:parents</span> kwd-alist))
      (kwd-alist (<a class="sym-link system" href="../../../axioms.html#def-acons" data-sym="ACONS">acons</a> <span class="keyword">:short</span> (<a class="sym-link system" href="../../../axioms.html#def-or" data-sym="OR">or</a> short sub-short) kwd-alist))
      (kwd-alist (<a class="sym-link system" href="../../../axioms.html#def-acons" data-sym="ACONS">acons</a> <span class="keyword">:long</span> (<a class="sym-link system" href="../../../axioms.html#def-or" data-sym="OR">or</a> long sub-long) kwd-alist))
      (kwd-alist (<a class="sym-link system" href="../../../axioms.html#def-acons" data-sym="ACONS">acons</a> <span class="keyword">:parents</span> (if parentsp
            parents
            sub-parents)
          kwd-alist))
      (new-guts (change-defguts guts1 <span class="keyword">:kwd-alist</span> kwd-alist)))
    (cons new-guts <a class="sym-link system" href="../../../axioms.html#def-rest" data-sym="REST">rest</a>)))</pre>
  </div>

<div class="form-block function" id="def-split-_2F_2F_2F-defines" data-defines="SPLIT-///-DEFINES" data-references="IF,REST-EVENTS2,REST-EVENTS1,SPLIT-///,REST-EVENTS,MAIN-STUFF,MV,B*,ARGS,NAME,DEFUN" data-used-by="DEFINES-FN" data-part-name="SPLIT-///-DEFINES" data-part-args="ARGS,NAME" data-part-body="IF,REST-EVENTS2,REST-EVENTS1,ARGS,NAME,SPLIT-///,REST-EVENTS,MAIN-STUFF,MV,B*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="SPLIT-///-DEFINES">split-///-defines</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-split-_2F_2F_2F-defines" data-sym="SPLIT-///-DEFINES" title="(defun std::split-///-defines (std::name std::args)
  (std::b*
   (((std::mv std::main-stuff std::rest-events)
     (std::split-/// std::name std::args))
    ((std::mv std::rest-events1 std::rest-events2)
...">split-///-defines</a>
  (name <a class="sym-link system" href="../../../defuns.html#def-args" data-sym="ARGS">args</a>)
  (b* (((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> main-stuff rest-events) (split-/// name <a class="sym-link system" href="../../../defuns.html#def-args" data-sym="ARGS">args</a>)) ((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> rest-events1 rest-events2) (split-/// name rest-events))
      ((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> rest-events1 rest-events2) (if rest-events2
          (<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> rest-events1 rest-events2)
          (<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> nil rest-events1))))
    (<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> main-stuff
      rest-events1
      rest-events2)))</pre>
  </div>

<div class="form-block function" id="def-defines-fn" data-defines="DEFINES-FN" data-references="REST-EVENTS-1,DEFSECTION,ERROR,DEFSECTION-PROGN,PROGN,WITH-OUTPUT,PROGNP,MAKE-DEFINES-GUTS,DEFINES-GUTS,COLLECT-DEFINES-TO-DISABLE,FNS-TO-DISABLE,COLLECT-FN-DEFSECTIONS,SECTIONS-REST,FN-SECTIONS,THM-MACRO-NAME,THM-MACRO,WHEN,RETURNS-HINTS,NOT,RETURNS-INDUCT,STRIP-CADRS,NO-DUPLICATESP-EQ,COLLECT-FLAG-MAPPING,FLAG-MAPPING,GUTSLIST-FIND-HINTS,FLAG-HINTS,FLAG-DEFTHM-MACRO,T,FLAG-LOCAL,FLAG-VAR,SYMBOL-NAME,STRING,CONCATENATE,INTERN-IN-PACKAGE-OF-SYMBOL,FLAG-NAME,COLLECT-GUTS-ALIST-EXTS,GUTS-TABLE-EXTS,COLLECT-MACRO-ALIASES,ALIASES,MUTUAL-RECURSION,MUTUAL-REC,APPLY-RULER-EXTENDERS-TO-DEFS,NTHCDR,QUASIQUOTE,TAKE,CONS,FINAL-DEFS,COLLECT-MAIN-DEFS,ORIG-DEFS,RULER-EXTENDERS,PUT-ASSOC,GET-XARGS-FROM-KWD-ALIST,EXTRA-XARGS,MAKE-IGNORE-EVENTS,SET-IGNORES,COLLECT-MACROS,MACROS,COLLECT-PREPWORKS,APPEND,TRUE-LISTP,PREPWORK,MAYBE-INJECT-GLOBAL-DOCS,REMOVE1-ASSOC,MEMBER,OR,WANT-XDOC-P,COLLECT-NAMES-FROM-GUTS,FNNAMES,GET-DEFAULT-PARENTS,IF,PARENTS-P,PARENTS,LONG,GETARG,SHORT,CAR,DEFGUTS->NAME-FN,AND,VERIFY-GUARDS-NAME,ASSOC,EQ,VERIFY-GUARDS-AFTER-RETURNS,CDR,CONSP,PARSE-DEFINES,GUTSLIST,*DEFINES-KEYWORDS*,EXTRACT-KEYWORDS,DEFS,KWD-ALIST,SPLIT-///-DEFINES,REST-EVENTS2,REST-EVENTS1,MAIN-STUFF,MV,RAISE,SYMBOLP,UNLESS,DEFINES,QUOTE,__FUNCTION__,B*,PLIST-WORLDP,XARGS,DECLARE,WORLD,ARGS,NAME,DEFUN" data-used-by="DEFINES" data-part-name="DEFINES-FN" data-part-args="WORLD,ARGS,NAME" data-part-declare="WORLD,PLIST-WORLDP,XARGS,DECLARE" data-part-body="REST-EVENTS-1,DEFSECTION,ERROR,DEFSECTION-PROGN,PROGN,WITH-OUTPUT,PROGNP,MAKE-DEFINES-GUTS,DEFINES-GUTS,COLLECT-DEFINES-TO-DISABLE,FNS-TO-DISABLE,COLLECT-FN-DEFSECTIONS,SECTIONS-REST,FN-SECTIONS,THM-MACRO-NAME,THM-MACRO,WHEN,RETURNS-HINTS,NOT,RETURNS-INDUCT,STRIP-CADRS,NO-DUPLICATESP-EQ,COLLECT-FLAG-MAPPING,FLAG-MAPPING,GUTSLIST-FIND-HINTS,FLAG-HINTS,FLAG-DEFTHM-MACRO,T,FLAG-LOCAL,FLAG-VAR,SYMBOL-NAME,STRING,CONCATENATE,INTERN-IN-PACKAGE-OF-SYMBOL,FLAG-NAME,COLLECT-GUTS-ALIST-EXTS,GUTS-TABLE-EXTS,COLLECT-MACRO-ALIASES,ALIASES,MUTUAL-RECURSION,MUTUAL-REC,APPLY-RULER-EXTENDERS-TO-DEFS,NTHCDR,XARGS,DECLARE,QUASIQUOTE,TAKE,CONS,FINAL-DEFS,COLLECT-MAIN-DEFS,ORIG-DEFS,RULER-EXTENDERS,PUT-ASSOC,GET-XARGS-FROM-KWD-ALIST,EXTRA-XARGS,MAKE-IGNORE-EVENTS,SET-IGNORES,COLLECT-MACROS,MACROS,COLLECT-PREPWORKS,APPEND,TRUE-LISTP,PREPWORK,MAYBE-INJECT-GLOBAL-DOCS,REMOVE1-ASSOC,MEMBER,OR,WANT-XDOC-P,COLLECT-NAMES-FROM-GUTS,FNNAMES,GET-DEFAULT-PARENTS,IF,PARENTS-P,PARENTS,LONG,GETARG,SHORT,CAR,DEFGUTS->NAME-FN,AND,VERIFY-GUARDS-NAME,ASSOC,EQ,VERIFY-GUARDS-AFTER-RETURNS,CDR,CONSP,WORLD,PARSE-DEFINES,GUTSLIST,*DEFINES-KEYWORDS*,EXTRACT-KEYWORDS,DEFS,KWD-ALIST,ARGS,SPLIT-///-DEFINES,REST-EVENTS2,REST-EVENTS1,MAIN-STUFF,MV,RAISE,NAME,SYMBOLP,UNLESS,DEFINES,QUOTE,__FUNCTION__,B*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFINES-FN">defines-fn</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-defines-fn" data-sym="DEFINES-FN" title="(defun std::defines-fn (std::name std::args std::world)
  (declare (std::xargs :guard (std::plist-worldp std::world)))
  (std::b*
   ((std::__function__ &#39;std::defines)
    ((unless (symbolp std::name))
...">defines-fn</a>
  (name <a class="sym-link system" href="../../../defuns.html#def-args" data-sym="ARGS">args</a> world)
  (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="../../../axioms.html#def-plist-worldp" data-sym="PLIST-WORLDP">plist-worldp</a> world)))
  (b* ((__function__ '<a class="sym-link local-def" href="#def-defines" data-sym="DEFINES" title="(defmacro std::defines (std::name &amp;rest std::args)
  (let* ((std::verbose-tail (member :verbosep std::args))
         (std::verbosep (and std::verbose-tail (cadr std::verbose-tail))))
    `(std::with-output :stack :push ,@(and (not std::verbosep) &#39;(:off :all))
      (std::make-event">defines</a>) ((unless (symbolp name)) (raise <span class="string">"Expected name to be a symbol, but found ~x0."</span>
          name))
      ((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> main-stuff
         rest-events1
         rest-events2) (<a class="sym-link local-def" href="#def-split-_2F_2F_2F-defines" data-sym="SPLIT-///-DEFINES" title="(defun std::split-///-defines (std::name std::args)
  (std::b*
   (((std::mv std::main-stuff std::rest-events)
     (std::split-/// std::name std::args))
    ((std::mv std::rest-events1 std::rest-events2)
...">split-///-defines</a> name <a class="sym-link system" href="../../../defuns.html#def-args" data-sym="ARGS">args</a>))
      ((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> kwd-alist defs) (extract-keywords name
          *defines-keywords*
          main-stuff
          nil))
      (gutslist (<a class="sym-link local-def" href="#def-parse-defines" data-sym="PARSE-DEFINES" title="(defun std::parse-defines (std::ctx std::forms std::extra-keywords std::world)
  (std::b*
   (((when (atom std::forms)) nil) (std::form1 (car std::forms))
    ((unless
         (and (consp std::form1) (consp (cdr std::form1))
...">parse-defines</a> name defs '(<span class="keyword">:flag</span>) world))
      ((unless (consp (cdr gutslist))) (raise <span class="string">"Error in ~x0: expected more than one function."</span>
          name))
      (verify-guards-after-returns (<a class="sym-link system" href="../../../axioms.html#def-eq" data-sym="EQ">eq</a> (cdr (<a class="sym-link system" href="../../../axioms.html#def-assoc" data-sym="ASSOC">assoc</a> <span class="keyword">:verify-guards</span> kwd-alist))
          <span class="keyword">:after-returns</span>))
      (verify-guards-name (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> verify-guards-after-returns
          (defguts-&gt;name-fn (car gutslist))))
      (short (getarg <span class="keyword">:short</span> nil kwd-alist))
      (long (getarg <span class="keyword">:long</span> nil kwd-alist))
      (parents (getarg <span class="keyword">:parents</span> nil kwd-alist))
      (parents-p (consp (<a class="sym-link system" href="../../../axioms.html#def-assoc" data-sym="ASSOC">assoc</a> <span class="keyword">:parents</span> kwd-alist)))
      (parents (if parents-p
          parents
          (get-default-parents world)))
      (fnnames (<a class="sym-link local-def" href="#def-collect-names-from-guts" data-sym="COLLECT-NAMES-FROM-GUTS" title="(defun std::collect-names-from-guts (std::gutslist)
  (if (atom std::gutslist)
      nil
      (cons (std::defguts-&gt;name (car std::gutslist))
            (std::collect-names-from-guts (cdr std::gutslist)))))">collect-names-from-guts</a> gutslist))
      (want-xdoc-p (<a class="sym-link system" href="../../../axioms.html#def-or" data-sym="OR">or</a> short long parents-p))
      ((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> short
         long
         parents
         kwd-alist
         gutslist) (if (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> want-xdoc-p (<a class="sym-link system" href="../../../axioms.html#def-member" data-sym="MEMBER">member</a> name fnnames))
          (<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> nil
            nil
            nil
            (<a class="sym-link system" href="../../../axioms.html#def-remove1-assoc" data-sym="REMOVE1-ASSOC">remove1-assoc</a> <span class="keyword">:parents</span> (<a class="sym-link system" href="../../../axioms.html#def-remove1-assoc" data-sym="REMOVE1-ASSOC">remove1-assoc</a> <span class="keyword">:short</span> (<a class="sym-link system" href="../../../axioms.html#def-remove1-assoc" data-sym="REMOVE1-ASSOC">remove1-assoc</a> <span class="keyword">:long</span> kwd-alist)))
            (<a class="sym-link local-def" href="#def-maybe-inject-global-docs" data-sym="MAYBE-INJECT-GLOBAL-DOCS" title="(defun std::maybe-inject-global-docs
       (std::name std::parentsp std::parents std::short std::long
        std::gutslist)
  (std::b*
   ((std::__function__ &#39;std::maybe-inject-global-docs)
...">maybe-inject-global-docs</a> name
              parents-p
              parents
              short
              long
              gutslist))
          (<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> short
            long
            parents
            kwd-alist
            gutslist)))
      (prepwork (getarg <span class="keyword">:prepwork</span> nil kwd-alist))
      ((unless (<a class="sym-link system" href="../../../axioms.html#def-true-listp" data-sym="TRUE-LISTP">true-listp</a> prepwork)) (raise <span class="string">"Error in ~x0: expected :prepwork to be a true-listp, but found ~x1."</span>
          name
          prepwork))
      (prepwork (<a class="sym-link system" href="../../../axioms.html#def-append" data-sym="APPEND">append</a> prepwork
          (<a class="sym-link local-def" href="#def-collect-prepworks" data-sym="COLLECT-PREPWORKS" title="(defun std::collect-prepworks (std::gutslist)
  (if (atom std::gutslist)
      nil
      (append
       (std::getarg :prepwork nil
...">collect-prepworks</a> gutslist)))
      (macros (<a class="sym-link local-def" href="#def-collect-macros" data-sym="COLLECT-MACROS" title="(defun std::collect-macros (std::gutslist)
  (std::b*
   (((when (atom std::gutslist)) nil)
    (std::macros1 (std::defguts-&gt;macro (car std::gutslist)))
    ((unless std::macros1) (std::collect-macros (cdr std::gutslist))))">collect-macros</a> gutslist))
      (set-ignores (<a class="sym-link local-def" href="#def-make-ignore-events" data-sym="MAKE-IGNORE-EVENTS" title="(defun std::make-ignore-events (std::ctx std::kwd-alist std::gutslist)
  (std::b*
   ((std::ignore-oks (std::collect-ignore-oks std::gutslist))
    (std::ignore-oks
     (if (assoc :ignore-ok std::kwd-alist)
...">make-ignore-events</a> name
          kwd-alist
          gutslist))
      (extra-xargs (get-xargs-from-kwd-alist (if verify-guards-after-returns
            (<a class="sym-link system" href="../../../axioms.html#def-put-assoc" data-sym="PUT-ASSOC">put-assoc</a> <span class="keyword">:verify-guards</span> 'nil kwd-alist)
            kwd-alist)))
      (ruler-extenders (getarg <span class="keyword">:ruler-extenders</span> nil kwd-alist))
      (orig-defs (<a class="sym-link local-def" href="#def-collect-main-defs" data-sym="COLLECT-MAIN-DEFS" title="(defun std::collect-main-defs (std::gutslist)
  (if (atom std::gutslist)
      nil
      (cons (std::defguts-&gt;main-def (car std::gutslist))
            (std::collect-main-defs (cdr std::gutslist)))))">collect-main-defs</a> gutslist))
      (final-defs (if extra-xargs
          (cons (<a class="sym-link system" href="../../../axioms.html#def-append" data-sym="APPEND">append</a> (<a class="sym-link system" href="../../../axioms.html#def-take" data-sym="TAKE">take</a> <span class="number">3</span> (car orig-defs))
              `((declare (xargs . ,STD::EXTRA-XARGS)))
              (<a class="sym-link system" href="../../../axioms.html#def-nthcdr" data-sym="NTHCDR">nthcdr</a> <span class="number">3</span> (car orig-defs)))
            (if ruler-extenders
              (<a class="sym-link local-def" href="#def-apply-ruler-extenders-to-defs" data-sym="APPLY-RULER-EXTENDERS-TO-DEFS" title="(defun std::apply-ruler-extenders-to-defs (std::ruler-extenders std::defs)
  (if (atom std::defs)
      nil
      (cons
       (append (std::take 3 (car std::defs))
...">apply-ruler-extenders-to-defs</a> ruler-extenders
                (cdr orig-defs))
              (cdr orig-defs)))
          orig-defs))
      (mutual-rec (cons '<a class="sym-link system" href="../../../axioms.html#def-mutual-recursion" data-sym="MUTUAL-RECURSION">mutual-recursion</a> final-defs))
      (aliases (<a class="sym-link local-def" href="#def-collect-macro-aliases" data-sym="COLLECT-MACRO-ALIASES" title="(defun std::collect-macro-aliases (std::gutslist)
  (if (atom std::gutslist)
      nil
      (append (std::add-macro-aliases-from-guts (car std::gutslist))
              (std::collect-macro-aliases (cdr std::gutslist)))))">collect-macro-aliases</a> gutslist))
      (guts-table-exts (<a class="sym-link local-def" href="#def-collect-guts-alist-exts" data-sym="COLLECT-GUTS-ALIST-EXTS" title="(defun std::collect-guts-alist-exts (std::gutslist)
  (if (atom std::gutslist)
      nil
      (cons (std::extend-define-guts-alist (car std::gutslist))
            (std::collect-guts-alist-exts (cdr std::gutslist)))))">collect-guts-alist-exts</a> gutslist))
      (flag-name (if (<a class="sym-link system" href="../../../axioms.html#def-assoc" data-sym="ASSOC">assoc</a> <span class="keyword">:flag</span> kwd-alist)
          (cdr (<a class="sym-link system" href="../../../axioms.html#def-assoc" data-sym="ASSOC">assoc</a> <span class="keyword">:flag</span> kwd-alist))
          (intern-in-package-of-symbol (<a class="sym-link system" href="../../../axioms.html#def-concatenate" data-sym="CONCATENATE">concatenate</a> '<a class="sym-link system" href="../../../axioms.html#def-string" data-sym="STRING">string</a> (symbol-name name) <span class="string">"-FLAG"</span>)
            name)))
      (flag-var (getarg <span class="keyword">:flag-var</span> nil kwd-alist))
      (flag-local (getarg <span class="keyword">:flag-local</span> <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a> kwd-alist))
      (flag-defthm-macro (getarg <span class="keyword">:flag-defthm-macro</span> nil kwd-alist))
      (flag-hints (<a class="sym-link system" href="../../../axioms.html#def-or" data-sym="OR">or</a> (getarg <span class="keyword">:flag-hints</span> nil kwd-alist)
          (getarg <span class="keyword">:hints</span> nil kwd-alist)
          (<a class="sym-link local-def" href="#def-gutslist-find-hints" data-sym="GUTSLIST-FIND-HINTS" title="(defun std::gutslist-find-hints (std::gutslist)
  (if (atom std::gutslist)
      nil
      (or
       (std::getarg :hints nil (std::defguts-&gt;kwd-alist (car std::gutslist)))">gutslist-find-hints</a> gutslist)))
      (flag-mapping (<a class="sym-link local-def" href="#def-collect-flag-mapping" data-sym="COLLECT-FLAG-MAPPING" title="(defun std::collect-flag-mapping (std::gutslist)
  (if (atom std::gutslist)
      nil
      (cons
       (list (std::defguts-&gt;name-fn (car std::gutslist))
...">collect-flag-mapping</a> gutslist))
      ((unless (<a class="sym-link system" href="../../../axioms.html#def-no-duplicatesp-eq" data-sym="NO-DUPLICATESP-EQ">no-duplicatesp-eq</a> (<a class="sym-link system" href="../../../axioms.html#def-strip-cadrs" data-sym="STRIP-CADRS">strip-cadrs</a> flag-mapping))) (raise <span class="string">"Error: duplicated flag names!"</span>))
      (returns-induct (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> flag-name
          (<a class="sym-link system" href="../../../axioms.html#def-not" data-sym="NOT">not</a> (getarg <span class="keyword">:returns-no-induct</span> nil kwd-alist))))
      (returns-hints (getarg <span class="keyword">:returns-hints</span> <span class="keyword">:none</span> kwd-alist))
      ((when (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-not" data-sym="NOT">not</a> returns-induct)
           (<a class="sym-link system" href="../../../axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="../../../axioms.html#def-eq" data-sym="EQ">eq</a> returns-hints <span class="keyword">:none</span>)))) (raise <span class="string">"Error in ~x0: returns-hints only is useful without ~
                :returns-no-induct."</span>
          name))
      (thm-macro (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> flag-name
          (<a class="sym-link system" href="../../../axioms.html#def-or" data-sym="OR">or</a> flag-defthm-macro
            (thm-macro-name flag-name))))
      ((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> fn-sections sections-rest) (<a class="sym-link local-def" href="#def-collect-fn-defsections" data-sym="COLLECT-FN-DEFSECTIONS" title="(defun std::collect-fn-defsections
       (std::gutslist std::cliquename std::process-returns
        std::divide-defsections)
  (if (atom std::gutslist)
      (std::mv nil nil)
...">collect-fn-defsections</a> gutslist
          (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> want-xdoc-p name)
          (<a class="sym-link system" href="../../../axioms.html#def-not" data-sym="NOT">not</a> returns-induct)
          (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> verify-guards-after-returns
            (<a class="sym-link system" href="../../../axioms.html#def-not" data-sym="NOT">not</a> returns-induct))))
      (fns-to-disable (<a class="sym-link local-def" href="#def-collect-defines-to-disable" data-sym="COLLECT-DEFINES-TO-DISABLE" title="(defun std::collect-defines-to-disable (std::gutslist)
  (std::b*
   (((when (atom std::gutslist)) nil)
    ((std::defguts std::guts1) (car std::gutslist))
    (std::enabled-p (std::getarg :enabled nil std::guts1.kwd-alist))
...">collect-defines-to-disable</a> gutslist))
      (defines-guts (make-defines-guts <span class="keyword">:name</span> name
          <span class="keyword">:gutslist</span> gutslist
          <span class="keyword">:kwd-alist</span> kwd-alist
          <span class="keyword">:flag-mapping</span> flag-mapping
          <span class="keyword">:flag-defthm-macro</span> thm-macro
          <span class="keyword">:guards-after-returns</span> verify-guards-after-returns))
      (prognp (getarg <span class="keyword">:progn</span> nil kwd-alist)))
    `(,@(IF STD::PROGNP
      &#39;(PROGN)
      &#39;(STD::ENCAPSULATE NIL)) (<a class="sym-link system" href="../../../axioms.html#def-with-output" data-sym="WITH-OUTPUT">with-output</a> <span class="keyword">:stack</span> <span class="keyword">:pop</span> (<a class="sym-link system" href="../../../axioms.html#def-progn" data-sym="PROGN">progn</a> . ,STD::PREPWORK))
      (defsection-progn ,STD::NAME
        ,@(AND STD::PARENTS-P `(:PARENTS ,STD::PARENTS))
        ,@(AND STD::SHORT `(:SHORT ,STD::SHORT))
        ,@(AND STD::LONG `(:LONG ,STD::LONG))
        (<a class="sym-link system" href="../../../axioms.html#def-with-output" data-sym="WITH-OUTPUT">with-output</a> <span class="keyword">:on</span> (error) (<a class="sym-link system" href="../../../axioms.html#def-progn" data-sym="PROGN">progn</a> . ,STD::MACROS))
        ,@(IF STD::SET-IGNORES
      `((STD::ENCAPSULATE NIL ,@STD::SET-IGNORES
         (STD::WITH-OUTPUT :STACK :POP ,STD::MUTUAL-REC)))
      `((STD::WITH-OUTPUT :STACK :POP ,STD::MUTUAL-REC)))
        (<a class="sym-link system" href="../../../axioms.html#def-with-output" data-sym="WITH-OUTPUT">with-output</a> <span class="keyword">:on</span> (error) (<a class="sym-link system" href="../../../axioms.html#def-progn" data-sym="PROGN">progn</a> . ,STD::ALIASES))
        (<a class="sym-link system" href="../../../axioms.html#def-with-output" data-sym="WITH-OUTPUT">with-output</a> <span class="keyword">:on</span> (error)
          (<a class="sym-link system" href="../../../axioms.html#def-progn" data-sym="PROGN">progn</a> . ,STD::GUTS-TABLE-EXTS))
        (<a class="sym-link system" href="../../../axioms.html#def-with-output" data-sym="WITH-OUTPUT">with-output</a> <span class="keyword">:on</span> (error)
          ,(STD::EXTEND-DEFINES-ALIST STD::DEFINES-GUTS)))
      ,@(AND STD::FLAG-NAME
       `((STD::WITH-OUTPUT :ON (ERROR)
          (STD::MAKE-EVENT
           (IF (STD::LOGIC-MODE-P &#39;,(STD::DEFGUTS-&gt;NAME-FN (CAR STD::GUTSLIST))
                (STD::W STD::STATE))
               (STD::VALUE
                &#39;(FLAG::MAKE-FLAG ,STD::FLAG-NAME
                  ,(STD::DEFGUTS-&gt;NAME-FN (CAR STD::GUTSLIST)) :FLAG-MAPPING
                  ,STD::FLAG-MAPPING
                  ,@(AND STD::FLAG-DEFTHM-MACRO
                         `(:DEFTHM-MACRO-NAME ,STD::FLAG-DEFTHM-MACRO))
                  ,@(AND STD::FLAG-VAR `(:FLAG-VAR ,STD::FLAG-VAR))
                  ,@(AND STD::FLAG-LOCAL `(:LOCAL T))
                  ,@(AND STD::RULER-EXTENDERS
                         `(:RULER-EXTENDERS ,STD::RULER-EXTENDERS))
                  :HINTS ,STD::FLAG-HINTS))
               (STD::VALUE &#39;(STD::VALUE-TRIPLE :INVISIBLE)))))))
      (defsection rest-events-1
        ,@(AND STD::WANT-XDOC-P `(:EXTENSION ,STD::NAME))
        ,@(AND STD::RETURNS-INDUCT
       `((STD::MAKE-EVENT
          (IF (STD::LOGIC-MODE-P &#39;,(STD::DEFGUTS-&gt;NAME-FN (CAR STD::GUTSLIST))
               (STD::W STD::STATE))
              (LET ((STD::EVENT
                     (STD::RETURNSPEC-FLAG-THM &#39;,STD::THM-MACRO &#39;,STD::GUTSLIST
                      &#39;,STD::RETURNS-HINTS (STD::W STD::STATE))))
                `(STD::WITH-OUTPUT :STACK :POP ,STD::EVENT))
              (STD::VALUE &#39;(STD::VALUE-TRIPLE :INVISIBLE))))))
        (<a class="sym-link system" href="../../../axioms.html#def-with-output" data-sym="WITH-OUTPUT">with-output</a> <span class="keyword">:stack</span> <span class="keyword">:pop</span> (<a class="sym-link system" href="../../../axioms.html#def-progn" data-sym="PROGN">progn</a> . ,STD::REST-EVENTS1))
        ,@(AND STD::VERIFY-GUARDS-AFTER-RETURNS STD::RETURNS-INDUCT
       `((STD::WITH-OUTPUT :STACK :POP
          (STD::VERIFY-GUARDS ,STD::VERIFY-GUARDS-NAME))))
        ,@STD::FN-SECTIONS
        ,@(AND STD::VERIFY-GUARDS-AFTER-RETURNS (NOT STD::RETURNS-INDUCT)
       `((STD::WITH-OUTPUT :STACK :POP
          (STD::VERIFY-GUARDS ,STD::VERIFY-GUARDS-NAME))))
        ,@STD::SECTIONS-REST
        (<a class="sym-link system" href="../../../axioms.html#def-with-output" data-sym="WITH-OUTPUT">with-output</a> <span class="keyword">:stack</span> <span class="keyword">:pop</span> (<a class="sym-link system" href="../../../axioms.html#def-progn" data-sym="PROGN">progn</a> . ,STD::REST-EVENTS2)))
      ,@(AND (CONSP STD::FNS-TO-DISABLE)
       `((STD::MAKE-EVENT
          (IF (STD::LOGIC-MODE-P &#39;,(STD::DEFGUTS-&gt;NAME-FN (CAR STD::GUTSLIST))
               (STD::W STD::STATE))
              &#39;(STD::IN-THEORY (STD::DISABLE . ,STD::FNS-TO-DISABLE))
              &#39;(STD::VALUE-TRIPLE :INVISIBLE))))))))</pre>
  </div>

<div class="form-block macro" id="def-defines" data-defines="DEFINES" data-references="STATE,W,QUOTE,DEFINES-FN,MAKE-EVENT,WITH-OUTPUT,QUASIQUOTE,CADR,AND,VERBOSEP,MEMBER,VERBOSE-TAIL,LET*,ARGS,&REST,NAME,DEFMACRO" data-used-by="DEFINES-FN,MAYBE-INJECT-GLOBAL-DOCS,RETURNSPECS-FLAG-ENTRIES" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFINES">defines</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-defines" data-sym="DEFINES" title="(defmacro std::defines (std::name &amp;rest std::args)
  (let* ((std::verbose-tail (member :verbosep std::args))
         (std::verbosep (and std::verbose-tail (cadr std::verbose-tail))))
    `(std::with-output :stack :push ,@(and (not std::verbosep) &#39;(:off :all))
      (std::make-event">defines</a>
  (name &amp;rest <a class="sym-link system" href="../../../defuns.html#def-args" data-sym="ARGS">args</a>)
  (<a class="sym-link system" href="../../../axioms.html#def-let_2A" data-sym="LET*">let*</a> ((verbose-tail (<a class="sym-link system" href="../../../axioms.html#def-member" data-sym="MEMBER">member</a> <span class="keyword">:verbosep</span> <a class="sym-link system" href="../../../defuns.html#def-args" data-sym="ARGS">args</a>)) (verbosep (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> verbose-tail (<a class="sym-link system" href="../../../axioms.html#def-cadr" data-sym="CADR">cadr</a> verbose-tail))))
    `(<a class="sym-link system" href="../../../axioms.html#def-with-output" data-sym="WITH-OUTPUT">with-output</a> <span class="keyword">:stack</span> <span class="keyword">:push</span> ,@(AND (NOT STD::VERBOSEP) &#39;(:OFF :ALL))
      (<a class="sym-link system" href="../../../axioms.html#def-make-event" data-sym="MAKE-EVENT">make-event</a> (<a class="sym-link local-def" href="#def-defines-fn" data-sym="DEFINES-FN" title="(defun std::defines-fn (std::name std::args std::world)
  (declare (std::xargs :guard (std::plist-worldp std::world)))
  (std::b*
   ((std::__function__ &#39;std::defines)
    ((unless (symbolp std::name))
...">defines-fn</a> ',STD::NAME
          ',STD::ARGS
          (<a class="sym-link system" href="../../../axioms.html#def-w" data-sym="W">w</a> state))))))</pre>
  </div>

<div class="form-block other" id="form-45" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-table" data-sym="TABLE">table</a> ppr-special-syms '<a class="sym-link local-def" href="#def-defines" data-sym="DEFINES" title="(defmacro std::defines (std::name &amp;rest std::args)
  (let* ((std::verbose-tail (member :verbosep std::args))
         (std::verbosep (and std::verbose-tail (cadr std::verbose-tail))))
    `(std::with-output :stack :push ,@(and (not std::verbosep) &#39;(:off :all))
      (std::make-event">defines</a> <span class="number">1</span>)</pre>
  </div>

<div class="form-block other" id="form-46" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defxdoc <a class="sym-link local-def" href="#def-defret-mutual" data-sym="DEFRET-MUTUAL" title="(defmacro std::defret-mutual (std::name &amp;rest std::args)
  `(std::make-event
    (std::defret-mutual-fn &#39;,std::name &#39;,std::args (std::w std::state))))">defret-mutual</a>
  <span class="keyword">:parents</span> (define returns-specifiers)
  <span class="keyword">:short</span> <span class="string">"Prove additional theorems about a mutual-recursion created using @(see defines), implicitly binding the return variables."</span>
  <span class="keyword">:long</span> <span class="string">"&lt;p&gt;@(&#39;defret-mutual&#39;) uses flag-function-based induction to prove
theorems about a mutual recursion created using @(see defines).  See also @(see
acl2::make-flag) for information about the approach.&lt;/p&gt;

&lt;p&gt;@(&#39;defret-mutual&#39;) is mostly just a wrapper around the flag defthm macro
created for the mutual recursion.  It generates the individual theorems within
the mutual induction using @(see defret), so the main features are inherited
from defret, such as automatic binding of return value names and support for
the @(&#39;:hyp&#39;) keyword.&lt;/p&gt;

&lt;h5&gt;Syntax:&lt;/h5&gt;
&lt;p&gt;Using the following mutual recursion as an example:&lt;/p&gt;
@({
 (defines pseudo-term-vars
   (define pseudo-term-vars ((x pseudo-termp))
     :returns (vars)
     ...)
   (define pseudo-term-list-vars ((x pseudo-term-listp))
     :returns (vars)
     ...))
 })

&lt;p&gt;Then we can use @(&#39;defret-mutual&#39;) as follows:&lt;/p&gt;

@({
 (defret-mutual symbol-listp-of-pseudo-term-vars
   (defret symbol-listp-of-pseudo-term-vars
     (symbol-listp vars)
     :hints ...
     :fn pseudo-term-vars)
   (defret symbol-listp-of-pseudo-term-list-vars
     (symbol-listp vars)
     :hints ...
     :fn pseudo-term-list-vars)
   :mutual-recursion pseudo-term-vars
   ...)
 })

&lt;p&gt;If the @(&#39;:mutual-recursion&#39;) keyword is omitted, then the last mutual
recursion introduced with @(&#39;defines&#39;) is assumed to be the subject.&lt;/p&gt;

&lt;p&gt;@(&#39;defret-mutual&#39;) supports all of the top-level options of flag defthm macros such as:&lt;/p&gt;
@({
 :hints
 :no-induction-hint
 :skip-others
 :instructions
 :otf-flg })

&lt;p&gt;The individual @(&#39;defret&#39;) forms inside the mutual recursion support all the
options supported by @(see defret), plus the @(&#39;:skip&#39;) option from the flag
defthm macro, which if set to nonnil uses the theorem only as an inductive
lemma for the overall mutually recursive proof, and doesn&#39;t export it.&lt;/p&gt;"</span>)</pre>
  </div>

<div class="form-block function" id="def-pass-kwd-args" data-defines="PASS-KWD-ARGS" data-references="CDR,QUASIQUOTE,CAR,ASSOC,LOOK,LET,ATOM,IF,KWD-ALIST,NAMES,DEFUN" data-part-name="PASS-KWD-ARGS" data-part-args="KWD-ALIST,NAMES" data-part-body="CDR,PASS-KWD-ARGS,QUASIQUOTE,KWD-ALIST,CAR,ASSOC,LOOK,LET,NAMES,ATOM,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="PASS-KWD-ARGS">pass-kwd-args</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-pass-kwd-args" data-sym="PASS-KWD-ARGS" title="(defun std::pass-kwd-args (std::names std::kwd-alist)
  (if (atom std::names)
      nil
      (let ((std::look (assoc (car std::names) std::kwd-alist)))
        (if std::look
...">pass-kwd-args</a>
  (names kwd-alist)
  (if (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> names)
    nil
    (let ((look (<a class="sym-link system" href="../../../axioms.html#def-assoc" data-sym="ASSOC">assoc</a> (car names) kwd-alist)))
      (if look
        `(,(CAR STD::NAMES) ,(CDR STD::LOOK) . ,(STD::PASS-KWD-ARGS (CDR STD::NAMES) STD::KWD-ALIST))
        (<a class="sym-link local-def" href="#def-pass-kwd-args" data-sym="PASS-KWD-ARGS" title="(defun std::pass-kwd-args (std::names std::kwd-alist)
  (if (atom std::names)
      nil
      (let ((std::look (assoc (car std::names) std::kwd-alist)))
        (if std::look
...">pass-kwd-args</a> (cdr names) kwd-alist)))))</pre>
  </div>

<div class="form-block function" id="def-defgutslist-find" data-defines="DEFGUTSLIST-FIND" data-references="CDR,CAR,DEFGUTS->NAME,EQ,ATOM,IF,X,NAME,DEFUN" data-used-by="DEFRET-MUTUAL-PROCESS-DEFRET" data-part-name="DEFGUTSLIST-FIND" data-part-args="X,NAME" data-part-body="CDR,DEFGUTSLIST-FIND,CAR,DEFGUTS->NAME,NAME,EQ,X,ATOM,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFGUTSLIST-FIND">defgutslist-find</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-defgutslist-find" data-sym="DEFGUTSLIST-FIND" title="(defun std::defgutslist-find (std::name std::x)
  (if (atom std::x)
      nil
      (if (eq std::name (std::defguts-&gt;name (car std::x)))
          (car std::x)">defgutslist-find</a>
  (name x)
  (if (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> x)
    nil
    (if (<a class="sym-link system" href="../../../axioms.html#def-eq" data-sym="EQ">eq</a> name (defguts-&gt;name (car x)))
      (car x)
      (<a class="sym-link local-def" href="#def-defgutslist-find" data-sym="DEFGUTSLIST-FIND" title="(defun std::defgutslist-find (std::name std::x)
  (if (atom std::x)
      nil
      (if (eq std::name (std::defguts-&gt;name (car std::x)))
          (car std::x)">defgutslist-find</a> name (cdr x)))))</pre>
  </div>

<div class="form-block function" id="def-defret-mutual-process-defret" data-defines="DEFRET-MUTUAL-PROCESS-DEFRET" data-references="DEFRET-CORE,APPEND,GUTS.FLAG-MAPPING,FNGUTS.NAME-FN,FLAG,DEFGUTS,GUTS.GUTSLIST,DEFGUTSLIST-FIND,FNGUTS,ASSOC,FN,BODY,CDR,ATOM,CONSP,EXTRACT-KEYWORDS,BODY-LST,KWD-ALIST,MV,CDDR,REST,CTX,THMNAME,EQ,DISABLEDP,QUASIQUOTE,RAISE,CADR,SYMBOLP,DEFRETD,CAR,MEMBER,LEN,<=,AND,UNLESS,DEFINES-GUTS,DEFRET-MUTUAL,QUOTE,__FUNCTION__,B*,WORLD,NAME,GUTS,DEFRET,DEFUN" data-used-by="DEFRET-MUTUAL-PROCESS-DEFRETS" data-part-name="DEFRET-MUTUAL-PROCESS-DEFRET" data-part-args="WORLD,NAME,GUTS,DEFRET" data-part-body="WORLD,DEFRET-CORE,APPEND,GUTS.FLAG-MAPPING,FNGUTS.NAME-FN,FLAG,DEFGUTS,GUTS.GUTSLIST,DEFGUTSLIST-FIND,FNGUTS,ASSOC,FN,BODY,CDR,ATOM,CONSP,EXTRACT-KEYWORDS,BODY-LST,KWD-ALIST,MV,CDDR,REST,CTX,THMNAME,EQ,DISABLEDP,QUASIQUOTE,RAISE,CADR,SYMBOLP,DEFRETD,CAR,MEMBER,DEFRET,LEN,<=,AND,UNLESS,GUTS,DEFINES-GUTS,DEFRET-MUTUAL,QUOTE,__FUNCTION__,B*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFRET-MUTUAL-PROCESS-DEFRET">defret-mutual-process-defret</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-defret-mutual-process-defret" data-sym="DEFRET-MUTUAL-PROCESS-DEFRET" title="(defun std::defret-mutual-process-defret
       (std::defret std::guts std::name std::world)
  (std::b*
   ((std::__function__ &#39;std::defret-mutual) ((std::defines-guts std::guts))
    ((unless
...">defret-mutual-process-defret</a>
  (defret guts name world)
  (b* ((__function__ '<a class="sym-link local-def" href="#def-defret-mutual" data-sym="DEFRET-MUTUAL" title="(defmacro std::defret-mutual (std::name &amp;rest std::args)
  `(std::make-event
    (std::defret-mutual-fn &#39;,std::name &#39;,std::args (std::w std::state))))">defret-mutual</a>) ((defines-guts guts))
      ((unless (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> <span class="number">3</span> (<a class="sym-link system" href="../../../axioms.html#def-len" data-sym="LEN">len</a> defret))
           (<a class="sym-link system" href="../../../axioms.html#def-member" data-sym="MEMBER">member</a> (car defret) '(defret defretd))
           (symbolp (<a class="sym-link system" href="../../../axioms.html#def-cadr" data-sym="CADR">cadr</a> defret)))) (raise <span class="string">"Invaid defret/defretd form in ~x0: ~x1"</span>
          `(<a class="sym-link local-def" href="#def-defret-mutual" data-sym="DEFRET-MUTUAL" title="(defmacro std::defret-mutual (std::name &amp;rest std::args)
  `(std::make-event
    (std::defret-mutual-fn &#39;,std::name &#39;,std::args (std::w std::state))))">defret-mutual</a> ,STD::NAME)
          defret))
      (<a class="sym-link system" href="../../../defthm.html#def-disabledp" data-sym="DISABLEDP">disabledp</a> (<a class="sym-link system" href="../../../axioms.html#def-eq" data-sym="EQ">eq</a> (car defret) 'defretd))
      (thmname (<a class="sym-link system" href="../../../axioms.html#def-cadr" data-sym="CADR">cadr</a> defret))
      (ctx `(,(CAR STD::DEFRET) ,STD::THMNAME))
      (<a class="sym-link system" href="../../../axioms.html#def-rest" data-sym="REST">rest</a> (<a class="sym-link system" href="../../../axioms.html#def-cddr" data-sym="CDDR">cddr</a> defret))
      ((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> kwd-alist body-lst) (extract-keywords ctx
          '(<span class="keyword">:hyp</span> <span class="keyword">:fn</span> <span class="keyword">:hints</span> <span class="keyword">:rule-classes</span> <span class="keyword">:pre-bind</span> <span class="keyword">:otf-flg</span> <span class="keyword">:skip</span>)
          <a class="sym-link system" href="../../../axioms.html#def-rest" data-sym="REST">rest</a>
          nil))
      ((unless (consp body-lst)) (raise <span class="string">"No body in ~x0"</span> ctx))
      ((unless (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> (cdr body-lst))) (raise <span class="string">"Extra args besides the body in ~x0"</span> ctx))
      (<a class="sym-link system" href="../../../basis-b.html#def-body" data-sym="BODY">body</a> (car body-lst))
      (fn (cdr (<a class="sym-link system" href="../../../axioms.html#def-assoc" data-sym="ASSOC">assoc</a> <span class="keyword">:fn</span> kwd-alist)))
      ((unless fn) (raise <span class="string">"~x0: The function name must be specified (with :fn)."</span>
          ctx))
      (fnguts (<a class="sym-link local-def" href="#def-defgutslist-find" data-sym="DEFGUTSLIST-FIND" title="(defun std::defgutslist-find (std::name std::x)
  (if (atom std::x)
      nil
      (if (eq std::name (std::defguts-&gt;name (car std::x)))
          (car std::x)">defgutslist-find</a> fn guts.gutslist))
      ((defguts fnguts))
      (flag (<a class="sym-link system" href="../../../axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="../../../axioms.html#def-assoc" data-sym="ASSOC">assoc</a> fnguts.name-fn guts.flag-mapping)))
      ((unless flag) (raise <span class="string">"~x0: Invalid function name ~x1 (no flag mapping)."</span>
          ctx
          fn))
      (fnguts (<a class="sym-link local-def" href="#def-defgutslist-find" data-sym="DEFGUTSLIST-FIND" title="(defun std::defgutslist-find (std::name std::x)
  (if (atom std::x)
      nil
      (if (eq std::name (std::defguts-&gt;name (car std::x)))
          (car std::x)">defgutslist-find</a> fn guts.gutslist))
      ((unless fnguts) (raise <span class="string">"~x0: Invalid function name ~x1 (no define-guts)."</span>
          ctx
          fn)))
    (<a class="sym-link system" href="../../../axioms.html#def-append" data-sym="APPEND">append</a> (defret-core thmname
        <a class="sym-link system" href="../../../basis-b.html#def-body" data-sym="BODY">body</a>
        kwd-alist
        <a class="sym-link system" href="../../../defthm.html#def-disabledp" data-sym="DISABLEDP">disabledp</a>
        fnguts
        world)
      `(<span class="keyword">:flag</span> ,STD::FLAG <span class="keyword">:skip</span> ,(CDR (ASSOC :SKIP STD::KWD-ALIST))))))</pre>
  </div>

<div class="form-block function" id="def-defret-mutual-process-defrets" data-defines="DEFRET-MUTUAL-PROCESS-DEFRETS" data-references="CDR,CAR,DEFRET-MUTUAL-PROCESS-DEFRET,CONS,ATOM,IF,WORLD,NAME,GUTS,DEFRETS,DEFUN" data-used-by="DEFRET-MUTUAL-FN" data-part-name="DEFRET-MUTUAL-PROCESS-DEFRETS" data-part-args="WORLD,NAME,GUTS,DEFRETS" data-part-body="CDR,DEFRET-MUTUAL-PROCESS-DEFRETS,WORLD,NAME,GUTS,CAR,DEFRET-MUTUAL-PROCESS-DEFRET,CONS,DEFRETS,ATOM,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFRET-MUTUAL-PROCESS-DEFRETS">defret-mutual-process-defrets</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-defret-mutual-process-defrets" data-sym="DEFRET-MUTUAL-PROCESS-DEFRETS" title="(defun std::defret-mutual-process-defrets
       (std::defrets std::guts std::name std::world)
  (if (atom std::defrets)
      nil
      (cons
...">defret-mutual-process-defrets</a>
  (defrets guts name world)
  (if (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> defrets)
    nil
    (cons (<a class="sym-link local-def" href="#def-defret-mutual-process-defret" data-sym="DEFRET-MUTUAL-PROCESS-DEFRET" title="(defun std::defret-mutual-process-defret
       (std::defret std::guts std::name std::world)
  (std::b*
   ((std::__function__ &#39;std::defret-mutual) ((std::defines-guts std::guts))
    ((unless
...">defret-mutual-process-defret</a> (car defrets)
        guts
        name
        world)
      (<a class="sym-link local-def" href="#def-defret-mutual-process-defrets" data-sym="DEFRET-MUTUAL-PROCESS-DEFRETS" title="(defun std::defret-mutual-process-defrets
       (std::defrets std::guts std::name std::world)
  (if (atom std::defrets)
      nil
      (cons
...">defret-mutual-process-defrets</a> (cdr defrets)
        guts
        name
        world))))</pre>
  </div>

<div class="form-block function" id="def-defret-mutual-fn" data-defines="DEFRET-MUTUAL-FN" data-references="DEFRET-MUTUAL-PROCESS-DEFRETS,DEFTHMS,GUTS.FLAG-DEFTHM-MACRO,DEFINES-GUTS,GUTS,CAAR,CDR,IF,ASSOC,LOOK,LET,MUTUAL-RECURSION,GET-DEFINES-ALIST,DEFINES-ALIST,CONSP,QUASIQUOTE,EXTRACT-KEYWORDS,DEFRETS,KWD-ALIST,MV,RAISE,KEYWORDP,NOT,SYMBOLP,AND,UNLESS,DEFRET-MUTUAL,QUOTE,__FUNCTION__,B*,WORLD,ARGS,NAME,DEFUN" data-used-by="DEFRET-MUTUAL" data-part-name="DEFRET-MUTUAL-FN" data-part-args="WORLD,ARGS,NAME" data-part-body="DEFRET-MUTUAL-PROCESS-DEFRETS,DEFTHMS,GUTS.FLAG-DEFTHM-MACRO,DEFINES-GUTS,GUTS,CAAR,CDR,IF,ASSOC,LOOK,LET,MUTUAL-RECURSION,WORLD,GET-DEFINES-ALIST,DEFINES-ALIST,CONSP,ARGS,QUASIQUOTE,EXTRACT-KEYWORDS,DEFRETS,KWD-ALIST,MV,RAISE,KEYWORDP,NOT,NAME,SYMBOLP,AND,UNLESS,DEFRET-MUTUAL,QUOTE,__FUNCTION__,B*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFRET-MUTUAL-FN">defret-mutual-fn</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-defret-mutual-fn" data-sym="DEFRET-MUTUAL-FN" title="(defun std::defret-mutual-fn (std::name std::args std::world)
  (std::b*
   ((std::__function__ &#39;std::defret-mutual)
    ((unless (and (symbolp std::name) (not (keywordp std::name))))
     (std::raise &quot;Defret-mutual requires a name as the first argument.&quot;))
...">defret-mutual-fn</a>
  (name <a class="sym-link system" href="../../../defuns.html#def-args" data-sym="ARGS">args</a> world)
  (b* ((__function__ '<a class="sym-link local-def" href="#def-defret-mutual" data-sym="DEFRET-MUTUAL" title="(defmacro std::defret-mutual (std::name &amp;rest std::args)
  `(std::make-event
    (std::defret-mutual-fn &#39;,std::name &#39;,std::args (std::w std::state))))">defret-mutual</a>) ((unless (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (symbolp name) (<a class="sym-link system" href="../../../axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="../../../axioms.html#def-keywordp" data-sym="KEYWORDP">keywordp</a> name)))) (raise <span class="string">"Defret-mutual requires a name as the first argument."</span>))
      ((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> kwd-alist defrets) (extract-keywords `(<a class="sym-link local-def" href="#def-defret-mutual" data-sym="DEFRET-MUTUAL" title="(defmacro std::defret-mutual (std::name &amp;rest std::args)
  `(std::make-event
    (std::defret-mutual-fn &#39;,std::name &#39;,std::args (std::w std::state))))">defret-mutual</a> ,STD::NAME)
          '(<span class="keyword">:mutual-recursion</span> <span class="keyword">:hints</span> <span class="keyword">:no-induction-hint</span> <span class="keyword">:skip-others</span> <span class="keyword">:instructions</span> <span class="keyword">:otf-flg</span>)
          <a class="sym-link system" href="../../../defuns.html#def-args" data-sym="ARGS">args</a>
          nil))
      ((unless (consp defrets)) (raise <span class="string">"Defret-mutual needs at least 1 defret/defretd form."</span>))
      (defines-alist (<a class="sym-link local-def" href="#def-get-defines-alist" data-sym="GET-DEFINES-ALIST" title="(defun std::get-defines-alist (std::world)
  &quot;Look up information about the current defines in the world.&quot;
  (cdr (assoc &#39;std::defines-alist (std::table-alist &#39;std::define std::world))))">get-defines-alist</a> world))
      (<a class="sym-link system" href="../../../axioms.html#def-mutual-recursion" data-sym="MUTUAL-RECURSION">mutual-recursion</a> (let ((look (<a class="sym-link system" href="../../../axioms.html#def-assoc" data-sym="ASSOC">assoc</a> <span class="keyword">:mutual-recursion</span> kwd-alist)))
          (if look
            (cdr look)
            (<a class="sym-link system" href="../../../axioms.html#def-caar" data-sym="CAAR">caar</a> defines-alist))))
      ((unless <a class="sym-link system" href="../../../axioms.html#def-mutual-recursion" data-sym="MUTUAL-RECURSION">mutual-recursion</a>) (raise <span class="string">"Defret-mutual needs a mutual recursion created with defines to work on."</span>))
      (guts (cdr (<a class="sym-link system" href="../../../axioms.html#def-assoc" data-sym="ASSOC">assoc</a> <a class="sym-link system" href="../../../axioms.html#def-mutual-recursion" data-sym="MUTUAL-RECURSION">mutual-recursion</a> defines-alist)))
      ((unless guts) (raise <span class="string">"~x0 is not the name of a mutual recursion created with defines."</span>
          <a class="sym-link system" href="../../../axioms.html#def-mutual-recursion" data-sym="MUTUAL-RECURSION">mutual-recursion</a>))
      ((defines-guts guts))
      ((unless guts.flag-defthm-macro) (raise <span class="string">"No flag defthm macro for ~x0."</span>
          <a class="sym-link system" href="../../../axioms.html#def-mutual-recursion" data-sym="MUTUAL-RECURSION">mutual-recursion</a>))
      (defthms (<a class="sym-link local-def" href="#def-defret-mutual-process-defrets" data-sym="DEFRET-MUTUAL-PROCESS-DEFRETS" title="(defun std::defret-mutual-process-defrets
       (std::defrets std::guts std::name std::world)
  (if (atom std::defrets)
      nil
      (cons
...">defret-mutual-process-defrets</a> defrets
          guts
          name
          world)))
    `(,STD::GUTS.FLAG-DEFTHM-MACRO ,STD::NAME
      ,@STD::DEFTHMS . ,(STD::PASS-KWD-ARGS
  &#39;(:HINTS :NO-INDUCTION-HINT :SKIP-OTHERS :INSTRUCTIONS :OTF-FLG)
  STD::KWD-ALIST))))</pre>
  </div>

<div class="form-block macro" id="def-defret-mutual" data-defines="DEFRET-MUTUAL" data-references="STATE,W,QUOTE,DEFRET-MUTUAL-FN,MAKE-EVENT,QUASIQUOTE,ARGS,&REST,NAME,DEFMACRO" data-used-by="DEFRET-MUTUAL-FN,DEFRET-MUTUAL-PROCESS-DEFRET" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFRET-MUTUAL">defret-mutual</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-defret-mutual" data-sym="DEFRET-MUTUAL" title="(defmacro std::defret-mutual (std::name &amp;rest std::args)
  `(std::make-event
    (std::defret-mutual-fn &#39;,std::name &#39;,std::args (std::w std::state))))">defret-mutual</a>
  (name &amp;rest <a class="sym-link system" href="../../../defuns.html#def-args" data-sym="ARGS">args</a>)
  `(<a class="sym-link system" href="../../../axioms.html#def-make-event" data-sym="MAKE-EVENT">make-event</a> (<a class="sym-link local-def" href="#def-defret-mutual-fn" data-sym="DEFRET-MUTUAL-FN" title="(defun std::defret-mutual-fn (std::name std::args std::world)
  (std::b*
   ((std::__function__ &#39;std::defret-mutual)
    ((unless (and (symbolp std::name) (not (keywordp std::name))))
     (std::raise &quot;Defret-mutual requires a name as the first argument.&quot;))
...">defret-mutual-fn</a> ',STD::NAME
      ',STD::ARGS
      (<a class="sym-link system" href="../../../axioms.html#def-w" data-sym="W">w</a> state))))</pre>
  </div>


  </main>
  
<script>
// ACL2 Book HTML Documentation - Interactive Features
// Generated by cert2 - build2 system

// State
let activeFilter = null;
let activePartFilter = null;
let activeNameFilter = null;
let currentFontSize = 14;

// Theme management
function getStoredTheme() {
  return localStorage.getItem('acl2-theme') || 'dark';
}

function setTheme(theme) {
  if (theme === 'light') {
    document.documentElement.setAttribute('data-theme', 'light');
    document.getElementById('theme-toggle').textContent = '🌙';
  } else {
    document.documentElement.removeAttribute('data-theme');
    document.getElementById('theme-toggle').textContent = '☀️';
  }
  localStorage.setItem('acl2-theme', theme);
}

function toggleTheme() {
  const current = getStoredTheme();
  setTheme(current === 'dark' ? 'light' : 'dark');
}

// Font size management
function getStoredFontSize() {
  return parseInt(localStorage.getItem('acl2-fontsize') || '14', 10);
}

function setFontSize(size) {
  size = Math.max(10, Math.min(24, size)); // Clamp between 10-24
  currentFontSize = size;
  document.body.style.fontSize = size + 'px';
  localStorage.setItem('acl2-fontsize', size.toString());
}

function increaseFontSize() {
  setFontSize(currentFontSize + 2);
}

function decreaseFontSize() {
  setFontSize(currentFontSize - 2);
}

// Get all form blocks
function getFormBlocks() {
  return document.querySelectorAll('.form-block');
}

// Clear all filters
function clearFilter() {
  activeFilter = null;
  activePartFilter = null;
  activeNameFilter = null;
  getFormBlocks().forEach(b => {
    b.classList.remove('hidden', 'dimmed');
  });
  document.querySelectorAll('.part-btn').forEach(b => b.classList.remove('active'));
  const status = document.querySelector('.filter-status');
  status.classList.remove('active');
  // Slide name filter back to original position
  document.querySelector('.controls-left').style.transform = '';
  // Clear the name filter input
  const nameInput = document.getElementById('name-filter');
  if (nameInput) nameInput.value = '';
}

// Show filter status and slide name filter right
function showFilterStatus(text) {
  const status = document.querySelector('.filter-status');
  status.classList.add('active');
  status.querySelector('.filter-text').textContent = text;
  // Slide name filter to the right to make room
  setTimeout(() => {
    const statusWidth = status.offsetWidth;
    document.querySelector('.controls-left').style.transform = `translateX(${statusWidth + 15}px)`;
  }, 10);
}

// Filter to show only forms that define or reference a symbol
function filterBySymbol(symName, showUsedBy) {
  clearFilter();
  activeFilter = symName;
  
  const blocks = getFormBlocks();
  let visibleCount = 0;
  
  blocks.forEach(block => {
    const definesName = block.dataset.defines;
    const references = (block.dataset.references || '').split(',');
    const usedBy = (block.dataset.usedBy || '').split(',');
    
    let show = false;
    if (showUsedBy) {
      // Show forms that USE this symbol
      show = references.includes(symName) || definesName === symName;
    } else {
      // Show forms that this symbol USES
      show = usedBy.includes(symName) || definesName === symName;
    }
    
    if (show) {
      block.classList.remove('hidden');
      visibleCount++;
    } else {
      block.classList.add('hidden');
    }
  });
  
  // Update status
  showFilterStatus(`Filtering by: ${symName} (${visibleCount} items)`);
}

// Filter by defthm part (term, hints, rule-classes, etc.)
function filterByPart(formId, partName) {
  clearFilter();
  activePartFilter = { formId, partName };
  
  // Get the part's referenced symbols
  // data-part-term becomes dataset.partTerm, data-part-hints becomes dataset.partHints, etc.
  const block = document.getElementById(formId);
  const datasetKey = 'part' + partName.charAt(0).toUpperCase() + partName.slice(1).replace(/-([a-z])/g, (g) => g[1].toUpperCase());
  const partData = block.dataset[datasetKey];
  if (!partData) return;
  
  const partSyms = partData.split(',').filter(s => s);
  
  // Highlight the button
  block.querySelector(`.part-btn[data-part="${partName}"]`).classList.add('active');
  
  // Hide forms not referenced by this part
  getFormBlocks().forEach(b => {
    const definesName = b.dataset.defines;
    if (b.id === formId || partSyms.includes(definesName)) {
      b.classList.remove('hidden');
    } else {
      b.classList.add('hidden');
    }
  });
  
  // Update status
  showFilterStatus(`Filtering ${formId} :${partName} (${partSyms.length} references)`);
}

// Filter by name (substring or regex)
function filterByName(pattern, useRegex) {
  // Clear other filters but keep the input value
  activeFilter = null;
  activePartFilter = null;
  document.querySelectorAll('.part-btn').forEach(b => b.classList.remove('active'));
  
  if (!pattern || pattern.trim() === '') {
    // Empty pattern - show all
    activeNameFilter = null;
    getFormBlocks().forEach(b => b.classList.remove('hidden'));
    const status = document.querySelector('.filter-status');
    status.classList.remove('active');
    document.querySelector('.controls-left').style.transform = '';
    return;
  }
  
  activeNameFilter = pattern;
  
  let matcher;
  let isValidRegex = true;
  
  if (useRegex) {
    try {
      matcher = new RegExp(pattern, 'i');
    } catch (e) {
      // Invalid regex - show error in status and don't filter
      showFilterStatus(`Invalid regex: ${e.message}`);
      return;
    }
  } else {
    // Plain substring match (case-insensitive)
    const lowerPattern = pattern.toLowerCase();
    matcher = { test: (s) => s.toLowerCase().includes(lowerPattern) };
  }
  
  const blocks = getFormBlocks();
  let visibleCount = 0;
  
  blocks.forEach(block => {
    const definesName = block.dataset.defines || '';
    if (matcher.test(definesName)) {
      block.classList.remove('hidden');
      visibleCount++;
    } else {
      block.classList.add('hidden');
    }
  });
  
  // Update status
  const modeText = useRegex ? 'regex' : 'name';
  showFilterStatus(`Filtering by ${modeText}: "${pattern}" (${visibleCount} matches)`);
}

// Click on a name to show what references it
function handleNameClick(symName) {
  if (activeFilter === symName) {
    clearFilter();
  } else {
    filterBySymbol(symName, true);
  }
}

// Navigate to a definition (same file or different)
function navigateTo(symName, file) {
  if (file) {
    // External file - navigate
    window.location.href = file + '.html#def-' + symName.toLowerCase();
  } else {
    // Same file - scroll
    const target = document.getElementById('def-' + symName.toLowerCase());
    if (target) {
      target.scrollIntoView({ behavior: 'smooth', block: 'center' });
      target.classList.add('highlight');
      setTimeout(() => target.classList.remove('highlight'), 400);
    }
  }
}

// Initialize
document.addEventListener('DOMContentLoaded', () => {
  // Part buttons
  document.querySelectorAll('.part-btn').forEach(btn => {
    btn.addEventListener('click', (e) => {
      e.stopPropagation();
      const formId = btn.closest('.form-block').id;
      const partName = btn.dataset.part;
      if (activePartFilter && activePartFilter.formId === formId && 
          activePartFilter.partName === partName) {
        clearFilter();
      } else {
        filterByPart(formId, partName);
      }
    });
  });
  
  // Clear filter button
  document.querySelector('.clear-filter').addEventListener('click', clearFilter);
  
  // Name filter input
  const nameFilter = document.getElementById('name-filter');
  const regexToggle = document.getElementById('regex-toggle');
  
  let filterTimeout = null;
  nameFilter.addEventListener('input', () => {
    // Debounce the filter to avoid excessive updates while typing
    clearTimeout(filterTimeout);
    filterTimeout = setTimeout(() => {
      filterByName(nameFilter.value, regexToggle.checked);
    }, 150);
  });
  
  // Re-filter when regex toggle changes
  regexToggle.addEventListener('change', () => {
    if (nameFilter.value) {
      filterByName(nameFilter.value, regexToggle.checked);
    }
  });
  
  // Allow Escape key to clear filter when in input
  nameFilter.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
      clearFilter();
      nameFilter.blur();
    }
  });
  
  // Symbol references (old span-based refs)
  document.querySelectorAll('.sym-ref').forEach(ref => {
    ref.addEventListener('click', (e) => {
      e.stopPropagation();
      const sym = ref.dataset.sym;
      const file = ref.dataset.file;
      if (file) {
        navigateTo(sym, file);
      } else {
        handleNameClick(sym);
      }
    });
  });
  
  // Symbol links (new anchor-based links)
  // These use standard <a> tags so navigation happens automatically
  // But we need to clear filters if target would be hidden
  document.querySelectorAll('.sym-link').forEach(link => {
    link.addEventListener('click', (e) => {
      const href = link.getAttribute('href');
      if (href && href.startsWith('#')) {
        // Local link - check if target is hidden by filter
        const targetId = href.substring(1);
        const target = document.getElementById(targetId);
        if (target) {
          // If target is hidden, clear the filter first
          if (target.classList.contains('hidden')) {
            clearFilter();
          }
          // Add highlight effect after a short delay
          setTimeout(() => {
            target.classList.add('highlight');
            setTimeout(() => target.classList.remove('highlight'), 400);
          }, 100);
        }
      }
      // For external links, default behavior handles navigation
    });
  });
  
  // Form names (show what uses them)
  document.querySelectorAll('.form-name').forEach(name => {
    name.addEventListener('click', (e) => {
      handleNameClick(name.dataset.sym);
    });
  });
  
  // Handle hash navigation (when arriving at page with #anchor)
  if (window.location.hash) {
    const target = document.querySelector(window.location.hash);
    if (target) {
      setTimeout(() => {
        target.scrollIntoView({ behavior: 'smooth', block: 'center' });
        target.classList.add('highlight');
        setTimeout(() => target.classList.remove('highlight'), 400);
      }, 200);
    }
  }
  
  // Initialize theme from storage
  setTheme(getStoredTheme());
  
  // Initialize font size from storage
  currentFontSize = getStoredFontSize();
  setFontSize(currentFontSize);
  
  // Theme toggle button
  document.getElementById('theme-toggle').addEventListener('click', toggleTheme);
  
  // Font size buttons
  document.getElementById('font-larger').addEventListener('click', increaseFontSize);
  document.getElementById('font-smaller').addEventListener('click', decreaseFontSize);
});

</script>

</body>
</html>