<!DOCTYPE html>
<html lang="en" vocab="http://schema.org/" typeof="SoftwareSourceCode">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>2d-arr - ACL2 Book</title>
  <meta property="name" content="2d-arr">
  <meta property="programmingLanguage" content="ACL2">
  
<style>
/* ACL2 Book HTML Documentation Styles */
/* Generated by cert2 - build2 system */

/* Dark theme (default) */
:root {
  --bg: #1e1e2e;
  --fg: #cdd6f4;
  --comment: #6c7086;
  --keyword: #cba6f7;
  --string: #a6e3a1;
  --function: #89b4fa;
  --type: #f9e2af;
  --link: #89dceb;
  --link-hover: #f5c2e7;
  --highlight: rgba(137, 180, 250, 0.2);
  --border: #313244;
  --block-bg: rgba(49, 50, 68, 0.5);
  --btn-bg: #313244;
  --btn-hover: rgba(137, 180, 250, 0.2);
}

/* Light theme */
[data-theme="light"] {
  --bg: #eff1f5;
  --fg: #4c4f69;
  --comment: #6c6f85;
  --keyword: #8839ef;
  --string: #40a02b;
  --function: #1e66f5;
  --type: #df8e1d;
  --link: #04a5e5;
  --link-hover: #ea76cb;
  --highlight: rgba(30, 102, 245, 0.15);
  --border: #ccd0da;
  --block-bg: rgba(204, 208, 218, 0.3);
  --btn-bg: #ccd0da;
  --btn-hover: rgba(30, 102, 245, 0.15);
}

body {
  font-family: 'JetBrains Mono', 'Fira Code', monospace;
  background: var(--bg);
  color: var(--fg);
  margin: 0;
  padding: 20px;
  line-height: 1.6;
  font-size: 14px;
  transition: background 0.1s, color 0.1s;
}

/* Controls toolbar */
.controls-left {
  position: fixed;
  top: 10px;
  left: 20px;
  display: flex;
  gap: 8px;
  align-items: center;
  z-index: 200;
  transition: transform 0.1s ease;
}

.controls-right {
  position: fixed;
  top: 10px;
  right: 20px;
  display: flex;
  gap: 8px;
  align-items: center;
  z-index: 200;
}

.control-btn {
  padding: 6px 12px;
  background: var(--btn-bg);
  border: 1px solid var(--border);
  border-radius: 4px;
  color: var(--fg);
  cursor: pointer;
  font-family: inherit;
  font-size: 14px;
  transition: all 0.1s;
}

.control-btn:hover {
  background: var(--btn-hover);
  border-color: var(--link);
}

.name-filter {
  padding: 6px 10px;
  background: var(--btn-bg);
  border: 1px solid var(--border);
  border-radius: 4px;
  color: var(--fg);
  font-family: inherit;
  font-size: 13px;
  width: 150px;
  transition: all 0.1s;
}

.name-filter:focus {
  outline: none;
  border-color: var(--link);
  width: 200px;
}

.name-filter::placeholder {
  color: var(--comment);
}

.regex-label {
  display: flex;
  align-items: center;
  gap: 4px;
  color: var(--comment);
  font-size: 12px;
  cursor: pointer;
}

.regex-label input {
  cursor: pointer;
}

.book-header {
  border-bottom: 2px solid var(--border);
  padding-bottom: 20px;
  margin-bottom: 20px;
}

.book-header h1 {
  color: var(--keyword);
  margin: 0;
}

.book-header .path {
  color: var(--comment);
  font-size: 0.9em;
}

.book-header .path .source-link {
  color: var(--comment);
  text-decoration: none;
}

.book-header .path .source-link:hover {
  color: var(--link);
  text-decoration: underline;
}

.form-block {
  margin: 10px 0;
  padding: 15px;
  background: var(--block-bg);
  border-radius: 8px;
  border-left: 3px solid var(--border);
}

.form-block.theorem { border-left-color: var(--keyword); }
.form-block.function { border-left-color: var(--function); }
.form-block.macro { border-left-color: var(--type); }
.form-block.include-book { border-left-color: var(--string); }

.form-block.hidden { display: none; }
.form-block.dimmed { opacity: 0.3; }

.form-block.highlight {
  animation: highlight-pulse 0.4s ease-out;
}

@keyframes highlight-pulse {
  0% { background: var(--highlight); box-shadow: 0 0 20px var(--link); }
  100% { background: rgba(49, 50, 68, 0.5); box-shadow: none; }
}

.form-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
}

.form-name {
  color: var(--function);
  font-weight: bold;
  cursor: pointer;
}

.form-name:hover {
  color: var(--link-hover);
  text-decoration: underline;
}

.form-type {
  color: var(--comment);
  font-size: 0.85em;
}

pre.code {
  margin: 0;
  overflow-x: auto;
  white-space: pre-wrap;
  word-wrap: break-word;
}

.sym-ref {
  color: var(--link);
  cursor: pointer;
  border-radius: 2px;
}

.sym-ref:hover {
  background: var(--highlight);
  color: var(--link-hover);
}

.sym-ref.local-def { color: var(--function); font-weight: bold; }
.sym-ref.external { color: var(--type); }

/* Symbol links (clickable hyperlinks) */
.sym-link {
  color: var(--link);
  text-decoration: none;
  border-radius: 2px;
  cursor: pointer;
  position: relative;
}

.sym-link:hover {
  background: var(--highlight);
  color: var(--link-hover);
  text-decoration: underline;
}

.sym-link.local-def {
  color: var(--function);
  font-weight: bold;
}

.sym-link.external {
  color: var(--type);
}

/* Tooltips using title attribute with custom styling */
.sym-link[title] {
  /* Browser will show title on hover */
}

/* Syntax highlighting in code blocks */
.keyword {
  color: var(--keyword);
}

.string {
  color: var(--string);
}

.number {
  color: #f77524; /* orange */
}

/* Include-book path links */
.include-path {
  color: var(--string);
  text-decoration: none;
  border-radius: 2px;
  cursor: pointer;
}

.include-path:hover {
  background: var(--highlight);
  color: var(--link-hover);
  text-decoration: underline;
}

/* Part buttons for defthm */
.part-buttons {
  display: flex;
  gap: 5px;
  margin: 10px 0;
  flex-wrap: wrap;
}

.part-btn {
  padding: 4px 10px;
  background: var(--border);
  border: 1px solid var(--comment);
  border-radius: 4px;
  color: var(--fg);
  cursor: pointer;
  font-size: 0.85em;
  font-family: inherit;
}

.part-btn:hover {
  background: var(--highlight);
  border-color: var(--link);
}

.part-btn.active {
  background: var(--link);
  color: var(--bg);
  border-color: var(--link);
}

/* References panel */
.refs-panel {
  margin-top: 10px;
  padding: 10px;
  background: rgba(0,0,0,0.2);
  border-radius: 4px;
  display: none;
}

.refs-panel.visible { display: block; }

.refs-panel h4 {
  margin: 0 0 5px 0;
  color: var(--comment);
  font-size: 0.9em;
}

.refs-list {
  display: flex;
  flex-wrap: wrap;
  gap: 5px;
}

/* Included books section */
.includes-section {
  margin-bottom: 20px;
  padding: 15px;
  background: rgba(49, 50, 68, 0.3);
  border-radius: 8px;
  border: 1px solid var(--border);
}

.includes-section h2 {
  margin: 0 0 10px 0;
  color: var(--comment);
  font-size: 1em;
  font-weight: normal;
}

.includes-list {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.include-link {
  padding: 6px 12px;
  background: var(--border);
  border-radius: 4px;
  color: var(--link);
  text-decoration: none;
  font-size: 0.9em;
  transition: all 0.1s;
}

.include-link:hover {
  background: var(--highlight);
  color: var(--link-hover);
}

.include-link.local {
  border-left: 2px solid var(--comment);
}

/* Filter status */
.filter-status {
  position: fixed;
  top: 10px;
  left: 20px;
  background: var(--bg);
  padding: 6px 12px;
  border: 1px solid var(--border);
  border-radius: 4px;
  z-index: 201;
  display: none;
  align-items: center;
  gap: 10px;
}

.filter-status.active {
  display: flex;
  align-items: center;
  gap: 10px;
}

.clear-filter {
  padding: 5px 15px;
  background: var(--keyword);
  color: var(--bg);
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

/* RDFa vocab indicator */
[vocab] { /* semantic web annotations present */ }

</style>

</head>
<body>
  <div class="controls-left">
    <input type="text" id="name-filter" class="name-filter" placeholder="Filter by name..." title="Filter definitions by name">
    <label class="regex-label"><input type="checkbox" id="regex-toggle"> regex</label>
  </div>

  <div class="controls-right">
    <button class="control-btn" id="theme-toggle" title="Toggle light/dark theme">☀️</button>
    <button class="control-btn" id="font-smaller" title="Decrease font size">A-</button>
    <button class="control-btn" id="font-larger" title="Increase font size">A+</button>
  </div>

  <div class="filter-status">
    <span class="filter-text">Filtering...</span>
    <button class="clear-filter">Clear Filter</button>
  </div>
  
  <div class="book-header">
    <h1 property="name">2d-arr</h1>
    <div class="path"><a href="2d-arr.lisp" class="source-link">books/std/stobjs/2d-arr</a></div>
  </div>
  
  <main property="text">
<div class="form-block other" id="form-0" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-in-package" data-sym="IN-PACKAGE">in-package</a> <span class="string">"STOBJS"</span>)</pre>
  </div>

<div class="form-block other" id="form-1" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-include-book" data-sym="INCLUDE-BOOK">include-book</a> <a class="include-path" href="absstobjs.html" title="Open absstobjs">"absstobjs"</a>)</pre>
  </div>

<div class="form-block other" id="form-2" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-include-book" data-sym="INCLUDE-BOOK">include-book</a> <a class="include-path" href="../../../std/basic/defs.html" title="Open std/basic/defs">"std/basic/defs"</a> <span class="keyword">:dir</span> <span class="keyword">:system</span>)</pre>
  </div>

<div class="form-block other" id="form-3" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-include-book" data-sym="INCLUDE-BOOK">include-book</a> <a class="include-path" href="../../../std/basic/arith-equivs.html" title="Open std/basic/arith-equivs">"std/basic/arith-equivs"</a> <span class="keyword">:dir</span> <span class="keyword">:system</span>)</pre>
  </div>

<div class="form-block other" id="form-4" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-include-book" data-sym="INCLUDE-BOOK">include-book</a> <a class="include-path" href="../../../std/strings/substrp.html" title="Open std/strings/substrp">"std/strings/substrp"</a> <span class="keyword">:dir</span> <span class="keyword">:system</span>)</pre>
  </div>

<div class="form-block other" id="form-5" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-include-book" data-sym="INCLUDE-BOOK">include-book</a> <a class="include-path" href="../../../std/strings/strsubst.html" title="Open std/strings/strsubst">"std/strings/strsubst"</a> <span class="keyword">:dir</span> <span class="keyword">:system</span>)</pre>
  </div>

<div class="form-block other" id="form-6" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-include-book" data-sym="INCLUDE-BOOK">include-book</a> <a class="include-path" href="../../../xdoc/str.html" title="Open xdoc/str">"xdoc/str"</a> <span class="keyword">:dir</span> <span class="keyword">:system</span>)</pre>
  </div>

<div class="form-block other" id="form-7" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-include-book" data-sym="INCLUDE-BOOK">include-book</a> <a class="include-path" href="../../../arithmetic/top-with-meta.html" title="Open arithmetic/top-with-meta">"arithmetic/top-with-meta"</a> <span class="keyword">:dir</span> <span class="keyword">:system</span>))</pre>
  </div>

<div class="form-block other" id="form-8" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-include-book" data-sym="INCLUDE-BOOK">include-book</a> <a class="include-path" href="../../../ihs/quotient-remainder-lemmas.html" title="Open ihs/quotient-remainder-lemmas">"ihs/quotient-remainder-lemmas"</a> <span class="keyword">:dir</span> <span class="keyword">:system</span>))</pre>
  </div>

<div class="form-block other" id="form-9" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-in-theory" data-sym="IN-THEORY">in-theory</a> (disable <a class="sym-link system" href="../../../axioms.html#def-nth" data-sym="NTH">nth</a> <a class="sym-link system" href="../../../axioms.html#def-update-nth" data-sym="UPDATE-NTH">update-nth</a> <a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a>)))</pre>
  </div>

<div class="form-block other" id="form-10" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-in-theory" data-sym="IN-THEORY">in-theory</a> (enable* arith-equiv-forwarding)))</pre>
  </div>

<div class="form-block other" id="form-11" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defxdoc <a class="sym-link local-def" href="#def-def-2d-arr" data-sym="DEF-2D-ARR" title="(defmacro stobjs::def-2d-arr
          (stobjs::stobj-name
           &amp;key stobjs::prefix (stobjs::type-decl &#39;t)
           (stobjs::pred &#39;stobjs::true-predicate) stobjs::default-val
           (stobjs::fix &#39;stobjs::id-macro)
...">def-2d-arr</a>
  <span class="keyword">:parents</span> (std/stobjs)
  <span class="keyword">:short</span> <span class="string">"Defines a @(see abstract-stobj) for a two-dimensional array."</span>
  <span class="keyword">:long</span> <span class="string">"&lt;p&gt;@(&#39;Def-2d-arr&#39;) produces an @(see abstract-stobj) with associated
@(&#39;get2&#39;)/@(&#39;set2&#39;), @(&#39;nrows&#39;)/@(&#39;ncols&#39;), @(&#39;resize-rows&#39;)/@(&#39;resize-cols&#39;)
functions.  Logically the stobj looks like a list of lists.  But for execution,
these functions are stobj array operations that manipulate a (one-dimensional)
stobj array.&lt;/p&gt;

&lt;h3&gt;Example&lt;/h3&gt;

&lt;p&gt;The following defines a two-dimensional array of integers named
@(&#39;intmatrix&#39;).&lt;/p&gt;

@({
    (def-2d-arr intmatrix         ;; Stobj name
      :prefix      imx            ;; Base name for accessor functions (optional)
      :pred        integerp       ;; Element type recognizer (optional)
      :type-decl   integer        ;; Element type-spec (optional)
      :fix         ifix           ;; Element fixing function (optional)
      :default-val 0              ;; Element default value (for resizing)
      :parents (my-algorithm))    ;; XDOC parent topics
})

&lt;h3&gt;Keyword Options&lt;/h3&gt;

&lt;dl&gt;

&lt;dt&gt;@(&#39;:prefix&#39;)&lt;/dt&gt;

&lt;dd&gt;This is used for name generation.  For example, by using @(&#39;imx&#39;) above, we
will get functions named @(&#39;imx-nrows&#39;), @(&#39;imx-ncols&#39;), @(&#39;imx-resize-rows&#39;),
@(&#39;imx-resize-cols&#39;), @(&#39;imx-get2&#39;), and @(&#39;imx-set2&#39;).  If you don&#39;t provide a
custom prefix we just use the stobj name.&lt;/dd&gt;

&lt;dt&gt;@(&#39;:pred&#39;)&lt;/dt&gt;

&lt;dd&gt;Specifies an element recognizer function. This can be used to restrict the
types of elements that can be put into the array.&lt;/dd&gt;

&lt;dt&gt;@(&#39;:default-val&#39;)&lt;/dt&gt;

&lt;dd&gt;This gives the default array element for resizing, i.e., the
@(&#39;:initially&#39;) argument to the underlying @(see stobj).  This is often
necessary when you provide a restricted @(&#39;:pred&#39;), because the default value
needs to satisfy the predicate.&lt;/dd&gt;

&lt;dt&gt;@(&#39;:type-decl&#39;)&lt;/dt&gt;

&lt;dd&gt;This provides a Common Lisp @(see acl2::type-spec) declaration for a single
element&#39;s type.  It primarily affects memory efficienty and performance.  If
provided, it must sensibly agree with the given @(&#39;:pred&#39;).&lt;/dd&gt;

&lt;dt&gt;@(&#39;:fix&#39;)&lt;/dt&gt;

&lt;dd&gt;Optional, requires a compatible @(&#39;:pred&#39;).  This alters the logical
definition of the @(&#39;get2&#39;) function so that it always produces a result of the
correct type.  For instance, by using @(&#39;:fix ifix&#39;) above, @(&#39;imx-get2&#39;)
will (logically) return the @(see ifix) of the element at that position in the
array.&lt;/dd&gt;

&lt;dt&gt;@(&#39;:parents&#39;), @(&#39;:short&#39;), @(&#39;:long&#39;)&lt;/dt&gt;

&lt;dd&gt;These options are as in @(see defxdoc).  Note that you typically don&#39;t need
to give @(&#39;:short&#39;) or @(&#39;:long&#39;) descriptions because reasonable boilerplate
documentation can be generated automatically.&lt;/dd&gt;

&lt;/dl&gt;

&lt;h3&gt;Advanced/Obscure Options&lt;/h3&gt;

&lt;p&gt;In certain cases, you may want to use a stronger @(&#39;type-decl&#39;) than your
@(&#39;pred&#39;) really allows.  For instance, you might want Common Lisp to know that
your array really contains fixnums, but logically just imagine that the array
contains arbitrary integers (and hence avoid the difficulty of bounds checking
when using the array).&lt;/p&gt;

&lt;p&gt;The options @(&#39;:elt-guard&#39;), @(&#39;:elt-okp&#39;), and @(&#39;:xvar&#39;) can be used to
customize the @(&#39;set&#39;) function to accomplish this.  See for instance @(&#39;s61v&#39;)
in @(&#39;std/stobjs/tests/2d-arr.lisp&#39;) for an example.&lt;/p&gt;"</span>)</pre>
  </div>

<div class="form-block other" id="form-12" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(define 2darr-index
  ((row <span class="keyword">:type</span> (integer <span class="number">0</span> <a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a>)) (col <span class="keyword">:type</span> (integer <span class="number">0</span> <a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a>))
    (nrows <span class="keyword">:type</span> (integer <span class="number">0</span> <a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a>))
    (ncols <span class="keyword">:type</span> (integer <span class="number">0</span> <a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a>)))
  <span class="keyword">:returns</span> (index <a class="sym-link system" href="../../../axioms.html#def-natp" data-sym="NATP">natp</a>
    <span class="keyword">:rule-classes</span> <span class="keyword">:type-prescription</span>)
  <span class="keyword">:guard</span> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (&lt; col ncols)
    (&lt; row nrows)
    (&lt; (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> nrows ncols) (expt <span class="number">2</span> <span class="number">60</span>)))
  <span class="keyword">:guard-hints</span> ((<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> stable-under-simplificationp '(<span class="keyword">:nonlinearp</span> <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>)))
  (declare (ignore nrows))
  (<a class="sym-link system" href="../../../axioms.html#def-the" data-sym="THE">the</a> (unsigned-byte <span class="number">60</span>)
    (<a class="sym-link system" href="../../../axioms.html#def-_2B" data-sym="+">+</a> (<a class="sym-link system" href="../../../axioms.html#def-the" data-sym="THE">the</a> (unsigned-byte <span class="number">60</span>) (lnfix col))
      (<a class="sym-link system" href="../../../axioms.html#def-the" data-sym="THE">the</a> (unsigned-byte <span class="number">60</span>)
        (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> (<a class="sym-link system" href="../../../axioms.html#def-the" data-sym="THE">the</a> (unsigned-byte <span class="number">60</span>) (lnfix ncols))
          (<a class="sym-link system" href="../../../axioms.html#def-the" data-sym="THE">the</a> (unsigned-byte <span class="number">60</span>) (lnfix row))))))
  ///
  (<a class="sym-link system" href="../../../defthm.html#def-defcong" data-sym="DEFCONG">defcong</a> nat-equiv
    equal
    (2darr-index row
      col
      nrows
      ncols)
    <span class="number">1</span>)
  (<a class="sym-link system" href="../../../defthm.html#def-defcong" data-sym="DEFCONG">defcong</a> nat-equiv
    equal
    (2darr-index row
      col
      nrows
      ncols)
    <span class="number">2</span>)
  (<a class="sym-link system" href="../../../defthm.html#def-defcong" data-sym="DEFCONG">defcong</a> nat-equiv
    equal
    (2darr-index row
      col
      nrows
      ncols)
    <span class="number">3</span>)
  (<a class="sym-link system" href="../../../defthm.html#def-defcong" data-sym="DEFCONG">defcong</a> nat-equiv
    equal
    (2darr-index row
      col
      nrows
      ncols)
    <span class="number">4</span>)
  (<a class="sym-link system" href="../../../axioms.html#def-defthmd" data-sym="DEFTHMD">defthmd</a> 2darr-index-normalize-nrows
    (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-syntaxp" data-sym="SYNTAXP">syntaxp</a> (<a class="sym-link system" href="../../../axioms.html#def-not" data-sym="NOT">not</a> (equal nrows ''<span class="number">0</span>)))
      (equal (2darr-index row
          col
          nrows
          ncols)
        (2darr-index row
          col
          <span class="number">0</span>
          ncols))))
  (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> 2darr-index-in-bounds
    (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (&lt; (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> row) (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> nrows))
        (&lt; (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> col) (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> ncols)))
      (&lt; (2darr-index row
          col
          nrows
          ncols)
        (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> nrows)
          (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> ncols))))
    <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:in-theory</span> (enable 2darr-index)) (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> stable-under-simplificationp '(<span class="keyword">:nonlinearp</span> <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>)))
    <span class="keyword">:rule-classes</span> <span class="keyword">:linear</span>)
  (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> 2darr-indices-same
    (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (&lt; (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> col1) (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> ncols))
        (&lt; (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> col2) (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> ncols)))
      (equal (equal (2darr-index row1
            col1
            nrows
            ncols)
          (2darr-index row2
            col2
            nrows
            ncols))
        (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (equal (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> row1)
            (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> row2))
          (equal (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> col1)
            (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> col2)))))
    <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:in-theory</span> (<a class="sym-link system" href="../../../axioms.html#def-e_2Fd" data-sym="E/D">e/d</a> (2darr-index))
       <span class="keyword">:cases</span> ((&lt; (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> row1) (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> row2)) (&lt; (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> row2) (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> row1)))) (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> stable-under-simplificationp '(<span class="keyword">:nonlinearp</span> <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>))))
  (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> 2darr-index-less-than-product
    (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-natp" data-sym="NATP">natp</a> nrows)
      (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-natp" data-sym="NATP">natp</a> ncols)
            (&lt; (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> col) ncols))
          (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (equal (&lt; (2darr-index row
                  col
                  nrows1
                  ncols)
                (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> nrows ncols))
              (&lt; (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> row) nrows))
            (equal (&lt; (2darr-index row
                  col
                  nrows1
                  ncols)
                (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> ncols nrows))
              (&lt; (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> row) nrows))))
        (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (&lt; (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> col) (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> ncols))
          (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (equal (&lt; (2darr-index row
                  col
                  nrows1
                  ncols)
                (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> nrows (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> ncols)))
              (&lt; (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> row) nrows))
            (equal (&lt; (2darr-index row
                  col
                  nrows1
                  ncols)
                (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> ncols) nrows))
              (&lt; (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> row) nrows))))))
    <span class="keyword">:hints</span> ((<span class="string">"goal"</span> <span class="keyword">:cases</span> ((&lt; (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> row) nrows))) (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> stable-under-simplificationp '(<span class="keyword">:nonlinearp</span> <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>)))))</pre>
  </div>

<div class="form-block other" id="form-13" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-in-theory" data-sym="IN-THEORY">in-theory</a> (disable floor)))</pre>
  </div>

<div class="form-block other" id="form-14" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> floor-bound
    (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-natp" data-sym="NATP">natp</a> x) (<a class="sym-link system" href="../../../axioms.html#def-natp" data-sym="NATP">natp</a> y))
      (<a class="sym-link system" href="../../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> y (floor x y)) x))
    <span class="keyword">:rule-classes</span> <span class="keyword">:linear</span>))</pre>
  </div>

<div class="form-block other" id="form-15" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(define 2darr-index-inverse
  ((idx <span class="keyword">:type</span> (integer <span class="number">0</span> <a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a>)) (nrows <span class="keyword">:type</span> (integer <span class="number">0</span> <a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a>))
    (ncols <span class="keyword">:type</span> (integer <span class="number">0</span> <a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a>)))
  <span class="keyword">:guard</span> (&lt; idx (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> ncols nrows))
  (declare (ignore nrows))
  <span class="keyword">:returns</span> (<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> (row-idx <a class="sym-link system" href="../../../axioms.html#def-natp" data-sym="NATP">natp</a>
      <span class="keyword">:rule-classes</span> <span class="keyword">:type-prescription</span>)
    (col-idx <a class="sym-link system" href="../../../axioms.html#def-natp" data-sym="NATP">natp</a>
      <span class="keyword">:rule-classes</span> <span class="keyword">:type-prescription</span>))
  (b* ((idx (lnfix idx)) (ncols (lnfix ncols)))
    (if (<a class="sym-link system" href="../../../axioms.html#def-eql" data-sym="EQL">eql</a> <span class="number">0</span> ncols)
      (<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> <span class="number">0</span> idx)
      (<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> (floor idx ncols)
        (mod idx ncols))))
  ///
  (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> 2darr-index-inverse-of-2darr-index
    (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (&lt; (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> row) (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> nrows))
        (&lt; (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> col) (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> ncols)))
      (equal (2darr-index-inverse (2darr-index row
            col
            nrows
            ncols)
          nrows
          ncols)
        (<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> row)
          (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> col))))
    <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:in-theory</span> (enable 2darr-index))))
  (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> 2darr-index-of-2darr-index-inverse
    (b* (((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> row col) (2darr-index-inverse idx
           nrows
           ncols)))
      (equal (2darr-index row
          col
          nrows
          ncols)
        (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> idx)))
    <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:in-theory</span> (enable 2darr-index))))
  (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> nonlinear-lemma
      (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (&lt; x (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> y z))
          (<a class="sym-link system" href="../../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> z f)
          (<a class="sym-link system" href="../../../axioms.html#def-natp" data-sym="NATP">natp</a> x)
          (<a class="sym-link system" href="../../../axioms.html#def-natp" data-sym="NATP">natp</a> y)
          (<a class="sym-link system" href="../../../axioms.html#def-natp" data-sym="NATP">natp</a> z)
          (<a class="sym-link system" href="../../../axioms.html#def-natp" data-sym="NATP">natp</a> f))
        (&lt; x (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> y f)))
      <span class="keyword">:hints</span> ((<span class="string">"goal"</span> <span class="keyword">:nonlinearp</span> <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>))))
  (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> 2darr-index-inverse-in-bounds
    (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (&lt; (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> idx)
        (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> ncols)
          (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> nrows)))
      (b* (((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> row col) (2darr-index-inverse idx
             nrows
             ncols)))
        (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (&lt; row (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> nrows))
          (&lt; col (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> ncols)))))
    <span class="keyword">:hints</span> ((<span class="string">"goal"</span> <span class="keyword">:use</span> ((<span class="keyword">:instance</span> floor-bound
          (x (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> idx))
          (y ncols)))
       <span class="keyword">:in-theory</span> (disable floor-bound)))
    <span class="keyword">:rule-classes</span> <span class="keyword">:linear</span>))</pre>
  </div>

<div class="form-block other" id="form-16" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(def-ruleset! 2d-arr-base-theory
  (let ((world (<a class="sym-link system" href="../../../axioms.html#def-w" data-sym="W">w</a> state)))
    (current-theory <span class="keyword">:here</span>)))</pre>
  </div>

<div class="form-block other" id="form-17" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(define 2darr-p
  (x)
  (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (consp x)
    (<a class="sym-link system" href="../../../axioms.html#def-natp" data-sym="NATP">natp</a> (car x))
    (<a class="sym-link system" href="../../../axioms.html#def-true-listp" data-sym="TRUE-LISTP">true-listp</a> (cdr x))))</pre>
  </div>

<div class="form-block other" id="form-18" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(define 2darr-&gt;ncols
  ((x 2darr-p))
  <span class="keyword">:returns</span> (ncols <a class="sym-link system" href="../../../axioms.html#def-natp" data-sym="NATP">natp</a>
    <span class="keyword">:rule-classes</span> <span class="keyword">:type-prescription</span>)
  <span class="keyword">:prepwork</span> ((<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-in-theory" data-sym="IN-THEORY">in-theory</a> (enable 2darr-p))))
  (lnfix (car x)))</pre>
  </div>

<div class="form-block other" id="form-19" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(define 2darr-&gt;rows
  ((x 2darr-p))
  <span class="keyword">:returns</span> (rows <a class="sym-link system" href="../../../axioms.html#def-true-listp" data-sym="TRUE-LISTP">true-listp</a>
    <span class="keyword">:rule-classes</span> <span class="keyword">:type-prescription</span>)
  <span class="keyword">:prepwork</span> ((<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-in-theory" data-sym="IN-THEORY">in-theory</a> (enable 2darr-p))))
  (<a class="sym-link system" href="../../../axioms.html#def-mbe" data-sym="MBE">mbe</a> <span class="keyword">:logic</span> (list-fix (cdr x))
    <span class="keyword">:exec</span> (cdr x)))</pre>
  </div>

<div class="form-block other" id="form-20" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(define 2darr-fix
  ((x 2darr-p))
  <span class="keyword">:returns</span> (new-x 2darr-p)
  <span class="keyword">:prepwork</span> ((<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-in-theory" data-sym="IN-THEORY">in-theory</a> (enable 2darr-p
         2darr-&gt;ncols
         2darr-&gt;rows))))
  (<a class="sym-link system" href="../../../axioms.html#def-mbe" data-sym="MBE">mbe</a> <span class="keyword">:logic</span> (cons (2darr-&gt;ncols x)
      (2darr-&gt;rows x))
    <span class="keyword">:exec</span> x)
  ///
  (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> 2darr-fix-when-2darr-p
    (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (2darr-p x)
      (equal (2darr-fix x) x)))
  (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> 2darr-&gt;ncols-of-2darr-fix
    (equal (2darr-&gt;ncols (2darr-fix x))
      (2darr-&gt;ncols x)))
  (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> 2darr-&gt;rows-of-2darr-fix
    (equal (2darr-&gt;rows (2darr-fix x))
      (2darr-&gt;rows x))))</pre>
  </div>

<div class="form-block other" id="form-21" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(define 2darr
  ((ncols <a class="sym-link system" href="../../../axioms.html#def-natp" data-sym="NATP">natp</a>) (rows <a class="sym-link system" href="../../../axioms.html#def-true-listp" data-sym="TRUE-LISTP">true-listp</a>))
  <span class="keyword">:returns</span> (2darr 2darr-p)
  <span class="keyword">:prepwork</span> ((<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-in-theory" data-sym="IN-THEORY">in-theory</a> (enable 2darr-&gt;ncols
         2darr-&gt;rows
         2darr-fix
         2darr-p))))
  (cons (lnfix ncols)
    (<a class="sym-link system" href="../../../axioms.html#def-mbe" data-sym="MBE">mbe</a> <span class="keyword">:logic</span> (list-fix rows)
      <span class="keyword">:exec</span> rows))
  ///
  (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> 2darr-ncols-rows-identity
    (equal (2darr (2darr-&gt;ncols x)
        (2darr-&gt;rows x))
      (2darr-fix x)))
  (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> 2darr-&gt;ncols-of-2darr
    (equal (2darr-&gt;ncols (2darr ncols rows))
      (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> ncols)))
  (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> 2darr-&gt;rows-of-2darr
    (equal (2darr-&gt;rows (2darr ncols rows))
      (list-fix rows))))</pre>
  </div>

<div class="form-block function" id="def-def2darr-events" data-defines="DEF2DARR-EVENTS" data-references="ORDER-SUBTOPICS,EXT,_LONG_,_ELT-TYPE-STR_,SIMPLE-HTML-ENCODE-STR,RCHARS-TO-STRING,FULL-ESCAPE-SYMBOL,SYMBOLP,CAT,_SHORT_,OR,_PARENTS_,DEFXDOC,_PREFIX_-RESIZE-COLS,_PREFIX_-RESIZE-ROWS,_PREFIX_-SET,EC-CALL,_ELT-OKP_,_ELT-GUARD_,_XVAR_,_PREFIX_-SET2,_PREFIX_E-RESIZE-COLS$INLINE,_PREFIX_-RESIZE-COLS$G,_PREFIX_E-RESIZE-ROWS$INLINE,_PREFIX_-RESIZE-ROWS$G,_PREFIX_E-SET$INLINE,_PREFIX_-SET$G,_PREFIX_E-SET2$INLINE,_PREFIX_-SET2$G,_PREFIX_E-GET$INLINE,_PREFIX_-GET,_PREFIX_E-GET2$INLINE,_PREFIX_-GET2,_PREFIX_-NCOLS,_PREFIX_-NROWS,CREATE-_PREFIX_E-ARR2,CREATE-_STOBJ-NAME_,_PREFIX_E-ARR2P,_STOBJ-NAME_P,DEFABSSTOBJ-EVENTS,_STOBJ-NAME_-CORR,DEFUN-NX,MV-NTH,_STOBJ-NAME_-LOOKUPS-CORR-WITNESS,QUASIQUOTE,REWRITING-POSITIVE-LITERAL,_STOBJ-NAME_-LOOKUPS-CORR-EXPAND,FORALL,_STOBJ-NAME_-LOOKUPS-CORR,DEFUN-SK,LIST,CREATE-_PREFIX_L-ARR2,_PREFIX_L-NCOLS-OF-_PREFIX_L-RESIZE-COLS,_PREFIX_L-NROWS-OF-_PREFIX_L-RESIZE-COLS,_PREFIX_L-GET2-OF-_PREFIX_L-RESIZE-COLS,_PREFIX_L-ARR2-WFP-OF-_PREFIX_L-RESIZE-COLS,_PREFIX_L-ARR2-DATA-WFP-OF-MAKE-LIST-AC,_PREFIX_L-RESIZE-COLS,_PREFIX_L-NROWS-OF-_PREFIX_L-RESIZE-ROWS,_PREFIX_L-NCOLS-OF-_PREFIX_L-RESIZE-ROWS,_PREFIX_L-GET2-OF-_PREFIX_L-RESIZE-ROWS,_PREFIX_L-ARR2-WFP-OF-_PREFIX_L-RESIZE-ROWS,_PREFIX_L-ARR2-DATA-WFP-OF-RESIZE-LIST,MAKE-LIST,RESIZE-LIST,_PREFIX_L-RESIZE-ROWS,_PREFIX_L-SET,_PREFIX_L-ARR2-WFP-OF-_PREFIX_L-SET2,_PREFIX_L-ARR2-DATA-WFP-OF-UPDATE-NTH,_PREFIX_E-DATAP-OF-UPDATE-NTH,_PREFIX_L-NROWS-OF-_PREFIX_L-SET2,_PREFIX_L-NCOLS-OF-_PREFIX_L-SET2,_PREFIX_L-GET2-OF-_PREFIX_L-SET2,2DARR,DEFUND,_PREFIX_L-SET2,_PREFIX_L-GET,_PREFIX_L-GET2,_PREFIX_L-NCOLS,_PREFIX_L-NROWS,2DARR->NCOLS,2DARR->ROWS,2DARR-P,_PREFIX_L-ARR2,_PREFIX_L-ARR2-WFP,SIZE,MAKE-LIST-AC,ACC,_PREFIX_E-DATAP-OF-MAKE-LIST-AC,LEN-NTH-OF-_PREFIX_L-DATA,_PREFIX_E-DATAP-NTH-OF-_PREFIX_L-DATA,TRUE-LISTP-NTH-OF-_PREFIX_L-DATA,TRUE-LISTP-_PREFIX_L-DATA,TRUE-LISTP,TRUE-LISTP-_PREFIX_E-DATA,CDR,LENGTH,CAR,ATOM,WIDTH,_PREFIX_L-ARR2-DATA-WFP,_PREFIX_E-NCOLS-OF-_PREFIX_E-RESIZE-COLS,STABLE-UNDER-SIMPLIFICATIONP,DISABLE,_PREFIX_E-NROWS-OF-_PREFIX_E-RESIZE-COLS,_PREFIX_E-GET2-OF-_PREFIX_E-RESIZE-COLS,E/D,_PREFIX_E-ARR2-WFP-OF-_PREFIX_E-RESIZE-COLS,UPDATE-_PREFIX_E-NCOLS,NCOLS,_PREFIX_E-RESIZE-COLS,_PREFIX_E-NROWS-OF-_PREFIX_E-RESIZE-ROWS,_PREFIX_E-NCOLS-OF-_PREFIX_E-RESIZE-ROWS,2DARR-INDEX-NORMALIZE-NROWS,_PREFIX_E-GET2-OF-_PREFIX_E-RESIZE-ROWS,_PREFIX_E-ARR2-WFP-OF-_PREFIX_E-RESIZE-ROWS,UPDATE-_PREFIX_E-NROWS,RESIZE-_PREFIX_E-DATA,LET*,NROWS,_PREFIX_E-RESIZE-ROWS,_PREFIX_E-SET-IN-TERMS-OF-_PREFIX_E-SET2,_PREFIX_E-SET,_PREFIX_E-ARR2-WFP-OF-_PREFIX_E-SET2,_PREFIX_E-NROWS-OF-_PREFIX_E-SET2,_PREFIX_E-NCOLS-OF-_PREFIX_E-SET2,VAL2,ROW2,ROW1,COL2,COL1,_PREFIX_E-GET2-OF-_PREFIX_E-SET2,UPDATE-_PREFIX_E-DATAI,VAL,_PREFIX_E-SET2,2DARR-INDEX-INVERSE,MV,B*,_PREFIX_E-GET-IN-TERMS-OF-_PREFIX_E-GET2,IDX,DEFUND-INLINE,_PREFIX_E-GET,MBE,_PREFIX_E-DATAI,ELT,LET,NATP,_PREFIX_E-GET2,2DARR-INDEX,INTEGER,TYPE,COL,ROW,_PREFIX_E-INDEX,DEFUN-INLINE,EXPT,1-,<=,_PREFIX_E-DATA-LENGTH,LNFIX,*,INT=,XARGS,DECLARE,_PREFIX_E-ARR2-WFP,EQUAL,_PREFIX_-FIX-WHEN-ELT-TYPEP,ID-MACRO,_ELT-FIX_,ENABLE,LEN,N,NFIX,<,X,_PREFIX_E-DATAP,AND,IMPLIES,ELT-TYPE-OF-NTH-OF-_PREFIX_E-DATAP,DEFTHM,VALUE-TRIPLE,TRUE-PREDICATE,_ELT-TYPEP_,EQ,IF,MAKE-EVENT,T,_DEFAULT-ELT_,_ELT-TYPE_,ARRAY,_PREFIX_E-DATA,_PREFIX_E-NCOLS,UNSIGNED-BYTE,_PREFIX_E-NROWS,_PREFIX_E-ARR2,DEFSTOBJ,UPDATE-NTH,NTH,LEN-UPDATE-NTH,NTH-WITH-LARGE-INDEX,ARITH-EQUIV-FORWARDING,NTH-OF-RESIZE-LIST-SPLIT,E/D*,INCLUDE-BOOK,2D-ARR-BASE-THEORY,ENABLE*,IN-THEORY,LOCAL,_STOBJ-NAME_,DEFSECTION,QUOTE,DEFUN" data-used-by="DEF-2D-ARR" data-part-name="DEF2DARR-EVENTS" data-part-body="ORDER-SUBTOPICS,EXT,_LONG_,_ELT-TYPE-STR_,SIMPLE-HTML-ENCODE-STR,RCHARS-TO-STRING,FULL-ESCAPE-SYMBOL,SYMBOLP,CAT,_SHORT_,OR,_PARENTS_,DEFXDOC,_PREFIX_-RESIZE-COLS,_PREFIX_-RESIZE-ROWS,_PREFIX_-SET,EC-CALL,_ELT-OKP_,_ELT-GUARD_,_XVAR_,_PREFIX_-SET2,_PREFIX_E-RESIZE-COLS$INLINE,_PREFIX_-RESIZE-COLS$G,_PREFIX_E-RESIZE-ROWS$INLINE,_PREFIX_-RESIZE-ROWS$G,_PREFIX_E-SET$INLINE,_PREFIX_-SET$G,_PREFIX_E-SET2$INLINE,_PREFIX_-SET2$G,_PREFIX_E-GET$INLINE,_PREFIX_-GET,_PREFIX_E-GET2$INLINE,_PREFIX_-GET2,_PREFIX_-NCOLS,_PREFIX_-NROWS,CREATE-_PREFIX_E-ARR2,CREATE-_STOBJ-NAME_,_PREFIX_E-ARR2P,_STOBJ-NAME_P,DEFABSSTOBJ-EVENTS,_STOBJ-NAME_-CORR,DEFUN-NX,MV-NTH,_STOBJ-NAME_-LOOKUPS-CORR-WITNESS,QUASIQUOTE,REWRITING-POSITIVE-LITERAL,_STOBJ-NAME_-LOOKUPS-CORR-EXPAND,FORALL,_STOBJ-NAME_-LOOKUPS-CORR,DEFUN-SK,LIST,CREATE-_PREFIX_L-ARR2,_PREFIX_L-NCOLS-OF-_PREFIX_L-RESIZE-COLS,_PREFIX_L-NROWS-OF-_PREFIX_L-RESIZE-COLS,_PREFIX_L-GET2-OF-_PREFIX_L-RESIZE-COLS,_PREFIX_L-ARR2-WFP-OF-_PREFIX_L-RESIZE-COLS,_PREFIX_L-ARR2-DATA-WFP-OF-MAKE-LIST-AC,_PREFIX_L-RESIZE-COLS,_PREFIX_L-NROWS-OF-_PREFIX_L-RESIZE-ROWS,_PREFIX_L-NCOLS-OF-_PREFIX_L-RESIZE-ROWS,_PREFIX_L-GET2-OF-_PREFIX_L-RESIZE-ROWS,_PREFIX_L-ARR2-WFP-OF-_PREFIX_L-RESIZE-ROWS,_PREFIX_L-ARR2-DATA-WFP-OF-RESIZE-LIST,MAKE-LIST,RESIZE-LIST,_PREFIX_L-RESIZE-ROWS,_PREFIX_L-SET,_PREFIX_L-ARR2-WFP-OF-_PREFIX_L-SET2,_PREFIX_L-ARR2-DATA-WFP-OF-UPDATE-NTH,_PREFIX_E-DATAP-OF-UPDATE-NTH,_PREFIX_L-NROWS-OF-_PREFIX_L-SET2,_PREFIX_L-NCOLS-OF-_PREFIX_L-SET2,_PREFIX_L-GET2-OF-_PREFIX_L-SET2,2DARR,DEFUND,_PREFIX_L-SET2,_PREFIX_L-GET,_PREFIX_L-GET2,_PREFIX_L-NCOLS,_PREFIX_L-NROWS,2DARR->NCOLS,2DARR->ROWS,2DARR-P,_PREFIX_L-ARR2,_PREFIX_L-ARR2-WFP,SIZE,MAKE-LIST-AC,ACC,_PREFIX_E-DATAP-OF-MAKE-LIST-AC,LEN-NTH-OF-_PREFIX_L-DATA,_PREFIX_E-DATAP-NTH-OF-_PREFIX_L-DATA,TRUE-LISTP-NTH-OF-_PREFIX_L-DATA,TRUE-LISTP-_PREFIX_L-DATA,TRUE-LISTP,TRUE-LISTP-_PREFIX_E-DATA,CDR,LENGTH,CAR,ATOM,WIDTH,_PREFIX_L-ARR2-DATA-WFP,_PREFIX_E-NCOLS-OF-_PREFIX_E-RESIZE-COLS,STABLE-UNDER-SIMPLIFICATIONP,DISABLE,_PREFIX_E-NROWS-OF-_PREFIX_E-RESIZE-COLS,_PREFIX_E-GET2-OF-_PREFIX_E-RESIZE-COLS,E/D,_PREFIX_E-ARR2-WFP-OF-_PREFIX_E-RESIZE-COLS,UPDATE-_PREFIX_E-NCOLS,NCOLS,_PREFIX_E-RESIZE-COLS,_PREFIX_E-NROWS-OF-_PREFIX_E-RESIZE-ROWS,_PREFIX_E-NCOLS-OF-_PREFIX_E-RESIZE-ROWS,2DARR-INDEX-NORMALIZE-NROWS,_PREFIX_E-GET2-OF-_PREFIX_E-RESIZE-ROWS,_PREFIX_E-ARR2-WFP-OF-_PREFIX_E-RESIZE-ROWS,UPDATE-_PREFIX_E-NROWS,RESIZE-_PREFIX_E-DATA,LET*,NROWS,_PREFIX_E-RESIZE-ROWS,_PREFIX_E-SET-IN-TERMS-OF-_PREFIX_E-SET2,_PREFIX_E-SET,_PREFIX_E-ARR2-WFP-OF-_PREFIX_E-SET2,_PREFIX_E-NROWS-OF-_PREFIX_E-SET2,_PREFIX_E-NCOLS-OF-_PREFIX_E-SET2,VAL2,ROW2,ROW1,COL2,COL1,_PREFIX_E-GET2-OF-_PREFIX_E-SET2,UPDATE-_PREFIX_E-DATAI,VAL,_PREFIX_E-SET2,2DARR-INDEX-INVERSE,MV,B*,_PREFIX_E-GET-IN-TERMS-OF-_PREFIX_E-GET2,IDX,DEFUND-INLINE,_PREFIX_E-GET,MBE,_PREFIX_E-DATAI,ELT,LET,NATP,_PREFIX_E-GET2,2DARR-INDEX,INTEGER,TYPE,COL,ROW,_PREFIX_E-INDEX,DEFUN-INLINE,EXPT,1-,<=,_PREFIX_E-DATA-LENGTH,LNFIX,*,INT=,XARGS,DECLARE,_PREFIX_E-ARR2-WFP,DEFUN,EQUAL,_PREFIX_-FIX-WHEN-ELT-TYPEP,ID-MACRO,_ELT-FIX_,ENABLE,LEN,N,NFIX,<,X,_PREFIX_E-DATAP,AND,IMPLIES,ELT-TYPE-OF-NTH-OF-_PREFIX_E-DATAP,DEFTHM,VALUE-TRIPLE,TRUE-PREDICATE,_ELT-TYPEP_,EQ,IF,MAKE-EVENT,T,_DEFAULT-ELT_,_ELT-TYPE_,ARRAY,_PREFIX_E-DATA,_PREFIX_E-NCOLS,UNSIGNED-BYTE,_PREFIX_E-NROWS,_PREFIX_E-ARR2,DEFSTOBJ,UPDATE-NTH,NTH,LEN-UPDATE-NTH,NTH-WITH-LARGE-INDEX,ARITH-EQUIV-FORWARDING,NTH-OF-RESIZE-LIST-SPLIT,E/D*,INCLUDE-BOOK,2D-ARR-BASE-THEORY,ENABLE*,IN-THEORY,LOCAL,_STOBJ-NAME_,DEFSECTION,QUOTE" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEF2DARR-EVENTS">def2darr-events</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-def2darr-events" data-sym="DEF2DARR-EVENTS" title="(defun stobjs::def2darr-events ()
  &#39;(stobjs::defsection stobjs::_stobj-name_
    (stobjs::local
     (stobjs::in-theory (stobjs::enable* stobjs::2d-arr-base-theory)))
    (stobjs::local
...">def2darr-events</a>
  nil
  '(defsection _stobj-name_
    (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-in-theory" data-sym="IN-THEORY">in-theory</a> (enable* 2d-arr-base-theory)))
    (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-include-book" data-sym="INCLUDE-BOOK">include-book</a> <a class="include-path" href="../../../data-structures/list-defthms.html" title="Open data-structures/list-defthms">"data-structures/list-defthms"</a> <span class="keyword">:dir</span> <span class="keyword">:system</span>))
    (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-in-theory" data-sym="IN-THEORY">in-theory</a> (e/d* (nth-of-resize-list-split arith-equiv-forwarding)
          (nth-with-large-index <a class="sym-link system" href="../../../axioms.html#def-len-update-nth" data-sym="LEN-UPDATE-NTH">len-update-nth</a>
            <a class="sym-link system" href="../../../axioms.html#def-nth" data-sym="NTH">nth</a>
            <a class="sym-link system" href="../../../axioms.html#def-update-nth" data-sym="UPDATE-NTH">update-nth</a>))))
    (<a class="sym-link system" href="../../../axioms.html#def-defstobj" data-sym="DEFSTOBJ">defstobj</a> _prefix_e-arr2
      (_prefix_e-nrows <span class="keyword">:type</span> (unsigned-byte <span class="number">60</span>)
        <span class="keyword">:initially</span> <span class="number">0</span>)
      (_prefix_e-ncols <span class="keyword">:type</span> (unsigned-byte <span class="number">60</span>)
        <span class="keyword">:initially</span> <span class="number">0</span>)
      (_prefix_e-data <span class="keyword">:type</span> (array _elt-type_ (<span class="number">0</span>))
        <span class="keyword">:initially</span> _default-elt_
        <span class="keyword">:resizable</span> <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>)
      <span class="keyword">:inline</span> <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>)
    (<a class="sym-link system" href="../../../axioms.html#def-make-event" data-sym="MAKE-EVENT">make-event</a> (if (<a class="sym-link system" href="../../../axioms.html#def-eq" data-sym="EQ">eq</a> '_elt-typep_ '<a class="sym-link local-def" href="#def-true-predicate" data-sym="TRUE-PREDICATE" title="(defun stobjs::true-predicate (stobjs::x) (declare (ignore stobjs::x)) t)">true-predicate</a>)
        '(<a class="sym-link system" href="../../../axioms.html#def-value-triple" data-sym="VALUE-TRIPLE">value-triple</a> <span class="keyword">:skipped</span>)
        '(<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> elt-type-of-nth-of-_prefix_e-datap
            (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (_prefix_e-datap x)
                (&lt; (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> n) (<a class="sym-link system" href="../../../axioms.html#def-len" data-sym="LEN">len</a> x)))
              (_elt-typep_ (<a class="sym-link system" href="../../../axioms.html#def-nth" data-sym="NTH">nth</a> n x)))
            <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:in-theory</span> (enable <a class="sym-link system" href="../../../axioms.html#def-nth" data-sym="NTH">nth</a>)))))))
    (<a class="sym-link system" href="../../../axioms.html#def-make-event" data-sym="MAKE-EVENT">make-event</a> (if (<a class="sym-link system" href="../../../axioms.html#def-eq" data-sym="EQ">eq</a> '_elt-fix_ '<a class="sym-link local-def" href="#def-id-macro" data-sym="ID-MACRO" title="(defmacro stobjs::id-macro (stobjs::x) stobjs::x)">id-macro</a>)
        '(<a class="sym-link system" href="../../../axioms.html#def-value-triple" data-sym="VALUE-TRIPLE">value-triple</a> <span class="keyword">:skipped</span>)
        '(<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> _prefix_-fix-when-elt-typep
            (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (_elt-typep_ x)
              (equal (_elt-fix_ x) x))))))
    (<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> _prefix_e-arr2-wfp
      (_prefix_e-arr2)
      (declare (xargs <span class="keyword">:stobjs</span> _prefix_e-arr2))
      (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-int_3D" data-sym="INT=">int=</a> (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> (lnfix (_prefix_e-nrows _prefix_e-arr2))
            (lnfix (_prefix_e-ncols _prefix_e-arr2)))
          (_prefix_e-data-length _prefix_e-arr2))
        (<a class="sym-link system" href="../../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> (lnfix (_prefix_e-nrows _prefix_e-arr2))
            (lnfix (_prefix_e-ncols _prefix_e-arr2)))
          (<a class="sym-link system" href="../../../axioms.html#def-1-" data-sym="1-">1-</a> (expt <span class="number">2</span> <span class="number">60</span>)))))
    (<a class="sym-link system" href="../../../axioms.html#def-defun-inline" data-sym="DEFUN-INLINE">defun-inline</a> _prefix_e-index
      (row col _prefix_e-arr2)
      (declare (type (integer <span class="number">0</span> <a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a>) row)
        (type (integer <span class="number">0</span> <a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a>) col)
        (xargs <span class="keyword">:stobjs</span> _prefix_e-arr2
          <span class="keyword">:guard</span> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (_prefix_e-arr2-wfp _prefix_e-arr2)
            (&lt; row
              (_prefix_e-nrows _prefix_e-arr2))
            (&lt; col
              (_prefix_e-ncols _prefix_e-arr2)))))
      (2darr-index row
        col
        (_prefix_e-nrows _prefix_e-arr2)
        (_prefix_e-ncols _prefix_e-arr2)))
    (<a class="sym-link system" href="../../../axioms.html#def-defun-inline" data-sym="DEFUN-INLINE">defun-inline</a> _prefix_e-get2
      (row col _prefix_e-arr2)
      (declare (xargs <span class="keyword">:stobjs</span> _prefix_e-arr2
          <span class="keyword">:guard</span> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (_prefix_e-arr2-wfp _prefix_e-arr2)
            (<a class="sym-link system" href="../../../axioms.html#def-natp" data-sym="NATP">natp</a> row)
            (<a class="sym-link system" href="../../../axioms.html#def-natp" data-sym="NATP">natp</a> col)
            (&lt; row
              (_prefix_e-nrows _prefix_e-arr2))
            (&lt; col
              (_prefix_e-ncols _prefix_e-arr2)))
          <span class="keyword">:split-types</span> <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>)
        (type (integer <span class="number">0</span> <a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a>) row)
        (type (integer <span class="number">0</span> <a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a>) col))
      (let ((elt (_prefix_e-datai (_prefix_e-index row
               col
               _prefix_e-arr2)
             _prefix_e-arr2)))
        (<a class="sym-link system" href="../../../axioms.html#def-mbe" data-sym="MBE">mbe</a> <span class="keyword">:logic</span> (_elt-fix_ elt) <span class="keyword">:exec</span> elt)))
    (defsection _prefix_e-get
      (<a class="sym-link system" href="../../../axioms.html#def-defund-inline" data-sym="DEFUND-INLINE">defund-inline</a> _prefix_e-get
        (idx _prefix_e-arr2)
        (declare (xargs <span class="keyword">:stobjs</span> _prefix_e-arr2
            <span class="keyword">:guard</span> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (_prefix_e-arr2-wfp _prefix_e-arr2)
              (<a class="sym-link system" href="../../../axioms.html#def-natp" data-sym="NATP">natp</a> idx)
              (&lt; idx
                (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> (_prefix_e-nrows _prefix_e-arr2)
                  (_prefix_e-ncols _prefix_e-arr2))))
            <span class="keyword">:split-types</span> <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>)
          (type (integer <span class="number">0</span> <a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a>) idx))
        (let ((elt (_prefix_e-datai idx _prefix_e-arr2)))
          (<a class="sym-link system" href="../../../axioms.html#def-mbe" data-sym="MBE">mbe</a> <span class="keyword">:logic</span> (_elt-fix_ elt) <span class="keyword">:exec</span> elt)))
      (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-in-theory" data-sym="IN-THEORY">in-theory</a> (enable _prefix_e-get)))
      (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> _prefix_e-get-in-terms-of-_prefix_e-get2
        (equal (_prefix_e-get idx _prefix_e-arr2)
          (b* (((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> row col) (2darr-index-inverse idx
                 (_prefix_e-nrows _prefix_e-arr2)
                 (_prefix_e-ncols _prefix_e-arr2))))
            (_prefix_e-get2 row
              col
              _prefix_e-arr2)))))
    (defsection _prefix_e-set2
      (<a class="sym-link system" href="../../../axioms.html#def-defund-inline" data-sym="DEFUND-INLINE">defund-inline</a> _prefix_e-set2
        (row col val _prefix_e-arr2)
        (declare (xargs <span class="keyword">:stobjs</span> _prefix_e-arr2
            <span class="keyword">:guard</span> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (_prefix_e-arr2-wfp _prefix_e-arr2)
              (_elt-typep_ val)
              (<a class="sym-link system" href="../../../axioms.html#def-natp" data-sym="NATP">natp</a> row)
              (<a class="sym-link system" href="../../../axioms.html#def-natp" data-sym="NATP">natp</a> col)
              (&lt; row
                (_prefix_e-nrows _prefix_e-arr2))
              (&lt; col
                (_prefix_e-ncols _prefix_e-arr2)))
            <span class="keyword">:split-types</span> <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>)
          (type (integer <span class="number">0</span> <a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a>) row col)
          (type _elt-type_ val))
        (update-_prefix_e-datai (_prefix_e-index row
            col
            _prefix_e-arr2)
          val
          _prefix_e-arr2))
      (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-in-theory" data-sym="IN-THEORY">in-theory</a> (enable _prefix_e-set2)))
      (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> _prefix_e-get2-of-_prefix_e-set2
        (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (&lt; (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> col1)
              (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> (_prefix_e-ncols _prefix_e-arr2)))
            (&lt; (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> col2)
              (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> (_prefix_e-ncols _prefix_e-arr2))))
          (equal (_prefix_e-get2 row1
              col1
              (_prefix_e-set2 row2
                col2
                val2
                _prefix_e-arr2))
            (if (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (equal (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> row1)
                  (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> row2))
                (equal (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> col1)
                  (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> col2)))
              (_elt-fix_ val2)
              (_prefix_e-get2 row1
                col1
                _prefix_e-arr2)))))
      (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> _prefix_e-ncols-of-_prefix_e-set2
        (equal (_prefix_e-ncols (_prefix_e-set2 row
              col
              val
              _prefix_e-arr2))
          (_prefix_e-ncols _prefix_e-arr2)))
      (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> _prefix_e-nrows-of-_prefix_e-set2
        (equal (_prefix_e-nrows (_prefix_e-set2 row
              col
              val
              _prefix_e-arr2))
          (_prefix_e-nrows _prefix_e-arr2)))
      (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> _prefix_e-arr2-wfp-of-_prefix_e-set2
        (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (&lt; (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> row)
              (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> (_prefix_e-nrows _prefix_e-arr2)))
            (&lt; (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> col)
              (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> (_prefix_e-ncols _prefix_e-arr2)))
            (_prefix_e-arr2-wfp _prefix_e-arr2))
          (_prefix_e-arr2-wfp (_prefix_e-set2 row
              col
              val
              _prefix_e-arr2))))
      (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> _prefix_e-get2-of-_prefix_e-set2
        (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (&lt; (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> col1)
              (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> (_prefix_e-ncols _prefix_e-arr2)))
            (&lt; (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> col2)
              (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> (_prefix_e-ncols _prefix_e-arr2))))
          (equal (_prefix_e-get2 row1
              col1
              (_prefix_e-set2 row2
                col2
                val2
                _prefix_e-arr2))
            (if (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (equal (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> row1)
                  (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> row2))
                (equal (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> col1)
                  (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> col2)))
              (_elt-fix_ val2)
              (_prefix_e-get2 row1
                col1
                _prefix_e-arr2)))))
      (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> _prefix_e-ncols-of-_prefix_e-set2
        (equal (_prefix_e-ncols (_prefix_e-set2 row
              col
              val
              _prefix_e-arr2))
          (_prefix_e-ncols _prefix_e-arr2)))
      (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> _prefix_e-nrows-of-_prefix_e-set2
        (equal (_prefix_e-nrows (_prefix_e-set2 row
              col
              val
              _prefix_e-arr2))
          (_prefix_e-nrows _prefix_e-arr2)))
      (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> _prefix_e-arr2-wfp-of-_prefix_e-set2
        (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (&lt; (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> row)
              (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> (_prefix_e-nrows _prefix_e-arr2)))
            (&lt; (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> col)
              (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> (_prefix_e-ncols _prefix_e-arr2)))
            (_prefix_e-arr2-wfp _prefix_e-arr2))
          (_prefix_e-arr2-wfp (_prefix_e-set2 row
              col
              val
              _prefix_e-arr2)))))
    (defsection _prefix_e-set
      (<a class="sym-link system" href="../../../axioms.html#def-defund-inline" data-sym="DEFUND-INLINE">defund-inline</a> _prefix_e-set
        (idx val _prefix_e-arr2)
        (declare (xargs <span class="keyword">:stobjs</span> _prefix_e-arr2
            <span class="keyword">:guard</span> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (_prefix_e-arr2-wfp _prefix_e-arr2)
              (_elt-typep_ val)
              (<a class="sym-link system" href="../../../axioms.html#def-natp" data-sym="NATP">natp</a> idx)
              (&lt; idx
                (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> (_prefix_e-nrows _prefix_e-arr2)
                  (_prefix_e-ncols _prefix_e-arr2))))
            <span class="keyword">:split-types</span> <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>)
          (type (integer <span class="number">0</span> <a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a>) idx)
          (type _elt-type_ val))
        (update-_prefix_e-datai idx
          val
          _prefix_e-arr2))
      (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-in-theory" data-sym="IN-THEORY">in-theory</a> (enable _prefix_e-set
            _prefix_e-set2)))
      (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> _prefix_e-set-in-terms-of-_prefix_e-set2
        (equal (_prefix_e-set idx
            val
            _prefix_e-arr2)
          (b* (((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> row col) (2darr-index-inverse idx
                 (_prefix_e-nrows _prefix_e-arr2)
                 (_prefix_e-ncols _prefix_e-arr2))))
            (_prefix_e-set2 row
              col
              val
              _prefix_e-arr2)))))
    (defsection _prefix_e-resize-rows
      (<a class="sym-link system" href="../../../axioms.html#def-defund-inline" data-sym="DEFUND-INLINE">defund-inline</a> _prefix_e-resize-rows
        (nrows _prefix_e-arr2)
        (declare (type (integer <span class="number">0</span> <a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a>) nrows)
          (xargs <span class="keyword">:stobjs</span> _prefix_e-arr2
            <span class="keyword">:guard</span> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> nrows
                  (_prefix_e-ncols _prefix_e-arr2))
                (<a class="sym-link system" href="../../../axioms.html#def-1-" data-sym="1-">1-</a> (expt <span class="number">2</span> <span class="number">60</span>)))
              (<a class="sym-link system" href="../../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> nrows (<a class="sym-link system" href="../../../axioms.html#def-1-" data-sym="1-">1-</a> (expt <span class="number">2</span> <span class="number">60</span>))))))
        (<a class="sym-link system" href="../../../axioms.html#def-let_2A" data-sym="LET*">let*</a> ((_prefix_e-arr2 (resize-_prefix_e-data (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> (lnfix nrows)
                 (lnfix (_prefix_e-ncols _prefix_e-arr2)))
               _prefix_e-arr2)))
          (update-_prefix_e-nrows (lnfix nrows)
            _prefix_e-arr2)))
      (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-in-theory" data-sym="IN-THEORY">in-theory</a> (enable _prefix_e-resize-rows)))
      (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> _prefix_e-arr2-wfp-of-_prefix_e-resize-rows
        (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> nrows)
              (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> (_prefix_e-ncols _prefix_e-arr2)))
            (<a class="sym-link system" href="../../../axioms.html#def-1-" data-sym="1-">1-</a> (expt <span class="number">2</span> <span class="number">60</span>)))
          (_prefix_e-arr2-wfp (_prefix_e-resize-rows nrows
              _prefix_e-arr2))))
      (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> _prefix_e-get2-of-_prefix_e-resize-rows
        (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (&lt; (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> col)
              (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> (_prefix_e-ncols _prefix_e-arr2)))
            (_prefix_e-arr2-wfp _prefix_e-arr2))
          (equal (_prefix_e-get2 row
              col
              (_prefix_e-resize-rows nrows
                _prefix_e-arr2))
            (if (&lt; (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> row) (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> nrows))
              (_prefix_e-get2 row
                col
                _prefix_e-arr2)
              _default-elt_)))
        <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:in-theory</span> (enable nth-with-large-index
             2darr-index-normalize-nrows))))
      (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> _prefix_e-ncols-of-_prefix_e-resize-rows
        (equal (_prefix_e-ncols (_prefix_e-resize-rows nrows
              _prefix_e-arr2))
          (_prefix_e-ncols _prefix_e-arr2)))
      (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> _prefix_e-nrows-of-_prefix_e-resize-rows
        (equal (_prefix_e-nrows (_prefix_e-resize-rows nrows
              _prefix_e-arr2))
          (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> nrows))))
    (defsection _prefix_e-resize-cols
      (<a class="sym-link system" href="../../../axioms.html#def-defund-inline" data-sym="DEFUND-INLINE">defund-inline</a> _prefix_e-resize-cols
        (ncols _prefix_e-arr2)
        (declare (type (integer <span class="number">0</span> <a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a>) ncols)
          (xargs <span class="keyword">:stobjs</span> _prefix_e-arr2
            <span class="keyword">:guard</span> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> ncols (<a class="sym-link system" href="../../../axioms.html#def-1-" data-sym="1-">1-</a> (expt <span class="number">2</span> <span class="number">60</span>)))
              (<a class="sym-link system" href="../../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> ncols
                  (_prefix_e-nrows _prefix_e-arr2))
                (<a class="sym-link system" href="../../../axioms.html#def-1-" data-sym="1-">1-</a> (expt <span class="number">2</span> <span class="number">60</span>))))))
        (<a class="sym-link system" href="../../../axioms.html#def-let_2A" data-sym="LET*">let*</a> ((_prefix_e-arr2 (resize-_prefix_e-data <span class="number">0</span> _prefix_e-arr2)) (_prefix_e-arr2 (update-_prefix_e-ncols (lnfix ncols)
                _prefix_e-arr2)))
          (_prefix_e-resize-rows (_prefix_e-nrows _prefix_e-arr2)
            _prefix_e-arr2)))
      (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-in-theory" data-sym="IN-THEORY">in-theory</a> (enable _prefix_e-resize-cols)))
      (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> _prefix_e-arr2-wfp-of-_prefix_e-resize-cols
        (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> (_prefix_e-nrows _prefix_e-arr2))
              (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> ncols))
            (<a class="sym-link system" href="../../../axioms.html#def-1-" data-sym="1-">1-</a> (expt <span class="number">2</span> <span class="number">60</span>)))
          (_prefix_e-arr2-wfp (_prefix_e-resize-cols ncols
              _prefix_e-arr2)))
        <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:in-theory</span> (<a class="sym-link system" href="../../../axioms.html#def-e_2Fd" data-sym="E/D">e/d</a> nil (_prefix_e-arr2-wfp)))))
      (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> _prefix_e-get2-of-_prefix_e-resize-cols
        (equal (_prefix_e-get2 row
            col
            (_prefix_e-resize-cols ncols
              _prefix_e-arr2))
          _default-elt_)
        <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:in-theory</span> (enable _prefix_e-resize-rows))))
      (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> _prefix_e-nrows-of-_prefix_e-resize-cols
        (equal (_prefix_e-nrows (_prefix_e-resize-cols ncols
              _prefix_e-arr2))
          (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> (_prefix_e-nrows _prefix_e-arr2)))
        <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:in-theory</span> (disable _prefix_e-nrows)) (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> stable-under-simplificationp
            '(<span class="keyword">:in-theory</span> (enable _prefix_e-nrows)))))
      (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> _prefix_e-ncols-of-_prefix_e-resize-cols
        (equal (_prefix_e-ncols (_prefix_e-resize-cols ncols
              _prefix_e-arr2))
          (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> ncols))
        <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:in-theory</span> (disable _prefix_e-ncols)) (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> stable-under-simplificationp
            '(<span class="keyword">:in-theory</span> (enable _prefix_e-ncols))))))
    (<a class="sym-link system" href="../../../axioms.html#def-in-theory" data-sym="IN-THEORY">in-theory</a> (disable _prefix_e-get2
        _prefix_e-nrows
        _prefix_e-ncols
        _prefix_e-arr2-wfp))
    (<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> _prefix_l-arr2-data-wfp
      (x width)
      (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="../../../axioms.html#def-natp" data-sym="NATP">natp</a> width)))
      (if (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> x)
        (<a class="sym-link system" href="../../../axioms.html#def-eq" data-sym="EQ">eq</a> x nil)
        (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (_prefix_e-datap (car x))
          (<a class="sym-link system" href="../../../axioms.html#def-int_3D" data-sym="INT=">int=</a> (<a class="sym-link system" href="../../../axioms.html#def-length" data-sym="LENGTH">length</a> (car x))
            (lnfix width))
          (_prefix_l-arr2-data-wfp (cdr x)
            width))))
    (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> true-listp-_prefix_e-data
      (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (_prefix_e-datap x)
        (<a class="sym-link system" href="../../../axioms.html#def-true-listp" data-sym="TRUE-LISTP">true-listp</a> x))
      <span class="keyword">:rule-classes</span> <span class="keyword">:forward-chaining</span>)
    (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> true-listp-_prefix_l-data
      (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (_prefix_l-arr2-data-wfp x width)
        (<a class="sym-link system" href="../../../axioms.html#def-true-listp" data-sym="TRUE-LISTP">true-listp</a> x))
      <span class="keyword">:rule-classes</span> <span class="keyword">:forward-chaining</span>)
    (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> true-listp-nth-of-_prefix_l-data
      (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (_prefix_l-arr2-data-wfp x width)
        (<a class="sym-link system" href="../../../axioms.html#def-true-listp" data-sym="TRUE-LISTP">true-listp</a> (<a class="sym-link system" href="../../../axioms.html#def-nth" data-sym="NTH">nth</a> n x)))
      <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:in-theory</span> (enable <a class="sym-link system" href="../../../axioms.html#def-nth" data-sym="NTH">nth</a>))))
    (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> _prefix_e-datap-nth-of-_prefix_l-data
      (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (_prefix_l-arr2-data-wfp x width)
        (_prefix_e-datap (<a class="sym-link system" href="../../../axioms.html#def-nth" data-sym="NTH">nth</a> n x)))
      <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:in-theory</span> (enable <a class="sym-link system" href="../../../axioms.html#def-nth" data-sym="NTH">nth</a>))))
    (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> len-nth-of-_prefix_l-data
      (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (_prefix_l-arr2-data-wfp x width)
          (&lt; (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> n) (<a class="sym-link system" href="../../../axioms.html#def-len" data-sym="LEN">len</a> x)))
        (equal (<a class="sym-link system" href="../../../axioms.html#def-len" data-sym="LEN">len</a> (<a class="sym-link system" href="../../../axioms.html#def-nth" data-sym="NTH">nth</a> n x))
          (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> width)))
      <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:in-theory</span> (enable <a class="sym-link system" href="../../../axioms.html#def-nth" data-sym="NTH">nth</a>))))
    (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> _prefix_e-datap-of-make-list-ac
        (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (_prefix_e-datap acc)
            (_elt-typep_ elt))
          (_prefix_e-datap (<a class="sym-link system" href="../../../axioms.html#def-make-list-ac" data-sym="MAKE-LIST-AC">make-list-ac</a> size elt acc)))))
    (<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> _prefix_l-arr2-wfp
      (_prefix_l-arr2)
      (declare (xargs <span class="keyword">:guard</span> <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>))
      (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (2darr-p _prefix_l-arr2)
        (_prefix_l-arr2-data-wfp (2darr-&gt;rows _prefix_l-arr2)
          (2darr-&gt;ncols _prefix_l-arr2))
        (<a class="sym-link system" href="../../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> (2darr-&gt;ncols _prefix_l-arr2)
            (<a class="sym-link system" href="../../../axioms.html#def-len" data-sym="LEN">len</a> (2darr-&gt;rows _prefix_l-arr2)))
          (<a class="sym-link system" href="../../../axioms.html#def-1-" data-sym="1-">1-</a> (expt <span class="number">2</span> <span class="number">60</span>)))))
    (<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> _prefix_l-nrows
      (_prefix_l-arr2)
      (declare (xargs <span class="keyword">:guard</span> (_prefix_l-arr2-wfp _prefix_l-arr2)))
      (<a class="sym-link system" href="../../../axioms.html#def-len" data-sym="LEN">len</a> (2darr-&gt;rows _prefix_l-arr2)))
    (<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> _prefix_l-ncols
      (_prefix_l-arr2)
      (declare (xargs <span class="keyword">:guard</span> (_prefix_l-arr2-wfp _prefix_l-arr2)))
      (2darr-&gt;ncols _prefix_l-arr2))
    (<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> _prefix_l-get2
      (row col _prefix_l-arr2)
      (declare (type (integer <span class="number">0</span> <a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a>) row)
        (type (integer <span class="number">0</span> <a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a>) col)
        (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (_prefix_l-arr2-wfp _prefix_l-arr2)
            (&lt; row
              (_prefix_l-nrows _prefix_l-arr2))
            (&lt; col
              (_prefix_l-ncols _prefix_l-arr2)))))
      (_elt-fix_ (<a class="sym-link system" href="../../../axioms.html#def-nth" data-sym="NTH">nth</a> col
          (<a class="sym-link system" href="../../../axioms.html#def-nth" data-sym="NTH">nth</a> row
            (2darr-&gt;rows _prefix_l-arr2)))))
    (<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> _prefix_l-get
      (idx _prefix_l-arr2)
      (declare (type (integer <span class="number">0</span> <a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a>) idx)
        (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (_prefix_l-arr2-wfp _prefix_l-arr2)
            (&lt; idx
              (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> (_prefix_l-nrows _prefix_l-arr2)
                (_prefix_l-ncols _prefix_l-arr2))))))
      (b* (((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> row col) (2darr-index-inverse idx
             (_prefix_l-nrows _prefix_l-arr2)
             (_prefix_l-ncols _prefix_l-arr2))))
        (_prefix_l-get2 row
          col
          _prefix_l-arr2)))
    (defsection _prefix_l-set2
      (defund _prefix_l-set2
        (row col val _prefix_l-arr2)
        (declare (type (integer <span class="number">0</span> <a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a>) row)
          (type (integer <span class="number">0</span> <a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a>) col)
          (type _elt-type_ val)
          (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (_prefix_l-arr2-wfp _prefix_l-arr2)
              (&lt; row
                (_prefix_l-nrows _prefix_l-arr2))
              (&lt; col
                (_prefix_l-ncols _prefix_l-arr2)))))
        (2darr (2darr-&gt;ncols _prefix_l-arr2)
          (<a class="sym-link system" href="../../../axioms.html#def-update-nth" data-sym="UPDATE-NTH">update-nth</a> row
            (<a class="sym-link system" href="../../../axioms.html#def-update-nth" data-sym="UPDATE-NTH">update-nth</a> col
              val
              (<a class="sym-link system" href="../../../axioms.html#def-nth" data-sym="NTH">nth</a> row
                (2darr-&gt;rows _prefix_l-arr2)))
            (2darr-&gt;rows _prefix_l-arr2))))
      (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-in-theory" data-sym="IN-THEORY">in-theory</a> (enable _prefix_l-set2)))
      (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> _prefix_l-get2-of-_prefix_l-set2
        (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (&lt; (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> col1)
              (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> (_prefix_l-ncols _prefix_l-arr2)))
            (&lt; (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> col2)
              (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> (_prefix_l-ncols _prefix_l-arr2))))
          (equal (_prefix_l-get2 row1
              col1
              (_prefix_l-set2 row2
                col2
                val2
                _prefix_l-arr2))
            (if (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (equal (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> row1)
                  (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> row2))
                (equal (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> col1)
                  (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> col2)))
              (_elt-fix_ val2)
              (_prefix_l-get2 row1
                col1
                _prefix_l-arr2)))))
      (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> _prefix_l-ncols-of-_prefix_l-set2
        (equal (_prefix_l-ncols (_prefix_l-set2 row
              col
              val
              _prefix_l-arr2))
          (_prefix_l-ncols _prefix_l-arr2)))
      (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> _prefix_l-nrows-of-_prefix_l-set2
        (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (&lt; (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> row)
            (_prefix_l-nrows _prefix_l-arr2))
          (equal (_prefix_l-nrows (_prefix_l-set2 row
                col
                val
                _prefix_l-arr2))
            (_prefix_l-nrows _prefix_l-arr2))))
      (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> _prefix_e-datap-of-update-nth
          (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (_prefix_e-datap x)
              (&lt; (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> n) (<a class="sym-link system" href="../../../axioms.html#def-len" data-sym="LEN">len</a> x))
              (_elt-typep_ val))
            (_prefix_e-datap (<a class="sym-link system" href="../../../axioms.html#def-update-nth" data-sym="UPDATE-NTH">update-nth</a> n val x)))
          <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:in-theory</span> (enable <a class="sym-link system" href="../../../axioms.html#def-update-nth" data-sym="UPDATE-NTH">update-nth</a>)))))
      (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> _prefix_l-arr2-data-wfp-of-update-nth
          (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (_prefix_l-arr2-data-wfp x width)
              (&lt; (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> n) (<a class="sym-link system" href="../../../axioms.html#def-len" data-sym="LEN">len</a> x))
              (_prefix_e-datap val)
              (equal (<a class="sym-link system" href="../../../axioms.html#def-len" data-sym="LEN">len</a> val)
                (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> width)))
            (_prefix_l-arr2-data-wfp (<a class="sym-link system" href="../../../axioms.html#def-update-nth" data-sym="UPDATE-NTH">update-nth</a> n val x)
              width))
          <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:in-theory</span> (enable <a class="sym-link system" href="../../../axioms.html#def-update-nth" data-sym="UPDATE-NTH">update-nth</a>)))))
      (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> _prefix_l-arr2-wfp-of-_prefix_l-set2
        (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (&lt; (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> row)
              (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> (_prefix_l-nrows _prefix_l-arr2)))
            (&lt; (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> col)
              (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> (_prefix_l-ncols _prefix_l-arr2)))
            (_elt-typep_ val)
            (_prefix_l-arr2-wfp _prefix_l-arr2))
          (_prefix_l-arr2-wfp (_prefix_l-set2 row
              col
              val
              _prefix_l-arr2)))))
    (<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> _prefix_l-set
      (idx val _prefix_l-arr2)
      (declare (type (integer <span class="number">0</span> <a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a>) idx)
        (type _elt-type_ val)
        (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (_prefix_l-arr2-wfp _prefix_l-arr2)
            (&lt; idx
              (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> (_prefix_l-nrows _prefix_l-arr2)
                (_prefix_l-ncols _prefix_l-arr2))))))
      (b* (((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> row col) (2darr-index-inverse idx
             (_prefix_l-nrows _prefix_l-arr2)
             (_prefix_l-ncols _prefix_l-arr2))))
        (_prefix_l-set2 row
          col
          val
          _prefix_l-arr2)))
    (defsection _prefix_l-resize-rows
      (defund _prefix_l-resize-rows
        (nrows _prefix_l-arr2)
        (declare (type (integer <span class="number">0</span> <a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a>) nrows)
          (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (_prefix_l-arr2-wfp _prefix_l-arr2)
              (<a class="sym-link system" href="../../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> nrows (<a class="sym-link system" href="../../../axioms.html#def-1-" data-sym="1-">1-</a> (expt <span class="number">2</span> <span class="number">60</span>)))
              (<a class="sym-link system" href="../../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> nrows
                  (_prefix_l-ncols _prefix_l-arr2))
                (<a class="sym-link system" href="../../../axioms.html#def-1-" data-sym="1-">1-</a> (expt <span class="number">2</span> <span class="number">60</span>))))))
        (2darr (2darr-&gt;ncols _prefix_l-arr2)
          (<a class="sym-link system" href="../../../axioms.html#def-resize-list" data-sym="RESIZE-LIST">resize-list</a> (2darr-&gt;rows _prefix_l-arr2)
            (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> nrows)
            (<a class="sym-link system" href="../../../axioms.html#def-make-list" data-sym="MAKE-LIST">make-list</a> (_prefix_l-ncols _prefix_l-arr2)
              <span class="keyword">:initial-element</span> _default-elt_))))
      (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-in-theory" data-sym="IN-THEORY">in-theory</a> (enable _prefix_l-resize-rows)))
      (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> _prefix_l-arr2-data-wfp-of-resize-list
          (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (_prefix_l-arr2-data-wfp x width)
              (_prefix_e-datap elt)
              (equal (<a class="sym-link system" href="../../../axioms.html#def-len" data-sym="LEN">len</a> elt) (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> width)))
            (_prefix_l-arr2-data-wfp (<a class="sym-link system" href="../../../axioms.html#def-resize-list" data-sym="RESIZE-LIST">resize-list</a> x size elt)
              width))))
      (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> _prefix_l-arr2-wfp-of-_prefix_l-resize-rows
        (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (_prefix_l-arr2-wfp _prefix_l-arr2)
            (<a class="sym-link system" href="../../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> nrows)
                (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> (_prefix_l-ncols _prefix_l-arr2)))
              (<a class="sym-link system" href="../../../axioms.html#def-1-" data-sym="1-">1-</a> (expt <span class="number">2</span> <span class="number">60</span>))))
          (_prefix_l-arr2-wfp (_prefix_l-resize-rows nrows
              _prefix_l-arr2))))
      (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> _prefix_l-get2-of-_prefix_l-resize-rows
        (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (&lt; (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> col)
              (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> (_prefix_l-ncols _prefix_l-arr2)))
            (_prefix_l-arr2-wfp _prefix_l-arr2))
          (equal (_prefix_l-get2 row
              col
              (_prefix_l-resize-rows nrows
                _prefix_l-arr2))
            (if (&lt; (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> row) (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> nrows))
              (_prefix_l-get2 row
                col
                _prefix_l-arr2)
              _default-elt_)))
        <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:in-theory</span> (enable 2darr-index-normalize-nrows
             nth-with-large-index))))
      (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> _prefix_l-ncols-of-_prefix_l-resize-rows
        (equal (_prefix_l-ncols (_prefix_l-resize-rows nrows
              _prefix_l-arr2))
          (_prefix_l-ncols _prefix_l-arr2)))
      (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> _prefix_l-nrows-of-_prefix_l-resize-rows
        (equal (_prefix_l-nrows (_prefix_l-resize-rows nrows
              _prefix_l-arr2))
          (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> nrows))))
    (defsection _prefix_l-resize-cols
      (defund _prefix_l-resize-cols
        (ncols _prefix_l-arr2)
        (declare (type (integer <span class="number">0</span> <a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a>) ncols)
          (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (_prefix_l-arr2-wfp _prefix_l-arr2)
              (<a class="sym-link system" href="../../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> ncols (<a class="sym-link system" href="../../../axioms.html#def-1-" data-sym="1-">1-</a> (expt <span class="number">2</span> <span class="number">60</span>)))
              (<a class="sym-link system" href="../../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> ncols
                  (_prefix_l-nrows _prefix_l-arr2))
                (<a class="sym-link system" href="../../../axioms.html#def-1-" data-sym="1-">1-</a> (expt <span class="number">2</span> <span class="number">60</span>))))))
        (let ((nrows (_prefix_l-nrows _prefix_l-arr2)))
          (2darr (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> ncols)
            (<a class="sym-link system" href="../../../axioms.html#def-make-list" data-sym="MAKE-LIST">make-list</a> nrows
              <span class="keyword">:initial-element</span> (<a class="sym-link system" href="../../../axioms.html#def-make-list" data-sym="MAKE-LIST">make-list</a> (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> ncols)
                <span class="keyword">:initial-element</span> _default-elt_)))))
      (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-in-theory" data-sym="IN-THEORY">in-theory</a> (enable _prefix_l-resize-cols)))
      (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> _prefix_l-arr2-data-wfp-of-make-list-ac
          (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (_prefix_l-arr2-data-wfp acc width)
              (_prefix_e-datap elt)
              (equal (<a class="sym-link system" href="../../../axioms.html#def-len" data-sym="LEN">len</a> elt) (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> width)))
            (_prefix_l-arr2-data-wfp (<a class="sym-link system" href="../../../axioms.html#def-make-list-ac" data-sym="MAKE-LIST-AC">make-list-ac</a> size elt acc)
              width))))
      (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> _prefix_l-arr2-wfp-of-_prefix_l-resize-cols
        (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> (_prefix_l-nrows _prefix_l-arr2))
              (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> ncols))
            (<a class="sym-link system" href="../../../axioms.html#def-1-" data-sym="1-">1-</a> (expt <span class="number">2</span> <span class="number">60</span>)))
          (_prefix_l-arr2-wfp (_prefix_l-resize-cols ncols
              _prefix_l-arr2)))
        <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:in-theory</span> (<a class="sym-link system" href="../../../axioms.html#def-e_2Fd" data-sym="E/D">e/d</a> (_prefix_l-arr2-wfp) nil))))
      (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> _prefix_l-get2-of-_prefix_l-resize-cols
        (equal (_prefix_l-get2 row
            col
            (_prefix_l-resize-cols ncols
              _prefix_l-arr2))
          _default-elt_)
        <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:in-theory</span> (enable _prefix_l-resize-rows
             nth-with-large-index))))
      (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> _prefix_l-nrows-of-_prefix_l-resize-cols
        (equal (_prefix_l-nrows (_prefix_l-resize-cols ncols
              _prefix_l-arr2))
          (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> (_prefix_l-nrows _prefix_l-arr2)))
        <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:in-theory</span> (disable _prefix_l-nrows)) (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> stable-under-simplificationp
            '(<span class="keyword">:in-theory</span> (enable _prefix_l-nrows)))))
      (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> _prefix_l-ncols-of-_prefix_l-resize-cols
        (equal (_prefix_l-ncols (_prefix_l-resize-cols ncols
              _prefix_l-arr2))
          (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> ncols))
        <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:in-theory</span> (disable _prefix_l-ncols)) (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> stable-under-simplificationp
            '(<span class="keyword">:in-theory</span> (enable _prefix_l-ncols))))))
    (defsection create-_prefix_l-arr2
      (<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> create-_prefix_l-arr2
        nil
        (declare (xargs <span class="keyword">:guard</span> <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>))
        (<a class="sym-link system" href="../../../axioms.html#def-list" data-sym="LIST">list</a> <span class="number">0</span>)))
    (defun-sk _stobj-name_-lookups-corr
      (_prefix_e-arr2 _prefix_l-arr2)
      (forall (row col)
        (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (&lt; (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> col)
              (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> (_prefix_e-ncols _prefix_e-arr2))))
          (equal (_prefix_e-get2 row
              col
              _prefix_e-arr2)
            (_prefix_l-get2 row
              col
              _prefix_l-arr2))))
      <span class="keyword">:rewrite</span> <span class="keyword">:direct</span>)
    (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> _stobj-name_-lookups-corr-expand
      (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (rewriting-positive-literal `(_stobj-name_-lookups-corr ,STOBJS::_PREFIX_E-ARR2
            ,STOBJS::_PREFIX_L-ARR2))
        (equal (_stobj-name_-lookups-corr _prefix_e-arr2
            _prefix_l-arr2)
          (let ((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> (_stobj-name_-lookups-corr-witness _prefix_e-arr2
                 _prefix_l-arr2)))
            (let ((row (<a class="sym-link system" href="../../../axioms.html#def-mv-nth" data-sym="MV-NTH">mv-nth</a> <span class="number">0</span> <a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a>)) (col (<a class="sym-link system" href="../../../axioms.html#def-mv-nth" data-sym="MV-NTH">mv-nth</a> <span class="number">1</span> <a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a>)))
              (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (&lt; (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> col)
                    (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> (_prefix_e-ncols _prefix_e-arr2))))
                (equal (_prefix_e-get2 row
                    col
                    _prefix_e-arr2)
                  (_prefix_l-get2 row
                    col
                    _prefix_l-arr2))))))))
    (<a class="sym-link system" href="../../../axioms.html#def-in-theory" data-sym="IN-THEORY">in-theory</a> (disable _stobj-name_-lookups-corr))
    (<a class="sym-link system" href="../../../axioms.html#def-defun-nx" data-sym="DEFUN-NX">defun-nx</a> _stobj-name_-corr
      (_prefix_e-arr2 _prefix_l-arr2)
      (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (_prefix_e-arr2-wfp _prefix_e-arr2)
        (equal (_prefix_e-nrows _prefix_e-arr2)
          (_prefix_l-nrows _prefix_l-arr2))
        (equal (_prefix_e-ncols _prefix_e-arr2)
          (_prefix_l-ncols _prefix_l-arr2))
        (_stobj-name_-lookups-corr _prefix_e-arr2
          _prefix_l-arr2)))
    (<a class="sym-link system" href="../../../axioms.html#def-in-theory" data-sym="IN-THEORY">in-theory</a> (disable (_stobj-name_-corr)))
    (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-in-theory" data-sym="IN-THEORY">in-theory</a> (disable _prefix_l-get2
          _prefix_l-nrows
          _prefix_l-ncols
          _prefix_l-arr2-wfp)))
    (defabsstobj-events _stobj-name_
      <span class="keyword">:foundation</span> _prefix_e-arr2
      <span class="keyword">:recognizer</span> (_stobj-name_p <span class="keyword">:logic</span> _prefix_l-arr2-wfp
        <span class="keyword">:exec</span> _prefix_e-arr2p)
      <span class="keyword">:creator</span> (create-_stobj-name_ <span class="keyword">:logic</span> create-_prefix_l-arr2
        <span class="keyword">:exec</span> create-_prefix_e-arr2)
      <span class="keyword">:corr-fn</span> _stobj-name_-corr
      <span class="keyword">:exports</span> ((_prefix_-nrows <span class="keyword">:logic</span> _prefix_l-nrows
         <span class="keyword">:exec</span> _prefix_e-nrows) (_prefix_-ncols <span class="keyword">:logic</span> _prefix_l-ncols
          <span class="keyword">:exec</span> _prefix_e-ncols)
        (_prefix_-get2 <span class="keyword">:logic</span> _prefix_l-get2
          <span class="keyword">:exec</span> _prefix_e-get2$inline)
        (_prefix_-get <span class="keyword">:logic</span> _prefix_l-get
          <span class="keyword">:exec</span> _prefix_e-get$inline)
        (_prefix_-set2$g <span class="keyword">:logic</span> _prefix_l-set2
          <span class="keyword">:exec</span> _prefix_e-set2$inline)
        (_prefix_-set$g <span class="keyword">:logic</span> _prefix_l-set
          <span class="keyword">:exec</span> _prefix_e-set$inline)
        (_prefix_-resize-rows$g <span class="keyword">:logic</span> _prefix_l-resize-rows
          <span class="keyword">:exec</span> _prefix_e-resize-rows$inline
          <span class="keyword">:protect</span> <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>)
        (_prefix_-resize-cols$g <span class="keyword">:logic</span> _prefix_l-resize-cols
          <span class="keyword">:exec</span> _prefix_e-resize-cols$inline
          <span class="keyword">:protect</span> <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>)))
    (<a class="sym-link system" href="../../../axioms.html#def-in-theory" data-sym="IN-THEORY">in-theory</a> (enable _prefix_l-arr2-wfp
        create-_prefix_l-arr2
        _prefix_l-nrows
        _prefix_l-ncols
        _prefix_l-get2
        _prefix_l-set2
        _prefix_l-resize-rows
        _prefix_l-resize-cols))
    (<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> _prefix_-set2
      (row col
        _xvar_
        _stobj-name_)
      (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-natp" data-sym="NATP">natp</a> row)
            (<a class="sym-link system" href="../../../axioms.html#def-natp" data-sym="NATP">natp</a> col)
            (&lt; row
              (_prefix_-nrows _stobj-name_))
            (&lt; col
              (_prefix_-ncols _stobj-name_))
            _elt-guard_)
          <span class="keyword">:stobjs</span> _stobj-name_))
      (<a class="sym-link system" href="../../../axioms.html#def-mbe" data-sym="MBE">mbe</a> <span class="keyword">:logic</span> (_prefix_-set2$g row
          col
          _xvar_
          _stobj-name_)
        <span class="keyword">:exec</span> (if _elt-okp_
          (_prefix_-set2$g row
            col
            _xvar_
            _stobj-name_)
          (<a class="sym-link system" href="../../../axioms.html#def-ec-call" data-sym="EC-CALL">ec-call</a> (_prefix_-set2$g row
              col
              _xvar_
              _stobj-name_)))))
    (<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> _prefix_-set
      (idx _xvar_ _stobj-name_)
      (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-natp" data-sym="NATP">natp</a> idx)
            (&lt; idx
              (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> (_prefix_-nrows _stobj-name_)
                (_prefix_-ncols _stobj-name_)))
            _elt-guard_)
          <span class="keyword">:stobjs</span> _stobj-name_))
      (<a class="sym-link system" href="../../../axioms.html#def-mbe" data-sym="MBE">mbe</a> <span class="keyword">:logic</span> (_prefix_-set$g idx
          _xvar_
          _stobj-name_)
        <span class="keyword">:exec</span> (if _elt-okp_
          (_prefix_-set$g idx
            _xvar_
            _stobj-name_)
          (<a class="sym-link system" href="../../../axioms.html#def-ec-call" data-sym="EC-CALL">ec-call</a> (_prefix_-set$g idx
              _xvar_
              _stobj-name_)))))
    (<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> _prefix_-resize-rows
      (nrows _stobj-name_)
      (declare (xargs <span class="keyword">:stobjs</span> _stobj-name_
          <span class="keyword">:guard</span> (<a class="sym-link system" href="../../../axioms.html#def-natp" data-sym="NATP">natp</a> nrows)))
      (<a class="sym-link system" href="../../../axioms.html#def-mbe" data-sym="MBE">mbe</a> <span class="keyword">:logic</span> (_prefix_-resize-rows$g nrows
          _stobj-name_)
        <span class="keyword">:exec</span> (if (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> nrows
                (_prefix_-ncols _stobj-name_))
              (<a class="sym-link system" href="../../../axioms.html#def-1-" data-sym="1-">1-</a> (expt <span class="number">2</span> <span class="number">60</span>)))
            (<a class="sym-link system" href="../../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> nrows (<a class="sym-link system" href="../../../axioms.html#def-1-" data-sym="1-">1-</a> (expt <span class="number">2</span> <span class="number">60</span>))))
          (_prefix_-resize-rows$g nrows
            _stobj-name_)
          (<a class="sym-link system" href="../../../axioms.html#def-ec-call" data-sym="EC-CALL">ec-call</a> (_prefix_-resize-rows$g nrows
              _stobj-name_)))))
    (<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> _prefix_-resize-cols
      (ncols _stobj-name_)
      (declare (xargs <span class="keyword">:stobjs</span> _stobj-name_
          <span class="keyword">:guard</span> (<a class="sym-link system" href="../../../axioms.html#def-natp" data-sym="NATP">natp</a> ncols)
          <span class="keyword">:guard-debug</span> <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>))
      (<a class="sym-link system" href="../../../axioms.html#def-mbe" data-sym="MBE">mbe</a> <span class="keyword">:logic</span> (_prefix_-resize-cols$g ncols
          _stobj-name_)
        <span class="keyword">:exec</span> (if (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> ncols
                (_prefix_-nrows _stobj-name_))
              (<a class="sym-link system" href="../../../axioms.html#def-1-" data-sym="1-">1-</a> (expt <span class="number">2</span> <span class="number">60</span>)))
            (<a class="sym-link system" href="../../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> ncols (<a class="sym-link system" href="../../../axioms.html#def-1-" data-sym="1-">1-</a> (expt <span class="number">2</span> <span class="number">60</span>))))
          (_prefix_-resize-cols$g ncols
            _stobj-name_)
          (<a class="sym-link system" href="../../../axioms.html#def-ec-call" data-sym="EC-CALL">ec-call</a> (_prefix_-resize-cols$g ncols
              _stobj-name_)))))
    (defxdoc _stobj-name_
      <span class="keyword">:parents</span> _parents_
      <span class="keyword">:short</span> (<a class="sym-link system" href="../../../axioms.html#def-or" data-sym="OR">or</a> _short_
        (cat <span class="string">"Abstract stobj that implements a two dimensional array
                             of "</span>
          (if (symbolp '_elt-typep_)
            (cat <span class="string">"@(see "</span>
              (full-escape-symbol '_elt-typep_)
              <span class="string">")s."</span>)
            (cat <span class="string">"elements satisfying &lt;tt&gt;"</span>
              (rchars-to-string (simple-html-encode-str '_elt-type-str_
                  <span class="number">0</span>
                  (<a class="sym-link system" href="../../../axioms.html#def-length" data-sym="LENGTH">length</a> '_elt-type-str_)
                  nil))
              <span class="string">"&lt;/tt&gt;."</span>))))
      <span class="keyword">:long</span> (<a class="sym-link system" href="../../../axioms.html#def-or" data-sym="OR">or</a> _long_
        (cat <span class="string">"&lt;p&gt;This is a two dimensional abstract stobj array,
                            introduced by @(see stobjs::def-2d-arr).&lt;/p&gt;
                            @(def "</span>
          (full-escape-symbol '_stobj-name_)
          <span class="string">")"</span>)))
    (defsection ext
      <span class="keyword">:extension</span> _stobj-name_
      <span class="keyword">:long</span> (cat <span class="string">"@(def "</span>
        (full-escape-symbol '_stobj-name_)
        <span class="string">")"</span>))
    (defxdoc _prefix_-nrows
      <span class="keyword">:parents</span> (_stobj-name_)
      <span class="keyword">:short</span> (cat <span class="string">"Get the number of rows in the @(see "</span>
        (full-escape-symbol '_stobj-name_)
        <span class="string">") array."</span>)
      <span class="keyword">:long</span> (cat <span class="string">"&lt;p&gt;Logical definition:&lt;/p&gt;
                        @(def "</span>
        (full-escape-symbol '_prefix_l-nrows)
        <span class="string">")"</span>))
    (defxdoc _prefix_-ncols
      <span class="keyword">:parents</span> (_stobj-name_)
      <span class="keyword">:short</span> (cat <span class="string">"Get the number of columns in the @(see "</span>
        (full-escape-symbol '_stobj-name_)
        <span class="string">") array."</span>)
      <span class="keyword">:long</span> (cat <span class="string">"&lt;p&gt;Logical definition:&lt;/p&gt;
                       @(def "</span>
        (full-escape-symbol '_prefix_l-ncols)
        <span class="string">")"</span>))
    (defxdoc _prefix_-get2
      <span class="keyword">:parents</span> (_stobj-name_)
      <span class="keyword">:short</span> (cat <span class="string">"Get the element at @(&#39;arr[row][col]&#39;) from the @(see "</span>
        (full-escape-symbol '_stobj-name_)
        <span class="string">") array."</span>)
      <span class="keyword">:long</span> (cat <span class="string">"&lt;p&gt;Logical definition:&lt;/p&gt;
                        @(def "</span>
        (full-escape-symbol '_prefix_l-get2)
        <span class="string">")"</span>))
    (defxdoc _prefix_-set2
      <span class="keyword">:parents</span> (_stobj-name_)
      <span class="keyword">:short</span> (cat <span class="string">"Set the element at @(&#39;arr[row][col]&#39;) in the @(see "</span>
        (full-escape-symbol '_stobj-name_)
        <span class="string">") array to
                        some new value."</span>)
      <span class="keyword">:long</span> (cat <span class="string">"&lt;p&gt;Logical definition:&lt;/p&gt;
                       @(def "</span>
        (full-escape-symbol '_prefix_l-set2)
        <span class="string">")"</span>))
    (defxdoc _prefix_-resize-rows
      <span class="keyword">:parents</span> (_stobj-name_)
      <span class="keyword">:short</span> (cat <span class="string">"Change the number of rows in the @(see "</span>
        (full-escape-symbol '_stobj-name_)
        <span class="string">"), preserving data."</span>)
      <span class="keyword">:long</span> (cat <span class="string">"&lt;p&gt;Logical definition:&lt;/p&gt;
                       @(def "</span>
        (full-escape-symbol '_prefix_l-resize-rows)
        <span class="string">")"</span>))
    (defxdoc _prefix_-resize-cols
      <span class="keyword">:parents</span> (_stobj-name_)
      <span class="keyword">:short</span> (cat <span class="string">"Change the number of columns in the @(see "</span>
        (full-escape-symbol '_stobj-name_)
        <span class="string">"), deleting data."</span>)
      <span class="keyword">:long</span> (cat <span class="string">"&lt;p&gt;Logical definition:&lt;/p&gt;
                       @(def "</span>
        (full-escape-symbol '_prefix_l-resize-cols)
        <span class="string">")"</span>))
    (order-subtopics _stobj-name_
      (_prefix_-get2 _prefix_-set2
        _prefix_-nrows
        _prefix_-ncols
        _prefix_-resize-rows
        _prefix_-resize-cols))))</pre>
  </div>

<div class="form-block function" id="def-subst-substrs" data-defines="SUBST-SUBSTRS" data-references="CDAR,STRSUBST,CDR,CAAR,SUBSTRP,ATOM,IF,STRINGP,STRIP-CDRS,STRIP-CARS,STRING-LISTP,ALISTP,AND,XARGS,DECLARE,X,ALIST,DEFUN" data-used-by="SUBLIS-SYMBOL-SUBSTRS" data-part-name="SUBST-SUBSTRS" data-part-args="X,ALIST" data-part-declare="X,STRINGP,STRIP-CDRS,STRIP-CARS,STRING-LISTP,ALIST,ALISTP,AND,XARGS,DECLARE" data-part-body="CDAR,STRSUBST,CDR,SUBST-SUBSTRS,CAAR,SUBSTRP,X,ALIST,ATOM,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="SUBST-SUBSTRS">subst-substrs</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-subst-substrs" data-sym="SUBST-SUBSTRS" title="(defun stobjs::subst-substrs (stobjs::alist stobjs::x)
  (declare
   (stobjs::xargs :guard
    (and (stobjs::alistp stobjs::alist)
         (stobjs::string-listp (stobjs::strip-cars stobjs::alist))
...">subst-substrs</a>
  (alist x)
  (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-alistp" data-sym="ALISTP">alistp</a> alist)
        (<a class="sym-link system" href="../../../axioms.html#def-string-listp" data-sym="STRING-LISTP">string-listp</a> (<a class="sym-link system" href="../../../axioms.html#def-strip-cars" data-sym="STRIP-CARS">strip-cars</a> alist))
        (<a class="sym-link system" href="../../../axioms.html#def-string-listp" data-sym="STRING-LISTP">string-listp</a> (<a class="sym-link system" href="../../../axioms.html#def-strip-cdrs" data-sym="STRIP-CDRS">strip-cdrs</a> alist))
        (stringp x))))
  (if (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> alist)
    x
    (if (substrp (<a class="sym-link system" href="../../../axioms.html#def-caar" data-sym="CAAR">caar</a> alist) x)
      (<a class="sym-link local-def" href="#def-subst-substrs" data-sym="SUBST-SUBSTRS" title="(defun stobjs::subst-substrs (stobjs::alist stobjs::x)
  (declare
   (stobjs::xargs :guard
    (and (stobjs::alistp stobjs::alist)
         (stobjs::string-listp (stobjs::strip-cars stobjs::alist))
...">subst-substrs</a> (cdr alist)
        (strsubst (<a class="sym-link system" href="../../../axioms.html#def-caar" data-sym="CAAR">caar</a> alist)
          (<a class="sym-link system" href="../../../axioms.html#def-cdar" data-sym="CDAR">cdar</a> alist)
          x))
      (<a class="sym-link local-def" href="#def-subst-substrs" data-sym="SUBST-SUBSTRS" title="(defun stobjs::subst-substrs (stobjs::alist stobjs::x)
  (declare
   (stobjs::xargs :guard
    (and (stobjs::alistp stobjs::alist)
         (stobjs::string-listp (stobjs::strip-cars stobjs::alist))
...">subst-substrs</a> (cdr alist) x))))</pre>
  </div>

<div class="form-block function" id="def-sublis-symbol-substrs" data-defines="SUBLIS-SYMBOL-SUBSTRS" data-references="CDR,CAR,CONS,INTERN-IN-PACKAGE-OF-SYMBOL,EQUAL,SUBST-SUBSTRS,NEW-NAME,SYMBOL-NAME,NAME,LET*,ATOM,IF,SYMBOLP,STRIP-CDRS,STRIP-CARS,STRING-LISTP,ALISTP,AND,XARGS,DECLARE,PKG,X,ALIST,DEFUN" data-used-by="DEF-2D-ARR" data-part-name="SUBLIS-SYMBOL-SUBSTRS" data-part-args="PKG,X,ALIST" data-part-declare="PKG,SYMBOLP,STRIP-CDRS,STRIP-CARS,STRING-LISTP,ALIST,ALISTP,AND,XARGS,DECLARE" data-part-body="CDR,CAR,SUBLIS-SYMBOL-SUBSTRS,CONS,PKG,INTERN-IN-PACKAGE-OF-SYMBOL,EQUAL,ALIST,SUBST-SUBSTRS,NEW-NAME,SYMBOL-NAME,NAME,LET*,SYMBOLP,X,ATOM,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="SUBLIS-SYMBOL-SUBSTRS">sublis-symbol-substrs</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-sublis-symbol-substrs" data-sym="SUBLIS-SYMBOL-SUBSTRS" title="(defun stobjs::sublis-symbol-substrs (stobjs::alist stobjs::x stobjs::pkg)
  (declare
   (stobjs::xargs :guard
    (and (stobjs::alistp stobjs::alist)
         (stobjs::string-listp (stobjs::strip-cars stobjs::alist))
...">sublis-symbol-substrs</a>
  (alist x pkg)
  (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-alistp" data-sym="ALISTP">alistp</a> alist)
        (<a class="sym-link system" href="../../../axioms.html#def-string-listp" data-sym="STRING-LISTP">string-listp</a> (<a class="sym-link system" href="../../../axioms.html#def-strip-cars" data-sym="STRIP-CARS">strip-cars</a> alist))
        (<a class="sym-link system" href="../../../axioms.html#def-string-listp" data-sym="STRING-LISTP">string-listp</a> (<a class="sym-link system" href="../../../axioms.html#def-strip-cdrs" data-sym="STRIP-CDRS">strip-cdrs</a> alist))
        (symbolp pkg))))
  (if (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> x)
    (if (symbolp x)
      (<a class="sym-link system" href="../../../axioms.html#def-let_2A" data-sym="LET*">let*</a> ((name (symbol-name x)) (new-name (<a class="sym-link local-def" href="#def-subst-substrs" data-sym="SUBST-SUBSTRS" title="(defun stobjs::subst-substrs (stobjs::alist stobjs::x)
  (declare
   (stobjs::xargs :guard
    (and (stobjs::alistp stobjs::alist)
         (stobjs::string-listp (stobjs::strip-cars stobjs::alist))
...">subst-substrs</a> alist name)))
        (if (equal name new-name)
          x
          (intern-in-package-of-symbol new-name
            pkg)))
      x)
    (cons (<a class="sym-link local-def" href="#def-sublis-symbol-substrs" data-sym="SUBLIS-SYMBOL-SUBSTRS" title="(defun stobjs::sublis-symbol-substrs (stobjs::alist stobjs::x stobjs::pkg)
  (declare
   (stobjs::xargs :guard
    (and (stobjs::alistp stobjs::alist)
         (stobjs::string-listp (stobjs::strip-cars stobjs::alist))
...">sublis-symbol-substrs</a> alist
        (car x)
        pkg)
      (<a class="sym-link local-def" href="#def-sublis-symbol-substrs" data-sym="SUBLIS-SYMBOL-SUBSTRS" title="(defun stobjs::sublis-symbol-substrs (stobjs::alist stobjs::x stobjs::pkg)
  (declare
   (stobjs::xargs :guard
    (and (stobjs::alistp stobjs::alist)
         (stobjs::string-listp (stobjs::strip-cars stobjs::alist))
...">sublis-symbol-substrs</a> alist
        (cdr x)
        pkg))))</pre>
  </div>

<div class="form-block macro" id="def-id-macro" data-defines="ID-MACRO" data-references="X,DEFMACRO" data-used-by="DEF-2D-ARR,DEF2DARR-EVENTS" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="ID-MACRO">id-macro</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-id-macro" data-sym="ID-MACRO" title="(defmacro stobjs::id-macro (stobjs::x) stobjs::x)">id-macro</a> (x) x)</pre>
  </div>

<div class="form-block function" id="def-true-predicate" data-defines="TRUE-PREDICATE" data-references="T,IGNORE,DECLARE,X,DEFUN" data-used-by="DEF-2D-ARR,DEF2DARR-EVENTS" data-part-name="TRUE-PREDICATE" data-part-args="X" data-part-declare="X,IGNORE,DECLARE" data-part-body="T" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="TRUE-PREDICATE">true-predicate</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-true-predicate" data-sym="TRUE-PREDICATE" title="(defun stobjs::true-predicate (stobjs::x) (declare (ignore stobjs::x)) t)">true-predicate</a>
  (x)
  (declare (ignore x))
  <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>)</pre>
  </div>

<div class="form-block macro" id="def-def-2d-arr" data-defines="DEF-2D-ARR" data-references="VALUE,DEF2DARR-EVENTS,SUBLIS-SYMBOL-SUBSTRS,SUBLIS,EVENTS,STRSUBST-ALIST,_LONG_,_SHORT_,_XVAR_,_ELT-OKP_,_ELT-FIX_,_DEFAULT-ELT_,_ELT-TYPEP_,_ELT-TYPE_,_PARENTS_,_ELT-GUARD_,_ELT-TYPE-STR_,CONS,LIST*,SYMSUBST-ALIST,CW,-,FMT-TO-STR-ORIG,ELT-TYPE-STR,MV,UNDOCUMENTED,W,GET-DEFAULT-PARENTS,OR,IF,STATE,CURRENT-PACKAGE,PKG-WITNESS,BASE-PKG,B*,MAKE-EVENT,QUASIQUOTE,LONG,SHORT,PARENTS-P,PARENTS,X,XVAR,ELT-OKP,ELT-GUARD-PRESENT-P,ELT-GUARD,ID-MACRO,FIX,DEFAULT-VAL,TRUE-PREDICATE,PRED,T,QUOTE,TYPE-DECL,PREFIX,&KEY,STOBJ-NAME,DEFMACRO" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEF-2D-ARR">def-2d-arr</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-def-2d-arr" data-sym="DEF-2D-ARR" title="(defmacro stobjs::def-2d-arr
          (stobjs::stobj-name
           &amp;key stobjs::prefix (stobjs::type-decl &#39;t)
           (stobjs::pred &#39;stobjs::true-predicate) stobjs::default-val
           (stobjs::fix &#39;stobjs::id-macro)
...">def-2d-arr</a>
  (stobj-name &amp;key
    prefix
    (type-decl '<a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>)
    (pred '<a class="sym-link local-def" href="#def-true-predicate" data-sym="TRUE-PREDICATE" title="(defun stobjs::true-predicate (stobjs::x) (declare (ignore stobjs::x)) t)">true-predicate</a>)
    default-val
    (<a class="sym-link system" href="../../../axioms.html#def-fix" data-sym="FIX">fix</a> '<a class="sym-link local-def" href="#def-id-macro" data-sym="ID-MACRO" title="(defmacro stobjs::id-macro (stobjs::x) stobjs::x)">id-macro</a>)
    (elt-guard '<a class="sym-link local-def" href="#def-true-predicate" data-sym="TRUE-PREDICATE" title="(defun stobjs::true-predicate (stobjs::x) (declare (ignore stobjs::x)) t)">true-predicate</a>
      elt-guard-present-p)
    (elt-okp '<a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>)
    (xvar 'x)
    (parents 'nil parents-p)
    short
    long)
  `(<a class="sym-link system" href="../../../axioms.html#def-make-event" data-sym="MAKE-EVENT">make-event</a> (b* ((base-pkg (pkg-witness (<a class="sym-link system" href="../../../axioms.html#def-current-package" data-sym="CURRENT-PACKAGE">current-package</a> state))) (parents (if ,STOBJS::PARENTS-P
            ',STOBJS::PARENTS
            (<a class="sym-link system" href="../../../axioms.html#def-or" data-sym="OR">or</a> (get-default-parents (<a class="sym-link system" href="../../../axioms.html#def-w" data-sym="W">w</a> state))
              '(undocumented))))
        ((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> elt-type-str state) (fmt-to-str-orig ',STOBJS::PRED
            base-pkg
            state))
        (elt-guard (if ,STOBJS::ELT-GUARD-PRESENT-P
            ',STOBJS::ELT-GUARD
            '(,STOBJS::PRED ,STOBJS::XVAR)))
        (<a class="sym-link system" href="../../../axioms.html#def--" data-sym="-">-</a> (<a class="sym-link system" href="../../../axioms.html#def-cw" data-sym="CW">cw</a> <span class="string">"elt-guard is ~x0~%"</span> elt-guard))
        (symsubst-alist (<a class="sym-link system" href="../../../axioms.html#def-list_2A" data-sym="LIST*">list*</a> (cons '_elt-type-str_ elt-type-str)
            (cons '_elt-guard_ elt-guard)
            (cons '_parents_ parents)
            '((_elt-type_ . ,STOBJS::TYPE-DECL) (_elt-typep_ . ,STOBJS::PRED)
              (_default-elt_ . ,STOBJS::DEFAULT-VAL)
              (_elt-fix_ . ,STOBJS::FIX)
              (_elt-okp_ . ,STOBJS::ELT-OKP)
              (_xvar_ . ,STOBJS::XVAR)
              (_short_ . ,STOBJS::SHORT)
              (_long_ . ,STOBJS::LONG))))
        (strsubst-alist '((<span class="string">"_STOBJ-NAME_"</span> . ,(SYMBOL-NAME STOBJS::STOBJ-NAME)) (<span class="string">"_PREFIX_"</span> . ,(IF STOBJS::PREFIX
     (SYMBOL-NAME STOBJS::PREFIX)
     (SYMBOL-NAME STOBJS::STOBJ-NAME)))))
        (events (<a class="sym-link system" href="../../../axioms.html#def-sublis" data-sym="SUBLIS">sublis</a> symsubst-alist
            (<a class="sym-link local-def" href="#def-sublis-symbol-substrs" data-sym="SUBLIS-SYMBOL-SUBSTRS" title="(defun stobjs::sublis-symbol-substrs (stobjs::alist stobjs::x stobjs::pkg)
  (declare
   (stobjs::xargs :guard
    (and (stobjs::alistp stobjs::alist)
         (stobjs::string-listp (stobjs::strip-cars stobjs::alist))
...">sublis-symbol-substrs</a> strsubst-alist
              (<a class="sym-link local-def" href="#def-def2darr-events" data-sym="DEF2DARR-EVENTS" title="(defun stobjs::def2darr-events ()
  &#39;(stobjs::defsection stobjs::_stobj-name_
    (stobjs::local
     (stobjs::in-theory (stobjs::enable* stobjs::2d-arr-base-theory)))
    (stobjs::local
...">def2darr-events</a>)
              ',STOBJS::STOBJ-NAME))))
      (<a class="sym-link system" href="../../../axioms.html#def-value" data-sym="VALUE">value</a> events))))</pre>
  </div>


  </main>
  
<script>
// ACL2 Book HTML Documentation - Interactive Features
// Generated by cert2 - build2 system

// State
let activeFilter = null;
let activePartFilter = null;
let activeNameFilter = null;
let currentFontSize = 14;

// Theme management
function getStoredTheme() {
  return localStorage.getItem('acl2-theme') || 'dark';
}

function setTheme(theme) {
  if (theme === 'light') {
    document.documentElement.setAttribute('data-theme', 'light');
    document.getElementById('theme-toggle').textContent = '🌙';
  } else {
    document.documentElement.removeAttribute('data-theme');
    document.getElementById('theme-toggle').textContent = '☀️';
  }
  localStorage.setItem('acl2-theme', theme);
}

function toggleTheme() {
  const current = getStoredTheme();
  setTheme(current === 'dark' ? 'light' : 'dark');
}

// Font size management
function getStoredFontSize() {
  return parseInt(localStorage.getItem('acl2-fontsize') || '14', 10);
}

function setFontSize(size) {
  size = Math.max(10, Math.min(24, size)); // Clamp between 10-24
  currentFontSize = size;
  document.body.style.fontSize = size + 'px';
  localStorage.setItem('acl2-fontsize', size.toString());
}

function increaseFontSize() {
  setFontSize(currentFontSize + 2);
}

function decreaseFontSize() {
  setFontSize(currentFontSize - 2);
}

// Get all form blocks
function getFormBlocks() {
  return document.querySelectorAll('.form-block');
}

// Clear all filters
function clearFilter() {
  activeFilter = null;
  activePartFilter = null;
  activeNameFilter = null;
  getFormBlocks().forEach(b => {
    b.classList.remove('hidden', 'dimmed');
  });
  document.querySelectorAll('.part-btn').forEach(b => b.classList.remove('active'));
  const status = document.querySelector('.filter-status');
  status.classList.remove('active');
  // Slide name filter back to original position
  document.querySelector('.controls-left').style.transform = '';
  // Clear the name filter input
  const nameInput = document.getElementById('name-filter');
  if (nameInput) nameInput.value = '';
}

// Show filter status and slide name filter right
function showFilterStatus(text) {
  const status = document.querySelector('.filter-status');
  status.classList.add('active');
  status.querySelector('.filter-text').textContent = text;
  // Slide name filter to the right to make room
  setTimeout(() => {
    const statusWidth = status.offsetWidth;
    document.querySelector('.controls-left').style.transform = `translateX(${statusWidth + 15}px)`;
  }, 10);
}

// Filter to show only forms that define or reference a symbol
function filterBySymbol(symName, showUsedBy) {
  clearFilter();
  activeFilter = symName;
  
  const blocks = getFormBlocks();
  let visibleCount = 0;
  
  blocks.forEach(block => {
    const definesName = block.dataset.defines;
    const references = (block.dataset.references || '').split(',');
    const usedBy = (block.dataset.usedBy || '').split(',');
    
    let show = false;
    if (showUsedBy) {
      // Show forms that USE this symbol
      show = references.includes(symName) || definesName === symName;
    } else {
      // Show forms that this symbol USES
      show = usedBy.includes(symName) || definesName === symName;
    }
    
    if (show) {
      block.classList.remove('hidden');
      visibleCount++;
    } else {
      block.classList.add('hidden');
    }
  });
  
  // Update status
  showFilterStatus(`Filtering by: ${symName} (${visibleCount} items)`);
}

// Filter by defthm part (term, hints, rule-classes, etc.)
function filterByPart(formId, partName) {
  clearFilter();
  activePartFilter = { formId, partName };
  
  // Get the part's referenced symbols
  // data-part-term becomes dataset.partTerm, data-part-hints becomes dataset.partHints, etc.
  const block = document.getElementById(formId);
  const datasetKey = 'part' + partName.charAt(0).toUpperCase() + partName.slice(1).replace(/-([a-z])/g, (g) => g[1].toUpperCase());
  const partData = block.dataset[datasetKey];
  if (!partData) return;
  
  const partSyms = partData.split(',').filter(s => s);
  
  // Highlight the button
  block.querySelector(`.part-btn[data-part="${partName}"]`).classList.add('active');
  
  // Hide forms not referenced by this part
  getFormBlocks().forEach(b => {
    const definesName = b.dataset.defines;
    if (b.id === formId || partSyms.includes(definesName)) {
      b.classList.remove('hidden');
    } else {
      b.classList.add('hidden');
    }
  });
  
  // Update status
  showFilterStatus(`Filtering ${formId} :${partName} (${partSyms.length} references)`);
}

// Filter by name (substring or regex)
function filterByName(pattern, useRegex) {
  // Clear other filters but keep the input value
  activeFilter = null;
  activePartFilter = null;
  document.querySelectorAll('.part-btn').forEach(b => b.classList.remove('active'));
  
  if (!pattern || pattern.trim() === '') {
    // Empty pattern - show all
    activeNameFilter = null;
    getFormBlocks().forEach(b => b.classList.remove('hidden'));
    const status = document.querySelector('.filter-status');
    status.classList.remove('active');
    document.querySelector('.controls-left').style.transform = '';
    return;
  }
  
  activeNameFilter = pattern;
  
  let matcher;
  let isValidRegex = true;
  
  if (useRegex) {
    try {
      matcher = new RegExp(pattern, 'i');
    } catch (e) {
      // Invalid regex - show error in status and don't filter
      showFilterStatus(`Invalid regex: ${e.message}`);
      return;
    }
  } else {
    // Plain substring match (case-insensitive)
    const lowerPattern = pattern.toLowerCase();
    matcher = { test: (s) => s.toLowerCase().includes(lowerPattern) };
  }
  
  const blocks = getFormBlocks();
  let visibleCount = 0;
  
  blocks.forEach(block => {
    const definesName = block.dataset.defines || '';
    if (matcher.test(definesName)) {
      block.classList.remove('hidden');
      visibleCount++;
    } else {
      block.classList.add('hidden');
    }
  });
  
  // Update status
  const modeText = useRegex ? 'regex' : 'name';
  showFilterStatus(`Filtering by ${modeText}: "${pattern}" (${visibleCount} matches)`);
}

// Click on a name to show what references it
function handleNameClick(symName) {
  if (activeFilter === symName) {
    clearFilter();
  } else {
    filterBySymbol(symName, true);
  }
}

// Navigate to a definition (same file or different)
function navigateTo(symName, file) {
  if (file) {
    // External file - navigate
    window.location.href = file + '.html#def-' + symName.toLowerCase();
  } else {
    // Same file - scroll
    const target = document.getElementById('def-' + symName.toLowerCase());
    if (target) {
      target.scrollIntoView({ behavior: 'smooth', block: 'center' });
      target.classList.add('highlight');
      setTimeout(() => target.classList.remove('highlight'), 400);
    }
  }
}

// Initialize
document.addEventListener('DOMContentLoaded', () => {
  // Part buttons
  document.querySelectorAll('.part-btn').forEach(btn => {
    btn.addEventListener('click', (e) => {
      e.stopPropagation();
      const formId = btn.closest('.form-block').id;
      const partName = btn.dataset.part;
      if (activePartFilter && activePartFilter.formId === formId && 
          activePartFilter.partName === partName) {
        clearFilter();
      } else {
        filterByPart(formId, partName);
      }
    });
  });
  
  // Clear filter button
  document.querySelector('.clear-filter').addEventListener('click', clearFilter);
  
  // Name filter input
  const nameFilter = document.getElementById('name-filter');
  const regexToggle = document.getElementById('regex-toggle');
  
  let filterTimeout = null;
  nameFilter.addEventListener('input', () => {
    // Debounce the filter to avoid excessive updates while typing
    clearTimeout(filterTimeout);
    filterTimeout = setTimeout(() => {
      filterByName(nameFilter.value, regexToggle.checked);
    }, 150);
  });
  
  // Re-filter when regex toggle changes
  regexToggle.addEventListener('change', () => {
    if (nameFilter.value) {
      filterByName(nameFilter.value, regexToggle.checked);
    }
  });
  
  // Allow Escape key to clear filter when in input
  nameFilter.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
      clearFilter();
      nameFilter.blur();
    }
  });
  
  // Symbol references (old span-based refs)
  document.querySelectorAll('.sym-ref').forEach(ref => {
    ref.addEventListener('click', (e) => {
      e.stopPropagation();
      const sym = ref.dataset.sym;
      const file = ref.dataset.file;
      if (file) {
        navigateTo(sym, file);
      } else {
        handleNameClick(sym);
      }
    });
  });
  
  // Symbol links (new anchor-based links)
  // These use standard <a> tags so navigation happens automatically
  // But we need to clear filters if target would be hidden
  document.querySelectorAll('.sym-link').forEach(link => {
    link.addEventListener('click', (e) => {
      const href = link.getAttribute('href');
      if (href && href.startsWith('#')) {
        // Local link - check if target is hidden by filter
        const targetId = href.substring(1);
        const target = document.getElementById(targetId);
        if (target) {
          // If target is hidden, clear the filter first
          if (target.classList.contains('hidden')) {
            clearFilter();
          }
          // Add highlight effect after a short delay
          setTimeout(() => {
            target.classList.add('highlight');
            setTimeout(() => target.classList.remove('highlight'), 400);
          }, 100);
        }
      }
      // For external links, default behavior handles navigation
    });
  });
  
  // Form names (show what uses them)
  document.querySelectorAll('.form-name').forEach(name => {
    name.addEventListener('click', (e) => {
      handleNameClick(name.dataset.sym);
    });
  });
  
  // Handle hash navigation (when arriving at page with #anchor)
  if (window.location.hash) {
    const target = document.querySelector(window.location.hash);
    if (target) {
      setTimeout(() => {
        target.scrollIntoView({ behavior: 'smooth', block: 'center' });
        target.classList.add('highlight');
        setTimeout(() => target.classList.remove('highlight'), 400);
      }, 200);
    }
  }
  
  // Initialize theme from storage
  setTheme(getStoredTheme());
  
  // Initialize font size from storage
  currentFontSize = getStoredFontSize();
  setFontSize(currentFontSize);
  
  // Theme toggle button
  document.getElementById('theme-toggle').addEventListener('click', toggleTheme);
  
  // Font size buttons
  document.getElementById('font-larger').addEventListener('click', increaseFontSize);
  document.getElementById('font-smaller').addEventListener('click', decreaseFontSize);
});

</script>

</body>
</html>