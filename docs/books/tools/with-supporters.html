<!DOCTYPE html>
<html lang="en" vocab="http://schema.org/" typeof="SoftwareSourceCode">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>with-supporters - ACL2 Book</title>
  <meta property="name" content="with-supporters">
  <meta property="programmingLanguage" content="ACL2">
  
<style>
/* ACL2 Book HTML Documentation Styles */
/* Generated by cert2 - build2 system */

/* Dark theme (default) */
:root {
  --bg: #1e1e2e;
  --fg: #cdd6f4;
  --comment: #6c7086;
  --keyword: #cba6f7;
  --string: #a6e3a1;
  --function: #89b4fa;
  --type: #f9e2af;
  --link: #89dceb;
  --link-hover: #f5c2e7;
  --highlight: rgba(137, 180, 250, 0.2);
  --border: #313244;
  --block-bg: rgba(49, 50, 68, 0.5);
  --btn-bg: #313244;
  --btn-hover: rgba(137, 180, 250, 0.2);
}

/* Light theme */
[data-theme="light"] {
  --bg: #eff1f5;
  --fg: #4c4f69;
  --comment: #6c6f85;
  --keyword: #8839ef;
  --string: #40a02b;
  --function: #1e66f5;
  --type: #df8e1d;
  --link: #04a5e5;
  --link-hover: #ea76cb;
  --highlight: rgba(30, 102, 245, 0.15);
  --border: #ccd0da;
  --block-bg: rgba(204, 208, 218, 0.3);
  --btn-bg: #ccd0da;
  --btn-hover: rgba(30, 102, 245, 0.15);
}

body {
  font-family: 'JetBrains Mono', 'Fira Code', monospace;
  background: var(--bg);
  color: var(--fg);
  margin: 0;
  padding: 20px;
  line-height: 1.6;
  font-size: 14px;
  transition: background 0.1s, color 0.1s;
}

/* Controls toolbar */
.controls-left {
  position: fixed;
  top: 10px;
  left: 20px;
  display: flex;
  gap: 8px;
  align-items: center;
  z-index: 200;
  transition: transform 0.1s ease;
}

.controls-right {
  position: fixed;
  top: 10px;
  right: 20px;
  display: flex;
  gap: 8px;
  align-items: center;
  z-index: 200;
}

.control-btn {
  padding: 6px 12px;
  background: var(--btn-bg);
  border: 1px solid var(--border);
  border-radius: 4px;
  color: var(--fg);
  cursor: pointer;
  font-family: inherit;
  font-size: 14px;
  transition: all 0.1s;
}

.control-btn:hover {
  background: var(--btn-hover);
  border-color: var(--link);
}

.name-filter {
  padding: 6px 10px;
  background: var(--btn-bg);
  border: 1px solid var(--border);
  border-radius: 4px;
  color: var(--fg);
  font-family: inherit;
  font-size: 13px;
  width: 150px;
  transition: all 0.1s;
}

.name-filter:focus {
  outline: none;
  border-color: var(--link);
  width: 200px;
}

.name-filter::placeholder {
  color: var(--comment);
}

.regex-label {
  display: flex;
  align-items: center;
  gap: 4px;
  color: var(--comment);
  font-size: 12px;
  cursor: pointer;
}

.regex-label input {
  cursor: pointer;
}

.book-header {
  border-bottom: 2px solid var(--border);
  padding-bottom: 20px;
  margin-bottom: 20px;
}

.book-header h1 {
  color: var(--keyword);
  margin: 0;
}

.book-header .path {
  color: var(--comment);
  font-size: 0.9em;
}

.book-header .path .source-link {
  color: var(--comment);
  text-decoration: none;
}

.book-header .path .source-link:hover {
  color: var(--link);
  text-decoration: underline;
}

.form-block {
  margin: 10px 0;
  padding: 15px;
  background: var(--block-bg);
  border-radius: 8px;
  border-left: 3px solid var(--border);
}

.form-block.theorem { border-left-color: var(--keyword); }
.form-block.function { border-left-color: var(--function); }
.form-block.macro { border-left-color: var(--type); }
.form-block.include-book { border-left-color: var(--string); }

.form-block.hidden { display: none; }
.form-block.dimmed { opacity: 0.3; }

.form-block.highlight {
  animation: highlight-pulse 0.4s ease-out;
}

@keyframes highlight-pulse {
  0% { background: var(--highlight); box-shadow: 0 0 20px var(--link); }
  100% { background: rgba(49, 50, 68, 0.5); box-shadow: none; }
}

.form-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
}

.form-name {
  color: var(--function);
  font-weight: bold;
  cursor: pointer;
}

.form-name:hover {
  color: var(--link-hover);
  text-decoration: underline;
}

.form-type {
  color: var(--comment);
  font-size: 0.85em;
}

pre.code {
  margin: 0;
  overflow-x: auto;
  white-space: pre-wrap;
  word-wrap: break-word;
}

.sym-ref {
  color: var(--link);
  cursor: pointer;
  border-radius: 2px;
}

.sym-ref:hover {
  background: var(--highlight);
  color: var(--link-hover);
}

.sym-ref.local-def { color: var(--function); font-weight: bold; }
.sym-ref.external { color: var(--type); }

/* Symbol links (clickable hyperlinks) */
.sym-link {
  color: var(--link);
  text-decoration: none;
  border-radius: 2px;
  cursor: pointer;
  position: relative;
}

.sym-link:hover {
  background: var(--highlight);
  color: var(--link-hover);
  text-decoration: underline;
}

.sym-link.local-def {
  color: var(--function);
  font-weight: bold;
}

.sym-link.external {
  color: var(--type);
}

/* Tooltips using title attribute with custom styling */
.sym-link[title] {
  /* Browser will show title on hover */
}

/* Syntax highlighting in code blocks */
.keyword {
  color: var(--keyword);
}

.string {
  color: var(--string);
}

.number {
  color: #f77524; /* orange */
}

/* Include-book path links */
.include-path {
  color: var(--string);
  text-decoration: none;
  border-radius: 2px;
  cursor: pointer;
}

.include-path:hover {
  background: var(--highlight);
  color: var(--link-hover);
  text-decoration: underline;
}

/* Part buttons for defthm */
.part-buttons {
  display: flex;
  gap: 5px;
  margin: 10px 0;
  flex-wrap: wrap;
}

.part-btn {
  padding: 4px 10px;
  background: var(--border);
  border: 1px solid var(--comment);
  border-radius: 4px;
  color: var(--fg);
  cursor: pointer;
  font-size: 0.85em;
  font-family: inherit;
}

.part-btn:hover {
  background: var(--highlight);
  border-color: var(--link);
}

.part-btn.active {
  background: var(--link);
  color: var(--bg);
  border-color: var(--link);
}

/* References panel */
.refs-panel {
  margin-top: 10px;
  padding: 10px;
  background: rgba(0,0,0,0.2);
  border-radius: 4px;
  display: none;
}

.refs-panel.visible { display: block; }

.refs-panel h4 {
  margin: 0 0 5px 0;
  color: var(--comment);
  font-size: 0.9em;
}

.refs-list {
  display: flex;
  flex-wrap: wrap;
  gap: 5px;
}

/* Included books section */
.includes-section {
  margin-bottom: 20px;
  padding: 15px;
  background: rgba(49, 50, 68, 0.3);
  border-radius: 8px;
  border: 1px solid var(--border);
}

.includes-section h2 {
  margin: 0 0 10px 0;
  color: var(--comment);
  font-size: 1em;
  font-weight: normal;
}

.includes-list {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.include-link {
  padding: 6px 12px;
  background: var(--border);
  border-radius: 4px;
  color: var(--link);
  text-decoration: none;
  font-size: 0.9em;
  transition: all 0.1s;
}

.include-link:hover {
  background: var(--highlight);
  color: var(--link-hover);
}

.include-link.local {
  border-left: 2px solid var(--comment);
}

/* Filter status */
.filter-status {
  position: fixed;
  top: 10px;
  left: 20px;
  background: var(--bg);
  padding: 6px 12px;
  border: 1px solid var(--border);
  border-radius: 4px;
  z-index: 201;
  display: none;
  align-items: center;
  gap: 10px;
}

.filter-status.active {
  display: flex;
  align-items: center;
  gap: 10px;
}

.clear-filter {
  padding: 5px 15px;
  background: var(--keyword);
  color: var(--bg);
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

/* RDFa vocab indicator */
[vocab] { /* semantic web annotations present */ }

</style>

</head>
<body>
  <div class="controls-left">
    <input type="text" id="name-filter" class="name-filter" placeholder="Filter by name..." title="Filter definitions by name">
    <label class="regex-label"><input type="checkbox" id="regex-toggle"> regex</label>
  </div>

  <div class="controls-right">
    <button class="control-btn" id="theme-toggle" title="Toggle light/dark theme">☀️</button>
    <button class="control-btn" id="font-smaller" title="Decrease font size">A-</button>
    <button class="control-btn" id="font-larger" title="Increase font size">A+</button>
  </div>

  <div class="filter-status">
    <span class="filter-text">Filtering...</span>
    <button class="clear-filter">Clear Filter</button>
  </div>
  
  <div class="book-header">
    <h1 property="name">with-supporters</h1>
    <div class="path"><a href="with-supporters.lisp" class="source-link">books/tools/with-supporters</a></div>
  </div>
  
  <main property="text">
  <div class="includes-section">
    <h2>Included Books</h2>
    <div class="includes-list">
      <a class="include-link" href="elide-event.html" title="elide-event">elide-event</a>
    </div>
  </div>

<div class="form-block other" id="form-0" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-in-package" data-sym="IN-PACKAGE">in-package</a> <span class="string">"ACL2"</span>)</pre>
  </div>

<div class="form-block other" id="form-1" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-program" data-sym="PROGRAM">program</a>)</pre>
  </div>

<div class="form-block other" id="form-2" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-set-state-ok" data-sym="SET-STATE-OK">set-state-ok</a> <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>)</pre>
  </div>

<div class="form-block include-book" id="form-3" typeof="Code">
    <div class="form-header"><span class="form-type">include-book</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-include-book" data-sym="INCLUDE-BOOK">include-book</a> <a class="include-path" href="elide-event.html" title="Open elide-event">"elide-event"</a>)</pre>
  </div>

<div class="form-block function" id="def-get-event-local-p" data-defines="GET-EVENT-LOCAL-P" data-references="ACCESS-EVENT-TUPLE-LOCAL-P,AND,EVENT,QUOTE,LOOKUP-WORLD-INDEX,CAR,CDDR,EVENT-TUPLE,LET,WRLD,N,DEFUN" data-used-by="SUPPORTER-FNS-IN-RANGE-OR-LOCAL,EVENTS-FROM-SUPPORTERS-FAL,FNS-WITH-ABS-EV-BETWEEN-OR-LOCAL" data-part-name="GET-EVENT-LOCAL-P" data-part-args="WRLD,N" data-part-body="ACCESS-EVENT-TUPLE-LOCAL-P,AND,WRLD,N,EVENT,QUOTE,LOOKUP-WORLD-INDEX,CAR,CDDR,EVENT-TUPLE,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="GET-EVENT-LOCAL-P">get-event-local-p</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-get-event-local-p" data-sym="GET-EVENT-LOCAL-P" title="(defun get-event-local-p (n wrld)
  (let ((event-tuple (cddr (car (lookup-world-index &#39;event n wrld)))))
    (and event-tuple (access-event-tuple-local-p event-tuple))))">get-event-local-p</a>
  (n wrld)
  (let ((event-tuple (<a class="sym-link system" href="../../axioms.html#def-cddr" data-sym="CDDR">cddr</a> (car (lookup-world-index 'event n wrld)))))
    (<a class="sym-link system" href="../../axioms.html#def-and" data-sym="AND">and</a> event-tuple (access-event-tuple-local-p event-tuple))))</pre>
  </div>

<div class="form-block function" id="def-fns-with-abs-ev-between-or-local" data-defines="FNS-WITH-ABS-EV-BETWEEN-OR-LOCAL" data-references="CONS,GET-EVENT-LOCAL-P,<=,<,AND,OR,ABSOLUTE-EVENT-NUMBER,QUOTE,CAR,GETPROPC,K,LET,CDR,T,ENDP,COND,ACC,WRLD,MAX,MIN,NAMES,DEFUN" data-used-by="SUPPORTERS-OF-1-LST" data-part-name="FNS-WITH-ABS-EV-BETWEEN-OR-LOCAL" data-part-args="ACC,WRLD,MAX,MIN,NAMES" data-part-body="CONS,GET-EVENT-LOCAL-P,<=,<,AND,OR,ABSOLUTE-EVENT-NUMBER,QUOTE,CAR,GETPROPC,K,LET,WRLD,MAX,MIN,CDR,FNS-WITH-ABS-EV-BETWEEN-OR-LOCAL,T,ACC,NAMES,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="FNS-WITH-ABS-EV-BETWEEN-OR-LOCAL">fns-with-abs-ev-between-or-local</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-fns-with-abs-ev-between-or-local" data-sym="FNS-WITH-ABS-EV-BETWEEN-OR-LOCAL" title="(defun fns-with-abs-ev-between-or-local (names min max wrld acc)
  (cond ((endp names) acc)
        (t
         (fns-with-abs-ev-between-or-local (cdr names) min max wrld
          (let ((k (getpropc (car names) &#39;absolute-event-number 0 wrld)))
...">fns-with-abs-ev-between-or-local</a>
  (names min max wrld acc)
  (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../axioms.html#def-endp" data-sym="ENDP">endp</a> names) acc)
    (<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-fns-with-abs-ev-between-or-local" data-sym="FNS-WITH-ABS-EV-BETWEEN-OR-LOCAL" title="(defun fns-with-abs-ev-between-or-local (names min max wrld acc)
  (cond ((endp names) acc)
        (t
         (fns-with-abs-ev-between-or-local (cdr names) min max wrld
          (let ((k (getpropc (car names) &#39;absolute-event-number 0 wrld)))
...">fns-with-abs-ev-between-or-local</a> (cdr names)
        min
        max
        wrld
        (let ((k (<a class="sym-link system" href="../../axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> (car names) 'absolute-event-number <span class="number">0</span> wrld)))
          (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="../../axioms.html#def-and" data-sym="AND">and</a> (&lt; min k) (<a class="sym-link system" href="../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> k max)) (<a class="sym-link local-def" href="#def-get-event-local-p" data-sym="GET-EVENT-LOCAL-P" title="(defun get-event-local-p (n wrld)
  (let ((event-tuple (cddr (car (lookup-world-index &#39;event n wrld)))))
    (and event-tuple (access-event-tuple-local-p event-tuple))))">get-event-local-p</a> k wrld)) (cons (car names) acc))
            (<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> acc)))))))</pre>
  </div>

<div class="form-block function" id="def-instantiable-ancestors-with-guards_2Fmeasures" data-defines="INSTANTIABLE-ANCESTORS-WITH-GUARDS/MEASURES" data-references="ANS2,MV-LET,EQ,NOT,CONSP,IMM2,ALL-FNNAMES1,IF,IMM1,ACCESS,AND,MEASURE,JUSTIFICATION,JUST,QUOTE,GETPROPC,GUARD,IMMEDIATE-INSTANTIABLE-ANCESTORS,IMM,HONS-ACONS,CONS,ANS1,LET*,T,CDR,CAR,HONS-GET,MV,NULL,COND,SEEN,ANS,WRLD,FNS,DEFUN" data-used-by="SUPPORTERS-OF-1-LST" data-part-name="INSTANTIABLE-ANCESTORS-WITH-GUARDS/MEASURES" data-part-args="SEEN,ANS,WRLD,FNS" data-part-body="ANS2,MV-LET,EQ,NOT,CONSP,IMM2,ALL-FNNAMES1,IF,IMM1,ACCESS,AND,MEASURE,JUSTIFICATION,JUST,QUOTE,GETPROPC,GUARD,IMMEDIATE-INSTANTIABLE-ANCESTORS,IMM,HONS-ACONS,CONS,ANS1,LET*,T,WRLD,CDR,INSTANTIABLE-ANCESTORS-WITH-GUARDS/MEASURES,CAR,HONS-GET,SEEN,ANS,MV,FNS,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="INSTANTIABLE-ANCESTORS-WITH-GUARDS/MEASURES">instantiable-ancestors-with-guards/measures</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-instantiable-ancestors-with-guards_2Fmeasures" data-sym="INSTANTIABLE-ANCESTORS-WITH-GUARDS/MEASURES" title="(defun instantiable-ancestors-with-guards/measures (fns wrld ans seen)
  (cond ((null fns) (mv ans seen))
        ((hons-get (car fns) seen)
         (instantiable-ancestors-with-guards/measures (cdr fns) wrld ans seen))
        (t
...">instantiable-ancestors-with-guards/measures</a>
  (fns wrld ans seen)
  (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../axioms.html#def-null" data-sym="NULL">null</a> fns) (<a class="sym-link system" href="../../axioms.html#def-mv" data-sym="MV">mv</a> ans seen))
    ((hons-get (car fns) seen) (<a class="sym-link local-def" href="#def-instantiable-ancestors-with-guards_2Fmeasures" data-sym="INSTANTIABLE-ANCESTORS-WITH-GUARDS/MEASURES" title="(defun instantiable-ancestors-with-guards/measures (fns wrld ans seen)
  (cond ((null fns) (mv ans seen))
        ((hons-get (car fns) seen)
         (instantiable-ancestors-with-guards/measures (cdr fns) wrld ans seen))
        (t
...">instantiable-ancestors-with-guards/measures</a> (cdr fns)
        wrld
        ans
        seen))
    (<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="../../axioms.html#def-let_2A" data-sym="LET*">let*</a> ((ans1 (cons (car fns) ans)) (seen (hons-acons (car fns) <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> seen))
          (imm (<a class="sym-link system" href="../../history-management.html#def-immediate-instantiable-ancestors" data-sym="IMMEDIATE-INSTANTIABLE-ANCESTORS">immediate-instantiable-ancestors</a> (car fns) wrld ans1))
          (<a class="sym-link system" href="../../basis-b.html#def-guard" data-sym="GUARD">guard</a> (<a class="sym-link system" href="../../axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> (car fns) '<a class="sym-link system" href="../../basis-b.html#def-guard" data-sym="GUARD">guard</a> nil wrld))
          (just (<a class="sym-link system" href="../../axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> (car fns) 'justification nil wrld))
          (measure (<a class="sym-link system" href="../../axioms.html#def-and" data-sym="AND">and</a> just (<a class="sym-link system" href="../../axioms.html#def-access" data-sym="ACCESS">access</a> justification just <span class="keyword">:measure</span>)))
          (imm1 (if <a class="sym-link system" href="../../basis-b.html#def-guard" data-sym="GUARD">guard</a>
              (all-fnnames1 nil <a class="sym-link system" href="../../basis-b.html#def-guard" data-sym="GUARD">guard</a> imm)
              imm))
          (imm2 (if (<a class="sym-link system" href="../../axioms.html#def-and" data-sym="AND">and</a> (consp measure) (<a class="sym-link system" href="../../axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="../../axioms.html#def-eq" data-sym="EQ">eq</a> (car measure) <span class="keyword">:?</span>)))
              (all-fnnames1 nil measure imm1)
              imm1)))
        (<a class="sym-link system" href="../../axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (ans2 seen)
          (<a class="sym-link local-def" href="#def-instantiable-ancestors-with-guards_2Fmeasures" data-sym="INSTANTIABLE-ANCESTORS-WITH-GUARDS/MEASURES" title="(defun instantiable-ancestors-with-guards/measures (fns wrld ans seen)
  (cond ((null fns) (mv ans seen))
        ((hons-get (car fns) seen)
         (instantiable-ancestors-with-guards/measures (cdr fns) wrld ans seen))
        (t
...">instantiable-ancestors-with-guards/measures</a> imm2
            wrld
            ans1
            seen)
          (<a class="sym-link local-def" href="#def-instantiable-ancestors-with-guards_2Fmeasures" data-sym="INSTANTIABLE-ANCESTORS-WITH-GUARDS/MEASURES" title="(defun instantiable-ancestors-with-guards/measures (fns wrld ans seen)
  (cond ((null fns) (mv ans seen))
        ((hons-get (car fns) seen)
         (instantiable-ancestors-with-guards/measures (cdr fns) wrld ans seen))
        (t
...">instantiable-ancestors-with-guards/measures</a> (cdr fns)
            wrld
            ans2
            seen))))))</pre>
  </div>

<div class="form-block function" id="def-accumulate-macro-names-from-aliases" data-defines="ACCUMULATE-MACRO-NAMES-FROM-ALIASES" data-references="CONS,CAR,RASSOC,PAIR,LET,CDR,T,ENDP,COND,ACC,MACRO-ALIASES,NAMES,DEFUN" data-used-by="SUPPORTERS-OF-1-LST" data-part-name="ACCUMULATE-MACRO-NAMES-FROM-ALIASES" data-part-args="ACC,MACRO-ALIASES,NAMES" data-part-body="CONS,CAR,RASSOC,PAIR,LET,MACRO-ALIASES,CDR,ACCUMULATE-MACRO-NAMES-FROM-ALIASES,T,ACC,NAMES,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ACCUMULATE-MACRO-NAMES-FROM-ALIASES">accumulate-macro-names-from-aliases</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-accumulate-macro-names-from-aliases" data-sym="ACCUMULATE-MACRO-NAMES-FROM-ALIASES" title="(defun accumulate-macro-names-from-aliases (names macro-aliases acc)
  (cond ((endp names) acc)
        (t
         (accumulate-macro-names-from-aliases (cdr names) macro-aliases
          (let ((pair (rassoc (car names) macro-aliases)))">accumulate-macro-names-from-aliases</a>
  (names <a class="sym-link system" href="../../axioms.html#def-macro-aliases" data-sym="MACRO-ALIASES">macro-aliases</a> acc)
  (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../axioms.html#def-endp" data-sym="ENDP">endp</a> names) acc)
    (<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-accumulate-macro-names-from-aliases" data-sym="ACCUMULATE-MACRO-NAMES-FROM-ALIASES" title="(defun accumulate-macro-names-from-aliases (names macro-aliases acc)
  (cond ((endp names) acc)
        (t
         (accumulate-macro-names-from-aliases (cdr names) macro-aliases
          (let ((pair (rassoc (car names) macro-aliases)))">accumulate-macro-names-from-aliases</a> (cdr names)
        <a class="sym-link system" href="../../axioms.html#def-macro-aliases" data-sym="MACRO-ALIASES">macro-aliases</a>
        (let ((pair (<a class="sym-link system" href="../../axioms.html#def-rassoc" data-sym="RASSOC">rassoc</a> (car names) <a class="sym-link system" href="../../axioms.html#def-macro-aliases" data-sym="MACRO-ALIASES">macro-aliases</a>)))
          (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> (pair (cons (car pair) acc)) (<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> acc)))))))</pre>
  </div>

<div class="form-block function" id="def-get-event_2B" data-defines="GET-EVENT+" data-references="QUASIQUOTE,CADR,ASSERT$,DEFCONST,EQ,IF,EVENT,LOOKUP-WORLD-INDEX,CAR,CDDR,ACCESS-EVENT-TUPLE-FORM,EV,T,HONS-GET,MV,NULL,COND,ABSOLUTE-EVENT-NUMBER,QUOTE,GETPROPC,INDEX,LET,WRLD,FAL,NAME,DEFUN" data-used-by="SUPPORTERS-OF-REC" data-part-name="GET-EVENT+" data-part-args="WRLD,FAL,NAME" data-part-body="QUASIQUOTE,CADR,ASSERT$,DEFCONST,EQ,IF,EVENT,LOOKUP-WORLD-INDEX,CAR,CDDR,ACCESS-EVENT-TUPLE-FORM,EV,T,FAL,HONS-GET,MV,NULL,COND,WRLD,ABSOLUTE-EVENT-NUMBER,QUOTE,NAME,GETPROPC,INDEX,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="GET-EVENT+">get-event+</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-get-event_2B" data-sym="GET-EVENT+" title="(defun get-event+ (name fal wrld)
  (let ((index (getpropc name &#39;absolute-event-number nil wrld)))
    (cond ((null index) (mv :failed nil)) ((hons-get index fal) (mv nil nil))
          (t
           (let ((ev
...">get-event+</a>
  (name fal wrld)
  (let ((index (<a class="sym-link system" href="../../axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> name 'absolute-event-number nil wrld)))
    (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../axioms.html#def-null" data-sym="NULL">null</a> index) (<a class="sym-link system" href="../../axioms.html#def-mv" data-sym="MV">mv</a> <span class="keyword">:failed</span> nil))
      ((hons-get index fal) (<a class="sym-link system" href="../../axioms.html#def-mv" data-sym="MV">mv</a> nil nil))
      (<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> (let ((ev (access-event-tuple-form (<a class="sym-link system" href="../../axioms.html#def-cddr" data-sym="CDDR">cddr</a> (car (lookup-world-index 'event index wrld))))))
          (<a class="sym-link system" href="../../axioms.html#def-mv" data-sym="MV">mv</a> index
            (if (<a class="sym-link system" href="../../axioms.html#def-eq" data-sym="EQ">eq</a> (car ev) '<a class="sym-link system" href="../../axioms.html#def-defconst" data-sym="DEFCONST">defconst</a>)
              (<a class="sym-link system" href="../../axioms.html#def-assert_24" data-sym="ASSERT$">assert$</a> (<a class="sym-link system" href="../../axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="../../axioms.html#def-cadr" data-sym="CADR">cadr</a> ev) name)
                `(<a class="sym-link system" href="../../axioms.html#def-defconst" data-sym="DEFCONST">defconst</a> ,NAME ,(GETPROPC NAME &#39;CONST NIL WRLD)))
              ev)))))))</pre>
  </div>

<div class="form-block function" id="def-constant-name-p" data-defines="CONSTANT-NAME-P" data-references="1-,CHAR,EQL,=,NOT,LENGTH,LEN,SYMBOL-NAME,S,LET*,SYMBOLP,AND,FORM,DEFUN" data-used-by="COLLECT-CONSTANTS-AND-MACROS-1" data-part-name="CONSTANT-NAME-P" data-part-args="FORM" data-part-body="1-,CHAR,EQL,=,NOT,LENGTH,LEN,SYMBOL-NAME,S,LET*,FORM,SYMBOLP,AND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CONSTANT-NAME-P">constant-name-p</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-constant-name-p" data-sym="CONSTANT-NAME-P" title="(defun constant-name-p (form)
  (and (symbolp form)
       (let* ((s (symbol-name form)) (len (length s)))
         (and (not (= len 0)) (eql (char s 0) #\*)
              (eql (char s (1- len)) #\*)))))">constant-name-p</a>
  (form)
  (<a class="sym-link system" href="../../axioms.html#def-and" data-sym="AND">and</a> (symbolp form)
    (<a class="sym-link system" href="../../axioms.html#def-let_2A" data-sym="LET*">let*</a> ((s (symbol-name form)) (<a class="sym-link system" href="../../axioms.html#def-len" data-sym="LEN">len</a> (<a class="sym-link system" href="../../axioms.html#def-length" data-sym="LENGTH">length</a> s)))
      (<a class="sym-link system" href="../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="../../axioms.html#def-_3D" data-sym="=">=</a> <a class="sym-link system" href="../../axioms.html#def-len" data-sym="LEN">len</a> <span class="number">0</span>))
        (<a class="sym-link system" href="../../axioms.html#def-eql" data-sym="EQL">eql</a> (<a class="sym-link system" href="../../axioms.html#def-char" data-sym="CHAR">char</a> s <span class="number">0</span>) #\*)
        (<a class="sym-link system" href="../../axioms.html#def-eql" data-sym="EQL">eql</a> (<a class="sym-link system" href="../../axioms.html#def-char" data-sym="CHAR">char</a> s (<a class="sym-link system" href="../../axioms.html#def-1-" data-sym="1-">1-</a> <a class="sym-link system" href="../../axioms.html#def-len" data-sym="LEN">len</a>)) #\*)))))</pre>
  </div>

<div class="form-block function" id="def-supporters-macro-forms" data-defines="SUPPORTERS-MACRO-FORMS" data-references="STRIP-CADRS,CONS,CASE,APPEND-LST,@,WARN-ABOUT-PARALLELISM-HAZARD,MV-LET,F-PUT-GLOBAL,CONCATENATE,CHECK-VARS-NOT-FREE,REVERT-WORLD,F-BOUNDP-GLOBAL,F-GET-GLOBAL,SET-INHIBIT-OUTPUT-LST,GETPROPC,GETPROP,FMT1!-TO-STRING,FMT1-TO-STRING,FMT!-TO-STRING,FMT-TO-STRING,FMS!-TO-STRING,FMS-TO-STRING,SET-DIFFERENCE$,UNION$,SET-DIFFERENCE-EQ,UNION-EQ,CW,ACL2-UNWIND-PROTECT,LOGXOR,LOGNOT,LOGAND,LOGIOR,-,/,*,+,>=,>,<=,APPEND,LIST*,ER-PROGN,PPROGN,PROGN$,PROG2$,ASSOC-EQ,ASSOC,FARGN,FARGS,FFN-SYMB,CDDDR,CADDR,CDDR,CDAR,CAAR,FOURTH,THIRD,SECOND,REST,FIRST,AND,OR,VALUE,MEMBER-EQ,CDR,ASSOC-KEYWORD,CADR,LIST,T,MV,MBE,QUOTE,CAR,EQ,COND,TRUE-LISTP,XARGS,DECLARE,FORM,DEFUN" data-used-by="COLLECT-CONSTANTS-AND-MACROS-1" data-part-name="SUPPORTERS-MACRO-FORMS" data-part-args="FORM" data-part-declare="FORM,TRUE-LISTP,XARGS,DECLARE" data-part-body="STRIP-CADRS,CONS,CASE,APPEND-LST,@,WARN-ABOUT-PARALLELISM-HAZARD,MV-LET,F-PUT-GLOBAL,CONCATENATE,CHECK-VARS-NOT-FREE,REVERT-WORLD,F-BOUNDP-GLOBAL,F-GET-GLOBAL,SET-INHIBIT-OUTPUT-LST,GETPROPC,GETPROP,FMT1!-TO-STRING,FMT1-TO-STRING,FMT!-TO-STRING,FMT-TO-STRING,FMS!-TO-STRING,FMS-TO-STRING,SET-DIFFERENCE$,UNION$,SET-DIFFERENCE-EQ,UNION-EQ,CW,ACL2-UNWIND-PROTECT,LOGXOR,LOGNOT,LOGAND,LOGIOR,-,/,*,+,>=,>,<=,APPEND,LIST*,ER-PROGN,PPROGN,PROGN$,PROG2$,ASSOC-EQ,ASSOC,FARGN,FARGS,FFN-SYMB,CDDDR,CADDR,CDDR,CDAR,CAAR,FOURTH,THIRD,SECOND,REST,FIRST,AND,OR,VALUE,MEMBER-EQ,CDR,ASSOC-KEYWORD,CADR,LIST,T,MV,MBE,QUOTE,FORM,CAR,EQ,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="SUPPORTERS-MACRO-FORMS">supporters-macro-forms</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-supporters-macro-forms" data-sym="SUPPORTERS-MACRO-FORMS" title="(defun supporters-macro-forms (form)
  (declare (xargs :guard (true-listp form)))
  (cond
   ((eq (car form) &#39;mbe)
    (mv t
...">supporters-macro-forms</a>
  (form)
  (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="../../axioms.html#def-true-listp" data-sym="TRUE-LISTP">true-listp</a> form)))
  (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../axioms.html#def-eq" data-sym="EQ">eq</a> (car form) '<a class="sym-link system" href="../../axioms.html#def-mbe" data-sym="MBE">mbe</a>) (<a class="sym-link system" href="../../axioms.html#def-mv" data-sym="MV">mv</a> <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>
        (<a class="sym-link system" href="../../axioms.html#def-list" data-sym="LIST">list</a> (<a class="sym-link system" href="../../axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="../../axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:logic</span> (cdr form)))
          (<a class="sym-link system" href="../../axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="../../axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:exec</span> (cdr form))))))
    ((<a class="sym-link system" href="../../axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> (car form)
       '(<a class="sym-link system" href="../../axioms.html#def-value" data-sym="VALUE">value</a> <a class="sym-link system" href="../../axioms.html#def-or" data-sym="OR">or</a>
         <a class="sym-link system" href="../../axioms.html#def-and" data-sym="AND">and</a>
         <a class="sym-link system" href="../../axioms.html#def-first" data-sym="FIRST">first</a>
         <a class="sym-link system" href="../../axioms.html#def-rest" data-sym="REST">rest</a>
         <a class="sym-link system" href="../../axioms.html#def-second" data-sym="SECOND">second</a>
         <a class="sym-link system" href="../../axioms.html#def-third" data-sym="THIRD">third</a>
         <a class="sym-link system" href="../../axioms.html#def-fourth" data-sym="FOURTH">fourth</a>
         <a class="sym-link system" href="../../axioms.html#def-caar" data-sym="CAAR">caar</a>
         <a class="sym-link system" href="../../axioms.html#def-cdar" data-sym="CDAR">cdar</a>
         <a class="sym-link system" href="../../axioms.html#def-cadr" data-sym="CADR">cadr</a>
         <a class="sym-link system" href="../../axioms.html#def-cddr" data-sym="CDDR">cddr</a>
         <a class="sym-link system" href="../../axioms.html#def-caddr" data-sym="CADDR">caddr</a>
         <a class="sym-link system" href="../../axioms.html#def-cdddr" data-sym="CDDDR">cdddr</a>
         <a class="sym-link system" href="../../axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a>
         <a class="sym-link system" href="../../axioms.html#def-fargs" data-sym="FARGS">fargs</a>
         <a class="sym-link system" href="../../axioms.html#def-fargn" data-sym="FARGN">fargn</a>
         <a class="sym-link system" href="../../axioms.html#def-assoc" data-sym="ASSOC">assoc</a>
         <a class="sym-link system" href="../../axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a>
         <a class="sym-link system" href="../../axioms.html#def-prog2_24" data-sym="PROG2$">prog2$</a>
         <a class="sym-link system" href="../../axioms.html#def-progn_24" data-sym="PROGN$">progn$</a>
         <a class="sym-link system" href="../../axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a>
         <a class="sym-link system" href="../../axioms.html#def-er-progn" data-sym="ER-PROGN">er-progn</a>
         <a class="sym-link system" href="../../axioms.html#def-list" data-sym="LIST">list</a>
         <a class="sym-link system" href="../../axioms.html#def-list_2A" data-sym="LIST*">list*</a>
         <a class="sym-link system" href="../../axioms.html#def-append" data-sym="APPEND">append</a>
         <a class="sym-link system" href="../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a>
         <a class="sym-link system" href="../../axioms.html#def-_3E" data-sym="&gt;">&gt;</a>
         <a class="sym-link system" href="../../axioms.html#def-_3E_3D" data-sym="&gt;=">&gt;=</a>
         <a class="sym-link system" href="../../axioms.html#def-_2B" data-sym="+">+</a>
         <a class="sym-link system" href="../../axioms.html#def-_2A" data-sym="*">*</a>
         <a class="sym-link system" href="../../axioms.html#def-_2F" data-sym="/">/</a>
         <a class="sym-link system" href="../../axioms.html#def--" data-sym="-">-</a>
         <a class="sym-link system" href="../../axioms.html#def-logior" data-sym="LOGIOR">logior</a>
         <a class="sym-link system" href="../../axioms.html#def-logand" data-sym="LOGAND">logand</a>
         lognot
         <a class="sym-link system" href="../../axioms.html#def-logxor" data-sym="LOGXOR">logxor</a>
         <a class="sym-link system" href="../../axioms.html#def-acl2-unwind-protect" data-sym="ACL2-UNWIND-PROTECT">acl2-unwind-protect</a>
         <a class="sym-link system" href="../../axioms.html#def-cw" data-sym="CW">cw</a>
         <a class="sym-link system" href="../../axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a>
         <a class="sym-link system" href="../../axioms.html#def-union-eq" data-sym="UNION-EQ">union-eq</a>
         <a class="sym-link system" href="../../axioms.html#def-set-difference-eq" data-sym="SET-DIFFERENCE-EQ">set-difference-eq</a>
         <a class="sym-link system" href="../../axioms.html#def-union_24" data-sym="UNION$">union$</a>
         <a class="sym-link system" href="../../axioms.html#def-set-difference_24" data-sym="SET-DIFFERENCE$">set-difference$</a>
         fms-to-string
         fms!-to-string
         fmt-to-string
         fmt!-to-string
         fmt1-to-string
         fmt1!-to-string
         <a class="sym-link system" href="../../axioms.html#def-getprop" data-sym="GETPROP">getprop</a>
         <a class="sym-link system" href="../../axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a>
         <a class="sym-link system" href="../../basis-b.html#def-set-inhibit-output-lst" data-sym="SET-INHIBIT-OUTPUT-LST">set-inhibit-output-lst</a>
         <a class="sym-link system" href="../../axioms.html#def-f-get-global" data-sym="F-GET-GLOBAL">f-get-global</a>
         <a class="sym-link system" href="../../axioms.html#def-f-boundp-global" data-sym="F-BOUNDP-GLOBAL">f-boundp-global</a>
         <a class="sym-link system" href="../../prove.html#def-revert-world" data-sym="REVERT-WORLD">revert-world</a>)) (<a class="sym-link system" href="../../axioms.html#def-mv" data-sym="MV">mv</a> <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> (cdr form)))
    ((<a class="sym-link system" href="../../axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> (car form)
       '(<a class="sym-link system" href="../../axioms.html#def-check-vars-not-free" data-sym="CHECK-VARS-NOT-FREE">check-vars-not-free</a> <a class="sym-link system" href="../../axioms.html#def-concatenate" data-sym="CONCATENATE">concatenate</a>
         <a class="sym-link system" href="../../axioms.html#def-f-put-global" data-sym="F-PUT-GLOBAL">f-put-global</a>
         <a class="sym-link system" href="../../axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a>
         <a class="sym-link system" href="../../axioms.html#def-warn-about-parallelism-hazard" data-sym="WARN-ABOUT-PARALLELISM-HAZARD">warn-about-parallelism-hazard</a>)) (<a class="sym-link system" href="../../axioms.html#def-mv" data-sym="MV">mv</a> <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="../../axioms.html#def-cddr" data-sym="CDDR">cddr</a> form)))
    ((<a class="sym-link system" href="../../axioms.html#def-eq" data-sym="EQ">eq</a> (car form) '<a class="sym-link system" href="../../axioms.html#def-_40" data-sym="@">@</a>) (<a class="sym-link system" href="../../axioms.html#def-mv" data-sym="MV">mv</a> <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> nil))
    ((<a class="sym-link system" href="../../axioms.html#def-eq" data-sym="EQ">eq</a> (car form) '<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a>) (<a class="sym-link system" href="../../axioms.html#def-mv" data-sym="MV">mv</a> <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="../../axioms.html#def-append-lst" data-sym="APPEND-LST">append-lst</a> (cdr form))))
    ((<a class="sym-link system" href="../../axioms.html#def-eq" data-sym="EQ">eq</a> (car form) '<a class="sym-link system" href="../../axioms.html#def-case" data-sym="CASE">case</a>) (<a class="sym-link system" href="../../axioms.html#def-mv" data-sym="MV">mv</a> <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> (cons (<a class="sym-link system" href="../../axioms.html#def-cadr" data-sym="CADR">cadr</a> form) (<a class="sym-link system" href="../../axioms.html#def-strip-cadrs" data-sym="STRIP-CADRS">strip-cadrs</a> (<a class="sym-link system" href="../../axioms.html#def-cddr" data-sym="CDDR">cddr</a> form)))))
    (<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="../../axioms.html#def-mv" data-sym="MV">mv</a> nil nil))))</pre>
  </div>

<div class="form-block mutual-recursion" id="def-collect-constants-and-macros-1" data-defines="COLLECT-CONSTANTS-AND-MACROS-1" data-references="ENDP,SOME-CTX,MACROEXPAND1-CMP,EXPANSION,ERP,MACRO-BODY,GETPROPC,SUPPORTERS-MACRO-FORMS,LST,FLG,MV-LET,T,CDR,LAMBDA,CAAR,CONSP,CDDDR,STOBJ-LET,EQ,LAST,STRIP-CADRS,DOUBLET-LISTP,AND,COLLECT-CONSTANTS-AND-MACROS-LST,CADR,BINDINGS,ER-LET*,LET*,LET,LAMBDA$,QUOTE,CAR,MEMBER-EQ,TRUE-LISTP,NOT,CONS,CONSTANT-NAME-P,BOOLEANP,COND,STATE-VARS,WRLD,ACC,FORM,DEFUN,MUTUAL-RECURSION" data-used-by="SUPPORTERS-OF-1-LST,COLLECT-CONSTANTS-AND-MACROS-EV" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="COLLECT-CONSTANTS-AND-MACROS-1">collect-constants-and-macros-1</span><span class="form-type">mutual-recursion</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-mutual-recursion" data-sym="MUTUAL-RECURSION">mutual-recursion</a> (<a class="sym-link system" href="../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-collect-constants-and-macros-1" data-sym="COLLECT-CONSTANTS-AND-MACROS-1" title="(mutual-recursion
 (defun collect-constants-and-macros-1 (form acc wrld state-vars)
   (cond ((booleanp form) acc) ((constant-name-p form) (cons form acc))
         ((not (true-listp form)) acc) ((member-eq (car form) &#39;&#39;lambda$) acc)
         ((member-eq (car form)
...">collect-constants-and-macros-1</a>
    (form acc wrld state-vars)
    (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../axioms.html#def-booleanp" data-sym="BOOLEANP">booleanp</a> form) acc)
      ((<a class="sym-link local-def" href="#def-constant-name-p" data-sym="CONSTANT-NAME-P" title="(defun constant-name-p (form)
  (and (symbolp form)
       (let* ((s (symbol-name form)) (len (length s)))
         (and (not (= len 0)) (eql (char s 0) #\*)
              (eql (char s (1- len)) #\*)))))">constant-name-p</a> form) (cons form acc))
      ((<a class="sym-link system" href="../../axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="../../axioms.html#def-true-listp" data-sym="TRUE-LISTP">true-listp</a> form)) acc)
      ((<a class="sym-link system" href="../../axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> (car form) ''lambda$) acc)
      ((<a class="sym-link system" href="../../axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> (car form)
         '(let <a class="sym-link system" href="../../axioms.html#def-let_2A" data-sym="LET*">let*</a>
           <a class="sym-link system" href="../../basis-b.html#def-er-let_2A" data-sym="ER-LET*">er-let*</a>)) (let ((bindings (<a class="sym-link system" href="../../axioms.html#def-cadr" data-sym="CADR">cadr</a> form)))
          (collect-constants-and-macros-lst (<a class="sym-link system" href="../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../basis-a.html#def-doublet-listp" data-sym="DOUBLET-LISTP">doublet-listp</a> bindings) (<a class="sym-link system" href="../../axioms.html#def-strip-cadrs" data-sym="STRIP-CADRS">strip-cadrs</a> bindings))
            (<a class="sym-link local-def" href="#def-collect-constants-and-macros-1" data-sym="COLLECT-CONSTANTS-AND-MACROS-1" title="(mutual-recursion
 (defun collect-constants-and-macros-1 (form acc wrld state-vars)
   (cond ((booleanp form) acc) ((constant-name-p form) (cons form acc))
         ((not (true-listp form)) acc) ((member-eq (car form) &#39;&#39;lambda$) acc)
         ((member-eq (car form)
...">collect-constants-and-macros-1</a> (car (<a class="sym-link system" href="../../axioms.html#def-last" data-sym="LAST">last</a> form))
              acc
              wrld
              state-vars)
            wrld
            state-vars)))
      ((<a class="sym-link system" href="../../axioms.html#def-eq" data-sym="EQ">eq</a> (car form) 'stobj-let) (collect-constants-and-macros-lst (<a class="sym-link system" href="../../axioms.html#def-cdddr" data-sym="CDDDR">cdddr</a> form)
          acc
          wrld
          state-vars))
      ((<a class="sym-link system" href="../../axioms.html#def-and" data-sym="AND">and</a> (consp (car form))
         (<a class="sym-link system" href="../../axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="../../axioms.html#def-caar" data-sym="CAAR">caar</a> form) 'lambda)
         (<a class="sym-link system" href="../../axioms.html#def-true-listp" data-sym="TRUE-LISTP">true-listp</a> (car form))) (<a class="sym-link local-def" href="#def-collect-constants-and-macros-1" data-sym="COLLECT-CONSTANTS-AND-MACROS-1" title="(mutual-recursion
 (defun collect-constants-and-macros-1 (form acc wrld state-vars)
   (cond ((booleanp form) acc) ((constant-name-p form) (cons form acc))
         ((not (true-listp form)) acc) ((member-eq (car form) &#39;&#39;lambda$) acc)
         ((member-eq (car form)
...">collect-constants-and-macros-1</a> (car (<a class="sym-link system" href="../../axioms.html#def-last" data-sym="LAST">last</a> (car form)))
          (collect-constants-and-macros-lst (cdr form)
            acc
            wrld
            state-vars)
          wrld
          state-vars))
      (<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="../../axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (flg lst)
          (<a class="sym-link local-def" href="#def-supporters-macro-forms" data-sym="SUPPORTERS-MACRO-FORMS" title="(defun supporters-macro-forms (form)
  (declare (xargs :guard (true-listp form)))
  (cond
   ((eq (car form) &#39;mbe)
    (mv t
...">supporters-macro-forms</a> form)
          (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> (flg (collect-constants-and-macros-lst lst acc wrld state-vars))
            ((<a class="sym-link system" href="../../axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> (car form) 'macro-body nil wrld) (<a class="sym-link system" href="../../axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (erp expansion)
                (macroexpand1-cmp form 'some-ctx wrld state-vars)
                (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> (erp acc)
                  (<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-collect-constants-and-macros-1" data-sym="COLLECT-CONSTANTS-AND-MACROS-1" title="(mutual-recursion
 (defun collect-constants-and-macros-1 (form acc wrld state-vars)
   (cond ((booleanp form) acc) ((constant-name-p form) (cons form acc))
         ((not (true-listp form)) acc) ((member-eq (car form) &#39;&#39;lambda$) acc)
         ((member-eq (car form)
...">collect-constants-and-macros-1</a> expansion
                      (cons (car form) acc)
                      wrld
                      state-vars)))))
            (<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> (collect-constants-and-macros-lst (cdr form)
                acc
                wrld
                state-vars)))))))
  (<a class="sym-link system" href="../../axioms.html#def-defun" data-sym="DEFUN">defun</a> collect-constants-and-macros-lst
    (lst acc wrld state-vars)
    (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../axioms.html#def-endp" data-sym="ENDP">endp</a> lst) acc)
      (<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-collect-constants-and-macros-1" data-sym="COLLECT-CONSTANTS-AND-MACROS-1" title="(mutual-recursion
 (defun collect-constants-and-macros-1 (form acc wrld state-vars)
   (cond ((booleanp form) acc) ((constant-name-p form) (cons form acc))
         ((not (true-listp form)) acc) ((member-eq (car form) &#39;&#39;lambda$) acc)
         ((member-eq (car form)
...">collect-constants-and-macros-1</a> (car lst)
          (collect-constants-and-macros-lst (cdr lst)
            acc
            wrld
            state-vars)
          wrld
          state-vars)))))</pre>
  </div>

<div class="form-block function" id="def-guard-from-event" data-defines="GUARD-FROM-EVENT" data-references="IGNORE,DECLARE,CDR,DCLS-GUARD-RAW-FROM-DEF,GUARD,DCLS,MV-LET,WRLD,EV,DEFUN" data-used-by="COLLECT-CONSTANTS-AND-MACROS-EV" data-part-name="GUARD-FROM-EVENT" data-part-args="WRLD,EV" data-part-body="IGNORE,DECLARE,WRLD,EV,CDR,DCLS-GUARD-RAW-FROM-DEF,GUARD,DCLS,MV-LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="GUARD-FROM-EVENT">guard-from-event</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-guard-from-event" data-sym="GUARD-FROM-EVENT" title="(defun guard-from-event (ev wrld)
  (mv-let (dcls guard) (dcls-guard-raw-from-def (cdr ev) wrld)
          (declare (ignore dcls)) guard))">guard-from-event</a>
  (ev wrld)
  (<a class="sym-link system" href="../../axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (dcls <a class="sym-link system" href="../../basis-b.html#def-guard" data-sym="GUARD">guard</a>)
    (dcls-guard-raw-from-def (cdr ev) wrld)
    (declare (ignore dcls))
    <a class="sym-link system" href="../../basis-b.html#def-guard" data-sym="GUARD">guard</a>))</pre>
  </div>

<div class="form-block mutual-recursion" id="def-collect-constants-and-macros-ev" data-defines="COLLECT-CONSTANTS-AND-MACROS-EV" data-references="T,ENDP,COND,EV-LST,OTHERWISE,CDDR,COLLECT-CONSTANTS-AND-MACROS-LST,TABLE,NTH,CADDR,DEFTHEORY,DEFCONST,DEFAXIOM,DEFTHM,CDR,COLLECT-CONSTANTS-AND-MACROS-EV-LST,DEFCHOOSE,LAST,COLLECT-CONSTANTS-AND-MACROS-1,IF,GUARD-FROM-EVENT,GUARD,LET*,DEFMACRO,DEFUND-NX,DEFUN-NX,DEFUND,CAR,CASE,TRUE-LISTP,ASSERT$,STATE-VARS,WRLD,ACC,EV,DEFUN,MUTUAL-RECURSION" data-used-by="SUPPORTERS-OF-1-LST" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="COLLECT-CONSTANTS-AND-MACROS-EV">collect-constants-and-macros-ev</span><span class="form-type">mutual-recursion</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-mutual-recursion" data-sym="MUTUAL-RECURSION">mutual-recursion</a> (<a class="sym-link system" href="../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-collect-constants-and-macros-ev" data-sym="COLLECT-CONSTANTS-AND-MACROS-EV" title="(mutual-recursion
 (defun collect-constants-and-macros-ev (ev acc wrld state-vars)
   (assert$ (true-listp ev)
            (case (car ev)
              ((defun defund defun-nx defund-nx defmacro)
...">collect-constants-and-macros-ev</a>
    (ev acc wrld state-vars)
    (<a class="sym-link system" href="../../axioms.html#def-assert_24" data-sym="ASSERT$">assert$</a> (<a class="sym-link system" href="../../axioms.html#def-true-listp" data-sym="TRUE-LISTP">true-listp</a> ev)
      (<a class="sym-link system" href="../../axioms.html#def-case" data-sym="CASE">case</a> (car ev)
        ((<a class="sym-link system" href="../../axioms.html#def-defun" data-sym="DEFUN">defun</a> defund <a class="sym-link system" href="../../axioms.html#def-defun-nx" data-sym="DEFUN-NX">defun-nx</a> <a class="sym-link system" href="../../axioms.html#def-defund-nx" data-sym="DEFUND-NX">defund-nx</a> <a class="sym-link system" href="../../axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a>) (<a class="sym-link system" href="../../axioms.html#def-let_2A" data-sym="LET*">let*</a> ((<a class="sym-link system" href="../../basis-b.html#def-guard" data-sym="GUARD">guard</a> (<a class="sym-link local-def" href="#def-guard-from-event" data-sym="GUARD-FROM-EVENT" title="(defun guard-from-event (ev wrld)
  (mv-let (dcls guard) (dcls-guard-raw-from-def (cdr ev) wrld)
          (declare (ignore dcls)) guard))">guard-from-event</a> ev wrld)) (acc (if <a class="sym-link system" href="../../basis-b.html#def-guard" data-sym="GUARD">guard</a>
                  (<a class="sym-link local-def" href="#def-collect-constants-and-macros-1" data-sym="COLLECT-CONSTANTS-AND-MACROS-1" title="(mutual-recursion
 (defun collect-constants-and-macros-1 (form acc wrld state-vars)
   (cond ((booleanp form) acc) ((constant-name-p form) (cons form acc))
         ((not (true-listp form)) acc) ((member-eq (car form) &#39;&#39;lambda$) acc)
         ((member-eq (car form)
...">collect-constants-and-macros-1</a> <a class="sym-link system" href="../../basis-b.html#def-guard" data-sym="GUARD">guard</a> acc wrld state-vars)
                  acc)))
            (<a class="sym-link local-def" href="#def-collect-constants-and-macros-1" data-sym="COLLECT-CONSTANTS-AND-MACROS-1" title="(mutual-recursion
 (defun collect-constants-and-macros-1 (form acc wrld state-vars)
   (cond ((booleanp form) acc) ((constant-name-p form) (cons form acc))
         ((not (true-listp form)) acc) ((member-eq (car form) &#39;&#39;lambda$) acc)
         ((member-eq (car form)
...">collect-constants-and-macros-1</a> (car (<a class="sym-link system" href="../../axioms.html#def-last" data-sym="LAST">last</a> ev))
              acc
              wrld
              state-vars)))
        (<a class="sym-link system" href="../../axioms.html#def-defchoose" data-sym="DEFCHOOSE">defchoose</a> (<a class="sym-link local-def" href="#def-collect-constants-and-macros-1" data-sym="COLLECT-CONSTANTS-AND-MACROS-1" title="(mutual-recursion
 (defun collect-constants-and-macros-1 (form acc wrld state-vars)
   (cond ((booleanp form) acc) ((constant-name-p form) (cons form acc))
         ((not (true-listp form)) acc) ((member-eq (car form) &#39;&#39;lambda$) acc)
         ((member-eq (car form)
...">collect-constants-and-macros-1</a> (car (<a class="sym-link system" href="../../axioms.html#def-last" data-sym="LAST">last</a> ev))
            acc
            wrld
            state-vars))
        (<a class="sym-link system" href="../../axioms.html#def-mutual-recursion" data-sym="MUTUAL-RECURSION">mutual-recursion</a> (collect-constants-and-macros-ev-lst (cdr ev)
            acc
            wrld
            state-vars))
        ((<a class="sym-link system" href="../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> <a class="sym-link system" href="../../axioms.html#def-defaxiom" data-sym="DEFAXIOM">defaxiom</a> <a class="sym-link system" href="../../axioms.html#def-defconst" data-sym="DEFCONST">defconst</a> <a class="sym-link system" href="../../axioms.html#def-deftheory" data-sym="DEFTHEORY">deftheory</a>) (<a class="sym-link local-def" href="#def-collect-constants-and-macros-1" data-sym="COLLECT-CONSTANTS-AND-MACROS-1" title="(mutual-recursion
 (defun collect-constants-and-macros-1 (form acc wrld state-vars)
   (cond ((booleanp form) acc) ((constant-name-p form) (cons form acc))
         ((not (true-listp form)) acc) ((member-eq (car form) &#39;&#39;lambda$) acc)
         ((member-eq (car form)
...">collect-constants-and-macros-1</a> (<a class="sym-link system" href="../../axioms.html#def-caddr" data-sym="CADDR">caddr</a> ev)
            acc
            wrld
            state-vars))
        (<a class="sym-link system" href="../../axioms.html#def-defchoose" data-sym="DEFCHOOSE">defchoose</a> (<a class="sym-link local-def" href="#def-collect-constants-and-macros-1" data-sym="COLLECT-CONSTANTS-AND-MACROS-1" title="(mutual-recursion
 (defun collect-constants-and-macros-1 (form acc wrld state-vars)
   (cond ((booleanp form) acc) ((constant-name-p form) (cons form acc))
         ((not (true-listp form)) acc) ((member-eq (car form) &#39;&#39;lambda$) acc)
         ((member-eq (car form)
...">collect-constants-and-macros-1</a> (<a class="sym-link system" href="../../axioms.html#def-nth" data-sym="NTH">nth</a> <span class="number">4</span> ev)
            acc
            wrld
            state-vars))
        (<a class="sym-link system" href="../../axioms.html#def-table" data-sym="TABLE">table</a> (collect-constants-and-macros-lst (<a class="sym-link system" href="../../axioms.html#def-cddr" data-sym="CDDR">cddr</a> ev)
            acc
            wrld
            state-vars))
        (otherwise acc))))
  (<a class="sym-link system" href="../../axioms.html#def-defun" data-sym="DEFUN">defun</a> collect-constants-and-macros-ev-lst
    (ev-lst acc wrld state-vars)
    (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../axioms.html#def-endp" data-sym="ENDP">endp</a> ev-lst) acc)
      (<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-collect-constants-and-macros-ev" data-sym="COLLECT-CONSTANTS-AND-MACROS-EV" title="(mutual-recursion
 (defun collect-constants-and-macros-ev (ev acc wrld state-vars)
   (assert$ (true-listp ev)
            (case (car ev)
              ((defun defund defun-nx defund-nx defmacro)
...">collect-constants-and-macros-ev</a> (car ev-lst)
          (collect-constants-and-macros-ev-lst (cdr ev-lst)
            acc
            wrld
            state-vars)
          wrld
          state-vars)))))</pre>
  </div>

<div class="form-block function" id="def-supporters-extend-seen" data-defines="SUPPORTERS-EXTEND-SEEN" data-references="CAR,HONS-ACONS,CDR,T,ENDP,COND,SEEN,FNS,DEFUN" data-part-name="SUPPORTERS-EXTEND-SEEN" data-part-args="SEEN,FNS" data-part-body="CAR,HONS-ACONS,CDR,SUPPORTERS-EXTEND-SEEN,T,SEEN,FNS,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="SUPPORTERS-EXTEND-SEEN">supporters-extend-seen</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-supporters-extend-seen" data-sym="SUPPORTERS-EXTEND-SEEN" title="(defun supporters-extend-seen (fns seen)
  (cond ((endp fns) seen)
        (t (supporters-extend-seen (cdr fns) (hons-acons (car fns) t seen)))))">supporters-extend-seen</a>
  (fns seen)
  (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../axioms.html#def-endp" data-sym="ENDP">endp</a> fns) seen)
    (<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-supporters-extend-seen" data-sym="SUPPORTERS-EXTEND-SEEN" title="(defun supporters-extend-seen (fns seen)
  (cond ((endp fns) seen)
        (t (supporters-extend-seen (cdr fns) (hons-acons (car fns) t seen)))))">supporters-extend-seen</a> (cdr fns)
        (hons-acons (car fns) <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> seen)))))</pre>
  </div>

<div class="form-block function" id="def-filter-out-seen" data-defines="FILTER-OUT-SEEN" data-references="CONS,T,CDR,CAR,HONS-GET,ENDP,COND,SEEN,LST,DEFUN" data-used-by="SUPPORTERS-OF-1-LST" data-part-name="FILTER-OUT-SEEN" data-part-args="SEEN,LST" data-part-body="CONS,T,CDR,FILTER-OUT-SEEN,SEEN,CAR,HONS-GET,LST,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="FILTER-OUT-SEEN">filter-out-seen</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-filter-out-seen" data-sym="FILTER-OUT-SEEN" title="(defun filter-out-seen (lst seen)
  (cond ((endp lst) nil)
        ((hons-get (car lst) seen) (filter-out-seen (cdr lst) seen))
        (t (cons (car lst) (filter-out-seen (cdr lst) seen)))))">filter-out-seen</a>
  (lst seen)
  (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../axioms.html#def-endp" data-sym="ENDP">endp</a> lst) nil)
    ((hons-get (car lst) seen) (<a class="sym-link local-def" href="#def-filter-out-seen" data-sym="FILTER-OUT-SEEN" title="(defun filter-out-seen (lst seen)
  (cond ((endp lst) nil)
        ((hons-get (car lst) seen) (filter-out-seen (cdr lst) seen))
        (t (cons (car lst) (filter-out-seen (cdr lst) seen)))))">filter-out-seen</a> (cdr lst) seen))
    (<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> (cons (car lst) (<a class="sym-link local-def" href="#def-filter-out-seen" data-sym="FILTER-OUT-SEEN" title="(defun filter-out-seen (lst seen)
  (cond ((endp lst) nil)
        ((hons-get (car lst) seen) (filter-out-seen (cdr lst) seen))
        (t (cons (car lst) (filter-out-seen (cdr lst) seen)))))">filter-out-seen</a> (cdr lst) seen)))))</pre>
  </div>

<div class="form-block mutual-recursion" id="def-supporters-of-1-lst" data-defines="SUPPORTERS-OF-1-LST" data-references="ACCUMULATE-MACRO-NAMES-FROM-ALIASES,COLLECT-CONSTANTS-AND-MACROS-EV,COLLECT-CONSTANTS-AND-MACROS-1,NEW-NAMES,FNS-WITH-ABS-EV-BETWEEN-OR-LOCAL,INSTANTIABLE-ANCESTORS-WITH-GUARDS/MEASURES,FILTER-OUT-SEEN,STRIP-CDRS,STRIP-CARS,ALL-FNNAMES1,NEW-FNS,NOT,ATTACHMENT-ALIST,ATTACHMENT-PROP,GUARD,MACRO-BODY,GETPROPC,OR,CONJOIN,*T*,UNKNOWN-CONSTRAINTS-P,IGNORE,DECLARE,CONSTRAINT-INFO,ORIGINS,X,NAME2,FORMULA,NULL,CAAR,SYMBOLP,SIG,LET,IF,NAME,CADR,ENCAPSULATE,NON-TRIVIAL-ENCAPSULATE-P,LET*,QUOTE,EQ,CONSP,AND,EV,APPEND,CDR,LST2,CAR,SUPPORTERS-OF-1,LST1,MV-LET,T,MV,ENDP,COND,SEEN,STATE-VARS,WRLD,MACRO-ALIASES,MAX,MIN,DEFS,DEFUN,MUTUAL-RECURSION" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="SUPPORTERS-OF-1-LST">supporters-of-1-lst</span><span class="form-type">mutual-recursion</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-mutual-recursion" data-sym="MUTUAL-RECURSION">mutual-recursion</a> (<a class="sym-link system" href="../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-supporters-of-1-lst" data-sym="SUPPORTERS-OF-1-LST" title="(mutual-recursion
 (defun supporters-of-1-lst (defs min max macro-aliases wrld state-vars seen)
   (cond ((endp defs) (mv nil seen))
         (t
          (mv-let (lst1 seen)
...">supporters-of-1-lst</a>
    (defs min max <a class="sym-link system" href="../../axioms.html#def-macro-aliases" data-sym="MACRO-ALIASES">macro-aliases</a> wrld state-vars seen)
    (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../axioms.html#def-endp" data-sym="ENDP">endp</a> defs) (<a class="sym-link system" href="../../axioms.html#def-mv" data-sym="MV">mv</a> nil seen))
      (<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="../../axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (lst1 seen)
          (supporters-of-1 (car defs)
            min
            max
            <a class="sym-link system" href="../../axioms.html#def-macro-aliases" data-sym="MACRO-ALIASES">macro-aliases</a>
            wrld
            state-vars
            seen)
          (<a class="sym-link system" href="../../axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (lst2 seen)
            (<a class="sym-link local-def" href="#def-supporters-of-1-lst" data-sym="SUPPORTERS-OF-1-LST" title="(mutual-recursion
 (defun supporters-of-1-lst (defs min max macro-aliases wrld state-vars seen)
   (cond ((endp defs) (mv nil seen))
         (t
          (mv-let (lst1 seen)
...">supporters-of-1-lst</a> (cdr defs)
              min
              max
              <a class="sym-link system" href="../../axioms.html#def-macro-aliases" data-sym="MACRO-ALIASES">macro-aliases</a>
              wrld
              state-vars
              seen)
            (<a class="sym-link system" href="../../axioms.html#def-mv" data-sym="MV">mv</a> (<a class="sym-link system" href="../../axioms.html#def-append" data-sym="APPEND">append</a> lst1 lst2) seen))))))
  (<a class="sym-link system" href="../../axioms.html#def-defun" data-sym="DEFUN">defun</a> supporters-of-1
    (ev min max <a class="sym-link system" href="../../axioms.html#def-macro-aliases" data-sym="MACRO-ALIASES">macro-aliases</a> wrld state-vars seen)
    (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../axioms.html#def-and" data-sym="AND">and</a> (consp ev) (<a class="sym-link system" href="../../axioms.html#def-eq" data-sym="EQ">eq</a> (car ev) '<a class="sym-link system" href="../../axioms.html#def-mutual-recursion" data-sym="MUTUAL-RECURSION">mutual-recursion</a>)) (<a class="sym-link local-def" href="#def-supporters-of-1-lst" data-sym="SUPPORTERS-OF-1-LST" title="(mutual-recursion
 (defun supporters-of-1-lst (defs min max macro-aliases wrld state-vars seen)
   (cond ((endp defs) (mv nil seen))
         (t
          (mv-let (lst1 seen)
...">supporters-of-1-lst</a> (cdr ev)
          min
          max
          <a class="sym-link system" href="../../axioms.html#def-macro-aliases" data-sym="MACRO-ALIASES">macro-aliases</a>
          wrld
          state-vars
          seen))
      (<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="../../axioms.html#def-let_2A" data-sym="LET*">let*</a> ((non-trivial-encapsulate-p (<a class="sym-link system" href="../../axioms.html#def-and" data-sym="AND">and</a> (consp ev) (<a class="sym-link system" href="../../axioms.html#def-eq" data-sym="EQ">eq</a> (car ev) '<a class="sym-link system" href="../../axioms.html#def-encapsulate" data-sym="ENCAPSULATE">encapsulate</a>) (<a class="sym-link system" href="../../axioms.html#def-cadr" data-sym="CADR">cadr</a> ev))) (name (if non-trivial-encapsulate-p
                (let ((sig (car (<a class="sym-link system" href="../../axioms.html#def-cadr" data-sym="CADR">cadr</a> ev))))
                  (if (symbolp (car sig))
                    (car sig)
                    (<a class="sym-link system" href="../../axioms.html#def-caar" data-sym="CAAR">caar</a> sig)))
                (<a class="sym-link system" href="../../axioms.html#def-and" data-sym="AND">and</a> (consp ev)
                  (consp (cdr ev))
                  (symbolp (<a class="sym-link system" href="../../axioms.html#def-cadr" data-sym="CADR">cadr</a> ev))
                  (<a class="sym-link system" href="../../axioms.html#def-cadr" data-sym="CADR">cadr</a> ev)))))
          (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../axioms.html#def-null" data-sym="NULL">null</a> name) (<a class="sym-link system" href="../../axioms.html#def-mv" data-sym="MV">mv</a> nil seen))
            (<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="../../axioms.html#def-let_2A" data-sym="LET*">let*</a> ((<a class="sym-link system" href="../../history-management.html#def-formula" data-sym="FORMULA">formula</a> (if non-trivial-encapsulate-p
                     (<a class="sym-link system" href="../../axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (name2 x origins)
                       (<a class="sym-link system" href="../../history-management.html#def-constraint-info" data-sym="CONSTRAINT-INFO">constraint-info</a> name wrld)
                       (declare (ignore origins))
                       (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../history-management.html#def-unknown-constraints-p" data-sym="UNKNOWN-CONSTRAINTS-P">unknown-constraints-p</a> x) <a class="sym-link system" href="../../axioms.html#def-_2At_2A" data-sym="*T*">*t*</a>)
                         (name2 (<a class="sym-link system" href="../../axioms.html#def-conjoin" data-sym="CONJOIN">conjoin</a> x))
                         (<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> x)))
                     (<a class="sym-link system" href="../../axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="../../axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> name 'macro-body nil wrld)
                       (<a class="sym-link system" href="../../history-management.html#def-formula" data-sym="FORMULA">formula</a> name nil wrld)))) (<a class="sym-link system" href="../../basis-b.html#def-guard" data-sym="GUARD">guard</a> (<a class="sym-link system" href="../../axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> name '<a class="sym-link system" href="../../basis-b.html#def-guard" data-sym="GUARD">guard</a> nil wrld))
                  (attachment-prop (attachment-alist name wrld))
                  (attachment-alist (<a class="sym-link system" href="../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="../../axioms.html#def-eq" data-sym="EQ">eq</a> (car attachment-prop) <span class="keyword">:attachment-disallowed</span>))
                      attachment-prop))
                  (new-fns (<a class="sym-link system" href="../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../axioms.html#def-or" data-sym="OR">or</a> <a class="sym-link system" href="../../history-management.html#def-formula" data-sym="FORMULA">formula</a> attachment-alist)
                      (all-fnnames1 nil
                        <a class="sym-link system" href="../../history-management.html#def-formula" data-sym="FORMULA">formula</a>
                        (<a class="sym-link system" href="../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../axioms.html#def-or" data-sym="OR">or</a> <a class="sym-link system" href="../../basis-b.html#def-guard" data-sym="GUARD">guard</a> attachment-alist)
                          (all-fnnames1 nil
                            <a class="sym-link system" href="../../basis-b.html#def-guard" data-sym="GUARD">guard</a>
                            (<a class="sym-link system" href="../../axioms.html#def-append" data-sym="APPEND">append</a> (<a class="sym-link system" href="../../axioms.html#def-strip-cars" data-sym="STRIP-CARS">strip-cars</a> attachment-alist)
                              (<a class="sym-link system" href="../../axioms.html#def-strip-cdrs" data-sym="STRIP-CDRS">strip-cdrs</a> attachment-alist)))))))
                  (new-fns (<a class="sym-link local-def" href="#def-filter-out-seen" data-sym="FILTER-OUT-SEEN" title="(defun filter-out-seen (lst seen)
  (cond ((endp lst) nil)
        ((hons-get (car lst) seen) (filter-out-seen (cdr lst) seen))
        (t (cons (car lst) (filter-out-seen (cdr lst) seen)))))">filter-out-seen</a> new-fns seen)))
                (<a class="sym-link system" href="../../axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (new-fns seen)
                  (<a class="sym-link local-def" href="#def-instantiable-ancestors-with-guards_2Fmeasures" data-sym="INSTANTIABLE-ANCESTORS-WITH-GUARDS/MEASURES" title="(defun instantiable-ancestors-with-guards/measures (fns wrld ans seen)
  (cond ((null fns) (mv ans seen))
        ((hons-get (car fns) seen)
         (instantiable-ancestors-with-guards/measures (cdr fns) wrld ans seen))
        (t
...">instantiable-ancestors-with-guards/measures</a> (<a class="sym-link local-def" href="#def-fns-with-abs-ev-between-or-local" data-sym="FNS-WITH-ABS-EV-BETWEEN-OR-LOCAL" title="(defun fns-with-abs-ev-between-or-local (names min max wrld acc)
  (cond ((endp names) acc)
        (t
         (fns-with-abs-ev-between-or-local (cdr names) min max wrld
          (let ((k (getpropc (car names) &#39;absolute-event-number 0 wrld)))
...">fns-with-abs-ev-between-or-local</a> new-fns min max wrld nil)
                    wrld
                    nil
                    seen)
                  (<a class="sym-link system" href="../../axioms.html#def-let_2A" data-sym="LET*">let*</a> ((new-fns (<a class="sym-link local-def" href="#def-fns-with-abs-ev-between-or-local" data-sym="FNS-WITH-ABS-EV-BETWEEN-OR-LOCAL" title="(defun fns-with-abs-ev-between-or-local (names min max wrld acc)
  (cond ((endp names) acc)
        (t
         (fns-with-abs-ev-between-or-local (cdr names) min max wrld
          (let ((k (getpropc (car names) &#39;absolute-event-number 0 wrld)))
...">fns-with-abs-ev-between-or-local</a> new-fns min max wrld nil)) (new-names (if non-trivial-encapsulate-p
                          (<a class="sym-link local-def" href="#def-collect-constants-and-macros-1" data-sym="COLLECT-CONSTANTS-AND-MACROS-1" title="(mutual-recursion
 (defun collect-constants-and-macros-1 (form acc wrld state-vars)
   (cond ((booleanp form) acc) ((constant-name-p form) (cons form acc))
         ((not (true-listp form)) acc) ((member-eq (car form) &#39;&#39;lambda$) acc)
         ((member-eq (car form)
...">collect-constants-and-macros-1</a> <a class="sym-link system" href="../../history-management.html#def-formula" data-sym="FORMULA">formula</a>
                            new-fns
                            wrld
                            state-vars)
                          (<a class="sym-link local-def" href="#def-collect-constants-and-macros-ev" data-sym="COLLECT-CONSTANTS-AND-MACROS-EV" title="(mutual-recursion
 (defun collect-constants-and-macros-ev (ev acc wrld state-vars)
   (assert$ (true-listp ev)
            (case (car ev)
              ((defun defund defun-nx defund-nx defmacro)
...">collect-constants-and-macros-ev</a> ev new-fns wrld state-vars))))
                    (<a class="sym-link system" href="../../axioms.html#def-mv" data-sym="MV">mv</a> (<a class="sym-link local-def" href="#def-accumulate-macro-names-from-aliases" data-sym="ACCUMULATE-MACRO-NAMES-FROM-ALIASES" title="(defun accumulate-macro-names-from-aliases (names macro-aliases acc)
  (cond ((endp names) acc)
        (t
         (accumulate-macro-names-from-aliases (cdr names) macro-aliases
          (let ((pair (rassoc (car names) macro-aliases)))">accumulate-macro-names-from-aliases</a> new-fns
                        <a class="sym-link system" href="../../axioms.html#def-macro-aliases" data-sym="MACRO-ALIASES">macro-aliases</a>
                        new-names)
                      seen)))))))))))</pre>
  </div>

<div class="form-block function" id="def-supporters-of-rec" data-defines="SUPPORTERS-OF-REC" data-references="HONS-ACONS,APPEND,SUPPORTERS-OF-1,FNS,HARD,ER,EQ,NULL,CDAR,CAAR,HONS-GET,GET-EVENT+,EV,N,MV-LET,CDR,CONS,PRE-V8-7-GETPROPC-CONSTRAINT-LST-NIL,CAR,SYMBOLP,AND,CONSTRAINT-LST,LET,T,MV,ENDP,COND,SEEN,STATE-VARS,WRLD,CTX,MACRO-ALIASES,MAX,MIN,FAL,LST,DEFUN" data-used-by="SUPPORTERS-OF" data-part-name="SUPPORTERS-OF-REC" data-part-args="SEEN,STATE-VARS,WRLD,CTX,MACRO-ALIASES,MAX,MIN,FAL,LST" data-part-body="HONS-ACONS,APPEND,SUPPORTERS-OF-1,FNS,HARD,ER,EQ,NULL,CDAR,CAAR,HONS-GET,GET-EVENT+,EV,N,MV-LET,STATE-VARS,CTX,MACRO-ALIASES,MAX,MIN,CDR,CONS,SUPPORTERS-OF-REC,WRLD,PRE-V8-7-GETPROPC-CONSTRAINT-LST-NIL,CAR,SYMBOLP,AND,CONSTRAINT-LST,LET,T,SEEN,FAL,MV,LST,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="SUPPORTERS-OF-REC">supporters-of-rec</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-supporters-of-rec" data-sym="SUPPORTERS-OF-REC" title="(defun supporters-of-rec
       (lst fal min max macro-aliases ctx wrld state-vars seen)
  (cond ((endp lst) (mv fal seen))
        (t
         (let ((constraint-lst
...">supporters-of-rec</a>
  (lst fal min max <a class="sym-link system" href="../../axioms.html#def-macro-aliases" data-sym="MACRO-ALIASES">macro-aliases</a> ctx wrld state-vars seen)
  (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../axioms.html#def-endp" data-sym="ENDP">endp</a> lst) (<a class="sym-link system" href="../../axioms.html#def-mv" data-sym="MV">mv</a> fal seen))
    (<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> (let ((constraint-lst (<a class="sym-link system" href="../../axioms.html#def-and" data-sym="AND">and</a> (symbolp (car lst))
             (<a class="sym-link system" href="../../history-management.html#def-pre-v8-7-getpropc-constraint-lst-nil" data-sym="PRE-V8-7-GETPROPC-CONSTRAINT-LST-NIL">pre-v8-7-getpropc-constraint-lst-nil</a> (car lst) wrld))))
        (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../axioms.html#def-and" data-sym="AND">and</a> constraint-lst (symbolp constraint-lst)) (<a class="sym-link local-def" href="#def-supporters-of-rec" data-sym="SUPPORTERS-OF-REC" title="(defun supporters-of-rec
       (lst fal min max macro-aliases ctx wrld state-vars seen)
  (cond ((endp lst) (mv fal seen))
        (t
         (let ((constraint-lst
...">supporters-of-rec</a> (cons constraint-lst (cdr lst))
              fal
              min
              max
              <a class="sym-link system" href="../../axioms.html#def-macro-aliases" data-sym="MACRO-ALIASES">macro-aliases</a>
              ctx
              wrld
              state-vars
              seen))
          (<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="../../axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (n ev)
              (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> ((symbolp (car lst)) (<a class="sym-link local-def" href="#def-get-event_2B" data-sym="GET-EVENT+" title="(defun get-event+ (name fal wrld)
  (let ((index (getpropc name &#39;absolute-event-number nil wrld)))
    (cond ((null index) (mv :failed nil)) ((hons-get index fal) (mv nil nil))
          (t
           (let ((ev
...">get-event+</a> (car lst) fal wrld))
                ((hons-get (<a class="sym-link system" href="../../axioms.html#def-caar" data-sym="CAAR">caar</a> lst) fal) (<a class="sym-link system" href="../../axioms.html#def-mv" data-sym="MV">mv</a> nil nil))
                (<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="../../axioms.html#def-mv" data-sym="MV">mv</a> (<a class="sym-link system" href="../../axioms.html#def-caar" data-sym="CAAR">caar</a> lst) (<a class="sym-link system" href="../../axioms.html#def-cdar" data-sym="CDAR">cdar</a> lst))))
              (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../axioms.html#def-null" data-sym="NULL">null</a> n) (<a class="sym-link local-def" href="#def-supporters-of-rec" data-sym="SUPPORTERS-OF-REC" title="(defun supporters-of-rec
       (lst fal min max macro-aliases ctx wrld state-vars seen)
  (cond ((endp lst) (mv fal seen))
        (t
         (let ((constraint-lst
...">supporters-of-rec</a> (cdr lst)
                    fal
                    min
                    max
                    <a class="sym-link system" href="../../axioms.html#def-macro-aliases" data-sym="MACRO-ALIASES">macro-aliases</a>
                    ctx
                    wrld
                    state-vars
                    seen))
                ((<a class="sym-link system" href="../../axioms.html#def-eq" data-sym="EQ">eq</a> n <span class="keyword">:failed</span>) (<a class="sym-link system" href="../../axioms.html#def-mv" data-sym="MV">mv</a> (<a class="sym-link system" href="../../axioms.html#def-er" data-sym="ER">er</a> hard
                      ctx
                      <span class="string">"The name ~x0 is not defined, yet it was expected to be."</span>
                      (car lst))
                    nil))
                (<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="../../axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (fns seen)
                    (supporters-of-1 ev
                      min
                      max
                      <a class="sym-link system" href="../../axioms.html#def-macro-aliases" data-sym="MACRO-ALIASES">macro-aliases</a>
                      wrld
                      state-vars
                      seen)
                    (<a class="sym-link local-def" href="#def-supporters-of-rec" data-sym="SUPPORTERS-OF-REC" title="(defun supporters-of-rec
       (lst fal min max macro-aliases ctx wrld state-vars seen)
  (cond ((endp lst) (mv fal seen))
        (t
         (let ((constraint-lst
...">supporters-of-rec</a> (<a class="sym-link system" href="../../axioms.html#def-append" data-sym="APPEND">append</a> fns (cdr lst))
                      (hons-acons n ev fal)
                      min
                      max
                      <a class="sym-link system" href="../../axioms.html#def-macro-aliases" data-sym="MACRO-ALIASES">macro-aliases</a>
                      ctx
                      wrld
                      state-vars
                      seen)))))))))))</pre>
  </div>

<div class="form-block function" id="def-adjust-defun-for-symbol-class" data-defines="ADJUST-DEFUN-FOR-SYMBOL-CLASS" data-references="VERIFY-GUARDS,PROGN,OTHERWISE,XARGS,QUOTE,CADR,SYMBOL-CLASS,CASE,DECLARE,QUASIQUOTE,DCL,ADD-DCL-TO-DEFUN,FLET,WRLD,EV,DEFUN" data-used-by="ADJUST-EV-FOR-SYMBOL-CLASS" data-part-name="ADJUST-DEFUN-FOR-SYMBOL-CLASS" data-part-args="WRLD,EV" data-part-body="VERIFY-GUARDS,PROGN,OTHERWISE,XARGS,QUOTE,WRLD,CADR,SYMBOL-CLASS,CASE,DECLARE,QUASIQUOTE,EV,DCL,ADD-DCL-TO-DEFUN,FLET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ADJUST-DEFUN-FOR-SYMBOL-CLASS">adjust-defun-for-symbol-class</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-adjust-defun-for-symbol-class" data-sym="ADJUST-DEFUN-FOR-SYMBOL-CLASS" title="(defun adjust-defun-for-symbol-class (ev wrld)
  (flet ((add-dcl-to-defun (dcl ev)
           `(,(car ev) ,(cadr ev) ,(caddr ev) (declare ,dcl) ,@(cdddr ev))))
    (case (symbol-class (cadr ev) wrld)
      (:program (add-dcl-to-defun &#39;(xargs :mode :program) ev))
...">adjust-defun-for-symbol-class</a>
  (ev wrld)
  (flet ((add-dcl-to-defun (dcl ev)
       `(,(CAR EV) ,(CADR EV)
         ,(CADDR EV)
         (declare ,DCL)
         ,@(CDDDR EV))))
    (<a class="sym-link system" href="../../axioms.html#def-case" data-sym="CASE">case</a> (<a class="sym-link system" href="../../basis-b.html#def-symbol-class" data-sym="SYMBOL-CLASS">symbol-class</a> (<a class="sym-link system" href="../../axioms.html#def-cadr" data-sym="CADR">cadr</a> ev) wrld)
      (<span class="keyword">:program</span> (add-dcl-to-defun '(xargs <span class="keyword">:mode</span> <span class="keyword">:program</span>) ev))
      (<span class="keyword">:ideal</span> (add-dcl-to-defun '(xargs <span class="keyword">:mode</span> <span class="keyword">:logic</span> <span class="keyword">:verify-guards</span> nil)
          ev))
      (otherwise `(<a class="sym-link system" href="../../axioms.html#def-progn" data-sym="PROGN">progn</a> ,EV (<a class="sym-link system" href="../../axioms.html#def-verify-guards" data-sym="VERIFY-GUARDS">verify-guards</a> ,(CADR EV)))))))</pre>
  </div>

<div class="form-block function" id="def-adjust-encapsulate-for-symbol-class" data-defines="ADJUST-ENCAPSULATE-FOR-SYMBOL-CLASS" data-references="SET-VERIFY-GUARDS-EAGERNESS,QUASIQUOTE,T,EQL,NEW-VGE,DEFAULT-VERIFY-GUARDS-EAGERNESS,OLD-VGE,ABSOLUTE-EVENT-NUMBER,GETPROPC,EVENT,LOOKUP-WORLD-INDEX,WRLD-TAIL,LET*,COND,&,ENCAPSULATE,QUOTE,CASE-MATCH,NAME,LET,WRLD,EV,DEFUN" data-used-by="ADJUST-EV-FOR-SYMBOL-CLASS" data-part-name="ADJUST-ENCAPSULATE-FOR-SYMBOL-CLASS" data-part-args="WRLD,EV" data-part-body="SET-VERIFY-GUARDS-EAGERNESS,QUASIQUOTE,T,EQL,NEW-VGE,DEFAULT-VERIFY-GUARDS-EAGERNESS,OLD-VGE,WRLD,ABSOLUTE-EVENT-NUMBER,GETPROPC,EVENT,LOOKUP-WORLD-INDEX,WRLD-TAIL,LET*,COND,&,ENCAPSULATE,QUOTE,EV,CASE-MATCH,NAME,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ADJUST-ENCAPSULATE-FOR-SYMBOL-CLASS">adjust-encapsulate-for-symbol-class</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-adjust-encapsulate-for-symbol-class" data-sym="ADJUST-ENCAPSULATE-FOR-SYMBOL-CLASS" title="(defun adjust-encapsulate-for-symbol-class (ev wrld)
  (let ((name
         (case-match ev ((&#39;encapsulate (((name . &amp;) . &amp;) . &amp;) . &amp;) name)
                     ((&#39;encapsulate ((name . &amp;) . &amp;) . &amp;) name) (&amp; nil))))
    (cond
...">adjust-encapsulate-for-symbol-class</a>
  (ev wrld)
  (let ((name (<a class="sym-link system" href="../../basis-a.html#def-case-match" data-sym="CASE-MATCH">case-match</a> ev
         (('<a class="sym-link system" href="../../axioms.html#def-encapsulate" data-sym="ENCAPSULATE">encapsulate</a> (((name . &amp;) . &amp;) . &amp;) . &amp;) name)
         (('<a class="sym-link system" href="../../axioms.html#def-encapsulate" data-sym="ENCAPSULATE">encapsulate</a> ((name . &amp;) . &amp;) . &amp;) name)
         (&amp; nil))))
    (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> (name (<a class="sym-link system" href="../../axioms.html#def-let_2A" data-sym="LET*">let*</a> ((wrld-tail (lookup-world-index 'event
               (<a class="sym-link system" href="../../axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> name 'absolute-event-number <span class="number">0</span> wrld)
               wrld)) (old-vge (<a class="sym-link system" href="../../axioms.html#def-default-verify-guards-eagerness" data-sym="DEFAULT-VERIFY-GUARDS-EAGERNESS">default-verify-guards-eagerness</a> wrld-tail))
            (new-vge (<a class="sym-link system" href="../../axioms.html#def-default-verify-guards-eagerness" data-sym="DEFAULT-VERIFY-GUARDS-EAGERNESS">default-verify-guards-eagerness</a> wrld)))
          (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../axioms.html#def-eql" data-sym="EQL">eql</a> old-vge new-vge) ev)
            (<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> `(<a class="sym-link system" href="../../axioms.html#def-encapsulate" data-sym="ENCAPSULATE">encapsulate</a> nil (<a class="sym-link system" href="../../axioms.html#def-set-verify-guards-eagerness" data-sym="SET-VERIFY-GUARDS-EAGERNESS">set-verify-guards-eagerness</a> ,OLD-VGE) ,EV)))))
      (<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> ev))))</pre>
  </div>

<div class="form-block function" id="def-adjust-ev-for-symbol-class" data-defines="ADJUST-EV-FOR-SYMBOL-CLASS" data-references="OTHERWISE,ADJUST-ENCAPSULATE-FOR-SYMBOL-CLASS,PROGN,QUOTE,EQ,IF,CADR,DEF1,LET,MUTUAL-RECURSION,ADJUST-DEFUN-FOR-SYMBOL-CLASS,DEFUND-NX,DEFUN-NX,DEFUND,LOGIC,ENCAPSULATE,QUASIQUOTE,DEFCHOOSE,CAR,CASE,WRLD,EV,DEFUN" data-used-by="EVENTS-FROM-SUPPORTERS-FAL" data-part-name="ADJUST-EV-FOR-SYMBOL-CLASS" data-part-args="WRLD,EV" data-part-body="OTHERWISE,ADJUST-ENCAPSULATE-FOR-SYMBOL-CLASS,PROGN,QUOTE,EQ,IF,CADR,DEF1,LET,MUTUAL-RECURSION,WRLD,ADJUST-DEFUN-FOR-SYMBOL-CLASS,DEFUND-NX,DEFUN-NX,DEFUND,DEFUN,LOGIC,ENCAPSULATE,QUASIQUOTE,DEFCHOOSE,EV,CAR,CASE" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ADJUST-EV-FOR-SYMBOL-CLASS">adjust-ev-for-symbol-class</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-adjust-ev-for-symbol-class" data-sym="ADJUST-EV-FOR-SYMBOL-CLASS" title="(defun adjust-ev-for-symbol-class (ev wrld)
  (case (car ev)
    (defchoose `(encapsulate nil (logic) ,ev))
    ((defun defund defun-nx defund-nx) (adjust-defun-for-symbol-class ev wrld))
    (mutual-recursion
...">adjust-ev-for-symbol-class</a>
  (ev wrld)
  (<a class="sym-link system" href="../../axioms.html#def-case" data-sym="CASE">case</a> (car ev)
    (<a class="sym-link system" href="../../axioms.html#def-defchoose" data-sym="DEFCHOOSE">defchoose</a> `(<a class="sym-link system" href="../../axioms.html#def-encapsulate" data-sym="ENCAPSULATE">encapsulate</a> nil (<a class="sym-link system" href="../../axioms.html#def-logic" data-sym="LOGIC">logic</a>) ,EV))
    ((<a class="sym-link system" href="../../axioms.html#def-defun" data-sym="DEFUN">defun</a> defund <a class="sym-link system" href="../../axioms.html#def-defun-nx" data-sym="DEFUN-NX">defun-nx</a> <a class="sym-link system" href="../../axioms.html#def-defund-nx" data-sym="DEFUND-NX">defund-nx</a>) (<a class="sym-link local-def" href="#def-adjust-defun-for-symbol-class" data-sym="ADJUST-DEFUN-FOR-SYMBOL-CLASS" title="(defun adjust-defun-for-symbol-class (ev wrld)
  (flet ((add-dcl-to-defun (dcl ev)
           `(,(car ev) ,(cadr ev) ,(caddr ev) (declare ,dcl) ,@(cdddr ev))))
    (case (symbol-class (cadr ev) wrld)
      (:program (add-dcl-to-defun &#39;(xargs :mode :program) ev))
...">adjust-defun-for-symbol-class</a> ev wrld))
    (<a class="sym-link system" href="../../axioms.html#def-mutual-recursion" data-sym="MUTUAL-RECURSION">mutual-recursion</a> (let ((def1 (<a class="sym-link local-def" href="#def-adjust-defun-for-symbol-class" data-sym="ADJUST-DEFUN-FOR-SYMBOL-CLASS" title="(defun adjust-defun-for-symbol-class (ev wrld)
  (flet ((add-dcl-to-defun (dcl ev)
           `(,(car ev) ,(cadr ev) ,(caddr ev) (declare ,dcl) ,@(cdddr ev))))
    (case (symbol-class (cadr ev) wrld)
      (:program (add-dcl-to-defun &#39;(xargs :mode :program) ev))
...">adjust-defun-for-symbol-class</a> (<a class="sym-link system" href="../../axioms.html#def-cadr" data-sym="CADR">cadr</a> ev) wrld)))
        (if (<a class="sym-link system" href="../../axioms.html#def-eq" data-sym="EQ">eq</a> (car def1) '<a class="sym-link system" href="../../axioms.html#def-progn" data-sym="PROGN">progn</a>)
          `(<a class="sym-link system" href="../../axioms.html#def-progn" data-sym="PROGN">progn</a> ,EV ,(CADDR DEF1))
          `(<a class="sym-link system" href="../../axioms.html#def-mutual-recursion" data-sym="MUTUAL-RECURSION">mutual-recursion</a> ,DEF1 ,@(CDDR EV)))))
    (<a class="sym-link system" href="../../axioms.html#def-encapsulate" data-sym="ENCAPSULATE">encapsulate</a> (<a class="sym-link local-def" href="#def-adjust-encapsulate-for-symbol-class" data-sym="ADJUST-ENCAPSULATE-FOR-SYMBOL-CLASS" title="(defun adjust-encapsulate-for-symbol-class (ev wrld)
  (let ((name
         (case-match ev ((&#39;encapsulate (((name . &amp;) . &amp;) . &amp;) . &amp;) name)
                     ((&#39;encapsulate ((name . &amp;) . &amp;) . &amp;) name) (&amp; nil))))
    (cond
...">adjust-encapsulate-for-symbol-class</a> ev wrld))
    (otherwise ev)))</pre>
  </div>

<div class="form-block function" id="def-events-from-supporters-fal" data-defines="EVENTS-FROM-SUPPORTERS-FAL" data-references="ADJUST-EV-FOR-SYMBOL-CLASS,CONS,T,CDR,GET-EVENT-LOCAL-P,NOT,CAR,<=,AND,REVERSE,CAAR,<,ENDP,OR,COND,ACC,WRLD,MAX,MIN,PAIRS,DEFUN" data-used-by="SUPPORTERS-OF" data-part-name="EVENTS-FROM-SUPPORTERS-FAL" data-part-args="ACC,WRLD,MAX,MIN,PAIRS" data-part-body="ADJUST-EV-FOR-SYMBOL-CLASS,CONS,T,CDR,EVENTS-FROM-SUPPORTERS-FAL,WRLD,GET-EVENT-LOCAL-P,NOT,MIN,CAR,<=,AND,ACC,REVERSE,CAAR,MAX,<,PAIRS,ENDP,OR,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="EVENTS-FROM-SUPPORTERS-FAL">events-from-supporters-fal</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-events-from-supporters-fal" data-sym="EVENTS-FROM-SUPPORTERS-FAL" title="(defun events-from-supporters-fal (pairs min max wrld acc)
  (cond ((or (endp pairs) (&lt; max (caar pairs))) (reverse acc))
        ((and (&lt;= (car (car pairs)) min)
              (not (get-event-local-p (car (car pairs)) wrld)))
         (events-from-supporters-fal (cdr pairs) min max wrld acc))
...">events-from-supporters-fal</a>
  (pairs min max wrld acc)
  (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="../../axioms.html#def-endp" data-sym="ENDP">endp</a> pairs) (&lt; max (<a class="sym-link system" href="../../axioms.html#def-caar" data-sym="CAAR">caar</a> pairs))) (<a class="sym-link system" href="../../axioms.html#def-reverse" data-sym="REVERSE">reverse</a> acc))
    ((<a class="sym-link system" href="../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> (car (car pairs)) min)
       (<a class="sym-link system" href="../../axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link local-def" href="#def-get-event-local-p" data-sym="GET-EVENT-LOCAL-P" title="(defun get-event-local-p (n wrld)
  (let ((event-tuple (cddr (car (lookup-world-index &#39;event n wrld)))))
    (and event-tuple (access-event-tuple-local-p event-tuple))))">get-event-local-p</a> (car (car pairs)) wrld))) (<a class="sym-link local-def" href="#def-events-from-supporters-fal" data-sym="EVENTS-FROM-SUPPORTERS-FAL" title="(defun events-from-supporters-fal (pairs min max wrld acc)
  (cond ((or (endp pairs) (&lt; max (caar pairs))) (reverse acc))
        ((and (&lt;= (car (car pairs)) min)
              (not (get-event-local-p (car (car pairs)) wrld)))
         (events-from-supporters-fal (cdr pairs) min max wrld acc))
...">events-from-supporters-fal</a> (cdr pairs) min max wrld acc))
    (<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-events-from-supporters-fal" data-sym="EVENTS-FROM-SUPPORTERS-FAL" title="(defun events-from-supporters-fal (pairs min max wrld acc)
  (cond ((or (endp pairs) (&lt; max (caar pairs))) (reverse acc))
        ((and (&lt;= (car (car pairs)) min)
              (not (get-event-local-p (car (car pairs)) wrld)))
         (events-from-supporters-fal (cdr pairs) min max wrld acc))
...">events-from-supporters-fal</a> (cdr pairs)
        min
        max
        wrld
        (cons (<a class="sym-link local-def" href="#def-adjust-ev-for-symbol-class" data-sym="ADJUST-EV-FOR-SYMBOL-CLASS" title="(defun adjust-ev-for-symbol-class (ev wrld)
  (case (car ev)
    (defchoose `(encapsulate nil (logic) ,ev))
    ((defun defund defun-nx defund-nx) (adjust-defun-for-symbol-class ev wrld))
    (mutual-recursion
...">adjust-ev-for-symbol-class</a> (cdr (car pairs)) wrld)
          acc)))))</pre>
  </div>

<div class="form-block function" id="def-get-defattach-event-fn" data-defines="GET-DEFATTACH-EVENT-FN" data-references="&,F,DEFATTACH,QUOTE,CASE-MATCH,EV,DEFUN" data-used-by="DEFATTACH-EVENT-LST" data-part-name="GET-DEFATTACH-EVENT-FN" data-part-args="EV" data-part-body="&,F,DEFATTACH,QUOTE,EV,CASE-MATCH" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="GET-DEFATTACH-EVENT-FN">get-defattach-event-fn</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-get-defattach-event-fn" data-sym="GET-DEFATTACH-EVENT-FN" title="(defun get-defattach-event-fn (ev)
  (case-match ev ((&#39;defattach (f . &amp;) . &amp;) f) ((&#39;defattach f &amp;) f) (&amp; nil)))">get-defattach-event-fn</a>
  (ev)
  (<a class="sym-link system" href="../../basis-a.html#def-case-match" data-sym="CASE-MATCH">case-match</a> ev
    (('<a class="sym-link system" href="../../axioms.html#def-defattach" data-sym="DEFATTACH">defattach</a> (f . &amp;) . &amp;) f)
    (('<a class="sym-link system" href="../../axioms.html#def-defattach" data-sym="DEFATTACH">defattach</a> f &amp;) f)
    (&amp; nil)))</pre>
  </div>

<div class="form-block function" id="def-defattach-event-lst" data-defines="DEFATTACH-EVENT-LST" data-references="CONS,MEMBER-EQ,GET-DEFATTACH-EVENT-FN,FN,EV,LET*,T,CDR,DEFATTACH,ACCESS-EVENT-TUPLE-FORM,NOT,>,OR,CDDR,ACCESS-EVENT-TUPLE-NUMBER,<=,GLOBAL-VALUE,CADR,EVENT-LANDMARK,QUOTE,EQ,AND,COND,CAR,TRIP,LET,SEEN,ACC,MAX,MIN,FNS,WRLD,DEFUN" data-used-by="SUPPORTERS-OF" data-part-name="DEFATTACH-EVENT-LST" data-part-args="SEEN,ACC,MAX,MIN,FNS,WRLD" data-part-body="CONS,MEMBER-EQ,GET-DEFATTACH-EVENT-FN,FN,EV,LET*,T,SEEN,FNS,CDR,DEFATTACH-EVENT-LST,DEFATTACH,ACCESS-EVENT-TUPLE-FORM,NOT,MAX,>,OR,ACC,MIN,CDDR,ACCESS-EVENT-TUPLE-NUMBER,<=,GLOBAL-VALUE,CADR,EVENT-LANDMARK,QUOTE,EQ,AND,COND,WRLD,CAR,TRIP,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFATTACH-EVENT-LST">defattach-event-lst</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-defattach-event-lst" data-sym="DEFATTACH-EVENT-LST" title="(defun defattach-event-lst (wrld fns min max acc seen)
  (let ((trip (car wrld)))
    (cond
     ((and (eq (car trip) &#39;event-landmark) (eq (cadr trip) &#39;global-value))
      (cond ((&lt;= (access-event-tuple-number (cddr trip)) min) acc)
...">defattach-event-lst</a>
  (wrld fns min max acc seen)
  (let ((trip (car wrld)))
    (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../axioms.html#def-eq" data-sym="EQ">eq</a> (car trip) 'event-landmark)
         (<a class="sym-link system" href="../../axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="../../axioms.html#def-cadr" data-sym="CADR">cadr</a> trip) 'global-value)) (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> (access-event-tuple-number (<a class="sym-link system" href="../../axioms.html#def-cddr" data-sym="CDDR">cddr</a> trip)) min) acc)
          ((<a class="sym-link system" href="../../axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="../../axioms.html#def-_3E" data-sym="&gt;">&gt;</a> (access-event-tuple-number (<a class="sym-link system" href="../../axioms.html#def-cddr" data-sym="CDDR">cddr</a> trip)) max)
             (<a class="sym-link system" href="../../axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="../../axioms.html#def-eq" data-sym="EQ">eq</a> (car (access-event-tuple-form (<a class="sym-link system" href="../../axioms.html#def-cddr" data-sym="CDDR">cddr</a> trip))) '<a class="sym-link system" href="../../axioms.html#def-defattach" data-sym="DEFATTACH">defattach</a>))) (<a class="sym-link local-def" href="#def-defattach-event-lst" data-sym="DEFATTACH-EVENT-LST" title="(defun defattach-event-lst (wrld fns min max acc seen)
  (let ((trip (car wrld)))
    (cond
     ((and (eq (car trip) &#39;event-landmark) (eq (cadr trip) &#39;global-value))
      (cond ((&lt;= (access-event-tuple-number (cddr trip)) min) acc)
...">defattach-event-lst</a> (cdr wrld) fns min max acc seen))
          (<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="../../axioms.html#def-let_2A" data-sym="LET*">let*</a> ((ev (access-event-tuple-form (<a class="sym-link system" href="../../axioms.html#def-cddr" data-sym="CDDR">cddr</a> trip))) (fn (<a class="sym-link local-def" href="#def-get-defattach-event-fn" data-sym="GET-DEFATTACH-EVENT-FN" title="(defun get-defattach-event-fn (ev)
  (case-match ev ((&#39;defattach (f . &amp;) . &amp;) f) ((&#39;defattach f &amp;) f) (&amp; nil)))">get-defattach-event-fn</a> ev)))
              (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../axioms.html#def-and" data-sym="AND">and</a> fn (<a class="sym-link system" href="../../axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="../../axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> fn seen)) (<a class="sym-link system" href="../../axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> fn fns)) (<a class="sym-link local-def" href="#def-defattach-event-lst" data-sym="DEFATTACH-EVENT-LST" title="(defun defattach-event-lst (wrld fns min max acc seen)
  (let ((trip (car wrld)))
    (cond
     ((and (eq (car trip) &#39;event-landmark) (eq (cadr trip) &#39;global-value))
      (cond ((&lt;= (access-event-tuple-number (cddr trip)) min) acc)
...">defattach-event-lst</a> (cdr wrld)
                    fns
                    min
                    max
                    (cons ev acc)
                    (cons fn seen)))
                (<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-defattach-event-lst" data-sym="DEFATTACH-EVENT-LST" title="(defun defattach-event-lst (wrld fns min max acc seen)
  (let ((trip (car wrld)))
    (cond
     ((and (eq (car trip) &#39;event-landmark) (eq (cadr trip) &#39;global-value))
      (cond ((&lt;= (access-event-tuple-number (cddr trip)) min) acc)
...">defattach-event-lst</a> (cdr wrld) fns min max acc seen)))))))
      (<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-defattach-event-lst" data-sym="DEFATTACH-EVENT-LST" title="(defun defattach-event-lst (wrld fns min max acc seen)
  (let ((trip (car wrld)))
    (cond
     ((and (eq (car trip) &#39;event-landmark) (eq (cadr trip) &#39;global-value))
      (cond ((&lt;= (access-event-tuple-number (cddr trip)) min) acc)
...">defattach-event-lst</a> (cdr wrld) fns min max acc seen)))))</pre>
  </div>

<div class="form-block function" id="def-supporter-fns-in-range-or-local" data-defines="SUPPORTER-FNS-IN-RANGE-OR-LOCAL" data-references="CONS,GET-EVENT-LOCAL-P,<,<=,AND,ABSOLUTE-EVENT-NUMBER,QUOTE,GETPROPC,N,LET,CAAR,FUNCTION-SYMBOLP,NOT,OR,IF,CDR,T,ENDP,COND,ACC,WRLD,MAX,MIN,ALIST,DEFUN" data-used-by="SUPPORTERS-OF" data-part-name="SUPPORTER-FNS-IN-RANGE-OR-LOCAL" data-part-args="ACC,WRLD,MAX,MIN,ALIST" data-part-body="CONS,GET-EVENT-LOCAL-P,<,<=,AND,ABSOLUTE-EVENT-NUMBER,QUOTE,GETPROPC,N,LET,CAAR,FUNCTION-SYMBOLP,NOT,OR,IF,WRLD,MAX,MIN,CDR,SUPPORTER-FNS-IN-RANGE-OR-LOCAL,T,ACC,ALIST,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="SUPPORTER-FNS-IN-RANGE-OR-LOCAL">supporter-fns-in-range-or-local</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-supporter-fns-in-range-or-local" data-sym="SUPPORTER-FNS-IN-RANGE-OR-LOCAL" title="(defun supporter-fns-in-range-or-local (alist min max wrld acc)
  (cond ((endp alist) acc)
        (t
         (supporter-fns-in-range-or-local (cdr alist) min max wrld
          (if (or (not (function-symbolp (caar alist) wrld))
...">supporter-fns-in-range-or-local</a>
  (alist min max wrld acc)
  (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../axioms.html#def-endp" data-sym="ENDP">endp</a> alist) acc)
    (<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-supporter-fns-in-range-or-local" data-sym="SUPPORTER-FNS-IN-RANGE-OR-LOCAL" title="(defun supporter-fns-in-range-or-local (alist min max wrld acc)
  (cond ((endp alist) acc)
        (t
         (supporter-fns-in-range-or-local (cdr alist) min max wrld
          (if (or (not (function-symbolp (caar alist) wrld))
...">supporter-fns-in-range-or-local</a> (cdr alist)
        min
        max
        wrld
        (if (<a class="sym-link system" href="../../axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="../../axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="../../axioms.html#def-function-symbolp" data-sym="FUNCTION-SYMBOLP">function-symbolp</a> (<a class="sym-link system" href="../../axioms.html#def-caar" data-sym="CAAR">caar</a> alist) wrld))
            (let ((n (<a class="sym-link system" href="../../axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> (<a class="sym-link system" href="../../axioms.html#def-caar" data-sym="CAAR">caar</a> alist) 'absolute-event-number nil wrld)))
              (<a class="sym-link system" href="../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> n min) (&lt; max n))
                (<a class="sym-link system" href="../../axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link local-def" href="#def-get-event-local-p" data-sym="GET-EVENT-LOCAL-P" title="(defun get-event-local-p (n wrld)
  (let ((event-tuple (cddr (car (lookup-world-index &#39;event n wrld)))))
    (and event-tuple (access-event-tuple-local-p event-tuple))))">get-event-local-p</a> n wrld)))))
          acc
          (cons (<a class="sym-link system" href="../../axioms.html#def-caar" data-sym="CAAR">caar</a> alist) acc))))))</pre>
  </div>

<div class="form-block function" id="def-supporters-of" data-defines="SUPPORTERS-OF" data-references="DEFATTACH-EVENT-LST,EVENTS-FROM-SUPPORTERS-FAL,APPEND?,CONS,SUPPORTER-FNS-IN-RANGE-OR-LOCAL,FNS,FAST-ALIST-FREE,MERGE-SORT-CAR-<,X,LET*,MACRO-ALIASES,SUPPORTERS-OF-REC,SEEN,FAL,MV-LET,STATE-VARS,WRLD,CTX,MAX,MIN,LST,DEFUN" data-used-by="WITH-SUPPORTERS-AFTER-FN,WITH-SUPPORTERS-FN" data-part-name="SUPPORTERS-OF" data-part-args="STATE-VARS,WRLD,CTX,MAX,MIN,LST" data-part-body="DEFATTACH-EVENT-LST,EVENTS-FROM-SUPPORTERS-FAL,APPEND?,CONS,SUPPORTER-FNS-IN-RANGE-OR-LOCAL,FNS,FAST-ALIST-FREE,MERGE-SORT-CAR-<,X,LET*,STATE-VARS,CTX,WRLD,MACRO-ALIASES,MAX,MIN,LST,SUPPORTERS-OF-REC,SEEN,FAL,MV-LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="SUPPORTERS-OF">supporters-of</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-supporters-of" data-sym="SUPPORTERS-OF" title="(defun supporters-of (lst min max ctx wrld state-vars)
  (mv-let (fal seen)
          (supporters-of-rec lst nil min max (macro-aliases wrld) ctx wrld
           state-vars nil)
          (let* ((x (merge-sort-car-&lt; (fast-alist-free fal)))
...">supporters-of</a>
  (lst min max ctx wrld state-vars)
  (<a class="sym-link system" href="../../axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (fal seen)
    (<a class="sym-link local-def" href="#def-supporters-of-rec" data-sym="SUPPORTERS-OF-REC" title="(defun supporters-of-rec
       (lst fal min max macro-aliases ctx wrld state-vars seen)
  (cond ((endp lst) (mv fal seen))
        (t
         (let ((constraint-lst
...">supporters-of-rec</a> lst
      nil
      min
      max
      (<a class="sym-link system" href="../../axioms.html#def-macro-aliases" data-sym="MACRO-ALIASES">macro-aliases</a> wrld)
      ctx
      wrld
      state-vars
      nil)
    (<a class="sym-link system" href="../../axioms.html#def-let_2A" data-sym="LET*">let*</a> ((x (merge-sort-car-&lt; (fast-alist-free fal))) (fns (<a class="sym-link local-def" href="#def-supporter-fns-in-range-or-local" data-sym="SUPPORTER-FNS-IN-RANGE-OR-LOCAL" title="(defun supporter-fns-in-range-or-local (alist min max wrld acc)
  (cond ((endp alist) acc)
        (t
         (supporter-fns-in-range-or-local (cdr alist) min max wrld
          (if (or (not (function-symbolp (caar alist) wrld))
...">supporter-fns-in-range-or-local</a> (fast-alist-free seen)
            min
            max
            wrld
            nil)))
      (cons (<a class="sym-link system" href="../../axioms.html#def-append_3F" data-sym="APPEND?">append?</a> (<a class="sym-link local-def" href="#def-events-from-supporters-fal" data-sym="EVENTS-FROM-SUPPORTERS-FAL" title="(defun events-from-supporters-fal (pairs min max wrld acc)
  (cond ((or (endp pairs) (&lt; max (caar pairs))) (reverse acc))
        ((and (&lt;= (car (car pairs)) min)
              (not (get-event-local-p (car (car pairs)) wrld)))
         (events-from-supporters-fal (cdr pairs) min max wrld acc))
...">events-from-supporters-fal</a> x min max wrld nil)
          (<a class="sym-link local-def" href="#def-defattach-event-lst" data-sym="DEFATTACH-EVENT-LST" title="(defun defattach-event-lst (wrld fns min max acc seen)
  (let ((trip (car wrld)))
    (cond
     ((and (eq (car trip) &#39;event-landmark) (eq (cadr trip) &#39;global-value))
      (cond ((&lt;= (access-event-tuple-number (cddr trip)) min) acc)
...">defattach-event-lst</a> wrld fns min max nil nil))
        fns))))</pre>
  </div>

<div class="form-block function" id="def-table-info-after-k" data-defines="TABLE-INFO-AFTER-K" data-references="ALL-FNNAMES1,*ACL2-PROPERTY-UNBOUND*,TABLE-GUARD,CDR,QUASIQUOTE,ASSOC-EQ-CADR,XDOC,ACL2-DEFAULTS-TABLE,NOT,CONS,MEMBER-EQ,OR,PE-TABLE,&,NAME,TABLE,CASE-MATCH,ACCESS-EVENT-TUPLE-FORM,EV,LET*,T,MV,CDDR,ACCESS-EVENT-TUPLE-NUMBER,<=,GLOBAL-VALUE,CADR,EVENT-LANDMARK,QUOTE,EQ,AND,COND,CAR,TRIP,LET,TABLE-GUARD-FNS,EVS,K,WRLD,NAMES,DEFUN" data-used-by="WITH-SUPPORTERS-FN" data-part-name="TABLE-INFO-AFTER-K" data-part-args="TABLE-GUARD-FNS,EVS,K,WRLD,NAMES" data-part-body="ALL-FNNAMES1,*ACL2-PROPERTY-UNBOUND*,TABLE-GUARD,CDR,TABLE-INFO-AFTER-K,QUASIQUOTE,ASSOC-EQ-CADR,XDOC,ACL2-DEFAULTS-TABLE,NOT,CONS,MEMBER-EQ,NAMES,OR,PE-TABLE,&,NAME,TABLE,CASE-MATCH,ACCESS-EVENT-TUPLE-FORM,EV,LET*,T,TABLE-GUARD-FNS,EVS,MV,K,CDDR,ACCESS-EVENT-TUPLE-NUMBER,<=,GLOBAL-VALUE,CADR,EVENT-LANDMARK,QUOTE,EQ,AND,COND,WRLD,CAR,TRIP,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="TABLE-INFO-AFTER-K">table-info-after-k</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-table-info-after-k" data-sym="TABLE-INFO-AFTER-K" title="(defun table-info-after-k (names wrld k evs table-guard-fns)
  (let ((trip (car wrld)))
    (cond
     ((and (eq (car trip) &#39;event-landmark) (eq (cadr trip) &#39;global-value))
      (cond
...">table-info-after-k</a>
  (names wrld k evs table-guard-fns)
  (let ((trip (car wrld)))
    (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../axioms.html#def-eq" data-sym="EQ">eq</a> (car trip) 'event-landmark)
         (<a class="sym-link system" href="../../axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="../../axioms.html#def-cadr" data-sym="CADR">cadr</a> trip) 'global-value)) (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> (access-event-tuple-number (<a class="sym-link system" href="../../axioms.html#def-cddr" data-sym="CDDR">cddr</a> trip)) k) (<a class="sym-link system" href="../../axioms.html#def-mv" data-sym="MV">mv</a> evs table-guard-fns))
          (<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="../../axioms.html#def-let_2A" data-sym="LET*">let*</a> ((ev (access-event-tuple-form (<a class="sym-link system" href="../../axioms.html#def-cddr" data-sym="CDDR">cddr</a> trip))) (evs (<a class="sym-link system" href="../../basis-a.html#def-case-match" data-sym="CASE-MATCH">case-match</a> ev
                    (('<a class="sym-link system" href="../../axioms.html#def-table" data-sym="TABLE">table</a> name nil nil <span class="keyword">:guard</span> &amp;) (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../axioms.html#def-eq" data-sym="EQ">eq</a> name 'pe-table) evs)
                        ((<a class="sym-link system" href="../../axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="../../axioms.html#def-eq" data-sym="EQ">eq</a> names <span class="keyword">:all</span>) (<a class="sym-link system" href="../../axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> name names)) (cons ev evs))
                        (<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> evs)))
                    (('<a class="sym-link system" href="../../axioms.html#def-table" data-sym="TABLE">table</a> name . &amp;) (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../axioms.html#def-eq" data-sym="EQ">eq</a> name 'pe-table) evs)
                        ((<a class="sym-link system" href="../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="../../axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> name '(acl2-defaults-table xdoc)))
                           (<a class="sym-link system" href="../../axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="../../axioms.html#def-eq" data-sym="EQ">eq</a> names <span class="keyword">:all</span>) (<a class="sym-link system" href="../../axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> name names))
                           (<a class="sym-link system" href="../../axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="../../axioms.html#def-assoc-eq-cadr" data-sym="ASSOC-EQ-CADR">assoc-eq-cadr</a> name evs))) (cons `(<a class="sym-link system" href="../../axioms.html#def-table" data-sym="TABLE">table</a> ,NAME nil ',(TABLE-ALIST NAME WRLD) <span class="keyword">:clear</span>)
                            evs))
                        (<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> evs)))
                    (&amp; evs))))
              (<a class="sym-link local-def" href="#def-table-info-after-k" data-sym="TABLE-INFO-AFTER-K" title="(defun table-info-after-k (names wrld k evs table-guard-fns)
  (let ((trip (car wrld)))
    (cond
     ((and (eq (car trip) &#39;event-landmark) (eq (cadr trip) &#39;global-value))
      (cond
...">table-info-after-k</a> names (cdr wrld) k evs table-guard-fns)))))
      ((<a class="sym-link system" href="../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="../../axioms.html#def-cadr" data-sym="CADR">cadr</a> trip) 'table-guard)
         (<a class="sym-link system" href="../../axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="../../axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="../../axioms.html#def-cddr" data-sym="CDDR">cddr</a> trip) <a class="sym-link system" href="../../axioms.html#def-_2Aacl2-property-unbound_2A" data-sym="*ACL2-PROPERTY-UNBOUND*">*acl2-property-unbound*</a>))) (<a class="sym-link local-def" href="#def-table-info-after-k" data-sym="TABLE-INFO-AFTER-K" title="(defun table-info-after-k (names wrld k evs table-guard-fns)
  (let ((trip (car wrld)))
    (cond
     ((and (eq (car trip) &#39;event-landmark) (eq (cadr trip) &#39;global-value))
      (cond
...">table-info-after-k</a> names
          (cdr wrld)
          k
          evs
          (all-fnnames1 nil (<a class="sym-link system" href="../../axioms.html#def-cddr" data-sym="CDDR">cddr</a> trip) table-guard-fns)))
      (<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-table-info-after-k" data-sym="TABLE-INFO-AFTER-K" title="(defun table-info-after-k (names wrld k evs table-guard-fns)
  (let ((trip (car wrld)))
    (cond
     ((and (eq (car trip) &#39;event-landmark) (eq (cadr trip) &#39;global-value))
      (cond
...">table-info-after-k</a> names (cdr wrld) k evs table-guard-fns)))))</pre>
  </div>

<div class="form-block function" id="def-supporters-in-theory-event" data-defines="SUPPORTERS-IN-THEORY-EVENT" data-references="DISABLEDP-FN,APPEND,ABSOLUTE-EVENT-NUMBER,QUOTE,CAR,GETPROPC,<=,IF,CDR,T,DISABLE,IN-THEORY,QUASIQUOTE,AND,ENDP,COND,DISABLES,MIN,WRLD,ENS,FNS,DEFUN" data-used-by="WITH-SUPPORTERS-AFTER-FN,WITH-SUPPORTERS-FN" data-part-name="SUPPORTERS-IN-THEORY-EVENT" data-part-args="DISABLES,MIN,WRLD,ENS,FNS" data-part-body="DISABLEDP-FN,APPEND,ABSOLUTE-EVENT-NUMBER,QUOTE,CAR,GETPROPC,<=,IF,MIN,WRLD,ENS,CDR,SUPPORTERS-IN-THEORY-EVENT,T,DISABLE,IN-THEORY,QUASIQUOTE,DISABLES,AND,FNS,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="SUPPORTERS-IN-THEORY-EVENT">supporters-in-theory-event</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-supporters-in-theory-event" data-sym="SUPPORTERS-IN-THEORY-EVENT" title="(defun supporters-in-theory-event (fns ens wrld min disables)
  (cond ((endp fns) (and disables `(in-theory (disable ,@disables))))
        (t
         (supporters-in-theory-event (cdr fns) ens wrld min
          (if (and min
...">supporters-in-theory-event</a>
  (fns ens wrld min disables)
  (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../axioms.html#def-endp" data-sym="ENDP">endp</a> fns) (<a class="sym-link system" href="../../axioms.html#def-and" data-sym="AND">and</a> disables `(<a class="sym-link system" href="../../axioms.html#def-in-theory" data-sym="IN-THEORY">in-theory</a> (disable ,@DISABLES))))
    (<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-supporters-in-theory-event" data-sym="SUPPORTERS-IN-THEORY-EVENT" title="(defun supporters-in-theory-event (fns ens wrld min disables)
  (cond ((endp fns) (and disables `(in-theory (disable ,@disables))))
        (t
         (supporters-in-theory-event (cdr fns) ens wrld min
          (if (and min
...">supporters-in-theory-event</a> (cdr fns)
        ens
        wrld
        min
        (if (<a class="sym-link system" href="../../axioms.html#def-and" data-sym="AND">and</a> min
            (<a class="sym-link system" href="../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> (<a class="sym-link system" href="../../axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> (car fns) 'absolute-event-number nil wrld)
              min))
          disables
          (<a class="sym-link system" href="../../axioms.html#def-append" data-sym="APPEND">append</a> (<a class="sym-link system" href="../../defthm.html#def-disabledp-fn" data-sym="DISABLEDP-FN">disabledp-fn</a> (car fns) ens wrld) disables))))))</pre>
  </div>

<div class="form-block macro" id="def-wsa-er" data-defines="WSA-ER" data-references="WITH-SUPPORTERS,QUOTE,HARD,ER,MV,QUASIQUOTE,ARGS,&REST,STR,DEFMACRO" data-used-by="WITH-SUPPORTERS-ARGS" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="WSA-ER">wsa-er</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-wsa-er" data-sym="WSA-ER" title="(defmacro wsa-er (str &amp;rest args)
  `(mv (er hard &#39;with-supporters ,str ,@args) nil nil nil nil))">wsa-er</a>
  (str &amp;rest <a class="sym-link system" href="../../defuns.html#def-args" data-sym="ARGS">args</a>)
  `(<a class="sym-link system" href="../../axioms.html#def-mv" data-sym="MV">mv</a> (<a class="sym-link system" href="../../axioms.html#def-er" data-sym="ER">er</a> hard '<a class="sym-link local-def" href="#def-with-supporters" data-sym="WITH-SUPPORTERS" title="(defmacro with-supporters (local-event &amp;rest rest)
  (with-supporters-fn local-event rest))">with-supporters</a> ,STR ,@ARGS) nil nil nil nil))</pre>
  </div>

<div class="form-block constant" id="def-_2Awith-supporters-with-output-default_2A" data-defines="*WITH-SUPPORTERS-WITH-OUTPUT-DEFAULT*" data-references="ERROR,QUOTE,DEFCONST" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="*WITH-SUPPORTERS-WITH-OUTPUT-DEFAULT*">*with-supporters-with-output-default*</span><span class="form-type">constant</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-defconst" data-sym="DEFCONST">defconst</a> <a class="sym-link local-def" href="#def-_2Awith-supporters-with-output-default_2A" data-sym="*WITH-SUPPORTERS-WITH-OUTPUT-DEFAULT*" title="(defconst *with-supporters-with-output-default* &#39;(:off :all :on (error)))">*with-supporters-with-output-default*</a>
  '(<span class="keyword">:off</span> <span class="keyword">:all</span> <span class="keyword">:on</span> (error)))</pre>
  </div>

<div class="form-block function" id="def-with-supporters-args" data-defines="WITH-SUPPORTERS-ARGS" data-references="ATOM,KEYWORD-VALUE-LISTP,MEMBER-EQ,OR,CDDR,T,CADR,SYMBOL-LISTP,NOT,WSA-ER,CDR,CAR,EQ,ERROR,QUOTE,IF,MV,NULL,COND,WITH-OUTPUT-P,WITH-OUTPUT,SHOW,TABLES,NAMES,EVENTS,DEFUN" data-used-by="WITH-SUPPORTERS-FN" data-part-name="WITH-SUPPORTERS-ARGS" data-part-args="WITH-OUTPUT-P,WITH-OUTPUT,SHOW,TABLES,NAMES,EVENTS" data-part-body="ATOM,KEYWORD-VALUE-LISTP,MEMBER-EQ,OR,CDDR,WITH-SUPPORTERS-ARGS,T,CADR,SYMBOL-LISTP,NOT,WSA-ER,CDR,CAR,EQ,ERROR,QUOTE,WITH-OUTPUT,WITH-OUTPUT-P,IF,SHOW,TABLES,NAMES,MV,EVENTS,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="WITH-SUPPORTERS-ARGS">with-supporters-args</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-with-supporters-args" data-sym="WITH-SUPPORTERS-ARGS" title="(defun with-supporters-args
       (events names tables show with-output with-output-p)
  (cond
   ((null events)
    (mv names tables show
...">with-supporters-args</a>
  (events names tables show <a class="sym-link system" href="../../axioms.html#def-with-output" data-sym="WITH-OUTPUT">with-output</a> with-output-p)
  (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../axioms.html#def-null" data-sym="NULL">null</a> events) (<a class="sym-link system" href="../../axioms.html#def-mv" data-sym="MV">mv</a> names
        tables
        show
        (if with-output-p
          <a class="sym-link system" href="../../axioms.html#def-with-output" data-sym="WITH-OUTPUT">with-output</a>
          '(<span class="keyword">:off</span> <span class="keyword">:all</span> <span class="keyword">:on</span> error))
        nil))
    ((<a class="sym-link system" href="../../axioms.html#def-eq" data-sym="EQ">eq</a> (car events) <span class="keyword">:names</span>) (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../axioms.html#def-null" data-sym="NULL">null</a> (cdr events)) (<a class="sym-link local-def" href="#def-wsa-er" data-sym="WSA-ER" title="(defmacro wsa-er (str &amp;rest args)
  `(mv (er hard &#39;with-supporters ,str ,@args) nil nil nil nil))">wsa-er</a> <span class="string">"No argument was supplied for :NAMES."</span>))
        ((<a class="sym-link system" href="../../axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="../../axioms.html#def-symbol-listp" data-sym="SYMBOL-LISTP">symbol-listp</a> (<a class="sym-link system" href="../../axioms.html#def-cadr" data-sym="CADR">cadr</a> events))) (<a class="sym-link local-def" href="#def-wsa-er" data-sym="WSA-ER" title="(defmacro wsa-er (str &amp;rest args)
  `(mv (er hard &#39;with-supporters ,str ,@args) nil nil nil nil))">wsa-er</a> <span class="string">"The value of :NAMES must be a list of symbols, which ~
                         ~x0 is not."</span>
            (<a class="sym-link system" href="../../axioms.html#def-cadr" data-sym="CADR">cadr</a> events)))
        (<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-with-supporters-args" data-sym="WITH-SUPPORTERS-ARGS" title="(defun with-supporters-args
       (events names tables show with-output with-output-p)
  (cond
   ((null events)
    (mv names tables show
...">with-supporters-args</a> (<a class="sym-link system" href="../../axioms.html#def-cddr" data-sym="CDDR">cddr</a> events)
            (<a class="sym-link system" href="../../axioms.html#def-cadr" data-sym="CADR">cadr</a> events)
            tables
            show
            <a class="sym-link system" href="../../axioms.html#def-with-output" data-sym="WITH-OUTPUT">with-output</a>
            with-output-p))))
    ((<a class="sym-link system" href="../../axioms.html#def-eq" data-sym="EQ">eq</a> (car events) <span class="keyword">:tables</span>) (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../axioms.html#def-null" data-sym="NULL">null</a> (cdr events)) (<a class="sym-link local-def" href="#def-wsa-er" data-sym="WSA-ER" title="(defmacro wsa-er (str &amp;rest args)
  `(mv (er hard &#39;with-supporters ,str ,@args) nil nil nil nil))">wsa-er</a> <span class="string">"No argument was supplied for :TABLES."</span>))
        ((<a class="sym-link system" href="../../axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="../../axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="../../axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="../../axioms.html#def-cadr" data-sym="CADR">cadr</a> events) <span class="keyword">:all</span>) (<a class="sym-link system" href="../../axioms.html#def-symbol-listp" data-sym="SYMBOL-LISTP">symbol-listp</a> (<a class="sym-link system" href="../../axioms.html#def-cadr" data-sym="CADR">cadr</a> events)))) (<a class="sym-link local-def" href="#def-wsa-er" data-sym="WSA-ER" title="(defmacro wsa-er (str &amp;rest args)
  `(mv (er hard &#39;with-supporters ,str ,@args) nil nil nil nil))">wsa-er</a> <span class="string">"The value of :TABLES must be :ALL or a list of ~
                         symbols, but ~x0 is neither."</span>
            (<a class="sym-link system" href="../../axioms.html#def-cadr" data-sym="CADR">cadr</a> events)))
        (<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-with-supporters-args" data-sym="WITH-SUPPORTERS-ARGS" title="(defun with-supporters-args
       (events names tables show with-output with-output-p)
  (cond
   ((null events)
    (mv names tables show
...">with-supporters-args</a> (<a class="sym-link system" href="../../axioms.html#def-cddr" data-sym="CDDR">cddr</a> events)
            names
            (<a class="sym-link system" href="../../axioms.html#def-cadr" data-sym="CADR">cadr</a> events)
            show
            <a class="sym-link system" href="../../axioms.html#def-with-output" data-sym="WITH-OUTPUT">with-output</a>
            with-output-p))))
    ((<a class="sym-link system" href="../../axioms.html#def-eq" data-sym="EQ">eq</a> (car events) <span class="keyword">:show</span>) (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../axioms.html#def-null" data-sym="NULL">null</a> (cdr events)) (<a class="sym-link local-def" href="#def-wsa-er" data-sym="WSA-ER" title="(defmacro wsa-er (str &amp;rest args)
  `(mv (er hard &#39;with-supporters ,str ,@args) nil nil nil nil))">wsa-er</a> <span class="string">"No argument was supplied for :SHOW."</span>))
        ((<a class="sym-link system" href="../../axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="../../axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> (<a class="sym-link system" href="../../axioms.html#def-cadr" data-sym="CADR">cadr</a> events) '(<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> nil <span class="keyword">:only</span>))) (<a class="sym-link local-def" href="#def-wsa-er" data-sym="WSA-ER" title="(defmacro wsa-er (str &amp;rest args)
  `(mv (er hard &#39;with-supporters ,str ,@args) nil nil nil nil))">wsa-er</a> <span class="string">"The value of :SHOW must be Boolean or :ONLY, but ~
                         ~x0 is not."</span>
            (<a class="sym-link system" href="../../axioms.html#def-cadr" data-sym="CADR">cadr</a> events)))
        (<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-with-supporters-args" data-sym="WITH-SUPPORTERS-ARGS" title="(defun with-supporters-args
       (events names tables show with-output with-output-p)
  (cond
   ((null events)
    (mv names tables show
...">with-supporters-args</a> (<a class="sym-link system" href="../../axioms.html#def-cddr" data-sym="CDDR">cddr</a> events)
            names
            tables
            (<a class="sym-link system" href="../../axioms.html#def-cadr" data-sym="CADR">cadr</a> events)
            <a class="sym-link system" href="../../axioms.html#def-with-output" data-sym="WITH-OUTPUT">with-output</a>
            with-output-p))))
    ((<a class="sym-link system" href="../../axioms.html#def-eq" data-sym="EQ">eq</a> (car events) <span class="keyword">:with-output</span>) (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../axioms.html#def-null" data-sym="NULL">null</a> (cdr events)) (<a class="sym-link local-def" href="#def-wsa-er" data-sym="WSA-ER" title="(defmacro wsa-er (str &amp;rest args)
  `(mv (er hard &#39;with-supporters ,str ,@args) nil nil nil nil))">wsa-er</a> <span class="string">"No argument was supplied for :WITH-OUTPUT."</span>))
        ((<a class="sym-link system" href="../../axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="../../axioms.html#def-keyword-value-listp" data-sym="KEYWORD-VALUE-LISTP">keyword-value-listp</a> (<a class="sym-link system" href="../../axioms.html#def-cadr" data-sym="CADR">cadr</a> events))) (<a class="sym-link local-def" href="#def-wsa-er" data-sym="WSA-ER" title="(defmacro wsa-er (str &amp;rest args)
  `(mv (er hard &#39;with-supporters ,str ,@args) nil nil nil nil))">wsa-er</a> <span class="string">"The value of :WITH-OUTPUT must satisfy ~x0, but ~x1 ~
                         does not."</span>
            '<a class="sym-link system" href="../../axioms.html#def-keyword-value-listp" data-sym="KEYWORD-VALUE-LISTP">keyword-value-listp</a>
            (<a class="sym-link system" href="../../axioms.html#def-cadr" data-sym="CADR">cadr</a> events)))
        (<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-with-supporters-args" data-sym="WITH-SUPPORTERS-ARGS" title="(defun with-supporters-args
       (events names tables show with-output with-output-p)
  (cond
   ((null events)
    (mv names tables show
...">with-supporters-args</a> (<a class="sym-link system" href="../../axioms.html#def-cddr" data-sym="CDDR">cddr</a> events)
            names
            tables
            show
            (<a class="sym-link system" href="../../axioms.html#def-cadr" data-sym="CADR">cadr</a> events)
            <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>))))
    ((<a class="sym-link system" href="../../axioms.html#def-atom" data-sym="ATOM">atom</a> (car events)) (<a class="sym-link local-def" href="#def-wsa-er" data-sym="WSA-ER" title="(defmacro wsa-er (str &amp;rest args)
  `(mv (er hard &#39;with-supporters ,str ,@args) nil nil nil nil))">wsa-er</a> <span class="string">"An event must be a cons, but your first event was ~x0. ~
                  Perhaps you intended to use :NAMES."</span>
        (car events)))
    ((<a class="sym-link system" href="../../axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="../../axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> <span class="keyword">:names</span> events)
       (<a class="sym-link system" href="../../axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> <span class="keyword">:tables</span> events)
       (<a class="sym-link system" href="../../axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> <span class="keyword">:show</span> events)
       (<a class="sym-link system" href="../../axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> <span class="keyword">:with-output</span> events)) (<a class="sym-link local-def" href="#def-wsa-er" data-sym="WSA-ER" title="(defmacro wsa-er (str &amp;rest args)
  `(mv (er hard &#39;with-supporters ,str ,@args) nil nil nil nil))">wsa-er</a> <span class="string">"The :NAMES, and :TABLES keywords of WITH-SUPPORTERS must ~
                  appear immediately after the (initial) LOCAL event."</span>))
    (<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="../../axioms.html#def-mv" data-sym="MV">mv</a> names
        tables
        show
        (if with-output-p
          <a class="sym-link system" href="../../axioms.html#def-with-output" data-sym="WITH-OUTPUT">with-output</a>
          '(<span class="keyword">:off</span> <span class="keyword">:all</span> <span class="keyword">:on</span> error))
        events))))</pre>
  </div>

<div class="form-block function" id="def-event-pairs-after" data-defines="EVENT-PAIRS-AFTER" data-references="ACCESS-EVENT-TUPLE-FORM,CONS,CDR,T,<=,CDDR,ACCESS-EVENT-TUPLE-NUMBER,N,GLOBAL-VALUE,CADR,EVENT-LANDMARK,QUOTE,EQ,AND,COND,CAR,TRIP,LET,ACC,WRLD,K,DEFUN" data-used-by="WITH-SUPPORTERS-AFTER-FN,WITH-SUPPORTERS-FN" data-part-name="EVENT-PAIRS-AFTER" data-part-args="ACC,WRLD,K" data-part-body="ACCESS-EVENT-TUPLE-FORM,CONS,CDR,EVENT-PAIRS-AFTER,T,ACC,K,<=,CDDR,ACCESS-EVENT-TUPLE-NUMBER,N,GLOBAL-VALUE,CADR,EVENT-LANDMARK,QUOTE,EQ,AND,COND,WRLD,CAR,TRIP,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="EVENT-PAIRS-AFTER">event-pairs-after</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-event-pairs-after" data-sym="EVENT-PAIRS-AFTER" title="(defun event-pairs-after (k wrld acc)
  (let ((trip (car wrld)))
    (cond
     ((and (eq (car trip) &#39;event-landmark) (eq (cadr trip) &#39;global-value))
      (let ((n (access-event-tuple-number (cddr trip))))
...">event-pairs-after</a>
  (k wrld acc)
  (let ((trip (car wrld)))
    (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../axioms.html#def-eq" data-sym="EQ">eq</a> (car trip) 'event-landmark)
         (<a class="sym-link system" href="../../axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="../../axioms.html#def-cadr" data-sym="CADR">cadr</a> trip) 'global-value)) (let ((n (access-event-tuple-number (<a class="sym-link system" href="../../axioms.html#def-cddr" data-sym="CDDR">cddr</a> trip))))
          (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> n k) acc)
            (<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-event-pairs-after" data-sym="EVENT-PAIRS-AFTER" title="(defun event-pairs-after (k wrld acc)
  (let ((trip (car wrld)))
    (cond
     ((and (eq (car trip) &#39;event-landmark) (eq (cadr trip) &#39;global-value))
      (let ((n (access-event-tuple-number (cddr trip))))
...">event-pairs-after</a> k
                (cdr wrld)
                (cons (cons n (access-event-tuple-form (<a class="sym-link system" href="../../axioms.html#def-cddr" data-sym="CDDR">cddr</a> trip))) acc))))))
      (<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-event-pairs-after" data-sym="EVENT-PAIRS-AFTER" title="(defun event-pairs-after (k wrld acc)
  (let ((trip (car wrld)))
    (cond
     ((and (eq (car trip) &#39;event-landmark) (eq (cadr trip) &#39;global-value))
      (let ((n (access-event-tuple-number (cddr trip))))
...">event-pairs-after</a> k (cdr wrld) acc)))))</pre>
  </div>

<div class="form-block function" id="def-with-supporters-fn" data-defines="WITH-SUPPORTERS-FN" data-references="WITH-OUTPUT!,MAKE-EVENT,IF,CONS,LIST,ELIDE-EVENT-LST,SET-STATE-OK,SET-IGNORE-OK,SET-IRRELEVANT-FORMALS-OK,SET-BOGUS-MUTUAL-RECURSION-OK,SET-BOGUS-DEFUN-HINTS-OK,SET-ENFORCE-REDUNDANCY,ENCAPSULATE,LIST*,EV,ENS,SUPPORTERS-IN-THEORY-EVENT,IN-THEORY-EVENT,FNS,EXTRAS,DEFAULT-STATE-VARS,APPEND,SUPPORTERS-OF,EXTRAS/FNS,EVENT-PAIRS-AFTER,EVENT-PAIRS,PROGN,TABLE-INFO-AFTER-K,FNS1,TABLE-EVS,MAX,WRLD,ER-PROGN,CTX,STATE,W,MAX-ABSOLUTE-EVENT-NUMBER,MIN,LET,QUASIQUOTE,FORM,LET*,WITH-SUPPORTERS-ARGS,EVENTS,WITH-OUTPUT,SHOW,TABLES,NAMES,MV-LET,T,MEMBER-EQ,WITH-SUPPORTERS,HARD,ER,CDDR,NULL,CDR,CONSP,LOCAL,QUOTE,CAR,EQ,TRUE-LISTP,AND,NOT,COND,REST,LOCAL-EVENT,DEFUN" data-used-by="WITH-SUPPORTERS" data-part-name="WITH-SUPPORTERS-FN" data-part-args="REST,LOCAL-EVENT" data-part-body="WITH-OUTPUT!,MAKE-EVENT,IF,CONS,LIST,ELIDE-EVENT-LST,SET-STATE-OK,SET-IGNORE-OK,SET-IRRELEVANT-FORMALS-OK,SET-BOGUS-MUTUAL-RECURSION-OK,SET-BOGUS-DEFUN-HINTS-OK,SET-ENFORCE-REDUNDANCY,ENCAPSULATE,LIST*,EV,ENS,SUPPORTERS-IN-THEORY-EVENT,IN-THEORY-EVENT,FNS,EXTRAS,DEFAULT-STATE-VARS,APPEND,SUPPORTERS-OF,EXTRAS/FNS,EVENT-PAIRS-AFTER,EVENT-PAIRS,PROGN,TABLE-INFO-AFTER-K,FNS1,TABLE-EVS,MAX,WRLD,ER-PROGN,CTX,STATE,W,MAX-ABSOLUTE-EVENT-NUMBER,MIN,LET,QUASIQUOTE,FORM,LET*,WITH-SUPPORTERS-ARGS,EVENTS,WITH-OUTPUT,SHOW,TABLES,NAMES,MV-LET,T,REST,MEMBER-EQ,WITH-SUPPORTERS,HARD,ER,CDDR,NULL,CDR,CONSP,LOCAL,QUOTE,CAR,EQ,LOCAL-EVENT,TRUE-LISTP,AND,NOT,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="WITH-SUPPORTERS-FN">with-supporters-fn</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-with-supporters-fn" data-sym="WITH-SUPPORTERS-FN" title="(defun with-supporters-fn (local-event rest)
  (cond
   ((not
     (and (true-listp local-event) (eq (car local-event) &#39;local)
          (consp (cdr local-event)) (null (cddr local-event))))
...">with-supporters-fn</a>
  (local-event <a class="sym-link system" href="../../axioms.html#def-rest" data-sym="REST">rest</a>)
  (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../axioms.html#def-true-listp" data-sym="TRUE-LISTP">true-listp</a> local-event)
         (<a class="sym-link system" href="../../axioms.html#def-eq" data-sym="EQ">eq</a> (car local-event) '<a class="sym-link system" href="../../axioms.html#def-local" data-sym="LOCAL">local</a>)
         (consp (cdr local-event))
         (<a class="sym-link system" href="../../axioms.html#def-null" data-sym="NULL">null</a> (<a class="sym-link system" href="../../axioms.html#def-cddr" data-sym="CDDR">cddr</a> local-event)))) (<a class="sym-link system" href="../../axioms.html#def-er" data-sym="ER">er</a> hard
        '<a class="sym-link local-def" href="#def-with-supporters" data-sym="WITH-SUPPORTERS" title="(defmacro with-supporters (local-event &amp;rest rest)
  (with-supporters-fn local-event rest))">with-supporters</a>
        <span class="string">"The first argument of ~x0 should be of the form (LOCAL ...), but ~
         that argument is ~x1."</span>
        '<a class="sym-link local-def" href="#def-with-supporters" data-sym="WITH-SUPPORTERS" title="(defmacro with-supporters (local-event &amp;rest rest)
  (with-supporters-fn local-event rest))">with-supporters</a>
        local-event))
    ((<a class="sym-link system" href="../../axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> <span class="keyword">:names</span> (cdr (<a class="sym-link system" href="../../axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> <span class="keyword">:names</span> <a class="sym-link system" href="../../axioms.html#def-rest" data-sym="REST">rest</a>))) (<a class="sym-link system" href="../../axioms.html#def-er" data-sym="ER">er</a> hard
        '<a class="sym-link local-def" href="#def-with-supporters" data-sym="WITH-SUPPORTERS" title="(defmacro with-supporters (local-event &amp;rest rest)
  (with-supporters-fn local-event rest))">with-supporters</a>
        <span class="string">"A :NAMES argument may not occur more than once in a call of ~x0."</span>
        '<a class="sym-link local-def" href="#def-with-supporters" data-sym="WITH-SUPPORTERS" title="(defmacro with-supporters (local-event &amp;rest rest)
  (with-supporters-fn local-event rest))">with-supporters</a>))
    (<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="../../axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (names tables show <a class="sym-link system" href="../../axioms.html#def-with-output" data-sym="WITH-OUTPUT">with-output</a> events)
        (<a class="sym-link local-def" href="#def-with-supporters-args" data-sym="WITH-SUPPORTERS-ARGS" title="(defun with-supporters-args
       (events names tables show with-output with-output-p)
  (cond
   ((null events)
    (mv names tables show
...">with-supporters-args</a> <a class="sym-link system" href="../../axioms.html#def-rest" data-sym="REST">rest</a> nil nil nil nil nil)
        (<a class="sym-link system" href="../../axioms.html#def-let_2A" data-sym="LET*">let*</a> ((form `(let ((min (max-absolute-event-number (<a class="sym-link system" href="../../axioms.html#def-w" data-sym="W">w</a> state))) (ctx '<a class="sym-link local-def" href="#def-with-supporters" data-sym="WITH-SUPPORTERS" title="(defmacro with-supporters (local-event &amp;rest rest)
  (with-supporters-fn local-event rest))">with-supporters</a>))
               (<a class="sym-link system" href="../../axioms.html#def-er-progn" data-sym="ER-PROGN">er-progn</a> ,(CADR LOCAL-EVENT)
                 (<a class="sym-link system" href="../../axioms.html#def-let_2A" data-sym="LET*">let*</a> ((wrld (<a class="sym-link system" href="../../axioms.html#def-w" data-sym="W">w</a> state)) (max (max-absolute-event-number wrld)))
                   (<a class="sym-link system" href="../../axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (table-evs fns1)
                     (<a class="sym-link local-def" href="#def-table-info-after-k" data-sym="TABLE-INFO-AFTER-K" title="(defun table-info-after-k (names wrld k evs table-guard-fns)
  (let ((trip (car wrld)))
    (cond
     ((and (eq (car trip) &#39;event-landmark) (eq (cadr trip) &#39;global-value))
      (cond
...">table-info-after-k</a> ',TABLES wrld min nil nil)
                     (<a class="sym-link system" href="../../axioms.html#def-er-progn" data-sym="ER-PROGN">er-progn</a> (<a class="sym-link system" href="../../axioms.html#def-progn" data-sym="PROGN">progn</a> ,@EVENTS)
                       (<a class="sym-link system" href="../../axioms.html#def-let_2A" data-sym="LET*">let*</a> ((wrld (<a class="sym-link system" href="../../axioms.html#def-w" data-sym="W">w</a> state)) (event-pairs (<a class="sym-link local-def" href="#def-event-pairs-after" data-sym="EVENT-PAIRS-AFTER" title="(defun event-pairs-after (k wrld acc)
  (let ((trip (car wrld)))
    (cond
     ((and (eq (car trip) &#39;event-landmark) (eq (cadr trip) &#39;global-value))
      (let ((n (access-event-tuple-number (cddr trip))))
...">event-pairs-after</a> max wrld nil))
                           (extras/fns (<a class="sym-link local-def" href="#def-supporters-of" data-sym="SUPPORTERS-OF" title="(defun supporters-of (lst min max ctx wrld state-vars)
  (mv-let (fal seen)
          (supporters-of-rec lst nil min max (macro-aliases wrld) ctx wrld
           state-vars nil)
          (let* ((x (merge-sort-car-&lt; (fast-alist-free fal)))
...">supporters-of</a> (<a class="sym-link system" href="../../axioms.html#def-append" data-sym="APPEND">append</a> fns1 ',NAMES event-pairs)
                               min
                               max
                               ctx
                               wrld
                               (<a class="sym-link system" href="../../basis-a.html#def-default-state-vars" data-sym="DEFAULT-STATE-VARS">default-state-vars</a> <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>)))
                           (extras (car extras/fns))
                           (fns (cdr extras/fns))
                           (in-theory-event (<a class="sym-link local-def" href="#def-supporters-in-theory-event" data-sym="SUPPORTERS-IN-THEORY-EVENT" title="(defun supporters-in-theory-event (fns ens wrld min disables)
  (cond ((endp fns) (and disables `(in-theory (disable ,@disables))))
        (t
         (supporters-in-theory-event (cdr fns) ens wrld min
          (if (and min
...">supporters-in-theory-event</a> fns (ens state) wrld min nil))
                           (ev (<a class="sym-link system" href="../../axioms.html#def-list_2A" data-sym="LIST*">list*</a> '<a class="sym-link system" href="../../axioms.html#def-encapsulate" data-sym="ENCAPSULATE">encapsulate</a>
                               nil
                               ',LOCAL-EVENT
                               '(<a class="sym-link system" href="../../axioms.html#def-set-enforce-redundancy" data-sym="SET-ENFORCE-REDUNDANCY">set-enforce-redundancy</a> <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>)
                               '(<a class="sym-link system" href="../../axioms.html#def-set-bogus-defun-hints-ok" data-sym="SET-BOGUS-DEFUN-HINTS-OK">set-bogus-defun-hints-ok</a> <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>)
                               '(<a class="sym-link system" href="../../axioms.html#def-set-bogus-mutual-recursion-ok" data-sym="SET-BOGUS-MUTUAL-RECURSION-OK">set-bogus-mutual-recursion-ok</a> <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>)
                               '(<a class="sym-link system" href="../../axioms.html#def-set-irrelevant-formals-ok" data-sym="SET-IRRELEVANT-FORMALS-OK">set-irrelevant-formals-ok</a> <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>)
                               '(<a class="sym-link system" href="../../axioms.html#def-set-ignore-ok" data-sym="SET-IGNORE-OK">set-ignore-ok</a> <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>)
                               '(<a class="sym-link system" href="../../axioms.html#def-set-state-ok" data-sym="SET-STATE-OK">set-state-ok</a> <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>)
                               (<a class="sym-link system" href="../../axioms.html#def-append" data-sym="APPEND">append</a> (elide-event-lst extras)
                                 table-evs
                                 (<a class="sym-link system" href="../../axioms.html#def-and" data-sym="AND">and</a> in-theory-event (<a class="sym-link system" href="../../axioms.html#def-list" data-sym="LIST">list</a> in-theory-event))
                                 (cons '(<a class="sym-link system" href="../../axioms.html#def-set-enforce-redundancy" data-sym="SET-ENFORCE-REDUNDANCY">set-enforce-redundancy</a> nil) ',EVENTS))))
                           ,@(AND WITH-OUTPUT `((EV (CONS &#39;WITH-OUTPUT (APPEND &#39;,WITH-OUTPUT (LIST EV)))))))
                         ,(CASE SHOW
   (:ONLY &#39;(VALUE (LIST &#39;VALUE-TRIPLE (LIST &#39;QUOTE EV))))
   ((T)
    &#39;(PPROGN
      (FMS &quot;Expansion of with-supporters call:~|~x0~|&quot; (LIST (CONS #\0 EV))
           (STANDARD-CO STATE) STATE NIL)
      (VALUE EV)))
   ((NIL) &#39;(VALUE EV))
   (OTHERWISE (ER HARD &#39;WITH-SUPPORTERS &quot;Illegal value of :show, ~x0&quot; SHOW)))))))))))
          (if <a class="sym-link system" href="../../axioms.html#def-with-output" data-sym="WITH-OUTPUT">with-output</a>
            `(<a class="sym-link system" href="../../axioms.html#def-make-event" data-sym="MAKE-EVENT">make-event</a> (<a class="sym-link system" href="../../axioms.html#def-with-output_21" data-sym="WITH-OUTPUT!">with-output!</a> ,@WITH-OUTPUT ,FORM))
            `(<a class="sym-link system" href="../../axioms.html#def-make-event" data-sym="MAKE-EVENT">make-event</a> ,FORM)))))))</pre>
  </div>

<div class="form-block macro" id="def-with-supporters" data-defines="WITH-SUPPORTERS" data-references="WITH-SUPPORTERS-FN,REST,&REST,LOCAL-EVENT,DEFMACRO" data-used-by="WITH-SUPPORTERS-AFTER-FN,WITH-SUPPORTERS-FN,WSA-ER" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="WITH-SUPPORTERS">with-supporters</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-with-supporters" data-sym="WITH-SUPPORTERS" title="(defmacro with-supporters (local-event &amp;rest rest)
  (with-supporters-fn local-event rest))">with-supporters</a>
  (local-event &amp;rest <a class="sym-link system" href="../../axioms.html#def-rest" data-sym="REST">rest</a>)
  (<a class="sym-link local-def" href="#def-with-supporters-fn" data-sym="WITH-SUPPORTERS-FN" title="(defun with-supporters-fn (local-event rest)
  (cond
   ((not
     (and (true-listp local-event) (eq (car local-event) &#39;local)
          (consp (cdr local-event)) (null (cddr local-event))))
...">with-supporters-fn</a> local-event <a class="sym-link system" href="../../axioms.html#def-rest" data-sym="REST">rest</a>))</pre>
  </div>

<div class="form-block function" id="def-with-supporters-after-fn" data-defines="WITH-SUPPORTERS-AFTER-FN" data-references="CONS,LIST,AND,APPEND,SET-IGNORE-OK,SET-IRRELEVANT-FORMALS-OK,SET-BOGUS-MUTUAL-RECURSION-OK,SET-BOGUS-DEFUN-HINTS-OK,SET-ENFORCE-REDUNDANCY,LIST*,VALUE,ENS,SUPPORTERS-IN-THEORY-EVENT,IN-THEORY-EVENT,CDR,FNS,CAR,EXTRAS,DEFAULT-STATE-VARS,WITH-SUPPORTERS-AFTER,SUPPORTERS-OF,EXTRAS/FNS,EVENT-PAIRS-AFTER,EVENT-PAIRS,WRLD,LET*,PROGN,ER-PROGN,T,WITH-SUPPORTERS,SOFT,ER,NULL,COND,MAX-ABSOLUTE-EVENT-NUMBER,MAX,STATE,W,CURRENT-ACL2-WORLD,ABSOLUTE-EVENT-NUMBER,QUOTE,GETPROP,MIN,LET,MAKE-EVENT,QUASIQUOTE,EVENTS,NAME,DEFUN" data-used-by="WITH-SUPPORTERS-AFTER" data-part-name="WITH-SUPPORTERS-AFTER-FN" data-part-args="EVENTS,NAME" data-part-body="CONS,LIST,AND,APPEND,SET-IGNORE-OK,SET-IRRELEVANT-FORMALS-OK,SET-BOGUS-MUTUAL-RECURSION-OK,SET-BOGUS-DEFUN-HINTS-OK,SET-ENFORCE-REDUNDANCY,LIST*,VALUE,ENS,SUPPORTERS-IN-THEORY-EVENT,IN-THEORY-EVENT,CDR,FNS,CAR,EXTRAS,DEFAULT-STATE-VARS,WITH-SUPPORTERS-AFTER,SUPPORTERS-OF,EXTRAS/FNS,EVENT-PAIRS-AFTER,EVENT-PAIRS,WRLD,LET*,PROGN,ER-PROGN,T,WITH-SUPPORTERS,SOFT,ER,NULL,COND,MAX-ABSOLUTE-EVENT-NUMBER,MAX,STATE,W,CURRENT-ACL2-WORLD,ABSOLUTE-EVENT-NUMBER,QUOTE,GETPROP,MIN,LET,MAKE-EVENT,QUASIQUOTE" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="WITH-SUPPORTERS-AFTER-FN">with-supporters-after-fn</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-with-supporters-after-fn" data-sym="WITH-SUPPORTERS-AFTER-FN" title="(defun with-supporters-after-fn (name events)
  `(make-event
    (let ((min
           (getprop &#39;,name &#39;absolute-event-number nil &#39;current-acl2-world
                    (w state)))
...">with-supporters-after-fn</a>
  (name events)
  `(<a class="sym-link system" href="../../axioms.html#def-make-event" data-sym="MAKE-EVENT">make-event</a> (let ((min (<a class="sym-link system" href="../../axioms.html#def-getprop" data-sym="GETPROP">getprop</a> ',NAME
           'absolute-event-number
           nil
           'current-acl2-world
           (<a class="sym-link system" href="../../axioms.html#def-w" data-sym="W">w</a> state))) (max (max-absolute-event-number (<a class="sym-link system" href="../../axioms.html#def-w" data-sym="W">w</a> state))))
      (<a class="sym-link system" href="../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../axioms.html#def-null" data-sym="NULL">null</a> min) (<a class="sym-link system" href="../../axioms.html#def-er" data-sym="ER">er</a> soft
            '<a class="sym-link local-def" href="#def-with-supporters" data-sym="WITH-SUPPORTERS" title="(defmacro with-supporters (local-event &amp;rest rest)
  (with-supporters-fn local-event rest))">with-supporters</a>
            <span class="string">"The symbol ~x0 does not seem to be the name of an event."</span>
            ',NAME))
        (<a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="../../axioms.html#def-er-progn" data-sym="ER-PROGN">er-progn</a> (<a class="sym-link system" href="../../axioms.html#def-progn" data-sym="PROGN">progn</a> ,@EVENTS)
            (<a class="sym-link system" href="../../axioms.html#def-let_2A" data-sym="LET*">let*</a> ((wrld (<a class="sym-link system" href="../../axioms.html#def-w" data-sym="W">w</a> state)) (event-pairs (<a class="sym-link local-def" href="#def-event-pairs-after" data-sym="EVENT-PAIRS-AFTER" title="(defun event-pairs-after (k wrld acc)
  (let ((trip (car wrld)))
    (cond
     ((and (eq (car trip) &#39;event-landmark) (eq (cadr trip) &#39;global-value))
      (let ((n (access-event-tuple-number (cddr trip))))
...">event-pairs-after</a> max wrld nil))
                (extras/fns (<a class="sym-link local-def" href="#def-supporters-of" data-sym="SUPPORTERS-OF" title="(defun supporters-of (lst min max ctx wrld state-vars)
  (mv-let (fal seen)
          (supporters-of-rec lst nil min max (macro-aliases wrld) ctx wrld
           state-vars nil)
          (let* ((x (merge-sort-car-&lt; (fast-alist-free fal)))
...">supporters-of</a> event-pairs
                    min
                    max
                    '<a class="sym-link local-def" href="#def-with-supporters-after" data-sym="WITH-SUPPORTERS-AFTER" title="(defmacro with-supporters-after (name &amp;rest events)
  (declare (xargs :guard (symbolp name)))
  (with-supporters-after-fn name events))">with-supporters-after</a>
                    wrld
                    (<a class="sym-link system" href="../../basis-a.html#def-default-state-vars" data-sym="DEFAULT-STATE-VARS">default-state-vars</a> <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>)))
                (extras (car extras/fns))
                (fns (cdr extras/fns))
                (in-theory-event (<a class="sym-link local-def" href="#def-supporters-in-theory-event" data-sym="SUPPORTERS-IN-THEORY-EVENT" title="(defun supporters-in-theory-event (fns ens wrld min disables)
  (cond ((endp fns) (and disables `(in-theory (disable ,@disables))))
        (t
         (supporters-in-theory-event (cdr fns) ens wrld min
          (if (and min
...">supporters-in-theory-event</a> fns
                    (ens state)
                    (<a class="sym-link system" href="../../axioms.html#def-w" data-sym="W">w</a> state)
                    nil
                    nil)))
              (<a class="sym-link system" href="../../axioms.html#def-value" data-sym="VALUE">value</a> (<a class="sym-link system" href="../../axioms.html#def-list_2A" data-sym="LIST*">list*</a> '<a class="sym-link system" href="../../axioms.html#def-progn" data-sym="PROGN">progn</a>
                  '(<a class="sym-link system" href="../../axioms.html#def-set-enforce-redundancy" data-sym="SET-ENFORCE-REDUNDANCY">set-enforce-redundancy</a> <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>)
                  '(<a class="sym-link system" href="../../axioms.html#def-set-bogus-defun-hints-ok" data-sym="SET-BOGUS-DEFUN-HINTS-OK">set-bogus-defun-hints-ok</a> <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>)
                  '(<a class="sym-link system" href="../../axioms.html#def-set-bogus-mutual-recursion-ok" data-sym="SET-BOGUS-MUTUAL-RECURSION-OK">set-bogus-mutual-recursion-ok</a> <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>)
                  '(<a class="sym-link system" href="../../axioms.html#def-set-irrelevant-formals-ok" data-sym="SET-IRRELEVANT-FORMALS-OK">set-irrelevant-formals-ok</a> <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>)
                  '(<a class="sym-link system" href="../../axioms.html#def-set-ignore-ok" data-sym="SET-IGNORE-OK">set-ignore-ok</a> <a class="sym-link system" href="../../axioms.html#def-t" data-sym="T">t</a>)
                  (<a class="sym-link system" href="../../axioms.html#def-append" data-sym="APPEND">append</a> extras
                    (<a class="sym-link system" href="../../axioms.html#def-and" data-sym="AND">and</a> in-theory-event (<a class="sym-link system" href="../../axioms.html#def-list" data-sym="LIST">list</a> in-theory-event))
                    (cons '(<a class="sym-link system" href="../../axioms.html#def-set-enforce-redundancy" data-sym="SET-ENFORCE-REDUNDANCY">set-enforce-redundancy</a> nil) ',EVENTS)))))))))))</pre>
  </div>

<div class="form-block macro" id="def-with-supporters-after" data-defines="WITH-SUPPORTERS-AFTER" data-references="WITH-SUPPORTERS-AFTER-FN,SYMBOLP,XARGS,DECLARE,EVENTS,&REST,NAME,DEFMACRO" data-used-by="WITH-SUPPORTERS-AFTER-FN" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="WITH-SUPPORTERS-AFTER">with-supporters-after</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-with-supporters-after" data-sym="WITH-SUPPORTERS-AFTER" title="(defmacro with-supporters-after (name &amp;rest events)
  (declare (xargs :guard (symbolp name)))
  (with-supporters-after-fn name events))">with-supporters-after</a>
  (name &amp;rest events)
  (declare (xargs <span class="keyword">:guard</span> (symbolp name)))
  (<a class="sym-link local-def" href="#def-with-supporters-after-fn" data-sym="WITH-SUPPORTERS-AFTER-FN" title="(defun with-supporters-after-fn (name events)
  `(make-event
    (let ((min
           (getprop &#39;,name &#39;absolute-event-number nil &#39;current-acl2-world
                    (w state)))
...">with-supporters-after-fn</a> name events))</pre>
  </div>


  </main>
  
<script>
// ACL2 Book HTML Documentation - Interactive Features
// Generated by cert2 - build2 system

// State
let activeFilter = null;
let activePartFilter = null;
let activeNameFilter = null;
let currentFontSize = 14;

// Theme management
function getStoredTheme() {
  return localStorage.getItem('acl2-theme') || 'dark';
}

function setTheme(theme) {
  if (theme === 'light') {
    document.documentElement.setAttribute('data-theme', 'light');
    document.getElementById('theme-toggle').textContent = '🌙';
  } else {
    document.documentElement.removeAttribute('data-theme');
    document.getElementById('theme-toggle').textContent = '☀️';
  }
  localStorage.setItem('acl2-theme', theme);
}

function toggleTheme() {
  const current = getStoredTheme();
  setTheme(current === 'dark' ? 'light' : 'dark');
}

// Font size management
function getStoredFontSize() {
  return parseInt(localStorage.getItem('acl2-fontsize') || '14', 10);
}

function setFontSize(size) {
  size = Math.max(10, Math.min(24, size)); // Clamp between 10-24
  currentFontSize = size;
  document.body.style.fontSize = size + 'px';
  localStorage.setItem('acl2-fontsize', size.toString());
}

function increaseFontSize() {
  setFontSize(currentFontSize + 2);
}

function decreaseFontSize() {
  setFontSize(currentFontSize - 2);
}

// Get all form blocks
function getFormBlocks() {
  return document.querySelectorAll('.form-block');
}

// Clear all filters
function clearFilter() {
  activeFilter = null;
  activePartFilter = null;
  activeNameFilter = null;
  getFormBlocks().forEach(b => {
    b.classList.remove('hidden', 'dimmed');
  });
  document.querySelectorAll('.part-btn').forEach(b => b.classList.remove('active'));
  const status = document.querySelector('.filter-status');
  status.classList.remove('active');
  // Slide name filter back to original position
  document.querySelector('.controls-left').style.transform = '';
  // Clear the name filter input
  const nameInput = document.getElementById('name-filter');
  if (nameInput) nameInput.value = '';
}

// Show filter status and slide name filter right
function showFilterStatus(text) {
  const status = document.querySelector('.filter-status');
  status.classList.add('active');
  status.querySelector('.filter-text').textContent = text;
  // Slide name filter to the right to make room
  setTimeout(() => {
    const statusWidth = status.offsetWidth;
    document.querySelector('.controls-left').style.transform = `translateX(${statusWidth + 15}px)`;
  }, 10);
}

// Filter to show only forms that define or reference a symbol
function filterBySymbol(symName, showUsedBy) {
  clearFilter();
  activeFilter = symName;
  
  const blocks = getFormBlocks();
  let visibleCount = 0;
  
  blocks.forEach(block => {
    const definesName = block.dataset.defines;
    const references = (block.dataset.references || '').split(',');
    const usedBy = (block.dataset.usedBy || '').split(',');
    
    let show = false;
    if (showUsedBy) {
      // Show forms that USE this symbol
      show = references.includes(symName) || definesName === symName;
    } else {
      // Show forms that this symbol USES
      show = usedBy.includes(symName) || definesName === symName;
    }
    
    if (show) {
      block.classList.remove('hidden');
      visibleCount++;
    } else {
      block.classList.add('hidden');
    }
  });
  
  // Update status
  showFilterStatus(`Filtering by: ${symName} (${visibleCount} items)`);
}

// Filter by defthm part (term, hints, rule-classes, etc.)
function filterByPart(formId, partName) {
  clearFilter();
  activePartFilter = { formId, partName };
  
  // Get the part's referenced symbols
  // data-part-term becomes dataset.partTerm, data-part-hints becomes dataset.partHints, etc.
  const block = document.getElementById(formId);
  const datasetKey = 'part' + partName.charAt(0).toUpperCase() + partName.slice(1).replace(/-([a-z])/g, (g) => g[1].toUpperCase());
  const partData = block.dataset[datasetKey];
  if (!partData) return;
  
  const partSyms = partData.split(',').filter(s => s);
  
  // Highlight the button
  block.querySelector(`.part-btn[data-part="${partName}"]`).classList.add('active');
  
  // Hide forms not referenced by this part
  getFormBlocks().forEach(b => {
    const definesName = b.dataset.defines;
    if (b.id === formId || partSyms.includes(definesName)) {
      b.classList.remove('hidden');
    } else {
      b.classList.add('hidden');
    }
  });
  
  // Update status
  showFilterStatus(`Filtering ${formId} :${partName} (${partSyms.length} references)`);
}

// Filter by name (substring or regex)
function filterByName(pattern, useRegex) {
  // Clear other filters but keep the input value
  activeFilter = null;
  activePartFilter = null;
  document.querySelectorAll('.part-btn').forEach(b => b.classList.remove('active'));
  
  if (!pattern || pattern.trim() === '') {
    // Empty pattern - show all
    activeNameFilter = null;
    getFormBlocks().forEach(b => b.classList.remove('hidden'));
    const status = document.querySelector('.filter-status');
    status.classList.remove('active');
    document.querySelector('.controls-left').style.transform = '';
    return;
  }
  
  activeNameFilter = pattern;
  
  let matcher;
  let isValidRegex = true;
  
  if (useRegex) {
    try {
      matcher = new RegExp(pattern, 'i');
    } catch (e) {
      // Invalid regex - show error in status and don't filter
      showFilterStatus(`Invalid regex: ${e.message}`);
      return;
    }
  } else {
    // Plain substring match (case-insensitive)
    const lowerPattern = pattern.toLowerCase();
    matcher = { test: (s) => s.toLowerCase().includes(lowerPattern) };
  }
  
  const blocks = getFormBlocks();
  let visibleCount = 0;
  
  blocks.forEach(block => {
    const definesName = block.dataset.defines || '';
    if (matcher.test(definesName)) {
      block.classList.remove('hidden');
      visibleCount++;
    } else {
      block.classList.add('hidden');
    }
  });
  
  // Update status
  const modeText = useRegex ? 'regex' : 'name';
  showFilterStatus(`Filtering by ${modeText}: "${pattern}" (${visibleCount} matches)`);
}

// Click on a name to show what references it
function handleNameClick(symName) {
  if (activeFilter === symName) {
    clearFilter();
  } else {
    filterBySymbol(symName, true);
  }
}

// Navigate to a definition (same file or different)
function navigateTo(symName, file) {
  if (file) {
    // External file - navigate
    window.location.href = file + '.html#def-' + symName.toLowerCase();
  } else {
    // Same file - scroll
    const target = document.getElementById('def-' + symName.toLowerCase());
    if (target) {
      target.scrollIntoView({ behavior: 'smooth', block: 'center' });
      target.classList.add('highlight');
      setTimeout(() => target.classList.remove('highlight'), 400);
    }
  }
}

// Initialize
document.addEventListener('DOMContentLoaded', () => {
  // Part buttons
  document.querySelectorAll('.part-btn').forEach(btn => {
    btn.addEventListener('click', (e) => {
      e.stopPropagation();
      const formId = btn.closest('.form-block').id;
      const partName = btn.dataset.part;
      if (activePartFilter && activePartFilter.formId === formId && 
          activePartFilter.partName === partName) {
        clearFilter();
      } else {
        filterByPart(formId, partName);
      }
    });
  });
  
  // Clear filter button
  document.querySelector('.clear-filter').addEventListener('click', clearFilter);
  
  // Name filter input
  const nameFilter = document.getElementById('name-filter');
  const regexToggle = document.getElementById('regex-toggle');
  
  let filterTimeout = null;
  nameFilter.addEventListener('input', () => {
    // Debounce the filter to avoid excessive updates while typing
    clearTimeout(filterTimeout);
    filterTimeout = setTimeout(() => {
      filterByName(nameFilter.value, regexToggle.checked);
    }, 150);
  });
  
  // Re-filter when regex toggle changes
  regexToggle.addEventListener('change', () => {
    if (nameFilter.value) {
      filterByName(nameFilter.value, regexToggle.checked);
    }
  });
  
  // Allow Escape key to clear filter when in input
  nameFilter.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
      clearFilter();
      nameFilter.blur();
    }
  });
  
  // Symbol references (old span-based refs)
  document.querySelectorAll('.sym-ref').forEach(ref => {
    ref.addEventListener('click', (e) => {
      e.stopPropagation();
      const sym = ref.dataset.sym;
      const file = ref.dataset.file;
      if (file) {
        navigateTo(sym, file);
      } else {
        handleNameClick(sym);
      }
    });
  });
  
  // Symbol links (new anchor-based links)
  // These use standard <a> tags so navigation happens automatically
  // But we need to clear filters if target would be hidden
  document.querySelectorAll('.sym-link').forEach(link => {
    link.addEventListener('click', (e) => {
      const href = link.getAttribute('href');
      if (href && href.startsWith('#')) {
        // Local link - check if target is hidden by filter
        const targetId = href.substring(1);
        const target = document.getElementById(targetId);
        if (target) {
          // If target is hidden, clear the filter first
          if (target.classList.contains('hidden')) {
            clearFilter();
          }
          // Add highlight effect after a short delay
          setTimeout(() => {
            target.classList.add('highlight');
            setTimeout(() => target.classList.remove('highlight'), 400);
          }, 100);
        }
      }
      // For external links, default behavior handles navigation
    });
  });
  
  // Form names (show what uses them)
  document.querySelectorAll('.form-name').forEach(name => {
    name.addEventListener('click', (e) => {
      handleNameClick(name.dataset.sym);
    });
  });
  
  // Handle hash navigation (when arriving at page with #anchor)
  if (window.location.hash) {
    const target = document.querySelector(window.location.hash);
    if (target) {
      setTimeout(() => {
        target.scrollIntoView({ behavior: 'smooth', block: 'center' });
        target.classList.add('highlight');
        setTimeout(() => target.classList.remove('highlight'), 400);
      }, 200);
    }
  }
  
  // Initialize theme from storage
  setTheme(getStoredTheme());
  
  // Initialize font size from storage
  currentFontSize = getStoredFontSize();
  setFontSize(currentFontSize);
  
  // Theme toggle button
  document.getElementById('theme-toggle').addEventListener('click', toggleTheme);
  
  // Font size buttons
  document.getElementById('font-larger').addEventListener('click', increaseFontSize);
  document.getElementById('font-smaller').addEventListener('click', decreaseFontSize);
});

</script>

</body>
</html>