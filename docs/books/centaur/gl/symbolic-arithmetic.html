<!DOCTYPE html>
<html lang="en" vocab="http://schema.org/" typeof="SoftwareSourceCode">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>symbolic-arithmetic - ACL2 Book</title>
  <meta property="name" content="symbolic-arithmetic">
  <meta property="programmingLanguage" content="ACL2">
  
<style>
/* ACL2 Book HTML Documentation Styles */
/* Generated by cert2 - build2 system */

/* Dark theme (default) */
:root {
  --bg: #1e1e2e;
  --fg: #cdd6f4;
  --comment: #6c7086;
  --keyword: #cba6f7;
  --string: #a6e3a1;
  --function: #89b4fa;
  --type: #f9e2af;
  --link: #89dceb;
  --link-hover: #f5c2e7;
  --highlight: rgba(137, 180, 250, 0.2);
  --border: #313244;
  --block-bg: rgba(49, 50, 68, 0.5);
  --btn-bg: #313244;
  --btn-hover: rgba(137, 180, 250, 0.2);
}

/* Light theme */
[data-theme="light"] {
  --bg: #eff1f5;
  --fg: #4c4f69;
  --comment: #6c6f85;
  --keyword: #8839ef;
  --string: #40a02b;
  --function: #1e66f5;
  --type: #df8e1d;
  --link: #04a5e5;
  --link-hover: #ea76cb;
  --highlight: rgba(30, 102, 245, 0.15);
  --border: #ccd0da;
  --block-bg: rgba(204, 208, 218, 0.3);
  --btn-bg: #ccd0da;
  --btn-hover: rgba(30, 102, 245, 0.15);
}

body {
  font-family: 'JetBrains Mono', 'Fira Code', monospace;
  background: var(--bg);
  color: var(--fg);
  margin: 0;
  padding: 20px;
  line-height: 1.6;
  font-size: 14px;
  transition: background 0.1s, color 0.1s;
}

/* Controls toolbar */
.controls-left {
  position: fixed;
  top: 10px;
  left: 20px;
  display: flex;
  gap: 8px;
  align-items: center;
  z-index: 200;
  transition: transform 0.1s ease;
}

.controls-right {
  position: fixed;
  top: 10px;
  right: 20px;
  display: flex;
  gap: 8px;
  align-items: center;
  z-index: 200;
}

.control-btn {
  padding: 6px 12px;
  background: var(--btn-bg);
  border: 1px solid var(--border);
  border-radius: 4px;
  color: var(--fg);
  cursor: pointer;
  font-family: inherit;
  font-size: 14px;
  transition: all 0.1s;
}

.control-btn:hover {
  background: var(--btn-hover);
  border-color: var(--link);
}

.name-filter {
  padding: 6px 10px;
  background: var(--btn-bg);
  border: 1px solid var(--border);
  border-radius: 4px;
  color: var(--fg);
  font-family: inherit;
  font-size: 13px;
  width: 150px;
  transition: all 0.1s;
}

.name-filter:focus {
  outline: none;
  border-color: var(--link);
  width: 200px;
}

.name-filter::placeholder {
  color: var(--comment);
}

.regex-label {
  display: flex;
  align-items: center;
  gap: 4px;
  color: var(--comment);
  font-size: 12px;
  cursor: pointer;
}

.regex-label input {
  cursor: pointer;
}

.book-header {
  border-bottom: 2px solid var(--border);
  padding-bottom: 20px;
  margin-bottom: 20px;
}

.book-header h1 {
  color: var(--keyword);
  margin: 0;
}

.book-header .path {
  color: var(--comment);
  font-size: 0.9em;
}

.book-header .path .source-link {
  color: var(--comment);
  text-decoration: none;
}

.book-header .path .source-link:hover {
  color: var(--link);
  text-decoration: underline;
}

.form-block {
  margin: 10px 0;
  padding: 15px;
  background: var(--block-bg);
  border-radius: 8px;
  border-left: 3px solid var(--border);
}

.form-block.theorem { border-left-color: var(--keyword); }
.form-block.function { border-left-color: var(--function); }
.form-block.macro { border-left-color: var(--type); }
.form-block.include-book { border-left-color: var(--string); }

.form-block.hidden { display: none; }
.form-block.dimmed { opacity: 0.3; }

.form-block.highlight {
  animation: highlight-pulse 0.4s ease-out;
}

@keyframes highlight-pulse {
  0% { background: var(--highlight); box-shadow: 0 0 20px var(--link); }
  100% { background: rgba(49, 50, 68, 0.5); box-shadow: none; }
}

.form-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
}

.form-name {
  color: var(--function);
  font-weight: bold;
  cursor: pointer;
}

.form-name:hover {
  color: var(--link-hover);
  text-decoration: underline;
}

.form-type {
  color: var(--comment);
  font-size: 0.85em;
}

pre.code {
  margin: 0;
  overflow-x: auto;
  white-space: pre-wrap;
  word-wrap: break-word;
}

.sym-ref {
  color: var(--link);
  cursor: pointer;
  border-radius: 2px;
}

.sym-ref:hover {
  background: var(--highlight);
  color: var(--link-hover);
}

.sym-ref.local-def { color: var(--function); font-weight: bold; }
.sym-ref.external { color: var(--type); }

/* Symbol links (clickable hyperlinks) */
.sym-link {
  color: var(--link);
  text-decoration: none;
  border-radius: 2px;
  cursor: pointer;
  position: relative;
}

.sym-link:hover {
  background: var(--highlight);
  color: var(--link-hover);
  text-decoration: underline;
}

.sym-link.local-def {
  color: var(--function);
  font-weight: bold;
}

.sym-link.external {
  color: var(--type);
}

/* Tooltips using title attribute with custom styling */
.sym-link[title] {
  /* Browser will show title on hover */
}

/* Syntax highlighting in code blocks */
.keyword {
  color: var(--keyword);
}

.string {
  color: var(--string);
}

.number {
  color: #f77524; /* orange */
}

/* Include-book path links */
.include-path {
  color: var(--string);
  text-decoration: none;
  border-radius: 2px;
  cursor: pointer;
}

.include-path:hover {
  background: var(--highlight);
  color: var(--link-hover);
  text-decoration: underline;
}

/* Part buttons for defthm */
.part-buttons {
  display: flex;
  gap: 5px;
  margin: 10px 0;
  flex-wrap: wrap;
}

.part-btn {
  padding: 4px 10px;
  background: var(--border);
  border: 1px solid var(--comment);
  border-radius: 4px;
  color: var(--fg);
  cursor: pointer;
  font-size: 0.85em;
  font-family: inherit;
}

.part-btn:hover {
  background: var(--highlight);
  border-color: var(--link);
}

.part-btn.active {
  background: var(--link);
  color: var(--bg);
  border-color: var(--link);
}

/* References panel */
.refs-panel {
  margin-top: 10px;
  padding: 10px;
  background: rgba(0,0,0,0.2);
  border-radius: 4px;
  display: none;
}

.refs-panel.visible { display: block; }

.refs-panel h4 {
  margin: 0 0 5px 0;
  color: var(--comment);
  font-size: 0.9em;
}

.refs-list {
  display: flex;
  flex-wrap: wrap;
  gap: 5px;
}

/* Included books section */
.includes-section {
  margin-bottom: 20px;
  padding: 15px;
  background: rgba(49, 50, 68, 0.3);
  border-radius: 8px;
  border: 1px solid var(--border);
}

.includes-section h2 {
  margin: 0 0 10px 0;
  color: var(--comment);
  font-size: 1em;
  font-weight: normal;
}

.includes-list {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.include-link {
  padding: 6px 12px;
  background: var(--border);
  border-radius: 4px;
  color: var(--link);
  text-decoration: none;
  font-size: 0.9em;
  transition: all 0.1s;
}

.include-link:hover {
  background: var(--highlight);
  color: var(--link-hover);
}

.include-link.local {
  border-left: 2px solid var(--comment);
}

/* Filter status */
.filter-status {
  position: fixed;
  top: 10px;
  left: 20px;
  background: var(--bg);
  padding: 6px 12px;
  border: 1px solid var(--border);
  border-radius: 4px;
  z-index: 201;
  display: none;
  align-items: center;
  gap: 10px;
}

.filter-status.active {
  display: flex;
  align-items: center;
  gap: 10px;
}

.clear-filter {
  padding: 5px 15px;
  background: var(--keyword);
  color: var(--bg);
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

/* RDFa vocab indicator */
[vocab] { /* semantic web annotations present */ }

</style>

</head>
<body>
  <div class="controls-left">
    <input type="text" id="name-filter" class="name-filter" placeholder="Filter by name..." title="Filter definitions by name">
    <label class="regex-label"><input type="checkbox" id="regex-toggle"> regex</label>
  </div>

  <div class="controls-right">
    <button class="control-btn" id="theme-toggle" title="Toggle light/dark theme">☀️</button>
    <button class="control-btn" id="font-smaller" title="Decrease font size">A-</button>
    <button class="control-btn" id="font-larger" title="Increase font size">A+</button>
  </div>

  <div class="filter-status">
    <span class="filter-text">Filtering...</span>
    <button class="clear-filter">Clear Filter</button>
  </div>
  
  <div class="book-header">
    <h1 property="name">symbolic-arithmetic</h1>
    <div class="path"><a href="symbolic-arithmetic.lisp" class="source-link">books/centaur/gl/symbolic-arithmetic</a></div>
  </div>
  
  <main property="text">
<div class="form-block other" id="form-0" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-in-package" data-sym="IN-PACKAGE">in-package</a> <span class="string">"GL"</span>)</pre>
  </div>

<div class="form-block other" id="form-1" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-include-book" data-sym="INCLUDE-BOOK">include-book</a> <a class="include-path" href="bvecs.html" title="Open bvecs">"bvecs"</a>)</pre>
  </div>

<div class="form-block other" id="form-2" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-include-book" data-sym="INCLUDE-BOOK">include-book</a> <a class="include-path" href="bfr-reasoning.html" title="Open bfr-reasoning">"bfr-reasoning"</a>)</pre>
  </div>

<div class="form-block other" id="form-3" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-include-book" data-sym="INCLUDE-BOOK">include-book</a> <a class="include-path" href="../../../clause-processors/find-subterms.html" title="Open clause-processors/find-subterms">"clause-processors/find-subterms"</a> <span class="keyword">:dir</span> <span class="keyword">:system</span>))</pre>
  </div>

<div class="form-block other" id="form-4" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-include-book" data-sym="INCLUDE-BOOK">include-book</a> <a class="include-path" href="../../../centaur/bitops/ihsext-basics.html" title="Open centaur/bitops/ihsext-basics">"centaur/bitops/ihsext-basics"</a> <span class="keyword">:dir</span> <span class="keyword">:system</span>))</pre>
  </div>

<div class="form-block other" id="form-5" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-include-book" data-sym="INCLUDE-BOOK">include-book</a> <a class="include-path" href="../../../arithmetic/top-with-meta.html" title="Open arithmetic/top-with-meta">"arithmetic/top-with-meta"</a> <span class="keyword">:dir</span> <span class="keyword">:system</span>))</pre>
  </div>

<div class="form-block other" id="form-6" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-include-book" data-sym="INCLUDE-BOOK">include-book</a> <a class="include-path" href="arith-lemmas.html" title="Open arith-lemmas">"arith-lemmas"</a>))</pre>
  </div>

<div class="form-block other" id="form-7" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> equal-complexes-rw
    (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (acl2-numberp x)
        (rationalp a)
        (rationalp b))
      (equal (equal (complex a b) x)
        (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (equal a (realpart x))
          (equal b (imagpart x)))))
    <span class="keyword">:hints</span> ((<span class="string">"goal"</span> <span class="keyword">:use</span> ((<span class="keyword">:instance</span> <a class="sym-link system" href="../../../axioms.html#def-realpart-imagpart-elim" data-sym="REALPART-IMAGPART-ELIM">realpart-imagpart-elim</a>))))))</pre>
  </div>

<div class="form-block other" id="form-8" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defsection symbolic-arithmetic
  <span class="keyword">:parents</span> (reference)
  <span class="keyword">:short</span> <span class="string">"Internal operations for computing on symbolic bit vectors."</span>
  <span class="keyword">:long</span> <span class="string">"&lt;p&gt;Naming convention:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;B stands for a boolean variable.&lt;/li&gt;
&lt;li&gt;S stands for a signed bvec.&lt;/li&gt;
&lt;li&gt;U stands for an unsigned bvec.&lt;/li&gt;
&lt;li&gt;V stands for a generic bvec where signedness doesn&#39;t matter.&lt;/li&gt;
&lt;li&gt;N stands for a known natural constant.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;For instance, @(&#39;bfr-ite-bss-fn&#39;) has @(&#39;bss&#39;), indicating that it&#39;s
for computing:&lt;/p&gt;

@({
     (ite Boolean Signed-Bvec Signed-Bvec)
})"</span>)</pre>
  </div>

<div class="form-block other" id="form-9" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (set-default-parents symbolic-arithmetic))</pre>
  </div>

<div class="form-block other" id="form-10" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(define int-set-sign
  ((negp <span class="string">"True if we should set the sign bit to 1."</span>) (i integerp <span class="string">"The integer to modify."</span>))
  <span class="keyword">:short</span> <span class="string">"Change the sign bit of an integer to a new value."</span>
  <span class="keyword">:returns</span> (new-i integerp <span class="keyword">:rule-classes</span> <span class="keyword">:type-prescription</span>)
  (let ((i (lifix i)))
    (logapp (<a class="sym-link system" href="../../../axioms.html#def-integer-length" data-sym="INTEGER-LENGTH">integer-length</a> i)
      i
      (if negp
        <span class="number">-1</span>
        <span class="number">0</span>)))
  ///
  (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> sign-of-int-set-sign
    (<a class="sym-link system" href="../../../axioms.html#def-iff" data-sym="IFF">iff</a> (&lt; (int-set-sign negp i) <span class="number">0</span>) negp)
    <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:in-theory</span> (e/d* (int-set-sign) (logapp ifix-under-int-equiv))))))</pre>
  </div>

<div class="form-block other" id="form-11" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(define non-int-fix
  (x)
  <span class="keyword">:short</span> <span class="string">"Identity for non-integers; coerces any integers to @(&#39;nil&#39;)."</span>
  (declare (xargs <span class="keyword">:guard</span> <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>))
  (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-not" data-sym="NOT">not</a> (integerp x)) x)
  ///
  (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> non-int-fix-when-non-integer
    (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-not" data-sym="NOT">not</a> (integerp x))
      (equal (non-int-fix x) x))
    <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:in-theory</span> (enable non-int-fix)))
    <span class="keyword">:rule-classes</span> ((<span class="keyword">:rewrite</span> <span class="keyword">:backchain-limit-lst</span> <span class="number">0</span>))))</pre>
  </div>

<div class="form-block other" id="form-12" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(define maybe-integer
  ((i integerp) x intp)
  (if intp
    (<a class="sym-link system" href="../../../axioms.html#def-ifix" data-sym="IFIX">ifix</a> i)
    (non-int-fix x))
  ///
  (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> maybe-integer-t
    (equal (maybe-integer i x <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>) (<a class="sym-link system" href="../../../axioms.html#def-ifix" data-sym="IFIX">ifix</a> i))
    <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:in-theory</span> (enable maybe-integer))))
  (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> maybe-integer-nil
    (equal (maybe-integer i x nil)
      (non-int-fix x))
    <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:in-theory</span> (enable maybe-integer)))))</pre>
  </div>

<div class="form-block function" id="def-extract-some-keywords" data-defines="EXTRACT-SOME-KEYWORDS" data-references="ACONS,SECOND,VALUE,CADR,CDDR,MEMBER,CONS,OTHER-ARGS,OTHER-KWS,CDR,CONSP,KEYWORDP,UNLESS,FIRST,ARG1,MV,ATOM,WHEN,B*,ALISTP,NO-DUPLICATESP,SYMBOL-LISTP,AND,XARGS,DECLARE,KWD-ALIST,ARGS,LEGAL-KWDS,DEFUN" data-used-by="DEFSYMBOLIC-FN" data-part-name="EXTRACT-SOME-KEYWORDS" data-part-args="KWD-ALIST,ARGS,LEGAL-KWDS" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="EXTRACT-SOME-KEYWORDS">extract-some-keywords</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-extract-some-keywords" data-sym="EXTRACT-SOME-KEYWORDS" title="(defun gl::extract-some-keywords (gl::legal-kwds gl::args gl::kwd-alist)
  &quot;Returns (mv kwd-alist other-args other-keywords)&quot;
  (declare
   (gl::xargs :guard
    (and (gl::symbol-listp gl::legal-kwds) (gl::no-duplicatesp gl::legal-kwds)
...">extract-some-keywords</a>
  (legal-kwds <a class="sym-link system" href="../../../defuns.html#def-args" data-sym="ARGS">args</a> kwd-alist)
  <span class="string">"Returns (mv kwd-alist other-args other-keywords)"</span>
  (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-symbol-listp" data-sym="SYMBOL-LISTP">symbol-listp</a> legal-kwds)
        (<a class="sym-link system" href="../../../axioms.html#def-no-duplicatesp" data-sym="NO-DUPLICATESP">no-duplicatesp</a> legal-kwds)
        (<a class="sym-link system" href="../../../axioms.html#def-alistp" data-sym="ALISTP">alistp</a> kwd-alist))))
  (b* (((when (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> <a class="sym-link system" href="../../../defuns.html#def-args" data-sym="ARGS">args</a>)) (<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> kwd-alist nil <a class="sym-link system" href="../../../defuns.html#def-args" data-sym="ARGS">args</a>)) (arg1 (<a class="sym-link system" href="../../../axioms.html#def-first" data-sym="FIRST">first</a> <a class="sym-link system" href="../../../defuns.html#def-args" data-sym="ARGS">args</a>))
      ((unless (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-keywordp" data-sym="KEYWORDP">keywordp</a> arg1) (consp (cdr <a class="sym-link system" href="../../../defuns.html#def-args" data-sym="ARGS">args</a>)))) (b* (((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> kwd-alist other-kws other-args) (<a class="sym-link local-def" href="#def-extract-some-keywords" data-sym="EXTRACT-SOME-KEYWORDS" title="(defun gl::extract-some-keywords (gl::legal-kwds gl::args gl::kwd-alist)
  &quot;Returns (mv kwd-alist other-args other-keywords)&quot;
  (declare
   (gl::xargs :guard
    (and (gl::symbol-listp gl::legal-kwds) (gl::no-duplicatesp gl::legal-kwds)
...">extract-some-keywords</a> legal-kwds
               (cdr <a class="sym-link system" href="../../../defuns.html#def-args" data-sym="ARGS">args</a>)
               kwd-alist)))
          (<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> kwd-alist
            other-kws
            (cons arg1 other-args))))
      ((unless (<a class="sym-link system" href="../../../axioms.html#def-member" data-sym="MEMBER">member</a> arg1 legal-kwds)) (b* (((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> kwd-alist other-kws other-args) (<a class="sym-link local-def" href="#def-extract-some-keywords" data-sym="EXTRACT-SOME-KEYWORDS" title="(defun gl::extract-some-keywords (gl::legal-kwds gl::args gl::kwd-alist)
  &quot;Returns (mv kwd-alist other-args other-keywords)&quot;
  (declare
   (gl::xargs :guard
    (and (gl::symbol-listp gl::legal-kwds) (gl::no-duplicatesp gl::legal-kwds)
...">extract-some-keywords</a> legal-kwds
               (<a class="sym-link system" href="../../../axioms.html#def-cddr" data-sym="CDDR">cddr</a> <a class="sym-link system" href="../../../defuns.html#def-args" data-sym="ARGS">args</a>)
               kwd-alist)))
          (<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> kwd-alist
            (cons arg1 (cons (<a class="sym-link system" href="../../../axioms.html#def-cadr" data-sym="CADR">cadr</a> <a class="sym-link system" href="../../../defuns.html#def-args" data-sym="ARGS">args</a>) other-kws))
            other-args)))
      (<a class="sym-link system" href="../../../axioms.html#def-value" data-sym="VALUE">value</a> (<a class="sym-link system" href="../../../axioms.html#def-second" data-sym="SECOND">second</a> <a class="sym-link system" href="../../../defuns.html#def-args" data-sym="ARGS">args</a>))
      (kwd-alist (<a class="sym-link system" href="../../../axioms.html#def-acons" data-sym="ACONS">acons</a> arg1 <a class="sym-link system" href="../../../axioms.html#def-value" data-sym="VALUE">value</a> kwd-alist)))
    (<a class="sym-link local-def" href="#def-extract-some-keywords" data-sym="EXTRACT-SOME-KEYWORDS" title="(defun gl::extract-some-keywords (gl::legal-kwds gl::args gl::kwd-alist)
  &quot;Returns (mv kwd-alist other-args other-keywords)&quot;
  (declare
   (gl::xargs :guard
    (and (gl::symbol-listp gl::legal-kwds) (gl::no-duplicatesp gl::legal-kwds)
...">extract-some-keywords</a> legal-kwds
      (<a class="sym-link system" href="../../../axioms.html#def-cddr" data-sym="CDDR">cddr</a> <a class="sym-link system" href="../../../defuns.html#def-args" data-sym="ARGS">args</a>)
      kwd-alist)))</pre>
  </div>

<div class="form-block function" id="def-defsymbolic-check-formals" data-defines="DEFSYMBOLIC-CHECK-FORMALS" data-references="HARD?,ER,CDR,RS,RU,S,U,B,P,I,N,QUOTE,CADAR,MEMBER,CAAR,SYMBOLP,LEN,EQL,CAR,CONSP,AND,T,ATOM,IF,X,DEFUN" data-used-by="DEFSYMBOLIC-FN" data-part-name="DEFSYMBOLIC-CHECK-FORMALS" data-part-args="X" data-part-body="HARD?,ER,CDR,DEFSYMBOLIC-CHECK-FORMALS,RS,RU,S,U,B,P,I,N,QUOTE,CADAR,MEMBER,CAAR,SYMBOLP,LEN,EQL,CAR,CONSP,AND,T,X,ATOM,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFSYMBOLIC-CHECK-FORMALS">defsymbolic-check-formals</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-defsymbolic-check-formals" data-sym="DEFSYMBOLIC-CHECK-FORMALS" title="(defun gl::defsymbolic-check-formals (gl::x)
  (if (atom gl::x)
      t
      (if (and (consp (car gl::x)) (eql (gl::len (car gl::x)) 2)
               (symbolp (caar gl::x))
...">defsymbolic-check-formals</a>
  (x)
  (if (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> x)
    <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>
    (if (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (consp (car x))
        (<a class="sym-link system" href="../../../axioms.html#def-eql" data-sym="EQL">eql</a> (<a class="sym-link system" href="../../../axioms.html#def-len" data-sym="LEN">len</a> (car x)) <span class="number">2</span>)
        (symbolp (<a class="sym-link system" href="../../../axioms.html#def-caar" data-sym="CAAR">caar</a> x))
        (<a class="sym-link system" href="../../../axioms.html#def-member" data-sym="MEMBER">member</a> (<a class="sym-link system" href="../../../axioms.html#def-cadar" data-sym="CADAR">cadar</a> x)
          '(n i p b <a class="sym-link system" href="../../../history-management.html#def-u" data-sym="U">u</a> s ru rs)))
      (<a class="sym-link local-def" href="#def-defsymbolic-check-formals" data-sym="DEFSYMBOLIC-CHECK-FORMALS" title="(defun gl::defsymbolic-check-formals (gl::x)
  (if (atom gl::x)
      t
      (if (and (consp (car gl::x)) (eql (gl::len (car gl::x)) 2)
               (symbolp (caar gl::x))
...">defsymbolic-check-formals</a> (cdr x))
      (<a class="sym-link system" href="../../../axioms.html#def-er" data-sym="ER">er</a> hard?
        '<a class="sym-link local-def" href="#def-defsymbolic-check-formals" data-sym="DEFSYMBOLIC-CHECK-FORMALS" title="(defun gl::defsymbolic-check-formals (gl::x)
  (if (atom gl::x)
      t
      (if (and (consp (car gl::x)) (eql (gl::len (car gl::x)) 2)
               (symbolp (caar gl::x))
...">defsymbolic-check-formals</a>
        <span class="string">"Bad formal: ~x0"</span>
        (car x)))))</pre>
  </div>

<div class="form-block function" id="def-defsymbolic-check-returns" data-defines="DEFSYMBOLIC-CHECK-RETURNS" data-references="HARD?,ER,CDR,EQL,OR,RS,RU,S,U,B,P,I,N,QUOTE,CADAR,MEMBER,CAAR,SYMBOLP,LEN,>=,CAR,CONSP,AND,T,ATOM,IF,X,DEFUN" data-used-by="DEFSYMBOLIC-FN" data-part-name="DEFSYMBOLIC-CHECK-RETURNS" data-part-args="X" data-part-body="HARD?,ER,CDR,DEFSYMBOLIC-CHECK-RETURNS,EQL,OR,RS,RU,S,U,B,P,I,N,QUOTE,CADAR,MEMBER,CAAR,SYMBOLP,LEN,>=,CAR,CONSP,AND,T,X,ATOM,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFSYMBOLIC-CHECK-RETURNS">defsymbolic-check-returns</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-defsymbolic-check-returns" data-sym="DEFSYMBOLIC-CHECK-RETURNS" title="(defun gl::defsymbolic-check-returns (gl::x)
  (if (atom gl::x)
      t
      (if (and (consp (car gl::x)) (&gt;= (gl::len (car gl::x)) 2)
               (symbolp (caar gl::x))
...">defsymbolic-check-returns</a>
  (x)
  (if (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> x)
    <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>
    (if (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (consp (car x))
        (<a class="sym-link system" href="../../../axioms.html#def-_3E_3D" data-sym="&gt;=">&gt;=</a> (<a class="sym-link system" href="../../../axioms.html#def-len" data-sym="LEN">len</a> (car x)) <span class="number">2</span>)
        (symbolp (<a class="sym-link system" href="../../../axioms.html#def-caar" data-sym="CAAR">caar</a> x))
        (<a class="sym-link system" href="../../../axioms.html#def-member" data-sym="MEMBER">member</a> (<a class="sym-link system" href="../../../axioms.html#def-cadar" data-sym="CADAR">cadar</a> x)
          '(n i p b <a class="sym-link system" href="../../../history-management.html#def-u" data-sym="U">u</a> s ru rs))
        (<a class="sym-link system" href="../../../axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="../../../axioms.html#def-member" data-sym="MEMBER">member</a> (<a class="sym-link system" href="../../../axioms.html#def-cadar" data-sym="CADAR">cadar</a> x) '(n i))
          (<a class="sym-link system" href="../../../axioms.html#def-eql" data-sym="EQL">eql</a> (<a class="sym-link system" href="../../../axioms.html#def-len" data-sym="LEN">len</a> (car x)) <span class="number">3</span>)))
      (<a class="sym-link local-def" href="#def-defsymbolic-check-returns" data-sym="DEFSYMBOLIC-CHECK-RETURNS" title="(defun gl::defsymbolic-check-returns (gl::x)
  (if (atom gl::x)
      t
      (if (and (consp (car gl::x)) (&gt;= (gl::len (car gl::x)) 2)
               (symbolp (caar gl::x))
...">defsymbolic-check-returns</a> (cdr x))
      (<a class="sym-link system" href="../../../axioms.html#def-er" data-sym="ER">er</a> hard?
        '<a class="sym-link local-def" href="#def-defsymbolic-check-returns" data-sym="DEFSYMBOLIC-CHECK-RETURNS" title="(defun gl::defsymbolic-check-returns (gl::x)
  (if (atom gl::x)
      t
      (if (and (consp (car gl::x)) (&gt;= (gl::len (car gl::x)) 2)
               (symbolp (caar gl::x))
...">defsymbolic-check-returns</a>
        <span class="string">"Bad return: ~x0"</span>
        (car x)))))</pre>
  </div>

<div class="form-block function" id="def-defsymbolic-formals-pair-with-evals" data-defines="DEFSYMBOLIC-FORMALS-PAIR-WITH-EVALS" data-references="CDR,RS,REV,RU,BFR-LIST->S,S,BFR-LIST->U,U,ENV,BFR-EVAL,B,POS-FIX,P,IFIX,I,NFIX,QUASIQUOTE,N,CADAR,CASE,CAAR,CONS,ATOM,IF,X,DEFUN" data-part-name="DEFSYMBOLIC-FORMALS-PAIR-WITH-EVALS" data-part-args="X" data-part-body="CDR,DEFSYMBOLIC-FORMALS-PAIR-WITH-EVALS,RS,REV,RU,BFR-LIST->S,S,BFR-LIST->U,U,ENV,BFR-EVAL,B,POS-FIX,P,IFIX,I,NFIX,QUASIQUOTE,N,CADAR,CASE,CAAR,CONS,X,ATOM,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFSYMBOLIC-FORMALS-PAIR-WITH-EVALS">defsymbolic-formals-pair-with-evals</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-defsymbolic-formals-pair-with-evals" data-sym="DEFSYMBOLIC-FORMALS-PAIR-WITH-EVALS" title="(defun gl::defsymbolic-formals-pair-with-evals (gl::x)
  (if (atom gl::x)
      nil
      (cons
       (cons (caar gl::x)
...">defsymbolic-formals-pair-with-evals</a>
  (x)
  (if (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> x)
    nil
    (cons (cons (<a class="sym-link system" href="../../../axioms.html#def-caar" data-sym="CAAR">caar</a> x)
        (<a class="sym-link system" href="../../../axioms.html#def-case" data-sym="CASE">case</a> (<a class="sym-link system" href="../../../axioms.html#def-cadar" data-sym="CADAR">cadar</a> x)
          (n `(<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> ,(CAAR GL::X)))
          (i `(<a class="sym-link system" href="../../../axioms.html#def-ifix" data-sym="IFIX">ifix</a> ,(CAAR GL::X)))
          (p `(pos-fix ,(CAAR GL::X)))
          (b `(bfr-eval ,(CAAR GL::X) env))
          (<a class="sym-link system" href="../../../history-management.html#def-u" data-sym="U">u</a> `(bfr-list-&gt;u ,(CAAR GL::X) env))
          (s `(bfr-list-&gt;s ,(CAAR GL::X) env))
          (ru `(bfr-list-&gt;u (rev ,(CAAR GL::X)) env))
          (rs `(bfr-list-&gt;s (rev ,(CAAR GL::X)) env))))
      (<a class="sym-link local-def" href="#def-defsymbolic-formals-pair-with-evals" data-sym="DEFSYMBOLIC-FORMALS-PAIR-WITH-EVALS" title="(defun gl::defsymbolic-formals-pair-with-evals (gl::x)
  (if (atom gl::x)
      nil
      (cons
       (cons (caar gl::x)
...">defsymbolic-formals-pair-with-evals</a> (cdr x)))))</pre>
  </div>

<div class="form-block function" id="def-defsymbolic-define-formals" data-defines="DEFSYMBOLIC-DEFINE-FORMALS" data-references="CDR,CAAR,T,TRUE-LISTP,RS,RU,S,U,POSP,P,INTEGERP,I,NATP,QUASIQUOTE,N,CADAR,CASE,CONS,ATOM,IF,X,DEFUN" data-part-name="DEFSYMBOLIC-DEFINE-FORMALS" data-part-args="X" data-part-body="CDR,DEFSYMBOLIC-DEFINE-FORMALS,CAAR,T,TRUE-LISTP,RS,RU,S,U,POSP,P,INTEGERP,I,NATP,QUASIQUOTE,N,CADAR,CASE,CONS,X,ATOM,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFSYMBOLIC-DEFINE-FORMALS">defsymbolic-define-formals</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-defsymbolic-define-formals" data-sym="DEFSYMBOLIC-DEFINE-FORMALS" title="(defun gl::defsymbolic-define-formals (gl::x)
  (if (atom gl::x)
      nil
      (cons
       (case (cadar gl::x)
...">defsymbolic-define-formals</a>
  (x)
  (if (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> x)
    nil
    (cons (<a class="sym-link system" href="../../../axioms.html#def-case" data-sym="CASE">case</a> (<a class="sym-link system" href="../../../axioms.html#def-cadar" data-sym="CADAR">cadar</a> x)
        (n `(,(CAAR GL::X) <a class="sym-link system" href="../../../axioms.html#def-natp" data-sym="NATP">natp</a>))
        (i `(,(CAAR GL::X) integerp))
        (p `(,(CAAR GL::X) <a class="sym-link system" href="../../../axioms.html#def-posp" data-sym="POSP">posp</a>))
        ((<a class="sym-link system" href="../../../history-management.html#def-u" data-sym="U">u</a> s ru rs) `(,(CAAR GL::X) <a class="sym-link system" href="../../../axioms.html#def-true-listp" data-sym="TRUE-LISTP">true-listp</a>))
        (<a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="../../../axioms.html#def-caar" data-sym="CAAR">caar</a> x)))
      (<a class="sym-link local-def" href="#def-defsymbolic-define-formals" data-sym="DEFSYMBOLIC-DEFINE-FORMALS" title="(defun gl::defsymbolic-define-formals (gl::x)
  (if (atom gl::x)
      nil
      (cons
       (case (cadar gl::x)
...">defsymbolic-define-formals</a> (cdr x)))))</pre>
  </div>

<div class="form-block function" id="def-defsymbolic-guards" data-defines="DEFSYMBOLIC-GUARDS" data-references="CDR,TRUE-LISTP,RS,RU,S,U,POSP,P,INTEGERP,I,NATP,QUASIQUOTE,N,CADAR,CASE,APPEND,ATOM,IF,X,DEFUN" data-part-name="DEFSYMBOLIC-GUARDS" data-part-args="X" data-part-body="CDR,DEFSYMBOLIC-GUARDS,TRUE-LISTP,RS,RU,S,U,POSP,P,INTEGERP,I,NATP,QUASIQUOTE,N,CADAR,CASE,APPEND,X,ATOM,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFSYMBOLIC-GUARDS">defsymbolic-guards</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-defsymbolic-guards" data-sym="DEFSYMBOLIC-GUARDS" title="(defun gl::defsymbolic-guards (gl::x)
  (if (atom gl::x)
      nil
      (append
       (case (cadar gl::x)
...">defsymbolic-guards</a>
  (x)
  (if (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> x)
    nil
    (<a class="sym-link system" href="../../../axioms.html#def-append" data-sym="APPEND">append</a> (<a class="sym-link system" href="../../../axioms.html#def-case" data-sym="CASE">case</a> (<a class="sym-link system" href="../../../axioms.html#def-cadar" data-sym="CADAR">cadar</a> x)
        (n `((<a class="sym-link system" href="../../../axioms.html#def-natp" data-sym="NATP">natp</a> ,(CAAR GL::X))))
        (i `((integerp ,(CAAR GL::X))))
        (p `((<a class="sym-link system" href="../../../axioms.html#def-posp" data-sym="POSP">posp</a> ,(CAAR GL::X))))
        ((<a class="sym-link system" href="../../../history-management.html#def-u" data-sym="U">u</a> s ru rs) `((<a class="sym-link system" href="../../../axioms.html#def-true-listp" data-sym="TRUE-LISTP">true-listp</a> ,(CAAR GL::X)))))
      (<a class="sym-link local-def" href="#def-defsymbolic-guards" data-sym="DEFSYMBOLIC-GUARDS" title="(defun gl::defsymbolic-guards (gl::x)
  (if (atom gl::x)
      nil
      (append
       (case (cadar gl::x)
...">defsymbolic-guards</a> (cdr x)))))</pre>
  </div>

<div class="form-block function" id="def-defsymbolic-define-returns1" data-defines="DEFSYMBOLIC-DEFINE-RETURNS1" data-references="CDR,TRUE-LISTP,T,B,POSP,P,INTEGERP,I,NATP,QUASIQUOTE,N,CADAR,CASE,CONS,ATOM,IF,X,DEFUN" data-used-by="DEFSYMBOLIC-DEFINE-RETURNS" data-part-name="DEFSYMBOLIC-DEFINE-RETURNS1" data-part-args="X" data-part-body="CDR,DEFSYMBOLIC-DEFINE-RETURNS1,TRUE-LISTP,T,B,POSP,P,INTEGERP,I,NATP,QUASIQUOTE,N,CADAR,CASE,CONS,X,ATOM,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFSYMBOLIC-DEFINE-RETURNS1">defsymbolic-define-returns1</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-defsymbolic-define-returns1" data-sym="DEFSYMBOLIC-DEFINE-RETURNS1" title="(defun gl::defsymbolic-define-returns1 (gl::x)
  (if (atom gl::x)
      nil
      (cons
       (case (cadar gl::x)
...">defsymbolic-define-returns1</a>
  (x)
  (if (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> x)
    nil
    (cons (<a class="sym-link system" href="../../../axioms.html#def-case" data-sym="CASE">case</a> (<a class="sym-link system" href="../../../axioms.html#def-cadar" data-sym="CADAR">cadar</a> x)
        (n `(,(CAAR GL::X) <a class="sym-link system" href="../../../axioms.html#def-natp" data-sym="NATP">natp</a> <span class="keyword">:rule-classes</span> <span class="keyword">:type-prescription</span>))
        (i `(,(CAAR GL::X) integerp <span class="keyword">:rule-classes</span> <span class="keyword">:type-prescription</span>))
        (p `(,(CAAR GL::X) <a class="sym-link system" href="../../../axioms.html#def-posp" data-sym="POSP">posp</a> <span class="keyword">:rule-classes</span> <span class="keyword">:type-prescription</span>))
        (b `(,(CAAR GL::X) <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>))
        (<a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a> `(,(CAAR GL::X) <a class="sym-link system" href="../../../axioms.html#def-true-listp" data-sym="TRUE-LISTP">true-listp</a>
            <span class="keyword">:rule-classes</span> <span class="keyword">:type-prescription</span>)))
      (<a class="sym-link local-def" href="#def-defsymbolic-define-returns1" data-sym="DEFSYMBOLIC-DEFINE-RETURNS1" title="(defun gl::defsymbolic-define-returns1 (gl::x)
  (if (atom gl::x)
      nil
      (cons
       (case (cadar gl::x)
...">defsymbolic-define-returns1</a> (cdr x)))))</pre>
  </div>

<div class="form-block function" id="def-defsymbolic-define-returns" data-defines="DEFSYMBOLIC-DEFINE-RETURNS" data-references="MV,QUOTE,CONS,CAR,CDR,ATOM,IF,DEFSYMBOLIC-DEFINE-RETURNS1,RETS,LET,X,DEFUN" data-part-name="DEFSYMBOLIC-DEFINE-RETURNS" data-part-args="X" data-part-body="MV,QUOTE,CONS,CAR,CDR,ATOM,IF,X,DEFSYMBOLIC-DEFINE-RETURNS1,RETS,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFSYMBOLIC-DEFINE-RETURNS">defsymbolic-define-returns</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-defsymbolic-define-returns" data-sym="DEFSYMBOLIC-DEFINE-RETURNS" title="(defun gl::defsymbolic-define-returns (gl::x)
  (let ((gl::rets (gl::defsymbolic-define-returns1 gl::x)))
    (if (atom (cdr gl::rets))
        (car gl::rets)
        (cons &#39;gl::mv gl::rets))))">defsymbolic-define-returns</a>
  (x)
  (let ((rets (<a class="sym-link local-def" href="#def-defsymbolic-define-returns1" data-sym="DEFSYMBOLIC-DEFINE-RETURNS1" title="(defun gl::defsymbolic-define-returns1 (gl::x)
  (if (atom gl::x)
      nil
      (cons
       (case (cadar gl::x)
...">defsymbolic-define-returns1</a> x)))
    (if (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> (cdr rets))
      (car rets)
      (cons '<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> rets))))</pre>
  </div>

<div class="form-block function" id="def-defsymbolic-spec-term" data-defines="DEFSYMBOLIC-SPEC-TERM" data-references="DEFSYMBOLIC,QUOTE,HARD?,ER,IMPLIES,QUASIQUOTE,FOURTH,EQ,AND,THIRD,SUBLIS,LEN,EQL,IF,RETSPEC,FORMAL-EVALS,DEFUN" data-used-by="DEFSYMBOLIC-RETURN-SPECS" data-part-name="DEFSYMBOLIC-SPEC-TERM" data-part-args="RETSPEC,FORMAL-EVALS" data-part-body="DEFSYMBOLIC,QUOTE,HARD?,ER,IMPLIES,QUASIQUOTE,FOURTH,EQ,AND,THIRD,FORMAL-EVALS,SUBLIS,RETSPEC,LEN,EQL,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFSYMBOLIC-SPEC-TERM">defsymbolic-spec-term</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-defsymbolic-spec-term" data-sym="DEFSYMBOLIC-SPEC-TERM" title="(defun gl::defsymbolic-spec-term (gl::formal-evals gl::retspec)
  (if (eql (gl::len gl::retspec) 3)
      (sublis gl::formal-evals (third gl::retspec))
      (if (and (eql (gl::len gl::retspec) 5) (eq (fourth gl::retspec) :cond))
          `(gl::implies ,(sublis gl::formal-evals (fifth gl::retspec))
...">defsymbolic-spec-term</a>
  (formal-evals retspec)
  (if (<a class="sym-link system" href="../../../axioms.html#def-eql" data-sym="EQL">eql</a> (<a class="sym-link system" href="../../../axioms.html#def-len" data-sym="LEN">len</a> retspec) <span class="number">3</span>)
    (<a class="sym-link system" href="../../../axioms.html#def-sublis" data-sym="SUBLIS">sublis</a> formal-evals (<a class="sym-link system" href="../../../axioms.html#def-third" data-sym="THIRD">third</a> retspec))
    (if (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-eql" data-sym="EQL">eql</a> (<a class="sym-link system" href="../../../axioms.html#def-len" data-sym="LEN">len</a> retspec) <span class="number">5</span>)
        (<a class="sym-link system" href="../../../axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="../../../axioms.html#def-fourth" data-sym="FOURTH">fourth</a> retspec) <span class="keyword">:cond</span>))
      `(<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> ,(SUBLIS GL::FORMAL-EVALS (FIFTH GL::RETSPEC))
        ,(SUBLIS GL::FORMAL-EVALS (THIRD GL::RETSPEC)))
      (<a class="sym-link system" href="../../../axioms.html#def-er" data-sym="ER">er</a> hard?
        '<a class="sym-link local-def" href="#def-defsymbolic" data-sym="DEFSYMBOLIC" title="(defmacro gl::defsymbolic (gl::name &amp;rest gl::args)
  (gl::defsymbolic-fn gl::name gl::args))">defsymbolic</a>
        <span class="string">"bad return-spec: ~x0~%"</span>
        retspec))))</pre>
  </div>

<div class="form-block function" id="def-defsymbolic-return-specs" data-defines="DEFSYMBOLIC-RETURN-SPECS" data-references="CDR,RS,REV,RU,BFR-LIST->S,S,BFR-LIST->U,U,ENV,BFR-EVAL,B,EQUAL,QUASIQUOTE,THIRD,AND,P,I,N,CADAR,CASE,CAR,DEFSYMBOLIC-SPEC-TERM,SPEC-TERM,B*,APPEND,ATOM,IF,FORMAL-EVALS,X,DEFUN" data-part-name="DEFSYMBOLIC-RETURN-SPECS" data-part-args="FORMAL-EVALS,X" data-part-body="CDR,DEFSYMBOLIC-RETURN-SPECS,RS,REV,RU,BFR-LIST->S,S,BFR-LIST->U,U,ENV,BFR-EVAL,B,EQUAL,QUASIQUOTE,THIRD,AND,P,I,N,CADAR,CASE,CAR,FORMAL-EVALS,DEFSYMBOLIC-SPEC-TERM,SPEC-TERM,B*,APPEND,X,ATOM,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFSYMBOLIC-RETURN-SPECS">defsymbolic-return-specs</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-defsymbolic-return-specs" data-sym="DEFSYMBOLIC-RETURN-SPECS" title="(defun gl::defsymbolic-return-specs (gl::x gl::formal-evals)
  (if (atom gl::x)
      nil
      (append
       (gl::b*
...">defsymbolic-return-specs</a>
  (x formal-evals)
  (if (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> x)
    nil
    (<a class="sym-link system" href="../../../axioms.html#def-append" data-sym="APPEND">append</a> (b* ((spec-term (<a class="sym-link local-def" href="#def-defsymbolic-spec-term" data-sym="DEFSYMBOLIC-SPEC-TERM" title="(defun gl::defsymbolic-spec-term (gl::formal-evals gl::retspec)
  (if (eql (gl::len gl::retspec) 3)
      (sublis gl::formal-evals (third gl::retspec))
      (if (and (eql (gl::len gl::retspec) 5) (eq (fourth gl::retspec) :cond))
          `(gl::implies ,(sublis gl::formal-evals (fifth gl::retspec))
...">defsymbolic-spec-term</a> formal-evals (car x))))
        (<a class="sym-link system" href="../../../axioms.html#def-case" data-sym="CASE">case</a> (<a class="sym-link system" href="../../../axioms.html#def-cadar" data-sym="CADAR">cadar</a> x)
          ((n i p) (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-third" data-sym="THIRD">third</a> (car x))
              `((equal ,(CAAR GL::X) ,GL::SPEC-TERM))))
          (b `((equal (bfr-eval ,(CAAR GL::X) env) ,GL::SPEC-TERM)))
          (<a class="sym-link system" href="../../../history-management.html#def-u" data-sym="U">u</a> `((equal (bfr-list-&gt;u ,(CAAR GL::X) env)
               ,GL::SPEC-TERM)))
          (s `((equal (bfr-list-&gt;s ,(CAAR GL::X) env)
               ,GL::SPEC-TERM)))
          (ru `((equal (bfr-list-&gt;u (rev ,(CAAR GL::X)) env)
               ,GL::SPEC-TERM)))
          (rs `((equal (bfr-list-&gt;s (rev ,(CAAR GL::X)) env)
               ,GL::SPEC-TERM)))))
      (<a class="sym-link local-def" href="#def-defsymbolic-return-specs" data-sym="DEFSYMBOLIC-RETURN-SPECS" title="(defun gl::defsymbolic-return-specs (gl::x gl::formal-evals)
  (if (atom gl::x)
      nil
      (append
       (gl::b*
...">defsymbolic-return-specs</a> (cdr x) formal-evals))))</pre>
  </div>

<div class="form-block function" id="def-defsymbolic-not-depends-on" data-defines="DEFSYMBOLIC-NOT-DEPENDS-ON" data-references="CDR,PBFR-LIST-DEPENDS-ON,RS,RU,S,U,PARAM,VARNAME,PBFR-DEPENDS-ON,NOT,QUASIQUOTE,B,CADAR,CASE,APPEND,ATOM,IF,X,DEFUN" data-part-name="DEFSYMBOLIC-NOT-DEPENDS-ON" data-part-args="X" data-part-body="CDR,DEFSYMBOLIC-NOT-DEPENDS-ON,PBFR-LIST-DEPENDS-ON,RS,RU,S,U,PARAM,VARNAME,PBFR-DEPENDS-ON,NOT,QUASIQUOTE,B,CADAR,CASE,APPEND,X,ATOM,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFSYMBOLIC-NOT-DEPENDS-ON">defsymbolic-not-depends-on</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-defsymbolic-not-depends-on" data-sym="DEFSYMBOLIC-NOT-DEPENDS-ON" title="(defun gl::defsymbolic-not-depends-on (gl::x)
  (if (atom gl::x)
      nil
      (append
       (case (cadar gl::x)
...">defsymbolic-not-depends-on</a>
  (x)
  (if (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> x)
    nil
    (<a class="sym-link system" href="../../../axioms.html#def-append" data-sym="APPEND">append</a> (<a class="sym-link system" href="../../../axioms.html#def-case" data-sym="CASE">case</a> (<a class="sym-link system" href="../../../axioms.html#def-cadar" data-sym="CADAR">cadar</a> x)
        (b `((<a class="sym-link system" href="../../../axioms.html#def-not" data-sym="NOT">not</a> (pbfr-depends-on varname param ,(CAAR GL::X)))))
        ((<a class="sym-link system" href="../../../history-management.html#def-u" data-sym="U">u</a> s ru rs) `((<a class="sym-link system" href="../../../axioms.html#def-not" data-sym="NOT">not</a> (pbfr-list-depends-on varname
               param
               ,(CAAR GL::X))))))
      (<a class="sym-link local-def" href="#def-defsymbolic-not-depends-on" data-sym="DEFSYMBOLIC-NOT-DEPENDS-ON" title="(defun gl::defsymbolic-not-depends-on (gl::x)
  (if (atom gl::x)
      nil
      (append
       (case (cadar gl::x)
...">defsymbolic-not-depends-on</a> (cdr x)))))</pre>
  </div>

<div class="form-block function" id="def-induct_2Fexpand-fn" data-defines="INDUCT/EXPAND-FN" data-references="DISABLE,QUASIQUOTE,T,RECURSIVEP,APPEND,FORMALS,LET,CLAUSE-ID,ACCESS,NOT,AND,XARGS,DECLARE,WORLD,ID,FN,DEFUN" data-used-by="INDUCT/EXPAND" data-part-name="INDUCT/EXPAND-FN" data-part-args="WORLD,ID,FN" data-part-declare="XARGS,DECLARE" data-part-body="DISABLE,QUASIQUOTE,T,RECURSIVEP,APPEND,WORLD,FN,FORMALS,LET,ID,CLAUSE-ID,ACCESS,NOT,AND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="INDUCT/EXPAND-FN">induct/expand-fn</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-induct_2Fexpand-fn" data-sym="INDUCT/EXPAND-FN" title="(defun gl::induct/expand-fn (gl::fn gl::id gl::world)
  (declare (gl::xargs :mode :program))
  (and (not (access clause-id gl::id :pool-lst))
       (let ((gl::formals (gl::formals gl::fn gl::world)))
         (append
...">induct/expand-fn</a>
  (fn id world)
  (declare (xargs <span class="keyword">:mode</span> <span class="keyword">:program</span>))
  (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="../../../axioms.html#def-access" data-sym="ACCESS">access</a> clause-id id <span class="keyword">:pool-lst</span>))
    (let ((<a class="sym-link system" href="../../../basis-b.html#def-formals" data-sym="FORMALS">formals</a> (<a class="sym-link system" href="../../../basis-b.html#def-formals" data-sym="FORMALS">formals</a> fn world)))
      (<a class="sym-link system" href="../../../axioms.html#def-append" data-sym="APPEND">append</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (recursivep fn <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a> world)
          `(<span class="keyword">:induct</span> (,GL::FN . ,GL::FORMALS)))
        `(<span class="keyword">:expand</span> ((,GL::FN . ,GL::FORMALS))
          <span class="keyword">:in-theory</span> (disable (<span class="keyword">:d</span> ,GL::FN)))))))</pre>
  </div>

<div class="form-block macro" id="def-induct_2Fexpand" data-defines="INDUCT/EXPAND" data-references="WORLD,ID,QUOTE,INDUCT/EXPAND-FN,QUASIQUOTE,FN,DEFMACRO" data-used-by="DEFSYMBOLIC-FN" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="INDUCT/EXPAND">induct/expand</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-induct_2Fexpand" data-sym="INDUCT/EXPAND" title="(defmacro gl::induct/expand (gl::fn)
  `(gl::induct/expand-fn &#39;,gl::fn gl::id gl::world))">induct/expand</a>
  (fn)
  `(<a class="sym-link local-def" href="#def-induct_2Fexpand-fn" data-sym="INDUCT/EXPAND-FN" title="(defun gl::induct/expand-fn (gl::fn gl::id gl::world)
  (declare (gl::xargs :mode :program))
  (and (not (access clause-id gl::id :pool-lst))
       (let ((gl::formals (gl::formals gl::fn gl::world)))
         (append
...">induct/expand-fn</a> ',GL::FN id world))</pre>
  </div>

<div class="form-block function" id="def-defsymbolic-fn" data-defines="DEFSYMBOLIC-FN" data-references="DEFSYMBOLIC-FORMS,TABLE,AND,IMPLIES,INDUCT/EXPAND,DEFTHM,VERIFY-GUARDS,///,DEFINE,PROGN,SYMBOL-NAME,STRING,CONCATENATE,INTERN-IN-PACKAGE-OF-SYMBOL,EXEC-NAME,FORMAL-VARS,CAAR,QUASIQUOTE,RETURN-BINDER,STRIP-CARS,INTERSECTP-EQ,WHEN,DEFSYMBOLIC-CHECK-RETURNS,DEFSYMBOLIC-CHECK-FORMALS,-,LIST,EQ,IF,CONSP,ASSOC,CDR,RETURNS,GETARG,ABSTRACTP,CADR,BODY,CAR,FORMALS,HARD?,ER,LEN,EQL,UNLESS,QUOTE,EXTRACT-SOME-KEYWORDS,OTHER-ARGS,OTHER-KWS,KWD-ALIST,MV,B*,XARGS,DECLARE,ARGS,NAME,DEFUN" data-used-by="DEFSYMBOLIC" data-part-name="DEFSYMBOLIC-FN" data-part-args="ARGS,NAME" data-part-declare="XARGS,DECLARE" data-part-body="DEFSYMBOLIC-FORMS,TABLE,AND,IMPLIES,INDUCT/EXPAND,DEFTHM,VERIFY-GUARDS,///,DEFINE,PROGN,NAME,SYMBOL-NAME,STRING,CONCATENATE,INTERN-IN-PACKAGE-OF-SYMBOL,EXEC-NAME,FORMAL-VARS,CAAR,QUASIQUOTE,RETURN-BINDER,STRIP-CARS,INTERSECTP-EQ,WHEN,DEFSYMBOLIC-CHECK-RETURNS,DEFSYMBOLIC-CHECK-FORMALS,-,LIST,EQ,IF,CONSP,ASSOC,CDR,RETURNS,GETARG,ABSTRACTP,CADR,BODY,CAR,FORMALS,DEFSYMBOLIC-FN,HARD?,ER,LEN,EQL,UNLESS,ARGS,QUOTE,EXTRACT-SOME-KEYWORDS,OTHER-ARGS,OTHER-KWS,KWD-ALIST,MV,B*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFSYMBOLIC-FN">defsymbolic-fn</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-defsymbolic-fn" data-sym="DEFSYMBOLIC-FN" title="(defun gl::defsymbolic-fn (gl::name gl::args)
  (declare (gl::xargs :mode :program))
  (gl::b*
   (((gl::mv gl::kwd-alist gl::other-kws gl::other-args)
     (gl::extract-some-keywords
...">defsymbolic-fn</a>
  (name <a class="sym-link system" href="../../../defuns.html#def-args" data-sym="ARGS">args</a>)
  (declare (xargs <span class="keyword">:mode</span> <span class="keyword">:program</span>))
  (b* (((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> kwd-alist other-kws other-args) (<a class="sym-link local-def" href="#def-extract-some-keywords" data-sym="EXTRACT-SOME-KEYWORDS" title="(defun gl::extract-some-keywords (gl::legal-kwds gl::args gl::kwd-alist)
  &quot;Returns (mv kwd-alist other-args other-keywords)&quot;
  (declare
   (gl::xargs :guard
    (and (gl::symbol-listp gl::legal-kwds) (gl::no-duplicatesp gl::legal-kwds)
...">extract-some-keywords</a> '(<span class="keyword">:spec</span> <span class="keyword">:returns</span> <span class="keyword">:correct-hints</span> <span class="keyword">:depends-hints</span> <span class="keyword">:correct-hyp</span> <span class="keyword">:abstract</span> <span class="keyword">:guard-hints</span>)
         <a class="sym-link system" href="../../../defuns.html#def-args" data-sym="ARGS">args</a>
         nil)) ((unless (<a class="sym-link system" href="../../../axioms.html#def-eql" data-sym="EQL">eql</a> (<a class="sym-link system" href="../../../axioms.html#def-len" data-sym="LEN">len</a> other-args) <span class="number">2</span>)) (<a class="sym-link system" href="../../../axioms.html#def-er" data-sym="ER">er</a> hard?
          '<a class="sym-link local-def" href="#def-defsymbolic-fn" data-sym="DEFSYMBOLIC-FN" title="(defun gl::defsymbolic-fn (gl::name gl::args)
  (declare (gl::xargs :mode :program))
  (gl::b*
   (((gl::mv gl::kwd-alist gl::other-kws gl::other-args)
     (gl::extract-some-keywords
...">defsymbolic-fn</a>
          <span class="string">"Need formals and body in addition to keyword args"</span>))
      (<a class="sym-link system" href="../../../basis-b.html#def-formals" data-sym="FORMALS">formals</a> (car other-args))
      (<a class="sym-link system" href="../../../basis-b.html#def-body" data-sym="BODY">body</a> (<a class="sym-link system" href="../../../axioms.html#def-cadr" data-sym="CADR">cadr</a> other-args))
      (abstractp (getarg <span class="keyword">:abstract</span> nil kwd-alist))
      (returns (cdr (<a class="sym-link system" href="../../../axioms.html#def-assoc" data-sym="ASSOC">assoc</a> <span class="keyword">:returns</span> kwd-alist)))
      ((unless (consp returns)) (<a class="sym-link system" href="../../../axioms.html#def-er" data-sym="ER">er</a> hard? '<a class="sym-link local-def" href="#def-defsymbolic-fn" data-sym="DEFSYMBOLIC-FN" title="(defun gl::defsymbolic-fn (gl::name gl::args)
  (declare (gl::xargs :mode :program))
  (gl::b*
   (((gl::mv gl::kwd-alist gl::other-kws gl::other-args)
     (gl::extract-some-keywords
...">defsymbolic-fn</a> <span class="string">"Need a returns list"</span>))
      (returns (if (<a class="sym-link system" href="../../../axioms.html#def-eq" data-sym="EQ">eq</a> (car returns) '<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a>)
          (cdr returns)
          (<a class="sym-link system" href="../../../axioms.html#def-list" data-sym="LIST">list</a> returns)))
      (<a class="sym-link system" href="../../../axioms.html#def--" data-sym="-">-</a> (<a class="sym-link local-def" href="#def-defsymbolic-check-formals" data-sym="DEFSYMBOLIC-CHECK-FORMALS" title="(defun gl::defsymbolic-check-formals (gl::x)
  (if (atom gl::x)
      t
      (if (and (consp (car gl::x)) (eql (gl::len (car gl::x)) 2)
               (symbolp (caar gl::x))
...">defsymbolic-check-formals</a> <a class="sym-link system" href="../../../basis-b.html#def-formals" data-sym="FORMALS">formals</a>))
      (<a class="sym-link system" href="../../../axioms.html#def--" data-sym="-">-</a> (<a class="sym-link local-def" href="#def-defsymbolic-check-returns" data-sym="DEFSYMBOLIC-CHECK-RETURNS" title="(defun gl::defsymbolic-check-returns (gl::x)
  (if (atom gl::x)
      t
      (if (and (consp (car gl::x)) (&gt;= (gl::len (car gl::x)) 2)
               (symbolp (caar gl::x))
...">defsymbolic-check-returns</a> returns))
      ((when (<a class="sym-link system" href="../../../axioms.html#def-intersectp-eq" data-sym="INTERSECTP-EQ">intersectp-eq</a> (<a class="sym-link system" href="../../../axioms.html#def-strip-cars" data-sym="STRIP-CARS">strip-cars</a> <a class="sym-link system" href="../../../basis-b.html#def-formals" data-sym="FORMALS">formals</a>)
           (<a class="sym-link system" href="../../../axioms.html#def-strip-cars" data-sym="STRIP-CARS">strip-cars</a> returns))) (<a class="sym-link system" href="../../../axioms.html#def-er" data-sym="ER">er</a> hard?
          '<a class="sym-link local-def" href="#def-defsymbolic-fn" data-sym="DEFSYMBOLIC-FN" title="(defun gl::defsymbolic-fn (gl::name gl::args)
  (declare (gl::xargs :mode :program))
  (gl::b*
   (((gl::mv gl::kwd-alist gl::other-kws gl::other-args)
     (gl::extract-some-keywords
...">defsymbolic-fn</a>
          <span class="string">"Formals and returns overlap"</span>))
      (return-binder (if (consp (cdr returns))
          `(<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> . ,(GL::STRIP-CARS GL::RETURNS))
          (<a class="sym-link system" href="../../../axioms.html#def-caar" data-sym="CAAR">caar</a> returns)))
      (formal-vars (<a class="sym-link system" href="../../../axioms.html#def-strip-cars" data-sym="STRIP-CARS">strip-cars</a> <a class="sym-link system" href="../../../basis-b.html#def-formals" data-sym="FORMALS">formals</a>))
      (exec-name (if abstractp
          (intern-in-package-of-symbol (<a class="sym-link system" href="../../../axioms.html#def-concatenate" data-sym="CONCATENATE">concatenate</a> '<a class="sym-link system" href="../../../axioms.html#def-string" data-sym="STRING">string</a> (symbol-name name) <span class="string">"-EXEC"</span>)
            name)
          name)))
    `(<a class="sym-link system" href="../../../axioms.html#def-progn" data-sym="PROGN">progn</a> (define ,GL::EXEC-NAME
        ,(GL::DEFSYMBOLIC-DEFINE-FORMALS GL::FORMALS)
        ,@GL::OTHER-KWS
        <span class="keyword">:verify-guards</span> nil
        <span class="keyword">:returns</span> ,(GL::DEFSYMBOLIC-DEFINE-RETURNS GL::RETURNS)
        ,(SUBST GL::EXEC-NAME GL::NAME GL::BODY)
        ///
        (<a class="sym-link system" href="../../../axioms.html#def-verify-guards" data-sym="VERIFY-GUARDS">verify-guards</a> ,GL::EXEC-NAME
          <span class="keyword">:hints</span> ,(CDR (ASSOC :GUARD-HINTS GL::KWD-ALIST)))
        (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> ,(GL::INTERN-IN-PACKAGE-OF-SYMBOL
  (CONCATENATE &#39;STRING (SYMBOL-NAME GL::EXEC-NAME) &quot;-CORRECT&quot;) GL::EXEC-NAME)
          (b* ((,GL::RETURN-BINDER (,GL::EXEC-NAME . ,GL::FORMAL-VARS)))
            ,(LET ((GL::CONCL
        `(AND
          . ,(GL::DEFSYMBOLIC-RETURN-SPECS GL::RETURNS
              (GL::DEFSYMBOLIC-FORMALS-PAIR-WITH-EVALS GL::FORMALS))))
       (GL::CORRECT-HYP (CDR (ASSOC :CORRECT-HYP GL::KWD-ALIST))))
   (IF GL::CORRECT-HYP
       `(GL::IMPLIES ,GL::CORRECT-HYP ,GL::CONCL)
       GL::CONCL)))
          <span class="keyword">:hints</span> ((<a class="sym-link local-def" href="#def-induct_2Fexpand" data-sym="INDUCT/EXPAND" title="(defmacro gl::induct/expand (gl::fn)
  `(gl::induct/expand-fn &#39;,gl::fn gl::id gl::world))">induct/expand</a> ,GL::EXEC-NAME) . ,(SUBST GL::EXEC-NAME GL::NAME (CDR (ASSOC :CORRECT-HINTS GL::KWD-ALIST)))))
        (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> ,(GL::INTERN-IN-PACKAGE-OF-SYMBOL
  (CONCATENATE &#39;STRING (SYMBOL-NAME GL::EXEC-NAME) &quot;-DEPS&quot;) GL::EXEC-NAME)
          (b* ((,GL::RETURN-BINDER (,GL::EXEC-NAME . ,GL::FORMAL-VARS)))
            (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> . ,(GL::DEFSYMBOLIC-NOT-DEPENDS-ON GL::FORMALS))
              (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> . ,(GL::DEFSYMBOLIC-NOT-DEPENDS-ON GL::RETURNS))))
          <span class="keyword">:hints</span> ((<a class="sym-link local-def" href="#def-induct_2Fexpand" data-sym="INDUCT/EXPAND" title="(defmacro gl::induct/expand (gl::fn)
  `(gl::induct/expand-fn &#39;,gl::fn gl::id gl::world))">induct/expand</a> ,GL::EXEC-NAME) . ,(SUBST GL::EXEC-NAME GL::NAME (CDR (ASSOC :DEPENDS-HINTS GL::KWD-ALIST))))))
      ,@(AND GL::ABSTRACTP
       `((GL::ENCAPSULATE
          (((,GL::NAME . ,(REPLICATE (GL::LEN GL::FORMALS) &#39;*)) GL::=&gt;
            ,(IF (CONSP (CDR GL::RETURNS))
                 `(GL::MV . ,(REPLICATE (GL::LEN GL::RETURNS) &#39;*))
                 &#39;*)
            :FORMALS ,GL::FORMAL-VARS :GUARD
            (AND
             ,@(LET ((GL::GUARD
                      (CADR (GL::ASSOC-KEYWORD :GUARD GL::OTHER-KWS))))
                 (AND GL::GUARD `(,GL::GUARD)))
             . ,(GL::DEFSYMBOLIC-GUARDS GL::FORMALS))))
          (GL::LOCAL
           (DEFUN ,GL::NAME ,GL::FORMAL-VARS
             (,GL::EXEC-NAME . ,GL::FORMAL-VARS)))
          (GL::DEFTHM
           ,(GL::INTERN-IN-PACKAGE-OF-SYMBOL
             (CONCATENATE &#39;STRING (SYMBOL-NAME GL::NAME) &quot;-CORRECT&quot;) GL::NAME)
           (GL::B* ((,GL::RETURN-BINDER (,GL::NAME . ,GL::FORMAL-VARS)))
            ,(LET ((GL::CONCL
                    `(AND
                      . ,(GL::DEFSYMBOLIC-RETURN-SPECS GL::RETURNS
                          (GL::DEFSYMBOLIC-FORMALS-PAIR-WITH-EVALS
                           GL::FORMALS))))
                   (GL::CORRECT-HYP (CDR (ASSOC :CORRECT-HYP GL::KWD-ALIST))))
               (IF GL::CORRECT-HYP
                   `(GL::IMPLIES ,GL::CORRECT-HYP ,GL::CONCL)
                   GL::CONCL))))
          (GL::DEFTHM
           ,(GL::INTERN-IN-PACKAGE-OF-SYMBOL
             (CONCATENATE &#39;STRING (SYMBOL-NAME GL::NAME) &quot;-DEPS&quot;) GL::NAME)
           (GL::B* ((,GL::RETURN-BINDER (,GL::NAME . ,GL::FORMAL-VARS)))
            (GL::IMPLIES (AND . ,(GL::DEFSYMBOLIC-NOT-DEPENDS-ON GL::FORMALS))
             (AND . ,(GL::DEFSYMBOLIC-NOT-DEPENDS-ON GL::RETURNS))))))
         (GL::DEFATTACH ,GL::NAME ,GL::EXEC-NAME)))
      (<a class="sym-link system" href="../../../axioms.html#def-table" data-sym="TABLE">table</a> defsymbolic-forms ',GL::NAME ',GL::ARGS))))</pre>
  </div>

<div class="form-block macro" id="def-defsymbolic" data-defines="DEFSYMBOLIC" data-references="DEFSYMBOLIC-FN,ARGS,&REST,NAME,DEFMACRO" data-used-by="DEFSYMBOLIC-SPEC-TERM" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFSYMBOLIC">defsymbolic</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-defsymbolic" data-sym="DEFSYMBOLIC" title="(defmacro gl::defsymbolic (gl::name &amp;rest gl::args)
  (gl::defsymbolic-fn gl::name gl::args))">defsymbolic</a>
  (name &amp;rest <a class="sym-link system" href="../../../defuns.html#def-args" data-sym="ARGS">args</a>)
  (<a class="sym-link local-def" href="#def-defsymbolic-fn" data-sym="DEFSYMBOLIC-FN" title="(defun gl::defsymbolic-fn (gl::name gl::args)
  (declare (gl::xargs :mode :program))
  (gl::b*
   (((gl::mv gl::kwd-alist gl::other-kws gl::other-args)
     (gl::extract-some-keywords
...">defsymbolic-fn</a> name <a class="sym-link system" href="../../../defuns.html#def-args" data-sym="ARGS">args</a>))</pre>
  </div>

<div class="form-block other" id="form-28" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-in-theory" data-sym="IN-THEORY">in-theory</a> (e/d* (ihsext-redefs ihsext-inductions pbfr-list-depends-on))))</pre>
  </div>

<div class="form-block other" id="form-29" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-in-theory" data-sym="IN-THEORY">in-theory</a> (disable (<a class="sym-link system" href="../../../axioms.html#def-force" data-sym="FORCE">force</a>) logext** logext-identity truncate)))</pre>
  </div>

<div class="form-block macro" id="def-car_2Fcdr" data-defines="CAR/CDR" data-references="ATOM,IF,CDR,CAR,MV,MBE,A,LET*,QUASIQUOTE,X,DEFMACRO" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="CAR/CDR">car/cdr</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-car_2Fcdr" data-sym="CAR/CDR" title="(defmacro gl::car/cdr (gl::x)
  `(let* ((gl::a ,gl::x))
     (gl::mbe :logic (gl::mv (car gl::a) (cdr gl::a)) :exec
      (if (atom gl::a)
          (gl::mv nil nil)">car/cdr</a>
  (x)
  `(<a class="sym-link system" href="../../../axioms.html#def-let_2A" data-sym="LET*">let*</a> ((a ,GL::X))
    (<a class="sym-link system" href="../../../axioms.html#def-mbe" data-sym="MBE">mbe</a> <span class="keyword">:logic</span> (<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> (car a) (cdr a))
      <span class="keyword">:exec</span> (if (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> a)
        (<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> nil nil)
        (<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> (car a) (cdr a))))))</pre>
  </div>

<div class="form-block other" id="form-31" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-defsymbolic" data-sym="DEFSYMBOLIC" title="(defmacro gl::defsymbolic (gl::name &amp;rest gl::args)
  (gl::defsymbolic-fn gl::name gl::args))">defsymbolic</a> bfr-ite-bvv-fn-aux
  ((c b) (v1 <a class="sym-link system" href="../../../history-management.html#def-u" data-sym="U">u</a>) (v0 <a class="sym-link system" href="../../../history-management.html#def-u" data-sym="U">u</a>))
  <span class="keyword">:returns</span> (vv <a class="sym-link system" href="../../../history-management.html#def-u" data-sym="U">u</a>
    (if c
      v1
      v0))
  <span class="keyword">:abstract</span> nil
  <span class="keyword">:measure</span> (<a class="sym-link system" href="../../../axioms.html#def-_2B" data-sym="+">+</a> (<a class="sym-link system" href="../../../axioms.html#def-acl2-count" data-sym="ACL2-COUNT">acl2-count</a> v1) (<a class="sym-link system" href="../../../axioms.html#def-acl2-count" data-sym="ACL2-COUNT">acl2-count</a> v0))
  (b* (((when (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> v1) (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> v0))) nil) ((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> v11 v1r) (<a class="sym-link local-def" href="#def-car_2Fcdr" data-sym="CAR/CDR" title="(defmacro gl::car/cdr (gl::x)
  `(let* ((gl::a ,gl::x))
     (gl::mbe :logic (gl::mv (car gl::a) (cdr gl::a)) :exec
      (if (atom gl::a)
          (gl::mv nil nil)">car/cdr</a> v1))
      ((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> v01 v0r) (<a class="sym-link local-def" href="#def-car_2Fcdr" data-sym="CAR/CDR" title="(defmacro gl::car/cdr (gl::x)
  `(let* ((gl::a ,gl::x))
     (gl::mbe :logic (gl::mv (car gl::a) (cdr gl::a)) :exec
      (if (atom gl::a)
          (gl::mv nil nil)">car/cdr</a> v0))
      (tail (bfr-ite-bvv-fn-aux c v1r v0r))
      (head (bfr-ite c v11 v01)))
    (bfr-ucons head tail)))</pre>
  </div>

<div class="form-block other" id="form-32" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-defsymbolic" data-sym="DEFSYMBOLIC" title="(defmacro gl::defsymbolic (gl::name &amp;rest gl::args)
  (gl::defsymbolic-fn gl::name gl::args))">defsymbolic</a> bfr-ite-bvv-fn
  ((c b) (v1 <a class="sym-link system" href="../../../history-management.html#def-u" data-sym="U">u</a>) (v0 <a class="sym-link system" href="../../../history-management.html#def-u" data-sym="U">u</a>))
  <span class="keyword">:returns</span> (vv <a class="sym-link system" href="../../../history-management.html#def-u" data-sym="U">u</a>
    (if c
      v1
      v0))
  <span class="keyword">:abstract</span> nil
  (if c
    (if (<a class="sym-link system" href="../../../axioms.html#def-eq" data-sym="EQ">eq</a> c <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>)
      (llist-fix v1)
      (bfr-ite-bvv-fn-aux c v1 v0))
    (llist-fix v0)))</pre>
  </div>

<div class="form-block other" id="form-33" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> bfr-ite-bvv-fn-of-const-tests
  (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (equal (bfr-ite-bvv-fn <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a> v1 v0)
      (list-fix v1))
    (equal (bfr-ite-bvv-fn nil v1 v0)
      (list-fix v0)))
  <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:in-theory</span> (enable bfr-ite-bvv-fn))))</pre>
  </div>

<div class="form-block other" id="form-34" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> bfr-ite-bvv-fn-aux-elim
  (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-not" data-sym="NOT">not</a> (equal c <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>)) c)
    (equal (bfr-ite-bvv-fn-aux c v1 v0)
      (bfr-ite-bvv-fn c v1 v0)))
  <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:in-theory</span> (enable bfr-ite-bvv-fn))))</pre>
  </div>

<div class="form-block macro" id="def-bfr-ite-bvv" data-defines="BFR-ITE-BVV" data-references="BFR-ITE-BVV-FN-AUX,LLIST-FIX,T,EQ,IF,BFR-ITE-BVV-TEST,LET,BFR-ITE-BVV-FN,MBE,QUASIQUOTE,V0,V1,C,DEFMACRO" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="BFR-ITE-BVV">bfr-ite-bvv</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-bfr-ite-bvv" data-sym="BFR-ITE-BVV" title="(defmacro gl::bfr-ite-bvv (gl::c gl::v1 gl::v0)
  `(gl::mbe :logic (gl::bfr-ite-bvv-fn ,gl::c ,gl::v1 ,gl::v0) :exec
    (let ((gl::bfr-ite-bvv-test ,gl::c))
      (if gl::bfr-ite-bvv-test
          (if (eq gl::bfr-ite-bvv-test t)
...">bfr-ite-bvv</a>
  (c v1 v0)
  `(<a class="sym-link system" href="../../../axioms.html#def-mbe" data-sym="MBE">mbe</a> <span class="keyword">:logic</span> (bfr-ite-bvv-fn ,GL::C ,GL::V1 ,GL::V0)
    <span class="keyword">:exec</span> (let ((bfr-ite-bvv-test ,GL::C))
      (if bfr-ite-bvv-test
        (if (<a class="sym-link system" href="../../../axioms.html#def-eq" data-sym="EQ">eq</a> bfr-ite-bvv-test <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>)
          (llist-fix ,GL::V1)
          (bfr-ite-bvv-fn-aux bfr-ite-bvv-test
            ,GL::V1
            ,GL::V0))
        (llist-fix ,GL::V0)))))</pre>
  </div>

<div class="form-block other" id="form-36" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-add-macro-alias" data-sym="ADD-MACRO-ALIAS">add-macro-alias</a> <a class="sym-link local-def" href="#def-bfr-ite-bvv" data-sym="BFR-ITE-BVV" title="(defmacro gl::bfr-ite-bvv (gl::c gl::v1 gl::v0)
  `(gl::mbe :logic (gl::bfr-ite-bvv-fn ,gl::c ,gl::v1 ,gl::v0) :exec
    (let ((gl::bfr-ite-bvv-test ,gl::c))
      (if gl::bfr-ite-bvv-test
          (if (eq gl::bfr-ite-bvv-test t)
...">bfr-ite-bvv</a> bfr-ite-bvv-fn)</pre>
  </div>

<div class="form-block other" id="form-37" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-defsymbolic" data-sym="DEFSYMBOLIC" title="(defmacro gl::defsymbolic (gl::name &amp;rest gl::args)
  (gl::defsymbolic-fn gl::name gl::args))">defsymbolic</a> bfr-ite-bss-fn-aux
  ((c b) (v1 s) (v0 s))
  <span class="keyword">:returns</span> (vv s
    (if c
      v1
      v0))
  <span class="keyword">:abstract</span> nil
  <span class="keyword">:measure</span> (<a class="sym-link system" href="../../../axioms.html#def-_2B" data-sym="+">+</a> (<a class="sym-link system" href="../../../axioms.html#def-acl2-count" data-sym="ACL2-COUNT">acl2-count</a> v1) (<a class="sym-link system" href="../../../axioms.html#def-acl2-count" data-sym="ACL2-COUNT">acl2-count</a> v0))
  (b* (((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> head1 tail1 end1) (first/rest/end v1)) ((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> head0 tail0 end0) (first/rest/end v0))
      ((when (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> end1 end0)) (bfr-sterm (bfr-ite-fn c head1 head0)))
      (rst (bfr-ite-bss-fn-aux c tail1 tail0))
      (head (bfr-ite c head1 head0)))
    (bfr-scons head rst)))</pre>
  </div>

<div class="form-block other" id="form-38" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-defsymbolic" data-sym="DEFSYMBOLIC" title="(defmacro gl::defsymbolic (gl::name &amp;rest gl::args)
  (gl::defsymbolic-fn gl::name gl::args))">defsymbolic</a> bfr-ite-bss-fn
  ((c b) (v1 s) (v0 s))
  <span class="keyword">:returns</span> (vv s
    (if c
      v1
      v0))
  <span class="keyword">:abstract</span> nil
  (if c
    (if (<a class="sym-link system" href="../../../axioms.html#def-eq" data-sym="EQ">eq</a> c <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>)
      (llist-fix v1)
      (bfr-ite-bss-fn-aux c v1 v0))
    (llist-fix v0)))</pre>
  </div>

<div class="form-block other" id="form-39" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> bfr-ite-bss-fn-of-const-tests
  (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (equal (bfr-ite-bss-fn <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a> v1 v0)
      (list-fix v1))
    (equal (bfr-ite-bss-fn nil v1 v0)
      (list-fix v0)))
  <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:in-theory</span> (enable bfr-ite-bss-fn))))</pre>
  </div>

<div class="form-block other" id="form-40" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> bfr-ite-bss-fn-aux-elim
  (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-not" data-sym="NOT">not</a> (equal c <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>)) c)
    (equal (bfr-ite-bss-fn-aux c v1 v0)
      (bfr-ite-bss-fn c v1 v0)))
  <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:in-theory</span> (enable bfr-ite-bss-fn))))</pre>
  </div>

<div class="form-block macro" id="def-bfr-ite-bss" data-defines="BFR-ITE-BSS" data-references="BFR-ITE-BSS-FN-AUX,LLIST-FIX,T,EQ,IF,BFR-ITE-BSS-TEST,LET,BFR-ITE-BSS-FN,MBE,QUASIQUOTE,V0,V1,C,DEFMACRO" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="BFR-ITE-BSS">bfr-ite-bss</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-bfr-ite-bss" data-sym="BFR-ITE-BSS" title="(defmacro gl::bfr-ite-bss (gl::c gl::v1 gl::v0)
  `(gl::mbe :logic (gl::bfr-ite-bss-fn ,gl::c ,gl::v1 ,gl::v0) :exec
    (let ((gl::bfr-ite-bss-test ,gl::c))
      (if gl::bfr-ite-bss-test
          (if (eq gl::bfr-ite-bss-test t)
...">bfr-ite-bss</a>
  (c v1 v0)
  `(<a class="sym-link system" href="../../../axioms.html#def-mbe" data-sym="MBE">mbe</a> <span class="keyword">:logic</span> (bfr-ite-bss-fn ,GL::C ,GL::V1 ,GL::V0)
    <span class="keyword">:exec</span> (let ((bfr-ite-bss-test ,GL::C))
      (if bfr-ite-bss-test
        (if (<a class="sym-link system" href="../../../axioms.html#def-eq" data-sym="EQ">eq</a> bfr-ite-bss-test <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>)
          (llist-fix ,GL::V1)
          (bfr-ite-bss-fn-aux bfr-ite-bss-test
            ,GL::V1
            ,GL::V0))
        (llist-fix ,GL::V0)))))</pre>
  </div>

<div class="form-block other" id="form-42" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-add-macro-alias" data-sym="ADD-MACRO-ALIAS">add-macro-alias</a> <a class="sym-link local-def" href="#def-bfr-ite-bss" data-sym="BFR-ITE-BSS" title="(defmacro gl::bfr-ite-bss (gl::c gl::v1 gl::v0)
  `(gl::mbe :logic (gl::bfr-ite-bss-fn ,gl::c ,gl::v1 ,gl::v0) :exec
    (let ((gl::bfr-ite-bss-test ,gl::c))
      (if gl::bfr-ite-bss-test
          (if (eq gl::bfr-ite-bss-test t)
...">bfr-ite-bss</a> bfr-ite-bss-fn)</pre>
  </div>

<div class="form-block other" id="form-43" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-defsymbolic" data-sym="DEFSYMBOLIC" title="(defmacro gl::defsymbolic (gl::name &amp;rest gl::args)
  (gl::defsymbolic-fn gl::name gl::args))">defsymbolic</a> bfr-loghead-ns
  ((n n) (x s))
  <span class="keyword">:returns</span> (xx s (loghead n x))
  (b* (((when (<a class="sym-link system" href="../../../axioms.html#def-zp" data-sym="ZP">zp</a> n)) (bfr-sterm nil)) ((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> head tail ?end) (first/rest/end x)))
    (bfr-scons head
      (bfr-loghead-ns (<a class="sym-link system" href="../../../axioms.html#def-1-" data-sym="1-">1-</a> n) tail))))</pre>
  </div>

<div class="form-block other" id="form-44" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-defsymbolic" data-sym="DEFSYMBOLIC" title="(defmacro gl::defsymbolic (gl::name &amp;rest gl::args)
  (gl::defsymbolic-fn gl::name gl::args))">defsymbolic</a> bfr-logext-ns
  ((n p) (x s))
  <span class="keyword">:returns</span> (xx s (logext n x))
  <span class="keyword">:measure</span> (pos-fix n)
  (b* ((n (lposfix n)) ((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> head tail ?end) (first/rest/end x))
      ((when end) (llist-fix x))
      ((when (<a class="sym-link system" href="../../../axioms.html#def-eql" data-sym="EQL">eql</a> n <span class="number">1</span>)) (bfr-sterm head)))
    (bfr-scons head
      (bfr-logext-ns (<a class="sym-link system" href="../../../axioms.html#def-1-" data-sym="1-">1-</a> n) tail)))
  <span class="keyword">:correct-hints</span> ((<span class="string">"goal"</span> <span class="keyword">:induct</span> (bfr-logext-ns n x)) (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> stable-under-simplificationp
      '(<span class="keyword">:expand</span> ((<span class="keyword">:free</span> (x) (logext (pos-fix n) x)))))))</pre>
  </div>

<div class="form-block other" id="form-45" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-defsymbolic" data-sym="DEFSYMBOLIC" title="(defmacro gl::defsymbolic (gl::name &amp;rest gl::args)
  (gl::defsymbolic-fn gl::name gl::args))">defsymbolic</a> bfr-logtail-ns
  ((place n) (x s))
  <span class="keyword">:returns</span> (xx s (logtail place x))
  (if (<a class="sym-link system" href="../../../axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="../../../axioms.html#def-zp" data-sym="ZP">zp</a> place) (s-endp x))
    (llist-fix x)
    (bfr-logtail-ns (<a class="sym-link system" href="../../../axioms.html#def-1-" data-sym="1-">1-</a> place) (scdr x))))</pre>
  </div>

<div class="form-block other" id="form-46" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-defsymbolic" data-sym="DEFSYMBOLIC" title="(defmacro gl::defsymbolic (gl::name &amp;rest gl::args)
  (gl::defsymbolic-fn gl::name gl::args))">defsymbolic</a> bfr-+-ss
  ((c b) (v1 s) (v2 s))
  <span class="keyword">:returns</span> (sum s (<a class="sym-link system" href="../../../axioms.html#def-_2B" data-sym="+">+</a> (bool-&gt;bit c) v1 v2))
  <span class="keyword">:measure</span> (<a class="sym-link system" href="../../../axioms.html#def-_2B" data-sym="+">+</a> (<a class="sym-link system" href="../../../axioms.html#def-len" data-sym="LEN">len</a> v1) (<a class="sym-link system" href="../../../axioms.html#def-len" data-sym="LEN">len</a> v2))
  (b* (((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> head1 tail1 end1) (first/rest/end v1)) ((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> head2 tail2 end2) (first/rest/end v2))
      (axorb (bfr-xor head1 head2))
      (s (bfr-xor c axorb))
      ((when (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> end1 end2)) (let ((<a class="sym-link system" href="../../../axioms.html#def-last" data-sym="LAST">last</a> (bfr-ite axorb (bfr-not c) head1)))
          (bfr-scons s (bfr-sterm <a class="sym-link system" href="../../../axioms.html#def-last" data-sym="LAST">last</a>))))
      (c (bfr-or (bfr-and c axorb)
          (bfr-and head1 head2)))
      (rst (bfr-+-ss c tail1 tail2)))
    (bfr-scons s rst))
  <span class="keyword">:correct-hints</span> ('(<span class="keyword">:in-theory</span> (enable logcons))))</pre>
  </div>

<div class="form-block other" id="form-47" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-defsymbolic" data-sym="DEFSYMBOLIC" title="(defmacro gl::defsymbolic (gl::name &amp;rest gl::args)
  (gl::defsymbolic-fn gl::name gl::args))">defsymbolic</a> bfr-lognot-s
  ((x s))
  <span class="keyword">:returns</span> (nx s (lognot x))
  (b* (((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> head tail end) (first/rest/end x)) ((when end) (bfr-sterm (bfr-not head))))
    (bfr-scons (bfr-not head)
      (bfr-lognot-s tail))))</pre>
  </div>

<div class="form-block other" id="form-48" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-defsymbolic" data-sym="DEFSYMBOLIC" title="(defmacro gl::defsymbolic (gl::name &amp;rest gl::args)
  (gl::defsymbolic-fn gl::name gl::args))">defsymbolic</a> bfr-unary-minus-s
  ((x s))
  <span class="keyword">:returns</span> (ms s (<a class="sym-link system" href="../../../axioms.html#def--" data-sym="-">-</a> x))
  (bfr-+-ss <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a> nil (bfr-lognot-s x))
  <span class="keyword">:correct-hints</span> ('(<span class="keyword">:in-theory</span> (enable lognot))))</pre>
  </div>

<div class="form-block other" id="form-49" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-defsymbolic" data-sym="DEFSYMBOLIC" title="(defmacro gl::defsymbolic (gl::name &amp;rest gl::args)
  (gl::defsymbolic-fn gl::name gl::args))">defsymbolic</a> bfr-logxor-ss
  ((a s) (b s))
  <span class="keyword">:returns</span> (xab s (<a class="sym-link system" href="../../../axioms.html#def-logxor" data-sym="LOGXOR">logxor</a> a b))
  <span class="keyword">:measure</span> (<a class="sym-link system" href="../../../axioms.html#def-_2B" data-sym="+">+</a> (<a class="sym-link system" href="../../../axioms.html#def-len" data-sym="LEN">len</a> a) (<a class="sym-link system" href="../../../axioms.html#def-len" data-sym="LEN">len</a> b))
  (b* (((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> af ar aend) (first/rest/end a)) ((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> bf br bend) (first/rest/end b))
      (c (bfr-xor af bf))
      ((when (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> aend bend)) (bfr-sterm c))
      (r (bfr-logxor-ss ar br)))
    (bfr-scons c r)))</pre>
  </div>

<div class="form-block other" id="form-50" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-defsymbolic" data-sym="DEFSYMBOLIC" title="(defmacro gl::defsymbolic (gl::name &amp;rest gl::args)
  (gl::defsymbolic-fn gl::name gl::args))">defsymbolic</a> bfr-sign-s
  ((x s))
  <span class="keyword">:returns</span> (sign b (&lt; x <span class="number">0</span>))
  (b* (((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> <a class="sym-link system" href="../../../axioms.html#def-first" data-sym="FIRST">first</a> <a class="sym-link system" href="../../../axioms.html#def-rest" data-sym="REST">rest</a> <a class="sym-link system" href="../../../axioms.html#def-endp" data-sym="ENDP">endp</a>) (first/rest/end x)) ((when <a class="sym-link system" href="../../../axioms.html#def-endp" data-sym="ENDP">endp</a>) <a class="sym-link system" href="../../../axioms.html#def-first" data-sym="FIRST">first</a>))
    (bfr-sign-s <a class="sym-link system" href="../../../axioms.html#def-rest" data-sym="REST">rest</a>)))</pre>
  </div>

<div class="form-block other" id="form-51" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-defsymbolic" data-sym="DEFSYMBOLIC" title="(defmacro gl::defsymbolic (gl::name &amp;rest gl::args)
  (gl::defsymbolic-fn gl::name gl::args))">defsymbolic</a> bfr-integer-length-s1
  ((offset p) (x s))
  <span class="keyword">:measure</span> (<a class="sym-link system" href="../../../axioms.html#def-len" data-sym="LEN">len</a> x)
  <span class="keyword">:returns</span> (<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> (not-done b
      (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-not" data-sym="NOT">not</a> (equal x <span class="number">0</span>)) (<a class="sym-link system" href="../../../axioms.html#def-not" data-sym="NOT">not</a> (equal x <span class="number">-1</span>))))
    (ilen s
      (if (<a class="sym-link system" href="../../../axioms.html#def-or" data-sym="OR">or</a> (equal x <span class="number">0</span>) (equal x <span class="number">-1</span>))
        <span class="number">0</span>
        (<a class="sym-link system" href="../../../axioms.html#def-_2B" data-sym="+">+</a> <span class="number">-1</span> offset (<a class="sym-link system" href="../../../axioms.html#def-integer-length" data-sym="INTEGER-LENGTH">integer-length</a> x)))))
  <span class="keyword">:prepwork</span> ((<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> bfr-eval-of-car-when-bfr-list-&gt;s
       (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (equal (bfr-list-&gt;s x env) c)
           (<a class="sym-link system" href="../../../axioms.html#def-syntaxp" data-sym="SYNTAXP">syntaxp</a> (<a class="sym-link system" href="../../../axioms.html#def-quotep" data-sym="QUOTEP">quotep</a> c)))
         (equal (bfr-eval (car x) env)
           (equal <span class="number">1</span> (logcar c)))))))
  (b* (((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> <a class="sym-link system" href="../../../axioms.html#def-first" data-sym="FIRST">first</a> <a class="sym-link system" href="../../../axioms.html#def-rest" data-sym="REST">rest</a> end) (first/rest/end x)) (offset (lposfix offset))
      ((when end) (<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> nil nil))
      ((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> changed res) (bfr-integer-length-s1 (<a class="sym-link system" href="../../../axioms.html#def-1_2B" data-sym="1+">1+</a> offset) <a class="sym-link system" href="../../../axioms.html#def-rest" data-sym="REST">rest</a>))
      ((when (<a class="sym-link system" href="../../../axioms.html#def-eq" data-sym="EQ">eq</a> changed <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>)) (<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a> res))
      (<a class="sym-link system" href="../../../basis-a.html#def-change" data-sym="CHANGE">change</a> (bfr-xor <a class="sym-link system" href="../../../axioms.html#def-first" data-sym="FIRST">first</a> (car <a class="sym-link system" href="../../../axioms.html#def-rest" data-sym="REST">rest</a>))))
    (<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> (bfr-or changed <a class="sym-link system" href="../../../basis-a.html#def-change" data-sym="CHANGE">change</a>)
      (<a class="sym-link local-def" href="#def-bfr-ite-bss" data-sym="BFR-ITE-BSS" title="(defmacro gl::bfr-ite-bss (gl::c gl::v1 gl::v0)
  `(gl::mbe :logic (gl::bfr-ite-bss-fn ,gl::c ,gl::v1 ,gl::v0) :exec
    (let ((gl::bfr-ite-bss-test ,gl::c))
      (if gl::bfr-ite-bss-test
          (if (eq gl::bfr-ite-bss-test t)
...">bfr-ite-bss</a> changed
        res
        (<a class="sym-link local-def" href="#def-bfr-ite-bss" data-sym="BFR-ITE-BSS" title="(defmacro gl::bfr-ite-bss (gl::c gl::v1 gl::v0)
  `(gl::mbe :logic (gl::bfr-ite-bss-fn ,gl::c ,gl::v1 ,gl::v0) :exec
    (let ((gl::bfr-ite-bss-test ,gl::c))
      (if gl::bfr-ite-bss-test
          (if (eq gl::bfr-ite-bss-test t)
...">bfr-ite-bss</a> <a class="sym-link system" href="../../../basis-a.html#def-change" data-sym="CHANGE">change</a> (i2v offset) nil))))
  <span class="keyword">:correct-hints</span> ((bfr-reasoning)))</pre>
  </div>

<div class="form-block other" id="form-52" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-defsymbolic" data-sym="DEFSYMBOLIC" title="(defmacro gl::defsymbolic (gl::name &amp;rest gl::args)
  (gl::defsymbolic-fn gl::name gl::args))">defsymbolic</a> bfr-integer-length-s
  ((x s))
  <span class="keyword">:returns</span> (ilen s (<a class="sym-link system" href="../../../axioms.html#def-integer-length" data-sym="INTEGER-LENGTH">integer-length</a> x))
  (b* (((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> ?changed res) (bfr-integer-length-s1 <span class="number">1</span> x)))
    res))</pre>
  </div>

<div class="form-block other" id="form-53" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(define integer-length-bound-s
  (x)
  <span class="keyword">:returns</span> (bound <a class="sym-link system" href="../../../axioms.html#def-posp" data-sym="POSP">posp</a> <span class="keyword">:rule-classes</span> <span class="keyword">:type-prescription</span>)
  (max (<a class="sym-link system" href="../../../axioms.html#def-len" data-sym="LEN">len</a> x) <span class="number">1</span>)
  ///
  (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> s-endp-true-by-len
      (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> (<a class="sym-link system" href="../../../axioms.html#def-len" data-sym="LEN">len</a> x) <span class="number">1</span>) (s-endp x))
      <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:in-theory</span> (enable s-endp)))))
  (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> integer-length-bound-s-correct
    (&lt; (<a class="sym-link system" href="../../../axioms.html#def-integer-length" data-sym="INTEGER-LENGTH">integer-length</a> (bfr-list-&gt;s x env))
      (integer-length-bound-s x))
    <span class="keyword">:rule-classes</span> <span class="keyword">:linear</span>))</pre>
  </div>

<div class="form-block other" id="form-54" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-defsymbolic" data-sym="DEFSYMBOLIC" title="(defmacro gl::defsymbolic (gl::name &amp;rest gl::args)
  (gl::defsymbolic-fn gl::name gl::args))">defsymbolic</a> bfr-abs-s
  ((x s))
  <span class="keyword">:returns</span> (xabs s (abs x))
  <span class="keyword">:prepwork</span> ((<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-in-theory" data-sym="IN-THEORY">in-theory</a> (enable loghead-of-integer-length-nonneg))) (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> loghead-of-abs-2
        (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (&lt; (<a class="sym-link system" href="../../../axioms.html#def-integer-length" data-sym="INTEGER-LENGTH">integer-length</a> x) (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> n))
            (integerp x)
            (&lt; x <span class="number">0</span>))
          (equal (loghead n (<a class="sym-link system" href="../../../axioms.html#def--" data-sym="-">-</a> x)) (<a class="sym-link system" href="../../../axioms.html#def--" data-sym="-">-</a> x)))
        <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:induct</span> (loghead n x)
           <span class="keyword">:expand</span> ((loghead n (<a class="sym-link system" href="../../../axioms.html#def--" data-sym="-">-</a> x)))
           <span class="keyword">:in-theory</span> (disable loghead**)) (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> stable-under-simplificationp
            '(<span class="keyword">:in-theory</span> (<a class="sym-link system" href="../../../axioms.html#def-e_2Fd" data-sym="E/D">e/d</a> (logcons minus-to-lognot) (loghead**))))))))
  (let ((sign (bfr-sign-s x)))
    (bfr-loghead-ns (integer-length-bound-s x)
      (bfr-+-ss sign
        nil
        (bfr-logxor-ss (bfr-sterm sign) x))))
  <span class="keyword">:correct-hints</span> ('(<span class="keyword">:use</span> (integer-length-bound-s-correct bfr-sign-s-correct)
     <span class="keyword">:in-theory</span> (e/d* (lognot)
       (integer-length-bound-s-correct bfr-sign-s-correct
         ihsext-redefs)))))</pre>
  </div>

<div class="form-block other" id="form-55" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-defsymbolic" data-sym="DEFSYMBOLIC" title="(defmacro gl::defsymbolic (gl::name &amp;rest gl::args)
  (gl::defsymbolic-fn gl::name gl::args))">defsymbolic</a> bfr-=-uu
  ((a <a class="sym-link system" href="../../../history-management.html#def-u" data-sym="U">u</a>) (b <a class="sym-link system" href="../../../history-management.html#def-u" data-sym="U">u</a>))
  <span class="keyword">:returns</span> (a=b b (equal a b))
  <span class="keyword">:measure</span> (<a class="sym-link system" href="../../../axioms.html#def-_2B" data-sym="+">+</a> (<a class="sym-link system" href="../../../axioms.html#def-len" data-sym="LEN">len</a> a) (<a class="sym-link system" href="../../../axioms.html#def-len" data-sym="LEN">len</a> b))
  (b* (((when (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> a) (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> b))) <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>) ((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> head1 tail1) (<a class="sym-link local-def" href="#def-car_2Fcdr" data-sym="CAR/CDR" title="(defmacro gl::car/cdr (gl::x)
  `(let* ((gl::a ,gl::x))
     (gl::mbe :logic (gl::mv (car gl::a) (cdr gl::a)) :exec
      (if (atom gl::a)
          (gl::mv nil nil)">car/cdr</a> a))
      ((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> head2 tail2) (<a class="sym-link local-def" href="#def-car_2Fcdr" data-sym="CAR/CDR" title="(defmacro gl::car/cdr (gl::x)
  `(let* ((gl::a ,gl::x))
     (gl::mbe :logic (gl::mv (car gl::a) (cdr gl::a)) :exec
      (if (atom gl::a)
          (gl::mv nil nil)">car/cdr</a> b))
      (first-eq (bfr-iff head1 head2)))
    (bfr-and first-eq
      (bfr-=-uu tail1 tail2))))</pre>
  </div>

<div class="form-block other" id="form-56" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-defsymbolic" data-sym="DEFSYMBOLIC" title="(defmacro gl::defsymbolic (gl::name &amp;rest gl::args)
  (gl::defsymbolic-fn gl::name gl::args))">defsymbolic</a> bfr-=-ss
  ((a s) (b s))
  <span class="keyword">:returns</span> (a=b b (equal a b))
  <span class="keyword">:measure</span> (<a class="sym-link system" href="../../../axioms.html#def-_2B" data-sym="+">+</a> (<a class="sym-link system" href="../../../axioms.html#def-len" data-sym="LEN">len</a> a) (<a class="sym-link system" href="../../../axioms.html#def-len" data-sym="LEN">len</a> b))
  (b* (((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> head1 tail1 end1) (first/rest/end a)) ((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> head2 tail2 end2) (first/rest/end b))
      ((when (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> end1 end2)) (bfr-iff head1 head2))
      (first-eq (bfr-iff head1 head2)))
    (bfr-and first-eq
      (bfr-=-ss tail1 tail2))))</pre>
  </div>

<div class="form-block other" id="form-57" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (add-bfr-pat (bfr-sign-s . &amp;)))</pre>
  </div>

<div class="form-block other" id="form-58" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (add-bfr-pat (bfr-=-ss . &amp;)))</pre>
  </div>

<div class="form-block other" id="form-59" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-defsymbolic" data-sym="DEFSYMBOLIC" title="(defmacro gl::defsymbolic (gl::name &amp;rest gl::args)
  (gl::defsymbolic-fn gl::name gl::args))">defsymbolic</a> bfr-*-ss
  ((v1 s) (v2 s))
  <span class="keyword">:measure</span> (<a class="sym-link system" href="../../../axioms.html#def-_2B" data-sym="+">+</a> (<a class="sym-link system" href="../../../axioms.html#def-len" data-sym="LEN">len</a> v1) (<a class="sym-link system" href="../../../axioms.html#def-len" data-sym="LEN">len</a> v2))
  <span class="keyword">:returns</span> (prod s (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> v1 v2))
  (b* (((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> dig1 <a class="sym-link system" href="../../../axioms.html#def-rest" data-sym="REST">rest</a> end1) (first/rest/end v1)) ((when end1) (<a class="sym-link local-def" href="#def-bfr-ite-bss" data-sym="BFR-ITE-BSS" title="(defmacro gl::bfr-ite-bss (gl::c gl::v1 gl::v0)
  `(gl::mbe :logic (gl::bfr-ite-bss-fn ,gl::c ,gl::v1 ,gl::v0) :exec
    (let ((gl::bfr-ite-bss-test ,gl::c))
      (if gl::bfr-ite-bss-test
          (if (eq gl::bfr-ite-bss-test t)
...">bfr-ite-bss</a> dig1
          (bfr-unary-minus-s v2)
          nil))
      (<a class="sym-link system" href="../../../axioms.html#def-rest" data-sym="REST">rest</a> (bfr-*-ss <a class="sym-link system" href="../../../axioms.html#def-rest" data-sym="REST">rest</a> v2)))
    (bfr-+-ss nil
      (<a class="sym-link local-def" href="#def-bfr-ite-bss" data-sym="BFR-ITE-BSS" title="(defmacro gl::bfr-ite-bss (gl::c gl::v1 gl::v0)
  `(gl::mbe :logic (gl::bfr-ite-bss-fn ,gl::c ,gl::v1 ,gl::v0) :exec
    (let ((gl::bfr-ite-bss-test ,gl::c))
      (if gl::bfr-ite-bss-test
          (if (eq gl::bfr-ite-bss-test t)
...">bfr-ite-bss</a> dig1 v2 nil)
      (bfr-scons nil <a class="sym-link system" href="../../../axioms.html#def-rest" data-sym="REST">rest</a>)))
  <span class="keyword">:correct-hints</span> ('(<span class="keyword">:in-theory</span> (enable logcons))))</pre>
  </div>

<div class="form-block other" id="form-60" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(define syntactically-true-p
  (x)
  <span class="keyword">:returns</span> (true-p <a class="sym-link system" href="../../../axioms.html#def-booleanp" data-sym="BOOLEANP">booleanp</a>)
  (<a class="sym-link system" href="../../../axioms.html#def-eq" data-sym="EQ">eq</a> x <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>)
  ///
  (defretd syntactically-true-p-implies
    (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (syntactically-true-p x)
      (equal (bfr-eval x env) <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>)))
  (defretd syntactically-true-p-rewrite
    (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (rewriting-negative-literal `(syntactically-true-p ,GL::X))
        (<a class="sym-link system" href="../../../axioms.html#def-bind-free" data-sym="BIND-FREE">bind-free</a> '((env . env)) (env)))
      (<a class="sym-link system" href="../../../axioms.html#def-iff" data-sym="IFF">iff</a> (syntactically-true-p x)
        (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (equal (bfr-eval x env) <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>)
          (<a class="sym-link system" href="../../../axioms.html#def-hide" data-sym="HIDE">hide</a> (syntactically-true-p x)))))
    <span class="keyword">:hints</span> ((<span class="string">"goal"</span> <span class="keyword">:expand</span> ((<span class="keyword">:free</span> (x) (<a class="sym-link system" href="../../../axioms.html#def-hide" data-sym="HIDE">hide</a> x)))))))</pre>
  </div>

<div class="form-block other" id="form-61" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-defsymbolic" data-sym="DEFSYMBOLIC" title="(defmacro gl::defsymbolic (gl::name &amp;rest gl::args)
  (gl::defsymbolic-fn gl::name gl::args))">defsymbolic</a> bfr-&lt;-=-ss
  ((a s) (b s))
  <span class="keyword">:measure</span> (<a class="sym-link system" href="../../../axioms.html#def-_2B" data-sym="+">+</a> (<a class="sym-link system" href="../../../axioms.html#def-len" data-sym="LEN">len</a> a) (<a class="sym-link system" href="../../../axioms.html#def-len" data-sym="LEN">len</a> b))
  <span class="keyword">:returns</span> (<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> (a&lt;b b (&lt; a b))
    (a=b b (<a class="sym-link system" href="../../../axioms.html#def-_3D" data-sym="=">=</a> a b)))
  <span class="keyword">:correct-hints</span> ('(<span class="keyword">:in-theory</span> (<a class="sym-link system" href="../../../axioms.html#def-e_2Fd" data-sym="E/D">e/d</a> (syntactically-true-p-rewrite))
     <span class="keyword">:do-not-induct</span> <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>))
  (b* (((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> head1 tail1 end1) (first/rest/end a)) ((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> head2 tail2 end2) (first/rest/end b))
      ((when (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> end1 end2)) (b* ((less (bfr-and head1 (bfr-not head2))))
          (<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> less
            (if (syntactically-true-p less)
              nil
              (bfr-iff head1 head2)))))
      ((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> rst&lt; rst=) (bfr-&lt;-=-ss tail1 tail2))
      (less (bfr-or rst&lt;
          (bfr-and rst= head2 (bfr-not head1)))))
    (<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> less
      (if (syntactically-true-p less)
        nil
        (bfr-and rst= (bfr-iff head1 head2))))))</pre>
  </div>

<div class="form-block other" id="form-62" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(define syntactically-zero-p
  ((x <a class="sym-link system" href="../../../axioms.html#def-true-listp" data-sym="TRUE-LISTP">true-listp</a>))
  <span class="keyword">:returns</span> (result <a class="sym-link system" href="../../../axioms.html#def-booleanp" data-sym="BOOLEANP">booleanp</a>)
  (b* (((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> head tail end) (first/rest/end x)))
    (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-eq" data-sym="EQ">eq</a> head nil)
      (<a class="sym-link system" href="../../../axioms.html#def-or" data-sym="OR">or</a> end (syntactically-zero-p tail))))
  ///
  (defretd syntactically-zero-p-implies
    (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (syntactically-zero-p x)
      (equal (bfr-list-&gt;s x env) <span class="number">0</span>))))</pre>
  </div>

<div class="form-block other" id="form-63" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-defsymbolic" data-sym="DEFSYMBOLIC" title="(defmacro gl::defsymbolic (gl::name &amp;rest gl::args)
  (gl::defsymbolic-fn gl::name gl::args))">defsymbolic</a> bfr-&lt;-ss
  ((a s) (b s))
  <span class="keyword">:returns</span> (a&lt;b b (&lt; a b))
  <span class="keyword">:correct-hints</span> ('(<span class="keyword">:in-theory</span> (enable syntactically-zero-p-implies)))
  (b* (((when (syntactically-zero-p b)) (bfr-sign-s a)) ((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> head1 tail1 end1) (first/rest/end a))
      ((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> head2 tail2 end2) (first/rest/end b))
      ((when (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> end1 end2)) (bfr-and head1 (bfr-not head2)))
      ((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> rst&lt; rst=) (bfr-&lt;-=-ss tail1 tail2)))
    (bfr-or rst&lt;
      (bfr-and rst= head2 (bfr-not head1)))))</pre>
  </div>

<div class="form-block other" id="form-64" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-defsymbolic" data-sym="DEFSYMBOLIC" title="(defmacro gl::defsymbolic (gl::name &amp;rest gl::args)
  (gl::defsymbolic-fn gl::name gl::args))">defsymbolic</a> bfr-logapp-nss
  ((n n) (a s) (b s))
  <span class="keyword">:returns</span> (a-app-b s (logapp n a b))
  (b* (((when (<a class="sym-link system" href="../../../axioms.html#def-zp" data-sym="ZP">zp</a> n)) (llist-fix b)) ((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> <a class="sym-link system" href="../../../axioms.html#def-first" data-sym="FIRST">first</a> <a class="sym-link system" href="../../../axioms.html#def-rest" data-sym="REST">rest</a> &amp;) (first/rest/end a)))
    (bfr-scons <a class="sym-link system" href="../../../axioms.html#def-first" data-sym="FIRST">first</a>
      (bfr-logapp-nss (<a class="sym-link system" href="../../../axioms.html#def-1-" data-sym="1-">1-</a> n) <a class="sym-link system" href="../../../axioms.html#def-rest" data-sym="REST">rest</a> b))))</pre>
  </div>

<div class="form-block other" id="form-65" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-defsymbolic" data-sym="DEFSYMBOLIC" title="(defmacro gl::defsymbolic (gl::name &amp;rest gl::args)
  (gl::defsymbolic-fn gl::name gl::args))">defsymbolic</a> bfr-logapp-nus-aux
  ((n n) (a <a class="sym-link system" href="../../../history-management.html#def-u" data-sym="U">u</a>) (b s))
  <span class="keyword">:returns</span> (a-app-b s (logapp n a b))
  (b* (((when (<a class="sym-link system" href="../../../axioms.html#def-zp" data-sym="ZP">zp</a> n)) (llist-fix b)) ((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> <a class="sym-link system" href="../../../axioms.html#def-first" data-sym="FIRST">first</a> <a class="sym-link system" href="../../../axioms.html#def-rest" data-sym="REST">rest</a>) (<a class="sym-link local-def" href="#def-car_2Fcdr" data-sym="CAR/CDR" title="(defmacro gl::car/cdr (gl::x)
  `(let* ((gl::a ,gl::x))
     (gl::mbe :logic (gl::mv (car gl::a) (cdr gl::a)) :exec
      (if (atom gl::a)
          (gl::mv nil nil)">car/cdr</a> a)))
    (bfr-scons <a class="sym-link system" href="../../../axioms.html#def-first" data-sym="FIRST">first</a>
      (bfr-logapp-nus-aux (<a class="sym-link system" href="../../../axioms.html#def-1-" data-sym="1-">1-</a> n) <a class="sym-link system" href="../../../axioms.html#def-rest" data-sym="REST">rest</a> b))))</pre>
  </div>

<div class="form-block other" id="form-66" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-defsymbolic" data-sym="DEFSYMBOLIC" title="(defmacro gl::defsymbolic (gl::name &amp;rest gl::args)
  (gl::defsymbolic-fn gl::name gl::args))">defsymbolic</a> bfr-loghead-nu
  ((n n) (a <a class="sym-link system" href="../../../history-management.html#def-u" data-sym="U">u</a>))
  <span class="keyword">:returns</span> (head s (loghead n a))
  (b* (((when (<a class="sym-link system" href="../../../axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="../../../axioms.html#def-zp" data-sym="ZP">zp</a> n) (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> a))) '(nil)) ((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> <a class="sym-link system" href="../../../axioms.html#def-first" data-sym="FIRST">first</a> <a class="sym-link system" href="../../../axioms.html#def-rest" data-sym="REST">rest</a>) (<a class="sym-link local-def" href="#def-car_2Fcdr" data-sym="CAR/CDR" title="(defmacro gl::car/cdr (gl::x)
  `(let* ((gl::a ,gl::x))
     (gl::mbe :logic (gl::mv (car gl::a) (cdr gl::a)) :exec
      (if (atom gl::a)
          (gl::mv nil nil)">car/cdr</a> a)))
    (bfr-scons <a class="sym-link system" href="../../../axioms.html#def-first" data-sym="FIRST">first</a> (bfr-loghead-nu (<a class="sym-link system" href="../../../axioms.html#def-1-" data-sym="1-">1-</a> n) <a class="sym-link system" href="../../../axioms.html#def-rest" data-sym="REST">rest</a>))))</pre>
  </div>

<div class="form-block other" id="form-67" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-defsymbolic" data-sym="DEFSYMBOLIC" title="(defmacro gl::defsymbolic (gl::name &amp;rest gl::args)
  (gl::defsymbolic-fn gl::name gl::args))">defsymbolic</a> bfr-logapp-nus
  ((n n) (a <a class="sym-link system" href="../../../history-management.html#def-u" data-sym="U">u</a>) (b s))
  <span class="keyword">:returns</span> (a-app-b s (logapp n a b))
  <span class="keyword">:correct-hints</span> ('(<span class="keyword">:in-theory</span> (enable syntactically-zero-p-implies)))
  (b* (((when (syntactically-zero-p b)) (bfr-loghead-nu n a)))
    (bfr-logapp-nus-aux n a b)))</pre>
  </div>

<div class="form-block other" id="form-68" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-defsymbolic" data-sym="DEFSYMBOLIC" title="(defmacro gl::defsymbolic (gl::name &amp;rest gl::args)
  (gl::defsymbolic-fn gl::name gl::args))">defsymbolic</a> bfr-ash-ss
  ((place p) (n s) (shamt s))
  <span class="keyword">:returns</span> (sh s
    (ash n (<a class="sym-link system" href="../../../axioms.html#def-_2B" data-sym="+">+</a> <span class="number">-1</span> place (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> place shamt))))
  <span class="keyword">:measure</span> (<a class="sym-link system" href="../../../axioms.html#def-len" data-sym="LEN">len</a> shamt)
  <span class="keyword">:prepwork</span> ((<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> reverse-distrib-1
       (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (equal (<a class="sym-link system" href="../../../axioms.html#def-_2B" data-sym="+">+</a> n n) (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> <span class="number">2</span> n))
         (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-syntaxp" data-sym="SYNTAXP">syntaxp</a> (<a class="sym-link system" href="../../../axioms.html#def-quotep" data-sym="QUOTEP">quotep</a> k))
           (equal (<a class="sym-link system" href="../../../axioms.html#def-_2B" data-sym="+">+</a> n (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> k n)) (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> (<a class="sym-link system" href="../../../axioms.html#def-_2B" data-sym="+">+</a> <span class="number">1</span> k) n)))
         (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-syntaxp" data-sym="SYNTAXP">syntaxp</a> (<a class="sym-link system" href="../../../axioms.html#def-quotep" data-sym="QUOTEP">quotep</a> k))
           (equal (<a class="sym-link system" href="../../../axioms.html#def-_2B" data-sym="+">+</a> (<a class="sym-link system" href="../../../axioms.html#def--" data-sym="-">-</a> n) (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> k n)) (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> (<a class="sym-link system" href="../../../axioms.html#def-_2B" data-sym="+">+</a> <span class="number">-1</span> k) n)))
         (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-syntaxp" data-sym="SYNTAXP">syntaxp</a> (<a class="sym-link system" href="../../../axioms.html#def-quotep" data-sym="QUOTEP">quotep</a> k))
           (equal (<a class="sym-link system" href="../../../axioms.html#def-_2B" data-sym="+">+</a> (<a class="sym-link system" href="../../../axioms.html#def--" data-sym="-">-</a> n) (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> k n) m)
             (<a class="sym-link system" href="../../../axioms.html#def-_2B" data-sym="+">+</a> (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> (<a class="sym-link system" href="../../../axioms.html#def-_2B" data-sym="+">+</a> <span class="number">-1</span> k) n) m)))
         (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-syntaxp" data-sym="SYNTAXP">syntaxp</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-quotep" data-sym="QUOTEP">quotep</a> a) (<a class="sym-link system" href="../../../axioms.html#def-quotep" data-sym="QUOTEP">quotep</a> b)))
           (equal (<a class="sym-link system" href="../../../axioms.html#def-_2B" data-sym="+">+</a> (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> a n) (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> b n))
             (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> (<a class="sym-link system" href="../../../axioms.html#def-_2B" data-sym="+">+</a> a b) n)))
         (equal (<a class="sym-link system" href="../../../axioms.html#def-_2B" data-sym="+">+</a> n n m) (<a class="sym-link system" href="../../../axioms.html#def-_2B" data-sym="+">+</a> (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> <span class="number">2</span> n) m))
         (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-syntaxp" data-sym="SYNTAXP">syntaxp</a> (<a class="sym-link system" href="../../../axioms.html#def-quotep" data-sym="QUOTEP">quotep</a> k))
           (equal (<a class="sym-link system" href="../../../axioms.html#def-_2B" data-sym="+">+</a> n (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> k n) m)
             (<a class="sym-link system" href="../../../axioms.html#def-_2B" data-sym="+">+</a> (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> (<a class="sym-link system" href="../../../axioms.html#def-_2B" data-sym="+">+</a> <span class="number">1</span> k) n) m)))
         (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-syntaxp" data-sym="SYNTAXP">syntaxp</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-quotep" data-sym="QUOTEP">quotep</a> a) (<a class="sym-link system" href="../../../axioms.html#def-quotep" data-sym="QUOTEP">quotep</a> b)))
           (equal (<a class="sym-link system" href="../../../axioms.html#def-_2B" data-sym="+">+</a> (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> a n) (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> b n) m)
             (<a class="sym-link system" href="../../../axioms.html#def-_2B" data-sym="+">+</a> (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> (<a class="sym-link system" href="../../../axioms.html#def-_2B" data-sym="+">+</a> a b) n) m)))
         (equal (<a class="sym-link system" href="../../../axioms.html#def-_2B" data-sym="+">+</a> n (<a class="sym-link system" href="../../../axioms.html#def--" data-sym="-">-</a> (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> <span class="number">2</span> n)) m) (<a class="sym-link system" href="../../../axioms.html#def-_2B" data-sym="+">+</a> (<a class="sym-link system" href="../../../axioms.html#def--" data-sym="-">-</a> n) m))))))
  (b* (((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> shdig shrst shend) (first/rest/end shamt)) (place (lposfix place))
      ((when shend) (<a class="sym-link local-def" href="#def-bfr-ite-bss" data-sym="BFR-ITE-BSS" title="(defmacro gl::bfr-ite-bss (gl::c gl::v1 gl::v0)
  `(gl::mbe :logic (gl::bfr-ite-bss-fn ,gl::c ,gl::v1 ,gl::v0) :exec
    (let ((gl::bfr-ite-bss-test ,gl::c))
      (if gl::bfr-ite-bss-test
          (if (eq gl::bfr-ite-bss-test t)
...">bfr-ite-bss</a> shdig
          (bfr-logtail-ns <span class="number">1</span> n)
          (bfr-logapp-nss (<a class="sym-link system" href="../../../axioms.html#def-1-" data-sym="1-">1-</a> place) nil n)))
      (rst (bfr-ash-ss (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> <span class="number">2</span> place) n shrst)))
    (<a class="sym-link local-def" href="#def-bfr-ite-bss" data-sym="BFR-ITE-BSS" title="(defmacro gl::bfr-ite-bss (gl::c gl::v1 gl::v0)
  `(gl::mbe :logic (gl::bfr-ite-bss-fn ,gl::c ,gl::v1 ,gl::v0) :exec
    (let ((gl::bfr-ite-bss-test ,gl::c))
      (if gl::bfr-ite-bss-test
          (if (eq gl::bfr-ite-bss-test t)
...">bfr-ite-bss</a> shdig
      rst
      (bfr-logtail-ns place rst)))
  <span class="keyword">:correct-hints</span> ('(<span class="keyword">:expand</span> ((<span class="keyword">:free</span> (b)
        (logcons b
          (bfr-list-&gt;s (scdr shamt) env))) (bfr-ash-ss place n shamt))
     <span class="keyword">:in-theory</span> (disable logtail-identity <a class="sym-link system" href="../../../axioms.html#def-unsigned-byte-p" data-sym="UNSIGNED-BYTE-P">unsigned-byte-p</a>))))</pre>
  </div>

<div class="form-block other" id="form-69" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-defsymbolic" data-sym="DEFSYMBOLIC" title="(defmacro gl::defsymbolic (gl::name &amp;rest gl::args)
  (gl::defsymbolic-fn gl::name gl::args))">defsymbolic</a> bfr-logbitp-n2v
  ((place p) (digit <a class="sym-link system" href="../../../history-management.html#def-u" data-sym="U">u</a>) (n s))
  <span class="keyword">:returns</span> (bit b (logbitp (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> place digit) n))
  <span class="keyword">:measure</span> (<a class="sym-link system" href="../../../axioms.html#def-len" data-sym="LEN">len</a> digit)
  (b* (((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> <a class="sym-link system" href="../../../axioms.html#def-first" data-sym="FIRST">first</a> &amp; end) (first/rest/end n)) (place (lposfix place))
      ((when (<a class="sym-link system" href="../../../axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> digit) end)) <a class="sym-link system" href="../../../axioms.html#def-first" data-sym="FIRST">first</a>))
    (bfr-ite (car digit)
      (bfr-logbitp-n2v (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> <span class="number">2</span> place)
        (cdr digit)
        (bfr-logtail-ns place n))
      (bfr-logbitp-n2v (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> <span class="number">2</span> place) (cdr digit) n)))
  <span class="keyword">:correct-hints</span> ((<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> stable-under-simplificationp
     '(<span class="keyword">:in-theory</span> (enable logcons bool-&gt;bit)))))</pre>
  </div>

<div class="form-block other" id="form-70" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-defsymbolic" data-sym="DEFSYMBOLIC" title="(defmacro gl::defsymbolic (gl::name &amp;rest gl::args)
  (gl::defsymbolic-fn gl::name gl::args))">defsymbolic</a> bfr-logand-ss
  ((a s) (b s))
  <span class="keyword">:returns</span> (a&amp;b s (<a class="sym-link system" href="../../../axioms.html#def-logand" data-sym="LOGAND">logand</a> a b))
  <span class="keyword">:measure</span> (<a class="sym-link system" href="../../../axioms.html#def-_2B" data-sym="+">+</a> (<a class="sym-link system" href="../../../axioms.html#def-len" data-sym="LEN">len</a> a) (<a class="sym-link system" href="../../../axioms.html#def-len" data-sym="LEN">len</a> b))
  (b* (((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> af ar aend) (first/rest/end a)) ((when aend) (<a class="sym-link local-def" href="#def-bfr-ite-bss" data-sym="BFR-ITE-BSS" title="(defmacro gl::bfr-ite-bss (gl::c gl::v1 gl::v0)
  `(gl::mbe :logic (gl::bfr-ite-bss-fn ,gl::c ,gl::v1 ,gl::v0) :exec
    (let ((gl::bfr-ite-bss-test ,gl::c))
      (if gl::bfr-ite-bss-test
          (if (eq gl::bfr-ite-bss-test t)
...">bfr-ite-bss</a> af b '(nil)))
      ((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> bf br bend) (first/rest/end b))
      ((when bend) (<a class="sym-link local-def" href="#def-bfr-ite-bss" data-sym="BFR-ITE-BSS" title="(defmacro gl::bfr-ite-bss (gl::c gl::v1 gl::v0)
  `(gl::mbe :logic (gl::bfr-ite-bss-fn ,gl::c ,gl::v1 ,gl::v0) :exec
    (let ((gl::bfr-ite-bss-test ,gl::c))
      (if gl::bfr-ite-bss-test
          (if (eq gl::bfr-ite-bss-test t)
...">bfr-ite-bss</a> bf a '(nil)))
      (c (bfr-and af bf))
      (r (bfr-logand-ss ar br)))
    (bfr-scons c r)))</pre>
  </div>

<div class="form-block other" id="form-71" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-defsymbolic" data-sym="DEFSYMBOLIC" title="(defmacro gl::defsymbolic (gl::name &amp;rest gl::args)
  (gl::defsymbolic-fn gl::name gl::args))">defsymbolic</a> bfr-logior-ss
  ((a s) (b s))
  <span class="keyword">:returns</span> (avb s (<a class="sym-link system" href="../../../axioms.html#def-logior" data-sym="LOGIOR">logior</a> a b))
  <span class="keyword">:measure</span> (<a class="sym-link system" href="../../../axioms.html#def-_2B" data-sym="+">+</a> (<a class="sym-link system" href="../../../axioms.html#def-len" data-sym="LEN">len</a> a) (<a class="sym-link system" href="../../../axioms.html#def-len" data-sym="LEN">len</a> b))
  (b* (((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> af ar aend) (first/rest/end a)) ((when aend) (<a class="sym-link local-def" href="#def-bfr-ite-bss" data-sym="BFR-ITE-BSS" title="(defmacro gl::bfr-ite-bss (gl::c gl::v1 gl::v0)
  `(gl::mbe :logic (gl::bfr-ite-bss-fn ,gl::c ,gl::v1 ,gl::v0) :exec
    (let ((gl::bfr-ite-bss-test ,gl::c))
      (if gl::bfr-ite-bss-test
          (if (eq gl::bfr-ite-bss-test t)
...">bfr-ite-bss</a> af '(<a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>) b))
      ((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> bf br bend) (first/rest/end b))
      ((when bend) (<a class="sym-link local-def" href="#def-bfr-ite-bss" data-sym="BFR-ITE-BSS" title="(defmacro gl::bfr-ite-bss (gl::c gl::v1 gl::v0)
  `(gl::mbe :logic (gl::bfr-ite-bss-fn ,gl::c ,gl::v1 ,gl::v0) :exec
    (let ((gl::bfr-ite-bss-test ,gl::c))
      (if gl::bfr-ite-bss-test
          (if (eq gl::bfr-ite-bss-test t)
...">bfr-ite-bss</a> bf '(<a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>) a))
      (c (bfr-or af bf))
      (r (bfr-logior-ss ar br)))
    (bfr-scons c r)))</pre>
  </div>

<div class="form-block other" id="form-72" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-defsymbolic" data-sym="DEFSYMBOLIC" title="(defmacro gl::defsymbolic (gl::name &amp;rest gl::args)
  (gl::defsymbolic-fn gl::name gl::args))">defsymbolic</a> bfr-logeqv-ss
  ((a s) (b s))
  <span class="keyword">:returns</span> (a=b s (<a class="sym-link system" href="../../../axioms.html#def-logeqv" data-sym="LOGEQV">logeqv</a> a b))
  <span class="keyword">:measure</span> (<a class="sym-link system" href="../../../axioms.html#def-_2B" data-sym="+">+</a> (<a class="sym-link system" href="../../../axioms.html#def-len" data-sym="LEN">len</a> a) (<a class="sym-link system" href="../../../axioms.html#def-len" data-sym="LEN">len</a> b))
  (b* (((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> af ar aend) (first/rest/end a)) ((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> bf br bend) (first/rest/end b))
      (c (bfr-iff af bf))
      ((when (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> aend bend)) (bfr-sterm c))
      (r (bfr-logeqv-ss ar br)))
    (bfr-scons c r)))</pre>
  </div>

<div class="form-block other" id="form-73" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-defsymbolic" data-sym="DEFSYMBOLIC" title="(defmacro gl::defsymbolic (gl::name &amp;rest gl::args)
  (gl::defsymbolic-fn gl::name gl::args))">defsymbolic</a> bfr-floor-ss-aux
  ((a s) (b s) (not-b s))
  <span class="keyword">:returns</span> (<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> (f s (floor a b))
    (m s (mod a b)))
  <span class="keyword">:correct-hyp</span> (&lt; <span class="number">0</span> (bfr-list-&gt;s b env))
  <span class="keyword">:guard</span> (equal not-b (bfr-lognot-s b))
  <span class="keyword">:prepwork</span> ((<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-include-book" data-sym="INCLUDE-BOOK">include-book</a> <a class="include-path" href="../../../ihs/quotient-remainder-lemmas.html" title="Open ihs/quotient-remainder-lemmas">"ihs/quotient-remainder-lemmas"</a> <span class="keyword">:dir</span> <span class="keyword">:system</span>)) (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-encapsulate" data-sym="ENCAPSULATE">encapsulate</a> nil
        (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-progn" data-sym="PROGN">progn</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> floor-between-b-and-2b
              (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (integerp a)
                  (integerp b)
                  (&lt; <span class="number">0</span> b)
                  (<a class="sym-link system" href="../../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> b a)
                  (&lt; a (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> <span class="number">2</span> b)))
                (equal (floor a b) <span class="number">1</span>))
              <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:in-theory</span> (disable floor floor-bounded-by-/ &lt;-*-/-left)
                 <span class="keyword">:use</span> ((<span class="keyword">:instance</span> floor-bounded-by-/ (x a) (y b)) (<span class="keyword">:theorem</span> (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (integerp a)
                         (integerp b)
                         (&lt; <span class="number">0</span> b)
                         (&lt; a (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> <span class="number">2</span> b)))
                       (&lt; (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> a (<a class="sym-link system" href="../../../axioms.html#def-_2F" data-sym="/">/</a> b)) <span class="number">2</span>))))) (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> stable-under-simplificationp
                  '(<span class="keyword">:in-theory</span> (disable floor)))))
            (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> floor-less-than-b
              (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (integerp a)
                  (integerp b)
                  (&lt; <span class="number">0</span> b)
                  (<a class="sym-link system" href="../../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> <span class="number">0</span> a)
                  (&lt; a b))
                (equal (floor a b) <span class="number">0</span>))
              <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:in-theory</span> (disable floor floor-bounded-by-/ &lt;-*-/-left)
                 <span class="keyword">:use</span> ((<span class="keyword">:instance</span> floor-bounded-by-/ (x a) (y b)) (<span class="keyword">:theorem</span> (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (integerp a)
                         (integerp b)
                         (&lt; <span class="number">0</span> b)
                         (&lt; a b))
                       (&lt; (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> a (<a class="sym-link system" href="../../../axioms.html#def-_2F" data-sym="/">/</a> b)) <span class="number">1</span>))))) (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> stable-under-simplificationp
                  '(<span class="keyword">:in-theory</span> (disable floor)))))
            (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> mod-between-b-and-2-b
              (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (integerp a)
                  (integerp b)
                  (&lt; <span class="number">0</span> b)
                  (<a class="sym-link system" href="../../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> b a)
                  (&lt; a (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> <span class="number">2</span> b)))
                (equal (mod a b) (<a class="sym-link system" href="../../../axioms.html#def--" data-sym="-">-</a> a b)))
              <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:in-theory</span> (<a class="sym-link system" href="../../../axioms.html#def-e_2Fd" data-sym="E/D">e/d</a> (mod) (floor floor-bounded-by-/ &lt;-*-/-left))
                 <span class="keyword">:use</span> ((<span class="keyword">:instance</span> floor-bounded-by-/ (x a) (y b)) (<span class="keyword">:theorem</span> (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (integerp a)
                         (integerp b)
                         (&lt; <span class="number">0</span> b)
                         (&lt; a (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> <span class="number">2</span> b)))
                       (&lt; (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> a (<a class="sym-link system" href="../../../axioms.html#def-_2F" data-sym="/">/</a> b)) <span class="number">2</span>))))) (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> stable-under-simplificationp
                  '(<span class="keyword">:in-theory</span> (disable floor)))))
            (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> mod-less-than-b
              (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (integerp a)
                  (integerp b)
                  (&lt; <span class="number">0</span> b)
                  (<a class="sym-link system" href="../../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> <span class="number">0</span> a)
                  (&lt; a b))
                (equal (mod a b) a))
              <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:in-theory</span> (disable floor floor-bounded-by-/ &lt;-*-/-left)
                 <span class="keyword">:use</span> ((<span class="keyword">:instance</span> floor-bounded-by-/ (x a) (y b)) (<span class="keyword">:theorem</span> (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (integerp a)
                         (integerp b)
                         (&lt; <span class="number">0</span> b)
                         (&lt; a (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> <span class="number">2</span> b)))
                       (&lt; (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> a (<a class="sym-link system" href="../../../axioms.html#def-_2F" data-sym="/">/</a> b)) <span class="number">2</span>))))) (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> stable-under-simplificationp
                  '(<span class="keyword">:in-theory</span> (disable floor)))))))
        (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> floor-rewrite-+-bit-*-2-a
          (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (integerp a) (integerp b) (&lt; <span class="number">0</span> b))
            (equal (floor (logcons c a) b)
              (if (<a class="sym-link system" href="../../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> b (logcons c (mod a b)))
                (logcons <span class="number">1</span> (floor a b))
                (logcons <span class="number">0</span> (floor a b)))))
          <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:in-theory</span> (e/d* (logcons bfix)
               (floor (<span class="keyword">:rules-of-class</span> <span class="keyword">:generalize</span> <span class="keyword">:here</span>))
               ((<span class="keyword">:generalize</span> mod-bounded-by-modulus))))))
        (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> mod-rewrite-+-bit-*-2-a
          (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (integerp a) (integerp b) (&lt; <span class="number">0</span> b))
            (equal (mod (logcons c a) b)
              (if (<a class="sym-link system" href="../../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> b (logcons c (mod a b)))
                (<a class="sym-link system" href="../../../axioms.html#def-_2B" data-sym="+">+</a> (<a class="sym-link system" href="../../../axioms.html#def--" data-sym="-">-</a> b) (logcons c (mod a b)))
                (logcons c (mod a b)))))
          <span class="keyword">:hints</span> ((<span class="string">"goal"</span> <span class="keyword">:in-theory</span> (e/d* (logcons bfix mod)
               (floor (<span class="keyword">:rules-of-class</span> <span class="keyword">:generalize</span> <span class="keyword">:here</span>))
               ((<span class="keyword">:generalize</span> mod-bounded-by-modulus))))))
        (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> denominator-of-unary-/
          (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (integerp n) (&lt; <span class="number">0</span> n))
            (equal (denominator (<a class="sym-link system" href="../../../axioms.html#def-_2F" data-sym="/">/</a> n)) n))
          <span class="keyword">:hints</span> ((<span class="string">"goal"</span> <span class="keyword">:use</span> ((<span class="keyword">:instance</span> <a class="sym-link system" href="../../../axioms.html#def-rational-implies2" data-sym="RATIONAL-IMPLIES2">rational-implies2</a> (x (<a class="sym-link system" href="../../../axioms.html#def-_2F" data-sym="/">/</a> n)))))))
        (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> &lt;-1-not-integer-recip
          (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (integerp n) (&lt; <span class="number">1</span> n))
            (<a class="sym-link system" href="../../../axioms.html#def-not" data-sym="NOT">not</a> (integerp (<a class="sym-link system" href="../../../axioms.html#def-_2F" data-sym="/">/</a> n))))
          <span class="keyword">:hints</span> ((<span class="string">"goal"</span> <span class="keyword">:use</span> ((<span class="keyword">:instance</span> denominator-of-unary-/))
             <span class="keyword">:in-theory</span> (disable denominator-of-unary-/))))
        (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> integer-and-integer-recip
          (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (integerp n) (&lt; <span class="number">0</span> n))
            (equal (integerp (<a class="sym-link system" href="../../../axioms.html#def-_2F" data-sym="/">/</a> n)) (equal n <span class="number">1</span>))))
        (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> loghead-of-bfr-integer-length-bound
          (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-bind-free" data-sym="BIND-FREE">bind-free</a> '((env . env)))
              (<a class="sym-link system" href="../../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> <span class="number">0</span> (<a class="sym-link system" href="../../../axioms.html#def-ifix" data-sym="IFIX">ifix</a> a))
              (<a class="sym-link system" href="../../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> (<a class="sym-link system" href="../../../axioms.html#def-ifix" data-sym="IFIX">ifix</a> a) (bfr-list-&gt;s b env)))
            (equal (loghead (integer-length-bound-s b) a)
              (<a class="sym-link system" href="../../../axioms.html#def-ifix" data-sym="IFIX">ifix</a> a)))
          <span class="keyword">:hints</span> ((<span class="string">"goal"</span> <span class="keyword">:use</span> ((<span class="keyword">:instance</span> loghead-of-integer-length-nonneg
                (n (integer-length-bound-s b))
                (x a)) (<span class="keyword">:instance</span> integer-length-lte-by-compare-nonneg
                 (a a)
                 (b (bfr-list-&gt;s b env))))
             <span class="keyword">:in-theory</span> (disable loghead-of-integer-length-nonneg))))
        (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> logcons-onto-mod-b-bound
          (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (integerp b) (integerp a) (&lt; <span class="number">0</span> b))
            (&lt; (logcons bit (mod a b)) (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> <span class="number">2</span> b)))
          <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:in-theory</span> (enable logcons)))
          <span class="keyword">:rule-classes</span> <span class="keyword">:linear</span>)))
    (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (add-bfr-pat (bfr-&lt;-ss . &amp;)))
    (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> +-1-logcons-0
        (equal (<a class="sym-link system" href="../../../axioms.html#def-_2B" data-sym="+">+</a> <span class="number">1</span> (logcons <span class="number">0</span> a)) (logcons <span class="number">1</span> a))
        <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:in-theory</span> (enable logcons)))))
    (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> boolean-listp-of-scdr
        (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-boolean-listp" data-sym="BOOLEAN-LISTP">boolean-listp</a> x)
          (<a class="sym-link system" href="../../../axioms.html#def-boolean-listp" data-sym="BOOLEAN-LISTP">boolean-listp</a> (scdr x)))
        <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:in-theory</span> (enable scdr)))))
    (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> bfr-list-&gt;s-of-quoted-boolean-list
        (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-syntaxp" data-sym="SYNTAXP">syntaxp</a> (<a class="sym-link system" href="../../../axioms.html#def-quotep" data-sym="QUOTEP">quotep</a> x))
            (<a class="sym-link system" href="../../../axioms.html#def-boolean-listp" data-sym="BOOLEAN-LISTP">boolean-listp</a> x))
          (equal (bfr-list-&gt;s x env) (v2i x)))
        <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:in-theory</span> (enable bfr-list-&gt;s v2i)
           <span class="keyword">:expand</span> ((<a class="sym-link system" href="../../../axioms.html#def-boolean-listp" data-sym="BOOLEAN-LISTP">boolean-listp</a> x))
           <span class="keyword">:induct</span> (bfr-list-&gt;s x env)))))
    (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-in-theory" data-sym="IN-THEORY">in-theory</a> (e/d* nil
          (floor mod
            loghead**
            loghead-identity
            bfr-eval-list
            bfr-list-&gt;s
            equal-of-booleans-rewrite
            mod-type
            floor-type-3
            floor-type-1
            logcons-posp-1
            logcons-posp-2
            logcons-negp
            rationalp-mod
            (<span class="keyword">:t</span> floor)
            (<span class="keyword">:t</span> mod))))))
  (b* (((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> <a class="sym-link system" href="../../../axioms.html#def-first" data-sym="FIRST">first</a> <a class="sym-link system" href="../../../axioms.html#def-rest" data-sym="REST">rest</a> <a class="sym-link system" href="../../../axioms.html#def-endp" data-sym="ENDP">endp</a>) (first/rest/end a)) (not-b (<a class="sym-link system" href="../../../axioms.html#def-mbe" data-sym="MBE">mbe</a> <span class="keyword">:logic</span> (bfr-lognot-s b) <span class="keyword">:exec</span> not-b)))
    (if <a class="sym-link system" href="../../../axioms.html#def-endp" data-sym="ENDP">endp</a>
      (<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> (bfr-sterm <a class="sym-link system" href="../../../axioms.html#def-first" data-sym="FIRST">first</a>)
        (<a class="sym-link local-def" href="#def-bfr-ite-bss" data-sym="BFR-ITE-BSS" title="(defmacro gl::bfr-ite-bss (gl::c gl::v1 gl::v0)
  `(gl::mbe :logic (gl::bfr-ite-bss-fn ,gl::c ,gl::v1 ,gl::v0) :exec
    (let ((gl::bfr-ite-bss-test ,gl::c))
      (if gl::bfr-ite-bss-test
          (if (eq gl::bfr-ite-bss-test t)
...">bfr-ite-bss</a> <a class="sym-link system" href="../../../axioms.html#def-first" data-sym="FIRST">first</a> (bfr-+-ss nil '(<a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>) b) '(nil)))
      (b* (((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> rf rm) (bfr-floor-ss-aux <a class="sym-link system" href="../../../axioms.html#def-rest" data-sym="REST">rest</a> b not-b)) (rm (bfr-scons <a class="sym-link system" href="../../../axioms.html#def-first" data-sym="FIRST">first</a> rm))
          (less (bfr-&lt;-ss rm b)))
        (<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> (bfr-scons (bfr-not less) rf)
          (<a class="sym-link local-def" href="#def-bfr-ite-bss" data-sym="BFR-ITE-BSS" title="(defmacro gl::bfr-ite-bss (gl::c gl::v1 gl::v0)
  `(gl::mbe :logic (gl::bfr-ite-bss-fn ,gl::c ,gl::v1 ,gl::v0) :exec
    (let ((gl::bfr-ite-bss-test ,gl::c))
      (if gl::bfr-ite-bss-test
          (if (eq gl::bfr-ite-bss-test t)
...">bfr-ite-bss</a> less
            rm
            (bfr-loghead-ns (integer-length-bound-s b)
              (bfr-+-ss <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a> not-b rm)))))))
  <span class="keyword">:correct-hints</span> ('(<span class="keyword">:expand</span> ((<span class="keyword">:free</span> (not-b)
        (bfr-floor-ss-aux a b not-b)) (<span class="keyword">:free</span> (not-b)
         (bfr-floor-ss-aux nil b not-b))
       (<span class="keyword">:free</span> (a b)
         (bfr-list-&gt;s (bfr-scons a b) env))
       (bfr-list-&gt;s a env))) (bfr-reasoning)
    (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> stable-under-simplificationp
      '(<span class="keyword">:in-theory</span> (enable lognot)))
    (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> stable-under-simplificationp '(<span class="keyword">:do-not-induct</span> <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>))))</pre>
  </div>

<div class="form-block other" id="form-74" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-defsymbolic" data-sym="DEFSYMBOLIC" title="(defmacro gl::defsymbolic (gl::name &amp;rest gl::args)
  (gl::defsymbolic-fn gl::name gl::args))">defsymbolic</a> bfr-mod-ss-aux
  ((a s) (b s) (not-b s))
  <span class="keyword">:returns</span> (m s (mod a b))
  <span class="keyword">:correct-hyp</span> (&lt; <span class="number">0</span> (bfr-list-&gt;s b env))
  <span class="keyword">:guard</span> (equal not-b (bfr-lognot-s b))
  <span class="keyword">:guard-hints</span> ('(<span class="keyword">:expand</span> ((<span class="keyword">:free</span> (not-b)
        (bfr-floor-ss-aux a b not-b)))))
  (<a class="sym-link system" href="../../../axioms.html#def-mbe" data-sym="MBE">mbe</a> <span class="keyword">:logic</span> (<a class="sym-link system" href="../../../axioms.html#def-non-exec" data-sym="NON-EXEC">non-exec</a> (<a class="sym-link system" href="../../../axioms.html#def-mv-nth" data-sym="MV-NTH">mv-nth</a> <span class="number">1</span> (bfr-floor-ss-aux a b not-b)))
    <span class="keyword">:exec</span> (b* (((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> <a class="sym-link system" href="../../../axioms.html#def-first" data-sym="FIRST">first</a> <a class="sym-link system" href="../../../axioms.html#def-rest" data-sym="REST">rest</a> <a class="sym-link system" href="../../../axioms.html#def-endp" data-sym="ENDP">endp</a>) (first/rest/end a)) (not-b (<a class="sym-link system" href="../../../axioms.html#def-mbe" data-sym="MBE">mbe</a> <span class="keyword">:logic</span> (bfr-lognot-s b) <span class="keyword">:exec</span> not-b))
        ((when <a class="sym-link system" href="../../../axioms.html#def-endp" data-sym="ENDP">endp</a>) (<a class="sym-link local-def" href="#def-bfr-ite-bss" data-sym="BFR-ITE-BSS" title="(defmacro gl::bfr-ite-bss (gl::c gl::v1 gl::v0)
  `(gl::mbe :logic (gl::bfr-ite-bss-fn ,gl::c ,gl::v1 ,gl::v0) :exec
    (let ((gl::bfr-ite-bss-test ,gl::c))
      (if gl::bfr-ite-bss-test
          (if (eq gl::bfr-ite-bss-test t)
...">bfr-ite-bss</a> <a class="sym-link system" href="../../../axioms.html#def-first" data-sym="FIRST">first</a> (bfr-+-ss nil '(<a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>) b) '(nil)))
        (rm (bfr-mod-ss-aux <a class="sym-link system" href="../../../axioms.html#def-rest" data-sym="REST">rest</a> b not-b))
        (rm (bfr-scons <a class="sym-link system" href="../../../axioms.html#def-first" data-sym="FIRST">first</a> rm))
        (less (bfr-&lt;-ss rm b)))
      (<a class="sym-link local-def" href="#def-bfr-ite-bss" data-sym="BFR-ITE-BSS" title="(defmacro gl::bfr-ite-bss (gl::c gl::v1 gl::v0)
  `(gl::mbe :logic (gl::bfr-ite-bss-fn ,gl::c ,gl::v1 ,gl::v0) :exec
    (let ((gl::bfr-ite-bss-test ,gl::c))
      (if gl::bfr-ite-bss-test
          (if (eq gl::bfr-ite-bss-test t)
...">bfr-ite-bss</a> less
        rm
        (bfr-loghead-ns (integer-length-bound-s b)
          (bfr-+-ss <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a> not-b rm))))))</pre>
  </div>

<div class="form-block other" id="form-75" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-defsymbolic" data-sym="DEFSYMBOLIC" title="(defmacro gl::defsymbolic (gl::name &amp;rest gl::args)
  (gl::defsymbolic-fn gl::name gl::args))">defsymbolic</a> bfr-sign-abs-not-s
  ((x s))
  <span class="keyword">:returns</span> (<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> (s b (&lt; x <span class="number">0</span>))
    (a s (abs x))
    (n s (lognot (abs x))))
  (let ((abs (bfr-abs-s x)))
    (<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> (bfr-sign-s x) abs (bfr-lognot-s abs))))</pre>
  </div>

<div class="form-block other" id="form-76" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-defsymbolic" data-sym="DEFSYMBOLIC" title="(defmacro gl::defsymbolic (gl::name &amp;rest gl::args)
  (gl::defsymbolic-fn gl::name gl::args))">defsymbolic</a> bfr-floor-ss
  ((a s) (b s))
  <span class="keyword">:returns</span> (f s (floor a b))
  <span class="keyword">:prepwork</span> ((<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-in-theory" data-sym="IN-THEORY">in-theory</a> (enable bfr-sign-abs-not-s))))
  (<a class="sym-link local-def" href="#def-bfr-ite-bss" data-sym="BFR-ITE-BSS" title="(defmacro gl::bfr-ite-bss (gl::c gl::v1 gl::v0)
  `(gl::mbe :logic (gl::bfr-ite-bss-fn ,gl::c ,gl::v1 ,gl::v0) :exec
    (let ((gl::bfr-ite-bss-test ,gl::c))
      (if gl::bfr-ite-bss-test
          (if (eq gl::bfr-ite-bss-test t)
...">bfr-ite-bss</a> (bfr-=-ss b nil)
    nil
    (b* (((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> bsign babs bneg) (bfr-sign-abs-not-s b)) (anorm (<a class="sym-link local-def" href="#def-bfr-ite-bss" data-sym="BFR-ITE-BSS" title="(defmacro gl::bfr-ite-bss (gl::c gl::v1 gl::v0)
  `(gl::mbe :logic (gl::bfr-ite-bss-fn ,gl::c ,gl::v1 ,gl::v0) :exec
    (let ((gl::bfr-ite-bss-test ,gl::c))
      (if gl::bfr-ite-bss-test
          (if (eq gl::bfr-ite-bss-test t)
...">bfr-ite-bss</a> bsign
            (bfr-unary-minus-s a)
            a))
        ((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> f &amp;) (bfr-floor-ss-aux anorm babs bneg)))
      f))
  <span class="keyword">:correct-hints</span> ((bfr-reasoning)))</pre>
  </div>

<div class="form-block other" id="form-77" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-defsymbolic" data-sym="DEFSYMBOLIC" title="(defmacro gl::defsymbolic (gl::name &amp;rest gl::args)
  (gl::defsymbolic-fn gl::name gl::args))">defsymbolic</a> bfr-mod-ss
  ((a s) (b s))
  <span class="keyword">:returns</span> (m s (mod a b))
  <span class="keyword">:prepwork</span> ((<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-in-theory" data-sym="IN-THEORY">in-theory</a> (enable bfr-sign-abs-not-s))))
  (<a class="sym-link local-def" href="#def-bfr-ite-bss" data-sym="BFR-ITE-BSS" title="(defmacro gl::bfr-ite-bss (gl::c gl::v1 gl::v0)
  `(gl::mbe :logic (gl::bfr-ite-bss-fn ,gl::c ,gl::v1 ,gl::v0) :exec
    (let ((gl::bfr-ite-bss-test ,gl::c))
      (if gl::bfr-ite-bss-test
          (if (eq gl::bfr-ite-bss-test t)
...">bfr-ite-bss</a> (bfr-=-ss b nil)
    (llist-fix a)
    (bfr-logext-ns (integer-length-bound-s b)
      (b* (((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> bsign babs bneg) (bfr-sign-abs-not-s b)) (anorm (<a class="sym-link local-def" href="#def-bfr-ite-bss" data-sym="BFR-ITE-BSS" title="(defmacro gl::bfr-ite-bss (gl::c gl::v1 gl::v0)
  `(gl::mbe :logic (gl::bfr-ite-bss-fn ,gl::c ,gl::v1 ,gl::v0) :exec
    (let ((gl::bfr-ite-bss-test ,gl::c))
      (if gl::bfr-ite-bss-test
          (if (eq gl::bfr-ite-bss-test t)
...">bfr-ite-bss</a> bsign
              (bfr-unary-minus-s a)
              a))
          (m (bfr-mod-ss-aux anorm babs bneg)))
        (<a class="sym-link local-def" href="#def-bfr-ite-bss" data-sym="BFR-ITE-BSS" title="(defmacro gl::bfr-ite-bss (gl::c gl::v1 gl::v0)
  `(gl::mbe :logic (gl::bfr-ite-bss-fn ,gl::c ,gl::v1 ,gl::v0) :exec
    (let ((gl::bfr-ite-bss-test ,gl::c))
      (if gl::bfr-ite-bss-test
          (if (eq gl::bfr-ite-bss-test t)
...">bfr-ite-bss</a> bsign
          (bfr-unary-minus-s m)
          m))))
  <span class="keyword">:correct-hints</span> ((bfr-reasoning)))</pre>
  </div>

<div class="form-block other" id="form-78" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-defsymbolic" data-sym="DEFSYMBOLIC" title="(defmacro gl::defsymbolic (gl::name &amp;rest gl::args)
  (gl::defsymbolic-fn gl::name gl::args))">defsymbolic</a> bfr-truncate-ss
  ((a s) (b s))
  <span class="keyword">:returns</span> (tr s (truncate a b))
  <span class="keyword">:prepwork</span> ((<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-in-theory" data-sym="IN-THEORY">in-theory</a> (enable bfr-sign-abs-not-s))))
  (<a class="sym-link local-def" href="#def-bfr-ite-bss" data-sym="BFR-ITE-BSS" title="(defmacro gl::bfr-ite-bss (gl::c gl::v1 gl::v0)
  `(gl::mbe :logic (gl::bfr-ite-bss-fn ,gl::c ,gl::v1 ,gl::v0) :exec
    (let ((gl::bfr-ite-bss-test ,gl::c))
      (if gl::bfr-ite-bss-test
          (if (eq gl::bfr-ite-bss-test t)
...">bfr-ite-bss</a> (bfr-=-ss b nil)
    nil
    (b* (((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> bsign babs bneg) (bfr-sign-abs-not-s b)) ((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> asign aabs &amp;) (bfr-sign-abs-not-s a))
        ((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> f &amp;) (bfr-floor-ss-aux aabs babs bneg)))
      (<a class="sym-link local-def" href="#def-bfr-ite-bss" data-sym="BFR-ITE-BSS" title="(defmacro gl::bfr-ite-bss (gl::c gl::v1 gl::v0)
  `(gl::mbe :logic (gl::bfr-ite-bss-fn ,gl::c ,gl::v1 ,gl::v0) :exec
    (let ((gl::bfr-ite-bss-test ,gl::c))
      (if gl::bfr-ite-bss-test
          (if (eq gl::bfr-ite-bss-test t)
...">bfr-ite-bss</a> (bfr-xor bsign asign)
        (bfr-unary-minus-s f)
        f)))
  <span class="keyword">:correct-hints</span> ((bfr-reasoning)))</pre>
  </div>

<div class="form-block other" id="form-79" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-defsymbolic" data-sym="DEFSYMBOLIC" title="(defmacro gl::defsymbolic (gl::name &amp;rest gl::args)
  (gl::defsymbolic-fn gl::name gl::args))">defsymbolic</a> bfr-rem-ss
  ((a s) (b s))
  <span class="keyword">:returns</span> (r s (rem a b))
  <span class="keyword">:prepwork</span> ((<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-in-theory" data-sym="IN-THEORY">in-theory</a> (disable integer-length-of-between-abs-and-minus-abs
         logext-of-integer-length-bound
         rem
         integer-length**))) (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-in-theory" data-sym="IN-THEORY">in-theory</a> (enable bfr-sign-abs-not-s))))
  (<a class="sym-link local-def" href="#def-bfr-ite-bss" data-sym="BFR-ITE-BSS" title="(defmacro gl::bfr-ite-bss (gl::c gl::v1 gl::v0)
  `(gl::mbe :logic (gl::bfr-ite-bss-fn ,gl::c ,gl::v1 ,gl::v0) :exec
    (let ((gl::bfr-ite-bss-test ,gl::c))
      (if gl::bfr-ite-bss-test
          (if (eq gl::bfr-ite-bss-test t)
...">bfr-ite-bss</a> (bfr-=-ss b nil)
    (llist-fix a)
    (b* (((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> &amp; babs bneg) (bfr-sign-abs-not-s b)) ((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> asign aabs &amp;) (bfr-sign-abs-not-s a))
        (m (bfr-mod-ss-aux aabs babs bneg)))
      (bfr-logext-ns (integer-length-bound-s b)
        (<a class="sym-link local-def" href="#def-bfr-ite-bss" data-sym="BFR-ITE-BSS" title="(defmacro gl::bfr-ite-bss (gl::c gl::v1 gl::v0)
  `(gl::mbe :logic (gl::bfr-ite-bss-fn ,gl::c ,gl::v1 ,gl::v0) :exec
    (let ((gl::bfr-ite-bss-test ,gl::c))
      (if gl::bfr-ite-bss-test
          (if (eq gl::bfr-ite-bss-test t)
...">bfr-ite-bss</a> asign
          (bfr-unary-minus-s m)
          m))))
  <span class="keyword">:correct-hints</span> ((bfr-reasoning) (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> stable-under-simplificationp
      '(<span class="keyword">:use</span> ((<span class="keyword">:instance</span> integer-length-of-rem
           (a (bfr-list-&gt;s a env))
           (b (bfr-list-&gt;s b env))))
        <span class="keyword">:in-theory</span> (<a class="sym-link system" href="../../../axioms.html#def-e_2Fd" data-sym="E/D">e/d</a> (logext-of-integer-length-bound)
          (integer-length-of-rem integer-length-of-mod))))))</pre>
  </div>

<div class="form-block other" id="form-80" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(define s-take
  ((n <a class="sym-link system" href="../../../axioms.html#def-natp" data-sym="NATP">natp</a>) (x <a class="sym-link system" href="../../../axioms.html#def-true-listp" data-sym="TRUE-LISTP">true-listp</a>))
  (b* (((when (<a class="sym-link system" href="../../../axioms.html#def-zp" data-sym="ZP">zp</a> n)) (bfr-sterm nil)) ((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> <a class="sym-link system" href="../../../axioms.html#def-first" data-sym="FIRST">first</a> <a class="sym-link system" href="../../../axioms.html#def-rest" data-sym="REST">rest</a> end) (first/rest/end x))
      ((when (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> end (<a class="sym-link system" href="../../../axioms.html#def-eq" data-sym="EQ">eq</a> <a class="sym-link system" href="../../../axioms.html#def-first" data-sym="FIRST">first</a> nil))) '(nil)))
    (bfr-ucons <a class="sym-link system" href="../../../axioms.html#def-first" data-sym="FIRST">first</a> (s-take (<a class="sym-link system" href="../../../axioms.html#def-1-" data-sym="1-">1-</a> n) <a class="sym-link system" href="../../../axioms.html#def-rest" data-sym="REST">rest</a>)))
  ///
  (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> deps-of-s-take
    (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-not" data-sym="NOT">not</a> (pbfr-list-depends-on k p x))
      (<a class="sym-link system" href="../../../axioms.html#def-not" data-sym="NOT">not</a> (pbfr-list-depends-on k
          p
          (s-take n x)))))
  (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> s-take-correct
    (equal (bfr-list-&gt;u (s-take n x) env)
      (loghead n (bfr-list-&gt;s x env)))
    <span class="keyword">:hints</span> ((<span class="string">"goal"</span> <span class="keyword">:induct</span> (s-take n x)
       <span class="keyword">:in-theory</span> (enable* ihsext-recursive-redefs)))))</pre>
  </div>

<div class="form-block other" id="form-81" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-defsymbolic" data-sym="DEFSYMBOLIC" title="(defmacro gl::defsymbolic (gl::name &amp;rest gl::args)
  (gl::defsymbolic-fn gl::name gl::args))">defsymbolic</a> bfr-logapp-russ
  ((n ru) (x s) (y s))
  <span class="keyword">:returns</span> (app s (logapp n x y))
  <span class="keyword">:prepwork</span> ((<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-in-theory" data-sym="IN-THEORY">in-theory</a> (enable logcons rev))) (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> logapp-loghead-logtail
        (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (equal z
            (logapp w1 (logtail <a class="sym-link system" href="../../../axioms.html#def-w" data-sym="W">w</a> x) y))
          (equal (logapp <a class="sym-link system" href="../../../axioms.html#def-w" data-sym="W">w</a> (loghead <a class="sym-link system" href="../../../axioms.html#def-w" data-sym="W">w</a> x) z)
            (logapp (<a class="sym-link system" href="../../../axioms.html#def-_2B" data-sym="+">+</a> (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> <a class="sym-link system" href="../../../axioms.html#def-w" data-sym="W">w</a>) (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> w1))
              x
              y)))
        <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:in-theory</span> (enable* ihsext-recursive-redefs
             ihsext-inductions)))))
    (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> loghead-of-len-of-bfr-list
        (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> (<a class="sym-link system" href="../../../axioms.html#def-len" data-sym="LEN">len</a> lst) (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> n))
          (equal (loghead n (bfr-list-&gt;u lst env))
            (bfr-list-&gt;u lst env)))
        <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:in-theory</span> (enable* ihsext-recursive-redefs
             ihsext-inductions
             (<span class="keyword">:i</span> <a class="sym-link system" href="../../../axioms.html#def-nthcdr" data-sym="NTHCDR">nthcdr</a>))
           <span class="keyword">:induct</span> (<a class="sym-link system" href="../../../axioms.html#def-nthcdr" data-sym="NTHCDR">nthcdr</a> n lst)
           <span class="keyword">:expand</span> ((bfr-list-&gt;u lst env) (<span class="keyword">:free</span> (x) (loghead n x)))))))
    (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> logapp-1-is-plus-ash
        (equal (logapp n x <span class="number">1</span>)
          (<a class="sym-link system" href="../../../axioms.html#def-_2B" data-sym="+">+</a> (ash <span class="number">1</span> (<a class="sym-link system" href="../../../axioms.html#def-nfix" data-sym="NFIX">nfix</a> n)) (loghead n x)))
        <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:in-theory</span> (enable logapp ash-is-expt-*-x)))))
    (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> bfr-list-&gt;u-of-append
        (equal (bfr-list-&gt;u (<a class="sym-link system" href="../../../axioms.html#def-append" data-sym="APPEND">append</a> a b) env)
          (logapp (<a class="sym-link system" href="../../../axioms.html#def-len" data-sym="LEN">len</a> a)
            (bfr-list-&gt;u a env)
            (bfr-list-&gt;u b env)))
        <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:in-theory</span> (enable* ihsext-recursive-redefs
             ihsext-inductions
             <a class="sym-link system" href="../../../axioms.html#def-append" data-sym="APPEND">append</a>))))))
  (if (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> n)
    (llist-fix y)
    (if (b* (((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> x1 &amp; xend) (first/rest/end x)) ((<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> y1 &amp; yend) (first/rest/end y)))
        (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> xend yend (equal x1 y1)))
      (llist-fix x)
      (<a class="sym-link local-def" href="#def-bfr-ite-bss" data-sym="BFR-ITE-BSS" title="(defmacro gl::bfr-ite-bss (gl::c gl::v1 gl::v0)
  `(gl::mbe :logic (gl::bfr-ite-bss-fn ,gl::c ,gl::v1 ,gl::v0) :exec
    (let ((gl::bfr-ite-bss-test ,gl::c))
      (if gl::bfr-ite-bss-test
          (if (eq gl::bfr-ite-bss-test t)
...">bfr-ite-bss</a> (car n)
        (b* ((<a class="sym-link system" href="../../../axioms.html#def-w" data-sym="W">w</a> (ash <span class="number">1</span> (<a class="sym-link system" href="../../../axioms.html#def-len" data-sym="LEN">len</a> (cdr n)))))
          (bfr-logapp-nus <a class="sym-link system" href="../../../axioms.html#def-w" data-sym="W">w</a>
            (s-take <a class="sym-link system" href="../../../axioms.html#def-w" data-sym="W">w</a> x)
            (bfr-logapp-russ (cdr n)
              (bfr-logtail-ns <a class="sym-link system" href="../../../axioms.html#def-w" data-sym="W">w</a> x)
              y)))
        (bfr-logapp-russ (cdr n) x y)))))</pre>
  </div>

<div class="form-block other" id="form-82" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (defsection expt-lemmas
    (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> expt-of-0
      (equal (expt base <span class="number">0</span>) <span class="number">1</span>)
      <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:in-theory</span> (enable expt))))
    (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> expt-of-*-2
      (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-natp" data-sym="NATP">natp</a> exp)
        (equal (expt base (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> <span class="number">2</span> exp))
          (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> (expt base exp) (expt base exp))))
      <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:in-theory</span> (enable expt))))))</pre>
  </div>

<div class="form-block other" id="form-83" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(define all-nil
  ((x))
  (if (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> x)
    <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>
    (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-eq" data-sym="EQ">eq</a> (car x) nil) (all-nil (cdr x))))
  ///
  (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> all-nil-when-atom
    (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> x) (all-nil x)))
  (<a class="sym-link system" href="../../../axioms.html#def-defthmd" data-sym="DEFTHMD">defthmd</a> zero-when-all-nil
    (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (all-nil x)
      (equal (bfr-list-&gt;u x env) <span class="number">0</span>))))</pre>
  </div>

<div class="form-block other" id="form-84" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-defsymbolic" data-sym="DEFSYMBOLIC" title="(defmacro gl::defsymbolic (gl::name &amp;rest gl::args)
  (gl::defsymbolic-fn gl::name gl::args))">defsymbolic</a> bfr-expt-su
  ((b s) (e <a class="sym-link system" href="../../../history-management.html#def-u" data-sym="U">u</a>))
  <span class="keyword">:measure</span> (<a class="sym-link system" href="../../../axioms.html#def-len" data-sym="LEN">len</a> e)
  <span class="keyword">:returns</span> (b^e s (expt b e))
  (b* (((when (all-nil e)) '(<a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a> nil)) ((when (all-nil (cdr e))) (<a class="sym-link local-def" href="#def-bfr-ite-bss" data-sym="BFR-ITE-BSS" title="(defmacro gl::bfr-ite-bss (gl::c gl::v1 gl::v0)
  `(gl::mbe :logic (gl::bfr-ite-bss-fn ,gl::c ,gl::v1 ,gl::v0) :exec
    (let ((gl::bfr-ite-bss-test ,gl::c))
      (if gl::bfr-ite-bss-test
          (if (eq gl::bfr-ite-bss-test t)
...">bfr-ite-bss</a> (car e) b '(<a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a> nil)))
      (<a class="sym-link system" href="../../../axioms.html#def-rest" data-sym="REST">rest</a> (bfr-expt-su (bfr-*-ss b b) (cdr e))))
    (<a class="sym-link local-def" href="#def-bfr-ite-bss" data-sym="BFR-ITE-BSS" title="(defmacro gl::bfr-ite-bss (gl::c gl::v1 gl::v0)
  `(gl::mbe :logic (gl::bfr-ite-bss-fn ,gl::c ,gl::v1 ,gl::v0) :exec
    (let ((gl::bfr-ite-bss-test ,gl::c))
      (if gl::bfr-ite-bss-test
          (if (eq gl::bfr-ite-bss-test t)
...">bfr-ite-bss</a> (car e) (bfr-*-ss b <a class="sym-link system" href="../../../axioms.html#def-rest" data-sym="REST">rest</a>) <a class="sym-link system" href="../../../axioms.html#def-rest" data-sym="REST">rest</a>))
  <span class="keyword">:correct-hints</span> ('(<span class="keyword">:in-theory</span> (enable zero-when-all-nil logcons))))</pre>
  </div>


  </main>
  
<script>
// ACL2 Book HTML Documentation - Interactive Features
// Generated by cert2 - build2 system

// State
let activeFilter = null;
let activePartFilter = null;
let activeNameFilter = null;
let currentFontSize = 14;

// Theme management
function getStoredTheme() {
  return localStorage.getItem('acl2-theme') || 'dark';
}

function setTheme(theme) {
  if (theme === 'light') {
    document.documentElement.setAttribute('data-theme', 'light');
    document.getElementById('theme-toggle').textContent = '🌙';
  } else {
    document.documentElement.removeAttribute('data-theme');
    document.getElementById('theme-toggle').textContent = '☀️';
  }
  localStorage.setItem('acl2-theme', theme);
}

function toggleTheme() {
  const current = getStoredTheme();
  setTheme(current === 'dark' ? 'light' : 'dark');
}

// Font size management
function getStoredFontSize() {
  return parseInt(localStorage.getItem('acl2-fontsize') || '14', 10);
}

function setFontSize(size) {
  size = Math.max(10, Math.min(24, size)); // Clamp between 10-24
  currentFontSize = size;
  document.body.style.fontSize = size + 'px';
  localStorage.setItem('acl2-fontsize', size.toString());
}

function increaseFontSize() {
  setFontSize(currentFontSize + 2);
}

function decreaseFontSize() {
  setFontSize(currentFontSize - 2);
}

// Get all form blocks
function getFormBlocks() {
  return document.querySelectorAll('.form-block');
}

// Clear all filters
function clearFilter() {
  activeFilter = null;
  activePartFilter = null;
  activeNameFilter = null;
  getFormBlocks().forEach(b => {
    b.classList.remove('hidden', 'dimmed');
  });
  document.querySelectorAll('.part-btn').forEach(b => b.classList.remove('active'));
  const status = document.querySelector('.filter-status');
  status.classList.remove('active');
  // Slide name filter back to original position
  document.querySelector('.controls-left').style.transform = '';
  // Clear the name filter input
  const nameInput = document.getElementById('name-filter');
  if (nameInput) nameInput.value = '';
}

// Show filter status and slide name filter right
function showFilterStatus(text) {
  const status = document.querySelector('.filter-status');
  status.classList.add('active');
  status.querySelector('.filter-text').textContent = text;
  // Slide name filter to the right to make room
  setTimeout(() => {
    const statusWidth = status.offsetWidth;
    document.querySelector('.controls-left').style.transform = `translateX(${statusWidth + 15}px)`;
  }, 10);
}

// Filter to show only forms that define or reference a symbol
function filterBySymbol(symName, showUsedBy) {
  clearFilter();
  activeFilter = symName;
  
  const blocks = getFormBlocks();
  let visibleCount = 0;
  
  blocks.forEach(block => {
    const definesName = block.dataset.defines;
    const references = (block.dataset.references || '').split(',');
    const usedBy = (block.dataset.usedBy || '').split(',');
    
    let show = false;
    if (showUsedBy) {
      // Show forms that USE this symbol
      show = references.includes(symName) || definesName === symName;
    } else {
      // Show forms that this symbol USES
      show = usedBy.includes(symName) || definesName === symName;
    }
    
    if (show) {
      block.classList.remove('hidden');
      visibleCount++;
    } else {
      block.classList.add('hidden');
    }
  });
  
  // Update status
  showFilterStatus(`Filtering by: ${symName} (${visibleCount} items)`);
}

// Filter by defthm part (term, hints, rule-classes, etc.)
function filterByPart(formId, partName) {
  clearFilter();
  activePartFilter = { formId, partName };
  
  // Get the part's referenced symbols
  // data-part-term becomes dataset.partTerm, data-part-hints becomes dataset.partHints, etc.
  const block = document.getElementById(formId);
  const datasetKey = 'part' + partName.charAt(0).toUpperCase() + partName.slice(1).replace(/-([a-z])/g, (g) => g[1].toUpperCase());
  const partData = block.dataset[datasetKey];
  if (!partData) return;
  
  const partSyms = partData.split(',').filter(s => s);
  
  // Highlight the button
  block.querySelector(`.part-btn[data-part="${partName}"]`).classList.add('active');
  
  // Hide forms not referenced by this part
  getFormBlocks().forEach(b => {
    const definesName = b.dataset.defines;
    if (b.id === formId || partSyms.includes(definesName)) {
      b.classList.remove('hidden');
    } else {
      b.classList.add('hidden');
    }
  });
  
  // Update status
  showFilterStatus(`Filtering ${formId} :${partName} (${partSyms.length} references)`);
}

// Filter by name (substring or regex)
function filterByName(pattern, useRegex) {
  // Clear other filters but keep the input value
  activeFilter = null;
  activePartFilter = null;
  document.querySelectorAll('.part-btn').forEach(b => b.classList.remove('active'));
  
  if (!pattern || pattern.trim() === '') {
    // Empty pattern - show all
    activeNameFilter = null;
    getFormBlocks().forEach(b => b.classList.remove('hidden'));
    const status = document.querySelector('.filter-status');
    status.classList.remove('active');
    document.querySelector('.controls-left').style.transform = '';
    return;
  }
  
  activeNameFilter = pattern;
  
  let matcher;
  let isValidRegex = true;
  
  if (useRegex) {
    try {
      matcher = new RegExp(pattern, 'i');
    } catch (e) {
      // Invalid regex - show error in status and don't filter
      showFilterStatus(`Invalid regex: ${e.message}`);
      return;
    }
  } else {
    // Plain substring match (case-insensitive)
    const lowerPattern = pattern.toLowerCase();
    matcher = { test: (s) => s.toLowerCase().includes(lowerPattern) };
  }
  
  const blocks = getFormBlocks();
  let visibleCount = 0;
  
  blocks.forEach(block => {
    const definesName = block.dataset.defines || '';
    if (matcher.test(definesName)) {
      block.classList.remove('hidden');
      visibleCount++;
    } else {
      block.classList.add('hidden');
    }
  });
  
  // Update status
  const modeText = useRegex ? 'regex' : 'name';
  showFilterStatus(`Filtering by ${modeText}: "${pattern}" (${visibleCount} matches)`);
}

// Click on a name to show what references it
function handleNameClick(symName) {
  if (activeFilter === symName) {
    clearFilter();
  } else {
    filterBySymbol(symName, true);
  }
}

// Navigate to a definition (same file or different)
function navigateTo(symName, file) {
  if (file) {
    // External file - navigate
    window.location.href = file + '.html#def-' + symName.toLowerCase();
  } else {
    // Same file - scroll
    const target = document.getElementById('def-' + symName.toLowerCase());
    if (target) {
      target.scrollIntoView({ behavior: 'smooth', block: 'center' });
      target.classList.add('highlight');
      setTimeout(() => target.classList.remove('highlight'), 400);
    }
  }
}

// Initialize
document.addEventListener('DOMContentLoaded', () => {
  // Part buttons
  document.querySelectorAll('.part-btn').forEach(btn => {
    btn.addEventListener('click', (e) => {
      e.stopPropagation();
      const formId = btn.closest('.form-block').id;
      const partName = btn.dataset.part;
      if (activePartFilter && activePartFilter.formId === formId && 
          activePartFilter.partName === partName) {
        clearFilter();
      } else {
        filterByPart(formId, partName);
      }
    });
  });
  
  // Clear filter button
  document.querySelector('.clear-filter').addEventListener('click', clearFilter);
  
  // Name filter input
  const nameFilter = document.getElementById('name-filter');
  const regexToggle = document.getElementById('regex-toggle');
  
  let filterTimeout = null;
  nameFilter.addEventListener('input', () => {
    // Debounce the filter to avoid excessive updates while typing
    clearTimeout(filterTimeout);
    filterTimeout = setTimeout(() => {
      filterByName(nameFilter.value, regexToggle.checked);
    }, 150);
  });
  
  // Re-filter when regex toggle changes
  regexToggle.addEventListener('change', () => {
    if (nameFilter.value) {
      filterByName(nameFilter.value, regexToggle.checked);
    }
  });
  
  // Allow Escape key to clear filter when in input
  nameFilter.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
      clearFilter();
      nameFilter.blur();
    }
  });
  
  // Symbol references (old span-based refs)
  document.querySelectorAll('.sym-ref').forEach(ref => {
    ref.addEventListener('click', (e) => {
      e.stopPropagation();
      const sym = ref.dataset.sym;
      const file = ref.dataset.file;
      if (file) {
        navigateTo(sym, file);
      } else {
        handleNameClick(sym);
      }
    });
  });
  
  // Symbol links (new anchor-based links)
  // These use standard <a> tags so navigation happens automatically
  // But we need to clear filters if target would be hidden
  document.querySelectorAll('.sym-link').forEach(link => {
    link.addEventListener('click', (e) => {
      const href = link.getAttribute('href');
      if (href && href.startsWith('#')) {
        // Local link - check if target is hidden by filter
        const targetId = href.substring(1);
        const target = document.getElementById(targetId);
        if (target) {
          // If target is hidden, clear the filter first
          if (target.classList.contains('hidden')) {
            clearFilter();
          }
          // Add highlight effect after a short delay
          setTimeout(() => {
            target.classList.add('highlight');
            setTimeout(() => target.classList.remove('highlight'), 400);
          }, 100);
        }
      }
      // For external links, default behavior handles navigation
    });
  });
  
  // Form names (show what uses them)
  document.querySelectorAll('.form-name').forEach(name => {
    name.addEventListener('click', (e) => {
      handleNameClick(name.dataset.sym);
    });
  });
  
  // Handle hash navigation (when arriving at page with #anchor)
  if (window.location.hash) {
    const target = document.querySelector(window.location.hash);
    if (target) {
      setTimeout(() => {
        target.scrollIntoView({ behavior: 'smooth', block: 'center' });
        target.classList.add('highlight');
        setTimeout(() => target.classList.remove('highlight'), 400);
      }, 200);
    }
  }
  
  // Initialize theme from storage
  setTheme(getStoredTheme());
  
  // Initialize font size from storage
  currentFontSize = getStoredFontSize();
  setFontSize(currentFontSize);
  
  // Theme toggle button
  document.getElementById('theme-toggle').addEventListener('click', toggleTheme);
  
  // Font size buttons
  document.getElementById('font-larger').addEventListener('click', increaseFontSize);
  document.getElementById('font-smaller').addEventListener('click', decreaseFontSize);
});

</script>

</body>
</html>