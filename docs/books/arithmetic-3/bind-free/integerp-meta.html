<!DOCTYPE html>
<html lang="en" vocab="http://schema.org/" typeof="SoftwareSourceCode">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>integerp-meta - ACL2 Book</title>
  <meta property="name" content="integerp-meta">
  <meta property="programmingLanguage" content="ACL2">
  
<style>
/* ACL2 Book HTML Documentation Styles */
/* Generated by cert2 - build2 system */

/* Dark theme (default) */
:root {
  --bg: #1e1e2e;
  --fg: #cdd6f4;
  --comment: #6c7086;
  --keyword: #cba6f7;
  --string: #a6e3a1;
  --function: #89b4fa;
  --type: #f9e2af;
  --link: #89dceb;
  --link-hover: #f5c2e7;
  --highlight: rgba(137, 180, 250, 0.2);
  --border: #313244;
  --block-bg: rgba(49, 50, 68, 0.5);
  --btn-bg: #313244;
  --btn-hover: rgba(137, 180, 250, 0.2);
}

/* Light theme */
[data-theme="light"] {
  --bg: #eff1f5;
  --fg: #4c4f69;
  --comment: #6c6f85;
  --keyword: #8839ef;
  --string: #40a02b;
  --function: #1e66f5;
  --type: #df8e1d;
  --link: #04a5e5;
  --link-hover: #ea76cb;
  --highlight: rgba(30, 102, 245, 0.15);
  --border: #ccd0da;
  --block-bg: rgba(204, 208, 218, 0.3);
  --btn-bg: #ccd0da;
  --btn-hover: rgba(30, 102, 245, 0.15);
}

body {
  font-family: 'JetBrains Mono', 'Fira Code', monospace;
  background: var(--bg);
  color: var(--fg);
  margin: 0;
  padding: 20px;
  line-height: 1.6;
  font-size: 14px;
  transition: background 0.1s, color 0.1s;
}

/* Controls toolbar */
.controls-left {
  position: fixed;
  top: 10px;
  left: 20px;
  display: flex;
  gap: 8px;
  align-items: center;
  z-index: 200;
  transition: transform 0.1s ease;
}

.controls-right {
  position: fixed;
  top: 10px;
  right: 20px;
  display: flex;
  gap: 8px;
  align-items: center;
  z-index: 200;
}

.control-btn {
  padding: 6px 12px;
  background: var(--btn-bg);
  border: 1px solid var(--border);
  border-radius: 4px;
  color: var(--fg);
  cursor: pointer;
  font-family: inherit;
  font-size: 14px;
  transition: all 0.1s;
}

.control-btn:hover {
  background: var(--btn-hover);
  border-color: var(--link);
}

.name-filter {
  padding: 6px 10px;
  background: var(--btn-bg);
  border: 1px solid var(--border);
  border-radius: 4px;
  color: var(--fg);
  font-family: inherit;
  font-size: 13px;
  width: 150px;
  transition: all 0.1s;
}

.name-filter:focus {
  outline: none;
  border-color: var(--link);
  width: 200px;
}

.name-filter::placeholder {
  color: var(--comment);
}

.regex-label {
  display: flex;
  align-items: center;
  gap: 4px;
  color: var(--comment);
  font-size: 12px;
  cursor: pointer;
}

.regex-label input {
  cursor: pointer;
}

.book-header {
  border-bottom: 2px solid var(--border);
  padding-bottom: 20px;
  margin-bottom: 20px;
}

.book-header h1 {
  color: var(--keyword);
  margin: 0;
}

.book-header .path {
  color: var(--comment);
  font-size: 0.9em;
}

.book-header .path .source-link {
  color: var(--comment);
  text-decoration: none;
}

.book-header .path .source-link:hover {
  color: var(--link);
  text-decoration: underline;
}

.form-block {
  margin: 10px 0;
  padding: 15px;
  background: var(--block-bg);
  border-radius: 8px;
  border-left: 3px solid var(--border);
}

.form-block.theorem { border-left-color: var(--keyword); }
.form-block.function { border-left-color: var(--function); }
.form-block.macro { border-left-color: var(--type); }
.form-block.include-book { border-left-color: var(--string); }

.form-block.hidden { display: none; }
.form-block.dimmed { opacity: 0.3; }

.form-block.highlight {
  animation: highlight-pulse 0.4s ease-out;
}

@keyframes highlight-pulse {
  0% { background: var(--highlight); box-shadow: 0 0 20px var(--link); }
  100% { background: rgba(49, 50, 68, 0.5); box-shadow: none; }
}

.form-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
}

.form-name {
  color: var(--function);
  font-weight: bold;
  cursor: pointer;
}

.form-name:hover {
  color: var(--link-hover);
  text-decoration: underline;
}

.form-type {
  color: var(--comment);
  font-size: 0.85em;
}

pre.code {
  margin: 0;
  overflow-x: auto;
  white-space: pre-wrap;
  word-wrap: break-word;
}

.sym-ref {
  color: var(--link);
  cursor: pointer;
  border-radius: 2px;
}

.sym-ref:hover {
  background: var(--highlight);
  color: var(--link-hover);
}

.sym-ref.local-def { color: var(--function); font-weight: bold; }
.sym-ref.external { color: var(--type); }

/* Symbol links (clickable hyperlinks) */
.sym-link {
  color: var(--link);
  text-decoration: none;
  border-radius: 2px;
  cursor: pointer;
  position: relative;
}

.sym-link:hover {
  background: var(--highlight);
  color: var(--link-hover);
  text-decoration: underline;
}

.sym-link.local-def {
  color: var(--function);
  font-weight: bold;
}

.sym-link.external {
  color: var(--type);
}

/* Tooltips using title attribute with custom styling */
.sym-link[title] {
  /* Browser will show title on hover */
}

/* Syntax highlighting in code blocks */
.keyword {
  color: var(--keyword);
}

.string {
  color: var(--string);
}

.number {
  color: #f77524; /* orange */
}

/* Include-book path links */
.include-path {
  color: var(--string);
  text-decoration: none;
  border-radius: 2px;
  cursor: pointer;
}

.include-path:hover {
  background: var(--highlight);
  color: var(--link-hover);
  text-decoration: underline;
}

/* Part buttons for defthm */
.part-buttons {
  display: flex;
  gap: 5px;
  margin: 10px 0;
  flex-wrap: wrap;
}

.part-btn {
  padding: 4px 10px;
  background: var(--border);
  border: 1px solid var(--comment);
  border-radius: 4px;
  color: var(--fg);
  cursor: pointer;
  font-size: 0.85em;
  font-family: inherit;
}

.part-btn:hover {
  background: var(--highlight);
  border-color: var(--link);
}

.part-btn.active {
  background: var(--link);
  color: var(--bg);
  border-color: var(--link);
}

/* References panel */
.refs-panel {
  margin-top: 10px;
  padding: 10px;
  background: rgba(0,0,0,0.2);
  border-radius: 4px;
  display: none;
}

.refs-panel.visible { display: block; }

.refs-panel h4 {
  margin: 0 0 5px 0;
  color: var(--comment);
  font-size: 0.9em;
}

.refs-list {
  display: flex;
  flex-wrap: wrap;
  gap: 5px;
}

/* Included books section */
.includes-section {
  margin-bottom: 20px;
  padding: 15px;
  background: rgba(49, 50, 68, 0.3);
  border-radius: 8px;
  border: 1px solid var(--border);
}

.includes-section h2 {
  margin: 0 0 10px 0;
  color: var(--comment);
  font-size: 1em;
  font-weight: normal;
}

.includes-list {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.include-link {
  padding: 6px 12px;
  background: var(--border);
  border-radius: 4px;
  color: var(--link);
  text-decoration: none;
  font-size: 0.9em;
  transition: all 0.1s;
}

.include-link:hover {
  background: var(--highlight);
  color: var(--link-hover);
}

.include-link.local {
  border-left: 2px solid var(--comment);
}

/* Filter status */
.filter-status {
  position: fixed;
  top: 10px;
  left: 20px;
  background: var(--bg);
  padding: 6px 12px;
  border: 1px solid var(--border);
  border-radius: 4px;
  z-index: 201;
  display: none;
  align-items: center;
  gap: 10px;
}

.filter-status.active {
  display: flex;
  align-items: center;
  gap: 10px;
}

.clear-filter {
  padding: 5px 15px;
  background: var(--keyword);
  color: var(--bg);
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

/* RDFa vocab indicator */
[vocab] { /* semantic web annotations present */ }

</style>

</head>
<body>
  <div class="controls-left">
    <input type="text" id="name-filter" class="name-filter" placeholder="Filter by name..." title="Filter definitions by name">
    <label class="regex-label"><input type="checkbox" id="regex-toggle"> regex</label>
  </div>

  <div class="controls-right">
    <button class="control-btn" id="theme-toggle" title="Toggle light/dark theme">☀️</button>
    <button class="control-btn" id="font-smaller" title="Decrease font size">A-</button>
    <button class="control-btn" id="font-larger" title="Increase font size">A+</button>
  </div>

  <div class="filter-status">
    <span class="filter-text">Filtering...</span>
    <button class="clear-filter">Clear Filter</button>
  </div>
  
  <div class="book-header">
    <h1 property="name">integerp-meta</h1>
    <div class="path"><a href="integerp-meta.lisp" class="source-link">books/arithmetic-3/bind-free/integerp-meta</a></div>
  </div>
  
  <main property="text">
  <div class="includes-section">
    <h2>Included Books</h2>
    <div class="includes-list">
      <a class="include-link local" href="../pass1/top.html" title="../pass1/top">top</a>
      <a class="include-link" href="default-hint.html" title="default-hint">default-hint</a>
    </div>
  </div>

<div class="form-block other" id="form-0" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-in-package" data-sym="IN-PACKAGE">in-package</a> <span class="string">"ACL2"</span>)</pre>
  </div>

<div class="form-block local" id="form-1" typeof="Code">
    <div class="form-header"><span class="form-type">local</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-include-book" data-sym="INCLUDE-BOOK">include-book</a> <a class="include-path" href="../pass1/top.html" title="Open ../pass1/top">"../pass1/top"</a>))</pre>
  </div>

<div class="form-block include-book" id="form-2" typeof="Code">
    <div class="form-header"><span class="form-type">include-book</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-include-book" data-sym="INCLUDE-BOOK">include-book</a> <a class="include-path" href="default-hint.html" title="Open default-hint">"default-hint"</a>)</pre>
  </div>

<div class="form-block other" id="form-3" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-set-default-hints" data-sym="SET-DEFAULT-HINTS">set-default-hints</a> '((<a class="sym-link external" href="default-hint.html#def-nonlinearp-default-hint" data-sym="NONLINEARP-DEFAULT-HINT">nonlinearp-default-hint</a> stable-under-simplificationp
     hist
     pspv)))</pre>
  </div>

<div class="form-block other" id="form-4" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-table" data-sym="TABLE">table</a> acl2-defaults-table <span class="keyword">:state-ok</span> <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>)</pre>
  </div>

<div class="form-block other" id="form-5" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-table" data-sym="TABLE">table</a> acl2-defaults-table <span class="keyword">:verify-guards-eagerness</span> <span class="number">0</span>)</pre>
  </div>

<div class="form-block function" id="def-intp-_2B" data-defines="INTP-+" data-references="+,ACL2-NUMBERP,AND,XARGS,DECLARE,Y,X,DEFUN" data-used-by="META-INTEGERP-CORRECT,NINTP-2,NINTP-1,INTP-2" data-part-name="INTP-+" data-part-args="Y,X" data-part-declare="Y,X,ACL2-NUMBERP,AND,XARGS,DECLARE" data-part-body="Y,X,+" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="INTP-+">intp-+</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-intp-_2B" data-sym="INTP-+" title="(defun intp-+ (x y)
  (declare (xargs :guard (and (acl2-numberp x) (acl2-numberp y))))
  (+ x y))">intp-+</a>
  (x y)
  (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (acl2-numberp x) (acl2-numberp y))))
  (<a class="sym-link system" href="../../../axioms.html#def-_2B" data-sym="+">+</a> x y))</pre>
  </div>

<div class="form-block function" id="def-intp-_2A" data-defines="INTP-*" data-references="*,ACL2-NUMBERP,AND,XARGS,DECLARE,Y,X,DEFUN" data-used-by="META-INTEGERP-CORRECT,INTP-1" data-part-name="INTP-*" data-part-args="Y,X" data-part-declare="Y,X,ACL2-NUMBERP,AND,XARGS,DECLARE" data-part-body="Y,X,*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="INTP-*">intp-*</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-intp-_2A" data-sym="INTP-*" title="(defun intp-* (x y)
  (declare (xargs :guard (and (acl2-numberp x) (acl2-numberp y))))
  (* x y))">intp-*</a>
  (x y)
  (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (acl2-numberp x) (acl2-numberp y))))
  (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> x y))</pre>
  </div>

<div class="form-block other" id="form-8" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../defthm.html#def-defevaluator" data-sym="DEFEVALUATOR">defevaluator</a> intp-eva
  intp-eva-lst
  ((<a class="sym-link local-def" href="#def-intp-_2B" data-sym="INTP-+" title="(defun intp-+ (x y)
  (declare (xargs :guard (and (acl2-numberp x) (acl2-numberp y))))
  (+ x y))">intp-+</a> x y) (<a class="sym-link local-def" href="#def-intp-_2A" data-sym="INTP-*" title="(defun intp-* (x y)
  (declare (xargs :guard (and (acl2-numberp x) (acl2-numberp y))))
  (* x y))">intp-*</a> x y)
    (binary-+ x y)
    (binary-* x y)
    (integerp x)
    (<a class="sym-link system" href="../../../axioms.html#def-hide" data-sym="HIDE">hide</a> x)
    (if x
      y
      z)
    (equal x y)
    (<a class="sym-link system" href="../../../axioms.html#def-fix" data-sym="FIX">fix</a> x)))</pre>
  </div>

<div class="form-block theorem" id="def-intp-1" data-defines="INTP-1" data-references="INTP-*,Y,X,INTEGERP,AND,IMPLIES,DEFTHM" data-part-name="INTP-1" data-part-term="INTP-*,Y,X,INTEGERP,AND,IMPLIES" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="INTP-1">intp-1</span><span class="form-type">theorem</span></div>
    <div class="part-buttons"><button class="part-btn" data-part="term">term</button></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> <a class="sym-link local-def" href="#def-intp-1" data-sym="INTP-1" title="(defthm intp-1
        (implies (and (integerp x) (integerp y)) (integerp (intp-* x y))))">intp-1</a>
  (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (integerp x) (integerp y))
    (integerp (<a class="sym-link local-def" href="#def-intp-_2A" data-sym="INTP-*" title="(defun intp-* (x y)
  (declare (xargs :guard (and (acl2-numberp x) (acl2-numberp y))))
  (* x y))">intp-*</a> x y))))</pre>
  </div>

<div class="form-block theorem" id="def-intp-2" data-defines="INTP-2" data-references="INTP-+,Y,X,INTEGERP,AND,IMPLIES,DEFTHM" data-part-name="INTP-2" data-part-term="INTP-+,Y,X,INTEGERP,AND,IMPLIES" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="INTP-2">intp-2</span><span class="form-type">theorem</span></div>
    <div class="part-buttons"><button class="part-btn" data-part="term">term</button></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> <a class="sym-link local-def" href="#def-intp-2" data-sym="INTP-2" title="(defthm intp-2
        (implies (and (integerp x) (integerp y)) (integerp (intp-+ x y))))">intp-2</a>
  (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (integerp x) (integerp y))
    (integerp (<a class="sym-link local-def" href="#def-intp-_2B" data-sym="INTP-+" title="(defun intp-+ (x y)
  (declare (xargs :guard (and (acl2-numberp x) (acl2-numberp y))))
  (+ x y))">intp-+</a> x y))))</pre>
  </div>

<div class="form-block theorem" id="def-nintp-1" data-defines="NINTP-1" data-references="INTP-+,Y,INTEGERP,NOT,X,ACL2-NUMBERP,AND,IMPLIES,DEFTHM" data-part-name="NINTP-1" data-part-term="INTP-+,Y,INTEGERP,NOT,X,ACL2-NUMBERP,AND,IMPLIES" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="NINTP-1">nintp-1</span><span class="form-type">theorem</span></div>
    <div class="part-buttons"><button class="part-btn" data-part="term">term</button></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> <a class="sym-link local-def" href="#def-nintp-1" data-sym="NINTP-1" title="(defthm nintp-1
        (implies (and (acl2-numberp x) (not (integerp x)) (integerp y))
                 (not (integerp (intp-+ x y)))))">nintp-1</a>
  (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (acl2-numberp x) (<a class="sym-link system" href="../../../axioms.html#def-not" data-sym="NOT">not</a> (integerp x)) (integerp y))
    (<a class="sym-link system" href="../../../axioms.html#def-not" data-sym="NOT">not</a> (integerp (<a class="sym-link local-def" href="#def-intp-_2B" data-sym="INTP-+" title="(defun intp-+ (x y)
  (declare (xargs :guard (and (acl2-numberp x) (acl2-numberp y))))
  (+ x y))">intp-+</a> x y)))))</pre>
  </div>

<div class="form-block theorem" id="def-nintp-2" data-defines="NINTP-2" data-references="INTP-+,NOT,Y,ACL2-NUMBERP,X,INTEGERP,AND,IMPLIES,DEFTHM" data-part-name="NINTP-2" data-part-term="INTP-+,NOT,Y,ACL2-NUMBERP,X,INTEGERP,AND,IMPLIES" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="NINTP-2">nintp-2</span><span class="form-type">theorem</span></div>
    <div class="part-buttons"><button class="part-btn" data-part="term">term</button></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> <a class="sym-link local-def" href="#def-nintp-2" data-sym="NINTP-2" title="(defthm nintp-2
        (implies (and (integerp x) (acl2-numberp y) (not (integerp y)))
                 (not (integerp (intp-+ x y)))))">nintp-2</a>
  (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (integerp x) (acl2-numberp y) (<a class="sym-link system" href="../../../axioms.html#def-not" data-sym="NOT">not</a> (integerp y)))
    (<a class="sym-link system" href="../../../axioms.html#def-not" data-sym="NOT">not</a> (integerp (<a class="sym-link local-def" href="#def-intp-_2B" data-sym="INTP-+" title="(defun intp-+ (x y)
  (declare (xargs :guard (and (acl2-numberp x) (acl2-numberp y))))
  (+ x y))">intp-+</a> x y)))))</pre>
  </div>

<div class="form-block function" id="def-leaves" data-defines="LEAVES" data-references="T,CONS,FARGN,FN-SYMB,LIST,BINARY-+,QUOTE,EQ,IF,ATOM,COND,SYMBOLP,PSEUDO-TERMP,AND,XARGS,DECLARE,BIN-OP,TERM,DEFUN" data-used-by="META-INTEGERP-CORRECT,META-INTEGERP,COLLECT-BAGS,COLLECT-BAGS-NON-INTP,COLLECT-BAGS-INTP,SUBTRACT-BAG,SUBTRACT-LEAF,BAG-TERMS,BAG-LEAVES,TREE" data-part-name="LEAVES" data-part-args="BIN-OP,TERM" data-part-declare="BIN-OP,SYMBOLP,TERM,PSEUDO-TERMP,AND,XARGS,DECLARE" data-part-body="T,LEAVES,CONS,FARGN,FN-SYMB,LIST,BINARY-+,QUOTE,BIN-OP,EQ,IF,TERM,ATOM,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="LEAVES">leaves</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>
  (term bin-op)
  (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-pseudo-termp" data-sym="PSEUDO-TERMP">pseudo-termp</a> term) (symbolp bin-op))))
  (<a class="sym-link system" href="../../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../../axioms.html#def-atom" data-sym="ATOM">atom</a> term) (if (<a class="sym-link system" href="../../../axioms.html#def-eq" data-sym="EQ">eq</a> bin-op 'binary-+)
        (<a class="sym-link system" href="../../../axioms.html#def-list" data-sym="LIST">list</a> ''<span class="number">0</span>)
        (<a class="sym-link system" href="../../../axioms.html#def-list" data-sym="LIST">list</a> ''<span class="number">1</span>)))
    ((<a class="sym-link system" href="../../../axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="../../../axioms.html#def-fn-symb" data-sym="FN-SYMB">fn-symb</a> term) bin-op) (if (<a class="sym-link system" href="../../../axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="../../../axioms.html#def-fn-symb" data-sym="FN-SYMB">fn-symb</a> (<a class="sym-link system" href="../../../axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">2</span>)) bin-op)
        (cons (<a class="sym-link system" href="../../../axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">1</span>) (<a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a> (<a class="sym-link system" href="../../../axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">2</span>) bin-op))
        (<a class="sym-link system" href="../../../axioms.html#def-list" data-sym="LIST">list</a> (<a class="sym-link system" href="../../../axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">1</span>) (<a class="sym-link system" href="../../../axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">2</span>))))
    (<a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="../../../axioms.html#def-list" data-sym="LIST">list</a> term))))</pre>
  </div>

<div class="form-block function" id="def-tree" data-defines="TREE" data-references="T,CADR,CDDR,CAR,FIX,LIST,CDR,BINARY-+,QUOTE,EQ,IF,ENDP,COND,SYMBOLP,PSEUDO-TERM-LISTP,AND,XARGS,DECLARE,BIN-OP,LEAVES,DEFUN" data-used-by="META-INTEGERP-CORRECT,BIG-TREE" data-part-name="TREE" data-part-args="BIN-OP,LEAVES" data-part-declare="BIN-OP,SYMBOLP,LEAVES,PSEUDO-TERM-LISTP,AND,XARGS,DECLARE" data-part-body="TREE,T,CADR,CDDR,CAR,FIX,LIST,CDR,BINARY-+,QUOTE,BIN-OP,EQ,IF,LEAVES,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="TREE">tree</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-tree" data-sym="TREE" title="(defun tree (leaves bin-op)
  (declare (xargs :guard (and (pseudo-term-listp leaves) (symbolp bin-op))))
  (cond
   ((endp leaves)
    (if (eq bin-op &#39;binary-+)
...">tree</a>
  (<a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a> bin-op)
  (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (pseudo-term-listp <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>) (symbolp bin-op))))
  (<a class="sym-link system" href="../../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../../axioms.html#def-endp" data-sym="ENDP">endp</a> <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>) (if (<a class="sym-link system" href="../../../axioms.html#def-eq" data-sym="EQ">eq</a> bin-op 'binary-+)
        ''<span class="number">0</span>
        ''<span class="number">1</span>))
    ((<a class="sym-link system" href="../../../axioms.html#def-endp" data-sym="ENDP">endp</a> (cdr <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>)) (<a class="sym-link system" href="../../../axioms.html#def-list" data-sym="LIST">list</a> '<a class="sym-link system" href="../../../axioms.html#def-fix" data-sym="FIX">fix</a> (car <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>)))
    ((<a class="sym-link system" href="../../../axioms.html#def-endp" data-sym="ENDP">endp</a> (<a class="sym-link system" href="../../../axioms.html#def-cddr" data-sym="CDDR">cddr</a> <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>)) (<a class="sym-link system" href="../../../axioms.html#def-list" data-sym="LIST">list</a> bin-op (car <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>) (<a class="sym-link system" href="../../../axioms.html#def-cadr" data-sym="CADR">cadr</a> <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>)))
    (<a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="../../../axioms.html#def-list" data-sym="LIST">list</a> bin-op (car <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>) (<a class="sym-link local-def" href="#def-tree" data-sym="TREE" title="(defun tree (leaves bin-op)
  (declare (xargs :guard (and (pseudo-term-listp leaves) (symbolp bin-op))))
  (cond
   ((endp leaves)
    (if (eq bin-op &#39;binary-+)
...">tree</a> (cdr <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>) bin-op)))))</pre>
  </div>

<div class="form-block function" id="def-big-tree" data-defines="BIG-TREE" data-references="T,CADR,LIST,CDDR,CAR,TREE,CDR,BINARY-+,QUOTE,EQ,IF,ENDP,COND,SYMBOLP,PSEUDO-TERM-LIST-LISTP,AND,XARGS,DECLARE,BIN-OP,BIG-BIN-OP,BAGS,DEFUN" data-used-by="META-INTEGERP-CORRECT" data-part-name="BIG-TREE" data-part-args="BIN-OP,BIG-BIN-OP,BAGS" data-part-declare="BIN-OP,BIG-BIN-OP,SYMBOLP,BAGS,PSEUDO-TERM-LIST-LISTP,AND,XARGS,DECLARE" data-part-body="BIG-TREE,T,CADR,BIG-BIN-OP,LIST,CDDR,CAR,TREE,CDR,BINARY-+,QUOTE,BIN-OP,EQ,IF,BAGS,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="BIG-TREE">big-tree</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-big-tree" data-sym="BIG-TREE" title="(defun big-tree (bags big-bin-op bin-op)
  (declare
   (xargs :guard
    (and (pseudo-term-list-listp bags) (symbolp big-bin-op) (symbolp bin-op))))
  (cond
...">big-tree</a>
  (bags big-bin-op bin-op)
  (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-pseudo-term-list-listp" data-sym="PSEUDO-TERM-LIST-LISTP">pseudo-term-list-listp</a> bags)
        (symbolp big-bin-op)
        (symbolp bin-op))))
  (<a class="sym-link system" href="../../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../../axioms.html#def-endp" data-sym="ENDP">endp</a> bags) (if (<a class="sym-link system" href="../../../axioms.html#def-eq" data-sym="EQ">eq</a> bin-op 'binary-+)
        ''<span class="number">0</span>
        ''<span class="number">1</span>))
    ((<a class="sym-link system" href="../../../axioms.html#def-endp" data-sym="ENDP">endp</a> (cdr bags)) (<a class="sym-link local-def" href="#def-tree" data-sym="TREE" title="(defun tree (leaves bin-op)
  (declare (xargs :guard (and (pseudo-term-listp leaves) (symbolp bin-op))))
  (cond
   ((endp leaves)
    (if (eq bin-op &#39;binary-+)
...">tree</a> (car bags) bin-op))
    ((<a class="sym-link system" href="../../../axioms.html#def-endp" data-sym="ENDP">endp</a> (<a class="sym-link system" href="../../../axioms.html#def-cddr" data-sym="CDDR">cddr</a> bags)) (<a class="sym-link system" href="../../../axioms.html#def-list" data-sym="LIST">list</a> big-bin-op
        (<a class="sym-link local-def" href="#def-tree" data-sym="TREE" title="(defun tree (leaves bin-op)
  (declare (xargs :guard (and (pseudo-term-listp leaves) (symbolp bin-op))))
  (cond
   ((endp leaves)
    (if (eq bin-op &#39;binary-+)
...">tree</a> (car bags) bin-op)
        (<a class="sym-link local-def" href="#def-tree" data-sym="TREE" title="(defun tree (leaves bin-op)
  (declare (xargs :guard (and (pseudo-term-listp leaves) (symbolp bin-op))))
  (cond
   ((endp leaves)
    (if (eq bin-op &#39;binary-+)
...">tree</a> (<a class="sym-link system" href="../../../axioms.html#def-cadr" data-sym="CADR">cadr</a> bags) bin-op)))
    (<a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="../../../axioms.html#def-list" data-sym="LIST">list</a> big-bin-op
        (<a class="sym-link local-def" href="#def-tree" data-sym="TREE" title="(defun tree (leaves bin-op)
  (declare (xargs :guard (and (pseudo-term-listp leaves) (symbolp bin-op))))
  (cond
   ((endp leaves)
    (if (eq bin-op &#39;binary-+)
...">tree</a> (car bags) bin-op)
        (<a class="sym-link local-def" href="#def-big-tree" data-sym="BIG-TREE" title="(defun big-tree (bags big-bin-op bin-op)
  (declare
   (xargs :guard
    (and (pseudo-term-list-listp bags) (symbolp big-bin-op) (symbolp bin-op))))
  (cond
...">big-tree</a> (cdr bags) big-bin-op bin-op)))))</pre>
  </div>

<div class="form-block function" id="def-bag-leaves" data-defines="BAG-LEAVES" data-references="*NIL*,CAR,LIST,CONS,CDR,*T*,EQUAL,COND,T,INTEGERP,QUASIQUOTE,MFC-RW,REWRITING-RESULT,LET,MV,ENDP,IF,PSEUDO-TERM-LIST-LISTP,PSEUDO-TERM-LISTP,AND,XARGS,DECLARE,NON-INTP-BAGS,INTP-BAGS,STATE,MFC,LEAVES,DEFUN" data-used-by="META-INTEGERP-CORRECT,META-INTEGERP" data-part-name="BAG-LEAVES" data-part-args="NON-INTP-BAGS,INTP-BAGS,STATE,MFC,LEAVES" data-part-declare="NON-INTP-BAGS,INTP-BAGS,PSEUDO-TERM-LIST-LISTP,LEAVES,PSEUDO-TERM-LISTP,AND,XARGS,DECLARE" data-part-body="*NIL*,CAR,LIST,CONS,CDR,BAG-LEAVES,*T*,EQUAL,COND,STATE,MFC,T,INTEGERP,QUASIQUOTE,MFC-RW,REWRITING-RESULT,LET,NON-INTP-BAGS,INTP-BAGS,MV,LEAVES,ENDP,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="BAG-LEAVES">bag-leaves</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-bag-leaves" data-sym="BAG-LEAVES" title="(defun bag-leaves (leaves mfc state intp-bags non-intp-bags)
  (declare
   (xargs :guard
    (and (pseudo-term-listp leaves) (pseudo-term-list-listp intp-bags)
         (pseudo-term-list-listp non-intp-bags))))
...">bag-leaves</a>
  (<a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a> mfc state intp-bags non-intp-bags)
  (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (pseudo-term-listp <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>)
        (<a class="sym-link system" href="../../../axioms.html#def-pseudo-term-list-listp" data-sym="PSEUDO-TERM-LIST-LISTP">pseudo-term-list-listp</a> intp-bags)
        (<a class="sym-link system" href="../../../axioms.html#def-pseudo-term-list-listp" data-sym="PSEUDO-TERM-LIST-LISTP">pseudo-term-list-listp</a> non-intp-bags))))
  (if (<a class="sym-link system" href="../../../axioms.html#def-endp" data-sym="ENDP">endp</a> <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>)
    (<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> intp-bags non-intp-bags)
    (let ((rewriting-result (mfc-rw `(integerp ,(CAR LEAVES)) <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a> <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a> mfc state)))
      (<a class="sym-link system" href="../../../axioms.html#def-cond" data-sym="COND">cond</a> ((equal rewriting-result <a class="sym-link system" href="../../../axioms.html#def-_2At_2A" data-sym="*T*">*t*</a>) (<a class="sym-link local-def" href="#def-bag-leaves" data-sym="BAG-LEAVES" title="(defun bag-leaves (leaves mfc state intp-bags non-intp-bags)
  (declare
   (xargs :guard
    (and (pseudo-term-listp leaves) (pseudo-term-list-listp intp-bags)
         (pseudo-term-list-listp non-intp-bags))))
...">bag-leaves</a> (cdr <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>)
            mfc
            state
            (cons (<a class="sym-link system" href="../../../axioms.html#def-list" data-sym="LIST">list</a> (car <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>)) intp-bags)
            non-intp-bags))
        ((equal rewriting-result <a class="sym-link system" href="../../../axioms.html#def-_2Anil_2A" data-sym="*NIL*">*nil*</a>) (<a class="sym-link local-def" href="#def-bag-leaves" data-sym="BAG-LEAVES" title="(defun bag-leaves (leaves mfc state intp-bags non-intp-bags)
  (declare
   (xargs :guard
    (and (pseudo-term-listp leaves) (pseudo-term-list-listp intp-bags)
         (pseudo-term-list-listp non-intp-bags))))
...">bag-leaves</a> (cdr <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>)
            mfc
            state
            intp-bags
            (cons (<a class="sym-link system" href="../../../axioms.html#def-list" data-sym="LIST">list</a> (car <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>)) non-intp-bags)))
        (<a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-bag-leaves" data-sym="BAG-LEAVES" title="(defun bag-leaves (leaves mfc state intp-bags non-intp-bags)
  (declare
   (xargs :guard
    (and (pseudo-term-listp leaves) (pseudo-term-list-listp intp-bags)
         (pseudo-term-list-listp non-intp-bags))))
...">bag-leaves</a> (cdr <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>) mfc state intp-bags non-intp-bags))))))</pre>
  </div>

<div class="form-block function" id="def-bag-terms" data-defines="BAG-TERMS" data-references="T,TS-COMPLEMENT,*TS-RATIONAL-ACL2-NUMBER*,LEAVES,CONS,*TS-INTEGER*,CAR,CADR,TS-SUBSETP,CDR,CAAR,VARIABLEP,MV,ENDP,COND,PSEUDO-TERM-LIST-LISTP,BINARY-*,BINARY-+,QUOTE,EQUAL,OR,TYPE-ALISTP,AND,XARGS,DECLARE,NON-INTP-BAGS,INTP-BAGS,BIN-OP,TYPE-ALIST,DEFUN" data-used-by="META-INTEGERP-CORRECT,META-INTEGERP" data-part-name="BAG-TERMS" data-part-args="NON-INTP-BAGS,INTP-BAGS,BIN-OP,TYPE-ALIST" data-part-declare="NON-INTP-BAGS,INTP-BAGS,PSEUDO-TERM-LIST-LISTP,BINARY-*,BINARY-+,QUOTE,BIN-OP,EQUAL,OR,TYPE-ALIST,TYPE-ALISTP,AND,XARGS,DECLARE" data-part-body="T,TS-COMPLEMENT,*TS-RATIONAL-ACL2-NUMBER*,AND,LEAVES,CONS,*TS-INTEGER*,CAR,CADR,TS-SUBSETP,BIN-OP,CDR,BAG-TERMS,CAAR,VARIABLEP,NON-INTP-BAGS,INTP-BAGS,MV,TYPE-ALIST,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="BAG-TERMS">bag-terms</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-bag-terms" data-sym="BAG-TERMS" title="(defun bag-terms (type-alist bin-op intp-bags non-intp-bags)
  (declare
   (xargs :guard
    (and (type-alistp type-alist)
         (or (equal bin-op (quote binary-+)) (equal bin-op (quote binary-*)))
...">bag-terms</a>
  (type-alist bin-op intp-bags non-intp-bags)
  (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-type-alistp" data-sym="TYPE-ALISTP">type-alistp</a> type-alist)
        (<a class="sym-link system" href="../../../axioms.html#def-or" data-sym="OR">or</a> (equal bin-op 'binary-+) (equal bin-op 'binary-*))
        (<a class="sym-link system" href="../../../axioms.html#def-pseudo-term-list-listp" data-sym="PSEUDO-TERM-LIST-LISTP">pseudo-term-list-listp</a> intp-bags)
        (<a class="sym-link system" href="../../../axioms.html#def-pseudo-term-list-listp" data-sym="PSEUDO-TERM-LIST-LISTP">pseudo-term-list-listp</a> non-intp-bags))))
  (<a class="sym-link system" href="../../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../../axioms.html#def-endp" data-sym="ENDP">endp</a> type-alist) (<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> intp-bags non-intp-bags))
    ((<a class="sym-link system" href="../../../axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> (<a class="sym-link system" href="../../../axioms.html#def-caar" data-sym="CAAR">caar</a> type-alist)) (<a class="sym-link local-def" href="#def-bag-terms" data-sym="BAG-TERMS" title="(defun bag-terms (type-alist bin-op intp-bags non-intp-bags)
  (declare
   (xargs :guard
    (and (type-alistp type-alist)
         (or (equal bin-op (quote binary-+)) (equal bin-op (quote binary-*)))
...">bag-terms</a> (cdr type-alist) bin-op intp-bags non-intp-bags))
    ((ts-subsetp (<a class="sym-link system" href="../../../axioms.html#def-cadr" data-sym="CADR">cadr</a> (car type-alist)) *ts-integer*) (<a class="sym-link local-def" href="#def-bag-terms" data-sym="BAG-TERMS" title="(defun bag-terms (type-alist bin-op intp-bags non-intp-bags)
  (declare
   (xargs :guard
    (and (type-alistp type-alist)
         (or (equal bin-op (quote binary-+)) (equal bin-op (quote binary-*)))
...">bag-terms</a> (cdr type-alist)
        bin-op
        (cons (<a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a> (<a class="sym-link system" href="../../../axioms.html#def-caar" data-sym="CAAR">caar</a> type-alist) bin-op) intp-bags)
        non-intp-bags))
    ((<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (ts-subsetp (<a class="sym-link system" href="../../../axioms.html#def-cadr" data-sym="CADR">cadr</a> (car type-alist))
         *ts-rational-acl2-number*)
       (ts-subsetp (<a class="sym-link system" href="../../../axioms.html#def-cadr" data-sym="CADR">cadr</a> (car type-alist))
         (ts-complement *ts-integer*))) (<a class="sym-link local-def" href="#def-bag-terms" data-sym="BAG-TERMS" title="(defun bag-terms (type-alist bin-op intp-bags non-intp-bags)
  (declare
   (xargs :guard
    (and (type-alistp type-alist)
         (or (equal bin-op (quote binary-+)) (equal bin-op (quote binary-*)))
...">bag-terms</a> (cdr type-alist)
        bin-op
        intp-bags
        (cons (<a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a> (<a class="sym-link system" href="../../../axioms.html#def-caar" data-sym="CAAR">caar</a> type-alist) bin-op) non-intp-bags)))
    (<a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-bag-terms" data-sym="BAG-TERMS" title="(defun bag-terms (type-alist bin-op intp-bags non-intp-bags)
  (declare
   (xargs :guard
    (and (type-alistp type-alist)
         (or (equal bin-op (quote binary-+)) (equal bin-op (quote binary-*)))
...">bag-terms</a> (cdr type-alist) bin-op intp-bags non-intp-bags))))</pre>
  </div>

<div class="form-block function" id="def-subtract-leaf" data-defines="SUBTRACT-LEAF" data-references="CONS,IF,NEW-LEAVES,FLAG,MV-LET,CDR,T,CAR,EQUAL,MV,ENDP,COND,TRUE-LISTP,XARGS,DECLARE,LEAVES,LEAF,DEFUN" data-used-by="META-INTEGERP-CORRECT,SUBTRACT-BAG" data-part-name="SUBTRACT-LEAF" data-part-args="LEAVES,LEAF" data-part-declare="LEAVES,TRUE-LISTP,XARGS,DECLARE" data-part-body="CONS,IF,SUBTRACT-LEAF,NEW-LEAVES,FLAG,MV-LET,CDR,T,CAR,LEAF,EQUAL,MV,LEAVES,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="SUBTRACT-LEAF">subtract-leaf</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-subtract-leaf" data-sym="SUBTRACT-LEAF" title="(defun subtract-leaf (leaf leaves)
  (declare (xargs :guard (true-listp leaves)))
  (cond ((endp leaves) (mv nil nil))
        ((equal leaf (car leaves)) (mv t (cdr leaves)))
        (t
...">subtract-leaf</a>
  (leaf <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>)
  (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="../../../axioms.html#def-true-listp" data-sym="TRUE-LISTP">true-listp</a> <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>)))
  (<a class="sym-link system" href="../../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../../axioms.html#def-endp" data-sym="ENDP">endp</a> <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>) (<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> nil nil))
    ((equal leaf (car <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>)) (<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a> (cdr <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>)))
    (<a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="../../../axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (flag new-leaves)
        (<a class="sym-link local-def" href="#def-subtract-leaf" data-sym="SUBTRACT-LEAF" title="(defun subtract-leaf (leaf leaves)
  (declare (xargs :guard (true-listp leaves)))
  (cond ((endp leaves) (mv nil nil))
        ((equal leaf (car leaves)) (mv t (cdr leaves)))
        (t
...">subtract-leaf</a> leaf (cdr <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>))
        (if flag
          (<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a> (cons (car <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>) new-leaves))
          (<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> nil <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>))))))</pre>
  </div>

<div class="form-block function" id="def-subtract-bag" data-defines="SUBTRACT-BAG" data-references="IF,NEW-LEAVES,FLAG,MV-LET,CAR,SUBTRACT-LEAF,CDR,T,MV,ENDP,COND,TRUE-LISTP,AND,XARGS,DECLARE,LEAVES,BAG,DEFUN" data-used-by="META-INTEGERP-CORRECT,COLLECT-BAGS-NON-INTP,COLLECT-BAGS-INTP" data-part-name="SUBTRACT-BAG" data-part-args="LEAVES,BAG" data-part-declare="LEAVES,BAG,TRUE-LISTP,AND,XARGS,DECLARE" data-part-body="IF,SUBTRACT-BAG,NEW-LEAVES,FLAG,MV-LET,CAR,SUBTRACT-LEAF,CDR,LEAVES,T,MV,BAG,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="SUBTRACT-BAG">subtract-bag</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-subtract-bag" data-sym="SUBTRACT-BAG" title="(defun subtract-bag (bag leaves)
  (declare (xargs :guard (and (true-listp bag) (true-listp leaves))))
  (cond ((endp bag) (mv t leaves))
        ((endp (cdr bag)) (subtract-leaf (car bag) leaves))
        (t
...">subtract-bag</a>
  (bag <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>)
  (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-true-listp" data-sym="TRUE-LISTP">true-listp</a> bag) (<a class="sym-link system" href="../../../axioms.html#def-true-listp" data-sym="TRUE-LISTP">true-listp</a> <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>))))
  (<a class="sym-link system" href="../../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../../axioms.html#def-endp" data-sym="ENDP">endp</a> bag) (<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a> <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>))
    ((<a class="sym-link system" href="../../../axioms.html#def-endp" data-sym="ENDP">endp</a> (cdr bag)) (<a class="sym-link local-def" href="#def-subtract-leaf" data-sym="SUBTRACT-LEAF" title="(defun subtract-leaf (leaf leaves)
  (declare (xargs :guard (true-listp leaves)))
  (cond ((endp leaves) (mv nil nil))
        ((equal leaf (car leaves)) (mv t (cdr leaves)))
        (t
...">subtract-leaf</a> (car bag) <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>))
    (<a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="../../../axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (flag new-leaves)
        (<a class="sym-link local-def" href="#def-subtract-bag" data-sym="SUBTRACT-BAG" title="(defun subtract-bag (bag leaves)
  (declare (xargs :guard (and (true-listp bag) (true-listp leaves))))
  (cond ((endp bag) (mv t leaves))
        ((endp (cdr bag)) (subtract-leaf (car bag) leaves))
        (t
...">subtract-bag</a> (cdr bag) <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>)
        (if flag
          (<a class="sym-link local-def" href="#def-subtract-leaf" data-sym="SUBTRACT-LEAF" title="(defun subtract-leaf (leaf leaves)
  (declare (xargs :guard (true-listp leaves)))
  (cond ((endp leaves) (mv nil nil))
        ((equal leaf (car leaves)) (mv t (cdr leaves)))
        (t
...">subtract-leaf</a> (car bag) new-leaves)
          (<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> nil nil))))))</pre>
  </div>

<div class="form-block function" id="def-collect-bags-intp" data-defines="COLLECT-BAGS-INTP" data-references="CONS,CDR,NEW-BAGS,IF,CAR,SUBTRACT-BAG,NEW-LEAVES,FLAG,MV-LET,T,MV,ENDP,COND,TRUE-LIST-LISTP,TRUE-LISTP,AND,XARGS,DECLARE,INTP-BAGS,LEAVES,DEFUN" data-used-by="META-INTEGERP-CORRECT,COLLECT-BAGS,COLLECT-BAGS-NON-INTP" data-part-name="COLLECT-BAGS-INTP" data-part-args="INTP-BAGS,LEAVES" data-part-declare="INTP-BAGS,TRUE-LIST-LISTP,LEAVES,TRUE-LISTP,AND,XARGS,DECLARE" data-part-body="CONS,CDR,COLLECT-BAGS-INTP,NEW-BAGS,IF,CAR,SUBTRACT-BAG,NEW-LEAVES,FLAG,MV-LET,INTP-BAGS,T,MV,LEAVES,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="COLLECT-BAGS-INTP">collect-bags-intp</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-collect-bags-intp" data-sym="COLLECT-BAGS-INTP" title="(defun collect-bags-intp (leaves intp-bags)
  (declare
   (xargs :guard (and (true-listp leaves) (true-list-listp intp-bags))))
  (cond ((endp leaves) (mv t nil)) ((endp intp-bags) (mv nil nil))
        (t
...">collect-bags-intp</a>
  (<a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a> intp-bags)
  (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-true-listp" data-sym="TRUE-LISTP">true-listp</a> <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>) (<a class="sym-link system" href="../../../axioms.html#def-true-list-listp" data-sym="TRUE-LIST-LISTP">true-list-listp</a> intp-bags))))
  (<a class="sym-link system" href="../../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../../axioms.html#def-endp" data-sym="ENDP">endp</a> <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>) (<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a> nil))
    ((<a class="sym-link system" href="../../../axioms.html#def-endp" data-sym="ENDP">endp</a> intp-bags) (<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> nil nil))
    (<a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="../../../axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (flag new-leaves)
        (<a class="sym-link local-def" href="#def-subtract-bag" data-sym="SUBTRACT-BAG" title="(defun subtract-bag (bag leaves)
  (declare (xargs :guard (and (true-listp bag) (true-listp leaves))))
  (cond ((endp bag) (mv t leaves))
        ((endp (cdr bag)) (subtract-leaf (car bag) leaves))
        (t
...">subtract-bag</a> (car intp-bags) <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>)
        (if flag
          (<a class="sym-link system" href="../../../axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (flag new-bags)
            (<a class="sym-link local-def" href="#def-collect-bags-intp" data-sym="COLLECT-BAGS-INTP" title="(defun collect-bags-intp (leaves intp-bags)
  (declare
   (xargs :guard (and (true-listp leaves) (true-list-listp intp-bags))))
  (cond ((endp leaves) (mv t nil)) ((endp intp-bags) (mv nil nil))
        (t
...">collect-bags-intp</a> new-leaves (cdr intp-bags))
            (if flag
              (<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a> (cons (car intp-bags) new-bags))
              (<a class="sym-link local-def" href="#def-collect-bags-intp" data-sym="COLLECT-BAGS-INTP" title="(defun collect-bags-intp (leaves intp-bags)
  (declare
   (xargs :guard (and (true-listp leaves) (true-list-listp intp-bags))))
  (cond ((endp leaves) (mv t nil)) ((endp intp-bags) (mv nil nil))
        (t
...">collect-bags-intp</a> <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a> (cdr intp-bags))))
          (<a class="sym-link local-def" href="#def-collect-bags-intp" data-sym="COLLECT-BAGS-INTP" title="(defun collect-bags-intp (leaves intp-bags)
  (declare
   (xargs :guard (and (true-listp leaves) (true-list-listp intp-bags))))
  (cond ((endp leaves) (mv t nil)) ((endp intp-bags) (mv nil nil))
        (t
...">collect-bags-intp</a> <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a> (cdr intp-bags)))))))</pre>
  </div>

<div class="form-block function" id="def-collect-bags-non-intp" data-defines="COLLECT-BAGS-NON-INTP" data-references="CDR,CONS,COLLECT-BAGS-INTP,BAG-LIST,CONSP,IF,CAR,SUBTRACT-BAG,NEW-LEAVES,FLAG,MV-LET,T,MV,ENDP,COND,TRUE-LIST-LISTP,TRUE-LISTP,AND,XARGS,DECLARE,NON-INTP-BAGS,INTP-BAGS,LEAVES,DEFUN" data-used-by="COLLECT-BAGS" data-part-name="COLLECT-BAGS-NON-INTP" data-part-args="NON-INTP-BAGS,INTP-BAGS,LEAVES" data-part-declare="NON-INTP-BAGS,INTP-BAGS,TRUE-LIST-LISTP,LEAVES,TRUE-LISTP,AND,XARGS,DECLARE" data-part-body="CDR,COLLECT-BAGS-NON-INTP,CONS,INTP-BAGS,COLLECT-BAGS-INTP,BAG-LIST,CONSP,AND,IF,LEAVES,CAR,SUBTRACT-BAG,NEW-LEAVES,FLAG,MV-LET,T,MV,NON-INTP-BAGS,ENDP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="COLLECT-BAGS-NON-INTP">collect-bags-non-intp</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-collect-bags-non-intp" data-sym="COLLECT-BAGS-NON-INTP" title="(defun collect-bags-non-intp (leaves intp-bags non-intp-bags)
  (declare
   (xargs :guard
    (and (true-listp leaves) (true-list-listp intp-bags)
         (true-list-listp non-intp-bags))))
...">collect-bags-non-intp</a>
  (<a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a> intp-bags non-intp-bags)
  (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-true-listp" data-sym="TRUE-LISTP">true-listp</a> <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>)
        (<a class="sym-link system" href="../../../axioms.html#def-true-list-listp" data-sym="TRUE-LIST-LISTP">true-list-listp</a> intp-bags)
        (<a class="sym-link system" href="../../../axioms.html#def-true-list-listp" data-sym="TRUE-LIST-LISTP">true-list-listp</a> non-intp-bags))))
  (<a class="sym-link system" href="../../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../../axioms.html#def-endp" data-sym="ENDP">endp</a> non-intp-bags) (<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> nil nil))
    (<a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="../../../axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (flag new-leaves)
        (<a class="sym-link local-def" href="#def-subtract-bag" data-sym="SUBTRACT-BAG" title="(defun subtract-bag (bag leaves)
  (declare (xargs :guard (and (true-listp bag) (true-listp leaves))))
  (cond ((endp bag) (mv t leaves))
        ((endp (cdr bag)) (subtract-leaf (car bag) leaves))
        (t
...">subtract-bag</a> (car non-intp-bags) <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>)
        (if (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> flag (consp new-leaves))
          (<a class="sym-link system" href="../../../axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (flag bag-list)
            (<a class="sym-link local-def" href="#def-collect-bags-intp" data-sym="COLLECT-BAGS-INTP" title="(defun collect-bags-intp (leaves intp-bags)
  (declare
   (xargs :guard (and (true-listp leaves) (true-list-listp intp-bags))))
  (cond ((endp leaves) (mv t nil)) ((endp intp-bags) (mv nil nil))
        (t
...">collect-bags-intp</a> new-leaves intp-bags)
            (if flag
              (<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a> (cons (car non-intp-bags) bag-list))
              (<a class="sym-link local-def" href="#def-collect-bags-non-intp" data-sym="COLLECT-BAGS-NON-INTP" title="(defun collect-bags-non-intp (leaves intp-bags non-intp-bags)
  (declare
   (xargs :guard
    (and (true-listp leaves) (true-list-listp intp-bags)
         (true-list-listp non-intp-bags))))
...">collect-bags-non-intp</a> <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a> intp-bags (cdr non-intp-bags))))
          (<a class="sym-link local-def" href="#def-collect-bags-non-intp" data-sym="COLLECT-BAGS-NON-INTP" title="(defun collect-bags-non-intp (leaves intp-bags non-intp-bags)
  (declare
   (xargs :guard
    (and (true-listp leaves) (true-list-listp intp-bags)
         (true-list-listp non-intp-bags))))
...">collect-bags-non-intp</a> <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a> intp-bags (cdr non-intp-bags)))))))</pre>
  </div>

<div class="form-block function" id="def-collect-bags" data-defines="COLLECT-BAGS" data-references="COLLECT-BAGS-INTP,MV,COLLECT-BAGS-NON-INTP,BINARY-+,QUOTE,EQ,IF,BAG-LIST,FLAG,MV-LET,TRUE-LIST-LISTP,TRUE-LISTP,AND,XARGS,DECLARE,BIN-OP,NON-INTP-BAGS,INTP-BAGS,LEAVES,DEFUN" data-used-by="META-INTEGERP-CORRECT,META-INTEGERP" data-part-name="COLLECT-BAGS" data-part-args="BIN-OP,NON-INTP-BAGS,INTP-BAGS,LEAVES" data-part-declare="NON-INTP-BAGS,INTP-BAGS,TRUE-LIST-LISTP,LEAVES,TRUE-LISTP,AND,XARGS,DECLARE" data-part-body="COLLECT-BAGS-INTP,MV,NON-INTP-BAGS,INTP-BAGS,LEAVES,COLLECT-BAGS-NON-INTP,BINARY-+,QUOTE,BIN-OP,EQ,IF,BAG-LIST,FLAG,MV-LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="COLLECT-BAGS">collect-bags</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-collect-bags" data-sym="COLLECT-BAGS" title="(defun collect-bags (leaves intp-bags non-intp-bags bin-op)
  (declare
   (xargs :guard
    (and (true-listp leaves) (true-list-listp intp-bags)
         (true-list-listp non-intp-bags))))
...">collect-bags</a>
  (<a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a> intp-bags non-intp-bags bin-op)
  (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-true-listp" data-sym="TRUE-LISTP">true-listp</a> <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>)
        (<a class="sym-link system" href="../../../axioms.html#def-true-list-listp" data-sym="TRUE-LIST-LISTP">true-list-listp</a> intp-bags)
        (<a class="sym-link system" href="../../../axioms.html#def-true-list-listp" data-sym="TRUE-LIST-LISTP">true-list-listp</a> non-intp-bags))))
  (<a class="sym-link system" href="../../../axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (flag bag-list)
    (if (<a class="sym-link system" href="../../../axioms.html#def-eq" data-sym="EQ">eq</a> bin-op 'binary-+)
      (<a class="sym-link local-def" href="#def-collect-bags-non-intp" data-sym="COLLECT-BAGS-NON-INTP" title="(defun collect-bags-non-intp (leaves intp-bags non-intp-bags)
  (declare
   (xargs :guard
    (and (true-listp leaves) (true-list-listp intp-bags)
         (true-list-listp non-intp-bags))))
...">collect-bags-non-intp</a> <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a> intp-bags non-intp-bags)
      (<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> nil nil))
    (if flag
      (<a class="sym-link system" href="../../../axioms.html#def-mv" data-sym="MV">mv</a> flag bag-list)
      (<a class="sym-link local-def" href="#def-collect-bags-intp" data-sym="COLLECT-BAGS-INTP" title="(defun collect-bags-intp (leaves intp-bags)
  (declare
   (xargs :guard (and (true-listp leaves) (true-list-listp intp-bags))))
  (cond ((endp leaves) (mv t nil)) ((endp intp-bags) (mv nil nil))
        (t
...">collect-bags-intp</a> <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a> intp-bags))))</pre>
  </div>

<div class="form-block function" id="def-meta-integerp" data-defines="META-INTEGERP" data-references="QUASIQUOTE,COLLECT-BAGS,BAG-LIST,FLAG,MFC-TYPE-ALIST,BAG-TERMS,NON-INTP-BAGS,INTP-BAGS,BAG-LEAVES,NON-INTP-LEAVES,INTP-LEAVES,MV-LET,LEAVES,BINARY-*,BINARY-+,MEMBER-EQ,AND,FARGN,BIN-OP,LET,INTEGERP,QUOTE,FN-SYMB,EQ,IF,PSEUDO-TERMP,XARGS,DECLARE,STATE,MFC,TERM,DEFUN" data-used-by="META-INTEGERP-CORRECT" data-part-name="META-INTEGERP" data-part-args="STATE,MFC,TERM" data-part-declare="TERM,PSEUDO-TERMP,XARGS,DECLARE" data-part-body="QUASIQUOTE,COLLECT-BAGS,BAG-LIST,FLAG,MFC-TYPE-ALIST,BAG-TERMS,NON-INTP-BAGS,INTP-BAGS,STATE,MFC,BAG-LEAVES,NON-INTP-LEAVES,INTP-LEAVES,MV-LET,LEAVES,BINARY-*,BINARY-+,MEMBER-EQ,AND,FARGN,BIN-OP,LET,INTEGERP,QUOTE,TERM,FN-SYMB,EQ,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="META-INTEGERP">meta-integerp</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-meta-integerp" data-sym="META-INTEGERP" title="(defun meta-integerp (term mfc state)
  (declare (xargs :guard (pseudo-termp term)))
  (if (eq (fn-symb term) &#39;integerp)
      (let ((bin-op (fn-symb (fargn term 1))))
        (if (and (member-eq bin-op &#39;(binary-+ binary-*))
...">meta-integerp</a>
  (term mfc state)
  (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="../../../axioms.html#def-pseudo-termp" data-sym="PSEUDO-TERMP">pseudo-termp</a> term)))
  (if (<a class="sym-link system" href="../../../axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="../../../axioms.html#def-fn-symb" data-sym="FN-SYMB">fn-symb</a> term) 'integerp)
    (let ((bin-op (<a class="sym-link system" href="../../../axioms.html#def-fn-symb" data-sym="FN-SYMB">fn-symb</a> (<a class="sym-link system" href="../../../axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">1</span>))))
      (if (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> bin-op '(binary-+ binary-*))
          (<a class="sym-link system" href="../../../axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="../../../axioms.html#def-fn-symb" data-sym="FN-SYMB">fn-symb</a> (<a class="sym-link system" href="../../../axioms.html#def-fargn" data-sym="FARGN">fargn</a> (<a class="sym-link system" href="../../../axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">1</span>) <span class="number">2</span>)) bin-op))
        (let ((<a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a> (<a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a> (<a class="sym-link system" href="../../../axioms.html#def-fargn" data-sym="FARGN">fargn</a> term <span class="number">1</span>) bin-op)))
          (<a class="sym-link system" href="../../../axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (intp-leaves non-intp-leaves)
            (<a class="sym-link local-def" href="#def-bag-leaves" data-sym="BAG-LEAVES" title="(defun bag-leaves (leaves mfc state intp-bags non-intp-bags)
  (declare
   (xargs :guard
    (and (pseudo-term-listp leaves) (pseudo-term-list-listp intp-bags)
         (pseudo-term-list-listp non-intp-bags))))
...">bag-leaves</a> <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a> mfc state nil nil)
            (<a class="sym-link system" href="../../../axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (intp-bags non-intp-bags)
              (<a class="sym-link local-def" href="#def-bag-terms" data-sym="BAG-TERMS" title="(defun bag-terms (type-alist bin-op intp-bags non-intp-bags)
  (declare
   (xargs :guard
    (and (type-alistp type-alist)
         (or (equal bin-op (quote binary-+)) (equal bin-op (quote binary-*)))
...">bag-terms</a> (<a class="sym-link system" href="../../../axioms.html#def-mfc-type-alist" data-sym="MFC-TYPE-ALIST">mfc-type-alist</a> mfc)
                bin-op
                intp-leaves
                non-intp-leaves)
              (<a class="sym-link system" href="../../../axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (flag bag-list)
                (<a class="sym-link local-def" href="#def-collect-bags" data-sym="COLLECT-BAGS" title="(defun collect-bags (leaves intp-bags non-intp-bags bin-op)
  (declare
   (xargs :guard
    (and (true-listp leaves) (true-list-listp intp-bags)
         (true-list-listp non-intp-bags))))
...">collect-bags</a> <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a> intp-bags non-intp-bags bin-op)
                (if flag
                  `(integerp ,(BIG-TREE BAG-LIST
  (IF (EQ BIN-OP &#39;BINARY-+)
      &#39;INTP-+
      &#39;INTP-*)
  BIN-OP))
                  term)))))
        term))
    term))</pre>
  </div>

<div class="form-block encapsulate" id="form-24" typeof="Code">
    <div class="form-header"><span class="form-type">encapsulate</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-encapsulate" data-sym="ENCAPSULATE">encapsulate</a> nil
  (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-encapsulate" data-sym="ENCAPSULATE">encapsulate</a> nil
      (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> niq-bounds
          (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (integerp i) (<a class="sym-link system" href="../../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> <span class="number">0</span> i) (integerp j) (&lt; <span class="number">0</span> j))
            (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> (<a class="sym-link system" href="../../../axioms.html#def-nonnegative-integer-quotient" data-sym="NONNEGATIVE-INTEGER-QUOTIENT">nonnegative-integer-quotient</a> i j) (<a class="sym-link system" href="../../../axioms.html#def-_2F" data-sym="/">/</a> i j))
              (&lt; (<a class="sym-link system" href="../../../axioms.html#def-_2B" data-sym="+">+</a> (<a class="sym-link system" href="../../../axioms.html#def-_2F" data-sym="/">/</a> i j) <span class="number">-1</span>) (<a class="sym-link system" href="../../../axioms.html#def-nonnegative-integer-quotient" data-sym="NONNEGATIVE-INTEGER-QUOTIENT">nonnegative-integer-quotient</a> i j))))
          <span class="keyword">:rule-classes</span> ((<span class="keyword">:linear</span> <span class="keyword">:trigger-terms</span> ((<a class="sym-link system" href="../../../axioms.html#def-nonnegative-integer-quotient" data-sym="NONNEGATIVE-INTEGER-QUOTIENT">nonnegative-integer-quotient</a> i j))))))
      (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> floor-bounds-1
          (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (rationalp x) (rationalp y))
            (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (&lt; (<a class="sym-link system" href="../../../axioms.html#def-_2B" data-sym="+">+</a> (<a class="sym-link system" href="../../../axioms.html#def-_2F" data-sym="/">/</a> x y) <span class="number">-1</span>) (floor x y))
              (<a class="sym-link system" href="../../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> (floor x y) (<a class="sym-link system" href="../../../axioms.html#def-_2F" data-sym="/">/</a> x y))))
          <span class="keyword">:rule-classes</span> ((<span class="keyword">:generalize</span>) (<span class="keyword">:linear</span> <span class="keyword">:trigger-terms</span> ((floor x y))))))
      (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> floor-bounds-2
          (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (rationalp x) (rationalp y) (integerp (<a class="sym-link system" href="../../../axioms.html#def-_2F" data-sym="/">/</a> x y)))
            (equal (floor x y) (<a class="sym-link system" href="../../../axioms.html#def-_2F" data-sym="/">/</a> x y)))
          <span class="keyword">:rule-classes</span> ((<span class="keyword">:generalize</span>) (<span class="keyword">:linear</span> <span class="keyword">:trigger-terms</span> ((floor x y))))))
      (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> floor-bounds-3
          (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (rationalp x) (rationalp y) (<a class="sym-link system" href="../../../axioms.html#def-not" data-sym="NOT">not</a> (integerp (<a class="sym-link system" href="../../../axioms.html#def-_2F" data-sym="/">/</a> x y))))
            (&lt; (floor x y) (<a class="sym-link system" href="../../../axioms.html#def-_2F" data-sym="/">/</a> x y)))
          <span class="keyword">:rule-classes</span> ((<span class="keyword">:generalize</span>) (<span class="keyword">:linear</span> <span class="keyword">:trigger-terms</span> ((floor x y))))))
      (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-in-theory" data-sym="IN-THEORY">in-theory</a> (disable floor)))
      (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> ind-hint
          (x y n)
          (declare (xargs <span class="keyword">:measure</span> (abs (<a class="sym-link system" href="../../../axioms.html#def-ifix" data-sym="IFIX">ifix</a> x))))
          (<a class="sym-link system" href="../../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../../axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="../../../axioms.html#def-zip" data-sym="ZIP">zip</a> x) (<a class="sym-link system" href="../../../axioms.html#def-zip" data-sym="ZIP">zip</a> y) (<a class="sym-link system" href="../../../axioms.html#def-zp" data-sym="ZP">zp</a> n)) <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>)
            ((equal x <span class="number">-1</span>) <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>)
            (<a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a> (ind-hint (floor x <span class="number">2</span>) (floor y <span class="number">2</span>) (<a class="sym-link system" href="../../../axioms.html#def-_2B" data-sym="+">+</a> <span class="number">-1</span> n))))))
      (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> one
          (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (integerp x)
              (integerp n)
              (&lt; <span class="number">0</span> n)
              (<a class="sym-link system" href="../../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> (<a class="sym-link system" href="../../../axioms.html#def--" data-sym="-">-</a> (expt <span class="number">2</span> n)) x))
            (equal (&lt; (floor x <span class="number">2</span>) (<a class="sym-link system" href="../../../axioms.html#def--" data-sym="-">-</a> (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> <span class="number">1/2</span> (expt <span class="number">2</span> n)))) nil))))
      (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> two-x
          (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (&lt; x <span class="number">4</span>) (<a class="sym-link system" href="../../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> <span class="number">-4</span> x) (integerp x))
            (<a class="sym-link system" href="../../../axioms.html#def-or" data-sym="OR">or</a> (equal x <span class="number">-4</span>)
              (equal x <span class="number">-3</span>)
              (equal x <span class="number">-2</span>)
              (equal x <span class="number">-1</span>)
              (equal x <span class="number">0</span>)
              (equal x <span class="number">1</span>)
              (equal x <span class="number">2</span>)
              (equal x <span class="number">3</span>)))
          <span class="keyword">:rule-classes</span> nil))
      (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> two-y
          (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (&lt; y <span class="number">4</span>) (<a class="sym-link system" href="../../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> <span class="number">-4</span> y) (integerp y))
            (<a class="sym-link system" href="../../../axioms.html#def-or" data-sym="OR">or</a> (equal y <span class="number">-4</span>)
              (equal y <span class="number">-3</span>)
              (equal y <span class="number">-2</span>)
              (equal y <span class="number">-1</span>)
              (equal y <span class="number">0</span>)
              (equal y <span class="number">1</span>)
              (equal y <span class="number">2</span>)
              (equal y <span class="number">3</span>)))
          <span class="keyword">:rule-classes</span> nil))
      (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> foo
          (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (integerp x)
              (integerp n)
              (&lt; <span class="number">1</span> n)
              (&lt; x (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> <span class="number">1/2</span> (expt <span class="number">2</span> n))))
            (&lt; (<a class="sym-link system" href="../../../axioms.html#def-_2B" data-sym="+">+</a> <span class="number">1</span> (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> <span class="number">2</span> x)) (expt <span class="number">2</span> n)))))
      (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> logand-bounds
          (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (integerp x)
              (<a class="sym-link system" href="../../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> (<a class="sym-link system" href="../../../axioms.html#def--" data-sym="-">-</a> (expt <span class="number">2</span> n)) x)
              (&lt; x (expt <span class="number">2</span> n))
              (integerp y)
              (<a class="sym-link system" href="../../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> (<a class="sym-link system" href="../../../axioms.html#def--" data-sym="-">-</a> (expt <span class="number">2</span> n)) y)
              (&lt; y (expt <span class="number">2</span> n))
              (integerp n)
              (&lt; <span class="number">1</span> n))
            (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> (<a class="sym-link system" href="../../../axioms.html#def--" data-sym="-">-</a> (expt <span class="number">2</span> n)) (<a class="sym-link system" href="../../../axioms.html#def-logand" data-sym="LOGAND">logand</a> x y))
              (&lt; (<a class="sym-link system" href="../../../axioms.html#def-logand" data-sym="LOGAND">logand</a> x y) (expt <span class="number">2</span> n))))
          <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:in-theory</span> (disable floor expt)
             <span class="keyword">:induct</span> (ind-hint x y n)
             <span class="keyword">:do-not</span> '(generalize)) (<span class="string">"Subgoal *1/3.18"</span> <span class="keyword">:use</span> (two-x two-y))
            (<span class="string">"Subgoal *1/3.17"</span> <span class="keyword">:use</span> (two-x two-y))
            (<span class="string">"Subgoal *1/3.16"</span> <span class="keyword">:use</span> (two-x two-y))
            (<span class="string">"Subgoal *1/3.15"</span> <span class="keyword">:use</span> (two-x two-y))
            (<span class="string">"Subgoal *1/3.14"</span> <span class="keyword">:use</span> (two-x two-y))
            (<span class="string">"Subgoal *1/3.13"</span> <span class="keyword">:use</span> (two-x two-y)))))
      (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> logand-thm
        (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (integerp x)
            (<a class="sym-link system" href="../../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> *min-type-set* x)
            (<a class="sym-link system" href="../../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> x *max-type-set*)
            (integerp y)
            (<a class="sym-link system" href="../../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> *min-type-set* y)
            (<a class="sym-link system" href="../../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> y *max-type-set*))
          (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> *min-type-set* (<a class="sym-link system" href="../../../axioms.html#def-logand" data-sym="LOGAND">logand</a> x y))
            (<a class="sym-link system" href="../../../axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> (<a class="sym-link system" href="../../../axioms.html#def-logand" data-sym="LOGAND">logand</a> x y) *max-type-set*)))
        <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:use</span> ((<span class="keyword">:instance</span> logand-bounds
              (n (<a class="sym-link system" href="../../../axioms.html#def-length" data-sym="LENGTH">length</a> *actual-primitive-types*)))))))))
  (<a class="sym-link system" href="../../../axioms.html#def-verify-guards" data-sym="VERIFY-GUARDS">verify-guards</a> <a class="sym-link local-def" href="#def-intp-_2B" data-sym="INTP-+" title="(defun intp-+ (x y)
  (declare (xargs :guard (and (acl2-numberp x) (acl2-numberp y))))
  (+ x y))">intp-+</a>)
  (<a class="sym-link system" href="../../../axioms.html#def-verify-guards" data-sym="VERIFY-GUARDS">verify-guards</a> <a class="sym-link local-def" href="#def-intp-_2A" data-sym="INTP-*" title="(defun intp-* (x y)
  (declare (xargs :guard (and (acl2-numberp x) (acl2-numberp y))))
  (* x y))">intp-*</a>)
  (<a class="sym-link system" href="../../../axioms.html#def-verify-guards" data-sym="VERIFY-GUARDS">verify-guards</a> <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>)
  (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> pseudo-term-listp-leaves
      (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-pseudo-termp" data-sym="PSEUDO-TERMP">pseudo-termp</a> x)
          (<a class="sym-link system" href="../../../axioms.html#def-or" data-sym="OR">or</a> (equal bin-op 'binary-+) (equal bin-op 'binary-*)))
        (pseudo-term-listp (<a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a> x bin-op)))))
  (<a class="sym-link system" href="../../../axioms.html#def-verify-guards" data-sym="VERIFY-GUARDS">verify-guards</a> <a class="sym-link local-def" href="#def-tree" data-sym="TREE" title="(defun tree (leaves bin-op)
  (declare (xargs :guard (and (pseudo-term-listp leaves) (symbolp bin-op))))
  (cond
   ((endp leaves)
    (if (eq bin-op &#39;binary-+)
...">tree</a>)
  (<a class="sym-link system" href="../../../axioms.html#def-verify-guards" data-sym="VERIFY-GUARDS">verify-guards</a> <a class="sym-link local-def" href="#def-big-tree" data-sym="BIG-TREE" title="(defun big-tree (bags big-bin-op bin-op)
  (declare
   (xargs :guard
    (and (pseudo-term-list-listp bags) (symbolp big-bin-op) (symbolp bin-op))))
  (cond
...">big-tree</a>)
  (<a class="sym-link system" href="../../../axioms.html#def-verify-guards" data-sym="VERIFY-GUARDS">verify-guards</a> <a class="sym-link local-def" href="#def-bag-leaves" data-sym="BAG-LEAVES" title="(defun bag-leaves (leaves mfc state intp-bags non-intp-bags)
  (declare
   (xargs :guard
    (and (pseudo-term-listp leaves) (pseudo-term-list-listp intp-bags)
         (pseudo-term-list-listp non-intp-bags))))
...">bag-leaves</a>)
  (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> pseudo-term-list-listp-bag-leaves
      (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (pseudo-term-listp x)
          (<a class="sym-link system" href="../../../axioms.html#def-pseudo-term-list-listp" data-sym="PSEUDO-TERM-LIST-LISTP">pseudo-term-list-listp</a> y)
          (<a class="sym-link system" href="../../../axioms.html#def-pseudo-term-list-listp" data-sym="PSEUDO-TERM-LIST-LISTP">pseudo-term-list-listp</a> z))
        (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-pseudo-term-list-listp" data-sym="PSEUDO-TERM-LIST-LISTP">pseudo-term-list-listp</a> (car (<a class="sym-link local-def" href="#def-bag-leaves" data-sym="BAG-LEAVES" title="(defun bag-leaves (leaves mfc state intp-bags non-intp-bags)
  (declare
   (xargs :guard
    (and (pseudo-term-listp leaves) (pseudo-term-list-listp intp-bags)
         (pseudo-term-list-listp non-intp-bags))))
...">bag-leaves</a> x mfc state y z)))
          (<a class="sym-link system" href="../../../axioms.html#def-pseudo-term-list-listp" data-sym="PSEUDO-TERM-LIST-LISTP">pseudo-term-list-listp</a> (<a class="sym-link system" href="../../../axioms.html#def-mv-nth" data-sym="MV-NTH">mv-nth</a> <span class="number">1</span> (<a class="sym-link local-def" href="#def-bag-leaves" data-sym="BAG-LEAVES" title="(defun bag-leaves (leaves mfc state intp-bags non-intp-bags)
  (declare
   (xargs :guard
    (and (pseudo-term-listp leaves) (pseudo-term-list-listp intp-bags)
         (pseudo-term-list-listp non-intp-bags))))
...">bag-leaves</a> x mfc state y z)))))))
  (<a class="sym-link system" href="../../../axioms.html#def-verify-guards" data-sym="VERIFY-GUARDS">verify-guards</a> <a class="sym-link local-def" href="#def-bag-terms" data-sym="BAG-TERMS" title="(defun bag-terms (type-alist bin-op intp-bags non-intp-bags)
  (declare
   (xargs :guard
    (and (type-alistp type-alist)
         (or (equal bin-op (quote binary-+)) (equal bin-op (quote binary-*)))
...">bag-terms</a>)
  (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> pseudo-term-list-listp-bag-terms
      (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-type-alistp" data-sym="TYPE-ALISTP">type-alistp</a> type-alist)
          (<a class="sym-link system" href="../../../axioms.html#def-or" data-sym="OR">or</a> (equal bin-op 'binary-+) (equal bin-op 'binary-*))
          (<a class="sym-link system" href="../../../axioms.html#def-pseudo-term-list-listp" data-sym="PSEUDO-TERM-LIST-LISTP">pseudo-term-list-listp</a> intp-bags)
          (<a class="sym-link system" href="../../../axioms.html#def-pseudo-term-list-listp" data-sym="PSEUDO-TERM-LIST-LISTP">pseudo-term-list-listp</a> non-intp-bags))
        (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-pseudo-term-list-listp" data-sym="PSEUDO-TERM-LIST-LISTP">pseudo-term-list-listp</a> (car (<a class="sym-link local-def" href="#def-bag-terms" data-sym="BAG-TERMS" title="(defun bag-terms (type-alist bin-op intp-bags non-intp-bags)
  (declare
   (xargs :guard
    (and (type-alistp type-alist)
         (or (equal bin-op (quote binary-+)) (equal bin-op (quote binary-*)))
...">bag-terms</a> type-alist bin-op intp-bags non-intp-bags)))
          (<a class="sym-link system" href="../../../axioms.html#def-pseudo-term-list-listp" data-sym="PSEUDO-TERM-LIST-LISTP">pseudo-term-list-listp</a> (<a class="sym-link system" href="../../../axioms.html#def-mv-nth" data-sym="MV-NTH">mv-nth</a> <span class="number">1</span>
              (<a class="sym-link local-def" href="#def-bag-terms" data-sym="BAG-TERMS" title="(defun bag-terms (type-alist bin-op intp-bags non-intp-bags)
  (declare
   (xargs :guard
    (and (type-alistp type-alist)
         (or (equal bin-op (quote binary-+)) (equal bin-op (quote binary-*)))
...">bag-terms</a> type-alist bin-op intp-bags non-intp-bags)))))))
  (<a class="sym-link system" href="../../../axioms.html#def-verify-guards" data-sym="VERIFY-GUARDS">verify-guards</a> <a class="sym-link local-def" href="#def-subtract-leaf" data-sym="SUBTRACT-LEAF" title="(defun subtract-leaf (leaf leaves)
  (declare (xargs :guard (true-listp leaves)))
  (cond ((endp leaves) (mv nil nil))
        ((equal leaf (car leaves)) (mv t (cdr leaves)))
        (t
...">subtract-leaf</a>)
  (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> true-listp-subtract-leaf
      (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-true-listp" data-sym="TRUE-LISTP">true-listp</a> <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>)
        (<a class="sym-link system" href="../../../axioms.html#def-true-listp" data-sym="TRUE-LISTP">true-listp</a> (<a class="sym-link system" href="../../../axioms.html#def-mv-nth" data-sym="MV-NTH">mv-nth</a> <span class="number">1</span> (<a class="sym-link local-def" href="#def-subtract-leaf" data-sym="SUBTRACT-LEAF" title="(defun subtract-leaf (leaf leaves)
  (declare (xargs :guard (true-listp leaves)))
  (cond ((endp leaves) (mv nil nil))
        ((equal leaf (car leaves)) (mv t (cdr leaves)))
        (t
...">subtract-leaf</a> leaf <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>))))))
  (<a class="sym-link system" href="../../../axioms.html#def-verify-guards" data-sym="VERIFY-GUARDS">verify-guards</a> <a class="sym-link local-def" href="#def-subtract-bag" data-sym="SUBTRACT-BAG" title="(defun subtract-bag (bag leaves)
  (declare (xargs :guard (and (true-listp bag) (true-listp leaves))))
  (cond ((endp bag) (mv t leaves))
        ((endp (cdr bag)) (subtract-leaf (car bag) leaves))
        (t
...">subtract-bag</a> <span class="keyword">:otf-flg</span> <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>)
  (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> true-listp-subtract-bag
      (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-true-listp" data-sym="TRUE-LISTP">true-listp</a> <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>)
        (<a class="sym-link system" href="../../../axioms.html#def-true-listp" data-sym="TRUE-LISTP">true-listp</a> (<a class="sym-link system" href="../../../axioms.html#def-mv-nth" data-sym="MV-NTH">mv-nth</a> <span class="number">1</span> (<a class="sym-link local-def" href="#def-subtract-bag" data-sym="SUBTRACT-BAG" title="(defun subtract-bag (bag leaves)
  (declare (xargs :guard (and (true-listp bag) (true-listp leaves))))
  (cond ((endp bag) (mv t leaves))
        ((endp (cdr bag)) (subtract-leaf (car bag) leaves))
        (t
...">subtract-bag</a> leaf <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>))))))
  (<a class="sym-link system" href="../../../axioms.html#def-verify-guards" data-sym="VERIFY-GUARDS">verify-guards</a> <a class="sym-link local-def" href="#def-collect-bags-intp" data-sym="COLLECT-BAGS-INTP" title="(defun collect-bags-intp (leaves intp-bags)
  (declare
   (xargs :guard (and (true-listp leaves) (true-list-listp intp-bags))))
  (cond ((endp leaves) (mv t nil)) ((endp intp-bags) (mv nil nil))
        (t
...">collect-bags-intp</a>)
  (<a class="sym-link system" href="../../../axioms.html#def-verify-guards" data-sym="VERIFY-GUARDS">verify-guards</a> <a class="sym-link local-def" href="#def-collect-bags-non-intp" data-sym="COLLECT-BAGS-NON-INTP" title="(defun collect-bags-non-intp (leaves intp-bags non-intp-bags)
  (declare
   (xargs :guard
    (and (true-listp leaves) (true-list-listp intp-bags)
         (true-list-listp non-intp-bags))))
...">collect-bags-non-intp</a>)
  (<a class="sym-link system" href="../../../axioms.html#def-verify-guards" data-sym="VERIFY-GUARDS">verify-guards</a> <a class="sym-link local-def" href="#def-collect-bags" data-sym="COLLECT-BAGS" title="(defun collect-bags (leaves intp-bags non-intp-bags bin-op)
  (declare
   (xargs :guard
    (and (true-listp leaves) (true-list-listp intp-bags)
         (true-list-listp non-intp-bags))))
...">collect-bags</a>)
  (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-encapsulate" data-sym="ENCAPSULATE">encapsulate</a> nil
      (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> pseudo-term-list-listp-collect-bags-intp
          (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-true-listp" data-sym="TRUE-LISTP">true-listp</a> <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>) (<a class="sym-link system" href="../../../axioms.html#def-pseudo-term-list-listp" data-sym="PSEUDO-TERM-LIST-LISTP">pseudo-term-list-listp</a> intp-bags))
            (<a class="sym-link system" href="../../../axioms.html#def-pseudo-term-list-listp" data-sym="PSEUDO-TERM-LIST-LISTP">pseudo-term-list-listp</a> (<a class="sym-link system" href="../../../axioms.html#def-mv-nth" data-sym="MV-NTH">mv-nth</a> <span class="number">1</span> (<a class="sym-link local-def" href="#def-collect-bags-intp" data-sym="COLLECT-BAGS-INTP" title="(defun collect-bags-intp (leaves intp-bags)
  (declare
   (xargs :guard (and (true-listp leaves) (true-list-listp intp-bags))))
  (cond ((endp leaves) (mv t nil)) ((endp intp-bags) (mv nil nil))
        (t
...">collect-bags-intp</a> <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a> intp-bags))))))
      (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> pseudo-term-list-listp-collect-bags-non-intp
          (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-true-listp" data-sym="TRUE-LISTP">true-listp</a> <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>)
              (<a class="sym-link system" href="../../../axioms.html#def-pseudo-term-list-listp" data-sym="PSEUDO-TERM-LIST-LISTP">pseudo-term-list-listp</a> intp-bags)
              (<a class="sym-link system" href="../../../axioms.html#def-pseudo-term-list-listp" data-sym="PSEUDO-TERM-LIST-LISTP">pseudo-term-list-listp</a> non-intp-bags))
            (<a class="sym-link system" href="../../../axioms.html#def-pseudo-term-list-listp" data-sym="PSEUDO-TERM-LIST-LISTP">pseudo-term-list-listp</a> (<a class="sym-link system" href="../../../axioms.html#def-mv-nth" data-sym="MV-NTH">mv-nth</a> <span class="number">1</span>
                (<a class="sym-link local-def" href="#def-collect-bags-non-intp" data-sym="COLLECT-BAGS-NON-INTP" title="(defun collect-bags-non-intp (leaves intp-bags non-intp-bags)
  (declare
   (xargs :guard
    (and (true-listp leaves) (true-list-listp intp-bags)
         (true-list-listp non-intp-bags))))
...">collect-bags-non-intp</a> <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a> intp-bags non-intp-bags))))))
      (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> pseudo-term-list-listp-collect-bags
        (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-true-listp" data-sym="TRUE-LISTP">true-listp</a> <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>)
            (<a class="sym-link system" href="../../../axioms.html#def-pseudo-term-list-listp" data-sym="PSEUDO-TERM-LIST-LISTP">pseudo-term-list-listp</a> intp-bags)
            (<a class="sym-link system" href="../../../axioms.html#def-pseudo-term-list-listp" data-sym="PSEUDO-TERM-LIST-LISTP">pseudo-term-list-listp</a> non-intp-bags)
            (<a class="sym-link system" href="../../../axioms.html#def-or" data-sym="OR">or</a> (equal bin-op 'binary-+) (equal bin-op 'binary-*)))
          (<a class="sym-link system" href="../../../axioms.html#def-pseudo-term-list-listp" data-sym="PSEUDO-TERM-LIST-LISTP">pseudo-term-list-listp</a> (<a class="sym-link system" href="../../../axioms.html#def-mv-nth" data-sym="MV-NTH">mv-nth</a> <span class="number">1</span>
              (<a class="sym-link local-def" href="#def-collect-bags" data-sym="COLLECT-BAGS" title="(defun collect-bags (leaves intp-bags non-intp-bags bin-op)
  (declare
   (xargs :guard
    (and (true-listp leaves) (true-list-listp intp-bags)
         (true-list-listp non-intp-bags))))
...">collect-bags</a> <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a> intp-bags non-intp-bags bin-op)))))))
  (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> pseudo-term-list-listp-implies-true-list-listp
      (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-pseudo-term-list-listp" data-sym="PSEUDO-TERM-LIST-LISTP">pseudo-term-list-listp</a> x) (<a class="sym-link system" href="../../../axioms.html#def-true-list-listp" data-sym="TRUE-LIST-LISTP">true-list-listp</a> x))))
  (<a class="sym-link system" href="../../../axioms.html#def-verify-guards" data-sym="VERIFY-GUARDS">verify-guards</a> <a class="sym-link local-def" href="#def-meta-integerp" data-sym="META-INTEGERP" title="(defun meta-integerp (term mfc state)
  (declare (xargs :guard (pseudo-termp term)))
  (if (eq (fn-symb term) &#39;integerp)
      (let ((bin-op (fn-symb (fargn term 1))))
        (if (and (member-eq bin-op &#39;(binary-+ binary-*))
...">meta-integerp</a>
    <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:in-theory</span> (disable <a class="sym-link local-def" href="#def-bag-leaves" data-sym="BAG-LEAVES" title="(defun bag-leaves (leaves mfc state intp-bags non-intp-bags)
  (declare
   (xargs :guard
    (and (pseudo-term-listp leaves) (pseudo-term-list-listp intp-bags)
         (pseudo-term-list-listp non-intp-bags))))
...">bag-leaves</a> <a class="sym-link local-def" href="#def-bag-terms" data-sym="BAG-TERMS" title="(defun bag-terms (type-alist bin-op intp-bags non-intp-bags)
  (declare
   (xargs :guard
    (and (type-alistp type-alist)
         (or (equal bin-op (quote binary-+)) (equal bin-op (quote binary-*)))
...">bag-terms</a> <a class="sym-link local-def" href="#def-collect-bags" data-sym="COLLECT-BAGS" title="(defun collect-bags (leaves intp-bags non-intp-bags bin-op)
  (declare
   (xargs :guard
    (and (true-listp leaves) (true-list-listp intp-bags)
         (true-list-listp non-intp-bags))))
...">collect-bags</a>)))))</pre>
  </div>

<div class="form-block encapsulate" id="def-meta-integerp-correct" data-defines="META-INTEGERP-CORRECT" data-references="INTEGERP,STATE,MFC,META-INTEGERP,BAG-TERMS,BAG-LEAVES,INTP-BIN-OP,BIG-TREE-TERM,MEMBER-EQ,NON-INTP-BAGS,COLLECT-BAGS,COLLECT-BAGS-GOOD,COLLECT-BAGS-INTP-GOOD-*,INTP-BAGS1,CONSP,INTP-BAGS,COLLECT-BAGS-INTP,COLLECT-BAGS-INTP-GOOD-+,SUBTRACT-BAG-GOOD-*,MV-NTH,BAG,SUBTRACT-BAG,SUBTRACT-BAG-GOOD-+,*,SUBTRACT-LEAF-GOOD-*,+,LEAF,SUBTRACT-LEAF,NEW-LEAVES,FLAG,MV-LET,SUBTRACT-LEAF-GOOD-+,X,ACL2-NUMBERP,ACL2-NUMBERP-TREE-2,TERM,FN-SYMB,TREE-2-LEAVES,INTP-*,INTP-+,BIG-TREE,AND,BIG-TREE-BIG-TREE-2,BIG-BIN-OP,BAGS,BIG-TREE-2,DISABLE,IN-THEORY,A,TREE,INTP-EVA,EQUAL,BINARY-*,OR,IMPLIES,TREES,DEFTHM,CDR,CAR,LIST,T,BINARY-+,QUOTE,EQ,IF,ENDP,COND,BIN-OP,LEAVES,TREE-2,DEFUN,LOCAL,ENCAPSULATE" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="META-INTEGERP-CORRECT">meta-integerp-correct</span><span class="form-type">encapsulate</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-encapsulate" data-sym="ENCAPSULATE">encapsulate</a> nil
  (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> tree-2
      (<a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a> bin-op)
      (<a class="sym-link system" href="../../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../../axioms.html#def-endp" data-sym="ENDP">endp</a> <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>) (if (<a class="sym-link system" href="../../../axioms.html#def-eq" data-sym="EQ">eq</a> bin-op 'binary-+)
            ''<span class="number">0</span>
            ''<span class="number">1</span>))
        (<a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="../../../axioms.html#def-list" data-sym="LIST">list</a> bin-op (car <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>) (tree-2 (cdr <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>) bin-op))))))
  (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> trees
      (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="../../../axioms.html#def-eq" data-sym="EQ">eq</a> bin-op 'binary-+) (<a class="sym-link system" href="../../../axioms.html#def-eq" data-sym="EQ">eq</a> bin-op 'binary-*))
        (equal (intp-eva (<a class="sym-link local-def" href="#def-tree" data-sym="TREE" title="(defun tree (leaves bin-op)
  (declare (xargs :guard (and (pseudo-term-listp leaves) (symbolp bin-op))))
  (cond
   ((endp leaves)
    (if (eq bin-op &#39;binary-+)
...">tree</a> <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a> bin-op) a)
          (intp-eva (tree-2 <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a> bin-op) a)))))
  (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-in-theory" data-sym="IN-THEORY">in-theory</a> (disable <a class="sym-link local-def" href="#def-tree" data-sym="TREE" title="(defun tree (leaves bin-op)
  (declare (xargs :guard (and (pseudo-term-listp leaves) (symbolp bin-op))))
  (cond
   ((endp leaves)
    (if (eq bin-op &#39;binary-+)
...">tree</a>)))
  (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defun" data-sym="DEFUN">defun</a> big-tree-2
      (bags big-bin-op bin-op)
      (<a class="sym-link system" href="../../../axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="../../../axioms.html#def-endp" data-sym="ENDP">endp</a> bags) (if (<a class="sym-link system" href="../../../axioms.html#def-eq" data-sym="EQ">eq</a> bin-op 'binary-+)
            ''<span class="number">0</span>
            ''<span class="number">1</span>))
        (<a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="../../../axioms.html#def-list" data-sym="LIST">list</a> big-bin-op
            (<a class="sym-link local-def" href="#def-tree" data-sym="TREE" title="(defun tree (leaves bin-op)
  (declare (xargs :guard (and (pseudo-term-listp leaves) (symbolp bin-op))))
  (cond
   ((endp leaves)
    (if (eq bin-op &#39;binary-+)
...">tree</a> (car bags) bin-op)
            (big-tree-2 (cdr bags) big-bin-op bin-op))))))
  (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> big-tree-big-tree-2
      (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (equal (intp-eva (<a class="sym-link local-def" href="#def-big-tree" data-sym="BIG-TREE" title="(defun big-tree (bags big-bin-op bin-op)
  (declare
   (xargs :guard
    (and (pseudo-term-list-listp bags) (symbolp big-bin-op) (symbolp bin-op))))
  (cond
...">big-tree</a> bags '<a class="sym-link local-def" href="#def-intp-_2B" data-sym="INTP-+" title="(defun intp-+ (x y)
  (declare (xargs :guard (and (acl2-numberp x) (acl2-numberp y))))
  (+ x y))">intp-+</a> 'binary-+) a)
          (intp-eva (big-tree-2 bags 'binary-+ 'binary-+) a))
        (equal (intp-eva (<a class="sym-link local-def" href="#def-big-tree" data-sym="BIG-TREE" title="(defun big-tree (bags big-bin-op bin-op)
  (declare
   (xargs :guard
    (and (pseudo-term-list-listp bags) (symbolp big-bin-op) (symbolp bin-op))))
  (cond
...">big-tree</a> bags '<a class="sym-link local-def" href="#def-intp-_2A" data-sym="INTP-*" title="(defun intp-* (x y)
  (declare (xargs :guard (and (acl2-numberp x) (acl2-numberp y))))
  (* x y))">intp-*</a> 'binary-*) a)
          (intp-eva (big-tree-2 bags 'binary-* 'binary-*) a)))))
  (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-in-theory" data-sym="IN-THEORY">in-theory</a> (disable <a class="sym-link local-def" href="#def-big-tree" data-sym="BIG-TREE" title="(defun big-tree (bags big-bin-op bin-op)
  (declare
   (xargs :guard
    (and (pseudo-term-list-listp bags) (symbolp big-bin-op) (symbolp bin-op))))
  (cond
...">big-tree</a>)))
  (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> tree-2-leaves
      (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="../../../axioms.html#def-eq" data-sym="EQ">eq</a> bin-op 'binary-+) (<a class="sym-link system" href="../../../axioms.html#def-eq" data-sym="EQ">eq</a> bin-op 'binary-*))
          (<a class="sym-link system" href="../../../axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="../../../axioms.html#def-fn-symb" data-sym="FN-SYMB">fn-symb</a> term) bin-op))
        (equal (intp-eva (tree-2 (<a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a> term bin-op) bin-op) a)
          (intp-eva term a)))
      <span class="keyword">:hints</span> ((<span class="string">"Subgoal 2"</span> <span class="keyword">:induct</span> <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>) (<span class="string">"Subgoal 1"</span> <span class="keyword">:induct</span> <a class="sym-link system" href="../../../axioms.html#def-t" data-sym="T">t</a>))))
  (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> acl2-numberp-tree-2
      (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="../../../axioms.html#def-eq" data-sym="EQ">eq</a> bin-op 'binary-+) (<a class="sym-link system" href="../../../axioms.html#def-eq" data-sym="EQ">eq</a> bin-op 'binary-*))
        (acl2-numberp (intp-eva (tree-2 x bin-op) a)))
      <span class="keyword">:rule-classes</span> <span class="keyword">:type-prescription</span>))
  (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> subtract-leaf-good-+
      (<a class="sym-link system" href="../../../axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (flag new-leaves)
        (<a class="sym-link local-def" href="#def-subtract-leaf" data-sym="SUBTRACT-LEAF" title="(defun subtract-leaf (leaf leaves)
  (declare (xargs :guard (true-listp leaves)))
  (cond ((endp leaves) (mv nil nil))
        ((equal leaf (car leaves)) (mv t (cdr leaves)))
        (t
...">subtract-leaf</a> leaf <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>)
        (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> flag
          (equal (<a class="sym-link system" href="../../../axioms.html#def-_2B" data-sym="+">+</a> (intp-eva leaf a)
              (intp-eva (tree-2 new-leaves 'binary-+) a))
            (intp-eva (tree-2 <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a> 'binary-+) a))))))
  (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> subtract-leaf-good-*
      (<a class="sym-link system" href="../../../axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (flag new-leaves)
        (<a class="sym-link local-def" href="#def-subtract-leaf" data-sym="SUBTRACT-LEAF" title="(defun subtract-leaf (leaf leaves)
  (declare (xargs :guard (true-listp leaves)))
  (cond ((endp leaves) (mv nil nil))
        ((equal leaf (car leaves)) (mv t (cdr leaves)))
        (t
...">subtract-leaf</a> leaf <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>)
        (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> flag
          (equal (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> (intp-eva leaf a)
              (intp-eva (tree-2 new-leaves 'binary-*) a))
            (intp-eva (tree-2 <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a> 'binary-*) a))))))
  (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> subtract-bag-good-+
      (<a class="sym-link system" href="../../../axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (flag new-leaves)
        (<a class="sym-link local-def" href="#def-subtract-bag" data-sym="SUBTRACT-BAG" title="(defun subtract-bag (bag leaves)
  (declare (xargs :guard (and (true-listp bag) (true-listp leaves))))
  (cond ((endp bag) (mv t leaves))
        ((endp (cdr bag)) (subtract-leaf (car bag) leaves))
        (t
...">subtract-bag</a> bag <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>)
        (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> flag
          (equal (<a class="sym-link system" href="../../../axioms.html#def-_2B" data-sym="+">+</a> (intp-eva (tree-2 bag 'binary-+) a)
              (intp-eva (tree-2 new-leaves 'binary-+) a))
            (intp-eva (tree-2 <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a> 'binary-+) a))))
      <span class="keyword">:hints</span> ((<span class="string">"Subgoal *1/3"</span> <span class="keyword">:use</span> ((<span class="keyword">:instance</span> subtract-leaf-good-+
            (leaf (car bag))
            (<a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a> (<a class="sym-link system" href="../../../axioms.html#def-mv-nth" data-sym="MV-NTH">mv-nth</a> <span class="number">1</span> (<a class="sym-link local-def" href="#def-subtract-bag" data-sym="SUBTRACT-BAG" title="(defun subtract-bag (bag leaves)
  (declare (xargs :guard (and (true-listp bag) (true-listp leaves))))
  (cond ((endp bag) (mv t leaves))
        ((endp (cdr bag)) (subtract-leaf (car bag) leaves))
        (t
...">subtract-bag</a> (cdr bag) <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>)))))
         <span class="keyword">:in-theory</span> (disable subtract-leaf-good-+ <a class="sym-link local-def" href="#def-tree" data-sym="TREE" title="(defun tree (leaves bin-op)
  (declare (xargs :guard (and (pseudo-term-listp leaves) (symbolp bin-op))))
  (cond
   ((endp leaves)
    (if (eq bin-op &#39;binary-+)
...">tree</a>)))))
  (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> subtract-bag-good-*
      (<a class="sym-link system" href="../../../axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (flag new-leaves)
        (<a class="sym-link local-def" href="#def-subtract-bag" data-sym="SUBTRACT-BAG" title="(defun subtract-bag (bag leaves)
  (declare (xargs :guard (and (true-listp bag) (true-listp leaves))))
  (cond ((endp bag) (mv t leaves))
        ((endp (cdr bag)) (subtract-leaf (car bag) leaves))
        (t
...">subtract-bag</a> bag <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>)
        (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> flag
          (equal (<a class="sym-link system" href="../../../axioms.html#def-_2A" data-sym="*">*</a> (intp-eva (tree-2 bag 'binary-*) a)
              (intp-eva (tree-2 new-leaves 'binary-*) a))
            (intp-eva (tree-2 <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a> 'binary-*) a))))
      <span class="keyword">:hints</span> ((<span class="string">"Subgoal *1/3"</span> <span class="keyword">:use</span> ((<span class="keyword">:instance</span> subtract-leaf-good-*
            (leaf (car bag))
            (<a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a> (<a class="sym-link system" href="../../../axioms.html#def-mv-nth" data-sym="MV-NTH">mv-nth</a> <span class="number">1</span> (<a class="sym-link local-def" href="#def-subtract-bag" data-sym="SUBTRACT-BAG" title="(defun subtract-bag (bag leaves)
  (declare (xargs :guard (and (true-listp bag) (true-listp leaves))))
  (cond ((endp bag) (mv t leaves))
        ((endp (cdr bag)) (subtract-leaf (car bag) leaves))
        (t
...">subtract-bag</a> (cdr bag) <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>)))))
         <span class="keyword">:in-theory</span> (disable subtract-leaf-good-* <a class="sym-link local-def" href="#def-tree" data-sym="TREE" title="(defun tree (leaves bin-op)
  (declare (xargs :guard (and (pseudo-term-listp leaves) (symbolp bin-op))))
  (cond
   ((endp leaves)
    (if (eq bin-op &#39;binary-+)
...">tree</a>)))))
  (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> collect-bags-intp-good-+
      (<a class="sym-link system" href="../../../axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (flag bags)
        (<a class="sym-link local-def" href="#def-collect-bags-intp" data-sym="COLLECT-BAGS-INTP" title="(defun collect-bags-intp (leaves intp-bags)
  (declare
   (xargs :guard (and (true-listp leaves) (true-list-listp intp-bags))))
  (cond ((endp leaves) (mv t nil)) ((endp intp-bags) (mv nil nil))
        (t
...">collect-bags-intp</a> <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a> intp-bags)
        (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> flag (consp <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>))
          (equal (intp-eva (big-tree-2 bags 'binary-+ 'binary-+) a)
            (intp-eva (tree-2 <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a> 'binary-+) a))))
      <span class="keyword">:hints</span> ((<span class="string">"Subgoal *1/4&#39;5&#39;"</span> <span class="keyword">:use</span> ((<span class="keyword">:instance</span> subtract-bag-good-+ (bag intp-bags1)))
         <span class="keyword">:in-theory</span> (disable subtract-bag-good-+)))))
  (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> collect-bags-intp-good-*
      (<a class="sym-link system" href="../../../axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (flag bags)
        (<a class="sym-link local-def" href="#def-collect-bags-intp" data-sym="COLLECT-BAGS-INTP" title="(defun collect-bags-intp (leaves intp-bags)
  (declare
   (xargs :guard (and (true-listp leaves) (true-list-listp intp-bags))))
  (cond ((endp leaves) (mv t nil)) ((endp intp-bags) (mv nil nil))
        (t
...">collect-bags-intp</a> <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a> intp-bags)
        (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> flag (consp <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>))
          (equal (intp-eva (big-tree-2 bags 'binary-* 'binary-*) a)
            (intp-eva (tree-2 <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a> 'binary-*) a))))
      <span class="keyword">:hints</span> ((<span class="string">"Subgoal *1/4&#39;5&#39;"</span> <span class="keyword">:use</span> ((<span class="keyword">:instance</span> subtract-bag-good-* (bag intp-bags1)))
         <span class="keyword">:in-theory</span> (disable subtract-bag-good-*)))))
  (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> collect-bags-good
      (<a class="sym-link system" href="../../../axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (flag bags)
        (<a class="sym-link local-def" href="#def-collect-bags" data-sym="COLLECT-BAGS" title="(defun collect-bags (leaves intp-bags non-intp-bags bin-op)
  (declare
   (xargs :guard
    (and (true-listp leaves) (true-list-listp intp-bags)
         (true-list-listp non-intp-bags))))
...">collect-bags</a> <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a> intp-bags non-intp-bags bin-op)
        (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> flag
            (<a class="sym-link system" href="../../../axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> bin-op '(binary-+ binary-*))
            (consp <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>))
          (equal (intp-eva (big-tree-2 bags bin-op bin-op) a)
            (intp-eva (tree-2 <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a> bin-op) a))))))
  (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> big-tree-term
      (<a class="sym-link system" href="../../../axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (flag bags)
        (<a class="sym-link local-def" href="#def-collect-bags" data-sym="COLLECT-BAGS" title="(defun collect-bags (leaves intp-bags non-intp-bags bin-op)
  (declare
   (xargs :guard
    (and (true-listp leaves) (true-list-listp intp-bags)
         (true-list-listp non-intp-bags))))
...">collect-bags</a> (<a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a> term bin-op)
          intp-bags
          non-intp-bags
          bin-op)
        (<a class="sym-link system" href="../../../axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> flag
            (<a class="sym-link system" href="../../../axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-eq" data-sym="EQ">eq</a> intp-bin-op '<a class="sym-link local-def" href="#def-intp-_2B" data-sym="INTP-+" title="(defun intp-+ (x y)
  (declare (xargs :guard (and (acl2-numberp x) (acl2-numberp y))))
  (+ x y))">intp-+</a>) (<a class="sym-link system" href="../../../axioms.html#def-eq" data-sym="EQ">eq</a> bin-op 'binary-+))
              (<a class="sym-link system" href="../../../axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="../../../axioms.html#def-eq" data-sym="EQ">eq</a> intp-bin-op '<a class="sym-link local-def" href="#def-intp-_2A" data-sym="INTP-*" title="(defun intp-* (x y)
  (declare (xargs :guard (and (acl2-numberp x) (acl2-numberp y))))
  (* x y))">intp-*</a>) (<a class="sym-link system" href="../../../axioms.html#def-eq" data-sym="EQ">eq</a> bin-op 'binary-*)))
            (<a class="sym-link system" href="../../../axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="../../../axioms.html#def-fn-symb" data-sym="FN-SYMB">fn-symb</a> term) bin-op))
          (equal (intp-eva (<a class="sym-link local-def" href="#def-big-tree" data-sym="BIG-TREE" title="(defun big-tree (bags big-bin-op bin-op)
  (declare
   (xargs :guard
    (and (pseudo-term-list-listp bags) (symbolp big-bin-op) (symbolp bin-op))))
  (cond
...">big-tree</a> bags intp-bin-op bin-op) a)
            (intp-eva term a))))
      <span class="keyword">:hints</span> ((<span class="string">"Goal"</span> <span class="keyword">:in-theory</span> (disable <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a> <a class="sym-link local-def" href="#def-collect-bags" data-sym="COLLECT-BAGS" title="(defun collect-bags (leaves intp-bags non-intp-bags bin-op)
  (declare
   (xargs :guard
    (and (true-listp leaves) (true-list-listp intp-bags)
         (true-list-listp non-intp-bags))))
...">collect-bags</a> tree-2)))))
  (<a class="sym-link system" href="../../../axioms.html#def-local" data-sym="LOCAL">local</a> (<a class="sym-link system" href="../../../axioms.html#def-in-theory" data-sym="IN-THEORY">in-theory</a> (disable <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>
        <a class="sym-link local-def" href="#def-bag-leaves" data-sym="BAG-LEAVES" title="(defun bag-leaves (leaves mfc state intp-bags non-intp-bags)
  (declare
   (xargs :guard
    (and (pseudo-term-listp leaves) (pseudo-term-list-listp intp-bags)
         (pseudo-term-list-listp non-intp-bags))))
...">bag-leaves</a>
        <a class="sym-link local-def" href="#def-bag-terms" data-sym="BAG-TERMS" title="(defun bag-terms (type-alist bin-op intp-bags non-intp-bags)
  (declare
   (xargs :guard
    (and (type-alistp type-alist)
         (or (equal bin-op (quote binary-+)) (equal bin-op (quote binary-*)))
...">bag-terms</a>
        <a class="sym-link local-def" href="#def-collect-bags" data-sym="COLLECT-BAGS" title="(defun collect-bags (leaves intp-bags non-intp-bags bin-op)
  (declare
   (xargs :guard
    (and (true-listp leaves) (true-list-listp intp-bags)
         (true-list-listp non-intp-bags))))
...">collect-bags</a>
        <a class="sym-link local-def" href="#def-big-tree" data-sym="BIG-TREE" title="(defun big-tree (bags big-bin-op bin-op)
  (declare
   (xargs :guard
    (and (pseudo-term-list-listp bags) (symbolp big-bin-op) (symbolp bin-op))))
  (cond
...">big-tree</a>
        <a class="sym-link local-def" href="#def-intp-_2B" data-sym="INTP-+" title="(defun intp-+ (x y)
  (declare (xargs :guard (and (acl2-numberp x) (acl2-numberp y))))
  (+ x y))">intp-+</a>
        <a class="sym-link local-def" href="#def-intp-_2A" data-sym="INTP-*" title="(defun intp-* (x y)
  (declare (xargs :guard (and (acl2-numberp x) (acl2-numberp y))))
  (* x y))">intp-*</a>)))
  (<a class="sym-link system" href="../../../axioms.html#def-defthm" data-sym="DEFTHM">defthm</a> <a class="sym-link local-def" href="#def-meta-integerp-correct" data-sym="META-INTEGERP-CORRECT" title="(encapsulate nil
             (local
              (defun tree-2 (leaves bin-op)
                (cond
                 ((endp leaves)
...">meta-integerp-correct</a>
    (equal (intp-eva term a)
      (intp-eva (<a class="sym-link local-def" href="#def-meta-integerp" data-sym="META-INTEGERP" title="(defun meta-integerp (term mfc state)
  (declare (xargs :guard (pseudo-termp term)))
  (if (eq (fn-symb term) &#39;integerp)
      (let ((bin-op (fn-symb (fargn term 1))))
        (if (and (member-eq bin-op &#39;(binary-+ binary-*))
...">meta-integerp</a> term mfc state) a))
    <span class="keyword">:rule-classes</span> ((<span class="keyword">:meta</span> <span class="keyword">:trigger-fns</span> (integerp)))))</pre>
  </div>

<div class="form-block in-theory" id="form-26" typeof="Code">
    <div class="form-header"><span class="form-type">in-theory</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-in-theory" data-sym="IN-THEORY">in-theory</a> (disable <a class="sym-link local-def" href="#def-leaves" data-sym="LEAVES" title="(defun leaves (term bin-op)
  (declare (xargs :guard (and (pseudo-termp term) (symbolp bin-op))))
  (cond
   ((atom term)
    (if (eq bin-op &#39;binary-+)
...">leaves</a>
    <a class="sym-link local-def" href="#def-tree" data-sym="TREE" title="(defun tree (leaves bin-op)
  (declare (xargs :guard (and (pseudo-term-listp leaves) (symbolp bin-op))))
  (cond
   ((endp leaves)
    (if (eq bin-op &#39;binary-+)
...">tree</a>
    <a class="sym-link local-def" href="#def-big-tree" data-sym="BIG-TREE" title="(defun big-tree (bags big-bin-op bin-op)
  (declare
   (xargs :guard
    (and (pseudo-term-list-listp bags) (symbolp big-bin-op) (symbolp bin-op))))
  (cond
...">big-tree</a>
    <a class="sym-link local-def" href="#def-bag-leaves" data-sym="BAG-LEAVES" title="(defun bag-leaves (leaves mfc state intp-bags non-intp-bags)
  (declare
   (xargs :guard
    (and (pseudo-term-listp leaves) (pseudo-term-list-listp intp-bags)
         (pseudo-term-list-listp non-intp-bags))))
...">bag-leaves</a>
    <a class="sym-link local-def" href="#def-bag-terms" data-sym="BAG-TERMS" title="(defun bag-terms (type-alist bin-op intp-bags non-intp-bags)
  (declare
   (xargs :guard
    (and (type-alistp type-alist)
         (or (equal bin-op (quote binary-+)) (equal bin-op (quote binary-*)))
...">bag-terms</a>
    <a class="sym-link local-def" href="#def-subtract-leaf" data-sym="SUBTRACT-LEAF" title="(defun subtract-leaf (leaf leaves)
  (declare (xargs :guard (true-listp leaves)))
  (cond ((endp leaves) (mv nil nil))
        ((equal leaf (car leaves)) (mv t (cdr leaves)))
        (t
...">subtract-leaf</a>
    <a class="sym-link local-def" href="#def-subtract-bag" data-sym="SUBTRACT-BAG" title="(defun subtract-bag (bag leaves)
  (declare (xargs :guard (and (true-listp bag) (true-listp leaves))))
  (cond ((endp bag) (mv t leaves))
        ((endp (cdr bag)) (subtract-leaf (car bag) leaves))
        (t
...">subtract-bag</a>
    <a class="sym-link local-def" href="#def-collect-bags-intp" data-sym="COLLECT-BAGS-INTP" title="(defun collect-bags-intp (leaves intp-bags)
  (declare
   (xargs :guard (and (true-listp leaves) (true-list-listp intp-bags))))
  (cond ((endp leaves) (mv t nil)) ((endp intp-bags) (mv nil nil))
        (t
...">collect-bags-intp</a>
    <a class="sym-link local-def" href="#def-collect-bags-non-intp" data-sym="COLLECT-BAGS-NON-INTP" title="(defun collect-bags-non-intp (leaves intp-bags non-intp-bags)
  (declare
   (xargs :guard
    (and (true-listp leaves) (true-list-listp intp-bags)
         (true-list-listp non-intp-bags))))
...">collect-bags-non-intp</a>
    <a class="sym-link local-def" href="#def-collect-bags" data-sym="COLLECT-BAGS" title="(defun collect-bags (leaves intp-bags non-intp-bags bin-op)
  (declare
   (xargs :guard
    (and (true-listp leaves) (true-list-listp intp-bags)
         (true-list-listp non-intp-bags))))
...">collect-bags</a>
    <a class="sym-link local-def" href="#def-meta-integerp" data-sym="META-INTEGERP" title="(defun meta-integerp (term mfc state)
  (declare (xargs :guard (pseudo-termp term)))
  (if (eq (fn-symb term) &#39;integerp)
      (let ((bin-op (fn-symb (fargn term 1))))
        (if (and (member-eq bin-op &#39;(binary-+ binary-*))
...">meta-integerp</a>))</pre>
  </div>

<div class="form-block in-theory" id="form-27" typeof="Code">
    <div class="form-header"><span class="form-type">in-theory</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="../../../axioms.html#def-in-theory" data-sym="IN-THEORY">in-theory</a> (disable <a class="sym-link local-def" href="#def-intp-_2B" data-sym="INTP-+" title="(defun intp-+ (x y)
  (declare (xargs :guard (and (acl2-numberp x) (acl2-numberp y))))
  (+ x y))">intp-+</a> <a class="sym-link local-def" href="#def-intp-_2A" data-sym="INTP-*" title="(defun intp-* (x y)
  (declare (xargs :guard (and (acl2-numberp x) (acl2-numberp y))))
  (* x y))">intp-*</a>))</pre>
  </div>


  </main>
  
<script>
// ACL2 Book HTML Documentation - Interactive Features
// Generated by cert2 - build2 system

// State
let activeFilter = null;
let activePartFilter = null;
let activeNameFilter = null;
let currentFontSize = 14;

// Theme management
function getStoredTheme() {
  return localStorage.getItem('acl2-theme') || 'dark';
}

function setTheme(theme) {
  if (theme === 'light') {
    document.documentElement.setAttribute('data-theme', 'light');
    document.getElementById('theme-toggle').textContent = '🌙';
  } else {
    document.documentElement.removeAttribute('data-theme');
    document.getElementById('theme-toggle').textContent = '☀️';
  }
  localStorage.setItem('acl2-theme', theme);
}

function toggleTheme() {
  const current = getStoredTheme();
  setTheme(current === 'dark' ? 'light' : 'dark');
}

// Font size management
function getStoredFontSize() {
  return parseInt(localStorage.getItem('acl2-fontsize') || '14', 10);
}

function setFontSize(size) {
  size = Math.max(10, Math.min(24, size)); // Clamp between 10-24
  currentFontSize = size;
  document.body.style.fontSize = size + 'px';
  localStorage.setItem('acl2-fontsize', size.toString());
}

function increaseFontSize() {
  setFontSize(currentFontSize + 2);
}

function decreaseFontSize() {
  setFontSize(currentFontSize - 2);
}

// Get all form blocks
function getFormBlocks() {
  return document.querySelectorAll('.form-block');
}

// Clear all filters
function clearFilter() {
  activeFilter = null;
  activePartFilter = null;
  activeNameFilter = null;
  getFormBlocks().forEach(b => {
    b.classList.remove('hidden', 'dimmed');
  });
  document.querySelectorAll('.part-btn').forEach(b => b.classList.remove('active'));
  const status = document.querySelector('.filter-status');
  status.classList.remove('active');
  // Slide name filter back to original position
  document.querySelector('.controls-left').style.transform = '';
  // Clear the name filter input
  const nameInput = document.getElementById('name-filter');
  if (nameInput) nameInput.value = '';
}

// Show filter status and slide name filter right
function showFilterStatus(text) {
  const status = document.querySelector('.filter-status');
  status.classList.add('active');
  status.querySelector('.filter-text').textContent = text;
  // Slide name filter to the right to make room
  setTimeout(() => {
    const statusWidth = status.offsetWidth;
    document.querySelector('.controls-left').style.transform = `translateX(${statusWidth + 15}px)`;
  }, 10);
}

// Filter to show only forms that define or reference a symbol
function filterBySymbol(symName, showUsedBy) {
  clearFilter();
  activeFilter = symName;
  
  const blocks = getFormBlocks();
  let visibleCount = 0;
  
  blocks.forEach(block => {
    const definesName = block.dataset.defines;
    const references = (block.dataset.references || '').split(',');
    const usedBy = (block.dataset.usedBy || '').split(',');
    
    let show = false;
    if (showUsedBy) {
      // Show forms that USE this symbol
      show = references.includes(symName) || definesName === symName;
    } else {
      // Show forms that this symbol USES
      show = usedBy.includes(symName) || definesName === symName;
    }
    
    if (show) {
      block.classList.remove('hidden');
      visibleCount++;
    } else {
      block.classList.add('hidden');
    }
  });
  
  // Update status
  showFilterStatus(`Filtering by: ${symName} (${visibleCount} items)`);
}

// Filter by defthm part (term, hints, rule-classes, etc.)
function filterByPart(formId, partName) {
  clearFilter();
  activePartFilter = { formId, partName };
  
  // Get the part's referenced symbols
  // data-part-term becomes dataset.partTerm, data-part-hints becomes dataset.partHints, etc.
  const block = document.getElementById(formId);
  const datasetKey = 'part' + partName.charAt(0).toUpperCase() + partName.slice(1).replace(/-([a-z])/g, (g) => g[1].toUpperCase());
  const partData = block.dataset[datasetKey];
  if (!partData) return;
  
  const partSyms = partData.split(',').filter(s => s);
  
  // Highlight the button
  block.querySelector(`.part-btn[data-part="${partName}"]`).classList.add('active');
  
  // Hide forms not referenced by this part
  getFormBlocks().forEach(b => {
    const definesName = b.dataset.defines;
    if (b.id === formId || partSyms.includes(definesName)) {
      b.classList.remove('hidden');
    } else {
      b.classList.add('hidden');
    }
  });
  
  // Update status
  showFilterStatus(`Filtering ${formId} :${partName} (${partSyms.length} references)`);
}

// Filter by name (substring or regex)
function filterByName(pattern, useRegex) {
  // Clear other filters but keep the input value
  activeFilter = null;
  activePartFilter = null;
  document.querySelectorAll('.part-btn').forEach(b => b.classList.remove('active'));
  
  if (!pattern || pattern.trim() === '') {
    // Empty pattern - show all
    activeNameFilter = null;
    getFormBlocks().forEach(b => b.classList.remove('hidden'));
    const status = document.querySelector('.filter-status');
    status.classList.remove('active');
    document.querySelector('.controls-left').style.transform = '';
    return;
  }
  
  activeNameFilter = pattern;
  
  let matcher;
  let isValidRegex = true;
  
  if (useRegex) {
    try {
      matcher = new RegExp(pattern, 'i');
    } catch (e) {
      // Invalid regex - show error in status and don't filter
      showFilterStatus(`Invalid regex: ${e.message}`);
      return;
    }
  } else {
    // Plain substring match (case-insensitive)
    const lowerPattern = pattern.toLowerCase();
    matcher = { test: (s) => s.toLowerCase().includes(lowerPattern) };
  }
  
  const blocks = getFormBlocks();
  let visibleCount = 0;
  
  blocks.forEach(block => {
    const definesName = block.dataset.defines || '';
    if (matcher.test(definesName)) {
      block.classList.remove('hidden');
      visibleCount++;
    } else {
      block.classList.add('hidden');
    }
  });
  
  // Update status
  const modeText = useRegex ? 'regex' : 'name';
  showFilterStatus(`Filtering by ${modeText}: "${pattern}" (${visibleCount} matches)`);
}

// Click on a name to show what references it
function handleNameClick(symName) {
  if (activeFilter === symName) {
    clearFilter();
  } else {
    filterBySymbol(symName, true);
  }
}

// Navigate to a definition (same file or different)
function navigateTo(symName, file) {
  if (file) {
    // External file - navigate
    window.location.href = file + '.html#def-' + symName.toLowerCase();
  } else {
    // Same file - scroll
    const target = document.getElementById('def-' + symName.toLowerCase());
    if (target) {
      target.scrollIntoView({ behavior: 'smooth', block: 'center' });
      target.classList.add('highlight');
      setTimeout(() => target.classList.remove('highlight'), 400);
    }
  }
}

// Initialize
document.addEventListener('DOMContentLoaded', () => {
  // Part buttons
  document.querySelectorAll('.part-btn').forEach(btn => {
    btn.addEventListener('click', (e) => {
      e.stopPropagation();
      const formId = btn.closest('.form-block').id;
      const partName = btn.dataset.part;
      if (activePartFilter && activePartFilter.formId === formId && 
          activePartFilter.partName === partName) {
        clearFilter();
      } else {
        filterByPart(formId, partName);
      }
    });
  });
  
  // Clear filter button
  document.querySelector('.clear-filter').addEventListener('click', clearFilter);
  
  // Name filter input
  const nameFilter = document.getElementById('name-filter');
  const regexToggle = document.getElementById('regex-toggle');
  
  let filterTimeout = null;
  nameFilter.addEventListener('input', () => {
    // Debounce the filter to avoid excessive updates while typing
    clearTimeout(filterTimeout);
    filterTimeout = setTimeout(() => {
      filterByName(nameFilter.value, regexToggle.checked);
    }, 150);
  });
  
  // Re-filter when regex toggle changes
  regexToggle.addEventListener('change', () => {
    if (nameFilter.value) {
      filterByName(nameFilter.value, regexToggle.checked);
    }
  });
  
  // Allow Escape key to clear filter when in input
  nameFilter.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
      clearFilter();
      nameFilter.blur();
    }
  });
  
  // Symbol references (old span-based refs)
  document.querySelectorAll('.sym-ref').forEach(ref => {
    ref.addEventListener('click', (e) => {
      e.stopPropagation();
      const sym = ref.dataset.sym;
      const file = ref.dataset.file;
      if (file) {
        navigateTo(sym, file);
      } else {
        handleNameClick(sym);
      }
    });
  });
  
  // Symbol links (new anchor-based links)
  // These use standard <a> tags so navigation happens automatically
  // But we need to clear filters if target would be hidden
  document.querySelectorAll('.sym-link').forEach(link => {
    link.addEventListener('click', (e) => {
      const href = link.getAttribute('href');
      if (href && href.startsWith('#')) {
        // Local link - check if target is hidden by filter
        const targetId = href.substring(1);
        const target = document.getElementById(targetId);
        if (target) {
          // If target is hidden, clear the filter first
          if (target.classList.contains('hidden')) {
            clearFilter();
          }
          // Add highlight effect after a short delay
          setTimeout(() => {
            target.classList.add('highlight');
            setTimeout(() => target.classList.remove('highlight'), 400);
          }, 100);
        }
      }
      // For external links, default behavior handles navigation
    });
  });
  
  // Form names (show what uses them)
  document.querySelectorAll('.form-name').forEach(name => {
    name.addEventListener('click', (e) => {
      handleNameClick(name.dataset.sym);
    });
  });
  
  // Handle hash navigation (when arriving at page with #anchor)
  if (window.location.hash) {
    const target = document.querySelector(window.location.hash);
    if (target) {
      setTimeout(() => {
        target.scrollIntoView({ behavior: 'smooth', block: 'center' });
        target.classList.add('highlight');
        setTimeout(() => target.classList.remove('highlight'), 400);
      }, 200);
    }
  }
  
  // Initialize theme from storage
  setTheme(getStoredTheme());
  
  // Initialize font size from storage
  currentFontSize = getStoredFontSize();
  setFontSize(currentFontSize);
  
  // Theme toggle button
  document.getElementById('theme-toggle').addEventListener('click', toggleTheme);
  
  // Font size buttons
  document.getElementById('font-larger').addEventListener('click', increaseFontSize);
  document.getElementById('font-smaller').addEventListener('click', decreaseFontSize);
});

</script>

</body>
</html>