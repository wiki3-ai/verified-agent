<!DOCTYPE html>
<html lang="en" vocab="http://schema.org/" typeof="SoftwareSourceCode">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>acl2 - ACL2 Book</title>
  <meta property="name" content="acl2">
  <meta property="programmingLanguage" content="ACL2">
  
<style>
/* ACL2 Book HTML Documentation Styles */
/* Generated by cert2 - build2 system */

/* Dark theme (default) */
:root {
  --bg: #1e1e2e;
  --fg: #cdd6f4;
  --comment: #6c7086;
  --keyword: #cba6f7;
  --string: #a6e3a1;
  --function: #89b4fa;
  --type: #f9e2af;
  --link: #89dceb;
  --link-hover: #f5c2e7;
  --highlight: rgba(137, 180, 250, 0.2);
  --border: #313244;
  --block-bg: rgba(49, 50, 68, 0.5);
  --btn-bg: #313244;
  --btn-hover: rgba(137, 180, 250, 0.2);
}

/* Light theme */
[data-theme="light"] {
  --bg: #eff1f5;
  --fg: #4c4f69;
  --comment: #6c6f85;
  --keyword: #8839ef;
  --string: #40a02b;
  --function: #1e66f5;
  --type: #df8e1d;
  --link: #04a5e5;
  --link-hover: #ea76cb;
  --highlight: rgba(30, 102, 245, 0.15);
  --border: #ccd0da;
  --block-bg: rgba(204, 208, 218, 0.3);
  --btn-bg: #ccd0da;
  --btn-hover: rgba(30, 102, 245, 0.15);
}

body {
  font-family: 'JetBrains Mono', 'Fira Code', monospace;
  background: var(--bg);
  color: var(--fg);
  margin: 0;
  padding: 20px;
  line-height: 1.6;
  font-size: 14px;
  transition: background 0.1s, color 0.1s;
}

/* Controls toolbar */
.controls-left {
  position: fixed;
  top: 10px;
  left: 20px;
  display: flex;
  gap: 8px;
  align-items: center;
  z-index: 200;
  transition: transform 0.1s ease;
}

.controls-right {
  position: fixed;
  top: 10px;
  right: 20px;
  display: flex;
  gap: 8px;
  align-items: center;
  z-index: 200;
}

.control-btn {
  padding: 6px 12px;
  background: var(--btn-bg);
  border: 1px solid var(--border);
  border-radius: 4px;
  color: var(--fg);
  cursor: pointer;
  font-family: inherit;
  font-size: 14px;
  transition: all 0.1s;
}

.control-btn:hover {
  background: var(--btn-hover);
  border-color: var(--link);
}

.name-filter {
  padding: 6px 10px;
  background: var(--btn-bg);
  border: 1px solid var(--border);
  border-radius: 4px;
  color: var(--fg);
  font-family: inherit;
  font-size: 13px;
  width: 150px;
  transition: all 0.1s;
}

.name-filter:focus {
  outline: none;
  border-color: var(--link);
  width: 200px;
}

.name-filter::placeholder {
  color: var(--comment);
}

.regex-label {
  display: flex;
  align-items: center;
  gap: 4px;
  color: var(--comment);
  font-size: 12px;
  cursor: pointer;
}

.regex-label input {
  cursor: pointer;
}

.book-header {
  border-bottom: 2px solid var(--border);
  padding-bottom: 20px;
  margin-bottom: 20px;
}

.book-header h1 {
  color: var(--keyword);
  margin: 0;
}

.book-header .path {
  color: var(--comment);
  font-size: 0.9em;
}

.book-header .path .source-link {
  color: var(--comment);
  text-decoration: none;
}

.book-header .path .source-link:hover {
  color: var(--link);
  text-decoration: underline;
}

.form-block {
  margin: 10px 0;
  padding: 15px;
  background: var(--block-bg);
  border-radius: 8px;
  border-left: 3px solid var(--border);
}

.form-block.theorem { border-left-color: var(--keyword); }
.form-block.function { border-left-color: var(--function); }
.form-block.macro { border-left-color: var(--type); }
.form-block.include-book { border-left-color: var(--string); }

.form-block.hidden { display: none; }
.form-block.dimmed { opacity: 0.3; }

.form-block.highlight {
  animation: highlight-pulse 0.4s ease-out;
}

@keyframes highlight-pulse {
  0% { background: var(--highlight); box-shadow: 0 0 20px var(--link); }
  100% { background: rgba(49, 50, 68, 0.5); box-shadow: none; }
}

.form-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
}

.form-name {
  color: var(--function);
  font-weight: bold;
  cursor: pointer;
}

.form-name:hover {
  color: var(--link-hover);
  text-decoration: underline;
}

.form-type {
  color: var(--comment);
  font-size: 0.85em;
}

pre.code {
  margin: 0;
  overflow-x: auto;
  white-space: pre-wrap;
  word-wrap: break-word;
}

.sym-ref {
  color: var(--link);
  cursor: pointer;
  border-radius: 2px;
}

.sym-ref:hover {
  background: var(--highlight);
  color: var(--link-hover);
}

.sym-ref.local-def { color: var(--function); font-weight: bold; }
.sym-ref.external { color: var(--type); }

/* Symbol links (clickable hyperlinks) */
.sym-link {
  color: var(--link);
  text-decoration: none;
  border-radius: 2px;
  cursor: pointer;
  position: relative;
}

.sym-link:hover {
  background: var(--highlight);
  color: var(--link-hover);
  text-decoration: underline;
}

.sym-link.local-def {
  color: var(--function);
  font-weight: bold;
}

.sym-link.external {
  color: var(--type);
}

/* Tooltips using title attribute with custom styling */
.sym-link[title] {
  /* Browser will show title on hover */
}

/* Syntax highlighting in code blocks */
.keyword {
  color: var(--keyword);
}

.string {
  color: var(--string);
}

.number {
  color: #f77524; /* orange */
}

/* Include-book path links */
.include-path {
  color: var(--string);
  text-decoration: none;
  border-radius: 2px;
  cursor: pointer;
}

.include-path:hover {
  background: var(--highlight);
  color: var(--link-hover);
  text-decoration: underline;
}

/* Part buttons for defthm */
.part-buttons {
  display: flex;
  gap: 5px;
  margin: 10px 0;
  flex-wrap: wrap;
}

.part-btn {
  padding: 4px 10px;
  background: var(--border);
  border: 1px solid var(--comment);
  border-radius: 4px;
  color: var(--fg);
  cursor: pointer;
  font-size: 0.85em;
  font-family: inherit;
}

.part-btn:hover {
  background: var(--highlight);
  border-color: var(--link);
}

.part-btn.active {
  background: var(--link);
  color: var(--bg);
  border-color: var(--link);
}

/* References panel */
.refs-panel {
  margin-top: 10px;
  padding: 10px;
  background: rgba(0,0,0,0.2);
  border-radius: 4px;
  display: none;
}

.refs-panel.visible { display: block; }

.refs-panel h4 {
  margin: 0 0 5px 0;
  color: var(--comment);
  font-size: 0.9em;
}

.refs-list {
  display: flex;
  flex-wrap: wrap;
  gap: 5px;
}

/* Included books section */
.includes-section {
  margin-bottom: 20px;
  padding: 15px;
  background: rgba(49, 50, 68, 0.3);
  border-radius: 8px;
  border: 1px solid var(--border);
}

.includes-section h2 {
  margin: 0 0 10px 0;
  color: var(--comment);
  font-size: 1em;
  font-weight: normal;
}

.includes-list {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.include-link {
  padding: 6px 12px;
  background: var(--border);
  border-radius: 4px;
  color: var(--link);
  text-decoration: none;
  font-size: 0.9em;
  transition: all 0.1s;
}

.include-link:hover {
  background: var(--highlight);
  color: var(--link-hover);
}

.include-link.local {
  border-left: 2px solid var(--comment);
}

/* Filter status */
.filter-status {
  position: fixed;
  top: 10px;
  left: 20px;
  background: var(--bg);
  padding: 6px 12px;
  border: 1px solid var(--border);
  border-radius: 4px;
  z-index: 201;
  display: none;
  align-items: center;
  gap: 10px;
}

.filter-status.active {
  display: flex;
  align-items: center;
  gap: 10px;
}

.clear-filter {
  padding: 5px 15px;
  background: var(--keyword);
  color: var(--bg);
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

/* RDFa vocab indicator */
[vocab] { /* semantic web annotations present */ }

</style>

</head>
<body>
  <div class="controls-left">
    <input type="text" id="name-filter" class="name-filter" placeholder="Filter by name..." title="Filter definitions by name">
    <label class="regex-label"><input type="checkbox" id="regex-toggle"> regex</label>
  </div>

  <div class="controls-right">
    <button class="control-btn" id="theme-toggle" title="Toggle light/dark theme">‚òÄÔ∏è</button>
    <button class="control-btn" id="font-smaller" title="Decrease font size">A-</button>
    <button class="control-btn" id="font-larger" title="Increase font size">A+</button>
  </div>

  <div class="filter-status">
    <span class="filter-text">Filtering...</span>
    <button class="clear-filter">Clear Filter</button>
  </div>
  
  <div class="book-header">
    <h1 property="name">acl2</h1>
    <div class="path"><a href="acl2.lisp" class="source-link">acl2</a></div>
  </div>
  
  <main property="text">
<div class="form-block other" id="form-0" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(push <span class="keyword">:acl2</span> *features*)</pre>
  </div>

<div class="form-block other" id="form-1" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(push <span class="keyword">:cltl2</span> *features*)</pre>
  </div>

<div class="form-block other" id="form-2" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-in-package" data-sym="IN-PACKAGE">in-package</a> <span class="string">"COMMON-LISP-USER"</span>)</pre>
  </div>

<div class="form-block other" id="form-3" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defvar *acl2-compiler-enabled*)</pre>
  </div>

<div class="form-block other" id="form-4" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defvar *acl2-optimize-form*
  `(optimize (compilation-speed <span class="number">0</span>)
    (inhibit-warnings <span class="number">3</span>)
    (speed <span class="number">3</span>)
    (space ,(LET ((COMMON-LISP-USER::OUR-SPACE
        (IF (BOUNDP &#39;COMMON-LISP-USER::*ACL2-SPACE*)
            (SYMBOL-VALUE &#39;COMMON-LISP-USER::*ACL2-SPACE*)
            NIL)))
   (IF COMMON-LISP-USER::OUR-SPACE
       (PROGN
        (FORMAT T &quot;Note: Setting SPACE to ~s.&quot; COMMON-LISP-USER::OUR-SPACE)
        COMMON-LISP-USER::OUR-SPACE)
       1)))
    (safety ,(LET ((COMMON-LISP-USER::OUR-SAFETY
        (IF (BOUNDP &#39;COMMON-LISP-USER::*ACL2-SAFETY*)
            (SYMBOL-VALUE &#39;COMMON-LISP-USER::*ACL2-SAFETY*)
            NIL)))
   (IF COMMON-LISP-USER::OUR-SAFETY
       (PROGN
        (FORMAT T &quot;Note: Setting SAFETY to ~s.&quot; COMMON-LISP-USER::OUR-SAFETY)
        COMMON-LISP-USER::OUR-SAFETY)
       0)))))</pre>
  </div>

<div class="form-block other" id="form-5" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(proclaim *acl2-optimize-form*)</pre>
  </div>

<div class="form-block function" id="def-acl2-set-character-encoding" data-defines="ACL2-SET-CHARACTER-ENCODING" data-references="*DEFAULT-C-STRING-EXTERNAL-FORMAT*,*DEFAULT-EXTERNAL-FORMAT*,SETQ,DEFUN" data-part-name="ACL2-SET-CHARACTER-ENCODING" data-part-body="*DEFAULT-EXTERNAL-FORMAT*,SETQ" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ACL2-SET-CHARACTER-ENCODING">acl2-set-character-encoding</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-acl2-set-character-encoding" data-sym="ACL2-SET-CHARACTER-ENCODING" title="(defun common-lisp-user::acl2-set-character-encoding ()
  (setq sb-ext:*default-external-format* :iso-8859-1)
  (setq sb-ext:*default-c-string-external-format* :iso-8859-1))">acl2-set-character-encoding</a>
  nil
  (setq *default-external-format* <span class="keyword">:iso-8859-1</span>)
  (setq *default-c-string-external-format* <span class="keyword">:iso-8859-1</span>))</pre>
  </div>

<div class="form-block other" id="form-7" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-acl2-set-character-encoding" data-sym="ACL2-SET-CHARACTER-ENCODING" title="(defun common-lisp-user::acl2-set-character-encoding ()
  (setq sb-ext:*default-external-format* :iso-8859-1)
  (setq sb-ext:*default-c-string-external-format* :iso-8859-1))">acl2-set-character-encoding</a>)</pre>
  </div>

<div class="form-block other" id="form-8" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(setq *read-default-float-format* 'double-float)</pre>
  </div>

<div class="form-block other" id="form-9" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(let ((*print-base* <span class="number">16</span>) (*print-case* <span class="keyword">:downcase</span>))
  (let ((tmp (with-output-to-string (s)
         (princ <span class="number">10</span> s))))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((equal tmp <span class="string">"A"</span>))
      ((equal tmp <span class="string">"a"</span>) (format <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
          <span class="string">"~%Note: Numbers in base 16 will be printed using a ~
                    special-purpose~%      ACL2 function, ~s."</span>
          'print-number-base-16-upcase-digits)
        (push <span class="keyword">:acl2-print-number-base-16-upcase-digits</span> *features*))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (error <span class="string">"Surprising result for (princ 10 s) in base 16: ~s"</span>
          tmp)))))</pre>
  </div>

<div class="form-block other" id="form-10" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(setq *compile-verbose* nil)</pre>
  </div>

<div class="form-block other" id="form-11" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(setq *compile-print* nil)</pre>
  </div>

<div class="form-block other" id="form-12" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(unless (<a class="sym-link system" href="axioms.html#def-_3D" data-sym="=">=</a> (char-code (<a class="sym-link system" href="axioms.html#def-char" data-sym="CHAR">char</a> (<a class="sym-link system" href="axioms.html#def-string-downcase" data-sym="STRING-DOWNCASE">string-downcase</a> (coerce (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> #\¿) '<a class="sym-link system" href="axioms.html#def-string" data-sym="STRING">string</a>))
        <span class="number">0</span>))
    (char-code (<a class="sym-link system" href="axioms.html#def-char-downcase" data-sym="CHAR-DOWNCASE">char-downcase</a> #\¿)))
  (defvar *old-string-downcase*
    (symbol-function '<a class="sym-link system" href="axioms.html#def-string-downcase" data-sym="STRING-DOWNCASE">string-downcase</a>))
  (<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> string-downcase-sbcl
    (x &amp;key
      (start <span class="number">0</span>)
      (end nil))
    (declare (special *old-string-downcase*))
    (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((x (<a class="sym-link system" href="axioms.html#def-string" data-sym="STRING">string</a> x)) (p (<a class="sym-link system" href="axioms.html#def-position" data-sym="POSITION">position</a> #\¿
            x
            <span class="keyword">:start</span> start
            <span class="keyword">:end</span> end)))
      (if p
        (if end
          (<a class="sym-link system" href="axioms.html#def-concatenate" data-sym="CONCATENATE">concatenate</a> '<a class="sym-link system" href="axioms.html#def-string" data-sym="STRING">string</a>
            (<a class="sym-link system" href="axioms.html#def-subseq" data-sym="SUBSEQ">subseq</a> x <span class="number">0</span> p)
            (coerce (loop for
                i
                from
                p
                to
                (<a class="sym-link system" href="axioms.html#def-1-" data-sym="1-">1-</a> end)
                collect
                (<a class="sym-link system" href="axioms.html#def-char-downcase" data-sym="CHAR-DOWNCASE">char-downcase</a> (<a class="sym-link system" href="axioms.html#def-char" data-sym="CHAR">char</a> x i)))
              '<a class="sym-link system" href="axioms.html#def-string" data-sym="STRING">string</a>)
            (<a class="sym-link system" href="axioms.html#def-subseq" data-sym="SUBSEQ">subseq</a> x
              end
              (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> x)))
          (<a class="sym-link system" href="axioms.html#def-concatenate" data-sym="CONCATENATE">concatenate</a> '<a class="sym-link system" href="axioms.html#def-string" data-sym="STRING">string</a>
            (<a class="sym-link system" href="axioms.html#def-subseq" data-sym="SUBSEQ">subseq</a> x <span class="number">0</span> p)
            (coerce (loop for
                i
                from
                p
                to
                (<a class="sym-link system" href="axioms.html#def-1-" data-sym="1-">1-</a> (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> x))
                collect
                (<a class="sym-link system" href="axioms.html#def-char-downcase" data-sym="CHAR-DOWNCASE">char-downcase</a> (<a class="sym-link system" href="axioms.html#def-char" data-sym="CHAR">char</a> x i)))
              '<a class="sym-link system" href="axioms.html#def-string" data-sym="STRING">string</a>)))
        (funcall *old-string-downcase*
          x
          <span class="keyword">:start</span> start
          <span class="keyword">:end</span> end))))
  (without-package-locks (<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link system" href="axioms.html#def-string-downcase" data-sym="STRING-DOWNCASE">string-downcase</a>
      (x &amp;key
        (start <span class="number">0</span>)
        (end nil))
      (string-downcase-sbcl x
        <span class="keyword">:start</span> start
        <span class="keyword">:end</span> end))))</pre>
  </div>

<div class="form-block other" id="form-13" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(let ((lisp-pkg (find-package <span class="string">"LISP"</span>)))
  (if lisp-pkg
    (let ((cl-pkg (find-package <span class="string">"COMMON-LISP"</span>)))
      (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> cl-pkg
           (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> cl-pkg lisp-pkg)))
        (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (when cl-pkg
            (error <span class="string">"This Lisp is unsuitable for ACL2, because the ~
                    COMMON-LISP~% package is defined but is not the LISP ~
                    package."</span>))
          (let ((old-name (package-name lisp-pkg)) (old-nicknames (package-nicknames lisp-pkg)))
            (rename-package <span class="string">"LISP"</span>
              old-name
              (cons <span class="string">"COMMON-LISP"</span> old-nicknames))))))))</pre>
  </div>

<div class="form-block other" id="form-14" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(eval-when (<span class="keyword">:compile-toplevel</span>)
  (error <span class="string">"The file acl2.lisp should never be compiled."</span>))</pre>
  </div>

<div class="form-block other" id="form-15" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(dolist (p (list-all-packages))
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((equal <span class="number">4</span>
       (<a class="sym-link system" href="axioms.html#def-string_3C" data-sym="STRING&lt;">string&lt;</a> <span class="string">"ACL2"</span> (package-name p))) (format <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
        <span class="string">"~%~%Warning:  There is already a package with the ~
                 name ~a. ~%The ACL2 implementation depends upon ~
                 having complete knowledge of ~%and control over any ~
                 package whose name begins with the ~%four letters ``ACL2&#39;&#39;, ~
                 so ACL2 may not work in this Lisp."</span>
        (package-name p))
      (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((package-use-list p) (format <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
            <span class="string">"~%~%Warning:  The package with name ~a ~
                   USES the packages in the list ~a.  ACL2 will not work ~
                   in state of affairs."</span>
            (package-name p)
            (package-use-list p)))))))</pre>
  </div>

<div class="form-block other" id="form-16" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (find-package <span class="string">"ACL2"</span>) (make-package <span class="string">"ACL2"</span> <span class="keyword">:use</span> nil))</pre>
  </div>

<div class="form-block other" id="form-17" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(let ((inv <span class="string">"ACL2_INVISIBLE"</span>))
  (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (find-package inv)
    (make-package inv <span class="keyword">:use</span> nil)))</pre>
  </div>

<div class="form-block other" id="form-18" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defconstant *the-live-state*
  '|The Live State Itself|)</pre>
  </div>

<div class="form-block other" id="form-19" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defvar *compiling-certified-file* nil)</pre>
  </div>

<div class="form-block other" id="form-20" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defparameter *safe-mode-verified-p* nil)</pre>
  </div>

<div class="form-block other" id="form-21" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(declaim (ftype (function (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>) (values <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)) large-consp))</pre>
  </div>

<div class="form-block function" id="def-elided-defconst-index" data-defines="ELIDED-DEFCONST-INDEX" data-references="*ELIDED-DEFCONST*,SYMBOL-VALUE,X,LET,CADR,QUOTE,CAR,EQ,CDDR,NULL,CDR,CONSP,AND,TERM,DEFUN" data-part-name="ELIDED-DEFCONST-INDEX" data-part-args="TERM" data-part-body="*ELIDED-DEFCONST*,SYMBOL-VALUE,X,LET,CADR,QUOTE,CAR,EQ,CDDR,NULL,CDR,TERM,CONSP,AND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ELIDED-DEFCONST-INDEX">elided-defconst-index</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-elided-defconst-index" data-sym="ELIDED-DEFCONST-INDEX" title="(defun elided-defconst-index (common-lisp-user::term)
  (and (consp common-lisp-user::term) (consp (cdr common-lisp-user::term))
       (null (cddr common-lisp-user::term))
       (eq (car common-lisp-user::term) &#39;cadr)
       (let ((common-lisp-user::x (cadr common-lisp-user::term)))
...">elided-defconst-index</a>
  (term)
  (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (consp term)
    (consp (cdr term))
    (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> (<a class="sym-link system" href="axioms.html#def-cddr" data-sym="CDDR">cddr</a> term))
    (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (car term) '<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a>)
    (let ((x (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> term)))
      (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (consp x)
        (consp (cdr x))
        (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> (<a class="sym-link system" href="axioms.html#def-cddr" data-sym="CDDR">cddr</a> x))
        (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (car x)
          (symbol-value '*elided-defconst*))
        (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> x)))))</pre>
  </div>

<div class="form-block other" id="form-23" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defvar *hcomp-elided-defconst-alist* nil)</pre>
  </div>

<div class="form-block function" id="def-elided-defconst" data-defines="ELIDED-DEFCONST" data-references="ERROR,CDDR,CADR,EQ,CAR,EQL,CONSP,AND,IF,*HCOMP-ELIDED-DEFCONST-ALIST*,POP,PAIR,LET,INDEX,NAME,DEFUN" data-part-name="ELIDED-DEFCONST" data-part-args="INDEX,NAME" data-part-body="ERROR,CDDR,NAME,CADR,EQ,INDEX,CAR,EQL,CONSP,AND,IF,*HCOMP-ELIDED-DEFCONST-ALIST*,POP,PAIR,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ELIDED-DEFCONST">elided-defconst</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-elided-defconst" data-sym="ELIDED-DEFCONST" title="(defun elided-defconst (common-lisp-user::name common-lisp-user::index)
  (let ((common-lisp-user::pair (pop *hcomp-elided-defconst-alist*)))
    (if (and (consp common-lisp-user::pair)
             (eql (car common-lisp-user::pair) common-lisp-user::index)
             (eq (cadr common-lisp-user::pair) common-lisp-user::name))
...">elided-defconst</a>
  (name index)
  (let ((pair (pop *hcomp-elided-defconst-alist*)))
    (if (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (consp pair)
        (<a class="sym-link system" href="axioms.html#def-eql" data-sym="EQL">eql</a> (car pair) index)
        (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> pair) name))
      (<a class="sym-link system" href="axioms.html#def-cddr" data-sym="CDDR">cddr</a> pair)
      (error <span class="string">"An unexpected error was encountered when trying to obtain a ~%~
              value for the constant, ~s.  If you have not deliberately ~%~
              messed with write-dates of files, please report this error to ~%~
              the ACL2 implementors."</span>
        name))))</pre>
  </div>

<div class="form-block macro" id="def-defconst" data-defines="DEFCONST" data-references="*THE-LIVE-STATE*,RAW-MODE-P,DEFCONST-REDECLARE-ERROR,QFUNCALL,EQUAL,OR,CDR,ASSERT,CAR,EQ,CONSP,AND,REDUNDANT-RAW-LISP-DISCRIMINATOR,GET,SYMBOL-VALUE,*COMPILING-CERTIFIED-FILE*,QUOTE,BOUNDP,COND,T,*SAFE-MODE-VERIFIED-P*,DEFPARAMETER,QUASIQUOTE,GENSYM,DISC,LET,IGNORE,DECLARE,RST,&REST,TERM,NAME,DEFMACRO" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFCONST">defconst</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-defconst" data-sym="DEFCONST" title="(defmacro defconst
          (common-lisp-user::name common-lisp-user::term
           &amp;rest common-lisp-user::rst)
  (declare (ignore common-lisp-user::rst))
  (let ((common-lisp-user::disc (gensym)))
...">defconst</a>
  (name term
    &amp;rest
    rst)
  (declare (ignore rst))
  (let ((disc (gensym)))
    `(defparameter ,COMMON-LISP-USER::NAME
      (let ((*safe-mode-verified-p* <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>))
        (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((boundp ',COMMON-LISP-USER::NAME) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (*compiling-certified-file* (symbol-value ',COMMON-LISP-USER::NAME))
              (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((,COMMON-LISP-USER::DISC (get ',COMMON-LISP-USER::NAME
                       'redundant-raw-lisp-discriminator)))
                  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (consp ,COMMON-LISP-USER::DISC)
                       (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (car ,COMMON-LISP-USER::DISC) '<a class="sym-link local-def" href="#def-defconst" data-sym="DEFCONST" title="(defmacro defconst
          (common-lisp-user::name common-lisp-user::term
           &amp;rest common-lisp-user::rst)
  (declare (ignore common-lisp-user::rst))
  (let ((common-lisp-user::disc (gensym)))
...">defconst</a>)) (assert (consp (cdr ,COMMON-LISP-USER::DISC)))
                      (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (cdr (cdr ,COMMON-LISP-USER::DISC))
                             (symbol-value ',COMMON-LISP-USER::NAME))
                           (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> ,@(AND (NOT (ELIDED-DEFCONST-INDEX COMMON-LISP-USER::TERM))
       `((LET ((COMMON-LISP-USER::DISC ,COMMON-LISP-USER::DISC)
               (COMMON-LISP-USER::QTERM &#39;,COMMON-LISP-USER::TERM))
           (AND (FBOUNDP &#39;LARGE-CONSP)
                (NOT (LARGE-CONSP COMMON-LISP-USER::QTERM))
                (EQUAL (CAR (CDR COMMON-LISP-USER::DISC))
                       COMMON-LISP-USER::QTERM)))))
                             (equal (cdr (cdr ,COMMON-LISP-USER::DISC))
                               ,COMMON-LISP-USER::TERM))) (symbol-value ',COMMON-LISP-USER::NAME))
                        (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (qfuncall defconst-redeclare-error ',COMMON-LISP-USER::NAME))))
                    ((<a class="sym-link system" href="axioms.html#def-raw-mode-p" data-sym="RAW-MODE-P">raw-mode-p</a> *the-live-state*) ,COMMON-LISP-USER::TERM)
                    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (qfuncall defconst-redeclare-error ',COMMON-LISP-USER::NAME)))))))
          (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> ,(LET ((COMMON-LISP-USER::INDEX (ELIDED-DEFCONST-INDEX COMMON-LISP-USER::TERM)))
   (IF (NULL COMMON-LISP-USER::INDEX)
       `(LET* ((COMMON-LISP-USER::VAL ,COMMON-LISP-USER::TERM)
               (COMMON-LISP-USER::D
                (LIST* &#39;DEFCONST &#39;,COMMON-LISP-USER::TERM
                       COMMON-LISP-USER::VAL)))
          (SETF (GET &#39;,COMMON-LISP-USER::NAME
                     &#39;REDUNDANT-RAW-LISP-DISCRIMINATOR)
                  COMMON-LISP-USER::D)
          (CDR (CDR COMMON-LISP-USER::D)))
       `(LET* ((COMMON-LISP-USER::QVAL
                (ELIDED-DEFCONST &#39;,COMMON-LISP-USER::NAME
                                 ,COMMON-LISP-USER::INDEX))
               (COMMON-LISP-USER::VAL
                (PROGN
                 (ASSERT
                  (AND (CONSP COMMON-LISP-USER::QVAL)
                       (EQ (CAR COMMON-LISP-USER::QVAL) &#39;QUOTE)))
                 (CADR COMMON-LISP-USER::QVAL)))
               (COMMON-LISP-USER::D
                (LIST* &#39;DEFCONST COMMON-LISP-USER::QVAL COMMON-LISP-USER::VAL)))
          (SETF (GET &#39;,COMMON-LISP-USER::NAME
                     &#39;REDUNDANT-RAW-LISP-DISCRIMINATOR)
                  COMMON-LISP-USER::D)
          (CDR (CDR COMMON-LISP-USER::D)))))))))))</pre>
  </div>

<div class="form-block other" id="form-26" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defvar *copy-of-common-lisp-symbols-from-main-lisp-package*)</pre>
  </div>

<div class="form-block other" id="form-27" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defvar *copy-of-common-lisp-specials-and-constants*)</pre>
  </div>

<div class="form-block other" id="form-28" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defvar *copy-of-acl2-version*)</pre>
  </div>

<div class="form-block other" id="form-29" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defconstant *acl2-files*
  '(<span class="string">"serialize-raw"</span> <span class="string">"axioms"</span>
    <span class="string">"hons"</span>
    <span class="string">"hons-raw"</span>
    <span class="string">"basis-a"</span>
    <span class="string">"memoize"</span>
    <span class="string">"serialize"</span>
    <span class="string">"basis-b"</span>
    <span class="string">"parallel"</span>
    <span class="string">"memoize-raw"</span>
    <span class="string">"float-a"</span>
    <span class="string">"translate"</span>
    <span class="string">"type-set-a"</span>
    <span class="string">"linear-a"</span>
    <span class="string">"type-set-b"</span>
    <span class="string">"linear-b"</span>
    <span class="string">"non-linear"</span>
    <span class="string">"tau"</span>
    <span class="string">"rewrite"</span>
    <span class="string">"simplify"</span>
    <span class="string">"bdd"</span>
    <span class="string">"other-processes"</span>
    <span class="string">"induct"</span>
    <span class="string">"proof-builder-pkg"</span>
    <span class="string">"doc"</span>
    <span class="string">"history-management"</span>
    <span class="string">"prove"</span>
    <span class="string">"defuns"</span>
    <span class="string">"proof-builder-a"</span>
    <span class="string">"defthm"</span>
    <span class="string">"other-events"</span>
    <span class="string">"float-b"</span>
    <span class="string">"ld"</span>
    <span class="string">"proof-builder-b"</span>
    <span class="string">"apply-raw"</span>
    <span class="string">"interface-raw"</span>
    <span class="string">"float-raw"</span>
    <span class="string">"defpkgs"</span>
    <span class="string">"boot-strap-pass-2-a"</span>
    <span class="string">"apply-prim"</span>
    <span class="string">"apply-constraints"</span>
    <span class="string">"apply"</span>
    <span class="string">"boot-strap-pass-2-b"</span>)
  <span class="string">"*acl2-files* is the list of all the files necessary to build
ACL2 from scratch."</span>)</pre>
  </div>

<div class="form-block other" id="form-30" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(with-open-file (fl <span class="string">"axioms.lisp"</span> <span class="keyword">:direction</span> <span class="keyword">:input</span>)
  (let ((*package* (find-package <span class="string">"COMMON-LISP"</span>)))
    (read fl)
    (setq *copy-of-common-lisp-symbols-from-main-lisp-package*
      (eval (<a class="sym-link system" href="axioms.html#def-caddr" data-sym="CADDR">caddr</a> (read fl))))
    (import *copy-of-common-lisp-symbols-from-main-lisp-package*
      <span class="string">"ACL2"</span>)
    (setq *copy-of-acl2-version*
      (<a class="sym-link system" href="axioms.html#def-concatenate" data-sym="CONCATENATE">concatenate</a> '<a class="sym-link system" href="axioms.html#def-string" data-sym="STRING">string</a> <span class="string">"ACL2 Version 8.6"</span>))
    (setq *copy-of-common-lisp-specials-and-constants*
      (eval (<a class="sym-link system" href="axioms.html#def-caddr" data-sym="CADDR">caddr</a> (read fl))))))</pre>
  </div>

<div class="form-block other" id="form-31" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-in-package" data-sym="IN-PACKAGE">in-package</a> <span class="string">"ACL2"</span>)</pre>
  </div>

<div class="form-block function" id="def-proclaim-optimize" data-defines="PROCLAIM-OPTIMIZE" data-references="*ACL2-OPTIMIZE-FORM*,PROCLAIM,DEFUN" data-used-by="LOAD-ACL2,COMPILE-ACL2" data-part-name="PROCLAIM-OPTIMIZE" data-part-body="*ACL2-OPTIMIZE-FORM*,PROCLAIM" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="PROCLAIM-OPTIMIZE">proclaim-optimize</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-proclaim-optimize" data-sym="PROCLAIM-OPTIMIZE" title="(defun proclaim-optimize () (proclaim common-lisp-user::*acl2-optimize-form*))">proclaim-optimize</a>
  nil
  (proclaim *acl2-optimize-form*))</pre>
  </div>

<div class="form-block other" id="form-33" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defparameter *compiled-file-extension*
  (pathname-type (compile-file-pathname <span class="string">"foo.lisp"</span>)))</pre>
  </div>

<div class="form-block macro" id="def-initialize-state-globals" data-defines="INITIALIZE-STATE-GLOBALS" data-references="TMP-DIR,COMPILED-FILE-EXTENSION,HOST-LISP,ERROR,T,MEMBER,OR,BOUNDP,COND,COMPILER-ENABLED,LD-HISTORY-ENTRY,MAKE,LIST,LD-HISTORY,F-GET-GLOBAL,COMPRESS1,IPRINT-AR,OUR-PWD,ACL2-SOURCES-DIR,CDR,CAR,F-PUT-GLOBAL,*INITIAL-GLOBAL-TABLE*,PAIR,DOLIST,*THE-LIVE-STATE*,STATE,QUASIQUOTE,*ACL2-COMPILER-ENABLED*,QUOTE,ACL2-COMPILER-ENABLED-VAR,LET,DEFMACRO" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="INITIALIZE-STATE-GLOBALS">initialize-state-globals</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-initialize-state-globals" data-sym="INITIALIZE-STATE-GLOBALS" title="(defmacro initialize-state-globals ()
  (let ((acl2-compiler-enabled-var &#39;common-lisp-user::*acl2-compiler-enabled*))
    `(let ((state *the-live-state*))
       (dolist (pair *initial-global-table*)
         (f-put-global (car pair) (cdr pair) state))
...">initialize-state-globals</a>
  nil
  (let ((acl2-compiler-enabled-var '*acl2-compiler-enabled*))
    `(let ((state *the-live-state*))
      (dolist (pair <a class="sym-link system" href="axioms.html#def-_2Ainitial-global-table_2A" data-sym="*INITIAL-GLOBAL-TABLE*">*initial-global-table*</a>)
        (<a class="sym-link system" href="axioms.html#def-f-put-global" data-sym="F-PUT-GLOBAL">f-put-global</a> (car pair) (cdr pair) state))
      (<a class="sym-link system" href="axioms.html#def-f-put-global" data-sym="F-PUT-GLOBAL">f-put-global</a> 'acl2-sources-dir (our-pwd) state)
      (<a class="sym-link system" href="axioms.html#def-f-put-global" data-sym="F-PUT-GLOBAL">f-put-global</a> 'iprint-ar
        (<a class="sym-link system" href="axioms.html#def-compress1" data-sym="COMPRESS1">compress1</a> 'iprint-ar (<a class="sym-link system" href="axioms.html#def-f-get-global" data-sym="F-GET-GLOBAL">f-get-global</a> 'iprint-ar state))
        state)
      (<a class="sym-link system" href="axioms.html#def-f-put-global" data-sym="F-PUT-GLOBAL">f-put-global</a> 'ld-history
        (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (<a class="sym-link system" href="basis-a.html#def-make" data-sym="MAKE">make</a> ld-history-entry))
        state)
      (<a class="sym-link system" href="axioms.html#def-f-put-global" data-sym="F-PUT-GLOBAL">f-put-global</a> 'compiler-enabled
        (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((boundp ',ACL2-COMPILER-ENABLED-VAR) (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-member" data-sym="MEMBER">member</a> ,ACL2-COMPILER-ENABLED-VAR '(<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> nil <span class="keyword">:books</span>))
              (error <span class="string">"Illegal value for ~
                                        user::*acl2-compiler-enabled*, ~s"</span>
                ,ACL2-COMPILER-ENABLED-VAR))
            ,ACL2-COMPILER-ENABLED-VAR)
          (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <span class="keyword">:books</span>))
        state)
      (<a class="sym-link system" href="axioms.html#def-f-put-global" data-sym="F-PUT-GLOBAL">f-put-global</a> 'host-lisp
        ,(LET ()
   :SBCL)
        state)
      (<a class="sym-link system" href="axioms.html#def-f-put-global" data-sym="F-PUT-GLOBAL">f-put-global</a> 'compiled-file-extension
        ,*COMPILED-FILE-EXTENSION*
        state)
      (<a class="sym-link system" href="axioms.html#def-f-put-global" data-sym="F-PUT-GLOBAL">f-put-global</a> 'tmp-dir <span class="string">"/tmp"</span> state)
      nil)))</pre>
  </div>

<div class="form-block other" id="form-35" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defconstant *suppress-compile-build-time* <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)</pre>
  </div>

<div class="form-block other" id="form-36" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defparameter *global-package-prefix* <span class="string">"ACL2_GLOBAL_"</span>)</pre>
  </div>

<div class="form-block other" id="form-37" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defparameter *1*-package-prefix* <span class="string">"ACL2_*1*_"</span>)</pre>
  </div>

<div class="form-block function" id="def-make-global-package" data-defines="MAKE-GLOBAL-PACKAGE" data-references="MAKE-PACKAGE,T,MAKUNBOUND,SYM,DO-SYMBOLS,COND,FIND-PACKAGE,P,*GLOBAL-PACKAGE-PREFIX*,STRING,QUOTE,CONCATENATE,N,LET*,X,DEFUN" data-part-name="MAKE-GLOBAL-PACKAGE" data-part-args="X" data-part-body="MAKE-PACKAGE,T,MAKUNBOUND,SYM,DO-SYMBOLS,COND,FIND-PACKAGE,P,X,*GLOBAL-PACKAGE-PREFIX*,STRING,QUOTE,CONCATENATE,N,LET*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="MAKE-GLOBAL-PACKAGE">make-global-package</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-make-global-package" data-sym="MAKE-GLOBAL-PACKAGE" title="(defun make-global-package (x)
  (let* ((n (concatenate &#39;string *global-package-prefix* x))
         (p (find-package n)))
    (cond (p (do-symbols (sym p) (makunbound sym)))
          (t (make-package n :use nil)))))">make-global-package</a>
  (x)
  (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((n (<a class="sym-link system" href="axioms.html#def-concatenate" data-sym="CONCATENATE">concatenate</a> '<a class="sym-link system" href="axioms.html#def-string" data-sym="STRING">string</a> *global-package-prefix* x)) (p (find-package n)))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (p (do-symbols (sym p) (makunbound sym)))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (make-package n <span class="keyword">:use</span> nil)))))</pre>
  </div>

<div class="form-block function" id="def-make-_2A1_2A-package" data-defines="MAKE-*1*-PACKAGE" data-references="MAKE-PACKAGE,*1*-PACKAGE-PREFIX*,STRING,QUOTE,CONCATENATE,N,LET*,X,DEFUN" data-part-name="MAKE-*1*-PACKAGE" data-part-args="X" data-part-body="MAKE-PACKAGE,X,*1*-PACKAGE-PREFIX*,STRING,QUOTE,CONCATENATE,N,LET*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="MAKE-*1*-PACKAGE">make-*1*-package</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-make-_2A1_2A-package" data-sym="MAKE-*1*-PACKAGE" title="(defun make-*1*-package (x)
  (let* ((n (concatenate &#39;string *1*-package-prefix* x)))
    (make-package n :use nil)))">make-*1*-package</a>
  (x)
  (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((n (<a class="sym-link system" href="axioms.html#def-concatenate" data-sym="CONCATENATE">concatenate</a> '<a class="sym-link system" href="axioms.html#def-string" data-sym="STRING">string</a> *1*-package-prefix* x)))
    (make-package n <span class="keyword">:use</span> nil)))</pre>
  </div>

<div class="form-block other" id="form-40" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (find-package <span class="string">"ACL2-INPUT-CHANNEL"</span>)
  (make-package <span class="string">"ACL2-INPUT-CHANNEL"</span> <span class="keyword">:use</span> nil))</pre>
  </div>

<div class="form-block other" id="form-41" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (find-package <span class="string">"ACL2-OUTPUT-CHANNEL"</span>)
  (make-package <span class="string">"ACL2-OUTPUT-CHANNEL"</span> <span class="keyword">:use</span> nil))</pre>
  </div>

<div class="form-block other" id="form-42" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defconstant *main-lisp-package*
  (find-package <span class="string">"COMMON-LISP"</span>))</pre>
  </div>

<div class="form-block other" id="form-43" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defconstant *main-lisp-package-name-raw* <span class="string">"COMMON-LISP"</span>)</pre>
  </div>

<div class="form-block other" id="form-44" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-make-global-package" data-sym="MAKE-GLOBAL-PACKAGE" title="(defun make-global-package (x)
  (let* ((n (concatenate &#39;string *global-package-prefix* x))
         (p (find-package n)))
    (cond (p (do-symbols (sym p) (makunbound sym)))
          (t (make-package n :use nil)))))">make-global-package</a> *main-lisp-package-name-raw*)</pre>
  </div>

<div class="form-block other" id="form-45" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-make-global-package" data-sym="MAKE-GLOBAL-PACKAGE" title="(defun make-global-package (x)
  (let* ((n (concatenate &#39;string *global-package-prefix* x))
         (p (find-package n)))
    (cond (p (do-symbols (sym p) (makunbound sym)))
          (t (make-package n :use nil)))))">make-global-package</a> <span class="string">"KEYWORD"</span>)</pre>
  </div>

<div class="form-block other" id="form-46" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-make-global-package" data-sym="MAKE-GLOBAL-PACKAGE" title="(defun make-global-package (x)
  (let* ((n (concatenate &#39;string *global-package-prefix* x))
         (p (find-package n)))
    (cond (p (do-symbols (sym p) (makunbound sym)))
          (t (make-package n :use nil)))))">make-global-package</a> <span class="string">"ACL2"</span>)</pre>
  </div>

<div class="form-block other" id="form-47" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-make-global-package" data-sym="MAKE-GLOBAL-PACKAGE" title="(defun make-global-package (x)
  (let* ((n (concatenate &#39;string *global-package-prefix* x))
         (p (find-package n)))
    (cond (p (do-symbols (sym p) (makunbound sym)))
          (t (make-package n :use nil)))))">make-global-package</a> <span class="string">"ACL2-INPUT-CHANNEL"</span>)</pre>
  </div>

<div class="form-block other" id="form-48" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-make-global-package" data-sym="MAKE-GLOBAL-PACKAGE" title="(defun make-global-package (x)
  (let* ((n (concatenate &#39;string *global-package-prefix* x))
         (p (find-package n)))
    (cond (p (do-symbols (sym p) (makunbound sym)))
          (t (make-package n :use nil)))))">make-global-package</a> <span class="string">"ACL2-OUTPUT-CHANNEL"</span>)</pre>
  </div>

<div class="form-block other" id="form-49" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-make-_2A1_2A-package" data-sym="MAKE-*1*-PACKAGE" title="(defun make-*1*-package (x)
  (let* ((n (concatenate &#39;string *1*-package-prefix* x)))
    (make-package n :use nil)))">make-*1*-package</a> *main-lisp-package-name-raw*)</pre>
  </div>

<div class="form-block other" id="form-50" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-make-_2A1_2A-package" data-sym="MAKE-*1*-PACKAGE" title="(defun make-*1*-package (x)
  (let* ((n (concatenate &#39;string *1*-package-prefix* x)))
    (make-package n :use nil)))">make-*1*-package</a> <span class="string">"ACL2"</span>)</pre>
  </div>

<div class="form-block other" id="form-51" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-make-_2A1_2A-package" data-sym="MAKE-*1*-PACKAGE" title="(defun make-*1*-package (x)
  (let* ((n (concatenate &#39;string *1*-package-prefix* x)))
    (make-package n :use nil)))">make-*1*-package</a> <span class="string">"ACL2-INPUT-CHANNEL"</span>)</pre>
  </div>

<div class="form-block other" id="form-52" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-make-_2A1_2A-package" data-sym="MAKE-*1*-PACKAGE" title="(defun make-*1*-package (x)
  (let* ((n (concatenate &#39;string *1*-package-prefix* x)))
    (make-package n :use nil)))">make-*1*-package</a> <span class="string">"ACL2-OUTPUT-CHANNEL"</span>)</pre>
  </div>

<div class="form-block other" id="form-53" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defparameter *initial-lisp-symbol-mark*
  'initial-lisp-symbol-mark)</pre>
  </div>

<div class="form-block other" id="form-54" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(let ((cl-pkg-name *main-lisp-package-name-raw*))
  (dolist (sym *copy-of-common-lisp-symbols-from-main-lisp-package*)
    (setf (get sym *initial-lisp-symbol-mark*) cl-pkg-name)))</pre>
  </div>

<div class="form-block other" id="form-55" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defconstant *acl2-package* (find-package <span class="string">"ACL2"</span>))</pre>
  </div>

<div class="form-block other" id="form-56" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(dolist (x *features*)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (equal <span class="string">"ACL2-LOOP-ONLY"</span> (symbol-name x))
       (equal <span class="string">"ACL2-METERING"</span> (symbol-name x))) (format <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
        <span class="string">"~%~%Warning:  This Common Lisp may be ~
                          unsuitable for ACL2 because a symbol with~
                          ~%the name &quot;ACL2-LOOP-ONLY&quot; or &quot;ACL2-METERING&quot; is ~
                          a member of *FEATURES*."</span>))))</pre>
  </div>

<div class="form-block other" id="form-57" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defparameter *acl2-panic-exit-status* nil)</pre>
  </div>

<div class="form-block other" id="form-58" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defvar *acl2-exit-lisp-hook* nil)</pre>
  </div>

<div class="form-block function" id="def-exit-lisp" data-defines="EXIT-LISP" data-references="PROGN,T,IF,SYMBOL-NAME,EQUAL,NOT,SB-EXT,FIND-SYMBOL,OR,SYM,LET,RETURN-FROM,*ACL2-PANIC-EXIT-STATUS*,ERROR,NULL,COND,SETQ,FUNCALL,*ACL2-EXIT-LISP-HOOK*,FBOUNDP,WHEN,STATUS-P,QUOTE,STATUS,&OPTIONAL,DEFUN" data-used-by="EXIT-WITH-BUILD-ERROR" data-part-name="EXIT-LISP" data-part-args="STATUS-P,QUOTE,STATUS,&OPTIONAL" data-part-body="SETQ,STATUS,FUNCALL,*ACL2-EXIT-LISP-HOOK*,FBOUNDP,WHEN" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="EXIT-LISP">exit-lisp</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-exit-lisp" data-sym="EXIT-LISP" title="(defun exit-lisp (&amp;optional (status &#39;0 status-p))
  (when (fboundp common-lisp-user::*acl2-exit-lisp-hook*)
    (funcall common-lisp-user::*acl2-exit-lisp-hook* status)
    (setq common-lisp-user::*acl2-exit-lisp-hook* nil))
  (cond ((null status) (error &quot;Passed null status to exit-lisp!&quot;))
...">exit-lisp</a>
  (&amp;optional (status '<span class="number">0</span> status-p))
  (when (fboundp *acl2-exit-lisp-hook*)
    (funcall *acl2-exit-lisp-hook* status)
    (setq *acl2-exit-lisp-hook* nil))
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> status) (error <span class="string">"Passed null status to exit-lisp!"</span>))
    (*acl2-panic-exit-status* (return-from <a class="sym-link local-def" href="#def-exit-lisp" data-sym="EXIT-LISP" title="(defun exit-lisp (&amp;optional (status &#39;0 status-p))
  (when (fboundp common-lisp-user::*acl2-exit-lisp-hook*)
    (funcall common-lisp-user::*acl2-exit-lisp-hook* status)
    (setq common-lisp-user::*acl2-exit-lisp-hook* nil))
  (cond ((null status) (error &quot;Passed null status to exit-lisp!&quot;))
...">exit-lisp</a> nil)))
  (setq *acl2-panic-exit-status* status)
  (let ((sym (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (find-symbol <span class="string">"EXIT"</span> 'sb-ext)
         (find-symbol <span class="string">"QUIT"</span> 'sb-ext))))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> sym) (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (fboundp sym))) (error <span class="string">"No function named &quot;EXIT&quot; or &quot;QUIT&quot; is defined in the ~%~
                   &quot;SB-EXT&quot; package.  Perhaps you are using a very old or ~%~
                   very new version of SBCL.  If you are surprised by this ~%~
                   message, feel free to contact the ACL2 implementors."</span>))
      ((equal (symbol-name sym) <span class="string">"EXIT"</span>) (if status-p
          (funcall sym <span class="keyword">:code</span> status)
          (funcall sym)))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (if status-p
          (funcall sym <span class="keyword">:unix-status</span> status)
          (funcall sym)))))
  (<a class="sym-link system" href="axioms.html#def-progn" data-sym="PROGN">progn</a> status-p status))</pre>
  </div>

<div class="form-block macro" id="def-exit-with-build-error" data-defines="EXIT-WITH-BUILD-ERROR" data-references="EXIT-LISP,STRING,QUOTE,CONCATENATE,T,FORMAT,PROGN,QUASIQUOTE,IGNORABLE,DECLARE,SUFFIX,PREFIX,LET,ARGS,&REST,STR,DEFMACRO" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="EXIT-WITH-BUILD-ERROR">exit-with-build-error</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-exit-with-build-error" data-sym="EXIT-WITH-BUILD-ERROR" title="(defmacro exit-with-build-error (str &amp;rest args)
  (let ((prefix &quot;~%***** ERROR ******~%ACL2 build error: &quot;)
        (suffix &quot;~%******************~%&quot;))
    (declare (ignorable prefix suffix))
    `(progn
...">exit-with-build-error</a>
  (str &amp;rest <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>)
  (let ((prefix <span class="string">"~%***** ERROR ******~%ACL2 build error: "</span>) (suffix <span class="string">"~%******************~%"</span>))
    (declare (ignorable prefix suffix))
    `(<a class="sym-link system" href="axioms.html#def-progn" data-sym="PROGN">progn</a> (format <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-concatenate" data-sym="CONCATENATE">concatenate</a> '<a class="sym-link system" href="axioms.html#def-string" data-sym="STRING">string</a> ,PREFIX ,STR ,SUFFIX) ,@ARGS)
      (<a class="sym-link local-def" href="#def-exit-lisp" data-sym="EXIT-LISP" title="(defun exit-lisp (&amp;optional (status &#39;0 status-p))
  (when (fboundp common-lisp-user::*acl2-exit-lisp-hook*)
    (funcall common-lisp-user::*acl2-exit-lisp-hook* status)
    (setq common-lisp-user::*acl2-exit-lisp-hook* nil))
  (cond ((null status) (error &quot;Passed null status to exit-lisp!&quot;))
...">exit-lisp</a> <span class="number">1</span>))))</pre>
  </div>

<div class="form-block macro" id="def-with-redefinition-suppressed" data-defines="WITH-REDEFINITION-SUPPRESSED" data-references="LET,QUASIQUOTE,FORMS,&REST,DEFMACRO" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="WITH-REDEFINITION-SUPPRESSED">with-redefinition-suppressed</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-with-redefinition-suppressed" data-sym="WITH-REDEFINITION-SUPPRESSED" title="(defmacro with-redefinition-suppressed (&amp;rest forms)
  `(let ()
     ,@forms))">with-redefinition-suppressed</a>
  (&amp;rest forms)
  `(let nil
    ,@FORMS))</pre>
  </div>

<div class="form-block macro" id="def-with-warnings-suppressed" data-defines="WITH-WARNINGS-SUPPRESSED" data-references="MUFFLE-WARNING,QUOTE,INVOKE-RESTART,IGNORE,DECLARE,C,LAMBDA,WARNING,HANDLER-BIND,QUASIQUOTE,FORMS,&REST,DEFMACRO" data-used-by="LOAD-ACL2,COMPILE-ACL2,CHECK-SUITABILITY-FOR-ACL2,WITH-SUPPRESSION" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="WITH-WARNINGS-SUPPRESSED">with-warnings-suppressed</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-with-warnings-suppressed" data-sym="WITH-WARNINGS-SUPPRESSED" title="(defmacro with-warnings-suppressed (&amp;rest forms)
  `(handler-bind ((warning
                   (lambda (c)
                     (declare (ignore c))
                     (invoke-restart &#39;muffle-warning))))">with-warnings-suppressed</a>
  (&amp;rest forms)
  `(handler-bind ((warning (lambda (c)
         (declare (ignore c))
         (invoke-restart 'muffle-warning))))
    ,@FORMS))</pre>
  </div>

<div class="form-block macro" id="def-with-more-warnings-suppressed" data-defines="WITH-MORE-WARNINGS-SUPPRESSED" data-references="CAR,PROGN,QUASIQUOTE,CDR,IF,FORMS,&REST,DEFMACRO" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="WITH-MORE-WARNINGS-SUPPRESSED">with-more-warnings-suppressed</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-with-more-warnings-suppressed" data-sym="WITH-MORE-WARNINGS-SUPPRESSED" title="(defmacro with-more-warnings-suppressed (&amp;rest forms)
  (if (cdr forms)
      `(progn ,@forms)
      (car forms)))">with-more-warnings-suppressed</a>
  (&amp;rest forms)
  (if (cdr forms)
    `(<a class="sym-link system" href="axioms.html#def-progn" data-sym="PROGN">progn</a> ,@FORMS)
    (car forms)))</pre>
  </div>

<div class="form-block macro" id="def-with-suppression" data-defines="WITH-SUPPRESSION" data-references="WITH-WARNINGS-SUPPRESSED,WITH-UNLOCKED-PACKAGES,QUASIQUOTE,FORMS,&REST,DEFMACRO" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="WITH-SUPPRESSION">with-suppression</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-with-suppression" data-sym="WITH-SUPPRESSION" title="(defmacro with-suppression (&amp;rest forms)
  `(sb-ext:with-unlocked-packages (&quot;COMMON-LISP&quot;)
     (with-warnings-suppressed ,@forms)))">with-suppression</a>
  (&amp;rest forms)
  `(with-unlocked-packages (<span class="string">"COMMON-LISP"</span>)
    (<a class="sym-link local-def" href="#def-with-warnings-suppressed" data-sym="WITH-WARNINGS-SUPPRESSED" title="(defmacro with-warnings-suppressed (&amp;rest forms)
  `(handler-bind ((warning
                   (lambda (c)
                     (declare (ignore c))
                     (invoke-restart &#39;muffle-warning))))">with-warnings-suppressed</a> ,@FORMS)))</pre>
  </div>

<div class="form-block other" id="form-65" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defconstant *acl2-status-file*
  (make-pathname <span class="keyword">:name</span> <span class="string">"acl2-status"</span> <span class="keyword">:type</span> <span class="string">"txt"</span>))</pre>
  </div>

<div class="form-block function" id="def-check-suitability-for-acl2" data-defines="CHECK-SUITABILITY-FOR-ACL2" data-references="T,LOAD,DELETE-FILE,*ACL2-STATUS-FILE*,PROBE-FILE,NOT,OR,WITH-WARNINGS-SUPPRESSED,DEFUN" data-used-by="COMPILE-ACL2" data-part-name="CHECK-SUITABILITY-FOR-ACL2" data-part-body="T,LOAD,DELETE-FILE,*ACL2-STATUS-FILE*,PROBE-FILE,NOT,OR,WITH-WARNINGS-SUPPRESSED" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CHECK-SUITABILITY-FOR-ACL2">check-suitability-for-acl2</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-check-suitability-for-acl2" data-sym="CHECK-SUITABILITY-FOR-ACL2" title="(defun check-suitability-for-acl2 ()
  (with-warnings-suppressed
   (or (not (probe-file *acl2-status-file*)) (delete-file *acl2-status-file*))
   (load &quot;acl2-check.lisp&quot;) t))">check-suitability-for-acl2</a>
  nil
  (<a class="sym-link local-def" href="#def-with-warnings-suppressed" data-sym="WITH-WARNINGS-SUPPRESSED" title="(defmacro with-warnings-suppressed (&amp;rest forms)
  `(handler-bind ((warning
                   (lambda (c)
                     (declare (ignore c))
                     (invoke-restart &#39;muffle-warning))))">with-warnings-suppressed</a> (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (probe-file *acl2-status-file*))
      (delete-file *acl2-status-file*))
    (load <span class="string">"acl2-check.lisp"</span>)
    <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>))</pre>
  </div>

<div class="form-block function" id="def-note-compile-ok" data-defines="NOTE-COMPILE-OK" data-references="*SUPPRESS-COMPILE-BUILD-TIME*,IF,FORMAT,STR,WITH-OPEN-FILE,DELETE-FILE,*ACL2-STATUS-FILE*,PROBE-FILE,NOT,OR,PROGN,DEFUN" data-used-by="COMPILE-ACL2" data-part-name="NOTE-COMPILE-OK" data-part-body="*SUPPRESS-COMPILE-BUILD-TIME*,IF,FORMAT,STR,WITH-OPEN-FILE,DELETE-FILE,*ACL2-STATUS-FILE*,PROBE-FILE,NOT,OR,PROGN" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="NOTE-COMPILE-OK">note-compile-ok</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-note-compile-ok" data-sym="NOTE-COMPILE-OK" title="(defun note-compile-ok ()
  (progn
   (or (not (probe-file *acl2-status-file*)) (delete-file *acl2-status-file*))
   (with-open-file (str *acl2-status-file* :direction :output)
     (format str &quot;~s&quot;
...">note-compile-ok</a>
  nil
  (<a class="sym-link system" href="axioms.html#def-progn" data-sym="PROGN">progn</a> (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (probe-file *acl2-status-file*))
      (delete-file *acl2-status-file*))
    (with-open-file (str *acl2-status-file* <span class="keyword">:direction</span> <span class="keyword">:output</span>)
      (format str
        <span class="string">"~s"</span>
        (if *suppress-compile-build-time*
          <span class="keyword">:compile-skipped</span> <span class="keyword">:compiled</span>)))))</pre>
  </div>

<div class="form-block other" id="form-68" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defvar *lisp-extension* <span class="string">"lisp"</span>)</pre>
  </div>

<div class="form-block other" id="form-69" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(declaim (muffle-conditions compiler-note))</pre>
  </div>

<div class="form-block macro" id="def-our-with-compilation-unit" data-defines="OUR-WITH-COMPILATION-UNIT" data-references="WITH-COMPILATION-UNIT,QUASIQUOTE,FORM,DEFMACRO" data-used-by="LOAD-ACL2,COMPILE-ACL2" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="OUR-WITH-COMPILATION-UNIT">our-with-compilation-unit</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-our-with-compilation-unit" data-sym="OUR-WITH-COMPILATION-UNIT" title="(defmacro our-with-compilation-unit (form) `(with-compilation-unit nil ,form))">our-with-compilation-unit</a>
  (form)
  `(with-compilation-unit nil ,FORM))</pre>
  </div>

<div class="form-block other" id="form-71" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defconstant *acl2-read-character-terminators*
  '(#\	 #\
 #\ #\  #\&quot; #\&#39; #\( #\) #\; #\` #\,))</pre>
  </div>

<div class="form-block other" id="form-72" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-our-with-compilation-unit" data-sym="OUR-WITH-COMPILATION-UNIT" title="(defmacro our-with-compilation-unit (form) `(with-compilation-unit nil ,form))">our-with-compilation-unit</a> (<a class="sym-link system" href="axioms.html#def-progn" data-sym="PROGN">progn</a> (load <span class="string">"acl2-fns.lisp"</span>)
    (let ((acl2-fns-compiled (make-pathname <span class="keyword">:name</span> <span class="string">"acl2-fns"</span>
           <span class="keyword">:type</span> *compiled-file-extension*)))
      (when (probe-file acl2-fns-compiled)
        (delete-file acl2-fns-compiled))
      (when (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> *suppress-compile-build-time*)
        (compile-file <span class="string">"acl2-fns.lisp"</span>)
        (load acl2-fns-compiled)))))</pre>
  </div>

<div class="form-block other" id="form-73" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-member" data-sym="MEMBER">member</a> <span class="keyword">:ieee-floating-point</span> *features*)
  (let ((x (getenv$-raw <span class="string">"ACL2_FP_OK"</span>)))
    (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> x (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (equal x <span class="string">""</span>))))
  (error <span class="string">"This Lisp may be unsuitable for ACL2 because feature~%~
            :ieee-floating-point is missing.  This is easily fixed~%~
            by setting environment variable ACL2_FP_OK to t, but at~%~
            some risk of unsoundness; see :DOC fp."</span>))</pre>
  </div>

<div class="form-block other" id="form-74" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (equal (rational (float <span class="number">0</span> <span class="number">0.0</span>)) <span class="number">0</span>)
  (error <span class="string">"This Lisp is unsuitable for ACL2, because it failed~%~
            the sanity check that ~s."</span>
    '(equal (rational (float <span class="number">0</span> <span class="number">0.0</span>)) <span class="number">0</span>)))</pre>
  </div>

<div class="form-block other" id="form-75" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (equal (float-radix <span class="number">1.0</span>) <span class="number">2</span>)
  (error <span class="string">"This Lisp is unsuitable for ACL2, because it failed~%~
            the sanity check that ~s."</span>
    '(equal (float-radix <span class="number">1.0</span>) <span class="number">2</span>)))</pre>
  </div>

<div class="form-block function" id="def-break-on-overflow-and-nan" data-defines="BREAK-ON-OVERFLOW-AND-NAN" data-references="QUOTE,SET-FLOATING-POINT-MODES,DEFUN" data-part-name="BREAK-ON-OVERFLOW-AND-NAN" data-part-body="QUOTE,SET-FLOATING-POINT-MODES" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="BREAK-ON-OVERFLOW-AND-NAN">break-on-overflow-and-nan</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-break-on-overflow-and-nan" data-sym="BREAK-ON-OVERFLOW-AND-NAN" title="(defun break-on-overflow-and-nan ()
  (sb-int:set-floating-point-modes :traps &#39;(:overflow :invalid :divide-by-zero)
                                   :rounding-mode :nearest)
  nil)">break-on-overflow-and-nan</a>
  nil
  (set-floating-point-modes <span class="keyword">:traps</span> '(<span class="keyword">:overflow</span> <span class="keyword">:invalid</span> <span class="keyword">:divide-by-zero</span>)
    <span class="keyword">:rounding-mode</span> <span class="keyword">:nearest</span>)
  nil)</pre>
  </div>

<div class="form-block other" id="form-77" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link local-def" href="#def-break-on-overflow-and-nan" data-sym="BREAK-ON-OVERFLOW-AND-NAN" title="(defun break-on-overflow-and-nan ()
  (sb-int:set-floating-point-modes :traps &#39;(:overflow :invalid :divide-by-zero)
                                   :rounding-mode :nearest)
  nil)">break-on-overflow-and-nan</a>)</pre>
  </div>

<div class="form-block other" id="form-78" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(unless (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (let ((*my-most-positive-double-float* most-positive-double-float))
      (declare (special *my-most-positive-double-float*))
      (typep (handler-case (<a class="sym-link system" href="axioms.html#def-_2A" data-sym="*">*</a> *my-most-positive-double-float*
            *my-most-positive-double-float*)
          (error nil <span class="number">0.0</span>))
        'double-float))
    (<a class="sym-link system" href="axioms.html#def-member" data-sym="MEMBER">member</a> <span class="keyword">:overflow</span> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-member" data-sym="MEMBER">member</a> <span class="keyword">:traps</span> (get-floating-point-modes)))))
  (error <span class="string">"This Lisp is unsuitable for ACL2, because it failed ~%a check that ~
          floating-point overflow causes an error."</span>))</pre>
  </div>

<div class="form-block other" id="form-79" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defparameter *acl2-readtable*
  (copy-readtable nil)
  <span class="string">"*acl2-readtable* is the readtable we use (a) to restrict the use of
#. to cause evaluation during READing (b) and to define our own version
of backquote."</span>)</pre>
  </div>

<div class="form-block other" id="form-80" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defparameter *host-readtable*
  (copy-readtable)
  <span class="string">"*host-readtable* is the original readtable provided by the host Lisp,
which is saved just in case it&#39;s needed later."</span>)</pre>
  </div>

<div class="form-block function" id="def-set-new-dispatch-macro-character" data-defines="SET-NEW-DISPATCH-MACRO-CHARACTER" data-references="QUASIQUOTE,ERROR,T,SET-DISPATCH-MACRO-CHARACTER,EQL,NULL,OR,COND,GET-DISPATCH-MACRO-CHARACTER,OLD,LET,FN,SUBCHAR,CHAR,DEFUN" data-used-by="MODIFY-ACL2-READTABLE,DEFINE-SHARP-D,DEFINE-SHARP-F,DEFINE-SHARP-U,DEFINE-SHARP-BANG" data-part-name="SET-NEW-DISPATCH-MACRO-CHARACTER" data-part-args="FN,SUBCHAR,CHAR" data-part-body="QUASIQUOTE,ERROR,T,SET-DISPATCH-MACRO-CHARACTER,FN,EQL,NULL,OR,COND,SUBCHAR,CHAR,GET-DISPATCH-MACRO-CHARACTER,OLD,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="SET-NEW-DISPATCH-MACRO-CHARACTER">set-new-dispatch-macro-character</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-set-new-dispatch-macro-character" data-sym="SET-NEW-DISPATCH-MACRO-CHARACTER" title="(defun set-new-dispatch-macro-character (char subchar fn)
  (let ((old (get-dispatch-macro-character char subchar)))
    (cond
     ((or (null old) (eql fn old))
      (set-dispatch-macro-character char subchar fn))
...">set-new-dispatch-macro-character</a>
  (<a class="sym-link system" href="axioms.html#def-char" data-sym="CHAR">char</a> subchar fn)
  (let ((old (get-dispatch-macro-character <a class="sym-link system" href="axioms.html#def-char" data-sym="CHAR">char</a> subchar)))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> old) (<a class="sym-link system" href="axioms.html#def-eql" data-sym="EQL">eql</a> fn old)) (set-dispatch-macro-character <a class="sym-link system" href="axioms.html#def-char" data-sym="CHAR">char</a> subchar fn))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (error <span class="string">"ACL2 cannot be built in this host Lisp, because ~%~
                     ~s is already defined, to be: ~s"</span>
          `(get-dispatch-macro-character ,CHAR ,SUBCHAR)
          old)))))</pre>
  </div>

<div class="form-block function" id="def-define-sharp-dot" data-defines="DEFINE-SHARP-DOT" data-references="SHARP-DOT-READ,FUNCTION,SET-DISPATCH-MACRO-CHARACTER,DEFUN" data-used-by="MODIFY-ACL2-READTABLE" data-part-name="DEFINE-SHARP-DOT" data-part-body="SHARP-DOT-READ,FUNCTION,SET-DISPATCH-MACRO-CHARACTER" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFINE-SHARP-DOT">define-sharp-dot</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-define-sharp-dot" data-sym="DEFINE-SHARP-DOT" title="(defun define-sharp-dot ()
  (set-dispatch-macro-character #\# #\. #&#39;sharp-dot-read))">define-sharp-dot</a>
  nil
  (set-dispatch-macro-character #\# #\. (function sharp-dot-read)))</pre>
  </div>

<div class="form-block function" id="def-define-sharp-bang" data-defines="DEFINE-SHARP-BANG" data-references="SHARP-BANG-READ,FUNCTION,SET-NEW-DISPATCH-MACRO-CHARACTER,DEFUN" data-used-by="MODIFY-ACL2-READTABLE" data-part-name="DEFINE-SHARP-BANG" data-part-body="SHARP-BANG-READ,FUNCTION,SET-NEW-DISPATCH-MACRO-CHARACTER" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFINE-SHARP-BANG">define-sharp-bang</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-define-sharp-bang" data-sym="DEFINE-SHARP-BANG" title="(defun define-sharp-bang ()
  (set-new-dispatch-macro-character #\# #\! #&#39;sharp-bang-read))">define-sharp-bang</a>
  nil
  (<a class="sym-link local-def" href="#def-set-new-dispatch-macro-character" data-sym="SET-NEW-DISPATCH-MACRO-CHARACTER" title="(defun set-new-dispatch-macro-character (char subchar fn)
  (let ((old (get-dispatch-macro-character char subchar)))
    (cond
     ((or (null old) (eql fn old))
      (set-dispatch-macro-character char subchar fn))
...">set-new-dispatch-macro-character</a> #\# #\! (function sharp-bang-read)))</pre>
  </div>

<div class="form-block function" id="def-define-sharp-u" data-defines="DEFINE-SHARP-U" data-references="SHARP-U-READ,FUNCTION,SET-NEW-DISPATCH-MACRO-CHARACTER,DEFUN" data-used-by="MODIFY-ACL2-READTABLE" data-part-name="DEFINE-SHARP-U" data-part-body="SHARP-U-READ,FUNCTION,SET-NEW-DISPATCH-MACRO-CHARACTER" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFINE-SHARP-U">define-sharp-u</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-define-sharp-u" data-sym="DEFINE-SHARP-U" title="(defun define-sharp-u ()
  (set-new-dispatch-macro-character #\# #\u #&#39;sharp-u-read))">define-sharp-u</a>
  nil
  (<a class="sym-link local-def" href="#def-set-new-dispatch-macro-character" data-sym="SET-NEW-DISPATCH-MACRO-CHARACTER" title="(defun set-new-dispatch-macro-character (char subchar fn)
  (let ((old (get-dispatch-macro-character char subchar)))
    (cond
     ((or (null old) (eql fn old))
      (set-dispatch-macro-character char subchar fn))
...">set-new-dispatch-macro-character</a> #\# #\u (function sharp-u-read)))</pre>
  </div>

<div class="form-block function" id="def-define-sharp-f" data-defines="DEFINE-SHARP-F" data-references="SHARP-F-READ,FUNCTION,SET-NEW-DISPATCH-MACRO-CHARACTER,DEFUN" data-used-by="MODIFY-ACL2-READTABLE" data-part-name="DEFINE-SHARP-F" data-part-body="SHARP-F-READ,FUNCTION,SET-NEW-DISPATCH-MACRO-CHARACTER" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFINE-SHARP-F">define-sharp-f</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-define-sharp-f" data-sym="DEFINE-SHARP-F" title="(defun define-sharp-f ()
  (set-new-dispatch-macro-character #\# #\f #&#39;sharp-f-read))">define-sharp-f</a>
  nil
  (<a class="sym-link local-def" href="#def-set-new-dispatch-macro-character" data-sym="SET-NEW-DISPATCH-MACRO-CHARACTER" title="(defun set-new-dispatch-macro-character (char subchar fn)
  (let ((old (get-dispatch-macro-character char subchar)))
    (cond
     ((or (null old) (eql fn old))
      (set-dispatch-macro-character char subchar fn))
...">set-new-dispatch-macro-character</a> #\# #\f (function sharp-f-read)))</pre>
  </div>

<div class="form-block function" id="def-define-sharp-d" data-defines="DEFINE-SHARP-D" data-references="SHARP-D-READ,FUNCTION,SET-NEW-DISPATCH-MACRO-CHARACTER,DEFUN" data-used-by="MODIFY-ACL2-READTABLE" data-part-name="DEFINE-SHARP-D" data-part-body="SHARP-D-READ,FUNCTION,SET-NEW-DISPATCH-MACRO-CHARACTER" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEFINE-SHARP-D">define-sharp-d</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-define-sharp-d" data-sym="DEFINE-SHARP-D" title="(defun define-sharp-d ()
  (set-new-dispatch-macro-character #\# #\d #&#39;sharp-d-read))">define-sharp-d</a>
  nil
  (<a class="sym-link local-def" href="#def-set-new-dispatch-macro-character" data-sym="SET-NEW-DISPATCH-MACRO-CHARACTER" title="(defun set-new-dispatch-macro-character (char subchar fn)
  (let ((old (get-dispatch-macro-character char subchar)))
    (cond
     ((or (null old) (eql fn old))
      (set-dispatch-macro-character char subchar fn))
...">set-new-dispatch-macro-character</a> #\# #\d (function sharp-d-read)))</pre>
  </div>

<div class="form-block other" id="form-87" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defvar *old-character-reader*
  (get-dispatch-macro-character #\# #\\))</pre>
  </div>

<div class="form-block function" id="def-modify-acl2-readtable" data-defines="MODIFY-ACL2-READTABLE" data-references="ACL2-CHARACTER-READER,SET-DISPATCH-MACRO-CHARACTER,DEFINE-SHARP-D,DEFINE-SHARP-F,DEFINE-SHARP-U,DEFINE-SHARP-BANG,DEFINE-SHARP-DOT,WHEN,ACL2-COMMA-READER,1-,T,READ,BACKQUOTE,1+,*BACKQUOTE-COUNTER*,IGNORE,DECLARE,CHAR,STREAM,LAMBDA,FUNCTION,SET-MACRO-CHARACTER,SER-CONS-READER-MACRO,SER-HONS-READER-MACRO,FANCY-STRING-READER-MACRO,QUOTE,SET-NEW-DISPATCH-MACRO-CHARACTER,*ACL2-READTABLE*,*READTABLE*,LET,DO-ALL-CHANGES,DEFUN" data-part-name="MODIFY-ACL2-READTABLE" data-part-args="DO-ALL-CHANGES" data-part-body="ACL2-CHARACTER-READER,SET-DISPATCH-MACRO-CHARACTER,DEFINE-SHARP-D,DEFINE-SHARP-F,DEFINE-SHARP-U,DEFINE-SHARP-BANG,DEFINE-SHARP-DOT,DO-ALL-CHANGES,WHEN,ACL2-COMMA-READER,1-,T,READ,BACKQUOTE,1+,*BACKQUOTE-COUNTER*,IGNORE,DECLARE,CHAR,STREAM,LAMBDA,FUNCTION,SET-MACRO-CHARACTER,SER-CONS-READER-MACRO,SER-HONS-READER-MACRO,FANCY-STRING-READER-MACRO,QUOTE,SET-NEW-DISPATCH-MACRO-CHARACTER,*ACL2-READTABLE*,*READTABLE*,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="MODIFY-ACL2-READTABLE">modify-acl2-readtable</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-modify-acl2-readtable" data-sym="MODIFY-ACL2-READTABLE" title="(defun modify-acl2-readtable (do-all-changes)
  (let ((*readtable* *acl2-readtable*))
    (set-new-dispatch-macro-character #\# #\{ &#39;fancy-string-reader-macro)
    (set-new-dispatch-macro-character #\# #\Z &#39;ser-hons-reader-macro)
    (set-new-dispatch-macro-character #\# #\Y &#39;ser-cons-reader-macro)
...">modify-acl2-readtable</a>
  (do-all-changes)
  (let ((*readtable* *acl2-readtable*))
    (<a class="sym-link local-def" href="#def-set-new-dispatch-macro-character" data-sym="SET-NEW-DISPATCH-MACRO-CHARACTER" title="(defun set-new-dispatch-macro-character (char subchar fn)
  (let ((old (get-dispatch-macro-character char subchar)))
    (cond
     ((or (null old) (eql fn old))
      (set-dispatch-macro-character char subchar fn))
...">set-new-dispatch-macro-character</a> #\#
      #\{
      'fancy-string-reader-macro)
    (<a class="sym-link local-def" href="#def-set-new-dispatch-macro-character" data-sym="SET-NEW-DISPATCH-MACRO-CHARACTER" title="(defun set-new-dispatch-macro-character (char subchar fn)
  (let ((old (get-dispatch-macro-character char subchar)))
    (cond
     ((or (null old) (eql fn old))
      (set-dispatch-macro-character char subchar fn))
...">set-new-dispatch-macro-character</a> #\#
      #\Z
      'ser-hons-reader-macro)
    (<a class="sym-link local-def" href="#def-set-new-dispatch-macro-character" data-sym="SET-NEW-DISPATCH-MACRO-CHARACTER" title="(defun set-new-dispatch-macro-character (char subchar fn)
  (let ((old (get-dispatch-macro-character char subchar)))
    (cond
     ((or (null old) (eql fn old))
      (set-dispatch-macro-character char subchar fn))
...">set-new-dispatch-macro-character</a> #\#
      #\Y
      'ser-cons-reader-macro)
    (set-macro-character #\`
      (function (lambda (stream <a class="sym-link system" href="axioms.html#def-char" data-sym="CHAR">char</a>)
          (declare (ignore <a class="sym-link system" href="axioms.html#def-char" data-sym="CHAR">char</a>))
          (let ((*backquote-counter* (<a class="sym-link system" href="axioms.html#def-1_2B" data-sym="1+">1+</a> *backquote-counter*)))
            `(read stream <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> nil <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)))))
    (set-macro-character #\,
      (function (lambda (stream <a class="sym-link system" href="axioms.html#def-char" data-sym="CHAR">char</a>)
          (declare (ignore <a class="sym-link system" href="axioms.html#def-char" data-sym="CHAR">char</a>))
          (let ((*backquote-counter* (<a class="sym-link system" href="axioms.html#def-1-" data-sym="1-">1-</a> *backquote-counter*)))
            (acl2-comma-reader stream)))))
    (when do-all-changes
      (<a class="sym-link local-def" href="#def-define-sharp-dot" data-sym="DEFINE-SHARP-DOT" title="(defun define-sharp-dot ()
  (set-dispatch-macro-character #\# #\. #&#39;sharp-dot-read))">define-sharp-dot</a>)
      (<a class="sym-link local-def" href="#def-define-sharp-bang" data-sym="DEFINE-SHARP-BANG" title="(defun define-sharp-bang ()
  (set-new-dispatch-macro-character #\# #\! #&#39;sharp-bang-read))">define-sharp-bang</a>)
      (<a class="sym-link local-def" href="#def-define-sharp-u" data-sym="DEFINE-SHARP-U" title="(defun define-sharp-u ()
  (set-new-dispatch-macro-character #\# #\u #&#39;sharp-u-read))">define-sharp-u</a>)
      (<a class="sym-link local-def" href="#def-define-sharp-f" data-sym="DEFINE-SHARP-F" title="(defun define-sharp-f ()
  (set-new-dispatch-macro-character #\# #\f #&#39;sharp-f-read))">define-sharp-f</a>)
      (<a class="sym-link local-def" href="#def-define-sharp-d" data-sym="DEFINE-SHARP-D" title="(defun define-sharp-d ()
  (set-new-dispatch-macro-character #\# #\d #&#39;sharp-d-read))">define-sharp-d</a>))
    (when do-all-changes
      (set-dispatch-macro-character #\#
        #\\
        (function acl2-character-reader)))))</pre>
  </div>

<div class="form-block other" id="form-89" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(eval-when (<span class="keyword">:load-toplevel</span> <span class="keyword">:execute</span> <span class="keyword">:compile-toplevel</span>)
  (<a class="sym-link local-def" href="#def-modify-acl2-readtable" data-sym="MODIFY-ACL2-READTABLE" title="(defun modify-acl2-readtable (do-all-changes)
  (let ((*readtable* *acl2-readtable*))
    (set-new-dispatch-macro-character #\# #\{ &#39;fancy-string-reader-macro)
    (set-new-dispatch-macro-character #\# #\Z &#39;ser-hons-reader-macro)
    (set-new-dispatch-macro-character #\# #\Y &#39;ser-cons-reader-macro)
...">modify-acl2-readtable</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>))</pre>
  </div>

<div class="form-block other" id="form-90" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defvar *reckless-acl2-readtable*
  (let ((*readtable* (copy-readtable *acl2-readtable*)))
    (set-dispatch-macro-character #\#
      #\#
      (function reckless-sharp-sharp-read))
    (set-dispatch-macro-character #\#
      #\=
      (function reckless-sharp-equal-read))
    (set-dispatch-macro-character #\#
      #\\
      *old-character-reader*)
    *readtable*))</pre>
  </div>

<div class="form-block function" id="def-non-trivial-acl2-proclaims-file-p" data-defines="NON-TRIVIAL-ACL2-PROCLAIMS-FILE-P" data-references="EQ,NOT,READ,VAL,CONS,NEW-CONS,LET*,AND,STR,WITH-OPEN-FILE,DEFUN" data-used-by="LOAD-ACL2,COMPILE-ACL2" data-part-name="NON-TRIVIAL-ACL2-PROCLAIMS-FILE-P" data-part-body="EQ,NOT,READ,VAL,CONS,NEW-CONS,LET*,AND,STR,WITH-OPEN-FILE" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="NON-TRIVIAL-ACL2-PROCLAIMS-FILE-P">non-trivial-acl2-proclaims-file-p</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-non-trivial-acl2-proclaims-file-p" data-sym="NON-TRIVIAL-ACL2-PROCLAIMS-FILE-P" title="(defun non-trivial-acl2-proclaims-file-p ()
  (with-open-file
      (str &quot;acl2-proclaims.lisp&quot; :direction :input :if-does-not-exist nil)
    (and str
         (let* ((new-cons (cons nil nil)) (val (read str nil new-cons)))
...">non-trivial-acl2-proclaims-file-p</a>
  nil
  (with-open-file (str <span class="string">"acl2-proclaims.lisp"</span>
      <span class="keyword">:direction</span> <span class="keyword">:input</span> <span class="keyword">:if-does-not-exist</span> nil)
    (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> str
      (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((new-cons (cons nil nil)) (val (read str nil new-cons)))
        (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> new-cons val))
          (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> new-cons (read str nil new-cons))))))))</pre>
  </div>

<div class="form-block function" id="def-compile-acl2" data-defines="COMPILE-ACL2" data-references="NOTE-COMPILE-OK,*COMPILED-FILE-EXTENSION*,LOAD-COMPILED,COMPILE-FILE,PROGN,*LISP-EXTENSION*,MAKE-PATHNAME,SOURCE,EQUAL,OR,*ACL2-FILES*,NAME,DOLIST,OUR-WITH-COMPILATION-UNIT,*ACL2-READTABLE*,*READTABLE*,LET,*SUPPRESS-COMPILE-BUILD-TIME*,CHECK-SUITABILITY-FOR-ACL2,QUOTE,READ,MEMBER,STR,WITH-OPEN-FILE,*ACL2-STATUS-FILE*,PROBE-FILE,UNLESS,QUASIQUOTE,ERROR,T,LOAD,NON-TRIVIAL-ACL2-PROCLAIMS-FILE-P,COND,WITH-WARNINGS-SUPPRESSED,PROCLAIM-OPTIMIZE,RETURN-FROM,*DO-PROCLAIMS*,NOT,AND,WHEN,USE-ACL2-PROCLAIMS,&OPTIONAL,DEFUN" data-used-by="LOAD-ACL2" data-part-name="COMPILE-ACL2" data-part-args="USE-ACL2-PROCLAIMS,&OPTIONAL" data-part-body="COMPILE-ACL2,RETURN-FROM,*DO-PROCLAIMS*,NOT,USE-ACL2-PROCLAIMS,AND,WHEN" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="COMPILE-ACL2">compile-acl2</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-compile-acl2" data-sym="COMPILE-ACL2" title="(defun compile-acl2 (&amp;optional use-acl2-proclaims)
  (when (and use-acl2-proclaims (not *do-proclaims*))
    (return-from compile-acl2 nil))
  (proclaim-optimize)
  (with-warnings-suppressed
...">compile-acl2</a>
  (&amp;optional use-acl2-proclaims)
  (when (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> use-acl2-proclaims (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> *do-proclaims*))
    (return-from <a class="sym-link local-def" href="#def-compile-acl2" data-sym="COMPILE-ACL2" title="(defun compile-acl2 (&amp;optional use-acl2-proclaims)
  (when (and use-acl2-proclaims (not *do-proclaims*))
    (return-from compile-acl2 nil))
  (proclaim-optimize)
  (with-warnings-suppressed
...">compile-acl2</a> nil))
  (<a class="sym-link local-def" href="#def-proclaim-optimize" data-sym="PROCLAIM-OPTIMIZE" title="(defun proclaim-optimize () (proclaim common-lisp-user::*acl2-optimize-form*))">proclaim-optimize</a>)
  (<a class="sym-link local-def" href="#def-with-warnings-suppressed" data-sym="WITH-WARNINGS-SUPPRESSED" title="(defmacro with-warnings-suppressed (&amp;rest forms)
  `(handler-bind ((warning
                   (lambda (c)
                     (declare (ignore c))
                     (invoke-restart &#39;muffle-warning))))">with-warnings-suppressed</a> (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (use-acl2-proclaims (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link local-def" href="#def-non-trivial-acl2-proclaims-file-p" data-sym="NON-TRIVIAL-ACL2-PROCLAIMS-FILE-P" title="(defun non-trivial-acl2-proclaims-file-p ()
  (with-open-file
      (str &quot;acl2-proclaims.lisp&quot; :direction :input :if-does-not-exist nil)
    (and str
         (let* ((new-cons (cons nil nil)) (val (read str nil new-cons)))
...">non-trivial-acl2-proclaims-file-p</a>) (load <span class="string">"acl2-proclaims.lisp"</span>))
          (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (error <span class="string">"Note: For the call ~s, generated file ~
                         &quot;acl2-proclaims.lisp&quot; is missing or has no forms ~
                         in it."</span>
              `(<a class="sym-link local-def" href="#def-compile-acl2" data-sym="COMPILE-ACL2" title="(defun compile-acl2 (&amp;optional use-acl2-proclaims)
  (when (and use-acl2-proclaims (not *do-proclaims*))
    (return-from compile-acl2 nil))
  (proclaim-optimize)
  (with-warnings-suppressed
...">compile-acl2</a> ,USE-ACL2-PROCLAIMS))))))
    (unless (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (probe-file *acl2-status-file*)
        (with-open-file (str *acl2-status-file* <span class="keyword">:direction</span> <span class="keyword">:input</span>)
          (<a class="sym-link system" href="axioms.html#def-member" data-sym="MEMBER">member</a> (read str nil) '(<span class="keyword">:compiled</span> <span class="keyword">:compile-skipped</span>))))
      (<a class="sym-link local-def" href="#def-check-suitability-for-acl2" data-sym="CHECK-SUITABILITY-FOR-ACL2" title="(defun check-suitability-for-acl2 ()
  (with-warnings-suppressed
   (or (not (probe-file *acl2-status-file*)) (delete-file *acl2-status-file*))
   (load &quot;acl2-check.lisp&quot;) t))">check-suitability-for-acl2</a>))
    (when (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> *suppress-compile-build-time*)
      (let ((*readtable* *acl2-readtable*))
        (<a class="sym-link local-def" href="#def-our-with-compilation-unit" data-sym="OUR-WITH-COMPILATION-UNIT" title="(defmacro our-with-compilation-unit (form) `(with-compilation-unit nil ,form))">our-with-compilation-unit</a> (dolist (name *acl2-files*)
            (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (equal name <span class="string">"defpkgs"</span>)
              (let ((source (make-pathname <span class="keyword">:name</span> name <span class="keyword">:type</span> *lisp-extension*)))
                (load source)
                (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (equal name <span class="string">"proof-builder-pkg"</span>)
                  (<a class="sym-link system" href="axioms.html#def-progn" data-sym="PROGN">progn</a> (compile-file source)
                    (load-compiled (make-pathname <span class="keyword">:name</span> name <span class="keyword">:type</span> *compiled-file-extension*))))))))))
    (<a class="sym-link local-def" href="#def-note-compile-ok" data-sym="NOTE-COMPILE-OK" title="(defun note-compile-ok ()
  (progn
   (or (not (probe-file *acl2-status-file*)) (delete-file *acl2-status-file*))
   (with-open-file (str *acl2-status-file* :direction :output)
     (format str &quot;~s&quot;
...">note-compile-ok</a>)))</pre>
  </div>

<div class="form-block function" id="def-load-acl2" data-defines="LOAD-ACL2" data-references="*THE-LIVE-STATE*,STATE,SET,IN-PACKAGE,MAKE-PATHNAME,LOAD-COMPILED,EQUAL,*ACL2-FILES*,NAME,DOLIST,*COMPILED-FILE-EXTENSION*,*LISP-EXTENSION*,EXTENSION,*ACL2-READTABLE*,*READTABLE*,LET,*SUPPRESS-COMPILE-BUILD-TIME*,IF,COMPILE-ACL2,QUOTE,READ,MEMBER,STR,WITH-OPEN-FILE,*ACL2-STATUS-FILE*,PROBE-FILE,NOT,OR,ERROR,T,LOAD,NON-TRIVIAL-ACL2-PROCLAIMS-FILE-P,COND,WHEN,WITH-WARNINGS-SUPPRESSED,OUR-WITH-COMPILATION-UNIT,PROCLAIM-OPTIMIZE,IGNORABLE,DECLARE,LOAD-ACL2-PROCLAIMS,FAST,&KEY,DEFUN" data-part-name="LOAD-ACL2" data-part-args="LOAD-ACL2-PROCLAIMS,FAST,&KEY" data-part-declare="FAST,IGNORABLE,DECLARE" data-part-body="PROCLAIM-OPTIMIZE" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="LOAD-ACL2">load-acl2</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-load-acl2" data-sym="LOAD-ACL2" title="(defun load-acl2 (&amp;key fast load-acl2-proclaims)
  (declare (ignorable fast))
  (proclaim-optimize)
  (our-with-compilation-unit
   (with-warnings-suppressed
...">load-acl2</a>
  (&amp;key fast load-acl2-proclaims)
  (declare (ignorable fast))
  (<a class="sym-link local-def" href="#def-proclaim-optimize" data-sym="PROCLAIM-OPTIMIZE" title="(defun proclaim-optimize () (proclaim common-lisp-user::*acl2-optimize-form*))">proclaim-optimize</a>)
  (<a class="sym-link local-def" href="#def-our-with-compilation-unit" data-sym="OUR-WITH-COMPILATION-UNIT" title="(defmacro our-with-compilation-unit (form) `(with-compilation-unit nil ,form))">our-with-compilation-unit</a> (<a class="sym-link local-def" href="#def-with-warnings-suppressed" data-sym="WITH-WARNINGS-SUPPRESSED" title="(defmacro with-warnings-suppressed (&amp;rest forms)
  `(handler-bind ((warning
                   (lambda (c)
                     (declare (ignore c))
                     (invoke-restart &#39;muffle-warning))))">with-warnings-suppressed</a> (when load-acl2-proclaims
        (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link local-def" href="#def-non-trivial-acl2-proclaims-file-p" data-sym="NON-TRIVIAL-ACL2-PROCLAIMS-FILE-P" title="(defun non-trivial-acl2-proclaims-file-p ()
  (with-open-file
      (str &quot;acl2-proclaims.lisp&quot; :direction :input :if-does-not-exist nil)
    (and str
         (let* ((new-cons (cons nil nil)) (val (read str nil new-cons)))
...">non-trivial-acl2-proclaims-file-p</a>) (load <span class="string">"acl2-proclaims.lisp"</span>))
          (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (error <span class="string">"Expected non-trivial file acl2-proclaims.lisp!"</span>))))
      (when (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (probe-file *acl2-status-file*))
          (with-open-file (str *acl2-status-file* <span class="keyword">:direction</span> <span class="keyword">:input</span>)
            (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-member" data-sym="MEMBER">member</a> (read str nil)
                '(<span class="keyword">:compiled</span> <span class="keyword">:compile-skipped</span> <span class="keyword">:initialized</span>)))))
        (error <span class="string">"Please run ~s, which will write the token ~s to the file ~
              acl2-status.txt."</span>
          '(<a class="sym-link local-def" href="#def-compile-acl2" data-sym="COMPILE-ACL2" title="(defun compile-acl2 (&amp;optional use-acl2-proclaims)
  (when (and use-acl2-proclaims (not *do-proclaims*))
    (return-from compile-acl2 nil))
  (proclaim-optimize)
  (with-warnings-suppressed
...">compile-acl2</a>)
          (if *suppress-compile-build-time*
            <span class="keyword">:compiled</span> <span class="keyword">:compile-skipped</span>)))
      (let ((*readtable* *acl2-readtable*) (extension (if *suppress-compile-build-time*
              *lisp-extension*
              *compiled-file-extension*)))
        (dolist (name *acl2-files*)
          (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (equal name <span class="string">"defpkgs"</span>)
            (if (equal name <span class="string">"proof-builder-pkg"</span>)
              (load <span class="string">"proof-builder-pkg.lisp"</span>)
              (load-compiled (make-pathname <span class="keyword">:name</span> name <span class="keyword">:type</span> extension)))))
        (load <span class="string">"defpkgs.lisp"</span>)
        (<a class="sym-link system" href="axioms.html#def-in-package" data-sym="IN-PACKAGE">in-package</a> <span class="string">"ACL2"</span>)
        (set 'state *the-live-state*)
        <span class="string">"ACL2"</span>))))</pre>
  </div>

<div class="form-block other" id="form-94" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(declaim (declaration xargs))</pre>
  </div>

<div class="form-block other" id="form-95" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(declaim (declaration irrelevant))</pre>
  </div>

<div class="form-block other" id="form-96" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defconstant *slashable-array*
  (let ((ar (make-array <span class="number">256</span> <span class="keyword">:initial-element</span> nil)))
    (loop for
      i
      in
      '(<span class="number">0</span> <span class="number">1</span>
        <span class="number">2</span>
        <span class="number">3</span>
        <span class="number">4</span>
        <span class="number">5</span>
        <span class="number">6</span>
        <span class="number">7</span>
        <span class="number">8</span>
        <span class="number">9</span>
        <span class="number">10</span>
        <span class="number">11</span>
        <span class="number">12</span>
        <span class="number">13</span>
        <span class="number">14</span>
        <span class="number">15</span>
        <span class="number">16</span>
        <span class="number">17</span>
        <span class="number">18</span>
        <span class="number">19</span>
        <span class="number">20</span>
        <span class="number">21</span>
        <span class="number">22</span>
        <span class="number">23</span>
        <span class="number">24</span>
        <span class="number">25</span>
        <span class="number">26</span>
        <span class="number">27</span>
        <span class="number">28</span>
        <span class="number">29</span>
        <span class="number">30</span>
        <span class="number">31</span>
        <span class="number">32</span>
        <span class="number">34</span>
        <span class="number">35</span>
        <span class="number">39</span>
        <span class="number">40</span>
        <span class="number">41</span>
        <span class="number">44</span>
        <span class="number">58</span>
        <span class="number">59</span>
        <span class="number">92</span>
        <span class="number">96</span>
        <span class="number">97</span>
        <span class="number">98</span>
        <span class="number">99</span>
        <span class="number">100</span>
        <span class="number">101</span>
        <span class="number">102</span>
        <span class="number">103</span>
        <span class="number">104</span>
        <span class="number">105</span>
        <span class="number">106</span>
        <span class="number">107</span>
        <span class="number">108</span>
        <span class="number">109</span>
        <span class="number">110</span>
        <span class="number">111</span>
        <span class="number">112</span>
        <span class="number">113</span>
        <span class="number">114</span>
        <span class="number">115</span>
        <span class="number">116</span>
        <span class="number">117</span>
        <span class="number">118</span>
        <span class="number">119</span>
        <span class="number">120</span>
        <span class="number">121</span>
        <span class="number">122</span>
        <span class="number">124</span>
        <span class="number">127</span>
        <span class="number">128</span>
        <span class="number">129</span>
        <span class="number">130</span>
        <span class="number">131</span>
        <span class="number">132</span>
        <span class="number">133</span>
        <span class="number">134</span>
        <span class="number">135</span>
        <span class="number">136</span>
        <span class="number">137</span>
        <span class="number">138</span>
        <span class="number">139</span>
        <span class="number">140</span>
        <span class="number">141</span>
        <span class="number">142</span>
        <span class="number">143</span>
        <span class="number">144</span>
        <span class="number">145</span>
        <span class="number">146</span>
        <span class="number">147</span>
        <span class="number">148</span>
        <span class="number">149</span>
        <span class="number">150</span>
        <span class="number">151</span>
        <span class="number">152</span>
        <span class="number">153</span>
        <span class="number">154</span>
        <span class="number">155</span>
        <span class="number">156</span>
        <span class="number">157</span>
        <span class="number">158</span>
        <span class="number">159</span>
        <span class="number">160</span>
        <span class="number">168</span>
        <span class="number">170</span>
        <span class="number">175</span>
        <span class="number">178</span>
        <span class="number">179</span>
        <span class="number">180</span>
        <span class="number">181</span>
        <span class="number">184</span>
        <span class="number">185</span>
        <span class="number">186</span>
        <span class="number">188</span>
        <span class="number">189</span>
        <span class="number">190</span>
        <span class="number">223</span>
        <span class="number">224</span>
        <span class="number">225</span>
        <span class="number">226</span>
        <span class="number">227</span>
        <span class="number">228</span>
        <span class="number">229</span>
        <span class="number">230</span>
        <span class="number">231</span>
        <span class="number">232</span>
        <span class="number">233</span>
        <span class="number">234</span>
        <span class="number">235</span>
        <span class="number">236</span>
        <span class="number">237</span>
        <span class="number">238</span>
        <span class="number">239</span>
        <span class="number">240</span>
        <span class="number">241</span>
        <span class="number">242</span>
        <span class="number">243</span>
        <span class="number">244</span>
        <span class="number">245</span>
        <span class="number">246</span>
        <span class="number">248</span>
        <span class="number">249</span>
        <span class="number">250</span>
        <span class="number">251</span>
        <span class="number">252</span>
        <span class="number">253</span>
        <span class="number">254</span>
        <span class="number">255</span>)
      do
      (setf (aref ar i) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>))
    ar))</pre>
  </div>

<div class="form-block other" id="form-97" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defconstant *suspiciously-first-numeric-array*
  (let ((ar (make-array <span class="number">256</span> <span class="keyword">:initial-element</span> nil)))
    (dolist (x '(#\0 #\1
          #\2
          #\3
          #\4
          #\5
          #\6
          #\7
          #\8
          #\9
          #\+
          #\-
          #\.
          #\^
          #\_))
      (setf (aref ar (char-code x)) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>))
    ar))</pre>
  </div>

<div class="form-block other" id="form-98" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defconstant *suspiciously-first-hex-array*
  (let ((ar (make-array <span class="number">256</span> <span class="keyword">:initial-element</span> nil)))
    (dolist (x '(#\0 #\1
          #\2
          #\3
          #\4
          #\5
          #\6
          #\7
          #\8
          #\9
          #\A
          #\B
          #\C
          #\D
          #\E
          #\F
          #\a
          #\b
          #\c
          #\d
          #\e
          #\f
          #\+
          #\-
          #\.
          #\^
          #\_))
      (setf (aref ar (char-code x)) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>))
    ar))</pre>
  </div>

<div class="form-block other" id="form-99" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defconstant *base-10-array*
  (let ((ar (make-array <span class="number">256</span> <span class="keyword">:initial-element</span> nil)))
    (dolist (x '(#\0 #\1 #\2 #\3 #\4 #\5 #\6 #\7 #\8 #\9))
      (setf (aref ar (char-code x)) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>))
    ar))</pre>
  </div>

<div class="form-block other" id="form-100" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defconstant *hex-array*
  (let ((ar (make-array <span class="number">256</span> <span class="keyword">:initial-element</span> nil)))
    (dolist (x '(#\0 #\1
          #\2
          #\3
          #\4
          #\5
          #\6
          #\7
          #\8
          #\9
          #\A
          #\B
          #\C
          #\D
          #\E
          #\F
          #\a
          #\b
          #\c
          #\d
          #\e
          #\f))
      (setf (aref ar (char-code x)) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>))
    ar))</pre>
  </div>

<div class="form-block other" id="form-101" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defconstant *letter-array*
  (let ((ar (make-array <span class="number">256</span> <span class="keyword">:initial-element</span> nil)))
    (dolist (ch '(#\A #\B
          #\C
          #\D
          #\E
          #\F
          #\G
          #\H
          #\I
          #\J
          #\K
          #\L
          #\M
          #\N
          #\O
          #\P
          #\Q
          #\R
          #\S
          #\T
          #\U
          #\V
          #\W
          #\X
          #\Y
          #\Z
          #\a
          #\b
          #\c
          #\d
          #\e
          #\f
          #\g
          #\h
          #\i
          #\j
          #\k
          #\l
          #\m
          #\n
          #\o
          #\p
          #\q
          #\r
          #\s
          #\t
          #\u
          #\v
          #\w
          #\x
          #\y
          #\z))
      (setf (aref ar (char-code ch)) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>))
    ar))</pre>
  </div>

<div class="form-block macro" id="def-suspiciously-first-numeric-array" data-defines="SUSPICIOUSLY-FIRST-NUMERIC-ARRAY" data-references="*SUSPICIOUSLY-FIRST-NUMERIC-ARRAY*,*SUSPICIOUSLY-FIRST-HEX-ARRAY*,EQL,IF,QUASIQUOTE,PRINT-BASE,DEFMACRO" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="SUSPICIOUSLY-FIRST-NUMERIC-ARRAY">suspiciously-first-numeric-array</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-suspiciously-first-numeric-array" data-sym="SUSPICIOUSLY-FIRST-NUMERIC-ARRAY" title="(defmacro suspiciously-first-numeric-array (print-base)
  `(if (eql ,print-base 16)
       *suspiciously-first-hex-array*
       *suspiciously-first-numeric-array*))">suspiciously-first-numeric-array</a>
  (<a class="sym-link system" href="axioms.html#def-print-base" data-sym="PRINT-BASE">print-base</a>)
  `(if (<a class="sym-link system" href="axioms.html#def-eql" data-sym="EQL">eql</a> ,PRINT-BASE <span class="number">16</span>)
    *suspiciously-first-hex-array*
    *suspiciously-first-numeric-array*))</pre>
  </div>

<div class="form-block macro" id="def-numeric-array" data-defines="NUMERIC-ARRAY" data-references="*BASE-10-ARRAY*,*HEX-ARRAY*,EQL,IF,QUASIQUOTE,PRINT-BASE,DEFMACRO" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="NUMERIC-ARRAY">numeric-array</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-numeric-array" data-sym="NUMERIC-ARRAY" title="(defmacro numeric-array (print-base)
  `(if (eql ,print-base 16)
       *hex-array*
       *base-10-array*))">numeric-array</a>
  (<a class="sym-link system" href="axioms.html#def-print-base" data-sym="PRINT-BASE">print-base</a>)
  `(if (<a class="sym-link system" href="axioms.html#def-eql" data-sym="EQL">eql</a> ,PRINT-BASE <span class="number">16</span>)
    *hex-array*
    *base-10-array*))</pre>
  </div>

<div class="form-block other" id="form-104" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defconstant *char-code-backslash* (char-code #\\))</pre>
  </div>

<div class="form-block other" id="form-105" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defconstant *char-code-slash* (char-code #\/))</pre>
  </div>

<div class="form-block other" id="form-106" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defconstant *char-code-double-gritch* (char-code #\&quot;))</pre>
  </div>

<div class="form-block other" id="form-107" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defconstant *big-n-special-object* '(nil))</pre>
  </div>

<div class="form-block other" id="form-108" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defconstant *number-of-return-values* <span class="number">32</span>)</pre>
  </div>

<div class="form-block other" id="form-109" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defconstant *boole-array*
  (let ((ar (make-array <span class="number">16</span> <span class="keyword">:element-type</span> 'fixnum)) (i <span class="number">0</span>))
    (declare (type (simple-array fixnum (<a class="sym-link system" href="axioms.html#def-_2A" data-sym="*">*</a>)) ar))
    (dolist (x `((boole-1 . ,BOOLE-1) (boole-2 . ,BOOLE-2)
          (boole-and . ,BOOLE-AND)
          (boole-andc1 . ,BOOLE-ANDC1)
          (boole-andc2 . ,BOOLE-ANDC2)
          (boole-c1 . ,BOOLE-C1)
          (boole-c2 . ,BOOLE-C2)
          (boole-clr . ,BOOLE-CLR)
          (boole-eqv . ,BOOLE-EQV)
          (boole-ior . ,BOOLE-IOR)
          (boole-nand . ,BOOLE-NAND)
          (boole-nor . ,BOOLE-NOR)
          (boole-orc1 . ,BOOLE-ORC1)
          (boole-orc2 . ,BOOLE-ORC2)
          (boole-set . ,BOOLE-SET)
          (boole-xor . ,BOOLE-XOR)))
      (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (typep (cdr x) 'fixnum)
        (error <span class="string">"We expected the value of ~s to be a fixnum, but it is ~s!"</span>
          (car x)
          (cdr x)))
      (setf (aref ar i) (cdr x))
      (incf i))
    ar))</pre>
  </div>

<div class="form-block other" id="form-110" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-progn" data-sym="PROGN">progn</a> (defconstant *mf-old-caller* (make-symbol <span class="string">"OLD-CALLER"</span>))
  (defconstant *mf-start-pons* (make-symbol <span class="string">"START-PONS"</span>))
  (defconstant *mf-start-bytes* (make-symbol <span class="string">"START-BYTES"</span>))
  (defconstant *mf-ans* (make-symbol <span class="string">"ANS"</span>))
  (defconstant *mf-ans-p* (make-symbol <span class="string">"ANS-P"</span>))
  (defconstant *mf-ma* (make-symbol <span class="string">"MA"</span>))
  (defconstant *mf-args* (make-symbol <span class="string">"ARGS"</span>))
  (defconstant *mf-2mmf* (make-symbol <span class="string">"MF-2MMF"</span>))
  (defconstant *mf-2mmf-fnn* (make-symbol <span class="string">"MF-2MMF-FNN"</span>))
  (defconstant *mf-count-loc* (make-symbol <span class="string">"MF-COUNT-LOC"</span>))
  (defconstant *attached-fn-temp*
    (make-symbol <span class="string">"ATTACHED-FN-TEMP"</span>)))</pre>
  </div>


  </main>
  
<script>
// ACL2 Book HTML Documentation - Interactive Features
// Generated by cert2 - build2 system

// State
let activeFilter = null;
let activePartFilter = null;
let activeNameFilter = null;
let currentFontSize = 14;

// Theme management
function getStoredTheme() {
  return localStorage.getItem('acl2-theme') || 'dark';
}

function setTheme(theme) {
  if (theme === 'light') {
    document.documentElement.setAttribute('data-theme', 'light');
    document.getElementById('theme-toggle').textContent = 'üåô';
  } else {
    document.documentElement.removeAttribute('data-theme');
    document.getElementById('theme-toggle').textContent = '‚òÄÔ∏è';
  }
  localStorage.setItem('acl2-theme', theme);
}

function toggleTheme() {
  const current = getStoredTheme();
  setTheme(current === 'dark' ? 'light' : 'dark');
}

// Font size management
function getStoredFontSize() {
  return parseInt(localStorage.getItem('acl2-fontsize') || '14', 10);
}

function setFontSize(size) {
  size = Math.max(10, Math.min(24, size)); // Clamp between 10-24
  currentFontSize = size;
  document.body.style.fontSize = size + 'px';
  localStorage.setItem('acl2-fontsize', size.toString());
}

function increaseFontSize() {
  setFontSize(currentFontSize + 2);
}

function decreaseFontSize() {
  setFontSize(currentFontSize - 2);
}

// Get all form blocks
function getFormBlocks() {
  return document.querySelectorAll('.form-block');
}

// Clear all filters
function clearFilter() {
  activeFilter = null;
  activePartFilter = null;
  activeNameFilter = null;
  getFormBlocks().forEach(b => {
    b.classList.remove('hidden', 'dimmed');
  });
  document.querySelectorAll('.part-btn').forEach(b => b.classList.remove('active'));
  const status = document.querySelector('.filter-status');
  status.classList.remove('active');
  // Slide name filter back to original position
  document.querySelector('.controls-left').style.transform = '';
  // Clear the name filter input
  const nameInput = document.getElementById('name-filter');
  if (nameInput) nameInput.value = '';
}

// Show filter status and slide name filter right
function showFilterStatus(text) {
  const status = document.querySelector('.filter-status');
  status.classList.add('active');
  status.querySelector('.filter-text').textContent = text;
  // Slide name filter to the right to make room
  setTimeout(() => {
    const statusWidth = status.offsetWidth;
    document.querySelector('.controls-left').style.transform = `translateX(${statusWidth + 15}px)`;
  }, 10);
}

// Filter to show only forms that define or reference a symbol
function filterBySymbol(symName, showUsedBy) {
  clearFilter();
  activeFilter = symName;
  
  const blocks = getFormBlocks();
  let visibleCount = 0;
  
  blocks.forEach(block => {
    const definesName = block.dataset.defines;
    const references = (block.dataset.references || '').split(',');
    const usedBy = (block.dataset.usedBy || '').split(',');
    
    let show = false;
    if (showUsedBy) {
      // Show forms that USE this symbol
      show = references.includes(symName) || definesName === symName;
    } else {
      // Show forms that this symbol USES
      show = usedBy.includes(symName) || definesName === symName;
    }
    
    if (show) {
      block.classList.remove('hidden');
      visibleCount++;
    } else {
      block.classList.add('hidden');
    }
  });
  
  // Update status
  showFilterStatus(`Filtering by: ${symName} (${visibleCount} items)`);
}

// Filter by defthm part (term, hints, rule-classes, etc.)
function filterByPart(formId, partName) {
  clearFilter();
  activePartFilter = { formId, partName };
  
  // Get the part's referenced symbols
  // data-part-term becomes dataset.partTerm, data-part-hints becomes dataset.partHints, etc.
  const block = document.getElementById(formId);
  const datasetKey = 'part' + partName.charAt(0).toUpperCase() + partName.slice(1).replace(/-([a-z])/g, (g) => g[1].toUpperCase());
  const partData = block.dataset[datasetKey];
  if (!partData) return;
  
  const partSyms = partData.split(',').filter(s => s);
  
  // Highlight the button
  block.querySelector(`.part-btn[data-part="${partName}"]`).classList.add('active');
  
  // Hide forms not referenced by this part
  getFormBlocks().forEach(b => {
    const definesName = b.dataset.defines;
    if (b.id === formId || partSyms.includes(definesName)) {
      b.classList.remove('hidden');
    } else {
      b.classList.add('hidden');
    }
  });
  
  // Update status
  showFilterStatus(`Filtering ${formId} :${partName} (${partSyms.length} references)`);
}

// Filter by name (substring or regex)
function filterByName(pattern, useRegex) {
  // Clear other filters but keep the input value
  activeFilter = null;
  activePartFilter = null;
  document.querySelectorAll('.part-btn').forEach(b => b.classList.remove('active'));
  
  if (!pattern || pattern.trim() === '') {
    // Empty pattern - show all
    activeNameFilter = null;
    getFormBlocks().forEach(b => b.classList.remove('hidden'));
    const status = document.querySelector('.filter-status');
    status.classList.remove('active');
    document.querySelector('.controls-left').style.transform = '';
    return;
  }
  
  activeNameFilter = pattern;
  
  let matcher;
  let isValidRegex = true;
  
  if (useRegex) {
    try {
      matcher = new RegExp(pattern, 'i');
    } catch (e) {
      // Invalid regex - show error in status and don't filter
      showFilterStatus(`Invalid regex: ${e.message}`);
      return;
    }
  } else {
    // Plain substring match (case-insensitive)
    const lowerPattern = pattern.toLowerCase();
    matcher = { test: (s) => s.toLowerCase().includes(lowerPattern) };
  }
  
  const blocks = getFormBlocks();
  let visibleCount = 0;
  
  blocks.forEach(block => {
    const definesName = block.dataset.defines || '';
    if (matcher.test(definesName)) {
      block.classList.remove('hidden');
      visibleCount++;
    } else {
      block.classList.add('hidden');
    }
  });
  
  // Update status
  const modeText = useRegex ? 'regex' : 'name';
  showFilterStatus(`Filtering by ${modeText}: "${pattern}" (${visibleCount} matches)`);
}

// Click on a name to show what references it
function handleNameClick(symName) {
  if (activeFilter === symName) {
    clearFilter();
  } else {
    filterBySymbol(symName, true);
  }
}

// Navigate to a definition (same file or different)
function navigateTo(symName, file) {
  if (file) {
    // External file - navigate
    window.location.href = file + '.html#def-' + symName.toLowerCase();
  } else {
    // Same file - scroll
    const target = document.getElementById('def-' + symName.toLowerCase());
    if (target) {
      target.scrollIntoView({ behavior: 'smooth', block: 'center' });
      target.classList.add('highlight');
      setTimeout(() => target.classList.remove('highlight'), 400);
    }
  }
}

// Initialize
document.addEventListener('DOMContentLoaded', () => {
  // Part buttons
  document.querySelectorAll('.part-btn').forEach(btn => {
    btn.addEventListener('click', (e) => {
      e.stopPropagation();
      const formId = btn.closest('.form-block').id;
      const partName = btn.dataset.part;
      if (activePartFilter && activePartFilter.formId === formId && 
          activePartFilter.partName === partName) {
        clearFilter();
      } else {
        filterByPart(formId, partName);
      }
    });
  });
  
  // Clear filter button
  document.querySelector('.clear-filter').addEventListener('click', clearFilter);
  
  // Name filter input
  const nameFilter = document.getElementById('name-filter');
  const regexToggle = document.getElementById('regex-toggle');
  
  let filterTimeout = null;
  nameFilter.addEventListener('input', () => {
    // Debounce the filter to avoid excessive updates while typing
    clearTimeout(filterTimeout);
    filterTimeout = setTimeout(() => {
      filterByName(nameFilter.value, regexToggle.checked);
    }, 150);
  });
  
  // Re-filter when regex toggle changes
  regexToggle.addEventListener('change', () => {
    if (nameFilter.value) {
      filterByName(nameFilter.value, regexToggle.checked);
    }
  });
  
  // Allow Escape key to clear filter when in input
  nameFilter.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
      clearFilter();
      nameFilter.blur();
    }
  });
  
  // Symbol references (old span-based refs)
  document.querySelectorAll('.sym-ref').forEach(ref => {
    ref.addEventListener('click', (e) => {
      e.stopPropagation();
      const sym = ref.dataset.sym;
      const file = ref.dataset.file;
      if (file) {
        navigateTo(sym, file);
      } else {
        handleNameClick(sym);
      }
    });
  });
  
  // Symbol links (new anchor-based links)
  // These use standard <a> tags so navigation happens automatically
  // But we need to clear filters if target would be hidden
  document.querySelectorAll('.sym-link').forEach(link => {
    link.addEventListener('click', (e) => {
      const href = link.getAttribute('href');
      if (href && href.startsWith('#')) {
        // Local link - check if target is hidden by filter
        const targetId = href.substring(1);
        const target = document.getElementById(targetId);
        if (target) {
          // If target is hidden, clear the filter first
          if (target.classList.contains('hidden')) {
            clearFilter();
          }
          // Add highlight effect after a short delay
          setTimeout(() => {
            target.classList.add('highlight');
            setTimeout(() => target.classList.remove('highlight'), 400);
          }, 100);
        }
      }
      // For external links, default behavior handles navigation
    });
  });
  
  // Form names (show what uses them)
  document.querySelectorAll('.form-name').forEach(name => {
    name.addEventListener('click', (e) => {
      handleNameClick(name.dataset.sym);
    });
  });
  
  // Handle hash navigation (when arriving at page with #anchor)
  if (window.location.hash) {
    const target = document.querySelector(window.location.hash);
    if (target) {
      setTimeout(() => {
        target.scrollIntoView({ behavior: 'smooth', block: 'center' });
        target.classList.add('highlight');
        setTimeout(() => target.classList.remove('highlight'), 400);
      }, 200);
    }
  }
  
  // Initialize theme from storage
  setTheme(getStoredTheme());
  
  // Initialize font size from storage
  currentFontSize = getStoredFontSize();
  setFontSize(currentFontSize);
  
  // Theme toggle button
  document.getElementById('theme-toggle').addEventListener('click', toggleTheme);
  
  // Font size buttons
  document.getElementById('font-larger').addEventListener('click', increaseFontSize);
  document.getElementById('font-smaller').addEventListener('click', decreaseFontSize);
});

</script>

</body>
</html>