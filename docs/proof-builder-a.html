<!DOCTYPE html>
<html lang="en" vocab="http://schema.org/" typeof="SoftwareSourceCode">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>proof-builder-a - ACL2 Book</title>
  <meta property="name" content="proof-builder-a">
  <meta property="programmingLanguage" content="ACL2">
  
<style>
/* ACL2 Book HTML Documentation Styles */
/* Generated by cert2 - build2 system */

/* Dark theme (default) */
:root {
  --bg: #1e1e2e;
  --fg: #cdd6f4;
  --comment: #6c7086;
  --keyword: #cba6f7;
  --string: #a6e3a1;
  --function: #89b4fa;
  --type: #f9e2af;
  --link: #89dceb;
  --link-hover: #f5c2e7;
  --highlight: rgba(137, 180, 250, 0.2);
  --border: #313244;
  --block-bg: rgba(49, 50, 68, 0.5);
  --btn-bg: #313244;
  --btn-hover: rgba(137, 180, 250, 0.2);
}

/* Light theme */
[data-theme="light"] {
  --bg: #eff1f5;
  --fg: #4c4f69;
  --comment: #6c6f85;
  --keyword: #8839ef;
  --string: #40a02b;
  --function: #1e66f5;
  --type: #df8e1d;
  --link: #04a5e5;
  --link-hover: #ea76cb;
  --highlight: rgba(30, 102, 245, 0.15);
  --border: #ccd0da;
  --block-bg: rgba(204, 208, 218, 0.3);
  --btn-bg: #ccd0da;
  --btn-hover: rgba(30, 102, 245, 0.15);
}

body {
  font-family: 'JetBrains Mono', 'Fira Code', monospace;
  background: var(--bg);
  color: var(--fg);
  margin: 0;
  padding: 20px;
  line-height: 1.6;
  font-size: 14px;
  transition: background 0.1s, color 0.1s;
}

/* Controls toolbar */
.controls-left {
  position: fixed;
  top: 10px;
  left: 20px;
  display: flex;
  gap: 8px;
  align-items: center;
  z-index: 200;
  transition: transform 0.1s ease;
}

.controls-right {
  position: fixed;
  top: 10px;
  right: 20px;
  display: flex;
  gap: 8px;
  align-items: center;
  z-index: 200;
}

.control-btn {
  padding: 6px 12px;
  background: var(--btn-bg);
  border: 1px solid var(--border);
  border-radius: 4px;
  color: var(--fg);
  cursor: pointer;
  font-family: inherit;
  font-size: 14px;
  transition: all 0.1s;
}

.control-btn:hover {
  background: var(--btn-hover);
  border-color: var(--link);
}

.name-filter {
  padding: 6px 10px;
  background: var(--btn-bg);
  border: 1px solid var(--border);
  border-radius: 4px;
  color: var(--fg);
  font-family: inherit;
  font-size: 13px;
  width: 150px;
  transition: all 0.1s;
}

.name-filter:focus {
  outline: none;
  border-color: var(--link);
  width: 200px;
}

.name-filter::placeholder {
  color: var(--comment);
}

.regex-label {
  display: flex;
  align-items: center;
  gap: 4px;
  color: var(--comment);
  font-size: 12px;
  cursor: pointer;
}

.regex-label input {
  cursor: pointer;
}

.book-header {
  border-bottom: 2px solid var(--border);
  padding-bottom: 20px;
  margin-bottom: 20px;
}

.book-header h1 {
  color: var(--keyword);
  margin: 0;
}

.book-header .path {
  color: var(--comment);
  font-size: 0.9em;
}

.book-header .path .source-link {
  color: var(--comment);
  text-decoration: none;
}

.book-header .path .source-link:hover {
  color: var(--link);
  text-decoration: underline;
}

.form-block {
  margin: 10px 0;
  padding: 15px;
  background: var(--block-bg);
  border-radius: 8px;
  border-left: 3px solid var(--border);
}

.form-block.theorem { border-left-color: var(--keyword); }
.form-block.function { border-left-color: var(--function); }
.form-block.macro { border-left-color: var(--type); }
.form-block.include-book { border-left-color: var(--string); }

.form-block.hidden { display: none; }
.form-block.dimmed { opacity: 0.3; }

.form-block.highlight {
  animation: highlight-pulse 0.4s ease-out;
}

@keyframes highlight-pulse {
  0% { background: var(--highlight); box-shadow: 0 0 20px var(--link); }
  100% { background: rgba(49, 50, 68, 0.5); box-shadow: none; }
}

.form-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
}

.form-name {
  color: var(--function);
  font-weight: bold;
  cursor: pointer;
}

.form-name:hover {
  color: var(--link-hover);
  text-decoration: underline;
}

.form-type {
  color: var(--comment);
  font-size: 0.85em;
}

pre.code {
  margin: 0;
  overflow-x: auto;
  white-space: pre-wrap;
  word-wrap: break-word;
}

.sym-ref {
  color: var(--link);
  cursor: pointer;
  border-radius: 2px;
}

.sym-ref:hover {
  background: var(--highlight);
  color: var(--link-hover);
}

.sym-ref.local-def { color: var(--function); font-weight: bold; }
.sym-ref.external { color: var(--type); }

/* Symbol links (clickable hyperlinks) */
.sym-link {
  color: var(--link);
  text-decoration: none;
  border-radius: 2px;
  cursor: pointer;
  position: relative;
}

.sym-link:hover {
  background: var(--highlight);
  color: var(--link-hover);
  text-decoration: underline;
}

.sym-link.local-def {
  color: var(--function);
  font-weight: bold;
}

.sym-link.external {
  color: var(--type);
}

/* Tooltips using title attribute with custom styling */
.sym-link[title] {
  /* Browser will show title on hover */
}

/* Syntax highlighting in code blocks */
.keyword {
  color: var(--keyword);
}

.string {
  color: var(--string);
}

.number {
  color: #f77524; /* orange */
}

/* Include-book path links */
.include-path {
  color: var(--string);
  text-decoration: none;
  border-radius: 2px;
  cursor: pointer;
}

.include-path:hover {
  background: var(--highlight);
  color: var(--link-hover);
  text-decoration: underline;
}

/* Part buttons for defthm */
.part-buttons {
  display: flex;
  gap: 5px;
  margin: 10px 0;
  flex-wrap: wrap;
}

.part-btn {
  padding: 4px 10px;
  background: var(--border);
  border: 1px solid var(--comment);
  border-radius: 4px;
  color: var(--fg);
  cursor: pointer;
  font-size: 0.85em;
  font-family: inherit;
}

.part-btn:hover {
  background: var(--highlight);
  border-color: var(--link);
}

.part-btn.active {
  background: var(--link);
  color: var(--bg);
  border-color: var(--link);
}

/* References panel */
.refs-panel {
  margin-top: 10px;
  padding: 10px;
  background: rgba(0,0,0,0.2);
  border-radius: 4px;
  display: none;
}

.refs-panel.visible { display: block; }

.refs-panel h4 {
  margin: 0 0 5px 0;
  color: var(--comment);
  font-size: 0.9em;
}

.refs-list {
  display: flex;
  flex-wrap: wrap;
  gap: 5px;
}

/* Included books section */
.includes-section {
  margin-bottom: 20px;
  padding: 15px;
  background: rgba(49, 50, 68, 0.3);
  border-radius: 8px;
  border: 1px solid var(--border);
}

.includes-section h2 {
  margin: 0 0 10px 0;
  color: var(--comment);
  font-size: 1em;
  font-weight: normal;
}

.includes-list {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.include-link {
  padding: 6px 12px;
  background: var(--border);
  border-radius: 4px;
  color: var(--link);
  text-decoration: none;
  font-size: 0.9em;
  transition: all 0.1s;
}

.include-link:hover {
  background: var(--highlight);
  color: var(--link-hover);
}

.include-link.local {
  border-left: 2px solid var(--comment);
}

/* Filter status */
.filter-status {
  position: fixed;
  top: 10px;
  left: 20px;
  background: var(--bg);
  padding: 6px 12px;
  border: 1px solid var(--border);
  border-radius: 4px;
  z-index: 201;
  display: none;
  align-items: center;
  gap: 10px;
}

.filter-status.active {
  display: flex;
  align-items: center;
  gap: 10px;
}

.clear-filter {
  padding: 5px 15px;
  background: var(--keyword);
  color: var(--bg);
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

/* RDFa vocab indicator */
[vocab] { /* semantic web annotations present */ }

</style>

</head>
<body>
  <div class="controls-left">
    <input type="text" id="name-filter" class="name-filter" placeholder="Filter by name..." title="Filter definitions by name">
    <label class="regex-label"><input type="checkbox" id="regex-toggle"> regex</label>
  </div>

  <div class="controls-right">
    <button class="control-btn" id="theme-toggle" title="Toggle light/dark theme">☀️</button>
    <button class="control-btn" id="font-smaller" title="Decrease font size">A-</button>
    <button class="control-btn" id="font-larger" title="Increase font size">A+</button>
  </div>

  <div class="filter-status">
    <span class="filter-text">Filtering...</span>
    <button class="clear-filter">Clear Filter</button>
  </div>
  
  <div class="book-header">
    <h1 property="name">proof-builder-a</h1>
    <div class="path"><a href="proof-builder-a.lisp" class="source-link">proof-builder-a</a></div>
  </div>
  
  <main property="text">
<div class="form-block other" id="form-0" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-in-package" data-sym="IN-PACKAGE">in-package</a> <span class="string">"ACL2"</span>)</pre>
  </div>

<div class="form-block macro" id="def-pc-value" data-defines="PC-VALUE" data-references="PC-OUTPUT,ASSOC-EQ,CDR,QUASIQUOTE,T,STATE,PC-SS-ALIST,F-GET-GLOBAL,SS-ALIST,QUOTE,EQ,COND,SYM,DEFMACRO" data-used-by="SS-ALIST,OLD-SS,STATE-STACK" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="PC-VALUE">pc-value</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-pc-value" data-sym="PC-VALUE" title="(defmacro pc-value (sym)
  (cond ((eq sym &#39;ss-alist) &#39;(f-get-global &#39;pc-ss-alist state))
        (t `(cdr (assoc-eq &#39;,sym (f-get-global &#39;pc-output state))))))">pc-value</a>
  (sym)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> sym '<a class="sym-link local-def" href="#def-ss-alist" data-sym="SS-ALIST" title="(defmacro ss-alist () &#39;(pc-value ss-alist))">ss-alist</a>) '(<a class="sym-link system" href="axioms.html#def-f-get-global" data-sym="F-GET-GLOBAL">f-get-global</a> 'pc-ss-alist state))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> `(cdr (<a class="sym-link system" href="axioms.html#def-assoc-eq" data-sym="ASSOC-EQ">assoc-eq</a> ',SYM (<a class="sym-link system" href="axioms.html#def-f-get-global" data-sym="F-GET-GLOBAL">f-get-global</a> 'pc-output state))))))</pre>
  </div>

<div class="form-block macro" id="def-pc-assign" data-defines="PC-ASSIGN" data-references="F-GET-GLOBAL,PUT-ASSOC-EQ,PC-OUTPUT,T,STATE,PC-SS-ALIST,F-PUT-GLOBAL,QUASIQUOTE,SS-ALIST,QUOTE,EQ,COND,VAL,KEY,DEFMACRO" data-used-by="INSTALL-INITIAL-STATE-STACK,PC-SINGLE-STEP,PC-SINGLE-STEP-PRIMITIVE,INITIALIZE-PC-ACL2" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="PC-ASSIGN">pc-assign</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-pc-assign" data-sym="PC-ASSIGN" title="(defmacro pc-assign (key val)
  (cond ((eq key &#39;ss-alist) `(f-put-global &#39;pc-ss-alist ,val state))
        (t
         `(f-put-global &#39;pc-output
                        (put-assoc-eq &#39;,key ,val
...">pc-assign</a>
  (key val)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> key '<a class="sym-link local-def" href="#def-ss-alist" data-sym="SS-ALIST" title="(defmacro ss-alist () &#39;(pc-value ss-alist))">ss-alist</a>) `(<a class="sym-link system" href="axioms.html#def-f-put-global" data-sym="F-PUT-GLOBAL">f-put-global</a> 'pc-ss-alist ,VAL state))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> `(<a class="sym-link system" href="axioms.html#def-f-put-global" data-sym="F-PUT-GLOBAL">f-put-global</a> 'pc-output
        (<a class="sym-link system" href="axioms.html#def-put-assoc-eq" data-sym="PUT-ASSOC-EQ">put-assoc-eq</a> ',KEY ,VAL (<a class="sym-link system" href="axioms.html#def-f-get-global" data-sym="F-GET-GLOBAL">f-get-global</a> 'pc-output state))
        state))))</pre>
  </div>

<div class="form-block function" id="def-initialize-pc-acl2" data-defines="INITIALIZE-PC-ACL2" data-references="IN-VERIFY-FLG,PC-DEPTH,NEXT-PC-ENABLED-ARRAY-SUFFIX,STATE-STACK,OLD-SS,SS-ALIST,PC-ASSIGN,PPROGN,PC-OUTPUT,ASSIGN,ER-PROGN,STATE,DEFUN" data-part-name="INITIALIZE-PC-ACL2" data-part-args="STATE" data-part-body="IN-VERIFY-FLG,PC-DEPTH,NEXT-PC-ENABLED-ARRAY-SUFFIX,STATE-STACK,OLD-SS,SS-ALIST,PC-ASSIGN,PPROGN,PC-OUTPUT,ASSIGN,ER-PROGN" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="INITIALIZE-PC-ACL2">initialize-pc-acl2</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-initialize-pc-acl2" data-sym="INITIALIZE-PC-ACL2" title="(defun initialize-pc-acl2 (state)
  (er-progn (assign pc-output nil)
            (pprogn (pc-assign ss-alist nil) (pc-assign old-ss nil)
                    (pc-assign state-stack nil)
                    (pc-assign next-pc-enabled-array-suffix 0)">initialize-pc-acl2</a>
  (state)
  (<a class="sym-link system" href="axioms.html#def-er-progn" data-sym="ER-PROGN">er-progn</a> (<a class="sym-link system" href="axioms.html#def-assign" data-sym="ASSIGN">assign</a> pc-output nil)
    (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link local-def" href="#def-pc-assign" data-sym="PC-ASSIGN" title="(defmacro pc-assign (key val)
  (cond ((eq key &#39;ss-alist) `(f-put-global &#39;pc-ss-alist ,val state))
        (t
         `(f-put-global &#39;pc-output
                        (put-assoc-eq &#39;,key ,val
...">pc-assign</a> <a class="sym-link local-def" href="#def-ss-alist" data-sym="SS-ALIST" title="(defmacro ss-alist () &#39;(pc-value ss-alist))">ss-alist</a> nil)
      (<a class="sym-link local-def" href="#def-pc-assign" data-sym="PC-ASSIGN" title="(defmacro pc-assign (key val)
  (cond ((eq key &#39;ss-alist) `(f-put-global &#39;pc-ss-alist ,val state))
        (t
         `(f-put-global &#39;pc-output
                        (put-assoc-eq &#39;,key ,val
...">pc-assign</a> <a class="sym-link local-def" href="#def-old-ss" data-sym="OLD-SS" title="(defmacro old-ss () &#39;(pc-value old-ss))">old-ss</a> nil)
      (<a class="sym-link local-def" href="#def-pc-assign" data-sym="PC-ASSIGN" title="(defmacro pc-assign (key val)
  (cond ((eq key &#39;ss-alist) `(f-put-global &#39;pc-ss-alist ,val state))
        (t
         `(f-put-global &#39;pc-output
                        (put-assoc-eq &#39;,key ,val
...">pc-assign</a> <a class="sym-link local-def" href="#def-state-stack" data-sym="STATE-STACK" title="(defmacro state-stack () &#39;(pc-value state-stack))">state-stack</a> nil)
      (<a class="sym-link local-def" href="#def-pc-assign" data-sym="PC-ASSIGN" title="(defmacro pc-assign (key val)
  (cond ((eq key &#39;ss-alist) `(f-put-global &#39;pc-ss-alist ,val state))
        (t
         `(f-put-global &#39;pc-output
                        (put-assoc-eq &#39;,key ,val
...">pc-assign</a> next-pc-enabled-array-suffix <span class="number">0</span>)
      (<a class="sym-link local-def" href="#def-pc-assign" data-sym="PC-ASSIGN" title="(defmacro pc-assign (key val)
  (cond ((eq key &#39;ss-alist) `(f-put-global &#39;pc-ss-alist ,val state))
        (t
         `(f-put-global &#39;pc-output
                        (put-assoc-eq &#39;,key ,val
...">pc-assign</a> pc-depth <span class="number">0</span>)
      (<a class="sym-link system" href="axioms.html#def-assign" data-sym="ASSIGN">assign</a> in-verify-flg nil))))</pre>
  </div>

<div class="form-block macro" id="def-state-stack" data-defines="STATE-STACK" data-references="PC-VALUE,QUOTE,DEFMACRO" data-used-by="PROOF-BUILDER,STATE-STACK-FROM-INSTRUCTIONS,VERIFY-FN,INSTALL-INITIAL-STATE-STACK,EVENT-NAME-AND-TYPES-AND-RAW-TERM,PC-SINGLE-STEP,PC-SINGLE-STEP-PRIMITIVE,PC-META-OR-MACRO-DEFUN,PC-PRIMITIVE-DEFUN-FORM,INITIALIZE-PC-ACL2" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="STATE-STACK">state-stack</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-state-stack" data-sym="STATE-STACK" title="(defmacro state-stack () &#39;(pc-value state-stack))">state-stack</a> nil '(<a class="sym-link local-def" href="#def-pc-value" data-sym="PC-VALUE" title="(defmacro pc-value (sym)
  (cond ((eq sym &#39;ss-alist) &#39;(f-get-global &#39;pc-ss-alist state))
        (t `(cdr (assoc-eq &#39;,sym (f-get-global &#39;pc-output state))))))">pc-value</a> <a class="sym-link local-def" href="#def-state-stack" data-sym="STATE-STACK" title="(defmacro state-stack () &#39;(pc-value state-stack))">state-stack</a>))</pre>
  </div>

<div class="form-block macro" id="def-old-ss" data-defines="OLD-SS" data-references="PC-VALUE,QUOTE,DEFMACRO" data-used-by="INSTALL-INITIAL-STATE-STACK,INITIALIZE-PC-ACL2" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="OLD-SS">old-ss</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-old-ss" data-sym="OLD-SS" title="(defmacro old-ss () &#39;(pc-value old-ss))">old-ss</a> nil '(<a class="sym-link local-def" href="#def-pc-value" data-sym="PC-VALUE" title="(defmacro pc-value (sym)
  (cond ((eq sym &#39;ss-alist) &#39;(f-get-global &#39;pc-ss-alist state))
        (t `(cdr (assoc-eq &#39;,sym (f-get-global &#39;pc-output state))))))">pc-value</a> <a class="sym-link local-def" href="#def-old-ss" data-sym="OLD-SS" title="(defmacro old-ss () &#39;(pc-value old-ss))">old-ss</a>))</pre>
  </div>

<div class="form-block macro" id="def-ss-alist" data-defines="SS-ALIST" data-references="PC-VALUE,QUOTE,DEFMACRO" data-used-by="INITIALIZE-PC-ACL2,PC-ASSIGN,PC-VALUE" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="SS-ALIST">ss-alist</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-ss-alist" data-sym="SS-ALIST" title="(defmacro ss-alist () &#39;(pc-value ss-alist))">ss-alist</a> nil '(<a class="sym-link local-def" href="#def-pc-value" data-sym="PC-VALUE" title="(defmacro pc-value (sym)
  (cond ((eq sym &#39;ss-alist) &#39;(f-get-global &#39;pc-ss-alist state))
        (t `(cdr (assoc-eq &#39;,sym (f-get-global &#39;pc-output state))))))">pc-value</a> <a class="sym-link local-def" href="#def-ss-alist" data-sym="SS-ALIST" title="(defmacro ss-alist () &#39;(pc-value ss-alist))">ss-alist</a>))</pre>
  </div>

<div class="form-block other" id="form-7" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="basis-a.html#def-defrec" data-sym="DEFREC">defrec</a> pc-info
  ((print-macroexpansion-flg . print-prompt-and-instr-flg) prompt . prompt-depth-prefix)
  nil)</pre>
  </div>

<div class="form-block macro" id="def-pc-print-prompt-and-instr-flg" data-defines="PC-PRINT-PROMPT-AND-INSTR-FLG" data-references="STATE,F-GET-GLOBAL,PC-INFO,ACCESS,QUOTE,DEFMACRO" data-used-by="PC-MAIN,PC-MAIN1,PC-MAIN-LOOP" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="PC-PRINT-PROMPT-AND-INSTR-FLG">pc-print-prompt-and-instr-flg</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-pc-print-prompt-and-instr-flg" data-sym="PC-PRINT-PROMPT-AND-INSTR-FLG" title="(defmacro pc-print-prompt-and-instr-flg ()
  &#39;(access pc-info (f-get-global &#39;pc-info state) :print-prompt-and-instr-flg))">pc-print-prompt-and-instr-flg</a>
  nil
  '(<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> pc-info
    (<a class="sym-link system" href="axioms.html#def-f-get-global" data-sym="F-GET-GLOBAL">f-get-global</a> 'pc-info state)
    <span class="keyword">:print-prompt-and-instr-flg</span>))</pre>
  </div>

<div class="form-block macro" id="def-pc-print-macroexpansion-flg" data-defines="PC-PRINT-MACROEXPANSION-FLG" data-references="STATE,F-GET-GLOBAL,PC-INFO,ACCESS,QUOTE,DEFMACRO" data-used-by="MAYBE-PRINT-MACROEXPANSION" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="PC-PRINT-MACROEXPANSION-FLG">pc-print-macroexpansion-flg</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-pc-print-macroexpansion-flg" data-sym="PC-PRINT-MACROEXPANSION-FLG" title="(defmacro pc-print-macroexpansion-flg ()
  &#39;(access pc-info (f-get-global &#39;pc-info state) :print-macroexpansion-flg))">pc-print-macroexpansion-flg</a>
  nil
  '(<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> pc-info
    (<a class="sym-link system" href="axioms.html#def-f-get-global" data-sym="F-GET-GLOBAL">f-get-global</a> 'pc-info state)
    <span class="keyword">:print-macroexpansion-flg</span>))</pre>
  </div>

<div class="form-block macro" id="def-pc-prompt" data-defines="PC-PROMPT" data-references="STATE,F-GET-GLOBAL,PC-INFO,ACCESS,QUOTE,DEFMACRO" data-used-by="PRINT-PC-PROMPT" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="PC-PROMPT">pc-prompt</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-pc-prompt" data-sym="PC-PROMPT" title="(defmacro pc-prompt () &#39;(access pc-info (f-get-global &#39;pc-info state) :prompt))">pc-prompt</a>
  nil
  '(<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> pc-info (<a class="sym-link system" href="axioms.html#def-f-get-global" data-sym="F-GET-GLOBAL">f-get-global</a> 'pc-info state) <span class="keyword">:prompt</span>))</pre>
  </div>

<div class="form-block macro" id="def-pc-prompt-depth-prefix" data-defines="PC-PROMPT-DEPTH-PREFIX" data-references="STATE,F-GET-GLOBAL,PC-INFO,ACCESS,QUOTE,DEFMACRO" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="PC-PROMPT-DEPTH-PREFIX">pc-prompt-depth-prefix</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-pc-prompt-depth-prefix" data-sym="PC-PROMPT-DEPTH-PREFIX" title="(defmacro pc-prompt-depth-prefix ()
  &#39;(access pc-info (f-get-global &#39;pc-info state) :prompt-depth-prefix))">pc-prompt-depth-prefix</a>
  nil
  '(<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> pc-info
    (<a class="sym-link system" href="axioms.html#def-f-get-global" data-sym="F-GET-GLOBAL">f-get-global</a> 'pc-info state)
    <span class="keyword">:prompt-depth-prefix</span>))</pre>
  </div>

<div class="form-block other" id="form-12" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="basis-a.html#def-defrec" data-sym="DEFREC">defrec</a> pc-state
  (<a class="sym-link local-def" href="#def-instruction" data-sym="INSTRUCTION" title="(defmacro instruction (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">instruction</a> (<a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a> . <a class="sym-link local-def" href="#def-abbreviations" data-sym="ABBREVIATIONS" title="(defmacro abbreviations (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">abbreviations</a>)
    <a class="sym-link local-def" href="#def-local-tag-tree" data-sym="LOCAL-TAG-TREE" title="(defmacro local-tag-tree (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">local-tag-tree</a>
    <a class="sym-link local-def" href="#def-pc-ens" data-sym="PC-ENS" title="(defmacro pc-ens (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">pc-ens</a> . <a class="sym-link local-def" href="#def-tag-tree" data-sym="TAG-TREE" title="(defmacro tag-tree (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">tag-tree</a>)
  nil)</pre>
  </div>

<div class="form-block constant" id="def-_2Apc-state-fields-for-primitives_2A" data-defines="*PC-STATE-FIELDS-FOR-PRIMITIVES*" data-references="PC-ENS,LOCAL-TAG-TREE,TAG-TREE,ABBREVIATIONS,GOALS,INSTRUCTION,QUOTE,DEFCONST" data-used-by="CHECK-FIELD-NAMES,LET-FORM-FOR-PC-STATE-VARS" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="*PC-STATE-FIELDS-FOR-PRIMITIVES*">*pc-state-fields-for-primitives*</span><span class="form-type">constant</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defconst" data-sym="DEFCONST">defconst</a> <a class="sym-link local-def" href="#def-_2Apc-state-fields-for-primitives_2A" data-sym="*PC-STATE-FIELDS-FOR-PRIMITIVES*" title="(defconst *pc-state-fields-for-primitives*
          &#39;(instruction goals abbreviations tag-tree local-tag-tree pc-ens))">*pc-state-fields-for-primitives*</a>
  '(<a class="sym-link local-def" href="#def-instruction" data-sym="INSTRUCTION" title="(defmacro instruction (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">instruction</a> <a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a>
    <a class="sym-link local-def" href="#def-abbreviations" data-sym="ABBREVIATIONS" title="(defmacro abbreviations (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">abbreviations</a>
    <a class="sym-link local-def" href="#def-tag-tree" data-sym="TAG-TREE" title="(defmacro tag-tree (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">tag-tree</a>
    <a class="sym-link local-def" href="#def-local-tag-tree" data-sym="LOCAL-TAG-TREE" title="(defmacro local-tag-tree (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">local-tag-tree</a>
    <a class="sym-link local-def" href="#def-pc-ens" data-sym="PC-ENS" title="(defmacro pc-ens (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">pc-ens</a>))</pre>
  </div>

<div class="form-block macro" id="def-instruction" data-defines="INSTRUCTION" data-references="CAR,PC-STATE,ACCESS,QUASIQUOTE,STATE-STACK-SUPPLIED-P,&OPTIONAL,DEFMACRO" data-used-by="*PC-STATE-FIELDS-FOR-PRIMITIVES*" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="INSTRUCTION">instruction</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-instruction" data-sym="INSTRUCTION" title="(defmacro instruction (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">instruction</a>
  (&amp;optional state-stack-supplied-p)
  `(<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> pc-state
    (car ,(IF STATE-STACK-SUPPLIED-P
     &#39;STATE-STACK
     &#39;(STATE-STACK)))
    <span class="keyword">:instruction</span>))</pre>
  </div>

<div class="form-block macro" id="def-goals" data-defines="GOALS" data-references="CAR,PC-STATE,ACCESS,QUASIQUOTE,STATE-STACK-SUPPLIED-P,&OPTIONAL,DEFMACRO" data-used-by="PROOF-BUILDER,PRINT-UNPROVED-GOALS-MESSAGE,PC-SINGLE-STEP-PRIMITIVE,UNPROVED-GOALS,MAYBE-PRINT-PROVED-GOAL-MESSAGE,WHEN-GOALS-TRIP,WHEN-GOALS,FIND-GOAL,GOAL-NAMES,LET-FORM-FOR-PC-STATE-VARS,DEPENDS-ON,GOAL-NAME,CURRENT-ADDR,HYPS,CONC,*PC-STATE-FIELDS-FOR-PRIMITIVES*" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="GOALS">goals</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a>
  (&amp;optional state-stack-supplied-p)
  `(<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> pc-state
    (car ,(IF STATE-STACK-SUPPLIED-P
     &#39;STATE-STACK
     &#39;(STATE-STACK)))
    <span class="keyword">:goals</span>))</pre>
  </div>

<div class="form-block macro" id="def-abbreviations" data-defines="ABBREVIATIONS" data-references="CAR,PC-STATE,ACCESS,QUASIQUOTE,STATE-STACK-SUPPLIED-P,&OPTIONAL,DEFMACRO" data-used-by="UNTRANS0-LST,UNTRANS0-LST-FN,UNTRANS0,ABBREVIATE,*PC-STATE-FIELDS-FOR-PRIMITIVES*" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="ABBREVIATIONS">abbreviations</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-abbreviations" data-sym="ABBREVIATIONS" title="(defmacro abbreviations (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">abbreviations</a>
  (&amp;optional state-stack-supplied-p)
  `(<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> pc-state
    (car ,(IF STATE-STACK-SUPPLIED-P
     &#39;STATE-STACK
     &#39;(STATE-STACK)))
    <span class="keyword">:abbreviations</span>))</pre>
  </div>

<div class="form-block macro" id="def-local-tag-tree" data-defines="LOCAL-TAG-TREE" data-references="CAR,PC-STATE,ACCESS,QUASIQUOTE,STATE-STACK-SUPPLIED-P,&OPTIONAL,DEFMACRO" data-used-by="*PC-STATE-FIELDS-FOR-PRIMITIVES*" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="LOCAL-TAG-TREE">local-tag-tree</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-local-tag-tree" data-sym="LOCAL-TAG-TREE" title="(defmacro local-tag-tree (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">local-tag-tree</a>
  (&amp;optional state-stack-supplied-p)
  `(<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> pc-state
    (car ,(IF STATE-STACK-SUPPLIED-P
     &#39;STATE-STACK
     &#39;(STATE-STACK)))
    <span class="keyword">:local-tag-tree</span>))</pre>
  </div>

<div class="form-block macro" id="def-pc-ens" data-defines="PC-ENS" data-references="CAR,PC-STATE,ACCESS,QUASIQUOTE,STATE-STACK-SUPPLIED-P,&OPTIONAL,DEFMACRO" data-used-by="INITIAL-STATE-STACK,PC-SINGLE-STEP-PRIMITIVE,MAKE-PC-ENS,PC-PROCESS-ASSUMPTIONS,*PC-STATE-FIELDS-FOR-PRIMITIVES*" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="PC-ENS">pc-ens</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-pc-ens" data-sym="PC-ENS" title="(defmacro pc-ens (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">pc-ens</a>
  (&amp;optional state-stack-supplied-p)
  `(<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> pc-state
    (car ,(IF STATE-STACK-SUPPLIED-P
     &#39;STATE-STACK
     &#39;(STATE-STACK)))
    <span class="keyword">:pc-ens</span>))</pre>
  </div>

<div class="form-block macro" id="def-tag-tree" data-defines="TAG-TREE" data-references="CAR,PC-STATE,ACCESS,QUASIQUOTE,STATE-STACK-SUPPLIED-P,&OPTIONAL,DEFMACRO" data-used-by="PC-SINGLE-STEP-PRIMITIVE,*PC-STATE-FIELDS-FOR-PRIMITIVES*" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="TAG-TREE">tag-tree</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-tag-tree" data-sym="TAG-TREE" title="(defmacro tag-tree (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">tag-tree</a>
  (&amp;optional state-stack-supplied-p)
  `(<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> pc-state
    (car ,(IF STATE-STACK-SUPPLIED-P
     &#39;STATE-STACK
     &#39;(STATE-STACK)))
    <span class="keyword">:tag-tree</span>))</pre>
  </div>

<div class="form-block other" id="form-20" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="basis-a.html#def-defrec" data-sym="DEFREC">defrec</a> goal
  (<a class="sym-link local-def" href="#def-conc" data-sym="CONC" title="(defmacro conc (&amp;optional ss-supplied-p)
  `(access goal (car (goals ,ss-supplied-p)) :conc))">conc</a> <a class="sym-link local-def" href="#def-depends-on" data-sym="DEPENDS-ON" title="(defmacro depends-on (&amp;optional ss-supplied-p)
  `(access goal (car (goals ,ss-supplied-p)) :depends-on))">depends-on</a> (<a class="sym-link local-def" href="#def-hyps" data-sym="HYPS" title="(defmacro hyps (&amp;optional ss-supplied-p)
  `(access goal (car (goals ,ss-supplied-p)) :hyps))">hyps</a> . <a class="sym-link local-def" href="#def-current-addr" data-sym="CURRENT-ADDR" title="(defmacro current-addr (&amp;optional ss-supplied-p)
  `(access goal (car (goals ,ss-supplied-p)) :current-addr))">current-addr</a>) <a class="sym-link local-def" href="#def-goal-name" data-sym="GOAL-NAME" title="(defmacro goal-name (&amp;optional ss-supplied-p)
  `(access goal (car (goals ,ss-supplied-p)) :goal-name))">goal-name</a>)
  <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)</pre>
  </div>

<div class="form-block constant" id="def-_2Agoal-fields_2A" data-defines="*GOAL-FIELDS*" data-references="DEPENDS-ON,GOAL-NAME,CURRENT-ADDR,HYPS,CONC,QUOTE,DEFCONST" data-used-by="CHECK-FIELD-NAMES,LET-FORM-FOR-PC-STATE-VARS" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="*GOAL-FIELDS*">*goal-fields*</span><span class="form-type">constant</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defconst" data-sym="DEFCONST">defconst</a> <a class="sym-link local-def" href="#def-_2Agoal-fields_2A" data-sym="*GOAL-FIELDS*" title="(defconst *goal-fields* &#39;(conc hyps current-addr goal-name depends-on))">*goal-fields*</a>
  '(<a class="sym-link local-def" href="#def-conc" data-sym="CONC" title="(defmacro conc (&amp;optional ss-supplied-p)
  `(access goal (car (goals ,ss-supplied-p)) :conc))">conc</a> <a class="sym-link local-def" href="#def-hyps" data-sym="HYPS" title="(defmacro hyps (&amp;optional ss-supplied-p)
  `(access goal (car (goals ,ss-supplied-p)) :hyps))">hyps</a> <a class="sym-link local-def" href="#def-current-addr" data-sym="CURRENT-ADDR" title="(defmacro current-addr (&amp;optional ss-supplied-p)
  `(access goal (car (goals ,ss-supplied-p)) :current-addr))">current-addr</a> <a class="sym-link local-def" href="#def-goal-name" data-sym="GOAL-NAME" title="(defmacro goal-name (&amp;optional ss-supplied-p)
  `(access goal (car (goals ,ss-supplied-p)) :goal-name))">goal-name</a> <a class="sym-link local-def" href="#def-depends-on" data-sym="DEPENDS-ON" title="(defmacro depends-on (&amp;optional ss-supplied-p)
  `(access goal (car (goals ,ss-supplied-p)) :depends-on))">depends-on</a>))</pre>
  </div>

<div class="form-block macro" id="def-conc" data-defines="CONC" data-references="GOALS,CAR,GOAL,ACCESS,QUASIQUOTE,SS-SUPPLIED-P,&OPTIONAL,DEFMACRO" data-used-by="*GOAL-FIELDS*" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="CONC">conc</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-conc" data-sym="CONC" title="(defmacro conc (&amp;optional ss-supplied-p)
  `(access goal (car (goals ,ss-supplied-p)) :conc))">conc</a>
  (&amp;optional ss-supplied-p)
  `(<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> goal (car (<a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a> ,SS-SUPPLIED-P)) <span class="keyword">:conc</span>))</pre>
  </div>

<div class="form-block macro" id="def-hyps" data-defines="HYPS" data-references="GOALS,CAR,GOAL,ACCESS,QUASIQUOTE,SS-SUPPLIED-P,&OPTIONAL,DEFMACRO" data-used-by="PRINT-PC-GOAL,PC-SINGLE-STEP-PRIMITIVE,MAKE-NEW-GOALS-FIXED-HYPS,*GOAL-FIELDS*" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="HYPS">hyps</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-hyps" data-sym="HYPS" title="(defmacro hyps (&amp;optional ss-supplied-p)
  `(access goal (car (goals ,ss-supplied-p)) :hyps))">hyps</a>
  (&amp;optional ss-supplied-p)
  `(<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> goal (car (<a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a> ,SS-SUPPLIED-P)) <span class="keyword">:hyps</span>))</pre>
  </div>

<div class="form-block macro" id="def-current-addr" data-defines="CURRENT-ADDR" data-references="GOALS,CAR,GOAL,ACCESS,QUASIQUOTE,SS-SUPPLIED-P,&OPTIONAL,DEFMACRO" data-used-by="*GOAL-FIELDS*" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="CURRENT-ADDR">current-addr</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-current-addr" data-sym="CURRENT-ADDR" title="(defmacro current-addr (&amp;optional ss-supplied-p)
  `(access goal (car (goals ,ss-supplied-p)) :current-addr))">current-addr</a>
  (&amp;optional ss-supplied-p)
  `(<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> goal (car (<a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a> ,SS-SUPPLIED-P)) <span class="keyword">:current-addr</span>))</pre>
  </div>

<div class="form-block macro" id="def-goal-name" data-defines="GOAL-NAME" data-references="GOALS,CAR,GOAL,ACCESS,QUASIQUOTE,SS-SUPPLIED-P,&OPTIONAL,DEFMACRO" data-used-by="PC-SINGLE-STEP-PRIMITIVE,MAKE-NEW-GOALS-FIXED-HYPS,CURRENT-ALL-DEPS,CURRENT-IMMEDIATE-DEPS,*GOAL-FIELDS*" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="GOAL-NAME">goal-name</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-goal-name" data-sym="GOAL-NAME" title="(defmacro goal-name (&amp;optional ss-supplied-p)
  `(access goal (car (goals ,ss-supplied-p)) :goal-name))">goal-name</a>
  (&amp;optional ss-supplied-p)
  `(<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> goal (car (<a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a> ,SS-SUPPLIED-P)) <span class="keyword">:goal-name</span>))</pre>
  </div>

<div class="form-block macro" id="def-depends-on" data-defines="DEPENDS-ON" data-references="GOALS,CAR,GOAL,ACCESS,QUASIQUOTE,SS-SUPPLIED-P,&OPTIONAL,DEFMACRO" data-used-by="PC-SINGLE-STEP-PRIMITIVE,*GOAL-FIELDS*" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="DEPENDS-ON">depends-on</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-depends-on" data-sym="DEPENDS-ON" title="(defmacro depends-on (&amp;optional ss-supplied-p)
  `(access goal (car (goals ,ss-supplied-p)) :depends-on))">depends-on</a>
  (&amp;optional ss-supplied-p)
  `(<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> goal (car (<a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a> ,SS-SUPPLIED-P)) <span class="keyword">:depends-on</span>))</pre>
  </div>

<div class="form-block macro" id="def-make-official-pc-command" data-defines="MAKE-OFFICIAL-PC-COMMAND" data-references="ACL2-PKG-WITNESS,QUOTE,SYMBOL-NAME,INTERN-IN-PACKAGE-OF-SYMBOL,QUASIQUOTE,SYM,DEFMACRO" data-used-by="MAYBE-PRINT-MACROEXPANSION,MAKE-OFFICIAL-PC-INSTR" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="MAKE-OFFICIAL-PC-COMMAND">make-official-pc-command</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-make-official-pc-command" data-sym="MAKE-OFFICIAL-PC-COMMAND" title="(defmacro make-official-pc-command (sym)
  `(intern-in-package-of-symbol (symbol-name ,sym) &#39;acl2-pc::acl2-pkg-witness))">make-official-pc-command</a>
  (sym)
  `(intern-in-package-of-symbol (symbol-name ,SYM)
    'acl2-pkg-witness))</pre>
  </div>

<div class="form-block function" id="def-intern-in-keyword-package" data-defines="INTERN-IN-KEYWORD-PACKAGE" data-references="SYMBOL-NAME,INTERN,SYMBOLP,XARGS,DECLARE,SYM,DEFUN" data-used-by="MAKE-PRETTY-PC-COMMAND" data-part-name="INTERN-IN-KEYWORD-PACKAGE" data-part-args="SYM" data-part-declare="SYM,SYMBOLP,XARGS,DECLARE" data-part-body="SYM,SYMBOL-NAME,INTERN" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="INTERN-IN-KEYWORD-PACKAGE">intern-in-keyword-package</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-intern-in-keyword-package" data-sym="INTERN-IN-KEYWORD-PACKAGE" title="(defun intern-in-keyword-package (sym)
  (declare (xargs :guard (symbolp sym)))
  (intern (symbol-name sym) &quot;KEYWORD&quot;))">intern-in-keyword-package</a>
  (sym)
  (declare (xargs <span class="keyword">:guard</span> (symbolp sym)))
  (<a class="sym-link system" href="axioms.html#def-intern" data-sym="INTERN">intern</a> (symbol-name sym) <span class="string">"KEYWORD"</span>))</pre>
  </div>

<div class="form-block function" id="def-make-pretty-pc-command" data-defines="MAKE-PRETTY-PC-COMMAND" data-references="INTERN-IN-KEYWORD-PACKAGE,SYMBOLP,XARGS,DECLARE,X,DEFUN" data-used-by="MAKE-PRETTY-PC-INSTR" data-part-name="MAKE-PRETTY-PC-COMMAND" data-part-args="X" data-part-declare="X,SYMBOLP,XARGS,DECLARE" data-part-body="X,INTERN-IN-KEYWORD-PACKAGE" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="MAKE-PRETTY-PC-COMMAND">make-pretty-pc-command</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-make-pretty-pc-command" data-sym="MAKE-PRETTY-PC-COMMAND" title="(defun make-pretty-pc-command (x)
  (declare (xargs :guard (symbolp x)))
  (intern-in-keyword-package x))">make-pretty-pc-command</a>
  (x)
  (declare (xargs <span class="keyword">:guard</span> (symbolp x)))
  (<a class="sym-link local-def" href="#def-intern-in-keyword-package" data-sym="INTERN-IN-KEYWORD-PACKAGE" title="(defun intern-in-keyword-package (sym)
  (declare (xargs :guard (symbolp sym)))
  (intern (symbol-name sym) &quot;KEYWORD&quot;))">intern-in-keyword-package</a> x))</pre>
  </div>

<div class="form-block function" id="def-make-pretty-pc-instr" data-defines="MAKE-PRETTY-PC-INSTR" data-references="CONS,CDR,NULL,MAKE-PRETTY-PC-COMMAND,ATOM,IF,CAR,CONSP,AND,SYMBOLP,OR,XARGS,DECLARE,INSTR,DEFUN" data-used-by="PC-SINGLE-STEP,PC-SINGLE-STEP-1,MAYBE-UPDATE-INSTRUCTION" data-part-name="MAKE-PRETTY-PC-INSTR" data-part-args="INSTR" data-part-declare="CAR,CONSP,AND,INSTR,SYMBOLP,OR,XARGS,DECLARE" data-part-body="CONS,CAR,CDR,NULL,MAKE-PRETTY-PC-COMMAND,INSTR,ATOM,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="MAKE-PRETTY-PC-INSTR">make-pretty-pc-instr</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-make-pretty-pc-instr" data-sym="MAKE-PRETTY-PC-INSTR" title="(defun make-pretty-pc-instr (instr)
  (declare
   (xargs :guard
    (or (symbolp instr) (and (consp instr) (symbolp (car instr))))))
  (if (atom instr)
...">make-pretty-pc-instr</a>
  (instr)
  (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (symbolp instr)
        (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (consp instr) (symbolp (car instr))))))
  (if (<a class="sym-link system" href="axioms.html#def-atom" data-sym="ATOM">atom</a> instr)
    (<a class="sym-link local-def" href="#def-make-pretty-pc-command" data-sym="MAKE-PRETTY-PC-COMMAND" title="(defun make-pretty-pc-command (x)
  (declare (xargs :guard (symbolp x)))
  (intern-in-keyword-package x))">make-pretty-pc-command</a> instr)
    (if (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> (cdr instr))
      (<a class="sym-link local-def" href="#def-make-pretty-pc-command" data-sym="MAKE-PRETTY-PC-COMMAND" title="(defun make-pretty-pc-command (x)
  (declare (xargs :guard (symbolp x)))
  (intern-in-keyword-package x))">make-pretty-pc-command</a> (car instr))
      (cons (<a class="sym-link local-def" href="#def-make-pretty-pc-command" data-sym="MAKE-PRETTY-PC-COMMAND" title="(defun make-pretty-pc-command (x)
  (declare (xargs :guard (symbolp x)))
  (intern-in-keyword-package x))">make-pretty-pc-command</a> (car instr)) (cdr instr)))))</pre>
  </div>

<div class="form-block macro" id="def-change-pc-state" data-defines="CHANGE-PC-STATE" data-references="PC-STATE,CHANGE,QUOTE,LIST*,ARGS,&REST,PC-S,DEFMACRO" data-used-by="PC-SINGLE-STEP-PRIMITIVE,ACCUMULATE-TTREE-IN-PC-STATE,MAYBE-UPDATE-INSTRUCTION" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="CHANGE-PC-STATE">change-pc-state</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-change-pc-state" data-sym="CHANGE-PC-STATE" title="(defmacro change-pc-state (pc-s &amp;rest args) (list* &#39;change &#39;pc-state pc-s args))">change-pc-state</a>
  (pc-s &amp;rest <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>)
  (<a class="sym-link system" href="axioms.html#def-list_2A" data-sym="LIST*">list*</a> '<a class="sym-link system" href="basis-a.html#def-change" data-sym="CHANGE">change</a> 'pc-state pc-s <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>))</pre>
  </div>

<div class="form-block function" id="def-make-official-pc-instr" data-defines="MAKE-OFFICIAL-PC-INSTR" data-references="DV,>,INTEGERP,ILLEGAL,QUOTE,LIST,MAKE-OFFICIAL-PC-COMMAND,CONS,CDR,TRUE-LISTP,CAR,SYMBOLP,AND,CONSP,IF,INSTR,DEFUN" data-used-by="PC-MAIN-LOOP,MAYBE-PRINT-MACROEXPANSION,PC-MACROEXPAND" data-part-name="MAKE-OFFICIAL-PC-INSTR" data-part-args="INSTR" data-part-body="DV,>,INTEGERP,ILLEGAL,QUOTE,LIST,MAKE-OFFICIAL-PC-COMMAND,CONS,CDR,TRUE-LISTP,CAR,SYMBOLP,AND,INSTR,CONSP,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="MAKE-OFFICIAL-PC-INSTR">make-official-pc-instr</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-make-official-pc-instr" data-sym="MAKE-OFFICIAL-PC-INSTR" title="(defun make-official-pc-instr (instr)
  (if (consp instr)
      (if (and (symbolp (car instr)) (true-listp (cdr instr)))
          (cons (make-official-pc-command (car instr)) (cdr instr))
          (list (make-official-pc-command &#39;illegal) instr))
...">make-official-pc-instr</a>
  (instr)
  (if (consp instr)
    (if (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (symbolp (car instr)) (<a class="sym-link system" href="axioms.html#def-true-listp" data-sym="TRUE-LISTP">true-listp</a> (cdr instr)))
      (cons (<a class="sym-link local-def" href="#def-make-official-pc-command" data-sym="MAKE-OFFICIAL-PC-COMMAND" title="(defmacro make-official-pc-command (sym)
  `(intern-in-package-of-symbol (symbol-name ,sym) &#39;acl2-pc::acl2-pkg-witness))">make-official-pc-command</a> (car instr)) (cdr instr))
      (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (<a class="sym-link local-def" href="#def-make-official-pc-command" data-sym="MAKE-OFFICIAL-PC-COMMAND" title="(defmacro make-official-pc-command (sym)
  `(intern-in-package-of-symbol (symbol-name ,sym) &#39;acl2-pc::acl2-pkg-witness))">make-official-pc-command</a> '<a class="sym-link system" href="axioms.html#def-illegal" data-sym="ILLEGAL">illegal</a>) instr))
    (if (symbolp instr)
      (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (<a class="sym-link local-def" href="#def-make-official-pc-command" data-sym="MAKE-OFFICIAL-PC-COMMAND" title="(defmacro make-official-pc-command (sym)
  `(intern-in-package-of-symbol (symbol-name ,sym) &#39;acl2-pc::acl2-pkg-witness))">make-official-pc-command</a> instr))
      (if (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (integerp instr) (<a class="sym-link system" href="axioms.html#def-_3E" data-sym="&gt;">&gt;</a> instr <span class="number">0</span>))
        (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (<a class="sym-link local-def" href="#def-make-official-pc-command" data-sym="MAKE-OFFICIAL-PC-COMMAND" title="(defmacro make-official-pc-command (sym)
  `(intern-in-package-of-symbol (symbol-name ,sym) &#39;acl2-pc::acl2-pkg-witness))">make-official-pc-command</a> 'dv) instr)
        (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (<a class="sym-link local-def" href="#def-make-official-pc-command" data-sym="MAKE-OFFICIAL-PC-COMMAND" title="(defmacro make-official-pc-command (sym)
  `(intern-in-package-of-symbol (symbol-name ,sym) &#39;acl2-pc::acl2-pkg-witness))">make-official-pc-command</a> '<a class="sym-link system" href="axioms.html#def-illegal" data-sym="ILLEGAL">illegal</a>) instr)))))</pre>
  </div>

<div class="form-block function" id="def-check-formals-length" data-defines="CHECK-FORMALS-LENGTH" data-references="MIN,ZERO-ONE-OR-MORE,SOFT,ER,EQUAL,T,VALUE,EQ,OR,<=,N,-,MAX,K,MIN-LENGTH,&OPTIONAL,REMOVE,LENGTH,INFINITY,&REST,QUOTE,MEMBER-EQ,IF,MAX-LENGTH,LET,TRUE-LISTP,SYMBOL-LISTP,AND,XARGS,DECLARE,STATE,CTX,FN,ARGS,FORMALS,DEFUN" data-used-by="PC-META-OR-MACRO-DEFUN,PC-PRIMITIVE-DEFUN-FORM" data-part-name="CHECK-FORMALS-LENGTH" data-part-args="STATE,CTX,FN,ARGS,FORMALS" data-part-declare="ARGS,TRUE-LISTP,FORMALS,SYMBOL-LISTP,AND,XARGS,DECLARE" data-part-body="MIN,ZERO-ONE-OR-MORE,FN,CTX,SOFT,ER,EQUAL,T,VALUE,EQ,OR,<=,AND,ARGS,N,-,MAX,K,MIN-LENGTH,&OPTIONAL,REMOVE,LENGTH,INFINITY,FORMALS,&REST,QUOTE,MEMBER-EQ,IF,MAX-LENGTH,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CHECK-FORMALS-LENGTH">check-formals-length</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-check-formals-length" data-sym="CHECK-FORMALS-LENGTH" title="(defun check-formals-length (formals args fn ctx state)
  (declare (xargs :guard (and (symbol-listp formals) (true-listp args))))
  (let ((max-length
         (if (member-eq &#39;&amp;rest formals)
             &#39;infinity
...">check-formals-length</a>
  (<a class="sym-link system" href="basis-b.html#def-formals" data-sym="FORMALS">formals</a> <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a> fn ctx state)
  (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-symbol-listp" data-sym="SYMBOL-LISTP">symbol-listp</a> <a class="sym-link system" href="basis-b.html#def-formals" data-sym="FORMALS">formals</a>) (<a class="sym-link system" href="axioms.html#def-true-listp" data-sym="TRUE-LISTP">true-listp</a> <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>))))
  (let ((max-length (if (<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> '&amp;rest <a class="sym-link system" href="basis-b.html#def-formals" data-sym="FORMALS">formals</a>)
         'infinity
         (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> (<a class="sym-link system" href="axioms.html#def-remove" data-sym="REMOVE">remove</a> '&amp;optional <a class="sym-link system" href="basis-b.html#def-formals" data-sym="FORMALS">formals</a>)))) (min-length (let ((k (max (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> (<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> '&amp;rest <a class="sym-link system" href="basis-b.html#def-formals" data-sym="FORMALS">formals</a>))
               (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> (<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> '&amp;optional <a class="sym-link system" href="basis-b.html#def-formals" data-sym="FORMALS">formals</a>)))))
          (<a class="sym-link system" href="axioms.html#def--" data-sym="-">-</a> (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> <a class="sym-link system" href="basis-b.html#def-formals" data-sym="FORMALS">formals</a>) k)))
      (n (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>)))
    (if (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> min-length n)
        (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> max-length 'infinity) (<a class="sym-link system" href="axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> n max-length)))
      (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)
      (if (equal min-length max-length)
        (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
          ctx
          <span class="string">"Wrong number of arguments in argument list ~x0 to ~x1.  There should ~
               be ~n2 argument~#3~[s~/~/s~] to ~x1."</span>
          <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>
          fn
          min-length
          (<a class="sym-link system" href="basis-a.html#def-zero-one-or-more" data-sym="ZERO-ONE-OR-MORE">zero-one-or-more</a> min-length))
        (if (equal max-length 'infinity)
          (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
            ctx
            <span class="string">"Wrong number of arguments in argument list ~x0 to ~x1.  There should ~
                 be at least ~n2 argument~#3~[s~/~/s~] to ~x1."</span>
            <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>
            fn
            min-length
            (min min-length <span class="number">2</span>))
          (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
            ctx
            <span class="string">"Wrong number of arguments in argument list ~x0 to ~x1.  There should ~
               be between ~n2 and ~n3 arguments to ~x1."</span>
            <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>
            fn
            min-length
            max-length))))))</pre>
  </div>

<div class="form-block function" id="def-check-_26optional-and-_26rest" data-defines="CHECK-&OPTIONAL-AND-&REST" data-references="VALUE,CDDR,&REST,CAR,EQ,OR,IF,REVERSE,R-FORMALS,LET,T,CDR,&OPTIONAL,MEMBER-EQ,QUOTE,SOFT,ER,TRUE-LISTP,NOT,COND,STATE,FORMALS,DEFUN" data-part-name="CHECK-&OPTIONAL-AND-&REST" data-part-args="STATE,FORMALS" data-part-body="VALUE,CDDR,&REST,CAR,EQ,OR,IF,REVERSE,R-FORMALS,LET,T,CDR,&OPTIONAL,MEMBER-EQ,CHECK-&OPTIONAL-AND-&REST,QUOTE,SOFT,ER,FORMALS,TRUE-LISTP,NOT,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CHECK-&OPTIONAL-AND-&REST">check-&amp;optional-and-&amp;rest</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-check-_26optional-and-_26rest" data-sym="CHECK-&amp;OPTIONAL-AND-&amp;REST" title="(defun check-&amp;optional-and-&amp;rest (formals state)
  (cond
   ((not (true-listp formals))
    (er soft &#39;check-&amp;optional-and-&amp;rest
        &quot;The formals are supposed to be a true list, but they are ~x0.&quot;
...">check-&amp;optional-and-&amp;rest</a>
  (<a class="sym-link system" href="basis-b.html#def-formals" data-sym="FORMALS">formals</a> state)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-true-listp" data-sym="TRUE-LISTP">true-listp</a> <a class="sym-link system" href="basis-b.html#def-formals" data-sym="FORMALS">formals</a>)) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
        '<a class="sym-link local-def" href="#def-check-_26optional-and-_26rest" data-sym="CHECK-&amp;OPTIONAL-AND-&amp;REST" title="(defun check-&amp;optional-and-&amp;rest (formals state)
  (cond
   ((not (true-listp formals))
    (er soft &#39;check-&amp;optional-and-&amp;rest
        &quot;The formals are supposed to be a true list, but they are ~x0.&quot;
...">check-&amp;optional-and-&amp;rest</a>
        <span class="string">"The formals are supposed to be a true list, but they are ~x0."</span>
        <a class="sym-link system" href="basis-b.html#def-formals" data-sym="FORMALS">formals</a>))
    ((<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> '&amp;optional (cdr (<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> '&amp;optional <a class="sym-link system" href="basis-b.html#def-formals" data-sym="FORMALS">formals</a>))) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
        '<a class="sym-link local-def" href="#def-check-_26optional-and-_26rest" data-sym="CHECK-&amp;OPTIONAL-AND-&amp;REST" title="(defun check-&amp;optional-and-&amp;rest (formals state)
  (cond
   ((not (true-listp formals))
    (er soft &#39;check-&amp;optional-and-&amp;rest
        &quot;The formals are supposed to be a true list, but they are ~x0.&quot;
...">check-&amp;optional-and-&amp;rest</a>
        <span class="string">"The &amp;optional keywords occurs more than once in ~x0."</span>
        <a class="sym-link system" href="basis-b.html#def-formals" data-sym="FORMALS">formals</a>))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((r-formals (<a class="sym-link system" href="axioms.html#def-reverse" data-sym="REVERSE">reverse</a> <a class="sym-link system" href="basis-b.html#def-formals" data-sym="FORMALS">formals</a>)))
        (if (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (car r-formals) '&amp;optional)
            (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (car r-formals) '&amp;rest))
          (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
            '<a class="sym-link local-def" href="#def-check-_26optional-and-_26rest" data-sym="CHECK-&amp;OPTIONAL-AND-&amp;REST" title="(defun check-&amp;optional-and-&amp;rest (formals state)
  (cond
   ((not (true-listp formals))
    (er soft &#39;check-&amp;optional-and-&amp;rest
        &quot;The formals are supposed to be a true list, but they are ~x0.&quot;
...">check-&amp;optional-and-&amp;rest</a>
            <span class="string">"The &amp;optional and &amp;rest keywords may not occur as the last element of ~
                the formals list, ~x0."</span>
            <a class="sym-link system" href="basis-b.html#def-formals" data-sym="FORMALS">formals</a>)
          (if (<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> '&amp;rest (<a class="sym-link system" href="axioms.html#def-cddr" data-sym="CDDR">cddr</a> r-formals))
            (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
              '<a class="sym-link local-def" href="#def-check-_26optional-and-_26rest" data-sym="CHECK-&amp;OPTIONAL-AND-&amp;REST" title="(defun check-&amp;optional-and-&amp;rest (formals state)
  (cond
   ((not (true-listp formals))
    (er soft &#39;check-&amp;optional-and-&amp;rest
        &quot;The formals are supposed to be a true list, but they are ~x0.&quot;
...">check-&amp;optional-and-&amp;rest</a>
              <span class="string">"The &amp;rest keyword may not occur except as the next-to-last ~
                   member of the formals list, which is not the case for ~x0."</span>
              <a class="sym-link system" href="basis-b.html#def-formals" data-sym="FORMALS">formals</a>)
            (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)))))))</pre>
  </div>

<div class="form-block function" id="def-make-let-pairs-from-formals" data-defines="MAKE-LET-PAIRS-FROM-FORMALS" data-references="CONS,CADR,LIST,&REST,CDR,&OPTIONAL,QUOTE,CAR,EQ,CONSP,IF,ARG,FORMALS,DEFUN" data-part-name="MAKE-LET-PAIRS-FROM-FORMALS" data-part-args="ARG,FORMALS" data-part-body="CONS,CADR,LIST,&REST,ARG,CDR,MAKE-LET-PAIRS-FROM-FORMALS,&OPTIONAL,QUOTE,CAR,EQ,FORMALS,CONSP,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="MAKE-LET-PAIRS-FROM-FORMALS">make-let-pairs-from-formals</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-make-let-pairs-from-formals" data-sym="MAKE-LET-PAIRS-FROM-FORMALS" title="(defun make-let-pairs-from-formals (formals arg)
  (if (consp formals)
      (if (eq (car formals) &#39;&amp;optional)
          (make-let-pairs-from-formals (cdr formals) arg)
          (if (eq (car formals) &#39;&amp;rest)
...">make-let-pairs-from-formals</a>
  (<a class="sym-link system" href="basis-b.html#def-formals" data-sym="FORMALS">formals</a> arg)
  (if (consp <a class="sym-link system" href="basis-b.html#def-formals" data-sym="FORMALS">formals</a>)
    (if (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (car <a class="sym-link system" href="basis-b.html#def-formals" data-sym="FORMALS">formals</a>) '&amp;optional)
      (<a class="sym-link local-def" href="#def-make-let-pairs-from-formals" data-sym="MAKE-LET-PAIRS-FROM-FORMALS" title="(defun make-let-pairs-from-formals (formals arg)
  (if (consp formals)
      (if (eq (car formals) &#39;&amp;optional)
          (make-let-pairs-from-formals (cdr formals) arg)
          (if (eq (car formals) &#39;&amp;rest)
...">make-let-pairs-from-formals</a> (cdr <a class="sym-link system" href="basis-b.html#def-formals" data-sym="FORMALS">formals</a>) arg)
      (if (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (car <a class="sym-link system" href="basis-b.html#def-formals" data-sym="FORMALS">formals</a>) '&amp;rest)
        (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> <a class="sym-link system" href="basis-b.html#def-formals" data-sym="FORMALS">formals</a>) arg))
        (cons (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (car <a class="sym-link system" href="basis-b.html#def-formals" data-sym="FORMALS">formals</a>) (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> 'car arg))
          (<a class="sym-link local-def" href="#def-make-let-pairs-from-formals" data-sym="MAKE-LET-PAIRS-FROM-FORMALS" title="(defun make-let-pairs-from-formals (formals arg)
  (if (consp formals)
      (if (eq (car formals) &#39;&amp;optional)
          (make-let-pairs-from-formals (cdr formals) arg)
          (if (eq (car formals) &#39;&amp;rest)
...">make-let-pairs-from-formals</a> (cdr <a class="sym-link system" href="basis-b.html#def-formals" data-sym="FORMALS">formals</a>) (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> 'cdr arg)))))
    nil))</pre>
  </div>

<div class="form-block mutual-recursion" id="def-all-symbols" data-defines="ALL-SYMBOLS" data-references="CONSP,IF,X,CDR,ALL-SYMBOLS-LIST,UNION-EQ,T,QUOTE,CAR,EQ,ATOM,LIST,SYMBOLP,COND,FORM,DEFUN,MUTUAL-RECURSION" data-used-by="LET-FORM-FOR-PC-STATE-VARS" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="ALL-SYMBOLS">all-symbols</span><span class="form-type">mutual-recursion</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-mutual-recursion" data-sym="MUTUAL-RECURSION">mutual-recursion</a> (<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-all-symbols" data-sym="ALL-SYMBOLS" title="(mutual-recursion
 (defun all-symbols (form)
   (cond ((symbolp form) (list form)) ((atom form) nil)
         ((eq (car form) &#39;quote) nil)
         (t
...">all-symbols</a>
    (form)
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((symbolp form) (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> form))
      ((<a class="sym-link system" href="axioms.html#def-atom" data-sym="ATOM">atom</a> form) nil)
      ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (car form) 'quote) nil)
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-union-eq" data-sym="UNION-EQ">union-eq</a> (<a class="sym-link local-def" href="#def-all-symbols" data-sym="ALL-SYMBOLS" title="(mutual-recursion
 (defun all-symbols (form)
   (cond ((symbolp form) (list form)) ((atom form) nil)
         ((eq (car form) &#39;quote) nil)
         (t
...">all-symbols</a> (car form))
          (all-symbols-list (cdr form))))))
  (<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> all-symbols-list
    (x)
    (if (consp x)
      (<a class="sym-link system" href="axioms.html#def-union-eq" data-sym="UNION-EQ">union-eq</a> (<a class="sym-link local-def" href="#def-all-symbols" data-sym="ALL-SYMBOLS" title="(mutual-recursion
 (defun all-symbols (form)
   (cond ((symbolp form) (list form)) ((atom form) nil)
         ((eq (car form) &#39;quote) nil)
         (t
...">all-symbols</a> (car x)) (all-symbols-list (cdr x)))
      nil)))</pre>
  </div>

<div class="form-block function" id="def-make-access-bindings" data-defines="MAKE-ACCESS-BINDINGS" data-references="CDR,ACCESS,QUASIQUOTE,CONS,CONSP,IF,FIELDS,RECORD,RECORD-NAME,DEFUN" data-part-name="MAKE-ACCESS-BINDINGS" data-part-args="FIELDS,RECORD,RECORD-NAME" data-part-body="CDR,RECORD,RECORD-NAME,MAKE-ACCESS-BINDINGS,ACCESS,QUASIQUOTE,CONS,FIELDS,CONSP,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="MAKE-ACCESS-BINDINGS">make-access-bindings</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-make-access-bindings" data-sym="MAKE-ACCESS-BINDINGS" title="(defun make-access-bindings (record-name record fields)
  (if (consp fields)
      (cons
       `(,(car fields)
         (access ,record-name ,record
...">make-access-bindings</a>
  (record-name record fields)
  (if (consp fields)
    (cons `(,(CAR FIELDS) (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> ,RECORD-NAME
          ,RECORD
          ,(INTERN-IN-KEYWORD-PACKAGE (CAR FIELDS))))
      (<a class="sym-link local-def" href="#def-make-access-bindings" data-sym="MAKE-ACCESS-BINDINGS" title="(defun make-access-bindings (record-name record fields)
  (if (consp fields)
      (cons
       `(,(car fields)
         (access ,record-name ,record
...">make-access-bindings</a> record-name record (cdr fields)))
    nil))</pre>
  </div>

<div class="form-block function" id="def-let-form-for-pc-state-vars" data-defines="LET-FORM-FOR-PC-STATE-VARS" data-references="QUASIQUOTE,GOALS,QUOTE,CONS,*PC-STATE-FIELDS-FOR-PRIMITIVES*,IF,PC-STATE-VARS,*GOAL-FIELDS*,INTERSECTION-EQ,GOAL-VARS,LET*,ALL-SYMBOLS,VARS,LET,FORM,DEFUN" data-part-name="LET-FORM-FOR-PC-STATE-VARS" data-part-args="FORM" data-part-body="QUASIQUOTE,GOALS,QUOTE,CONS,*PC-STATE-FIELDS-FOR-PRIMITIVES*,IF,PC-STATE-VARS,*GOAL-FIELDS*,INTERSECTION-EQ,GOAL-VARS,LET*,FORM,ALL-SYMBOLS,VARS,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="LET-FORM-FOR-PC-STATE-VARS">let-form-for-pc-state-vars</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-let-form-for-pc-state-vars" data-sym="LET-FORM-FOR-PC-STATE-VARS" title="(defun let-form-for-pc-state-vars (form)
  (let ((vars (all-symbols form)))
    (let* ((goal-vars (intersection-eq *goal-fields* vars))
           (pc-state-vars
            (if goal-vars
...">let-form-for-pc-state-vars</a>
  (form)
  (let ((vars (<a class="sym-link local-def" href="#def-all-symbols" data-sym="ALL-SYMBOLS" title="(mutual-recursion
 (defun all-symbols (form)
   (cond ((symbolp form) (list form)) ((atom form) nil)
         ((eq (car form) &#39;quote) nil)
         (t
...">all-symbols</a> form)))
    (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((goal-vars (<a class="sym-link system" href="axioms.html#def-intersection-eq" data-sym="INTERSECTION-EQ">intersection-eq</a> <a class="sym-link local-def" href="#def-_2Agoal-fields_2A" data-sym="*GOAL-FIELDS*" title="(defconst *goal-fields* &#39;(conc hyps current-addr goal-name depends-on))">*goal-fields*</a> vars)) (pc-state-vars (if goal-vars
            (<a class="sym-link system" href="axioms.html#def-intersection-eq" data-sym="INTERSECTION-EQ">intersection-eq</a> <a class="sym-link local-def" href="#def-_2Apc-state-fields-for-primitives_2A" data-sym="*PC-STATE-FIELDS-FOR-PRIMITIVES*" title="(defconst *pc-state-fields-for-primitives*
          &#39;(instruction goals abbreviations tag-tree local-tag-tree pc-ens))">*pc-state-fields-for-primitives*</a>
              (cons '<a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a> vars))
            (<a class="sym-link system" href="axioms.html#def-intersection-eq" data-sym="INTERSECTION-EQ">intersection-eq</a> <a class="sym-link local-def" href="#def-_2Apc-state-fields-for-primitives_2A" data-sym="*PC-STATE-FIELDS-FOR-PRIMITIVES*" title="(defconst *pc-state-fields-for-primitives*
          &#39;(instruction goals abbreviations tag-tree local-tag-tree pc-ens))">*pc-state-fields-for-primitives*</a> vars))))
      `(let ,(MAKE-ACCESS-BINDINGS &#39;PC-STATE &#39;PC-STATE PC-STATE-VARS)
        (let ,(MAKE-ACCESS-BINDINGS &#39;GOAL &#39;(CAR GOALS) GOAL-VARS)
          ,FORM)))))</pre>
  </div>

<div class="form-block function" id="def-check-field-names" data-defines="CHECK-FIELD-NAMES" data-references="T,VALUE,SOFT,ER,IF,*PC-STATE-FIELDS-FOR-PRIMITIVES*,*GOAL-FIELDS*,APPEND,INTERSECTION-EQ,BAD-FORMALS,LET,STATE,CTX,FORMALS,DEFUN" data-part-name="CHECK-FIELD-NAMES" data-part-args="STATE,CTX,FORMALS" data-part-body="T,VALUE,CTX,SOFT,ER,IF,*PC-STATE-FIELDS-FOR-PRIMITIVES*,*GOAL-FIELDS*,APPEND,FORMALS,INTERSECTION-EQ,BAD-FORMALS,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CHECK-FIELD-NAMES">check-field-names</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-check-field-names" data-sym="CHECK-FIELD-NAMES" title="(defun check-field-names (formals ctx state)
  (let ((bad-formals
         (intersection-eq formals
                          (append *goal-fields*
                                  *pc-state-fields-for-primitives*))))
...">check-field-names</a>
  (<a class="sym-link system" href="basis-b.html#def-formals" data-sym="FORMALS">formals</a> ctx state)
  (let ((bad-formals (<a class="sym-link system" href="axioms.html#def-intersection-eq" data-sym="INTERSECTION-EQ">intersection-eq</a> <a class="sym-link system" href="basis-b.html#def-formals" data-sym="FORMALS">formals</a>
         (<a class="sym-link system" href="axioms.html#def-append" data-sym="APPEND">append</a> <a class="sym-link local-def" href="#def-_2Agoal-fields_2A" data-sym="*GOAL-FIELDS*" title="(defconst *goal-fields* &#39;(conc hyps current-addr goal-name depends-on))">*goal-fields*</a> <a class="sym-link local-def" href="#def-_2Apc-state-fields-for-primitives_2A" data-sym="*PC-STATE-FIELDS-FOR-PRIMITIVES*" title="(defconst *pc-state-fields-for-primitives*
          &#39;(instruction goals abbreviations tag-tree local-tag-tree pc-ens))">*pc-state-fields-for-primitives*</a>))))
    (if bad-formals
      (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
        ctx
        <span class="string">"It is illegal to use names of pc-state or goal fields as formals to~
             define commands with ~x0, in this case ~&amp;1."</span>
        ctx
        bad-formals)
      (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>))))</pre>
  </div>

<div class="form-block macro" id="def-print-no-change" data-defines="PRINT-NO-CHANGE" data-references="STATE,PRINT-NO-CHANGE-FN,QUASIQUOTE,QUOTE,COL,ALIST,STR,&OPTIONAL,DEFMACRO" data-used-by="PC-SINGLE-STEP-1,PC-SINGLE-STEP-PRIMITIVE,PRINT-ALL-GOALS-PROVED-MESSAGE" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="PRINT-NO-CHANGE">print-no-change</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-print-no-change" data-sym="PRINT-NO-CHANGE" title="(defmacro print-no-change (&amp;optional str alist (col &#39;0))
  `(print-no-change-fn ,str ,alist ,col state))">print-no-change</a>
  (&amp;optional str alist (col '<span class="number">0</span>))
  `(<a class="sym-link local-def" href="#def-print-no-change-fn" data-sym="PRINT-NO-CHANGE-FN" title="(defun print-no-change-fn (str alist col state)
  (declare (xargs :guard (or (stringp str) (null str))))
  (io? proof-builder nil state (col alist str)
       (mv-let (col state)
               (let ((channel (proofs-co state)))
...">print-no-change-fn</a> ,STR ,ALIST ,COL state))</pre>
  </div>

<div class="form-block macro" id="def-print-no-change2" data-defines="PRINT-NO-CHANGE2" data-references="STATE,MV,PPROGN,QUASIQUOTE,ARGS,&REST,DEFMACRO" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="PRINT-NO-CHANGE2">print-no-change2</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-print-no-change2" data-sym="PRINT-NO-CHANGE2" title="(defmacro print-no-change2 (&amp;rest args)
  `(pprogn ,(cons &#39;print-no-change args) (mv nil state)))">print-no-change2</a>
  (&amp;rest <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>)
  `(<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> ,(CONS &#39;PRINT-NO-CHANGE ARGS) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil state)))</pre>
  </div>

<div class="form-block function" id="def-print-no-change-fn" data-defines="PRINT-NO-CHANGE-FN" data-references="IGNORE,TERM-EVISC-TUPLE,IF,FMT1,PROOFS-CO,CHANNEL,LET,MV-LET,PROOF-BUILDER,IO?,NULL,STRINGP,OR,XARGS,DECLARE,STATE,COL,ALIST,STR,DEFUN" data-used-by="PRINT-NO-CHANGE3,PRINT-NO-CHANGE" data-part-name="PRINT-NO-CHANGE-FN" data-part-args="STATE,COL,ALIST,STR" data-part-declare="NULL,STR,STRINGP,OR,XARGS,DECLARE" data-part-body="IGNORE,DECLARE,TERM-EVISC-TUPLE,IF,FMT1,PROOFS-CO,CHANNEL,LET,MV-LET,STR,ALIST,COL,STATE,PROOF-BUILDER,IO?" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="PRINT-NO-CHANGE-FN">print-no-change-fn</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-print-no-change-fn" data-sym="PRINT-NO-CHANGE-FN" title="(defun print-no-change-fn (str alist col state)
  (declare (xargs :guard (or (stringp str) (null str))))
  (io? proof-builder nil state (col alist str)
       (mv-let (col state)
               (let ((channel (proofs-co state)))
...">print-no-change-fn</a>
  (str alist col state)
  (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (stringp str) (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> str))))
  (<a class="sym-link system" href="basis-a.html#def-io_3F" data-sym="IO?">io?</a> <a class="sym-link local-def" href="#def-proof-builder" data-sym="PROOF-BUILDER" title="(defun proof-builder
       (event-name raw-term term rule-classes instructions wrld state)
  (declare (ignore term wrld))
  (cond
   ((and (not (f-get-global &#39;in-verify-flg state)) (ld-skip-proofsp state))
...">proof-builder</a>
    nil
    state
    (col alist str)
    (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (col state)
      (let ((channel (<a class="sym-link system" href="basis-b.html#def-proofs-co" data-sym="PROOFS-CO">proofs-co</a> state)))
        (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (col state)
          (<a class="sym-link system" href="basis-a.html#def-fmt1" data-sym="FMT1">fmt1</a> <span class="string">"~|*** NO CHANGE ***"</span> nil col channel state nil)
          (if str
            (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (col state)
              (<a class="sym-link system" href="basis-a.html#def-fmt1" data-sym="FMT1">fmt1</a> <span class="string">" -- "</span> nil col channel state nil)
              (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (col state)
                (<a class="sym-link system" href="basis-a.html#def-fmt1" data-sym="FMT1">fmt1</a> str
                  alist
                  col
                  channel
                  state
                  (<a class="sym-link system" href="basis-a.html#def-term-evisc-tuple" data-sym="TERM-EVISC-TUPLE">term-evisc-tuple</a> nil state))
                (<a class="sym-link system" href="basis-a.html#def-fmt1" data-sym="FMT1">fmt1</a> <span class="string">"~|"</span> nil col channel state nil)))
            (<a class="sym-link system" href="basis-a.html#def-fmt1" data-sym="FMT1">fmt1</a> <span class="string">"~|"</span> nil col channel state nil))))
      (declare (ignore col))
      state)))</pre>
  </div>

<div class="form-block macro" id="def-maybe-update-instruction" data-defines="MAYBE-UPDATE-INSTRUCTION" data-references="MAKE-PRETTY-PC-INSTR,CHANGE-PC-STATE,ACCESS,IF,AND,MV,STATE,PC-STATE,MV-LET,QUASIQUOTE,PC-STATE-AND-STATE,INSTR,DEFMACRO" data-used-by="PC-PRIMITIVE-DEFUN-FORM" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="MAYBE-UPDATE-INSTRUCTION">maybe-update-instruction</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-maybe-update-instruction" data-sym="MAYBE-UPDATE-INSTRUCTION" title="(defmacro maybe-update-instruction (instr pc-state-and-state)
  `(mv-let (pc-state state) ,pc-state-and-state
           (mv
            (and pc-state
                 (if (access pc-state pc-state :instruction)
...">maybe-update-instruction</a>
  (instr pc-state-and-state)
  `(<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (pc-state state)
    ,PC-STATE-AND-STATE
    (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> pc-state
        (if (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> pc-state pc-state <span class="keyword">:instruction</span>)
          pc-state
          (<a class="sym-link local-def" href="#def-change-pc-state" data-sym="CHANGE-PC-STATE" title="(defmacro change-pc-state (pc-s &amp;rest args) (list* &#39;change &#39;pc-state pc-s args))">change-pc-state</a> pc-state
            <span class="keyword">:instruction</span> (<a class="sym-link local-def" href="#def-make-pretty-pc-instr" data-sym="MAKE-PRETTY-PC-INSTR" title="(defun make-pretty-pc-instr (instr)
  (declare
   (xargs :guard
    (or (symbolp instr) (and (consp instr) (symbolp (car instr))))))
  (if (atom instr)
...">make-pretty-pc-instr</a> ,INSTR))))
      state)))</pre>
  </div>

<div class="form-block function" id="def-pc-primitive-defun-form" data-defines="PC-PRIMITIVE-DEFUN-FORM" data-references="CONS,MAYBE-UPDATE-INSTRUCTION,STATE-STACK,CAR,CHANGE,PC-STATE,LET,MV,IF,IGNORE,DECLARE,QUOTE,CHECK-FORMALS-LENGTH,V,ERP,MV-LET,STATE,ARGS,QUASIQUOTE,BODY,DOC,FORMALS,NAME,RAW-NAME,DEFUN" data-part-name="PC-PRIMITIVE-DEFUN-FORM" data-part-args="BODY,DOC,FORMALS,NAME,RAW-NAME" data-part-body="CONS,MAYBE-UPDATE-INSTRUCTION,STATE-STACK,CAR,CHANGE,PC-STATE,LET,MV,IF,IGNORE,DECLARE,QUOTE,CHECK-FORMALS-LENGTH,V,ERP,MV-LET,STATE,ARGS,DEFUN,QUASIQUOTE" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="PC-PRIMITIVE-DEFUN-FORM">pc-primitive-defun-form</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-pc-primitive-defun-form" data-sym="PC-PRIMITIVE-DEFUN-FORM" title="(defun pc-primitive-defun-form (raw-name name formals doc body)
  `(defun ,name (args state)
     ,@(and doc (list doc))
     (mv-let (erp v state)
             (check-formals-length &#39;,formals args &#39;,raw-name &#39;,name state)
...">pc-primitive-defun-form</a>
  (raw-name name <a class="sym-link system" href="basis-b.html#def-formals" data-sym="FORMALS">formals</a> <a class="sym-link system" href="history-management.html#def-doc" data-sym="DOC">doc</a> <a class="sym-link system" href="basis-b.html#def-body" data-sym="BODY">body</a>)
  `(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> ,NAME
    (<a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a> state)
    ,@(AND DOC (LIST DOC))
    (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (erp v state)
      (<a class="sym-link local-def" href="#def-check-formals-length" data-sym="CHECK-FORMALS-LENGTH" title="(defun check-formals-length (formals args fn ctx state)
  (declare (xargs :guard (and (symbol-listp formals) (true-listp args))))
  (let ((max-length
         (if (member-eq &#39;&amp;rest formals)
             &#39;infinity
...">check-formals-length</a> ',FORMALS
        <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>
        ',RAW-NAME
        ',NAME
        state)
      (declare (ignore v))
      (if erp
        (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil state)
        (let ((pc-state (<a class="sym-link system" href="basis-a.html#def-change" data-sym="CHANGE">change</a> pc-state (car (<a class="sym-link local-def" href="#def-state-stack" data-sym="STATE-STACK" title="(defmacro state-stack () &#39;(pc-value state-stack))">state-stack</a>)) <span class="keyword">:instruction</span> nil)) ,@(MAKE-LET-PAIRS-FROM-FORMALS FORMALS &#39;ARGS))
          ,@(BUTLAST BODY 1)
          (<a class="sym-link local-def" href="#def-maybe-update-instruction" data-sym="MAYBE-UPDATE-INSTRUCTION" title="(defmacro maybe-update-instruction (instr pc-state-and-state)
  `(mv-let (pc-state state) ,pc-state-and-state
           (mv
            (and pc-state
                 (if (access pc-state pc-state :instruction)
...">maybe-update-instruction</a> (cons ',RAW-NAME <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>)
            ,(LET-FORM-FOR-PC-STATE-VARS (CAR (LAST BODY)))))))))</pre>
  </div>

<div class="form-block function" id="def-pc-command-table-guard" data-defines="PC-COMMAND-TABLE-GUARD" data-references="BOOT-STRAP-FLG,GLOBAL-VAL,PRIMITIVE,META,ATOMIC-MACRO,MACRO,QUOTE,EQ,OR,FUNCTION-SYMBOLP,AND,WRLD,VAL,KEY,DEFUN" data-part-name="PC-COMMAND-TABLE-GUARD" data-part-args="WRLD,VAL,KEY" data-part-body="BOOT-STRAP-FLG,GLOBAL-VAL,PRIMITIVE,META,ATOMIC-MACRO,MACRO,QUOTE,VAL,EQ,OR,WRLD,KEY,FUNCTION-SYMBOLP,AND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="PC-COMMAND-TABLE-GUARD">pc-command-table-guard</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-pc-command-table-guard" data-sym="PC-COMMAND-TABLE-GUARD" title="(defun pc-command-table-guard (key val wrld)
  (and (function-symbolp key wrld)
       (or (eq val &#39;macro) (eq val &#39;atomic-macro) (eq val &#39;meta)
           (and (eq val &#39;primitive) (global-val &#39;boot-strap-flg wrld)))))">pc-command-table-guard</a>
  (key val wrld)
  (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-function-symbolp" data-sym="FUNCTION-SYMBOLP">function-symbolp</a> key wrld)
    (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> val 'macro)
      (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> val 'atomic-macro)
      (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> val 'meta)
      (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> val 'primitive) (<a class="sym-link system" href="axioms.html#def-global-val" data-sym="GLOBAL-VAL">global-val</a> 'boot-strap-flg wrld)))))</pre>
  </div>

<div class="form-block other" id="form-46" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a> pc-command-table
  nil
  nil
  <span class="keyword">:guard</span> (<a class="sym-link local-def" href="#def-pc-command-table-guard" data-sym="PC-COMMAND-TABLE-GUARD" title="(defun pc-command-table-guard (key val wrld)
  (and (function-symbolp key wrld)
       (or (eq val &#39;macro) (eq val &#39;atomic-macro) (eq val &#39;meta)
           (and (eq val &#39;primitive) (global-val &#39;boot-strap-flg wrld)))))">pc-command-table-guard</a> key val world))</pre>
  </div>

<div class="form-block macro" id="def-add-pc-command" data-defines="ADD-PC-COMMAND" data-references="QUOTE,PC-COMMAND-TABLE,TABLE,QUASIQUOTE,COMMAND-TYPE,NAME,DEFMACRO" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="ADD-PC-COMMAND">add-pc-command</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-add-pc-command" data-sym="ADD-PC-COMMAND" title="(defmacro add-pc-command (name command-type)
  `(table pc-command-table &#39;,name ,command-type))">add-pc-command</a>
  (name command-type)
  `(<a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a> pc-command-table ',NAME ,COMMAND-TYPE))</pre>
  </div>

<div class="form-block macro" id="def-pc-command-type" data-defines="PC-COMMAND-TYPE" data-references="STATE,W,PC-COMMAND-TABLE,QUOTE,TABLE-ALIST,ASSOC-EQUAL,CDR,QUASIQUOTE,NAME,DEFMACRO" data-used-by="PC-SINGLE-STEP,PC-SINGLE-STEP-1,PC-MACROEXPAND,TOGGLE-PC-MACRO-FN" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="PC-COMMAND-TYPE">pc-command-type</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-pc-command-type" data-sym="PC-COMMAND-TYPE" title="(defmacro pc-command-type (name)
  `(cdr (assoc-equal ,name (table-alist &#39;pc-command-table (w state)))))">pc-command-type</a>
  (name)
  `(cdr (<a class="sym-link system" href="axioms.html#def-assoc-equal" data-sym="ASSOC-EQUAL">assoc-equal</a> ,NAME
      (<a class="sym-link system" href="axioms.html#def-table-alist" data-sym="TABLE-ALIST">table-alist</a> 'pc-command-table (<a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a> state)))))</pre>
  </div>

<div class="form-block macro" id="def-print-no-change3" data-defines="PRINT-NO-CHANGE3" data-references="VALUE,STATE,PRINT-NO-CHANGE-FN,PPROGN,QUASIQUOTE,QUOTE,COL,ALIST,STR,&OPTIONAL,DEFMACRO" data-used-by="TOGGLE-PC-MACRO-FN" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="PRINT-NO-CHANGE3">print-no-change3</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-print-no-change3" data-sym="PRINT-NO-CHANGE3" title="(defmacro print-no-change3 (&amp;optional str alist (col &#39;0))
  `(pprogn (print-no-change-fn ,str ,alist ,col state) (value nil)))">print-no-change3</a>
  (&amp;optional str alist (col '<span class="number">0</span>))
  `(<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link local-def" href="#def-print-no-change-fn" data-sym="PRINT-NO-CHANGE-FN" title="(defun print-no-change-fn (str alist col state)
  (declare (xargs :guard (or (stringp str) (null str))))
  (io? proof-builder nil state (col alist str)
       (mv-let (col state)
               (let ((channel (proofs-co state)))
...">print-no-change-fn</a> ,STR ,ALIST ,COL state)
    (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil)))</pre>
  </div>

<div class="form-block function" id="def-add-pc-command-1" data-defines="ADD-PC-COMMAND-1" data-references="TABLE,LIST,QUASIQUOTE,PC-COMMAND-TABLE,QUOTE,TABLE-FN,STATE,COMMAND-TYPE,NAME,DEFUN" data-used-by="TOGGLE-PC-MACRO-FN" data-part-name="ADD-PC-COMMAND-1" data-part-args="STATE,COMMAND-TYPE,NAME" data-part-body="COMMAND-TYPE,NAME,TABLE,LIST,STATE,QUASIQUOTE,PC-COMMAND-TABLE,QUOTE,TABLE-FN" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ADD-PC-COMMAND-1">add-pc-command-1</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-add-pc-command-1" data-sym="ADD-PC-COMMAND-1" title="(defun add-pc-command-1 (name command-type state)
  (table-fn &#39;pc-command-table `(&#39;,name &#39;,command-type) state
            (list &#39;table &#39;pc-command-table (list &#39;quote name)
                  (list &#39;quote command-type))))">add-pc-command-1</a>
  (name command-type state)
  (<a class="sym-link system" href="history-management.html#def-table-fn" data-sym="TABLE-FN">table-fn</a> 'pc-command-table
    `(',NAME ',COMMAND-TYPE)
    state
    (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> '<a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a>
      'pc-command-table
      (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> 'quote name)
      (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> 'quote command-type))))</pre>
  </div>

<div class="form-block function" id="def-toggle-pc-macro-fn" data-defines="TOGGLE-PC-MACRO-FN" data-references="OTHERWISE,ATOMIC-MACRO,QUOTE,ADD-PC-COMMAND-1,SYMBOL-NAME,EQUAL,OR,MACRO,CASE,CONS,LIST,PRINT-NO-CHANGE3,NULL,IF,PC-COMMAND-TYPE,TP,LET,STATE,NEW-TP,NAME,DEFUN" data-part-name="TOGGLE-PC-MACRO-FN" data-part-args="STATE,NEW-TP,NAME" data-part-body="OTHERWISE,STATE,ATOMIC-MACRO,QUOTE,ADD-PC-COMMAND-1,SYMBOL-NAME,EQUAL,NEW-TP,OR,MACRO,CASE,CONS,LIST,PRINT-NO-CHANGE3,NULL,IF,NAME,PC-COMMAND-TYPE,TP,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="TOGGLE-PC-MACRO-FN">toggle-pc-macro-fn</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-toggle-pc-macro-fn" data-sym="TOGGLE-PC-MACRO-FN" title="(defun toggle-pc-macro-fn (name new-tp state)
  (let ((tp (pc-command-type name)))
    (if (null tp)
        (print-no-change3 &quot;The command ~x0 is not a proof-builder command.&quot;
                          (list (cons #\0 name)))
...">toggle-pc-macro-fn</a>
  (name new-tp state)
  (let ((tp (<a class="sym-link local-def" href="#def-pc-command-type" data-sym="PC-COMMAND-TYPE" title="(defmacro pc-command-type (name)
  `(cdr (assoc-equal ,name (table-alist &#39;pc-command-table (w state)))))">pc-command-type</a> name)))
    (if (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> tp)
      (<a class="sym-link local-def" href="#def-print-no-change3" data-sym="PRINT-NO-CHANGE3" title="(defmacro print-no-change3 (&amp;optional str alist (col &#39;0))
  `(pprogn (print-no-change-fn ,str ,alist ,col state) (value nil)))">print-no-change3</a> <span class="string">"The command ~x0 is not a proof-builder command."</span>
        (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (cons #\0 name)))
      (<a class="sym-link system" href="axioms.html#def-case" data-sym="CASE">case</a> tp
        (macro (if (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> new-tp)
              (equal (symbol-name new-tp) <span class="string">"ATOMIC-MACRO"</span>))
            (<a class="sym-link local-def" href="#def-add-pc-command-1" data-sym="ADD-PC-COMMAND-1" title="(defun add-pc-command-1 (name command-type state)
  (table-fn &#39;pc-command-table `(&#39;,name &#39;,command-type) state
            (list &#39;table &#39;pc-command-table (list &#39;quote name)
                  (list &#39;quote command-type))))">add-pc-command-1</a> name 'atomic-macro state)
            (if (equal (symbol-name new-tp) <span class="string">"MACRO"</span>)
              (<a class="sym-link local-def" href="#def-print-no-change3" data-sym="PRINT-NO-CHANGE3" title="(defmacro print-no-change3 (&amp;optional str alist (col &#39;0))
  `(pprogn (print-no-change-fn ,str ,alist ,col state) (value nil)))">print-no-change3</a> <span class="string">"~x0 is already a non-atomic macro."</span>
                (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (cons #\0 name)))
              (<a class="sym-link local-def" href="#def-print-no-change3" data-sym="PRINT-NO-CHANGE3" title="(defmacro print-no-change3 (&amp;optional str alist (col &#39;0))
  `(pprogn (print-no-change-fn ,str ,alist ,col state) (value nil)))">print-no-change3</a> <span class="string">"You can&#39;t change a proof-builder macro ~
                                          to have type ~x0."</span>
                (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (cons #\0 new-tp))))))
        (atomic-macro (if (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> new-tp) (equal (symbol-name new-tp) <span class="string">"MACRO"</span>))
            (<a class="sym-link local-def" href="#def-add-pc-command-1" data-sym="ADD-PC-COMMAND-1" title="(defun add-pc-command-1 (name command-type state)
  (table-fn &#39;pc-command-table `(&#39;,name &#39;,command-type) state
            (list &#39;table &#39;pc-command-table (list &#39;quote name)
                  (list &#39;quote command-type))))">add-pc-command-1</a> name 'macro state)
            (if (equal (symbol-name new-tp) <span class="string">"ATOMIC-MACRO"</span>)
              (<a class="sym-link local-def" href="#def-print-no-change3" data-sym="PRINT-NO-CHANGE3" title="(defmacro print-no-change3 (&amp;optional str alist (col &#39;0))
  `(pprogn (print-no-change-fn ,str ,alist ,col state) (value nil)))">print-no-change3</a> <span class="string">"~x0 is already an atomic macro."</span>
                (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (cons #\0 name)))
              (<a class="sym-link local-def" href="#def-print-no-change3" data-sym="PRINT-NO-CHANGE3" title="(defmacro print-no-change3 (&amp;optional str alist (col &#39;0))
  `(pprogn (print-no-change-fn ,str ,alist ,col state) (value nil)))">print-no-change3</a> <span class="string">"You can&#39;t change a proof-builder atomic macro ~
                                                 to have type ~x0."</span>
                (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (cons #\0 new-tp))))))
        (otherwise (<a class="sym-link local-def" href="#def-print-no-change3" data-sym="PRINT-NO-CHANGE3" title="(defmacro print-no-change3 (&amp;optional str alist (col &#39;0))
  `(pprogn (print-no-change-fn ,str ,alist ,col state) (value nil)))">print-no-change3</a> <span class="string">"You can&#39;t change the type of a proof-builder ~x0 command."</span>
            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (cons #\0 tp))))))))</pre>
  </div>

<div class="form-block function" id="def-pc-meta-or-macro-defun" data-defines="PC-META-OR-MACRO-DEFUN" data-references="IGNORE,VERY-SILLY-COPY-OF-STATE-STACK,STATE-STACK,LET,QUOTE,CHECK-FORMALS-LENGTH,ER-PROGN,XARGS,DECLARE,STATE,ARGS,QUASIQUOTE,BODY,DOC,FORMALS,NAME,RAW-NAME,DEFUN" data-part-name="PC-META-OR-MACRO-DEFUN" data-part-args="BODY,DOC,FORMALS,NAME,RAW-NAME" data-part-body="IGNORE,VERY-SILLY-COPY-OF-STATE-STACK,STATE-STACK,LET,QUOTE,CHECK-FORMALS-LENGTH,ER-PROGN,XARGS,DECLARE,STATE,ARGS,DEFUN,QUASIQUOTE" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="PC-META-OR-MACRO-DEFUN">pc-meta-or-macro-defun</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-pc-meta-or-macro-defun" data-sym="PC-META-OR-MACRO-DEFUN" title="(defun pc-meta-or-macro-defun (raw-name name formals doc body)
  `(defun ,name (args state)
     (declare (xargs :mode :program :stobjs state))
     ,@(and doc (list doc))
     (er-progn (check-formals-length &#39;,formals args &#39;,raw-name &#39;,name state)
...">pc-meta-or-macro-defun</a>
  (raw-name name <a class="sym-link system" href="basis-b.html#def-formals" data-sym="FORMALS">formals</a> <a class="sym-link system" href="history-management.html#def-doc" data-sym="DOC">doc</a> <a class="sym-link system" href="basis-b.html#def-body" data-sym="BODY">body</a>)
  `(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> ,NAME
    (<a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a> state)
    (declare (xargs <span class="keyword">:mode</span> <span class="keyword">:program</span> <span class="keyword">:stobjs</span> state))
    ,@(AND DOC (LIST DOC))
    (<a class="sym-link system" href="axioms.html#def-er-progn" data-sym="ER-PROGN">er-progn</a> (<a class="sym-link local-def" href="#def-check-formals-length" data-sym="CHECK-FORMALS-LENGTH" title="(defun check-formals-length (formals args fn ctx state)
  (declare (xargs :guard (and (symbol-listp formals) (true-listp args))))
  (let ((max-length
         (if (member-eq &#39;&amp;rest formals)
             &#39;infinity
...">check-formals-length</a> ',FORMALS
        <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>
        ',RAW-NAME
        ',NAME
        state)
      (let ((<a class="sym-link local-def" href="#def-state-stack" data-sym="STATE-STACK" title="(defmacro state-stack () &#39;(pc-value state-stack))">state-stack</a> (<a class="sym-link local-def" href="#def-state-stack" data-sym="STATE-STACK" title="(defmacro state-stack () &#39;(pc-value state-stack))">state-stack</a>)) ,@(MAKE-LET-PAIRS-FROM-FORMALS FORMALS &#39;ARGS))
        ,@(BUTLAST BODY 1)
        (let ((very-silly-copy-of-state-stack <a class="sym-link local-def" href="#def-state-stack" data-sym="STATE-STACK" title="(defmacro state-stack () &#39;(pc-value state-stack))">state-stack</a>))
          (declare (ignore very-silly-copy-of-state-stack))
          ,(CAR (LAST BODY)))))))</pre>
  </div>

<div class="form-block function" id="def-goal-names" data-defines="GOAL-NAMES" data-references="CDR,CAR,GOAL,ACCESS,CONS,CONSP,IF,GOALS,DEFUN" data-used-by="MAYBE-PRINT-PROVED-GOAL-MESSAGE,CURRENT-ALL-DEPS,CURRENT-IMMEDIATE-DEPS" data-part-name="GOAL-NAMES" data-part-args="GOALS" data-part-body="CDR,GOAL-NAMES,CAR,GOAL,ACCESS,CONS,GOALS,CONSP,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="GOAL-NAMES">goal-names</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-goal-names" data-sym="GOAL-NAMES" title="(defun goal-names (goals)
  (if (consp goals)
      (cons (access goal (car goals) :goal-name) (goal-names (cdr goals)))
      nil))">goal-names</a>
  (<a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a>)
  (if (consp <a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a>)
    (cons (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> goal (car <a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a>) <span class="keyword">:goal-name</span>)
      (<a class="sym-link local-def" href="#def-goal-names" data-sym="GOAL-NAMES" title="(defun goal-names (goals)
  (if (consp goals)
      (cons (access goal (car goals) :goal-name) (goal-names (cdr goals)))
      nil))">goal-names</a> (cdr <a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a>)))
    nil))</pre>
  </div>

<div class="form-block function" id="def-instructions-of-state-stack" data-defines="INSTRUCTIONS-OF-STATE-STACK" data-references="CAR,PC-STATE,ACCESS,CONS,CDR,CONSP,IF,ACC,SS,DEFUN" data-part-name="INSTRUCTIONS-OF-STATE-STACK" data-part-args="ACC,SS" data-part-body="ACC,CAR,PC-STATE,ACCESS,CONS,CDR,INSTRUCTIONS-OF-STATE-STACK,SS,CONSP,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="INSTRUCTIONS-OF-STATE-STACK">instructions-of-state-stack</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-instructions-of-state-stack" data-sym="INSTRUCTIONS-OF-STATE-STACK" title="(defun instructions-of-state-stack (ss acc)
  (if (consp ss)
      (instructions-of-state-stack (cdr ss)
                                   (cons
                                    (access pc-state (car ss) :instruction)
...">instructions-of-state-stack</a>
  (ss acc)
  (if (consp ss)
    (<a class="sym-link local-def" href="#def-instructions-of-state-stack" data-sym="INSTRUCTIONS-OF-STATE-STACK" title="(defun instructions-of-state-stack (ss acc)
  (if (consp ss)
      (instructions-of-state-stack (cdr ss)
                                   (cons
                                    (access pc-state (car ss) :instruction)
...">instructions-of-state-stack</a> (cdr ss)
      (cons (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> pc-state (car ss) <span class="keyword">:instruction</span>) acc))
    (cdr acc)))</pre>
  </div>

<div class="form-block macro" id="def-fms0" data-defines="FMS0" data-references="IGNORE,DECLARE,PROOFS-CO,FMT1,STATE,NEW-COL,MV-LET,QUASIQUOTE,EVISC-TUPLE-P,QUOTE,EVISC-TUPLE,COL,ALIST,&OPTIONAL,STR,DEFMACRO" data-used-by="VERIFY,PROOF-BUILDER,PRINT-PC-STATE,PRINT-PC-GOAL,PRINT-PC-DEFTHM,STATE-STACK-FROM-INSTRUCTIONS,PRINT-UNPROVED-GOALS-MESSAGE,PC-MAIN-LOOP,PRINT-RE-ENTERING-PROOF-BUILDER,PC-SINGLE-STEP-1,MAYBE-PRINT-MACROEXPANSION,PC-SINGLE-STEP-PRIMITIVE,MAYBE-PRINT-PROVED-GOAL-MESSAGE,PRINT-ALL-GOALS-PROVED-MESSAGE" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="FMS0">fms0</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-fms0" data-sym="FMS0" title="(defmacro fms0 (str &amp;optional alist col (evisc-tuple &#39;nil evisc-tuple-p))
  `(mv-let (new-col state)
           (fmt1 ,str ,alist ,(or col 0) (proofs-co state) state
                 ,(if evisc-tuple-p
                      evisc-tuple
...">fms0</a>
  (str &amp;optional alist col (<a class="sym-link system" href="basis-a.html#def-evisc-tuple" data-sym="EVISC-TUPLE">evisc-tuple</a> 'nil evisc-tuple-p))
  `(<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (new-col state)
    (<a class="sym-link system" href="basis-a.html#def-fmt1" data-sym="FMT1">fmt1</a> ,STR
      ,ALIST
      ,(OR COL 0)
      (<a class="sym-link system" href="basis-b.html#def-proofs-co" data-sym="PROOFS-CO">proofs-co</a> state)
      state
      ,(IF EVISC-TUPLE-P
     EVISC-TUPLE
     &#39;(TERM-EVISC-TUPLE NIL STATE)))
    (declare (ignore new-col))
    state))</pre>
  </div>

<div class="form-block macro" id="def-with-output-forced" data-defines="WITH-OUTPUT-FORCED" data-references="T,QUASIQUOTE,QUOTE,HARD,ER,MEMBER-EQ,TRUE-LISTP,NOT,OR,COND,CODE,SIGNATURE,OUTPUT-CHAN,DEFMACRO" data-used-by="PRINT-PC-PROMPT" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="WITH-OUTPUT-FORCED">with-output-forced</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-with-output-forced" data-sym="WITH-OUTPUT-FORCED" title="(defmacro with-output-forced (output-chan signature code)
  (cond
   ((or (not (true-listp signature)) (member-eq output-chan signature))
    (er hard &#39;with-output-forced &quot;Ill-formed call: ~x0&quot;
        `(with-output-forced ,output-chan ,signature ,code)))">with-output-forced</a>
  (output-chan signature code)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-true-listp" data-sym="TRUE-LISTP">true-listp</a> signature))
       (<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> output-chan signature)) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> hard
        '<a class="sym-link local-def" href="#def-with-output-forced" data-sym="WITH-OUTPUT-FORCED" title="(defmacro with-output-forced (output-chan signature code)
  (cond
   ((or (not (true-listp signature)) (member-eq output-chan signature))
    (er hard &#39;with-output-forced &quot;Ill-formed call: ~x0&quot;
        `(with-output-forced ,output-chan ,signature ,code)))">with-output-forced</a>
        <span class="string">"Ill-formed call: ~x0"</span>
        `(<a class="sym-link local-def" href="#def-with-output-forced" data-sym="WITH-OUTPUT-FORCED" title="(defmacro with-output-forced (output-chan signature code)
  (cond
   ((or (not (true-listp signature)) (member-eq output-chan signature))
    (er hard &#39;with-output-forced &quot;Ill-formed call: ~x0&quot;
        `(with-output-forced ,output-chan ,signature ,code)))">with-output-forced</a> ,OUTPUT-CHAN ,SIGNATURE ,CODE)))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> code)))</pre>
  </div>

<div class="form-block function" id="def-print-pc-prompt" data-defines="PRINT-PC-PROMPT" data-references="PC-PROMPT,FMT1,WITH-OUTPUT-FORCED,PROOFS-CO,CHAN,LET,COL,MV,PROOF-BUILDER,IO?,STATE,DEFUN" data-used-by="PC-MAIN-LOOP" data-part-name="PRINT-PC-PROMPT" data-part-args="STATE" data-part-body="PC-PROMPT,FMT1,WITH-OUTPUT-FORCED,PROOFS-CO,CHAN,LET,STATE,COL,MV,PROOF-BUILDER,IO?" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="PRINT-PC-PROMPT">print-pc-prompt</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-print-pc-prompt" data-sym="PRINT-PC-PROMPT" title="(defun print-pc-prompt (state)
  (io? proof-builder nil (mv col state) nil
       (let ((chan (proofs-co state)))
         (with-output-forced chan (col state)
                             (fmt1 (pc-prompt) nil 0 chan state nil)))">print-pc-prompt</a>
  (state)
  (<a class="sym-link system" href="basis-a.html#def-io_3F" data-sym="IO?">io?</a> <a class="sym-link local-def" href="#def-proof-builder" data-sym="PROOF-BUILDER" title="(defun proof-builder
       (event-name raw-term term rule-classes instructions wrld state)
  (declare (ignore term wrld))
  (cond
   ((and (not (f-get-global &#39;in-verify-flg state)) (ld-skip-proofsp state))
...">proof-builder</a>
    nil
    (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> col state)
    nil
    (let ((chan (<a class="sym-link system" href="basis-b.html#def-proofs-co" data-sym="PROOFS-CO">proofs-co</a> state)))
      (<a class="sym-link local-def" href="#def-with-output-forced" data-sym="WITH-OUTPUT-FORCED" title="(defmacro with-output-forced (output-chan signature code)
  (cond
   ((or (not (true-listp signature)) (member-eq output-chan signature))
    (er hard &#39;with-output-forced &quot;Ill-formed call: ~x0&quot;
        `(with-output-forced ,output-chan ,signature ,code)))">with-output-forced</a> chan
        (col state)
        (<a class="sym-link system" href="basis-a.html#def-fmt1" data-sym="FMT1">fmt1</a> (<a class="sym-link local-def" href="#def-pc-prompt" data-sym="PC-PROMPT" title="(defmacro pc-prompt () &#39;(access pc-info (f-get-global &#39;pc-info state) :prompt))">pc-prompt</a>) nil <span class="number">0</span> chan state nil)))
    <span class="keyword">:default-bindings</span> ((col <span class="number">0</span>))))</pre>
  </div>

<div class="form-block function" id="def-pc-macroexpand" data-defines="PC-MACROEXPAND" data-references="VALUE,T,CDR,LIST,XTRANS-EVAL,VAL,ER-LET*,ATOMIC-MACRO,MACRO,QUOTE,CAR,PC-COMMAND-TYPE,MEMBER-EQ,IF,MAKE-OFFICIAL-PC-INSTR,INSTR,LET,STATE,RAW-INSTR,DEFUN" data-used-by="PC-SINGLE-STEP-1" data-part-name="PC-MACROEXPAND" data-part-args="STATE,RAW-INSTR" data-part-body="VALUE,PC-MACROEXPAND,T,STATE,CDR,LIST,XTRANS-EVAL,VAL,ER-LET*,ATOMIC-MACRO,MACRO,QUOTE,CAR,PC-COMMAND-TYPE,MEMBER-EQ,IF,RAW-INSTR,MAKE-OFFICIAL-PC-INSTR,INSTR,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="PC-MACROEXPAND">pc-macroexpand</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-pc-macroexpand" data-sym="PC-MACROEXPAND" title="(defun pc-macroexpand (raw-instr state)
  (let ((instr (make-official-pc-instr raw-instr)))
    (if (member-eq (pc-command-type (car instr)) &#39;(macro atomic-macro))
        (er-let*
         ((val
...">pc-macroexpand</a>
  (raw-instr state)
  (let ((instr (<a class="sym-link local-def" href="#def-make-official-pc-instr" data-sym="MAKE-OFFICIAL-PC-INSTR" title="(defun make-official-pc-instr (instr)
  (if (consp instr)
      (if (and (symbolp (car instr)) (true-listp (cdr instr)))
          (cons (make-official-pc-command (car instr)) (cdr instr))
          (list (make-official-pc-command &#39;illegal) instr))
...">make-official-pc-instr</a> raw-instr)))
    (if (<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> (<a class="sym-link local-def" href="#def-pc-command-type" data-sym="PC-COMMAND-TYPE" title="(defmacro pc-command-type (name)
  `(cdr (assoc-equal ,name (table-alist &#39;pc-command-table (w state)))))">pc-command-type</a> (car instr))
        '(macro atomic-macro))
      (<a class="sym-link system" href="basis-b.html#def-er-let_2A" data-sym="ER-LET*">er-let*</a> ((val (<a class="sym-link system" href="history-management.html#def-xtrans-eval" data-sym="XTRANS-EVAL">xtrans-eval</a> (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (car instr) (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> 'quote (cdr instr)) 'state)
             nil
             <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
             <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
             '<a class="sym-link local-def" href="#def-pc-macroexpand" data-sym="PC-MACROEXPAND" title="(defun pc-macroexpand (raw-instr state)
  (let ((instr (make-official-pc-instr raw-instr)))
    (if (member-eq (pc-command-type (car instr)) &#39;(macro atomic-macro))
        (er-let*
         ((val
...">pc-macroexpand</a>
             state
             <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)))
        (<a class="sym-link local-def" href="#def-pc-macroexpand" data-sym="PC-MACROEXPAND" title="(defun pc-macroexpand (raw-instr state)
  (let ((instr (make-official-pc-instr raw-instr)))
    (if (member-eq (pc-command-type (car instr)) &#39;(macro atomic-macro))
        (er-let*
         ((val
...">pc-macroexpand</a> val state))
      (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> instr))))</pre>
  </div>

<div class="form-block function" id="def-find-goal" data-defines="FIND-GOAL" data-references="CDR,CAR,GOAL,ACCESS,EQUAL,CONSP,IF,GOALS,NAME,DEFUN" data-used-by="MAYBE-PRINT-PROVED-GOAL-MESSAGE" data-part-name="FIND-GOAL" data-part-args="GOALS,NAME" data-part-body="CDR,FIND-GOAL,CAR,GOAL,ACCESS,NAME,EQUAL,GOALS,CONSP,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="FIND-GOAL">find-goal</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-find-goal" data-sym="FIND-GOAL" title="(defun find-goal (name goals)
  (if (consp goals)
      (if (equal name (access goal (car goals) :goal-name))
          (car goals)
          (find-goal name (cdr goals)))">find-goal</a>
  (name <a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a>)
  (if (consp <a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a>)
    (if (equal name (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> goal (car <a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a>) <span class="keyword">:goal-name</span>))
      (car <a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a>)
      (<a class="sym-link local-def" href="#def-find-goal" data-sym="FIND-GOAL" title="(defun find-goal (name goals)
  (if (consp goals)
      (if (equal name (access goal (car goals) :goal-name))
          (car goals)
          (find-goal name (cdr goals)))">find-goal</a> name (cdr <a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a>)))
    nil))</pre>
  </div>

<div class="form-block function" id="def-print-all-goals-proved-message" data-defines="PRINT-ALL-GOALS-PROVED-MESSAGE" data-references="FMS0,IN-VERIFY-FLG,QUOTE,F-GET-GLOBAL,IF,PRINT-NO-CHANGE,PPROGN,PROOF-BUILDER,IO?,STATE,DEFUN" data-used-by="PC-SINGLE-STEP-PRIMITIVE,WHEN-GOALS-TRIP,WHEN-GOALS" data-part-name="PRINT-ALL-GOALS-PROVED-MESSAGE" data-part-args="STATE" data-part-body="FMS0,IN-VERIFY-FLG,QUOTE,F-GET-GLOBAL,IF,PRINT-NO-CHANGE,PPROGN,STATE,PROOF-BUILDER,IO?" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="PRINT-ALL-GOALS-PROVED-MESSAGE">print-all-goals-proved-message</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-print-all-goals-proved-message" data-sym="PRINT-ALL-GOALS-PROVED-MESSAGE" title="(defun print-all-goals-proved-message (state)
  (io? proof-builder nil state nil
       (pprogn (print-no-change &quot;There are no unproved goals!&quot;)
               (if (f-get-global &#39;in-verify-flg state)
                   (fms0 &quot;You may wish to exit.~%&quot;)">print-all-goals-proved-message</a>
  (state)
  (<a class="sym-link system" href="basis-a.html#def-io_3F" data-sym="IO?">io?</a> <a class="sym-link local-def" href="#def-proof-builder" data-sym="PROOF-BUILDER" title="(defun proof-builder
       (event-name raw-term term rule-classes instructions wrld state)
  (declare (ignore term wrld))
  (cond
   ((and (not (f-get-global &#39;in-verify-flg state)) (ld-skip-proofsp state))
...">proof-builder</a>
    nil
    state
    nil
    (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link local-def" href="#def-print-no-change" data-sym="PRINT-NO-CHANGE" title="(defmacro print-no-change (&amp;optional str alist (col &#39;0))
  `(print-no-change-fn ,str ,alist ,col state))">print-no-change</a> <span class="string">"There are no unproved goals!"</span>)
      (if (<a class="sym-link system" href="axioms.html#def-f-get-global" data-sym="F-GET-GLOBAL">f-get-global</a> 'in-verify-flg state)
        (<a class="sym-link local-def" href="#def-fms0" data-sym="FMS0" title="(defmacro fms0 (str &amp;optional alist col (evisc-tuple &#39;nil evisc-tuple-p))
  `(mv-let (new-col state)
           (fmt1 ,str ,alist ,(or col 0) (proofs-co state) state
                 ,(if evisc-tuple-p
                      evisc-tuple
...">fms0</a> <span class="string">"You may wish to exit.~%"</span>)
        state))))</pre>
  </div>

<div class="form-block macro" id="def-when-goals" data-defines="WHEN-GOALS" data-references="STATE,PRINT-ALL-GOALS-PROVED-MESSAGE,T,GOALS,IF,QUASIQUOTE,FORM,DEFMACRO" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="WHEN-GOALS">when-goals</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-when-goals" data-sym="WHEN-GOALS" title="(defmacro when-goals (form)
  `(if (goals t)
       ,form
       (print-all-goals-proved-message state)))">when-goals</a>
  (form)
  `(if (<a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)
    ,FORM
    (<a class="sym-link local-def" href="#def-print-all-goals-proved-message" data-sym="PRINT-ALL-GOALS-PROVED-MESSAGE" title="(defun print-all-goals-proved-message (state)
  (io? proof-builder nil state nil
       (pprogn (print-no-change &quot;There are no unproved goals!&quot;)
               (if (f-get-global &#39;in-verify-flg state)
                   (fms0 &quot;You may wish to exit.~%&quot;)">print-all-goals-proved-message</a> state)))</pre>
  </div>

<div class="form-block macro" id="def-when-goals-trip" data-defines="WHEN-GOALS-TRIP" data-references="SKIP,QUOTE,VALUE,STATE,PRINT-ALL-GOALS-PROVED-MESSAGE,PPROGN,T,GOALS,IF,QUASIQUOTE,FORM,DEFMACRO" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="WHEN-GOALS-TRIP">when-goals-trip</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-when-goals-trip" data-sym="WHEN-GOALS-TRIP" title="(defmacro when-goals-trip (form)
  `(if (goals t)
       ,form
       (pprogn (print-all-goals-proved-message state) (value &#39;skip))))">when-goals-trip</a>
  (form)
  `(if (<a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)
    ,FORM
    (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link local-def" href="#def-print-all-goals-proved-message" data-sym="PRINT-ALL-GOALS-PROVED-MESSAGE" title="(defun print-all-goals-proved-message (state)
  (io? proof-builder nil state nil
       (pprogn (print-no-change &quot;There are no unproved goals!&quot;)
               (if (f-get-global &#39;in-verify-flg state)
                   (fms0 &quot;You may wish to exit.~%&quot;)">print-all-goals-proved-message</a> state)
      (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> 'skip))))</pre>
  </div>

<div class="form-block function" id="def-current-immediate-deps" data-defines="CURRENT-IMMEDIATE-DEPS" data-references="CDR,CONS,CAAR,EQUAL,CAR,AND,CONSP,IF,GOAL-NAMES,GOAL-NAME,DEFUN" data-used-by="CURRENT-ALL-DEPS" data-part-name="CURRENT-IMMEDIATE-DEPS" data-part-args="GOAL-NAMES,GOAL-NAME" data-part-body="CDR,CURRENT-IMMEDIATE-DEPS,CONS,CAAR,GOAL-NAME,EQUAL,CAR,AND,GOAL-NAMES,CONSP,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CURRENT-IMMEDIATE-DEPS">current-immediate-deps</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-current-immediate-deps" data-sym="CURRENT-IMMEDIATE-DEPS" title="(defun current-immediate-deps (goal-name goal-names)
  (if (consp goal-names)
      (if (and (consp (car goal-names)) (equal goal-name (caar goal-names)))
          (cons (car goal-names)
                (current-immediate-deps goal-name (cdr goal-names)))
...">current-immediate-deps</a>
  (<a class="sym-link local-def" href="#def-goal-name" data-sym="GOAL-NAME" title="(defmacro goal-name (&amp;optional ss-supplied-p)
  `(access goal (car (goals ,ss-supplied-p)) :goal-name))">goal-name</a> <a class="sym-link local-def" href="#def-goal-names" data-sym="GOAL-NAMES" title="(defun goal-names (goals)
  (if (consp goals)
      (cons (access goal (car goals) :goal-name) (goal-names (cdr goals)))
      nil))">goal-names</a>)
  (if (consp <a class="sym-link local-def" href="#def-goal-names" data-sym="GOAL-NAMES" title="(defun goal-names (goals)
  (if (consp goals)
      (cons (access goal (car goals) :goal-name) (goal-names (cdr goals)))
      nil))">goal-names</a>)
    (if (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (consp (car <a class="sym-link local-def" href="#def-goal-names" data-sym="GOAL-NAMES" title="(defun goal-names (goals)
  (if (consp goals)
      (cons (access goal (car goals) :goal-name) (goal-names (cdr goals)))
      nil))">goal-names</a>))
        (equal <a class="sym-link local-def" href="#def-goal-name" data-sym="GOAL-NAME" title="(defmacro goal-name (&amp;optional ss-supplied-p)
  `(access goal (car (goals ,ss-supplied-p)) :goal-name))">goal-name</a> (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> <a class="sym-link local-def" href="#def-goal-names" data-sym="GOAL-NAMES" title="(defun goal-names (goals)
  (if (consp goals)
      (cons (access goal (car goals) :goal-name) (goal-names (cdr goals)))
      nil))">goal-names</a>)))
      (cons (car <a class="sym-link local-def" href="#def-goal-names" data-sym="GOAL-NAMES" title="(defun goal-names (goals)
  (if (consp goals)
      (cons (access goal (car goals) :goal-name) (goal-names (cdr goals)))
      nil))">goal-names</a>)
        (<a class="sym-link local-def" href="#def-current-immediate-deps" data-sym="CURRENT-IMMEDIATE-DEPS" title="(defun current-immediate-deps (goal-name goal-names)
  (if (consp goal-names)
      (if (and (consp (car goal-names)) (equal goal-name (caar goal-names)))
          (cons (car goal-names)
                (current-immediate-deps goal-name (cdr goal-names)))
...">current-immediate-deps</a> <a class="sym-link local-def" href="#def-goal-name" data-sym="GOAL-NAME" title="(defmacro goal-name (&amp;optional ss-supplied-p)
  `(access goal (car (goals ,ss-supplied-p)) :goal-name))">goal-name</a> (cdr <a class="sym-link local-def" href="#def-goal-names" data-sym="GOAL-NAMES" title="(defun goal-names (goals)
  (if (consp goals)
      (cons (access goal (car goals) :goal-name) (goal-names (cdr goals)))
      nil))">goal-names</a>)))
      (<a class="sym-link local-def" href="#def-current-immediate-deps" data-sym="CURRENT-IMMEDIATE-DEPS" title="(defun current-immediate-deps (goal-name goal-names)
  (if (consp goal-names)
      (if (and (consp (car goal-names)) (equal goal-name (caar goal-names)))
          (cons (car goal-names)
                (current-immediate-deps goal-name (cdr goal-names)))
...">current-immediate-deps</a> <a class="sym-link local-def" href="#def-goal-name" data-sym="GOAL-NAME" title="(defmacro goal-name (&amp;optional ss-supplied-p)
  `(access goal (car (goals ,ss-supplied-p)) :goal-name))">goal-name</a> (cdr <a class="sym-link local-def" href="#def-goal-names" data-sym="GOAL-NAMES" title="(defun goal-names (goals)
  (if (consp goals)
      (cons (access goal (car goals) :goal-name) (goal-names (cdr goals)))
      nil))">goal-names</a>)))
    nil))</pre>
  </div>

<div class="form-block function" id="def-goal-dependent-p" data-defines="GOAL-DEPENDENT-P" data-references="T,CAR,EQUAL,CONSP,IF,NAME,PARENT,DEFUN" data-used-by="CURRENT-ALL-DEPS" data-part-name="GOAL-DEPENDENT-P" data-part-args="NAME,PARENT" data-part-body="GOAL-DEPENDENT-P,T,CAR,PARENT,EQUAL,NAME,CONSP,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="GOAL-DEPENDENT-P">goal-dependent-p</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-goal-dependent-p" data-sym="GOAL-DEPENDENT-P" title="(defun goal-dependent-p (parent name)
  (if (consp name)
      (if (equal parent (car name))
          t
          (goal-dependent-p parent (car name)))">goal-dependent-p</a>
  (parent name)
  (if (consp name)
    (if (equal parent (car name))
      <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
      (<a class="sym-link local-def" href="#def-goal-dependent-p" data-sym="GOAL-DEPENDENT-P" title="(defun goal-dependent-p (parent name)
  (if (consp name)
      (if (equal parent (car name))
          t
          (goal-dependent-p parent (car name)))">goal-dependent-p</a> parent (car name)))
    nil))</pre>
  </div>

<div class="form-block function" id="def-current-all-deps" data-defines="CURRENT-ALL-DEPS" data-references="CDR,CURRENT-IMMEDIATE-DEPS,CONS,CAR,GOAL-DEPENDENT-P,CONSP,IF,GOAL-NAMES,GOAL-NAME,DEFUN" data-used-by="MAYBE-PRINT-PROVED-GOAL-MESSAGE" data-part-name="CURRENT-ALL-DEPS" data-part-args="GOAL-NAMES,GOAL-NAME" data-part-body="CDR,CURRENT-IMMEDIATE-DEPS,CONS,CAR,GOAL-NAME,GOAL-DEPENDENT-P,GOAL-NAMES,CONSP,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CURRENT-ALL-DEPS">current-all-deps</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-current-all-deps" data-sym="CURRENT-ALL-DEPS" title="(defun current-all-deps (goal-name goal-names)
  (if (consp goal-names)
      (if (goal-dependent-p goal-name (car goal-names))
          (cons (car goal-names)
                (current-immediate-deps goal-name (cdr goal-names)))
...">current-all-deps</a>
  (<a class="sym-link local-def" href="#def-goal-name" data-sym="GOAL-NAME" title="(defmacro goal-name (&amp;optional ss-supplied-p)
  `(access goal (car (goals ,ss-supplied-p)) :goal-name))">goal-name</a> <a class="sym-link local-def" href="#def-goal-names" data-sym="GOAL-NAMES" title="(defun goal-names (goals)
  (if (consp goals)
      (cons (access goal (car goals) :goal-name) (goal-names (cdr goals)))
      nil))">goal-names</a>)
  (if (consp <a class="sym-link local-def" href="#def-goal-names" data-sym="GOAL-NAMES" title="(defun goal-names (goals)
  (if (consp goals)
      (cons (access goal (car goals) :goal-name) (goal-names (cdr goals)))
      nil))">goal-names</a>)
    (if (<a class="sym-link local-def" href="#def-goal-dependent-p" data-sym="GOAL-DEPENDENT-P" title="(defun goal-dependent-p (parent name)
  (if (consp name)
      (if (equal parent (car name))
          t
          (goal-dependent-p parent (car name)))">goal-dependent-p</a> <a class="sym-link local-def" href="#def-goal-name" data-sym="GOAL-NAME" title="(defmacro goal-name (&amp;optional ss-supplied-p)
  `(access goal (car (goals ,ss-supplied-p)) :goal-name))">goal-name</a> (car <a class="sym-link local-def" href="#def-goal-names" data-sym="GOAL-NAMES" title="(defun goal-names (goals)
  (if (consp goals)
      (cons (access goal (car goals) :goal-name) (goal-names (cdr goals)))
      nil))">goal-names</a>))
      (cons (car <a class="sym-link local-def" href="#def-goal-names" data-sym="GOAL-NAMES" title="(defun goal-names (goals)
  (if (consp goals)
      (cons (access goal (car goals) :goal-name) (goal-names (cdr goals)))
      nil))">goal-names</a>)
        (<a class="sym-link local-def" href="#def-current-immediate-deps" data-sym="CURRENT-IMMEDIATE-DEPS" title="(defun current-immediate-deps (goal-name goal-names)
  (if (consp goal-names)
      (if (and (consp (car goal-names)) (equal goal-name (caar goal-names)))
          (cons (car goal-names)
                (current-immediate-deps goal-name (cdr goal-names)))
...">current-immediate-deps</a> <a class="sym-link local-def" href="#def-goal-name" data-sym="GOAL-NAME" title="(defmacro goal-name (&amp;optional ss-supplied-p)
  `(access goal (car (goals ,ss-supplied-p)) :goal-name))">goal-name</a> (cdr <a class="sym-link local-def" href="#def-goal-names" data-sym="GOAL-NAMES" title="(defun goal-names (goals)
  (if (consp goals)
      (cons (access goal (car goals) :goal-name) (goal-names (cdr goals)))
      nil))">goal-names</a>)))
      (<a class="sym-link local-def" href="#def-current-immediate-deps" data-sym="CURRENT-IMMEDIATE-DEPS" title="(defun current-immediate-deps (goal-name goal-names)
  (if (consp goal-names)
      (if (and (consp (car goal-names)) (equal goal-name (caar goal-names)))
          (cons (car goal-names)
                (current-immediate-deps goal-name (cdr goal-names)))
...">current-immediate-deps</a> <a class="sym-link local-def" href="#def-goal-name" data-sym="GOAL-NAME" title="(defmacro goal-name (&amp;optional ss-supplied-p)
  `(access goal (car (goals ,ss-supplied-p)) :goal-name))">goal-name</a> (cdr <a class="sym-link local-def" href="#def-goal-names" data-sym="GOAL-NAMES" title="(defun goal-names (goals)
  (if (consp goals)
      (cons (access goal (car goals) :goal-name) (goal-names (cdr goals)))
      nil))">goal-names</a>)))
    nil))</pre>
  </div>

<div class="form-block function" id="def-maybe-print-proved-goal-message" data-defines="MAYBE-PRINT-PROVED-GOAL-MESSAGE" data-references="IN-VERIFY-FLG,QUOTE,F-GET-GLOBAL,CAR,CURRENT-ALL-DEPS,UNPROVED-DEPS,LET,FIND-GOAL,ZERO-ONE-OR-MORE,LENGTH,CONS,LIST,FMS0,IF,PPROGN,SET-DIFFERENCE-EQUAL,NAMES,GOAL-NAMES,NEW-NAMES,ACCESS,NAME,LET*,STATE,GOALS,OLD-GOALS,GOAL,DEFUN" data-used-by="PC-SINGLE-STEP-PRIMITIVE" data-part-name="MAYBE-PRINT-PROVED-GOAL-MESSAGE" data-part-args="STATE,GOALS,OLD-GOALS,GOAL" data-part-body="IN-VERIFY-FLG,QUOTE,F-GET-GLOBAL,CAR,CURRENT-ALL-DEPS,UNPROVED-DEPS,LET,FIND-GOAL,STATE,ZERO-ONE-OR-MORE,LENGTH,CONS,LIST,FMS0,IF,PPROGN,OLD-GOALS,SET-DIFFERENCE-EQUAL,NAMES,GOALS,GOAL-NAMES,NEW-NAMES,GOAL,ACCESS,NAME,LET*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="MAYBE-PRINT-PROVED-GOAL-MESSAGE">maybe-print-proved-goal-message</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-maybe-print-proved-goal-message" data-sym="MAYBE-PRINT-PROVED-GOAL-MESSAGE" title="(defun maybe-print-proved-goal-message (goal old-goals goals state)
  (let* ((name (access goal goal :goal-name))
         (new-names (goal-names goals))
         (names (set-difference-equal new-names (goal-names old-goals))))
    (pprogn
...">maybe-print-proved-goal-message</a>
  (goal old-goals <a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a> state)
  (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((name (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> goal goal <span class="keyword">:goal-name</span>)) (new-names (<a class="sym-link local-def" href="#def-goal-names" data-sym="GOAL-NAMES" title="(defun goal-names (goals)
  (if (consp goals)
      (cons (access goal (car goals) :goal-name) (goal-names (cdr goals)))
      nil))">goal-names</a> <a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a>))
      (names (<a class="sym-link system" href="axioms.html#def-set-difference-equal" data-sym="SET-DIFFERENCE-EQUAL">set-difference-equal</a> new-names (<a class="sym-link local-def" href="#def-goal-names" data-sym="GOAL-NAMES" title="(defun goal-names (goals)
  (if (consp goals)
      (cons (access goal (car goals) :goal-name) (goal-names (cdr goals)))
      nil))">goal-names</a> old-goals))))
    (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (if names
        (<a class="sym-link local-def" href="#def-fms0" data-sym="FMS0" title="(defmacro fms0 (str &amp;optional alist col (evisc-tuple &#39;nil evisc-tuple-p))
  `(mv-let (new-col state)
           (fmt1 ,str ,alist ,(or col 0) (proofs-co state) state
                 ,(if evisc-tuple-p
                      evisc-tuple
...">fms0</a> <span class="string">"~|~%Creating ~n0 new ~#1~[~/goal~/goals~]:  ~&amp;2.~%"</span>
          (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (cons #\0 (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> names))
            (cons #\1 (<a class="sym-link system" href="basis-a.html#def-zero-one-or-more" data-sym="ZERO-ONE-OR-MORE">zero-one-or-more</a> (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> names)))
            (cons #\2 names))
          <span class="number">0</span>
          nil)
        state)
      (if (<a class="sym-link local-def" href="#def-find-goal" data-sym="FIND-GOAL" title="(defun find-goal (name goals)
  (if (consp goals)
      (if (equal name (access goal (car goals) :goal-name))
          (car goals)
          (find-goal name (cdr goals)))">find-goal</a> name <a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a>)
        state
        (let ((unproved-deps (<a class="sym-link local-def" href="#def-current-all-deps" data-sym="CURRENT-ALL-DEPS" title="(defun current-all-deps (goal-name goal-names)
  (if (consp goal-names)
      (if (goal-dependent-p goal-name (car goal-names))
          (cons (car goal-names)
                (current-immediate-deps goal-name (cdr goal-names)))
...">current-all-deps</a> name new-names)))
          (if unproved-deps
            (<a class="sym-link local-def" href="#def-fms0" data-sym="FMS0" title="(defmacro fms0 (str &amp;optional alist col (evisc-tuple &#39;nil evisc-tuple-p))
  `(mv-let (new-col state)
           (fmt1 ,str ,alist ,(or col 0) (proofs-co state) state
                 ,(if evisc-tuple-p
                      evisc-tuple
...">fms0</a> <span class="string">"~|~%The proof of the current goal, ~x0, has been ~
                           completed.  However, the following subgoals remain ~
                           to be proved:~%~ ~ ~&amp;1.~%Now proving ~x2.~%"</span>
              (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (cons #\0 name)
                (cons #\1 unproved-deps)
                (cons #\2 (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> goal (car <a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a>) <span class="keyword">:goal-name</span>)))
              <span class="number">0</span>
              nil)
            (if <a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a>
              (<a class="sym-link local-def" href="#def-fms0" data-sym="FMS0" title="(defmacro fms0 (str &amp;optional alist col (evisc-tuple &#39;nil evisc-tuple-p))
  `(mv-let (new-col state)
           (fmt1 ,str ,alist ,(or col 0) (proofs-co state) state
                 ,(if evisc-tuple-p
                      evisc-tuple
...">fms0</a> <span class="string">"~|~%The proof of the current goal, ~x0, has been ~
                             completed, as have all of its subgoals.~%Now proving ~x1.~%"</span>
                (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (cons #\0 name)
                  (cons #\1 (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> goal (car <a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a>) <span class="keyword">:goal-name</span>)))
                <span class="number">0</span>
                nil)
              (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link local-def" href="#def-fms0" data-sym="FMS0" title="(defmacro fms0 (str &amp;optional alist col (evisc-tuple &#39;nil evisc-tuple-p))
  `(mv-let (new-col state)
           (fmt1 ,str ,alist ,(or col 0) (proofs-co state) state
                 ,(if evisc-tuple-p
                      evisc-tuple
...">fms0</a> <span class="string">"~|*!*!*!*!*!*!* All goals have been proved! ~
                            *!*!*!*!*!*!*~%"</span>)
                (if (<a class="sym-link system" href="axioms.html#def-f-get-global" data-sym="F-GET-GLOBAL">f-get-global</a> 'in-verify-flg state)
                  (<a class="sym-link local-def" href="#def-fms0" data-sym="FMS0" title="(defmacro fms0 (str &amp;optional alist col (evisc-tuple &#39;nil evisc-tuple-p))
  `(mv-let (new-col state)
           (fmt1 ,str ,alist ,(or col 0) (proofs-co state) state
                 ,(if evisc-tuple-p
                      evisc-tuple
...">fms0</a> <span class="string">"You may wish to exit.~%"</span>)
                  state)))))))))</pre>
  </div>

<div class="form-block function" id="def-accumulate-ttree-in-pc-state" data-defines="ACCUMULATE-TTREE-IN-PC-STATE" data-references="CHANGE-PC-STATE,VALUE,ACCESS,ACCUMULATE-TTREE-AND-STEP-LIMIT-INTO-STATE,TTREE,ER-LET*,STATE,PC-STATE,DEFUN" data-used-by="PC-SINGLE-STEP-PRIMITIVE" data-part-name="ACCUMULATE-TTREE-IN-PC-STATE" data-part-args="STATE,PC-STATE" data-part-body="CHANGE-PC-STATE,VALUE,STATE,PC-STATE,ACCESS,ACCUMULATE-TTREE-AND-STEP-LIMIT-INTO-STATE,TTREE,ER-LET*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ACCUMULATE-TTREE-IN-PC-STATE">accumulate-ttree-in-pc-state</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-accumulate-ttree-in-pc-state" data-sym="ACCUMULATE-TTREE-IN-PC-STATE" title="(defun accumulate-ttree-in-pc-state (pc-state state)
  (er-let*
   ((ttree
     (accumulate-ttree-and-step-limit-into-state
      (access pc-state pc-state :tag-tree) :skip state)))">accumulate-ttree-in-pc-state</a>
  (pc-state state)
  (<a class="sym-link system" href="basis-b.html#def-er-let_2A" data-sym="ER-LET*">er-let*</a> ((ttree (accumulate-ttree-and-step-limit-into-state (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> pc-state pc-state <span class="keyword">:tag-tree</span>)
         <span class="keyword">:skip</span> state)))
    (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (<a class="sym-link local-def" href="#def-change-pc-state" data-sym="CHANGE-PC-STATE" title="(defmacro change-pc-state (pc-s &amp;rest args) (list* &#39;change &#39;pc-state pc-s args))">change-pc-state</a> pc-state <span class="keyword">:tag-tree</span> ttree))))</pre>
  </div>

<div class="form-block function" id="def-pc-process-assumptions" data-defines="PC-PROCESS-ASSUMPTIONS" data-references="STRIP-CDRS,MV,=,SPLITTER-OUTPUT,EXTRACT-AND-CLAUSIFY-ASSUMPTIONS,TTREE1,PAIRS,ASSNS,N0,MV-LET,PROOFS-CO,CONS,LIST,FMS,PROVE,IO?,T,<,COND,PPROGN,COUNT-ASSUMPTIONS,N,LET,STATE,WRLD,TTREE,PC-ENS,DEFUN" data-used-by="PC-SINGLE-STEP-PRIMITIVE" data-part-name="PC-PROCESS-ASSUMPTIONS" data-part-args="STATE,WRLD,TTREE,PC-ENS" data-part-body="STRIP-CDRS,MV,=,SPLITTER-OUTPUT,WRLD,PC-ENS,EXTRACT-AND-CLAUSIFY-ASSUMPTIONS,TTREE1,PAIRS,ASSNS,N0,MV-LET,PROOFS-CO,CONS,LIST,FMS,PROVE,IO?,T,STATE,<,COND,PPROGN,TTREE,COUNT-ASSUMPTIONS,N,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="PC-PROCESS-ASSUMPTIONS">pc-process-assumptions</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-pc-process-assumptions" data-sym="PC-PROCESS-ASSUMPTIONS" title="(defun pc-process-assumptions (pc-ens ttree wrld state)
  (let ((n (count-assumptions ttree)))
    (pprogn
     (cond ((&lt; n 101) state)
           (t
...">pc-process-assumptions</a>
  (<a class="sym-link local-def" href="#def-pc-ens" data-sym="PC-ENS" title="(defmacro pc-ens (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">pc-ens</a> ttree wrld state)
  (let ((n (<a class="sym-link system" href="prove.html#def-count-assumptions" data-sym="COUNT-ASSUMPTIONS">count-assumptions</a> ttree)))
    (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((&lt; n <span class="number">101</span>) state)
        (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="basis-a.html#def-io_3F" data-sym="IO?">io?</a> <a class="sym-link system" href="prove.html#def-prove" data-sym="PROVE">prove</a>
            nil
            state
            (n)
            (<a class="sym-link system" href="basis-a.html#def-fms" data-sym="FMS">fms</a> <span class="string">"~%Note: processing ~x0 forced hypotheses which we now ~
                  collect)~%"</span>
              (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (cons #\0 n))
              (<a class="sym-link system" href="basis-b.html#def-proofs-co" data-sym="PROOFS-CO">proofs-co</a> state)
              state
              nil))))
      (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (n0 assns pairs ttree1)
        (<a class="sym-link system" href="prove.html#def-extract-and-clausify-assumptions" data-sym="EXTRACT-AND-CLAUSIFY-ASSUMPTIONS">extract-and-clausify-assumptions</a> nil
          ttree
          nil
          <a class="sym-link local-def" href="#def-pc-ens" data-sym="PC-ENS" title="(defmacro pc-ens (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">pc-ens</a>
          wrld
          (<a class="sym-link system" href="prove.html#def-splitter-output" data-sym="SPLITTER-OUTPUT">splitter-output</a>))
        (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-_3D" data-sym="=">=</a> n0 <span class="number">0</span>) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil nil ttree state))
          (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> (<a class="sym-link system" href="axioms.html#def-strip-cdrs" data-sym="STRIP-CDRS">strip-cdrs</a> pairs) assns ttree1 state)))))))</pre>
  </div>

<div class="form-block function" id="def-make-implication" data-defines="MAKE-IMPLICATION" data-references="T,CONJOIN,IMPLIES,QUOTE,FCONS-TERM*,COND,CONCL,ASSUMPTIONS,DEFUN" data-used-by="CL-SET-TO-IMPLICATIONS" data-part-name="MAKE-IMPLICATION" data-part-args="CONCL,ASSUMPTIONS" data-part-body="T,CONCL,CONJOIN,IMPLIES,QUOTE,FCONS-TERM*,ASSUMPTIONS,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="MAKE-IMPLICATION">make-implication</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-make-implication" data-sym="MAKE-IMPLICATION" title="(defun make-implication (assumptions concl)
  (cond (assumptions (fcons-term* &#39;implies (conjoin assumptions) concl))
        (t concl)))">make-implication</a>
  (assumptions concl)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (assumptions (<a class="sym-link system" href="axioms.html#def-fcons-term_2A" data-sym="FCONS-TERM*">fcons-term*</a> '<a class="sym-link system" href="axioms.html#def-implies" data-sym="IMPLIES">implies</a> (<a class="sym-link system" href="axioms.html#def-conjoin" data-sym="CONJOIN">conjoin</a> assumptions) concl))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> concl)))</pre>
  </div>

<div class="form-block function" id="def-cl-set-to-implications" data-defines="CL-SET-TO-IMPLICATIONS" data-references="CDR,LAST,CAR,BUTLAST,DUMB-NEGATE-LIT-LST,MAKE-IMPLICATION,CONS,NULL,IF,CL-SET,DEFUN" data-used-by="PC-SINGLE-STEP-PRIMITIVE" data-part-name="CL-SET-TO-IMPLICATIONS" data-part-args="CL-SET" data-part-body="CDR,CL-SET-TO-IMPLICATIONS,LAST,CAR,BUTLAST,DUMB-NEGATE-LIT-LST,MAKE-IMPLICATION,CONS,CL-SET,NULL,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CL-SET-TO-IMPLICATIONS">cl-set-to-implications</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-cl-set-to-implications" data-sym="CL-SET-TO-IMPLICATIONS" title="(defun cl-set-to-implications (cl-set)
  (if (null cl-set)
      nil
      (cons
       (make-implication (dumb-negate-lit-lst (butlast (car cl-set) 1))
...">cl-set-to-implications</a>
  (cl-set)
  (if (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> cl-set)
    nil
    (cons (<a class="sym-link local-def" href="#def-make-implication" data-sym="MAKE-IMPLICATION" title="(defun make-implication (assumptions concl)
  (cond (assumptions (fcons-term* &#39;implies (conjoin assumptions) concl))
        (t concl)))">make-implication</a> (<a class="sym-link system" href="basis-b.html#def-dumb-negate-lit-lst" data-sym="DUMB-NEGATE-LIT-LST">dumb-negate-lit-lst</a> (<a class="sym-link system" href="axioms.html#def-butlast" data-sym="BUTLAST">butlast</a> (car cl-set) <span class="number">1</span>))
        (car (<a class="sym-link system" href="axioms.html#def-last" data-sym="LAST">last</a> (car cl-set))))
      (<a class="sym-link local-def" href="#def-cl-set-to-implications" data-sym="CL-SET-TO-IMPLICATIONS" title="(defun cl-set-to-implications (cl-set)
  (if (null cl-set)
      nil
      (cons
       (make-implication (dumb-negate-lit-lst (butlast (car cl-set) 1))
...">cl-set-to-implications</a> (cdr cl-set)))))</pre>
  </div>

<div class="form-block function" id="def-known-assumptions" data-defines="KNOWN-ASSUMPTIONS" data-references="T,CDR,CONS,CAR,ASSUMPTION,ACCESS,DUMB-TYPE-ALIST-IMPLICATIONP,NULL,COND,ASSNS,TYPE-ALIST,DEFUN" data-used-by="PC-SINGLE-STEP-PRIMITIVE,ADD-ASSUMPTIONS-TO-TOP-GOAL" data-part-name="KNOWN-ASSUMPTIONS" data-part-args="ASSNS,TYPE-ALIST" data-part-body="T,CDR,KNOWN-ASSUMPTIONS,CONS,CAR,ASSUMPTION,ACCESS,TYPE-ALIST,DUMB-TYPE-ALIST-IMPLICATIONP,ASSNS,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="KNOWN-ASSUMPTIONS">known-assumptions</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-known-assumptions" data-sym="KNOWN-ASSUMPTIONS" title="(defun known-assumptions (type-alist assns)
  (cond ((null assns) nil)
        ((dumb-type-alist-implicationp type-alist
                                       (access assumption (car assns)
                                               :type-alist))
...">known-assumptions</a>
  (type-alist assns)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> assns) nil)
    ((<a class="sym-link system" href="prove.html#def-dumb-type-alist-implicationp" data-sym="DUMB-TYPE-ALIST-IMPLICATIONP">dumb-type-alist-implicationp</a> type-alist
       (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> assumption (car assns) <span class="keyword">:type-alist</span>)) (cons (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> assumption (car assns) <span class="keyword">:term</span>)
        (<a class="sym-link local-def" href="#def-known-assumptions" data-sym="KNOWN-ASSUMPTIONS" title="(defun known-assumptions (type-alist assns)
  (cond ((null assns) nil)
        ((dumb-type-alist-implicationp type-alist
                                       (access assumption (car assns)
                                               :type-alist))
...">known-assumptions</a> type-alist (cdr assns))))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-known-assumptions" data-sym="KNOWN-ASSUMPTIONS" title="(defun known-assumptions (type-alist assns)
  (cond ((null assns) nil)
        ((dumb-type-alist-implicationp type-alist
                                       (access assumption (car assns)
                                               :type-alist))
...">known-assumptions</a> type-alist (cdr assns)))))</pre>
  </div>

<div class="form-block function" id="def-add-assumptions-to-top-goal" data-defines="ADD-ASSUMPTIONS-TO-TOP-GOAL" data-references="CDR,LENGTH,+,ACCESS,APPEND,CAR,GOAL,CHANGE,CONS,IF,REMAINING-GOALS,FORCED-GOALS,KNOWN-ASSUMPTIONS,GOAL-UNPROVED-P,DEFUN" data-used-by="PC-SINGLE-STEP-PRIMITIVE" data-part-name="ADD-ASSUMPTIONS-TO-TOP-GOAL" data-part-args="REMAINING-GOALS,FORCED-GOALS,KNOWN-ASSUMPTIONS,GOAL-UNPROVED-P" data-part-body="CDR,LENGTH,+,ACCESS,APPEND,REMAINING-GOALS,CAR,GOAL,CHANGE,KNOWN-ASSUMPTIONS,CONS,GOAL-UNPROVED-P,FORCED-GOALS,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ADD-ASSUMPTIONS-TO-TOP-GOAL">add-assumptions-to-top-goal</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-add-assumptions-to-top-goal" data-sym="ADD-ASSUMPTIONS-TO-TOP-GOAL" title="(defun add-assumptions-to-top-goal
       (goal-unproved-p known-assumptions forced-goals remaining-goals)
  (if forced-goals
      (if goal-unproved-p
          (cons
...">add-assumptions-to-top-goal</a>
  (goal-unproved-p <a class="sym-link local-def" href="#def-known-assumptions" data-sym="KNOWN-ASSUMPTIONS" title="(defun known-assumptions (type-alist assns)
  (cond ((null assns) nil)
        ((dumb-type-alist-implicationp type-alist
                                       (access assumption (car assns)
                                               :type-alist))
...">known-assumptions</a>
    forced-goals
    remaining-goals)
  (if forced-goals
    (if goal-unproved-p
      (cons (if <a class="sym-link local-def" href="#def-known-assumptions" data-sym="KNOWN-ASSUMPTIONS" title="(defun known-assumptions (type-alist assns)
  (cond ((null assns) nil)
        ((dumb-type-alist-implicationp type-alist
                                       (access assumption (car assns)
                                               :type-alist))
...">known-assumptions</a>
          (if forced-goals
            (<a class="sym-link system" href="basis-a.html#def-change" data-sym="CHANGE">change</a> goal
              (car remaining-goals)
              <span class="keyword">:hyps</span> (<a class="sym-link system" href="axioms.html#def-append" data-sym="APPEND">append</a> (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> goal (car remaining-goals) <span class="keyword">:hyps</span>)
                <a class="sym-link local-def" href="#def-known-assumptions" data-sym="KNOWN-ASSUMPTIONS" title="(defun known-assumptions (type-alist assns)
  (cond ((null assns) nil)
        ((dumb-type-alist-implicationp type-alist
                                       (access assumption (car assns)
                                               :type-alist))
...">known-assumptions</a>)
              <span class="keyword">:depends-on</span> (<a class="sym-link system" href="axioms.html#def-_2B" data-sym="+">+</a> (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> goal (car remaining-goals) <span class="keyword">:depends-on</span>)
                (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> forced-goals)))
            (<a class="sym-link system" href="basis-a.html#def-change" data-sym="CHANGE">change</a> goal
              (car remaining-goals)
              <span class="keyword">:hyps</span> (<a class="sym-link system" href="axioms.html#def-append" data-sym="APPEND">append</a> (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> goal (car remaining-goals) <span class="keyword">:hyps</span>)
                <a class="sym-link local-def" href="#def-known-assumptions" data-sym="KNOWN-ASSUMPTIONS" title="(defun known-assumptions (type-alist assns)
  (cond ((null assns) nil)
        ((dumb-type-alist-implicationp type-alist
                                       (access assumption (car assns)
                                               :type-alist))
...">known-assumptions</a>)))
          (if forced-goals
            (<a class="sym-link system" href="basis-a.html#def-change" data-sym="CHANGE">change</a> goal
              (car remaining-goals)
              <span class="keyword">:depends-on</span> (<a class="sym-link system" href="axioms.html#def-_2B" data-sym="+">+</a> (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> goal (car remaining-goals) <span class="keyword">:depends-on</span>)
                (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> forced-goals)))
            (car remaining-goals)))
        (<a class="sym-link system" href="axioms.html#def-append" data-sym="APPEND">append</a> forced-goals (cdr remaining-goals)))
      (<a class="sym-link system" href="axioms.html#def-append" data-sym="APPEND">append</a> forced-goals remaining-goals))
    remaining-goals))</pre>
  </div>

<div class="form-block function" id="def-unproved-goals" data-defines="UNPROVED-GOALS" data-references="CDR,*T*,CAR,GOAL,EQUAL,AND,IF,ACCESS,GOALS,LET,PC-STATE,DEFUN" data-used-by="PC-SINGLE-STEP-PRIMITIVE" data-part-name="UNPROVED-GOALS" data-part-args="PC-STATE" data-part-body="CDR,*T*,CAR,GOAL,EQUAL,AND,IF,PC-STATE,ACCESS,GOALS,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="UNPROVED-GOALS">unproved-goals</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-unproved-goals" data-sym="UNPROVED-GOALS" title="(defun unproved-goals (pc-state)
  (let ((goals (access pc-state pc-state :goals)))
    (if (and goals (equal (access goal (car goals) :conc) *t*))
        (cdr goals)
        goals)))">unproved-goals</a>
  (pc-state)
  (let ((<a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a> (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> pc-state pc-state <span class="keyword">:goals</span>)))
    (if (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> <a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a> (equal (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> goal (car <a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a>) <span class="keyword">:conc</span>) <a class="sym-link system" href="axioms.html#def-_2At_2A" data-sym="*T*">*t*</a>))
      (cdr <a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a>)
      <a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a>)))</pre>
  </div>

<div class="form-block function" id="def-make-pc-ens" data-defines="MAKE-PC-ENS" data-references="ENS,NULL,IF,STATE,PC-ENS,DEFUN" data-used-by="PC-SINGLE-STEP-PRIMITIVE" data-part-name="MAKE-PC-ENS" data-part-args="STATE,PC-ENS" data-part-body="STATE,ENS,PC-ENS,NULL,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="MAKE-PC-ENS">make-pc-ens</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-make-pc-ens" data-sym="MAKE-PC-ENS" title="(defun make-pc-ens (pc-ens state)
  (if (null pc-ens)
      (ens state)
      pc-ens))">make-pc-ens</a>
  (<a class="sym-link local-def" href="#def-pc-ens" data-sym="PC-ENS" title="(defmacro pc-ens (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">pc-ens</a> state)
  (if (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> <a class="sym-link local-def" href="#def-pc-ens" data-sym="PC-ENS" title="(defmacro pc-ens (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">pc-ens</a>)
    (ens state)
    <a class="sym-link local-def" href="#def-pc-ens" data-sym="PC-ENS" title="(defmacro pc-ens (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">pc-ens</a>))</pre>
  </div>

<div class="form-block function" id="def-initial-rcnst-from-ens" data-defines="INITIAL-RCNST-FROM-ENS" data-references="T,MAKE-RCNST,SPLITTER-OUTPUT,STATE,WRLD,ENS,DEFUN" data-used-by="PC-SINGLE-STEP-PRIMITIVE" data-part-name="INITIAL-RCNST-FROM-ENS" data-part-args="SPLITTER-OUTPUT,STATE,WRLD,ENS" data-part-body="T,SPLITTER-OUTPUT,STATE,WRLD,ENS,MAKE-RCNST" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="INITIAL-RCNST-FROM-ENS">initial-rcnst-from-ens</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-initial-rcnst-from-ens" data-sym="INITIAL-RCNST-FROM-ENS" title="(defun initial-rcnst-from-ens (ens wrld state splitter-output)
  (make-rcnst ens wrld state :splitter-output splitter-output :force-info t))">initial-rcnst-from-ens</a>
  (ens wrld state <a class="sym-link system" href="prove.html#def-splitter-output" data-sym="SPLITTER-OUTPUT">splitter-output</a>)
  (make-rcnst ens
    wrld
    state
    <span class="keyword">:splitter-output</span> <a class="sym-link system" href="prove.html#def-splitter-output" data-sym="SPLITTER-OUTPUT">splitter-output</a>
    <span class="keyword">:force-info</span> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>))</pre>
  </div>

<div class="form-block function" id="def-make-new-goals-fixed-hyps" data-defines="MAKE-NEW-GOALS-FIXED-HYPS" data-references="1+,CDR,CAR,GOAL,MAKE,CONS,CONSP,IF,START-INDEX,GOAL-NAME,HYPS,TERMLIST,DEFUN" data-used-by="PC-SINGLE-STEP-PRIMITIVE" data-part-name="MAKE-NEW-GOALS-FIXED-HYPS" data-part-args="START-INDEX,GOAL-NAME,HYPS,TERMLIST" data-part-body="1+,CDR,MAKE-NEW-GOALS-FIXED-HYPS,START-INDEX,GOAL-NAME,HYPS,CAR,GOAL,MAKE,CONS,TERMLIST,CONSP,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="MAKE-NEW-GOALS-FIXED-HYPS">make-new-goals-fixed-hyps</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-make-new-goals-fixed-hyps" data-sym="MAKE-NEW-GOALS-FIXED-HYPS" title="(defun make-new-goals-fixed-hyps (termlist hyps goal-name start-index)
  (if (consp termlist)
      (cons
       (make goal :conc (car termlist) :hyps hyps :current-addr nil :goal-name
             (cons goal-name start-index) :depends-on 1)
...">make-new-goals-fixed-hyps</a>
  (termlist <a class="sym-link local-def" href="#def-hyps" data-sym="HYPS" title="(defmacro hyps (&amp;optional ss-supplied-p)
  `(access goal (car (goals ,ss-supplied-p)) :hyps))">hyps</a> <a class="sym-link local-def" href="#def-goal-name" data-sym="GOAL-NAME" title="(defmacro goal-name (&amp;optional ss-supplied-p)
  `(access goal (car (goals ,ss-supplied-p)) :goal-name))">goal-name</a> start-index)
  (if (consp termlist)
    (cons (<a class="sym-link system" href="basis-a.html#def-make" data-sym="MAKE">make</a> goal
        <span class="keyword">:conc</span> (car termlist)
        <span class="keyword">:hyps</span> <a class="sym-link local-def" href="#def-hyps" data-sym="HYPS" title="(defmacro hyps (&amp;optional ss-supplied-p)
  `(access goal (car (goals ,ss-supplied-p)) :hyps))">hyps</a>
        <span class="keyword">:current-addr</span> nil
        <span class="keyword">:goal-name</span> (cons <a class="sym-link local-def" href="#def-goal-name" data-sym="GOAL-NAME" title="(defmacro goal-name (&amp;optional ss-supplied-p)
  `(access goal (car (goals ,ss-supplied-p)) :goal-name))">goal-name</a> start-index)
        <span class="keyword">:depends-on</span> <span class="number">1</span>)
      (<a class="sym-link local-def" href="#def-make-new-goals-fixed-hyps" data-sym="MAKE-NEW-GOALS-FIXED-HYPS" title="(defun make-new-goals-fixed-hyps (termlist hyps goal-name start-index)
  (if (consp termlist)
      (cons
       (make goal :conc (car termlist) :hyps hyps :current-addr nil :goal-name
             (cons goal-name start-index) :depends-on 1)
...">make-new-goals-fixed-hyps</a> (cdr termlist)
        <a class="sym-link local-def" href="#def-hyps" data-sym="HYPS" title="(defmacro hyps (&amp;optional ss-supplied-p)
  `(access goal (car (goals ,ss-supplied-p)) :hyps))">hyps</a>
        <a class="sym-link local-def" href="#def-goal-name" data-sym="GOAL-NAME" title="(defmacro goal-name (&amp;optional ss-supplied-p)
  `(access goal (car (goals ,ss-supplied-p)) :goal-name))">goal-name</a>
        (<a class="sym-link system" href="axioms.html#def-1_2B" data-sym="1+">1+</a> start-index)))
    nil))</pre>
  </div>

<div class="form-block function" id="def-pc-single-step-primitive" data-defines="PC-SINGLE-STEP-PRIMITIVE" data-references="ZERO-ONE-OR-MORE,LENGTH,PC-STATE-1,KNOWN-ASSUMPTIONS,ADD-ASSUMPTIONS-TO-TOP-GOAL,NEW-GOALS,MAKE-NEW-GOALS-FIXED-HYPS,FORCED-GOALS,CL-SET-TO-IMPLICATIONS,TERMLIST,VALUE,STATE-STACK,PC-ASSIGN,MAYBE-PRINT-PROVED-GOAL-MESSAGE,FMS0,PROOF-BUILDER,IO?,CHANGE-PC-STATE,ACCUMULATE-TTREE-IN-PC-STATE,CONS-TAG-TREES,LOCAL-TTREE,NEW-PC-STATE,ER-LET*,DUMB-NEGATE-LIT-LST,TYPE-ALIST-CLAUSE,TTREE0,HYPS-TYPE-ALIST,CONTRADICTIONP,PC-PROCESS-ASSUMPTIONS,ASSNS,CL-SET,DEPENDS-ON,RETURNED-GOAL,HYPS,GOAL,AND,GOAL-UNPROVED-P,GOAL-NAME,UNPROVED-GOALS,REMAINING-GOALS,RETURNED-PC-STATE,CASE-SPLIT,FORCE,ASSUMPTION,ASSUMNOTE,IGNORE,DECLARE,INITIAL-STEP-LIMIT,SPLITTER-OUTPUT,INITIAL-RCNST-FROM-ENS,PC-STATE,ACCESS,RESUME-SUSPENDED-ASSUMPTION-REWRITING,TTREE,BAD-ASS,STEP-LIMIT,MAKE-PC-ENS,PC-ENS,EQUAL,ASSERT$,PC-SINGLE-STEP-ERROR-PRIMITIVE,ABBREV-EVISC-TUPLE,CONS,PRINT-NO-CHANGE,VALS,LET,PC-SINGLE-STEP,CDR,QUOTE,CAR,LIST,TRANS-EVAL-DEFAULT-WARNING,STOBJS-OUT/VALS,ERP,MV-LET,T,MV,PRINT-ALL-GOALS-PROVED-MESSAGE,PPROGN,NULL,COND,TAG-TREE,OLD-TAG-TREE,W,WRLD,GOALS,LET*,GUARD-CHECKING-ON,STATE-GLOBAL-LET*,STATE,INSTR,DEFUN" data-used-by="PC-SINGLE-STEP-1" data-part-name="PC-SINGLE-STEP-PRIMITIVE" data-part-args="STATE,INSTR" data-part-body="ZERO-ONE-OR-MORE,LENGTH,PC-STATE-1,KNOWN-ASSUMPTIONS,ADD-ASSUMPTIONS-TO-TOP-GOAL,NEW-GOALS,MAKE-NEW-GOALS-FIXED-HYPS,FORCED-GOALS,CL-SET-TO-IMPLICATIONS,TERMLIST,VALUE,STATE-STACK,PC-ASSIGN,MAYBE-PRINT-PROVED-GOAL-MESSAGE,FMS0,PROOF-BUILDER,IO?,CHANGE-PC-STATE,ACCUMULATE-TTREE-IN-PC-STATE,CONS-TAG-TREES,LOCAL-TTREE,NEW-PC-STATE,ER-LET*,DUMB-NEGATE-LIT-LST,TYPE-ALIST-CLAUSE,TTREE0,HYPS-TYPE-ALIST,CONTRADICTIONP,PC-PROCESS-ASSUMPTIONS,ASSNS,CL-SET,DEPENDS-ON,RETURNED-GOAL,HYPS,GOAL,AND,GOAL-UNPROVED-P,GOAL-NAME,UNPROVED-GOALS,REMAINING-GOALS,RETURNED-PC-STATE,CASE-SPLIT,FORCE,ASSUMPTION,ASSUMNOTE,IGNORE,DECLARE,INITIAL-STEP-LIMIT,SPLITTER-OUTPUT,INITIAL-RCNST-FROM-ENS,PC-STATE,ACCESS,RESUME-SUSPENDED-ASSUMPTION-REWRITING,TTREE,BAD-ASS,STEP-LIMIT,MAKE-PC-ENS,PC-ENS,EQUAL,ASSERT$,PC-SINGLE-STEP-ERROR-PRIMITIVE,ABBREV-EVISC-TUPLE,CONS,PRINT-NO-CHANGE,VALS,LET,PC-SINGLE-STEP,CDR,QUOTE,INSTR,CAR,LIST,TRANS-EVAL-DEFAULT-WARNING,STOBJS-OUT/VALS,ERP,MV-LET,T,MV,PRINT-ALL-GOALS-PROVED-MESSAGE,PPROGN,NULL,COND,TAG-TREE,OLD-TAG-TREE,STATE,W,WRLD,GOALS,LET*,GUARD-CHECKING-ON,STATE-GLOBAL-LET*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="PC-SINGLE-STEP-PRIMITIVE">pc-single-step-primitive</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-pc-single-step-primitive" data-sym="PC-SINGLE-STEP-PRIMITIVE" title="(defun pc-single-step-primitive (instr state)
  (state-global-let* ((guard-checking-on nil))
                     (let* ((goals (goals))
                            (wrld (w state))
                            (old-tag-tree (tag-tree)))
...">pc-single-step-primitive</a>
  (instr state)
  (<a class="sym-link system" href="axioms.html#def-state-global-let_2A" data-sym="STATE-GLOBAL-LET*">state-global-let*</a> ((guard-checking-on nil))
    (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((<a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a> (<a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a>)) (wrld (<a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a> state)) (old-tag-tree (<a class="sym-link local-def" href="#def-tag-tree" data-sym="TAG-TREE" title="(defmacro tag-tree (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">tag-tree</a>)))
      (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> <a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a>) (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link local-def" href="#def-print-all-goals-proved-message" data-sym="PRINT-ALL-GOALS-PROVED-MESSAGE" title="(defun print-all-goals-proved-message (state)
  (io? proof-builder nil state nil
       (pprogn (print-no-change &quot;There are no unproved goals!&quot;)
               (if (f-get-global &#39;in-verify-flg state)
                   (fms0 &quot;You may wish to exit.~%&quot;)">print-all-goals-proved-message</a> state)
            (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil nil state)))
        (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (erp stobjs-out/vals state)
            (trans-eval-default-warning (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (car instr) (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> 'quote (cdr instr)) 'state)
              '<a class="sym-link local-def" href="#def-pc-single-step" data-sym="PC-SINGLE-STEP" title="(defun pc-single-step (raw-instr state)
  (declare (xargs :guard (consp raw-instr)))
  (let ((tp (pc-command-type (car raw-instr))))
    (if (eq tp &#39;atomic-macro)
        (let* ((saved-ss (state-stack)) (old-len (length saved-ss)))
...">pc-single-step</a>
              state
              <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)
            (let ((vals (cdr stobjs-out/vals)))
              (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (erp (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link local-def" href="#def-print-no-change" data-sym="PRINT-NO-CHANGE" title="(defmacro print-no-change (&amp;optional str alist (col &#39;0))
  `(print-no-change-fn ,str ,alist ,col state))">print-no-change</a> <span class="string">"An error occurred in executing ~X01."</span>
                      (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (cons #\0 instr)
                        (cons #\1 (<a class="sym-link system" href="basis-a.html#def-abbrev-evisc-tuple" data-sym="ABBREV-EVISC-TUPLE">abbrev-evisc-tuple</a> state))))
                    (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> 'pc-single-step-error-primitive nil state)))
                (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-assert_24" data-sym="ASSERT$">assert$</a> (equal (car stobjs-out/vals) '(nil state))
                    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((car vals) (let ((<a class="sym-link local-def" href="#def-pc-ens" data-sym="PC-ENS" title="(defmacro pc-ens (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">pc-ens</a> (<a class="sym-link local-def" href="#def-make-pc-ens" data-sym="MAKE-PC-ENS" title="(defun make-pc-ens (pc-ens state)
  (if (null pc-ens)
      (ens state)
      pc-ens))">make-pc-ens</a> (<a class="sym-link local-def" href="#def-pc-ens" data-sym="PC-ENS" title="(defmacro pc-ens (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">pc-ens</a>) state)))
                          (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (step-limit bad-ass ttree)
                            (resume-suspended-assumption-rewriting (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> pc-state (car vals) <span class="keyword">:local-tag-tree</span>)
                              nil
                              nil
                              nil
                              (<a class="sym-link local-def" href="#def-initial-rcnst-from-ens" data-sym="INITIAL-RCNST-FROM-ENS" title="(defun initial-rcnst-from-ens (ens wrld state splitter-output)
  (make-rcnst ens wrld state :splitter-output splitter-output :force-info t))">initial-rcnst-from-ens</a> <a class="sym-link local-def" href="#def-pc-ens" data-sym="PC-ENS" title="(defmacro pc-ens (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">pc-ens</a> wrld state (<a class="sym-link system" href="prove.html#def-splitter-output" data-sym="SPLITTER-OUTPUT">splitter-output</a>))
                              wrld
                              state
                              (<a class="sym-link system" href="rewrite.html#def-initial-step-limit" data-sym="INITIAL-STEP-LIMIT">initial-step-limit</a> wrld state))
                            (declare (ignore step-limit))
                            (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (bad-ass (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (let ((assumnote (car (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> assumption bad-ass <span class="keyword">:assumnotes</span>))))
                                    (<a class="sym-link local-def" href="#def-print-no-change" data-sym="PRINT-NO-CHANGE" title="(defmacro print-no-change (&amp;optional str alist (col &#39;0))
  `(print-no-change-fn ,str ,alist ,col state))">print-no-change</a> <span class="string">"When applying the rune ~x0 to the target ~x1, a ~
                         hypothesis of the form (~x2 ...) or (~x3 ...) was ~
                         later found to be false."</span>
                                      (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (cons #\0 (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> assumnote assumnote <span class="keyword">:rune</span>))
                                        (cons #\1 (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> assumnote assumnote <span class="keyword">:target</span>))
                                        (cons #\2 '<a class="sym-link system" href="axioms.html#def-force" data-sym="FORCE">force</a>)
                                        (cons #\3 '<a class="sym-link system" href="axioms.html#def-case-split" data-sym="CASE-SPLIT">case-split</a>))))
                                  (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil nil state)))
                              (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((returned-pc-state (car vals)) (remaining-goals (<a class="sym-link local-def" href="#def-unproved-goals" data-sym="UNPROVED-GOALS" title="(defun unproved-goals (pc-state)
  (let ((goals (access pc-state pc-state :goals)))
    (if (and goals (equal (access goal (car goals) :conc) *t*))
        (cdr goals)
        goals)))">unproved-goals</a> returned-pc-state))
                                    (<a class="sym-link local-def" href="#def-goal-name" data-sym="GOAL-NAME" title="(defmacro goal-name (&amp;optional ss-supplied-p)
  `(access goal (car (goals ,ss-supplied-p)) :goal-name))">goal-name</a> (<a class="sym-link local-def" href="#def-goal-name" data-sym="GOAL-NAME" title="(defmacro goal-name (&amp;optional ss-supplied-p)
  `(access goal (car (goals ,ss-supplied-p)) :goal-name))">goal-name</a>))
                                    (goal-unproved-p (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> remaining-goals
                                        (equal <a class="sym-link local-def" href="#def-goal-name" data-sym="GOAL-NAME" title="(defmacro goal-name (&amp;optional ss-supplied-p)
  `(access goal (car (goals ,ss-supplied-p)) :goal-name))">goal-name</a>
                                          (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> goal (car remaining-goals) <span class="keyword">:goal-name</span>))))
                                    (<a class="sym-link local-def" href="#def-hyps" data-sym="HYPS" title="(defmacro hyps (&amp;optional ss-supplied-p)
  `(access goal (car (goals ,ss-supplied-p)) :hyps))">hyps</a> (<a class="sym-link local-def" href="#def-hyps" data-sym="HYPS" title="(defmacro hyps (&amp;optional ss-supplied-p)
  `(access goal (car (goals ,ss-supplied-p)) :hyps))">hyps</a>))
                                    (returned-goal (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((<a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a> (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> pc-state returned-pc-state <span class="keyword">:goals</span>)))
                                        (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> <a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a>
                                          (equal <a class="sym-link local-def" href="#def-goal-name" data-sym="GOAL-NAME" title="(defmacro goal-name (&amp;optional ss-supplied-p)
  `(access goal (car (goals ,ss-supplied-p)) :goal-name))">goal-name</a> (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> goal (car <a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a>) <span class="keyword">:goal-name</span>))
                                          (car <a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a>))))
                                    (<a class="sym-link local-def" href="#def-depends-on" data-sym="DEPENDS-ON" title="(defmacro depends-on (&amp;optional ss-supplied-p)
  `(access goal (car (goals ,ss-supplied-p)) :depends-on))">depends-on</a> (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (returned-goal (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> goal returned-goal <span class="keyword">:depends-on</span>))
                                        (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-depends-on" data-sym="DEPENDS-ON" title="(defmacro depends-on (&amp;optional ss-supplied-p)
  `(access goal (car (goals ,ss-supplied-p)) :depends-on))">depends-on</a>)))))
                                  (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (cl-set assns ttree state)
                                    (<a class="sym-link local-def" href="#def-pc-process-assumptions" data-sym="PC-PROCESS-ASSUMPTIONS" title="(defun pc-process-assumptions (pc-ens ttree wrld state)
  (let ((n (count-assumptions ttree)))
    (pprogn
     (cond ((&lt; n 101) state)
           (t
...">pc-process-assumptions</a> <a class="sym-link local-def" href="#def-pc-ens" data-sym="PC-ENS" title="(defmacro pc-ens (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">pc-ens</a> ttree wrld state)
                                    (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (contradictionp hyps-type-alist ttree0)
                                      (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> assns goal-unproved-p) (type-alist-clause (<a class="sym-link system" href="basis-b.html#def-dumb-negate-lit-lst" data-sym="DUMB-NEGATE-LIT-LST">dumb-negate-lit-lst</a> <a class="sym-link local-def" href="#def-hyps" data-sym="HYPS" title="(defmacro hyps (&amp;optional ss-supplied-p)
  `(access goal (car (goals ,ss-supplied-p)) :hyps))">hyps</a>)
                                            nil
                                            nil
                                            nil
                                            <a class="sym-link local-def" href="#def-pc-ens" data-sym="PC-ENS" title="(defmacro pc-ens (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">pc-ens</a>
                                            wrld
                                            nil
                                            nil))
                                        (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil nil nil)))
                                      (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (contradictionp (<a class="sym-link system" href="basis-b.html#def-er-let_2A" data-sym="ER-LET*">er-let*</a> ((new-pc-state (let ((local-ttree (cons-tag-trees ttree ttree0)))
                                                 (<a class="sym-link local-def" href="#def-accumulate-ttree-in-pc-state" data-sym="ACCUMULATE-TTREE-IN-PC-STATE" title="(defun accumulate-ttree-in-pc-state (pc-state state)
  (er-let*
   ((ttree
     (accumulate-ttree-and-step-limit-into-state
      (access pc-state pc-state :tag-tree) :skip state)))">accumulate-ttree-in-pc-state</a> (<a class="sym-link local-def" href="#def-change-pc-state" data-sym="CHANGE-PC-STATE" title="(defmacro change-pc-state (pc-s &amp;rest args) (list* &#39;change &#39;pc-state pc-s args))">change-pc-state</a> (car vals)
                                                     <span class="keyword">:goals</span> (cdr <a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a>)
                                                     <span class="keyword">:tag-tree</span> (cons-tag-trees local-ttree old-tag-tree)
                                                     <span class="keyword">:local-tag-tree</span> local-ttree)
                                                   state))))
                                            (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link system" href="basis-a.html#def-io_3F" data-sym="IO?">io?</a> <a class="sym-link local-def" href="#def-proof-builder" data-sym="PROOF-BUILDER" title="(defun proof-builder
       (event-name raw-term term rule-classes instructions wrld state)
  (declare (ignore term wrld))
  (cond
   ((and (not (f-get-global &#39;in-verify-flg state)) (ld-skip-proofsp state))
...">proof-builder</a>
                                                nil
                                                state
                                                (instr <a class="sym-link local-def" href="#def-goal-name" data-sym="GOAL-NAME" title="(defmacro goal-name (&amp;optional ss-supplied-p)
  `(access goal (car (goals ,ss-supplied-p)) :goal-name))">goal-name</a>)
                                                (<a class="sym-link local-def" href="#def-fms0" data-sym="FMS0" title="(defmacro fms0 (str &amp;optional alist col (evisc-tuple &#39;nil evisc-tuple-p))
  `(mv-let (new-col state)
           (fmt1 ,str ,alist ,(or col 0) (proofs-co state) state
                 ,(if evisc-tuple-p
                      evisc-tuple
...">fms0</a> <span class="string">"~|AHA!  A contradiction has ~
                                               been discovered in the ~
                                               hypotheses of goal ~x0 in the ~
                                               course of executing ~
                                               instruction ~x1, in the ~
                                               process of preparing to deal ~
                                               with forced assumptions.~|"</span>
                                                  (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (cons #\0 <a class="sym-link local-def" href="#def-goal-name" data-sym="GOAL-NAME" title="(defmacro goal-name (&amp;optional ss-supplied-p)
  `(access goal (car (goals ,ss-supplied-p)) :goal-name))">goal-name</a>) (cons #\1 instr))
                                                  <span class="number">0</span>
                                                  nil))
                                              (<a class="sym-link system" href="basis-a.html#def-io_3F" data-sym="IO?">io?</a> <a class="sym-link local-def" href="#def-proof-builder" data-sym="PROOF-BUILDER" title="(defun proof-builder
       (event-name raw-term term rule-classes instructions wrld state)
  (declare (ignore term wrld))
  (cond
   ((and (not (f-get-global &#39;in-verify-flg state)) (ld-skip-proofsp state))
...">proof-builder</a>
                                                nil
                                                state
                                                (<a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a>)
                                                (<a class="sym-link local-def" href="#def-maybe-print-proved-goal-message" data-sym="MAYBE-PRINT-PROVED-GOAL-MESSAGE" title="(defun maybe-print-proved-goal-message (goal old-goals goals state)
  (let* ((name (access goal goal :goal-name))
         (new-names (goal-names goals))
         (names (set-difference-equal new-names (goal-names old-goals))))
    (pprogn
...">maybe-print-proved-goal-message</a> (car <a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a>)
                                                  <a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a>
                                                  (cdr <a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a>)
                                                  state))
                                              (<a class="sym-link local-def" href="#def-pc-assign" data-sym="PC-ASSIGN" title="(defmacro pc-assign (key val)
  (cond ((eq key &#39;ss-alist) `(f-put-global &#39;pc-ss-alist ,val state))
        (t
         `(f-put-global &#39;pc-output
                        (put-assoc-eq &#39;,key ,val
...">pc-assign</a> <a class="sym-link local-def" href="#def-state-stack" data-sym="STATE-STACK" title="(defmacro state-stack () &#39;(pc-value state-stack))">state-stack</a> (cons new-pc-state (<a class="sym-link local-def" href="#def-state-stack" data-sym="STATE-STACK" title="(defmacro state-stack () &#39;(pc-value state-stack))">state-stack</a>)))
                                              (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> new-pc-state))))
                                        (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((termlist (<a class="sym-link local-def" href="#def-cl-set-to-implications" data-sym="CL-SET-TO-IMPLICATIONS" title="(defun cl-set-to-implications (cl-set)
  (if (null cl-set)
      nil
      (cons
       (make-implication (dumb-negate-lit-lst (butlast (car cl-set) 1))
...">cl-set-to-implications</a> cl-set)) (forced-goals (<a class="sym-link local-def" href="#def-make-new-goals-fixed-hyps" data-sym="MAKE-NEW-GOALS-FIXED-HYPS" title="(defun make-new-goals-fixed-hyps (termlist hyps goal-name start-index)
  (if (consp termlist)
      (cons
       (make goal :conc (car termlist) :hyps hyps :current-addr nil :goal-name
             (cons goal-name start-index) :depends-on 1)
...">make-new-goals-fixed-hyps</a> termlist
                                                  <a class="sym-link local-def" href="#def-hyps" data-sym="HYPS" title="(defmacro hyps (&amp;optional ss-supplied-p)
  `(access goal (car (goals ,ss-supplied-p)) :hyps))">hyps</a>
                                                  <a class="sym-link local-def" href="#def-goal-name" data-sym="GOAL-NAME" title="(defmacro goal-name (&amp;optional ss-supplied-p)
  `(access goal (car (goals ,ss-supplied-p)) :goal-name))">goal-name</a>
                                                  <a class="sym-link local-def" href="#def-depends-on" data-sym="DEPENDS-ON" title="(defmacro depends-on (&amp;optional ss-supplied-p)
  `(access goal (car (goals ,ss-supplied-p)) :depends-on))">depends-on</a>))
                                              (new-goals (<a class="sym-link local-def" href="#def-add-assumptions-to-top-goal" data-sym="ADD-ASSUMPTIONS-TO-TOP-GOAL" title="(defun add-assumptions-to-top-goal
       (goal-unproved-p known-assumptions forced-goals remaining-goals)
  (if forced-goals
      (if goal-unproved-p
          (cons
...">add-assumptions-to-top-goal</a> goal-unproved-p
                                                  (<a class="sym-link local-def" href="#def-known-assumptions" data-sym="KNOWN-ASSUMPTIONS" title="(defun known-assumptions (type-alist assns)
  (cond ((null assns) nil)
        ((dumb-type-alist-implicationp type-alist
                                       (access assumption (car assns)
                                               :type-alist))
...">known-assumptions</a> hyps-type-alist assns)
                                                  forced-goals
                                                  remaining-goals))
                                              (pc-state-1 (<a class="sym-link local-def" href="#def-change-pc-state" data-sym="CHANGE-PC-STATE" title="(defmacro change-pc-state (pc-s &amp;rest args) (list* &#39;change &#39;pc-state pc-s args))">change-pc-state</a> (car vals)
                                                  <span class="keyword">:goals</span> new-goals
                                                  <span class="keyword">:tag-tree</span> (cons-tag-trees ttree old-tag-tree)
                                                  <span class="keyword">:local-tag-tree</span> ttree)))
                                            (<a class="sym-link system" href="basis-b.html#def-er-let_2A" data-sym="ER-LET*">er-let*</a> ((new-pc-state (<a class="sym-link local-def" href="#def-accumulate-ttree-in-pc-state" data-sym="ACCUMULATE-TTREE-IN-PC-STATE" title="(defun accumulate-ttree-in-pc-state (pc-state state)
  (er-let*
   ((ttree
     (accumulate-ttree-and-step-limit-into-state
      (access pc-state pc-state :tag-tree) :skip state)))">accumulate-ttree-in-pc-state</a> pc-state-1 state)))
                                              (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (forced-goals (<a class="sym-link system" href="basis-a.html#def-io_3F" data-sym="IO?">io?</a> <a class="sym-link local-def" href="#def-proof-builder" data-sym="PROOF-BUILDER" title="(defun proof-builder
       (event-name raw-term term rule-classes instructions wrld state)
  (declare (ignore term wrld))
  (cond
   ((and (not (f-get-global &#39;in-verify-flg state)) (ld-skip-proofsp state))
...">proof-builder</a>
                                                      nil
                                                      state
                                                      (forced-goals)
                                                      (<a class="sym-link local-def" href="#def-fms0" data-sym="FMS0" title="(defmacro fms0 (str &amp;optional alist col (evisc-tuple &#39;nil evisc-tuple-p))
  `(mv-let (new-col state)
           (fmt1 ,str ,alist ,(or col 0) (proofs-co state) state
                 ,(if evisc-tuple-p
                      evisc-tuple
...">fms0</a> <span class="string">"~|~%NOTE (forcing):  Creating ~
                                               ~n0 new ~#1~[~/goal~/goals~] ~
                                               due to FORCE or CASE-SPLIT ~
                                               hypotheses of rules.~%"</span>
                                                        (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (cons #\0 (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> forced-goals))
                                                          (cons #\1 (<a class="sym-link system" href="basis-a.html#def-zero-one-or-more" data-sym="ZERO-ONE-OR-MORE">zero-one-or-more</a> (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> forced-goals)))))))
                                                  (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> state))
                                                (<a class="sym-link system" href="basis-a.html#def-io_3F" data-sym="IO?">io?</a> <a class="sym-link local-def" href="#def-proof-builder" data-sym="PROOF-BUILDER" title="(defun proof-builder
       (event-name raw-term term rule-classes instructions wrld state)
  (declare (ignore term wrld))
  (cond
   ((and (not (f-get-global &#39;in-verify-flg state)) (ld-skip-proofsp state))
...">proof-builder</a>
                                                  nil
                                                  state
                                                  (new-goals <a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a>)
                                                  (<a class="sym-link local-def" href="#def-maybe-print-proved-goal-message" data-sym="MAYBE-PRINT-PROVED-GOAL-MESSAGE" title="(defun maybe-print-proved-goal-message (goal old-goals goals state)
  (let* ((name (access goal goal :goal-name))
         (new-names (goal-names goals))
         (names (set-difference-equal new-names (goal-names old-goals))))
    (pprogn
...">maybe-print-proved-goal-message</a> (car <a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a>)
                                                    <a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a>
                                                    new-goals
                                                    state))
                                                (<a class="sym-link local-def" href="#def-pc-assign" data-sym="PC-ASSIGN" title="(defmacro pc-assign (key val)
  (cond ((eq key &#39;ss-alist) `(f-put-global &#39;pc-ss-alist ,val state))
        (t
         `(f-put-global &#39;pc-output
                        (put-assoc-eq &#39;,key ,val
...">pc-assign</a> <a class="sym-link local-def" href="#def-state-stack" data-sym="STATE-STACK" title="(defmacro state-stack () &#39;(pc-value state-stack))">state-stack</a> (cons new-pc-state (<a class="sym-link local-def" href="#def-state-stack" data-sym="STATE-STACK" title="(defmacro state-stack () &#39;(pc-value state-stack))">state-stack</a>)))
                                                (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> new-pc-state))))))))))))))
                      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil nil state)))))))))))))</pre>
  </div>

<div class="form-block function" id="def-maybe-print-macroexpansion" data-defines="MAYBE-PRINT-MACROEXPANSION" data-references="EVISC-TUPLE,>,CDR,INTEGERP,CONSP,CONS,LIST,FMS0,PROOF-BUILDER,IO?,MAKE-OFFICIAL-PC-INSTR,EQUAL,LISP,QUOTE,MAKE-OFFICIAL-PC-COMMAND,CAR,EQ,NOT,AND,IF,PC-PRINT-MACROEXPANSION-FLG,LET,STATE,RAW-INSTR,INSTR,DEFUN" data-used-by="PC-SINGLE-STEP-1" data-part-name="MAYBE-PRINT-MACROEXPANSION" data-part-args="STATE,RAW-INSTR,INSTR" data-part-body="EVISC-TUPLE,>,CDR,INTEGERP,CONSP,CONS,LIST,FMS0,STATE,PROOF-BUILDER,IO?,RAW-INSTR,MAKE-OFFICIAL-PC-INSTR,EQUAL,LISP,QUOTE,MAKE-OFFICIAL-PC-COMMAND,INSTR,CAR,EQ,NOT,AND,IF,PC-PRINT-MACROEXPANSION-FLG,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="MAYBE-PRINT-MACROEXPANSION">maybe-print-macroexpansion</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-maybe-print-macroexpansion" data-sym="MAYBE-PRINT-MACROEXPANSION" title="(defun maybe-print-macroexpansion (instr raw-instr state)
  (let ((pc-print-macroexpansion-flg (pc-print-macroexpansion-flg)))
    (if (and pc-print-macroexpansion-flg
             (not (eq (car instr) (make-official-pc-command &#39;lisp)))
             (not (equal instr (make-official-pc-instr raw-instr))))
...">maybe-print-macroexpansion</a>
  (instr raw-instr state)
  (let ((<a class="sym-link local-def" href="#def-pc-print-macroexpansion-flg" data-sym="PC-PRINT-MACROEXPANSION-FLG" title="(defmacro pc-print-macroexpansion-flg ()
  &#39;(access pc-info (f-get-global &#39;pc-info state) :print-macroexpansion-flg))">pc-print-macroexpansion-flg</a> (<a class="sym-link local-def" href="#def-pc-print-macroexpansion-flg" data-sym="PC-PRINT-MACROEXPANSION-FLG" title="(defmacro pc-print-macroexpansion-flg ()
  &#39;(access pc-info (f-get-global &#39;pc-info state) :print-macroexpansion-flg))">pc-print-macroexpansion-flg</a>)))
    (if (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> <a class="sym-link local-def" href="#def-pc-print-macroexpansion-flg" data-sym="PC-PRINT-MACROEXPANSION-FLG" title="(defmacro pc-print-macroexpansion-flg ()
  &#39;(access pc-info (f-get-global &#39;pc-info state) :print-macroexpansion-flg))">pc-print-macroexpansion-flg</a>
        (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (car instr) (<a class="sym-link local-def" href="#def-make-official-pc-command" data-sym="MAKE-OFFICIAL-PC-COMMAND" title="(defmacro make-official-pc-command (sym)
  `(intern-in-package-of-symbol (symbol-name ,sym) &#39;acl2-pc::acl2-pkg-witness))">make-official-pc-command</a> 'lisp)))
        (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (equal instr (<a class="sym-link local-def" href="#def-make-official-pc-instr" data-sym="MAKE-OFFICIAL-PC-INSTR" title="(defun make-official-pc-instr (instr)
  (if (consp instr)
      (if (and (symbolp (car instr)) (true-listp (cdr instr)))
          (cons (make-official-pc-command (car instr)) (cdr instr))
          (list (make-official-pc-command &#39;illegal) instr))
...">make-official-pc-instr</a> raw-instr))))
      (<a class="sym-link system" href="basis-a.html#def-io_3F" data-sym="IO?">io?</a> <a class="sym-link local-def" href="#def-proof-builder" data-sym="PROOF-BUILDER" title="(defun proof-builder
       (event-name raw-term term rule-classes instructions wrld state)
  (declare (ignore term wrld))
  (cond
   ((and (not (f-get-global &#39;in-verify-flg state)) (ld-skip-proofsp state))
...">proof-builder</a>
        nil
        state
        (<a class="sym-link local-def" href="#def-pc-print-macroexpansion-flg" data-sym="PC-PRINT-MACROEXPANSION-FLG" title="(defmacro pc-print-macroexpansion-flg ()
  &#39;(access pc-info (f-get-global &#39;pc-info state) :print-macroexpansion-flg))">pc-print-macroexpansion-flg</a> instr)
        (<a class="sym-link local-def" href="#def-fms0" data-sym="FMS0" title="(defmacro fms0 (str &amp;optional alist col (evisc-tuple &#39;nil evisc-tuple-p))
  `(mv-let (new-col state)
           (fmt1 ,str ,alist ,(or col 0) (proofs-co state) state
                 ,(if evisc-tuple-p
                      evisc-tuple
...">fms0</a> <span class="string">"&gt;&gt; ~x0~|"</span>
          (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (cons #\0 instr))
          <span class="number">0</span>
          (if (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (consp <a class="sym-link local-def" href="#def-pc-print-macroexpansion-flg" data-sym="PC-PRINT-MACROEXPANSION-FLG" title="(defmacro pc-print-macroexpansion-flg ()
  &#39;(access pc-info (f-get-global &#39;pc-info state) :print-macroexpansion-flg))">pc-print-macroexpansion-flg</a>)
              (integerp (car <a class="sym-link local-def" href="#def-pc-print-macroexpansion-flg" data-sym="PC-PRINT-MACROEXPANSION-FLG" title="(defmacro pc-print-macroexpansion-flg ()
  &#39;(access pc-info (f-get-global &#39;pc-info state) :print-macroexpansion-flg))">pc-print-macroexpansion-flg</a>))
              (integerp (cdr <a class="sym-link local-def" href="#def-pc-print-macroexpansion-flg" data-sym="PC-PRINT-MACROEXPANSION-FLG" title="(defmacro pc-print-macroexpansion-flg ()
  &#39;(access pc-info (f-get-global &#39;pc-info state) :print-macroexpansion-flg))">pc-print-macroexpansion-flg</a>))
              (<a class="sym-link system" href="axioms.html#def-_3E" data-sym="&gt;">&gt;</a> (car <a class="sym-link local-def" href="#def-pc-print-macroexpansion-flg" data-sym="PC-PRINT-MACROEXPANSION-FLG" title="(defmacro pc-print-macroexpansion-flg ()
  &#39;(access pc-info (f-get-global &#39;pc-info state) :print-macroexpansion-flg))">pc-print-macroexpansion-flg</a>) <span class="number">0</span>)
              (<a class="sym-link system" href="axioms.html#def-_3E" data-sym="&gt;">&gt;</a> (cdr <a class="sym-link local-def" href="#def-pc-print-macroexpansion-flg" data-sym="PC-PRINT-MACROEXPANSION-FLG" title="(defmacro pc-print-macroexpansion-flg ()
  &#39;(access pc-info (f-get-global &#39;pc-info state) :print-macroexpansion-flg))">pc-print-macroexpansion-flg</a>) <span class="number">0</span>))
            (<a class="sym-link system" href="basis-a.html#def-evisc-tuple" data-sym="EVISC-TUPLE">evisc-tuple</a> (car <a class="sym-link local-def" href="#def-pc-print-macroexpansion-flg" data-sym="PC-PRINT-MACROEXPANSION-FLG" title="(defmacro pc-print-macroexpansion-flg ()
  &#39;(access pc-info (f-get-global &#39;pc-info state) :print-macroexpansion-flg))">pc-print-macroexpansion-flg</a>)
              (cdr <a class="sym-link local-def" href="#def-pc-print-macroexpansion-flg" data-sym="PC-PRINT-MACROEXPANSION-FLG" title="(defmacro pc-print-macroexpansion-flg ()
  &#39;(access pc-info (f-get-global &#39;pc-info state) :print-macroexpansion-flg))">pc-print-macroexpansion-flg</a>)
              nil
              nil)
            nil)))
      state)))</pre>
  </div>

<div class="form-block function" id="def-pc-single-step-1" data-defines="PC-SINGLE-STEP-1" data-references="MAKE-PRETTY-PC-INSTR,OTHERWISE,HARD,VALUE,ATOMIC-MACRO,MACRO,CADR,VALS,LET,PC-SINGLE-STEP-ERROR-META,PRINT-NO-CHANGE,*ERROR-TRIPLE-SIG*,EQUAL,ASSERT$,PC-SINGLE-STEP,CDR,TRANS-EVAL-DEFAULT-WARNING,STOBJS-OUT/VALS,T,VERIFY,SOFT,ER,W,PREDEFINED,GETPROPC,IN-VERIFY-FLG,QUOTE,F-GET-GLOBAL,NOT,AND,COND,META,PC-SINGLE-STEP-PRIMITIVE,MAYBE-PRINT-MACROEXPANSION,PRIMITIVE,CAR,PC-COMMAND-TYPE,CASE,MV,CONS,LIST,FMS0,PROOF-BUILDER,IO?,PPROGN,IF,PC-MACROEXPAND,INSTR,ERP,MV-LET,STATE,RAW-INSTR,DEFUN" data-used-by="PC-SINGLE-STEP" data-part-name="PC-SINGLE-STEP-1" data-part-args="STATE,RAW-INSTR" data-part-body="MAKE-PRETTY-PC-INSTR,OTHERWISE,HARD,VALUE,ATOMIC-MACRO,MACRO,CADR,VALS,LET,PC-SINGLE-STEP-ERROR-META,PRINT-NO-CHANGE,*ERROR-TRIPLE-SIG*,EQUAL,ASSERT$,PC-SINGLE-STEP,CDR,TRANS-EVAL-DEFAULT-WARNING,STOBJS-OUT/VALS,T,VERIFY,SOFT,ER,W,PREDEFINED,GETPROPC,IN-VERIFY-FLG,QUOTE,F-GET-GLOBAL,NOT,AND,COND,META,PC-SINGLE-STEP-PRIMITIVE,MAYBE-PRINT-MACROEXPANSION,PRIMITIVE,CAR,PC-COMMAND-TYPE,CASE,MV,CONS,LIST,FMS0,PROOF-BUILDER,IO?,PPROGN,IF,RAW-INSTR,PC-MACROEXPAND,STATE,INSTR,ERP,MV-LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="PC-SINGLE-STEP-1">pc-single-step-1</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-pc-single-step-1" data-sym="PC-SINGLE-STEP-1" title="(defun pc-single-step-1 (raw-instr state)
  (mv-let (erp instr state) (pc-macroexpand raw-instr state)
          (if erp
              (pprogn
               (io? proof-builder nil state (raw-instr)
...">pc-single-step-1</a>
  (raw-instr state)
  (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (erp instr state)
    (<a class="sym-link local-def" href="#def-pc-macroexpand" data-sym="PC-MACROEXPAND" title="(defun pc-macroexpand (raw-instr state)
  (let ((instr (make-official-pc-instr raw-instr)))
    (if (member-eq (pc-command-type (car instr)) &#39;(macro atomic-macro))
        (er-let*
         ((val
...">pc-macroexpand</a> raw-instr state)
    (if erp
      (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link system" href="basis-a.html#def-io_3F" data-sym="IO?">io?</a> <a class="sym-link local-def" href="#def-proof-builder" data-sym="PROOF-BUILDER" title="(defun proof-builder
       (event-name raw-term term rule-classes instructions wrld state)
  (declare (ignore term wrld))
  (cond
   ((and (not (f-get-global &#39;in-verify-flg state)) (ld-skip-proofsp state))
...">proof-builder</a>
          nil
          state
          (raw-instr)
          (<a class="sym-link local-def" href="#def-fms0" data-sym="FMS0" title="(defmacro fms0 (str &amp;optional alist col (evisc-tuple &#39;nil evisc-tuple-p))
  `(mv-let (new-col state)
           (fmt1 ,str ,alist ,(or col 0) (proofs-co state) state
                 ,(if evisc-tuple-p
                      evisc-tuple
...">fms0</a> <span class="string">"~%Macroexpansion of instruction ~x0 failed!~%"</span>
            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (cons #\0 raw-instr))))
        (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> erp nil state))
      (<a class="sym-link system" href="axioms.html#def-case" data-sym="CASE">case</a> (<a class="sym-link local-def" href="#def-pc-command-type" data-sym="PC-COMMAND-TYPE" title="(defmacro pc-command-type (name)
  `(cdr (assoc-equal ,name (table-alist &#39;pc-command-table (w state)))))">pc-command-type</a> (car instr))
        (primitive (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link local-def" href="#def-maybe-print-macroexpansion" data-sym="MAYBE-PRINT-MACROEXPANSION" title="(defun maybe-print-macroexpansion (instr raw-instr state)
  (let ((pc-print-macroexpansion-flg (pc-print-macroexpansion-flg)))
    (if (and pc-print-macroexpansion-flg
             (not (eq (car instr) (make-official-pc-command &#39;lisp)))
             (not (equal instr (make-official-pc-instr raw-instr))))
...">maybe-print-macroexpansion</a> instr raw-instr state)
            (<a class="sym-link local-def" href="#def-pc-single-step-primitive" data-sym="PC-SINGLE-STEP-PRIMITIVE" title="(defun pc-single-step-primitive (instr state)
  (state-global-let* ((guard-checking-on nil))
                     (let* ((goals (goals))
                            (wrld (w state))
                            (old-tag-tree (tag-tree)))
...">pc-single-step-primitive</a> instr state)))
        (meta (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-f-get-global" data-sym="F-GET-GLOBAL">f-get-global</a> 'in-verify-flg state))
               (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-getpropc" data-sym="GETPROPC">getpropc</a> (car instr) 'predefined nil (<a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a> state)))) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                '<a class="sym-link local-def" href="#def-proof-builder" data-sym="PROOF-BUILDER" title="(defun proof-builder
       (event-name raw-term term rule-classes instructions wrld state)
  (declare (ignore term wrld))
  (cond
   ((and (not (f-get-global &#39;in-verify-flg state)) (ld-skip-proofsp state))
...">proof-builder</a>
                <span class="string">"You may only invoke a user-defined proof-builder meta ~
                        command, such as ~x0, when you are inside the ~
                        interactive ~x1 loop."</span>
                (car instr)
                '<a class="sym-link local-def" href="#def-verify" data-sym="VERIFY" title="(defmacro verify
          (
           &amp;optional (raw-term &#39;nil raw-term-supplied-p)
           &amp;key event-name (rule-classes &#39;(:rewrite)) instructions)
  (declare (xargs :guard (symbolp event-name)))
...">verify</a>))
            (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link local-def" href="#def-maybe-print-macroexpansion" data-sym="MAYBE-PRINT-MACROEXPANSION" title="(defun maybe-print-macroexpansion (instr raw-instr state)
  (let ((pc-print-macroexpansion-flg (pc-print-macroexpansion-flg)))
    (if (and pc-print-macroexpansion-flg
             (not (eq (car instr) (make-official-pc-command &#39;lisp)))
             (not (equal instr (make-official-pc-instr raw-instr))))
...">maybe-print-macroexpansion</a> instr raw-instr state)
                (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (erp stobjs-out/vals state)
                  (trans-eval-default-warning (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (car instr) (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> 'quote (cdr instr)) 'state)
                    '<a class="sym-link local-def" href="#def-pc-single-step" data-sym="PC-SINGLE-STEP" title="(defun pc-single-step (raw-instr state)
  (declare (xargs :guard (consp raw-instr)))
  (let ((tp (pc-command-type (car raw-instr))))
    (if (eq tp &#39;atomic-macro)
        (let* ((saved-ss (state-stack)) (old-len (length saved-ss)))
...">pc-single-step</a>
                    state
                    <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)
                  (<a class="sym-link system" href="axioms.html#def-assert_24" data-sym="ASSERT$">assert$</a> (equal (car stobjs-out/vals) <a class="sym-link system" href="basis-b.html#def-_2Aerror-triple-sig_2A" data-sym="*ERROR-TRIPLE-SIG*">*error-triple-sig*</a>)
                    (if erp
                      (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link local-def" href="#def-print-no-change" data-sym="PRINT-NO-CHANGE" title="(defmacro print-no-change (&amp;optional str alist (col &#39;0))
  `(print-no-change-fn ,str ,alist ,col state))">print-no-change</a> <span class="string">"Very odd -- an error ~
                                                  occurred in executing ~x0."</span>
                          (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (cons #\0 instr)))
                        (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> 'pc-single-step-error-meta nil state))
                      (let ((vals (cdr stobjs-out/vals)))
                        (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> (car vals) (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> vals) state)))))))))
        ((macro atomic-macro) (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> hard
              '<a class="sym-link local-def" href="#def-pc-single-step" data-sym="PC-SINGLE-STEP" title="(defun pc-single-step (raw-instr state)
  (declare (xargs :guard (consp raw-instr)))
  (let ((tp (pc-command-type (car raw-instr))))
    (if (eq tp &#39;atomic-macro)
        (let* ((saved-ss (state-stack)) (old-len (length saved-ss)))
...">pc-single-step</a>
              <span class="string">"Encountered instruction ~x0 whose pc-macroexpansion ~
                        produced ~x1, which is headed by a macro command!"</span>
              raw-instr
              instr)))
        (otherwise (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link local-def" href="#def-print-no-change" data-sym="PRINT-NO-CHANGE" title="(defmacro print-no-change (&amp;optional str alist (col &#39;0))
  `(print-no-change-fn ,str ,alist ,col state))">print-no-change</a> <span class="string">"Undefined instruction, ~x0."</span>
              (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (cons #\0 (<a class="sym-link local-def" href="#def-make-pretty-pc-instr" data-sym="MAKE-PRETTY-PC-INSTR" title="(defun make-pretty-pc-instr (instr)
  (declare
   (xargs :guard
    (or (symbolp instr) (and (consp instr) (symbolp (car instr))))))
  (if (atom instr)
...">make-pretty-pc-instr</a> instr))))
            (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil)))))))</pre>
  </div>

<div class="form-block function" id="def-union-lastn-pc-tag-trees" data-defines="UNION-LASTN-PC-TAG-TREES" data-references="CAR,PC-STATE,ACCESS,CONS-TAG-TREES,CDR,1-,ZP,IF,ACC,SS,N,DEFUN" data-used-by="PC-SINGLE-STEP" data-part-name="UNION-LASTN-PC-TAG-TREES" data-part-args="ACC,SS,N" data-part-body="CAR,PC-STATE,ACCESS,CONS-TAG-TREES,SS,CDR,1-,UNION-LASTN-PC-TAG-TREES,ACC,N,ZP,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="UNION-LASTN-PC-TAG-TREES">union-lastn-pc-tag-trees</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-union-lastn-pc-tag-trees" data-sym="UNION-LASTN-PC-TAG-TREES" title="(defun union-lastn-pc-tag-trees (n ss acc)
  (if (zp n)
      acc
      (union-lastn-pc-tag-trees (1- n) (cdr ss)
                                (cons-tag-trees
...">union-lastn-pc-tag-trees</a>
  (n ss acc)
  (if (<a class="sym-link system" href="axioms.html#def-zp" data-sym="ZP">zp</a> n)
    acc
    (<a class="sym-link local-def" href="#def-union-lastn-pc-tag-trees" data-sym="UNION-LASTN-PC-TAG-TREES" title="(defun union-lastn-pc-tag-trees (n ss acc)
  (if (zp n)
      acc
      (union-lastn-pc-tag-trees (1- n) (cdr ss)
                                (cons-tag-trees
...">union-lastn-pc-tag-trees</a> (<a class="sym-link system" href="axioms.html#def-1-" data-sym="1-">1-</a> n)
      (cdr ss)
      (cons-tag-trees (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> pc-state (car ss) <span class="keyword">:local-tag-tree</span>)
        acc))))</pre>
  </div>

<div class="form-block function" id="def-pc-single-step" data-defines="PC-SINGLE-STEP" data-references="MV,UNION-LASTN-PC-TAG-TREES,MAKE-PRETTY-PC-INSTR,PC-STATE,CHANGE,CONS,PC-ASSIGN,PPROGN,NTHCDR,EQUAL,<,AND,-,DIFF,NEW-LEN,NEW-SS,PC-SINGLE-STEP-1,VAL,ERP,MV-LET,LENGTH,OLD-LEN,STATE-STACK,SAVED-SS,LET*,ATOMIC-MACRO,QUOTE,EQ,IF,CAR,PC-COMMAND-TYPE,TP,LET,CONSP,XARGS,DECLARE,STATE,RAW-INSTR,DEFUN" data-used-by="PC-MAIN-LOOP,PC-SINGLE-STEP-1,PC-SINGLE-STEP-PRIMITIVE" data-part-name="PC-SINGLE-STEP" data-part-args="STATE,RAW-INSTR" data-part-declare="RAW-INSTR,CONSP,XARGS,DECLARE" data-part-body="MV,UNION-LASTN-PC-TAG-TREES,MAKE-PRETTY-PC-INSTR,PC-STATE,CHANGE,CONS,PC-ASSIGN,PPROGN,NTHCDR,EQUAL,<,AND,-,DIFF,NEW-LEN,NEW-SS,PC-SINGLE-STEP-1,STATE,VAL,ERP,MV-LET,LENGTH,OLD-LEN,STATE-STACK,SAVED-SS,LET*,ATOMIC-MACRO,QUOTE,EQ,IF,RAW-INSTR,CAR,PC-COMMAND-TYPE,TP,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="PC-SINGLE-STEP">pc-single-step</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-pc-single-step" data-sym="PC-SINGLE-STEP" title="(defun pc-single-step (raw-instr state)
  (declare (xargs :guard (consp raw-instr)))
  (let ((tp (pc-command-type (car raw-instr))))
    (if (eq tp &#39;atomic-macro)
        (let* ((saved-ss (state-stack)) (old-len (length saved-ss)))
...">pc-single-step</a>
  (raw-instr state)
  (declare (xargs <span class="keyword">:guard</span> (consp raw-instr)))
  (let ((tp (<a class="sym-link local-def" href="#def-pc-command-type" data-sym="PC-COMMAND-TYPE" title="(defmacro pc-command-type (name)
  `(cdr (assoc-equal ,name (table-alist &#39;pc-command-table (w state)))))">pc-command-type</a> (car raw-instr))))
    (if (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> tp 'atomic-macro)
      (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((saved-ss (<a class="sym-link local-def" href="#def-state-stack" data-sym="STATE-STACK" title="(defmacro state-stack () &#39;(pc-value state-stack))">state-stack</a>)) (old-len (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> saved-ss)))
        (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (erp val state)
          (<a class="sym-link local-def" href="#def-pc-single-step-1" data-sym="PC-SINGLE-STEP-1" title="(defun pc-single-step-1 (raw-instr state)
  (mv-let (erp instr state) (pc-macroexpand raw-instr state)
          (if erp
              (pprogn
               (io? proof-builder nil state (raw-instr)
...">pc-single-step-1</a> raw-instr state)
          (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((new-ss (<a class="sym-link local-def" href="#def-state-stack" data-sym="STATE-STACK" title="(defmacro state-stack () &#39;(pc-value state-stack))">state-stack</a>)) (new-len (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> new-ss))
              (diff (<a class="sym-link system" href="axioms.html#def--" data-sym="-">-</a> new-len old-len)))
            (if (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (&lt; old-len new-len)
                (equal saved-ss (<a class="sym-link system" href="axioms.html#def-nthcdr" data-sym="NTHCDR">nthcdr</a> diff new-ss)))
              (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link local-def" href="#def-pc-assign" data-sym="PC-ASSIGN" title="(defmacro pc-assign (key val)
  (cond ((eq key &#39;ss-alist) `(f-put-global &#39;pc-ss-alist ,val state))
        (t
         `(f-put-global &#39;pc-output
                        (put-assoc-eq &#39;,key ,val
...">pc-assign</a> <a class="sym-link local-def" href="#def-state-stack" data-sym="STATE-STACK" title="(defmacro state-stack () &#39;(pc-value state-stack))">state-stack</a>
                  (cons (<a class="sym-link system" href="basis-a.html#def-change" data-sym="CHANGE">change</a> pc-state
                      (car new-ss)
                      <span class="keyword">:instruction</span> (<a class="sym-link local-def" href="#def-make-pretty-pc-instr" data-sym="MAKE-PRETTY-PC-INSTR" title="(defun make-pretty-pc-instr (instr)
  (declare
   (xargs :guard
    (or (symbolp instr) (and (consp instr) (symbolp (car instr))))))
  (if (atom instr)
...">make-pretty-pc-instr</a> raw-instr)
                      <span class="keyword">:local-tag-tree</span> (<a class="sym-link local-def" href="#def-union-lastn-pc-tag-trees" data-sym="UNION-LASTN-PC-TAG-TREES" title="(defun union-lastn-pc-tag-trees (n ss acc)
  (if (zp n)
      acc
      (union-lastn-pc-tag-trees (1- n) (cdr ss)
                                (cons-tag-trees
...">union-lastn-pc-tag-trees</a> diff new-ss nil))
                    saved-ss))
                (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> erp val state))
              (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> erp val state)))))
      (<a class="sym-link local-def" href="#def-pc-single-step-1" data-sym="PC-SINGLE-STEP-1" title="(defun pc-single-step-1 (raw-instr state)
  (mv-let (erp instr state) (pc-macroexpand raw-instr state)
          (if erp
              (pprogn
               (io? proof-builder nil state (raw-instr)
...">pc-single-step-1</a> raw-instr state))))</pre>
  </div>

<div class="form-block constant" id="def-_2Apc-complete-signal_2A" data-defines="*PC-COMPLETE-SIGNAL*" data-references="ACL2-PC-COMPLETE,QUOTE,DEFCONST" data-used-by="PROOF-BUILDER,VERIFY-FN,PC-MAIN-LOOP" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="*PC-COMPLETE-SIGNAL*">*pc-complete-signal*</span><span class="form-type">constant</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defconst" data-sym="DEFCONST">defconst</a> <a class="sym-link local-def" href="#def-_2Apc-complete-signal_2A" data-sym="*PC-COMPLETE-SIGNAL*" title="(defconst *pc-complete-signal* &#39;acl2-pc-complete)">*pc-complete-signal*</a> 'acl2-pc-complete)</pre>
  </div>

<div class="form-block function" id="def-print-re-entering-proof-builder" data-defines="PRINT-RE-ENTERING-PROOF-BUILDER" data-references="T,COND,CONS,LIST,FMS0,PROOF-BUILDER,IO?,STATE,EOF-P,DEFUN" data-used-by="PC-MAIN-LOOP" data-part-name="PRINT-RE-ENTERING-PROOF-BUILDER" data-part-args="STATE,EOF-P" data-part-body="T,COND,CONS,LIST,FMS0,EOF-P,STATE,PROOF-BUILDER,IO?" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="PRINT-RE-ENTERING-PROOF-BUILDER">print-re-entering-proof-builder</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-print-re-entering-proof-builder" data-sym="PRINT-RE-ENTERING-PROOF-BUILDER" title="(defun print-re-entering-proof-builder (eof-p state)
  (io? proof-builder nil state (eof-p)
       (fms0 &quot;~|~%~
         /-----------------------------------------------------------\\~%~
         | Note: Re-entering the proof-builder after ~s0 |~%~
...">print-re-entering-proof-builder</a>
  (eof-p state)
  (<a class="sym-link system" href="basis-a.html#def-io_3F" data-sym="IO?">io?</a> <a class="sym-link local-def" href="#def-proof-builder" data-sym="PROOF-BUILDER" title="(defun proof-builder
       (event-name raw-term term rule-classes instructions wrld state)
  (declare (ignore term wrld))
  (cond
   ((and (not (f-get-global &#39;in-verify-flg state)) (ld-skip-proofsp state))
...">proof-builder</a>
    nil
    state
    (eof-p)
    (<a class="sym-link local-def" href="#def-fms0" data-sym="FMS0" title="(defmacro fms0 (str &amp;optional alist col (evisc-tuple &#39;nil evisc-tuple-p))
  `(mv-let (new-col state)
           (fmt1 ,str ,alist ,(or col 0) (proofs-co state) state
                 ,(if evisc-tuple-p
                      evisc-tuple
...">fms0</a> <span class="string">"~|~%~
         /-----------------------------------------------------------\~%~
         | Note: Re-entering the proof-builder after ~s0 |~%~
         | Submit EXIT if you want to exit the proof-builder.        |~%~
         \-----------------------------------------------------------/~%"</span>
      (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (cons #\0
          (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (eof-p <span class="string">"end of file.   "</span>) (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <span class="string">"error or abort."</span>)))))))</pre>
  </div>

<div class="form-block function" id="def-chk-absstobj-invariants" data-defines="CHK-ABSSTOBJ-INVARIANTS" data-references="T,CONS,LIST,ERROR-FMS,LD-PRE-EVAL-FILTER,ILLEGAL-TO-CERTIFY-MESSAGE,QUOTE,F-PUT-GLOBAL,PPROGN,COND,IGNORE,READ-ACL2-ORACLE,MSG,ERP,MV-LET,XARGS,DECLARE,STATE,DEFUN" data-used-by="PC-MAIN-LOOP" data-part-name="CHK-ABSSTOBJ-INVARIANTS" data-part-args="STATE" data-part-declare="STATE,XARGS,DECLARE" data-part-body="T,CONS,LIST,CHK-ABSSTOBJ-INVARIANTS,ERROR-FMS,LD-PRE-EVAL-FILTER,ILLEGAL-TO-CERTIFY-MESSAGE,QUOTE,F-PUT-GLOBAL,PPROGN,COND,IGNORE,DECLARE,READ-ACL2-ORACLE,STATE,MSG,ERP,MV-LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="CHK-ABSSTOBJ-INVARIANTS">chk-absstobj-invariants</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-chk-absstobj-invariants" data-sym="CHK-ABSSTOBJ-INVARIANTS" title="(defun chk-absstobj-invariants (state)
  (declare (xargs :stobjs state))
  (mv-let (erp msg state) (read-acl2-oracle state) (declare (ignore erp))
          (cond
           (msg
...">chk-absstobj-invariants</a>
  (state)
  (declare (xargs <span class="keyword">:stobjs</span> state))
  (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (erp <a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> state)
    (<a class="sym-link system" href="axioms.html#def-read-acl2-oracle" data-sym="READ-ACL2-ORACLE">read-acl2-oracle</a> state)
    (declare (ignore erp))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link system" href="axioms.html#def-f-put-global" data-sym="F-PUT-GLOBAL">f-put-global</a> 'illegal-to-certify-message <a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> state)
          (<a class="sym-link system" href="axioms.html#def-f-put-global" data-sym="F-PUT-GLOBAL">f-put-global</a> '<a class="sym-link system" href="basis-b.html#def-ld-pre-eval-filter" data-sym="LD-PRE-EVAL-FILTER">ld-pre-eval-filter</a> <span class="keyword">:illegal-state</span> state)
          (<a class="sym-link system" href="basis-a.html#def-error-fms" data-sym="ERROR-FMS">error-fms</a> nil
            '<a class="sym-link local-def" href="#def-chk-absstobj-invariants" data-sym="CHK-ABSSTOBJ-INVARIANTS" title="(defun chk-absstobj-invariants (state)
  (declare (xargs :stobjs state))
  (mv-let (erp msg state) (read-acl2-oracle state) (declare (ignore erp))
          (cond
           (msg
...">chk-absstobj-invariants</a>
            nil
            <span class="string">"~@0"</span>
            (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (cons #\0 <a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a>))
            state)))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> state))))</pre>
  </div>

<div class="form-block function" id="def-pc-main-loop" data-defines="PC-MAIN-LOOP" data-references="CDR,NEW-LAST-VALUE,LET,EXIT,*PC-COMPLETE-SIGNAL*,EQ,QUOTE,MEMBER-EQ,AND,OR,MAKE-OFFICIAL-PC-INSTR,PC-SINGLE-STEP,VAL,SIGNAL,PRINT-RE-ENTERING-PROOF-BUILDER,READ-OBJECT,VALUE,CAR,CONS,LIST,FMS0,PROOF-BUILDER,IO?,CONSP,INSTR,ERP,PRINT-PC-PROMPT,IF,COL,MV-LET,ILLEGAL-STATE-P,CHK-ABSSTOBJ-INVARIANTS,PPROGN,T,MV,NULL,COND,STATE,PC-PRINT-PROMPT-AND-INSTR-FLG,LAST-VALUE,QUIT-CONDITIONS,INSTR-LIST,DEFUN" data-used-by="PC-MAIN1" data-part-name="PC-MAIN-LOOP" data-part-args="STATE,PC-PRINT-PROMPT-AND-INSTR-FLG,LAST-VALUE,QUIT-CONDITIONS,INSTR-LIST" data-part-body="CDR,NEW-LAST-VALUE,LET,EXIT,*PC-COMPLETE-SIGNAL*,EQ,QUOTE,MEMBER-EQ,AND,OR,MAKE-OFFICIAL-PC-INSTR,PC-SINGLE-STEP,VAL,SIGNAL,QUIT-CONDITIONS,PC-MAIN-LOOP,PRINT-RE-ENTERING-PROOF-BUILDER,READ-OBJECT,VALUE,CAR,CONS,LIST,FMS0,PROOF-BUILDER,IO?,CONSP,INSTR,ERP,PRINT-PC-PROMPT,PC-PRINT-PROMPT-AND-INSTR-FLG,IF,COL,MV-LET,ILLEGAL-STATE-P,CHK-ABSSTOBJ-INVARIANTS,PPROGN,T,STATE,LAST-VALUE,MV,INSTR-LIST,NULL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="PC-MAIN-LOOP">pc-main-loop</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-pc-main-loop" data-sym="PC-MAIN-LOOP" title="(defun pc-main-loop
       (instr-list quit-conditions last-value pc-print-prompt-and-instr-flg
        state)
  (cond ((null instr-list) (mv nil last-value state))
        (t
...">pc-main-loop</a>
  (instr-list quit-conditions
    last-value
    <a class="sym-link local-def" href="#def-pc-print-prompt-and-instr-flg" data-sym="PC-PRINT-PROMPT-AND-INSTR-FLG" title="(defmacro pc-print-prompt-and-instr-flg ()
  &#39;(access pc-info (f-get-global &#39;pc-info state) :print-prompt-and-instr-flg))">pc-print-prompt-and-instr-flg</a>
    state)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> instr-list) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil last-value state))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link local-def" href="#def-chk-absstobj-invariants" data-sym="CHK-ABSSTOBJ-INVARIANTS" title="(defun chk-absstobj-invariants (state)
  (declare (xargs :stobjs state))
  (mv-let (erp msg state) (read-acl2-oracle state) (declare (ignore erp))
          (cond
           (msg
...">chk-absstobj-invariants</a> state)
        (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="basis-b.html#def-illegal-state-p" data-sym="ILLEGAL-STATE-P">illegal-state-p</a> state) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> nil state))
          (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (col state)
              (if <a class="sym-link local-def" href="#def-pc-print-prompt-and-instr-flg" data-sym="PC-PRINT-PROMPT-AND-INSTR-FLG" title="(defmacro pc-print-prompt-and-instr-flg ()
  &#39;(access pc-info (f-get-global &#39;pc-info state) :print-prompt-and-instr-flg))">pc-print-prompt-and-instr-flg</a>
                (<a class="sym-link local-def" href="#def-print-pc-prompt" data-sym="PRINT-PC-PROMPT" title="(defun print-pc-prompt (state)
  (io? proof-builder nil (mv col state) nil
       (let ((chan (proofs-co state)))
         (with-output-forced chan (col state)
                             (fmt1 (pc-prompt) nil 0 chan state nil)))">print-pc-prompt</a> state)
                (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> <span class="number">0</span> state))
              (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (erp instr state)
                (if (consp instr-list)
                  (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (if <a class="sym-link local-def" href="#def-pc-print-prompt-and-instr-flg" data-sym="PC-PRINT-PROMPT-AND-INSTR-FLG" title="(defmacro pc-print-prompt-and-instr-flg ()
  &#39;(access pc-info (f-get-global &#39;pc-info state) :print-prompt-and-instr-flg))">pc-print-prompt-and-instr-flg</a>
                      (<a class="sym-link system" href="basis-a.html#def-io_3F" data-sym="IO?">io?</a> <a class="sym-link local-def" href="#def-proof-builder" data-sym="PROOF-BUILDER" title="(defun proof-builder
       (event-name raw-term term rule-classes instructions wrld state)
  (declare (ignore term wrld))
  (cond
   ((and (not (f-get-global &#39;in-verify-flg state)) (ld-skip-proofsp state))
...">proof-builder</a>
                        nil
                        state
                        (col instr-list)
                        (<a class="sym-link local-def" href="#def-fms0" data-sym="FMS0" title="(defmacro fms0 (str &amp;optional alist col (evisc-tuple &#39;nil evisc-tuple-p))
  `(mv-let (new-col state)
           (fmt1 ,str ,alist ,(or col 0) (proofs-co state) state
                 ,(if evisc-tuple-p
                      evisc-tuple
...">fms0</a> <span class="string">"~y0~|"</span> (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (cons #\0 (car instr-list))) col))
                      state)
                    (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (car instr-list)))
                  (<a class="sym-link system" href="axioms.html#def-read-object" data-sym="READ-OBJECT">read-object</a> instr-list state))
                (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (erp (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link local-def" href="#def-print-re-entering-proof-builder" data-sym="PRINT-RE-ENTERING-PROOF-BUILDER" title="(defun print-re-entering-proof-builder (eof-p state)
  (io? proof-builder nil state (eof-p)
       (fms0 &quot;~|~%~
         /-----------------------------------------------------------\\~%~
         | Note: Re-entering the proof-builder after ~s0 |~%~
...">print-re-entering-proof-builder</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> state)
                      (<a class="sym-link local-def" href="#def-pc-main-loop" data-sym="PC-MAIN-LOOP" title="(defun pc-main-loop
       (instr-list quit-conditions last-value pc-print-prompt-and-instr-flg
        state)
  (cond ((null instr-list) (mv nil last-value state))
        (t
...">pc-main-loop</a> instr-list
                        quit-conditions
                        last-value
                        <a class="sym-link local-def" href="#def-pc-print-prompt-and-instr-flg" data-sym="PC-PRINT-PROMPT-AND-INSTR-FLG" title="(defmacro pc-print-prompt-and-instr-flg ()
  &#39;(access pc-info (f-get-global &#39;pc-info state) :print-prompt-and-instr-flg))">pc-print-prompt-and-instr-flg</a>
                        state)))
                  (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (signal val state)
                      (<a class="sym-link local-def" href="#def-pc-single-step" data-sym="PC-SINGLE-STEP" title="(defun pc-single-step (raw-instr state)
  (declare (xargs :guard (consp raw-instr)))
  (let ((tp (pc-command-type (car raw-instr))))
    (if (eq tp &#39;atomic-macro)
        (let* ((saved-ss (state-stack)) (old-len (length saved-ss)))
...">pc-single-step</a> (<a class="sym-link local-def" href="#def-make-official-pc-instr" data-sym="MAKE-OFFICIAL-PC-INSTR" title="(defun make-official-pc-instr (instr)
  (if (consp instr)
      (if (and (symbolp (car instr)) (true-listp (cdr instr)))
          (cons (make-official-pc-command (car instr)) (cdr instr))
          (list (make-official-pc-command &#39;illegal) instr))
...">make-official-pc-instr</a> instr) state)
                      (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> signal
                             (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> 'signal quit-conditions)
                               (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> signal <a class="sym-link local-def" href="#def-_2Apc-complete-signal_2A" data-sym="*PC-COMPLETE-SIGNAL*" title="(defconst *pc-complete-signal* &#39;acl2-pc-complete)">*pc-complete-signal*</a>)
                                 (<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> '<a class="sym-link system" href="basis-a.html#def-exit" data-sym="EXIT">exit</a> quit-conditions))))
                           (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> val) (<a class="sym-link system" href="axioms.html#def-member-eq" data-sym="MEMBER-EQ">member-eq</a> '<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> quit-conditions))) (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> signal val state))
                        (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((new-last-value (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> last-value (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> signal) val)))
                            (<a class="sym-link local-def" href="#def-pc-main-loop" data-sym="PC-MAIN-LOOP" title="(defun pc-main-loop
       (instr-list quit-conditions last-value pc-print-prompt-and-instr-flg
        state)
  (cond ((null instr-list) (mv nil last-value state))
        (t
...">pc-main-loop</a> (if (consp instr-list)
                                (cdr instr-list)
                                instr-list)
                              quit-conditions
                              new-last-value
                              <a class="sym-link local-def" href="#def-pc-print-prompt-and-instr-flg" data-sym="PC-PRINT-PROMPT-AND-INSTR-FLG" title="(defmacro pc-print-prompt-and-instr-flg ()
  &#39;(access pc-info (f-get-global &#39;pc-info state) :print-prompt-and-instr-flg))">pc-print-prompt-and-instr-flg</a>
                              state)))))))))))))))</pre>
  </div>

<div class="form-block function" id="def-make-initial-goal" data-defines="MAKE-INITIAL-GOAL" data-references="MAIN,QUOTE,GOAL,MAKE,TERM,DEFUN" data-used-by="INITIAL-STATE-STACK" data-part-name="MAKE-INITIAL-GOAL" data-part-args="TERM" data-part-body="MAIN,QUOTE,TERM,GOAL,MAKE" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="MAKE-INITIAL-GOAL">make-initial-goal</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-make-initial-goal" data-sym="MAKE-INITIAL-GOAL" title="(defun make-initial-goal (term)
  (make goal :conc term :hyps nil :current-addr nil :goal-name &#39;main
        :depends-on 1))">make-initial-goal</a>
  (term)
  (<a class="sym-link system" href="basis-a.html#def-make" data-sym="MAKE">make</a> goal
    <span class="keyword">:conc</span> term
    <span class="keyword">:hyps</span> nil
    <span class="keyword">:current-addr</span> nil
    <span class="keyword">:goal-name</span> 'main
    <span class="keyword">:depends-on</span> <span class="number">1</span>))</pre>
  </div>

<div class="form-block function" id="def-initial-state-stack" data-defines="INITIAL-STATE-STACK" data-references="MAKE-INITIAL-GOAL,PC-STATE,MAKE,LIST,PC-ENS,RULE-CLASSES,EVENT-NAME,RAW-TERM,TERM,DEFUN" data-used-by="INSTALL-INITIAL-STATE-STACK" data-part-name="INITIAL-STATE-STACK" data-part-args="PC-ENS,RULE-CLASSES,EVENT-NAME,RAW-TERM,TERM" data-part-body="PC-ENS,TERM,MAKE-INITIAL-GOAL,RAW-TERM,RULE-CLASSES,EVENT-NAME,PC-STATE,MAKE,LIST" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="INITIAL-STATE-STACK">initial-state-stack</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-initial-state-stack" data-sym="INITIAL-STATE-STACK" title="(defun initial-state-stack (term raw-term event-name rule-classes pc-ens)
  (list
   (make pc-state :instruction
         (list :start (list event-name rule-classes raw-term)) :goals
         (list (make-initial-goal term)) :local-tag-tree nil :tag-tree nil">initial-state-stack</a>
  (term raw-term event-name rule-classes <a class="sym-link local-def" href="#def-pc-ens" data-sym="PC-ENS" title="(defmacro pc-ens (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">pc-ens</a>)
  (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (<a class="sym-link system" href="basis-a.html#def-make" data-sym="MAKE">make</a> pc-state
      <span class="keyword">:instruction</span> (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <span class="keyword">:start</span> (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> event-name rule-classes raw-term))
      <span class="keyword">:goals</span> (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (<a class="sym-link local-def" href="#def-make-initial-goal" data-sym="MAKE-INITIAL-GOAL" title="(defun make-initial-goal (term)
  (make goal :conc term :hyps nil :current-addr nil :goal-name &#39;main
        :depends-on 1))">make-initial-goal</a> term))
      <span class="keyword">:local-tag-tree</span> nil
      <span class="keyword">:tag-tree</span> nil
      <span class="keyword">:abbreviations</span> nil
      <span class="keyword">:pc-ens</span> <a class="sym-link local-def" href="#def-pc-ens" data-sym="PC-ENS" title="(defmacro pc-ens (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">pc-ens</a>)))</pre>
  </div>

<div class="form-block function" id="def-event-name-and-types-and-raw-term" data-defines="EVENT-NAME-AND-TYPES-AND-RAW-TERM" data-references="LAST,CAR,PC-STATE,ACCESS,CADR,STATE-STACK,DEFUN" data-part-name="EVENT-NAME-AND-TYPES-AND-RAW-TERM" data-part-args="STATE-STACK" data-part-body="STATE-STACK,LAST,CAR,PC-STATE,ACCESS,CADR" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="EVENT-NAME-AND-TYPES-AND-RAW-TERM">event-name-and-types-and-raw-term</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-event-name-and-types-and-raw-term" data-sym="EVENT-NAME-AND-TYPES-AND-RAW-TERM" title="(defun event-name-and-types-and-raw-term (state-stack)
  (cadr (access pc-state (car (last state-stack)) :instruction)))">event-name-and-types-and-raw-term</a>
  (<a class="sym-link local-def" href="#def-state-stack" data-sym="STATE-STACK" title="(defmacro state-stack () &#39;(pc-value state-stack))">state-stack</a>)
  (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> pc-state (car (<a class="sym-link system" href="axioms.html#def-last" data-sym="LAST">last</a> <a class="sym-link local-def" href="#def-state-stack" data-sym="STATE-STACK" title="(defmacro state-stack () &#39;(pc-value state-stack))">state-stack</a>)) <span class="keyword">:instruction</span>)))</pre>
  </div>

<div class="form-block macro" id="def-install-initial-state-stack" data-defines="INSTALL-INITIAL-STATE-STACK" data-references="OLD-SS,INITIAL-STATE-STACK,STATE-STACK,PC-ASSIGN,PPROGN,QUASIQUOTE,RULE-CLASSES,EVENT-NAME,RAW-TERM,TERM,DEFMACRO" data-used-by="PC-MAIN" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="INSTALL-INITIAL-STATE-STACK">install-initial-state-stack</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-install-initial-state-stack" data-sym="INSTALL-INITIAL-STATE-STACK" title="(defmacro install-initial-state-stack (term raw-term event-name rule-classes)
  `(pprogn
    (pc-assign state-stack
               (initial-state-stack ,term ,raw-term ,event-name ,rule-classes
                                    nil))">install-initial-state-stack</a>
  (term raw-term event-name rule-classes)
  `(<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link local-def" href="#def-pc-assign" data-sym="PC-ASSIGN" title="(defmacro pc-assign (key val)
  (cond ((eq key &#39;ss-alist) `(f-put-global &#39;pc-ss-alist ,val state))
        (t
         `(f-put-global &#39;pc-output
                        (put-assoc-eq &#39;,key ,val
...">pc-assign</a> <a class="sym-link local-def" href="#def-state-stack" data-sym="STATE-STACK" title="(defmacro state-stack () &#39;(pc-value state-stack))">state-stack</a>
      (<a class="sym-link local-def" href="#def-initial-state-stack" data-sym="INITIAL-STATE-STACK" title="(defun initial-state-stack (term raw-term event-name rule-classes pc-ens)
  (list
   (make pc-state :instruction
         (list :start (list event-name rule-classes raw-term)) :goals
         (list (make-initial-goal term)) :local-tag-tree nil :tag-tree nil">initial-state-stack</a> ,TERM
        ,RAW-TERM
        ,EVENT-NAME
        ,RULE-CLASSES
        nil))
    (<a class="sym-link local-def" href="#def-pc-assign" data-sym="PC-ASSIGN" title="(defmacro pc-assign (key val)
  (cond ((eq key &#39;ss-alist) `(f-put-global &#39;pc-ss-alist ,val state))
        (t
         `(f-put-global &#39;pc-output
                        (put-assoc-eq &#39;,key ,val
...">pc-assign</a> <a class="sym-link local-def" href="#def-old-ss" data-sym="OLD-SS" title="(defmacro old-ss () &#39;(pc-value old-ss))">old-ss</a> nil)))</pre>
  </div>

<div class="form-block function" id="def-pc-main1" data-defines="PC-MAIN1" data-references="T,PC-MAIN-LOOP,WITH-PROVER-STEP-LIMIT!,STATE,PC-PRINT-PROMPT-AND-INSTR-FLG,QUIT-CONDITIONS,INSTR-LIST,DEFUN" data-used-by="VERIFY-FN,PC-MAIN" data-part-name="PC-MAIN1" data-part-args="STATE,PC-PRINT-PROMPT-AND-INSTR-FLG,QUIT-CONDITIONS,INSTR-LIST" data-part-body="STATE,PC-PRINT-PROMPT-AND-INSTR-FLG,T,QUIT-CONDITIONS,INSTR-LIST,PC-MAIN-LOOP,WITH-PROVER-STEP-LIMIT!" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="PC-MAIN1">pc-main1</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-pc-main1" data-sym="PC-MAIN1" title="(defun pc-main1
       (instr-list quit-conditions pc-print-prompt-and-instr-flg state)
  (with-prover-step-limit! :start
                           (pc-main-loop instr-list quit-conditions t
                                         pc-print-prompt-and-instr-flg state)))">pc-main1</a>
  (instr-list quit-conditions
    <a class="sym-link local-def" href="#def-pc-print-prompt-and-instr-flg" data-sym="PC-PRINT-PROMPT-AND-INSTR-FLG" title="(defmacro pc-print-prompt-and-instr-flg ()
  &#39;(access pc-info (f-get-global &#39;pc-info state) :print-prompt-and-instr-flg))">pc-print-prompt-and-instr-flg</a>
    state)
  (<a class="sym-link system" href="history-management.html#def-with-prover-step-limit_21" data-sym="WITH-PROVER-STEP-LIMIT!">with-prover-step-limit!</a> <span class="keyword">:start</span> (<a class="sym-link local-def" href="#def-pc-main-loop" data-sym="PC-MAIN-LOOP" title="(defun pc-main-loop
       (instr-list quit-conditions last-value pc-print-prompt-and-instr-flg
        state)
  (cond ((null instr-list) (mv nil last-value state))
        (t
...">pc-main-loop</a> instr-list
      quit-conditions
      <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
      <a class="sym-link local-def" href="#def-pc-print-prompt-and-instr-flg" data-sym="PC-PRINT-PROMPT-AND-INSTR-FLG" title="(defmacro pc-print-prompt-and-instr-flg ()
  &#39;(access pc-info (f-get-global &#39;pc-info state) :print-prompt-and-instr-flg))">pc-print-prompt-and-instr-flg</a>
      state)))</pre>
  </div>

<div class="form-block function" id="def-pc-main" data-defines="PC-MAIN" data-references="PC-MAIN1,T,QUOTE,F-PUT-GLOBAL,COND,INSTALL-INITIAL-STATE-STACK,PPROGN,STATE,IN-VERIFY-FLG,PC-PRINT-PROMPT-AND-INSTR-FLG,QUIT-CONDITIONS,INSTR-LIST,RULE-CLASSES,EVENT-NAME,RAW-TERM,TERM,DEFUN" data-used-by="PC-TOP" data-part-name="PC-MAIN" data-part-args="STATE,IN-VERIFY-FLG,PC-PRINT-PROMPT-AND-INSTR-FLG,QUIT-CONDITIONS,INSTR-LIST,RULE-CLASSES,EVENT-NAME,RAW-TERM,TERM" data-part-body="PC-PRINT-PROMPT-AND-INSTR-FLG,QUIT-CONDITIONS,INSTR-LIST,PC-MAIN1,T,STATE,QUOTE,F-PUT-GLOBAL,IN-VERIFY-FLG,COND,RULE-CLASSES,EVENT-NAME,RAW-TERM,TERM,INSTALL-INITIAL-STATE-STACK,PPROGN" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="PC-MAIN">pc-main</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-pc-main" data-sym="PC-MAIN" title="(defun pc-main
       (term raw-term event-name rule-classes instr-list quit-conditions
        pc-print-prompt-and-instr-flg in-verify-flg state)
  (pprogn (install-initial-state-stack term raw-term event-name rule-classes)
          (cond
...">pc-main</a>
  (term raw-term
    event-name
    rule-classes
    instr-list
    quit-conditions
    <a class="sym-link local-def" href="#def-pc-print-prompt-and-instr-flg" data-sym="PC-PRINT-PROMPT-AND-INSTR-FLG" title="(defmacro pc-print-prompt-and-instr-flg ()
  &#39;(access pc-info (f-get-global &#39;pc-info state) :print-prompt-and-instr-flg))">pc-print-prompt-and-instr-flg</a>
    in-verify-flg
    state)
  (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link local-def" href="#def-install-initial-state-stack" data-sym="INSTALL-INITIAL-STATE-STACK" title="(defmacro install-initial-state-stack (term raw-term event-name rule-classes)
  `(pprogn
    (pc-assign state-stack
               (initial-state-stack ,term ,raw-term ,event-name ,rule-classes
                                    nil))">install-initial-state-stack</a> term
      raw-term
      event-name
      rule-classes)
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (in-verify-flg (<a class="sym-link system" href="axioms.html#def-f-put-global" data-sym="F-PUT-GLOBAL">f-put-global</a> 'in-verify-flg in-verify-flg state))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> state))
    (<a class="sym-link local-def" href="#def-pc-main1" data-sym="PC-MAIN1" title="(defun pc-main1
       (instr-list quit-conditions pc-print-prompt-and-instr-flg state)
  (with-prover-step-limit! :start
                           (pc-main-loop instr-list quit-conditions t
                                         pc-print-prompt-and-instr-flg state)))">pc-main1</a> instr-list
      quit-conditions
      <a class="sym-link local-def" href="#def-pc-print-prompt-and-instr-flg" data-sym="PC-PRINT-PROMPT-AND-INSTR-FLG" title="(defmacro pc-print-prompt-and-instr-flg ()
  &#39;(access pc-info (f-get-global &#39;pc-info state) :print-prompt-and-instr-flg))">pc-print-prompt-and-instr-flg</a>
      state)))</pre>
  </div>

<div class="form-block function" id="def-pc-top" data-defines="PC-TOP" data-references="PC-MAIN,MV,IF,W,QUOTE,T,TRANSLATE,TERM,ERP,MV-LET,SYMBOLP,XARGS,DECLARE,STATE,IN-VERIFY-FLG,QUIT-CONDITIONS,INSTR-LIST,RULE-CLASSES,EVENT-NAME,RAW-TERM,DEFUN" data-used-by="STATE-FROM-INSTRUCTIONS,STATE-STACK-FROM-INSTRUCTIONS,VERIFY-FN" data-part-name="PC-TOP" data-part-args="STATE,IN-VERIFY-FLG,QUIT-CONDITIONS,INSTR-LIST,RULE-CLASSES,EVENT-NAME,RAW-TERM" data-part-declare="EVENT-NAME,SYMBOLP,XARGS,DECLARE" data-part-body="IN-VERIFY-FLG,QUIT-CONDITIONS,INSTR-LIST,RULE-CLASSES,EVENT-NAME,PC-MAIN,MV,IF,W,PC-TOP,QUOTE,T,RAW-TERM,TRANSLATE,STATE,TERM,ERP,MV-LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="PC-TOP">pc-top</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-pc-top" data-sym="PC-TOP" title="(defun pc-top
       (raw-term event-name rule-classes instr-list quit-conditions
        in-verify-flg state)
  (declare (xargs :guard (symbolp event-name)))
  (mv-let (erp term state) (translate raw-term t t t &#39;pc-top (w state) state)
...">pc-top</a>
  (raw-term event-name
    rule-classes
    instr-list
    quit-conditions
    in-verify-flg
    state)
  (declare (xargs <span class="keyword">:guard</span> (symbolp event-name)))
  (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (erp term state)
    (translate raw-term <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> '<a class="sym-link local-def" href="#def-pc-top" data-sym="PC-TOP" title="(defun pc-top
       (raw-term event-name rule-classes instr-list quit-conditions
        in-verify-flg state)
  (declare (xargs :guard (symbolp event-name)))
  (mv-let (erp term state) (translate raw-term t t t &#39;pc-top (w state) state)
...">pc-top</a> (<a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a> state) state)
    (if erp
      (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> nil state)
      (<a class="sym-link local-def" href="#def-pc-main" data-sym="PC-MAIN" title="(defun pc-main
       (term raw-term event-name rule-classes instr-list quit-conditions
        pc-print-prompt-and-instr-flg in-verify-flg state)
  (pprogn (install-initial-state-stack term raw-term event-name rule-classes)
          (cond
...">pc-main</a> term
        raw-term
        event-name
        rule-classes
        instr-list
        quit-conditions
        <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
        in-verify-flg
        state))))</pre>
  </div>

<div class="form-block mutual-recursion" id="def-illegal-fnp" data-defines="ILLEGAL-FNP" data-references="OR,ENDP,T,CONSP,ILLEGAL-FNP-LIST,CDR,LENGTH,EQL,AND,IF,ARITY,LET,SYMBOLP,QUOTE,CAR,EQ,ATOM,COND,W,X,DEFUN,MUTUAL-RECURSION" data-used-by="VERIFY-FN" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="ILLEGAL-FNP">illegal-fnp</span><span class="form-type">mutual-recursion</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-mutual-recursion" data-sym="MUTUAL-RECURSION">mutual-recursion</a> (<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-illegal-fnp" data-sym="ILLEGAL-FNP" title="(mutual-recursion
 (defun illegal-fnp (x w)
   (cond ((atom x) nil) ((eq (car x) &#39;quote) nil)
         ((symbolp (car x))
          (let ((arity (arity (car x) w)))
...">illegal-fnp</a>
    (x <a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a>)
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-atom" data-sym="ATOM">atom</a> x) nil)
      ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (car x) 'quote) nil)
      ((symbolp (car x)) (let ((<a class="sym-link system" href="basis-b.html#def-arity" data-sym="ARITY">arity</a> (<a class="sym-link system" href="basis-b.html#def-arity" data-sym="ARITY">arity</a> (car x) <a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a>)))
          (if (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> <a class="sym-link system" href="basis-b.html#def-arity" data-sym="ARITY">arity</a> (<a class="sym-link system" href="axioms.html#def-eql" data-sym="EQL">eql</a> (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> (cdr x)) <a class="sym-link system" href="basis-b.html#def-arity" data-sym="ARITY">arity</a>))
            (illegal-fnp-list (cdr x) <a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a>)
            (car x))))
      ((consp (car x)) (illegal-fnp-list (cdr x) <a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a>))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> nil)))
  (<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> illegal-fnp-list
    (x <a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a>)
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-endp" data-sym="ENDP">endp</a> x) nil)
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link local-def" href="#def-illegal-fnp" data-sym="ILLEGAL-FNP" title="(mutual-recursion
 (defun illegal-fnp (x w)
   (cond ((atom x) nil) ((eq (car x) &#39;quote) nil)
         ((symbolp (car x))
          (let ((arity (arity (car x) w)))
...">illegal-fnp</a> (car x) <a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a>) (illegal-fnp-list (cdr x) <a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a>))))))</pre>
  </div>

<div class="form-block function" id="def-verify-fn" data-defines="VERIFY-FN" data-references="MV,VALUE,*PC-COMPLETE-SIGNAL*,EQUAL,PC-MAIN1,F-PUT-GLOBAL,PPROGN,W,LAST,PC-STATE,CAR,GOAL,ACCESS,ILLEGAL-FNP,BAD-FN,STATE-STACK,NULL,EXIT,LIST,*STANDARD-OI*,APPEND,PC-TOP,PROOF-BUILDER,REMOVE1-EQ,INHIBIT-OUTPUT-LST,PRINT-RADIX,PRINT-BASE,STATE-GLOBAL-LET*,VAL,ERP,MV-LET,LD-LEVEL,LET,T,VERIFY,SOFT,ER,IN-VERIFY-FLG,QUOTE,F-GET-GLOBAL,COND,STATE,INSTRUCTIONS,RULE-CLASSES,EVENT-NAME,RAW-TERM-SUPPLIED-P,RAW-TERM,DEFUN" data-used-by="VERIFY" data-part-name="VERIFY-FN" data-part-args="STATE,INSTRUCTIONS,RULE-CLASSES,EVENT-NAME,RAW-TERM-SUPPLIED-P,RAW-TERM" data-part-body="MV,VALUE,*PC-COMPLETE-SIGNAL*,EQUAL,PC-MAIN1,F-PUT-GLOBAL,PPROGN,W,LAST,PC-STATE,CAR,GOAL,ACCESS,ILLEGAL-FNP,BAD-FN,STATE-STACK,NULL,EXIT,LIST,*STANDARD-OI*,INSTRUCTIONS,APPEND,RULE-CLASSES,EVENT-NAME,RAW-TERM,PC-TOP,PROOF-BUILDER,REMOVE1-EQ,INHIBIT-OUTPUT-LST,PRINT-RADIX,PRINT-BASE,STATE-GLOBAL-LET*,RAW-TERM-SUPPLIED-P,VAL,ERP,MV-LET,LD-LEVEL,LET,T,VERIFY,SOFT,ER,STATE,IN-VERIFY-FLG,QUOTE,F-GET-GLOBAL,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="VERIFY-FN">verify-fn</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-verify-fn" data-sym="VERIFY-FN" title="(defun verify-fn
       (raw-term raw-term-supplied-p event-name rule-classes instructions
        state)
  (cond
   ((f-get-global &#39;in-verify-flg state)
...">verify-fn</a>
  (raw-term raw-term-supplied-p
    event-name
    rule-classes
    instructions
    state)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-f-get-global" data-sym="F-GET-GLOBAL">f-get-global</a> 'in-verify-flg state) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
        '<a class="sym-link local-def" href="#def-verify" data-sym="VERIFY" title="(defmacro verify
          (
           &amp;optional (raw-term &#39;nil raw-term-supplied-p)
           &amp;key event-name (rule-classes &#39;(:rewrite)) instructions)
  (declare (xargs :guard (symbolp event-name)))
...">verify</a>
        <span class="string">"You are apparently already inside the VERIFY interactive loop.  It ~
         is illegal to enter such a loop recursively."</span>))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((ld-level (<a class="sym-link system" href="axioms.html#def-f-get-global" data-sym="F-GET-GLOBAL">f-get-global</a> 'ld-level state)))
        (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (erp val state)
          (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (raw-term-supplied-p (<a class="sym-link system" href="axioms.html#def-state-global-let_2A" data-sym="STATE-GLOBAL-LET*">state-global-let*</a> ((<a class="sym-link system" href="axioms.html#def-print-base" data-sym="PRINT-BASE">print-base</a> <span class="number">10</span>) (<a class="sym-link system" href="axioms.html#def-print-radix" data-sym="PRINT-RADIX">print-radix</a> nil)
                  (inhibit-output-lst (<a class="sym-link system" href="axioms.html#def-remove1-eq" data-sym="REMOVE1-EQ">remove1-eq</a> '<a class="sym-link local-def" href="#def-proof-builder" data-sym="PROOF-BUILDER" title="(defun proof-builder
       (event-name raw-term term rule-classes instructions wrld state)
  (declare (ignore term wrld))
  (cond
   ((and (not (f-get-global &#39;in-verify-flg state)) (ld-skip-proofsp state))
...">proof-builder</a>
                      (<a class="sym-link system" href="axioms.html#def-f-get-global" data-sym="F-GET-GLOBAL">f-get-global</a> 'inhibit-output-lst state))))
                (<a class="sym-link local-def" href="#def-pc-top" data-sym="PC-TOP" title="(defun pc-top
       (raw-term event-name rule-classes instr-list quit-conditions
        in-verify-flg state)
  (declare (xargs :guard (symbolp event-name)))
  (mv-let (erp term state) (translate raw-term t t t &#39;pc-top (w state) state)
...">pc-top</a> raw-term
                  event-name
                  rule-classes
                  (<a class="sym-link system" href="axioms.html#def-append" data-sym="APPEND">append</a> instructions <a class="sym-link system" href="axioms.html#def-_2Astandard-oi_2A" data-sym="*STANDARD-OI*">*standard-oi*</a>)
                  (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> '<a class="sym-link system" href="basis-a.html#def-exit" data-sym="EXIT">exit</a>)
                  ld-level
                  state)))
            ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> (<a class="sym-link local-def" href="#def-state-stack" data-sym="STATE-STACK" title="(defmacro state-stack () &#39;(pc-value state-stack))">state-stack</a>)) (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                '<a class="sym-link local-def" href="#def-verify" data-sym="VERIFY" title="(defmacro verify
          (
           &amp;optional (raw-term &#39;nil raw-term-supplied-p)
           &amp;key event-name (rule-classes &#39;(:rewrite)) instructions)
  (declare (xargs :guard (symbolp event-name)))
...">verify</a>
                <span class="string">"There is no interactive verification to re-enter!"</span>))
            (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((bad-fn (<a class="sym-link local-def" href="#def-illegal-fnp" data-sym="ILLEGAL-FNP" title="(mutual-recursion
 (defun illegal-fnp (x w)
   (cond ((atom x) nil) ((eq (car x) &#39;quote) nil)
         ((symbolp (car x))
          (let ((arity (arity (car x) w)))
...">illegal-fnp</a> (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> goal
                       (car (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> pc-state (car (<a class="sym-link system" href="axioms.html#def-last" data-sym="LAST">last</a> (<a class="sym-link local-def" href="#def-state-stack" data-sym="STATE-STACK" title="(defmacro state-stack () &#39;(pc-value state-stack))">state-stack</a>))) <span class="keyword">:goals</span>))
                       <span class="keyword">:conc</span>)
                     (<a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a> state))))
                (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (bad-fn (<a class="sym-link system" href="axioms.html#def-er" data-sym="ER">er</a> soft
                      '<a class="sym-link local-def" href="#def-verify" data-sym="VERIFY" title="(defmacro verify
          (
           &amp;optional (raw-term &#39;nil raw-term-supplied-p)
           &amp;key event-name (rule-classes &#39;(:rewrite)) instructions)
  (declare (xargs :guard (symbolp event-name)))
...">verify</a>
                      <span class="string">"The current proof-builder session was begun in an ACL2 world ~
                with function symbol ~x0, but that function symbol no longer ~
                exists."</span>
                      bad-fn))
                  (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-state-global-let_2A" data-sym="STATE-GLOBAL-LET*">state-global-let*</a> ((<a class="sym-link system" href="axioms.html#def-print-base" data-sym="PRINT-BASE">print-base</a> <span class="number">10</span>) (<a class="sym-link system" href="axioms.html#def-print-radix" data-sym="PRINT-RADIX">print-radix</a> nil)
                        (inhibit-output-lst (<a class="sym-link system" href="axioms.html#def-remove1-eq" data-sym="REMOVE1-EQ">remove1-eq</a> '<a class="sym-link local-def" href="#def-proof-builder" data-sym="PROOF-BUILDER" title="(defun proof-builder
       (event-name raw-term term rule-classes instructions wrld state)
  (declare (ignore term wrld))
  (cond
   ((and (not (f-get-global &#39;in-verify-flg state)) (ld-skip-proofsp state))
...">proof-builder</a>
                            (<a class="sym-link system" href="axioms.html#def-f-get-global" data-sym="F-GET-GLOBAL">f-get-global</a> 'inhibit-output-lst state))))
                      (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link system" href="axioms.html#def-f-put-global" data-sym="F-PUT-GLOBAL">f-put-global</a> 'in-verify-flg ld-level state)
                        (<a class="sym-link local-def" href="#def-pc-main1" data-sym="PC-MAIN1" title="(defun pc-main1
       (instr-list quit-conditions pc-print-prompt-and-instr-flg state)
  (with-prover-step-limit! :start
                           (pc-main-loop instr-list quit-conditions t
                                         pc-print-prompt-and-instr-flg state)))">pc-main1</a> (<a class="sym-link system" href="axioms.html#def-append" data-sym="APPEND">append</a> instructions <a class="sym-link system" href="axioms.html#def-_2Astandard-oi_2A" data-sym="*STANDARD-OI*">*standard-oi*</a>)
                          (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> '<a class="sym-link system" href="basis-a.html#def-exit" data-sym="EXIT">exit</a>)
                          <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
                          state))))))))
          (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((equal erp <a class="sym-link local-def" href="#def-_2Apc-complete-signal_2A" data-sym="*PC-COMPLETE-SIGNAL*" title="(defconst *pc-complete-signal* &#39;acl2-pc-complete)">*pc-complete-signal*</a>) (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link system" href="axioms.html#def-f-put-global" data-sym="F-PUT-GLOBAL">f-put-global</a> 'in-verify-flg nil state) (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> val)))
            (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> erp val state))))))))</pre>
  </div>

<div class="form-block function" id="def-print-unproved-goals-message" data-defines="PRINT-UNPROVED-GOALS-MESSAGE" data-references="LENGTH,CONS,LIST,FMS0,PROOF-BUILDER,IO?,STATE,GOALS,DEFUN" data-used-by="PROOF-BUILDER" data-part-name="PRINT-UNPROVED-GOALS-MESSAGE" data-part-args="STATE,GOALS" data-part-body="LENGTH,CONS,LIST,FMS0,GOALS,STATE,PROOF-BUILDER,IO?" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="PRINT-UNPROVED-GOALS-MESSAGE">print-unproved-goals-message</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-print-unproved-goals-message" data-sym="PRINT-UNPROVED-GOALS-MESSAGE" title="(defun print-unproved-goals-message (goals state)
  (io? proof-builder nil state (goals)
       (fms0 &quot;~%There ~#0~[is~/are~] ~x1 unproved goal~#0~[~/s~] from replay ~
              of instructions.  To enter the proof-builder state that exists ~
              at this point, type (VERIFY).~%&quot;">print-unproved-goals-message</a>
  (<a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a> state)
  (<a class="sym-link system" href="basis-a.html#def-io_3F" data-sym="IO?">io?</a> <a class="sym-link local-def" href="#def-proof-builder" data-sym="PROOF-BUILDER" title="(defun proof-builder
       (event-name raw-term term rule-classes instructions wrld state)
  (declare (ignore term wrld))
  (cond
   ((and (not (f-get-global &#39;in-verify-flg state)) (ld-skip-proofsp state))
...">proof-builder</a>
    nil
    state
    (<a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a>)
    (<a class="sym-link local-def" href="#def-fms0" data-sym="FMS0" title="(defmacro fms0 (str &amp;optional alist col (evisc-tuple &#39;nil evisc-tuple-p))
  `(mv-let (new-col state)
           (fmt1 ,str ,alist ,(or col 0) (proofs-co state) state
                 ,(if evisc-tuple-p
                      evisc-tuple
...">fms0</a> <span class="string">"~%There ~#0~[is~/are~] ~x1 unproved goal~#0~[~/s~] from replay ~
              of instructions.  To enter the proof-builder state that exists ~
              at this point, type (VERIFY).~%"</span>
      (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (cons #\0 <a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a>) (cons #\1 (<a class="sym-link system" href="axioms.html#def-length" data-sym="LENGTH">length</a> <a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a>))))))</pre>
  </div>

<div class="form-block function" id="def-state-stack-from-instructions" data-defines="STATE-STACK-FROM-INSTRUCTIONS" data-references="STATE-STACK,VALUE,PC-TOP,ER-PROGN,FMS0,PROOF-BUILDER,IO?,PPROGN,IF,STATE,QUIT-CONDITIONS,REPLAY-FLG,INSTRUCTIONS,RULE-CLASSES,EVENT-NAME,RAW-TERM,DEFUN" data-used-by="PROOF-BUILDER" data-part-name="STATE-STACK-FROM-INSTRUCTIONS" data-part-args="STATE,QUIT-CONDITIONS,REPLAY-FLG,INSTRUCTIONS,RULE-CLASSES,EVENT-NAME,RAW-TERM" data-part-body="STATE-STACK,VALUE,QUIT-CONDITIONS,INSTRUCTIONS,RULE-CLASSES,EVENT-NAME,RAW-TERM,PC-TOP,ER-PROGN,FMS0,STATE,PROOF-BUILDER,IO?,PPROGN,REPLAY-FLG,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="STATE-STACK-FROM-INSTRUCTIONS">state-stack-from-instructions</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-state-stack-from-instructions" data-sym="STATE-STACK-FROM-INSTRUCTIONS" title="(defun state-stack-from-instructions
       (raw-term event-name rule-classes instructions replay-flg
        quit-conditions state)
  (if replay-flg
      (pprogn
...">state-stack-from-instructions</a>
  (raw-term event-name
    rule-classes
    instructions
    replay-flg
    quit-conditions
    state)
  (if replay-flg
    (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link system" href="basis-a.html#def-io_3F" data-sym="IO?">io?</a> <a class="sym-link local-def" href="#def-proof-builder" data-sym="PROOF-BUILDER" title="(defun proof-builder
       (event-name raw-term term rule-classes instructions wrld state)
  (declare (ignore term wrld))
  (cond
   ((and (not (f-get-global &#39;in-verify-flg state)) (ld-skip-proofsp state))
...">proof-builder</a>
        nil
        state
        nil
        (<a class="sym-link local-def" href="#def-fms0" data-sym="FMS0" title="(defmacro fms0 (str &amp;optional alist col (evisc-tuple &#39;nil evisc-tuple-p))
  `(mv-let (new-col state)
           (fmt1 ,str ,alist ,(or col 0) (proofs-co state) state
                 ,(if evisc-tuple-p
                      evisc-tuple
...">fms0</a> <span class="string">"~|~%Entering the proof-builder....~%~%"</span>))
      (<a class="sym-link system" href="axioms.html#def-er-progn" data-sym="ER-PROGN">er-progn</a> (<a class="sym-link local-def" href="#def-pc-top" data-sym="PC-TOP" title="(defun pc-top
       (raw-term event-name rule-classes instr-list quit-conditions
        in-verify-flg state)
  (declare (xargs :guard (symbolp event-name)))
  (mv-let (erp term state) (translate raw-term t t t &#39;pc-top (w state) state)
...">pc-top</a> raw-term
          event-name
          rule-classes
          instructions
          quit-conditions
          nil
          state)
        (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (<a class="sym-link local-def" href="#def-state-stack" data-sym="STATE-STACK" title="(defmacro state-stack () &#39;(pc-value state-stack))">state-stack</a>))))
    (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (<a class="sym-link local-def" href="#def-state-stack" data-sym="STATE-STACK" title="(defmacro state-stack () &#39;(pc-value state-stack))">state-stack</a>))))</pre>
  </div>

<div class="form-block function" id="def-state-from-instructions" data-defines="STATE-FROM-INSTRUCTIONS" data-references="IGNORE,DECLARE,PC-TOP,VAL,ERP,MV-LET,STATE,QUIT-CONDITIONS,INSTRUCTIONS,RULE-CLASSES,EVENT-NAME,RAW-TERM,DEFUN" data-part-name="STATE-FROM-INSTRUCTIONS" data-part-args="STATE,QUIT-CONDITIONS,INSTRUCTIONS,RULE-CLASSES,EVENT-NAME,RAW-TERM" data-part-body="IGNORE,DECLARE,QUIT-CONDITIONS,INSTRUCTIONS,RULE-CLASSES,EVENT-NAME,RAW-TERM,PC-TOP,STATE,VAL,ERP,MV-LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="STATE-FROM-INSTRUCTIONS">state-from-instructions</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-state-from-instructions" data-sym="STATE-FROM-INSTRUCTIONS" title="(defun state-from-instructions
       (raw-term event-name rule-classes instructions quit-conditions state)
  (mv-let (erp val state)
          (pc-top raw-term event-name rule-classes instructions quit-conditions
                  nil state)">state-from-instructions</a>
  (raw-term event-name
    rule-classes
    instructions
    quit-conditions
    state)
  (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (erp val state)
    (<a class="sym-link local-def" href="#def-pc-top" data-sym="PC-TOP" title="(defun pc-top
       (raw-term event-name rule-classes instr-list quit-conditions
        in-verify-flg state)
  (declare (xargs :guard (symbolp event-name)))
  (mv-let (erp term state) (translate raw-term t t t &#39;pc-top (w state) state)
...">pc-top</a> raw-term
      event-name
      rule-classes
      instructions
      quit-conditions
      nil
      state)
    (declare (ignore erp val))
    state))</pre>
  </div>

<div class="form-block function" id="def-print-pc-defthm" data-defines="PRINT-PC-DEFTHM" data-references="LD-EVISC-TUPLE,CONS,LIST,FMS0,PROOF-BUILDER,IO?,STATE,EV,DEFUN" data-part-name="PRINT-PC-DEFTHM" data-part-args="STATE,EV" data-part-body="LD-EVISC-TUPLE,CONS,LIST,FMS0,EV,STATE,PROOF-BUILDER,IO?" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="PRINT-PC-DEFTHM">print-pc-defthm</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-print-pc-defthm" data-sym="PRINT-PC-DEFTHM" title="(defun print-pc-defthm (ev state)
  (io? proof-builder nil state (ev)
       (fms0 &quot;~|~Y01&quot; (list (cons #\0 ev) (cons #\1 (ld-evisc-tuple state))))))">print-pc-defthm</a>
  (ev state)
  (<a class="sym-link system" href="basis-a.html#def-io_3F" data-sym="IO?">io?</a> <a class="sym-link local-def" href="#def-proof-builder" data-sym="PROOF-BUILDER" title="(defun proof-builder
       (event-name raw-term term rule-classes instructions wrld state)
  (declare (ignore term wrld))
  (cond
   ((and (not (f-get-global &#39;in-verify-flg state)) (ld-skip-proofsp state))
...">proof-builder</a>
    nil
    state
    (ev)
    (<a class="sym-link local-def" href="#def-fms0" data-sym="FMS0" title="(defmacro fms0 (str &amp;optional alist col (evisc-tuple &#39;nil evisc-tuple-p))
  `(mv-let (new-col state)
           (fmt1 ,str ,alist ,(or col 0) (proofs-co state) state
                 ,(if evisc-tuple-p
                      evisc-tuple
...">fms0</a> <span class="string">"~|~Y01"</span>
      (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (cons #\0 ev) (cons #\1 (<a class="sym-link system" href="basis-a.html#def-ld-evisc-tuple" data-sym="LD-EVISC-TUPLE">ld-evisc-tuple</a> state))))))</pre>
  </div>

<div class="form-block macro" id="def-print-pc-goal" data-defines="PRINT-PC-GOAL" data-references="UNTRANSLATE-LST,AND,QUOTE,CAR,CDR,NULL,COND,HYPS,W,T,ACCESS,UNTRANSLATE,CONS,LIST,FMS0,IF,STATE,PROOF-BUILDER,IO?,LET,QUASIQUOTE,GOAL,&OPTIONAL,DEFMACRO" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="PRINT-PC-GOAL">print-pc-goal</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-print-pc-goal" data-sym="PRINT-PC-GOAL" title="(defmacro print-pc-goal (&amp;optional goal)
  `(let ((goal ,(or goal &#39;(car (access pc-state (car (state-stack)) :goals)))))
     (io? proof-builder nil state (goal)
          (if goal
              (fms0 &quot;~%-------  ~x3  -------~|~
...">print-pc-goal</a>
  (&amp;optional goal)
  `(let ((goal ,(OR GOAL &#39;(CAR (ACCESS PC-STATE (CAR (STATE-STACK)) :GOALS)))))
    (<a class="sym-link system" href="basis-a.html#def-io_3F" data-sym="IO?">io?</a> <a class="sym-link local-def" href="#def-proof-builder" data-sym="PROOF-BUILDER" title="(defun proof-builder
       (event-name raw-term term rule-classes instructions wrld state)
  (declare (ignore term wrld))
  (cond
   ((and (not (f-get-global &#39;in-verify-flg state)) (ld-skip-proofsp state))
...">proof-builder</a>
      nil
      state
      (goal)
      (if goal
        (<a class="sym-link local-def" href="#def-fms0" data-sym="FMS0" title="(defmacro fms0 (str &amp;optional alist col (evisc-tuple &#39;nil evisc-tuple-p))
  `(mv-let (new-col state)
           (fmt1 ,str ,alist ,(or col 0) (proofs-co state) state
                 ,(if evisc-tuple-p
                      evisc-tuple
...">fms0</a> <span class="string">"~%-------  ~x3  -------~|~
                Conc:  ~q0~|~
                Hyps:  ~q1~|~
                Addr:  ~Y2n~|~
                Deps:  ~Y4n~|"</span>
          (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (cons #\0
              (untranslate (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> goal goal <span class="keyword">:conc</span>) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a> state)))
            (cons #\1
              (let ((<a class="sym-link local-def" href="#def-hyps" data-sym="HYPS" title="(defmacro hyps (&amp;optional ss-supplied-p)
  `(access goal (car (goals ,ss-supplied-p)) :hyps))">hyps</a> (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> goal goal <span class="keyword">:hyps</span>)))
                (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> <a class="sym-link local-def" href="#def-hyps" data-sym="HYPS" title="(defmacro hyps (&amp;optional ss-supplied-p)
  `(access goal (car (goals ,ss-supplied-p)) :hyps))">hyps</a>) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)
                  ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> (cdr <a class="sym-link local-def" href="#def-hyps" data-sym="HYPS" title="(defmacro hyps (&amp;optional ss-supplied-p)
  `(access goal (car (goals ,ss-supplied-p)) :hyps))">hyps</a>)) (untranslate (car <a class="sym-link local-def" href="#def-hyps" data-sym="HYPS" title="(defmacro hyps (&amp;optional ss-supplied-p)
  `(access goal (car (goals ,ss-supplied-p)) :hyps))">hyps</a>) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a> state)))
                  (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (cons '<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (untranslate-lst <a class="sym-link local-def" href="#def-hyps" data-sym="HYPS" title="(defmacro hyps (&amp;optional ss-supplied-p)
  `(access goal (car (goals ,ss-supplied-p)) :hyps))">hyps</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a> state)))))))
            (cons #\2 (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> goal goal <span class="keyword">:current-addr</span>))
            (cons #\3 (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> goal goal <span class="keyword">:goal-name</span>))
            (cons #\4 (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> goal goal <span class="keyword">:depends-on</span>))
            (cons #\n nil)))
        (<a class="sym-link local-def" href="#def-fms0" data-sym="FMS0" title="(defmacro fms0 (str &amp;optional alist col (evisc-tuple &#39;nil evisc-tuple-p))
  `(mv-let (new-col state)
           (fmt1 ,str ,alist ,(or col 0) (proofs-co state) state
                 ,(if evisc-tuple-p
                      evisc-tuple
...">fms0</a> <span class="string">"~%No goal in CAR of state-stack.~|"</span>)))))</pre>
  </div>

<div class="form-block macro" id="def-print-pc-state" data-defines="PRINT-PC-STATE" data-references="ACCESS,CONS,LIST,FMS0,IF,STATE,PROOF-BUILDER,IO?,LET,QUASIQUOTE,PC-STATE,&OPTIONAL,DEFMACRO" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="PRINT-PC-STATE">print-pc-state</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-print-pc-state" data-sym="PRINT-PC-STATE" title="(defmacro print-pc-state (&amp;optional pc-state)
  `(let ((pc-state ,(or pc-state &#39;(car (state-stack)))))
     (io? proof-builder nil state (pc-state)
          (if pc-state
              (fms0 &quot;~%Instr:       ~y0~|~
...">print-pc-state</a>
  (&amp;optional pc-state)
  `(let ((pc-state ,(OR PC-STATE &#39;(CAR (STATE-STACK)))))
    (<a class="sym-link system" href="basis-a.html#def-io_3F" data-sym="IO?">io?</a> <a class="sym-link local-def" href="#def-proof-builder" data-sym="PROOF-BUILDER" title="(defun proof-builder
       (event-name raw-term term rule-classes instructions wrld state)
  (declare (ignore term wrld))
  (cond
   ((and (not (f-get-global &#39;in-verify-flg state)) (ld-skip-proofsp state))
...">proof-builder</a>
      nil
      state
      (pc-state)
      (if pc-state
        (<a class="sym-link local-def" href="#def-fms0" data-sym="FMS0" title="(defmacro fms0 (str &amp;optional alist col (evisc-tuple &#39;nil evisc-tuple-p))
  `(mv-let (new-col state)
           (fmt1 ,str ,alist ,(or col 0) (proofs-co state) state
                 ,(if evisc-tuple-p
                      evisc-tuple
...">fms0</a> <span class="string">"~%Instr:       ~y0~|~
                Goals:       ~y1~|~
                Abbrs:       ~y2~|~
                Local ttree: ~y3~|~
                Ttree:       ~y4~|"</span>
          (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (cons #\0 (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> pc-state pc-state <span class="keyword">:instruction</span>))
            (cons #\1 (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> pc-state pc-state <span class="keyword">:goals</span>))
            (cons #\2 (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> pc-state pc-state <span class="keyword">:abbreviations</span>))
            (cons #\3 (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> pc-state pc-state <span class="keyword">:local-tag-tree</span>))
            (cons #\4 (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> pc-state pc-state <span class="keyword">:tag-tree</span>))))
        (<a class="sym-link local-def" href="#def-fms0" data-sym="FMS0" title="(defmacro fms0 (str &amp;optional alist col (evisc-tuple &#39;nil evisc-tuple-p))
  `(mv-let (new-col state)
           (fmt1 ,str ,alist ,(or col 0) (proofs-co state) state
                 ,(if evisc-tuple-p
                      evisc-tuple
...">fms0</a> <span class="string">"~%No state in CAR of state-stack.~|"</span>)))))</pre>
  </div>

<div class="form-block function" id="def-proof-builder" data-defines="PROOF-BUILDER" data-references="PRINT-UNPROVED-GOALS-MESSAGE,NULL,CAR,PC-STATE,ACCESS,GOALS,LET,SILENT-ERROR,*PC-COMPLETE-SIGNAL*,MV,FMS0,IO?,PPROGN,IF,SIGNAL,STATE-STACK-FROM-INSTRUCTIONS,STATE-STACK,ERP,MV-LET,T,VALUE,LD-SKIP-PROOFSP,IN-VERIFY-FLG,QUOTE,F-GET-GLOBAL,NOT,AND,COND,IGNORE,DECLARE,STATE,WRLD,INSTRUCTIONS,RULE-CLASSES,TERM,RAW-TERM,EVENT-NAME,DEFUN" data-used-by="VERIFY,PRINT-PC-STATE,PRINT-PC-GOAL,PRINT-PC-DEFTHM,STATE-STACK-FROM-INSTRUCTIONS,PRINT-UNPROVED-GOALS-MESSAGE,VERIFY-FN,PC-MAIN-LOOP,PRINT-RE-ENTERING-PROOF-BUILDER,PC-SINGLE-STEP-1,MAYBE-PRINT-MACROEXPANSION,PC-SINGLE-STEP-PRIMITIVE,PRINT-ALL-GOALS-PROVED-MESSAGE,PRINT-PC-PROMPT,PRINT-NO-CHANGE-FN" data-part-name="PROOF-BUILDER" data-part-args="STATE,WRLD,INSTRUCTIONS,RULE-CLASSES,TERM,RAW-TERM,EVENT-NAME" data-part-declare="WRLD,TERM,IGNORE,DECLARE" data-part-body="PRINT-UNPROVED-GOALS-MESSAGE,NULL,CAR,PC-STATE,ACCESS,GOALS,LET,SILENT-ERROR,*PC-COMPLETE-SIGNAL*,MV,FMS0,PROOF-BUILDER,IO?,PPROGN,IF,SIGNAL,INSTRUCTIONS,RULE-CLASSES,EVENT-NAME,RAW-TERM,STATE-STACK-FROM-INSTRUCTIONS,STATE-STACK,ERP,MV-LET,T,VALUE,LD-SKIP-PROOFSP,STATE,IN-VERIFY-FLG,QUOTE,F-GET-GLOBAL,NOT,AND,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="PROOF-BUILDER">proof-builder</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-proof-builder" data-sym="PROOF-BUILDER" title="(defun proof-builder
       (event-name raw-term term rule-classes instructions wrld state)
  (declare (ignore term wrld))
  (cond
   ((and (not (f-get-global &#39;in-verify-flg state)) (ld-skip-proofsp state))
...">proof-builder</a>
  (event-name raw-term
    term
    rule-classes
    instructions
    wrld
    state)
  (declare (ignore term wrld))
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-f-get-global" data-sym="F-GET-GLOBAL">f-get-global</a> 'in-verify-flg state))
       (<a class="sym-link system" href="axioms.html#def-ld-skip-proofsp" data-sym="LD-SKIP-PROOFSP">ld-skip-proofsp</a> state)) (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> nil))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (erp <a class="sym-link local-def" href="#def-state-stack" data-sym="STATE-STACK" title="(defmacro state-stack () &#39;(pc-value state-stack))">state-stack</a> state)
        (<a class="sym-link local-def" href="#def-state-stack-from-instructions" data-sym="STATE-STACK-FROM-INSTRUCTIONS" title="(defun state-stack-from-instructions
       (raw-term event-name rule-classes instructions replay-flg
        quit-conditions state)
  (if replay-flg
      (pprogn
...">state-stack-from-instructions</a> raw-term
          event-name
          rule-classes
          instructions
          (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-f-get-global" data-sym="F-GET-GLOBAL">f-get-global</a> 'in-verify-flg state))
          '(signal <a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a>)
          state)
        (if erp
          (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link system" href="basis-a.html#def-io_3F" data-sym="IO?">io?</a> <a class="sym-link local-def" href="#def-proof-builder" data-sym="PROOF-BUILDER" title="(defun proof-builder
       (event-name raw-term term rule-classes instructions wrld state)
  (declare (ignore term wrld))
  (cond
   ((and (not (f-get-global &#39;in-verify-flg state)) (ld-skip-proofsp state))
...">proof-builder</a>
              nil
              state
              nil
              (<a class="sym-link local-def" href="#def-fms0" data-sym="FMS0" title="(defmacro fms0 (str &amp;optional alist col (evisc-tuple &#39;nil evisc-tuple-p))
  `(mv-let (new-col state)
           (fmt1 ,str ,alist ,(or col 0) (proofs-co state) state
                 ,(if evisc-tuple-p
                      evisc-tuple
...">fms0</a> <span class="string">"~%~%Replay of proof-builder instructions ~
                             aborted.~%"</span>))
            (if (<a class="sym-link system" href="axioms.html#def-f-get-global" data-sym="F-GET-GLOBAL">f-get-global</a> 'in-verify-flg state)
              (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> <a class="sym-link local-def" href="#def-_2Apc-complete-signal_2A" data-sym="*PC-COMPLETE-SIGNAL*" title="(defconst *pc-complete-signal* &#39;acl2-pc-complete)">*pc-complete-signal*</a> nil state)
              (silent-error state)))
          (let ((<a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a> (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> pc-state (car <a class="sym-link local-def" href="#def-state-stack" data-sym="STATE-STACK" title="(defmacro state-stack () &#39;(pc-value state-stack))">state-stack</a>) <span class="keyword">:goals</span>)))
            (if (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> <a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a>)
              (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> (<a class="sym-link system" href="axioms.html#def-access" data-sym="ACCESS">access</a> pc-state (car <a class="sym-link local-def" href="#def-state-stack" data-sym="STATE-STACK" title="(defmacro state-stack () &#39;(pc-value state-stack))">state-stack</a>) <span class="keyword">:tag-tree</span>))
              (<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link local-def" href="#def-print-unproved-goals-message" data-sym="PRINT-UNPROVED-GOALS-MESSAGE" title="(defun print-unproved-goals-message (goals state)
  (io? proof-builder nil state (goals)
       (fms0 &quot;~%There ~#0~[is~/are~] ~x1 unproved goal~#0~[~/s~] from replay ~
              of instructions.  To enter the proof-builder state that exists ~
              at this point, type (VERIFY).~%&quot;">print-unproved-goals-message</a> <a class="sym-link local-def" href="#def-goals" data-sym="GOALS" title="(defmacro goals (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">goals</a> state)
                (if (<a class="sym-link system" href="axioms.html#def-f-get-global" data-sym="F-GET-GLOBAL">f-get-global</a> 'in-verify-flg state)
                  (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> <a class="sym-link local-def" href="#def-_2Apc-complete-signal_2A" data-sym="*PC-COMPLETE-SIGNAL*" title="(defconst *pc-complete-signal* &#39;acl2-pc-complete)">*pc-complete-signal*</a> nil state)
                  (silent-error state))))))))))</pre>
  </div>

<div class="form-block macro" id="def-verify" data-defines="VERIFY" data-references="VERIFY-FN,QUASIQUOTE,VALUE,FMS0,STATE,PROOF-BUILDER,IO?,PPROGN,EQ,AND,IF,SYMBOLP,XARGS,DECLARE,INSTRUCTIONS,RULE-CLASSES,EVENT-NAME,&KEY,RAW-TERM-SUPPLIED-P,QUOTE,RAW-TERM,&OPTIONAL,DEFMACRO" data-used-by="VERIFY-FN,PC-SINGLE-STEP-1" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="VERIFY">verify</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-verify" data-sym="VERIFY" title="(defmacro verify
          (
           &amp;optional (raw-term &#39;nil raw-term-supplied-p)
           &amp;key event-name (rule-classes &#39;(:rewrite)) instructions)
  (declare (xargs :guard (symbolp event-name)))
...">verify</a>
  (&amp;optional (raw-term 'nil raw-term-supplied-p)
    &amp;key
    event-name
    (rule-classes '(<span class="keyword">:rewrite</span>))
    instructions)
  (declare (xargs <span class="keyword">:guard</span> (symbolp event-name)))
  (if (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> raw-term-supplied-p (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> raw-term nil))
    '(<a class="sym-link system" href="axioms.html#def-pprogn" data-sym="PPROGN">pprogn</a> (<a class="sym-link system" href="basis-a.html#def-io_3F" data-sym="IO?">io?</a> <a class="sym-link local-def" href="#def-proof-builder" data-sym="PROOF-BUILDER" title="(defun proof-builder
       (event-name raw-term term rule-classes instructions wrld state)
  (declare (ignore term wrld))
  (cond
   ((and (not (f-get-global &#39;in-verify-flg state)) (ld-skip-proofsp state))
...">proof-builder</a>
        nil
        state
        nil
        (<a class="sym-link local-def" href="#def-fms0" data-sym="FMS0" title="(defmacro fms0 (str &amp;optional alist col (evisc-tuple &#39;nil evisc-tuple-p))
  `(mv-let (new-col state)
           (fmt1 ,str ,alist ,(or col 0) (proofs-co state) state
                 ,(if evisc-tuple-p
                      evisc-tuple
...">fms0</a> <span class="string">"It is not permitted to enter the interactive proof-builder ~
                    with a goal of NIL!  If you really MEANT to do such a ~
                    thing, (VERIFY &#39;NIL).~%"</span>))
      (<a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> <span class="keyword">:invisible</span>))
    `(<a class="sym-link local-def" href="#def-verify-fn" data-sym="VERIFY-FN" title="(defun verify-fn
       (raw-term raw-term-supplied-p event-name rule-classes instructions
        state)
  (cond
   ((f-get-global &#39;in-verify-flg state)
...">verify-fn</a> ',RAW-TERM
      ',RAW-TERM-SUPPLIED-P
      ',EVENT-NAME
      ',RULE-CLASSES
      ',INSTRUCTIONS
      state)))</pre>
  </div>

<div class="form-block other" id="form-103" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(set-guard-msg <a class="sym-link local-def" href="#def-verify" data-sym="VERIFY" title="(defmacro verify
          (
           &amp;optional (raw-term &#39;nil raw-term-supplied-p)
           &amp;key event-name (rule-classes &#39;(:rewrite)) instructions)
  (declare (xargs :guard (symbolp event-name)))
...">verify</a>
  (let ((name (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> (<a class="sym-link system" href="axioms.html#def-assoc-keyword" data-sym="ASSOC-KEYWORD">assoc-keyword</a> <span class="keyword">:event-name</span> (cdr <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>)))))
    (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"The :event-name argument for VERIFY must be a symbol, ~
                       unlike ~x0.~@1"</span>
      name
      (if (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (consp name)
          (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (car name) 'quote)
          (cdr name)
          (symbolp (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> name))
          (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> (<a class="sym-link system" href="axioms.html#def-cddr" data-sym="CDDR">cddr</a> name)))
        (<a class="sym-link system" href="axioms.html#def-msg" data-sym="MSG">msg</a> <span class="string">"  Perhaps you intended the :EVENT-NAME to be ~
                                ~x0 instead of ~x1."</span>
          (<a class="sym-link system" href="axioms.html#def-cadr" data-sym="CADR">cadr</a> name)
          name)
        <span class="string">""</span>))))</pre>
  </div>

<div class="form-block mutual-recursion" id="def-sublis-expr-non-quoteps" data-defines="SUBLIS-EXPR-NON-QUOTEPS" data-references="CAR,NULL,LST,FFN-SYMB,CONS,QUOTE-LISTP,IF,FARGS,SUBLIS-EXPR-NON-QUOTEPS-LST,NEW-ARGS,T,FQUOTEP,VARIABLEP,CDR,COND,ASSOC-EQUAL,TEMP,LET,TERM,ALIST,DEFUN,MUTUAL-RECURSION" data-used-by="ABBREVIATE" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="SUBLIS-EXPR-NON-QUOTEPS">sublis-expr-non-quoteps</span><span class="form-type">mutual-recursion</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-mutual-recursion" data-sym="MUTUAL-RECURSION">mutual-recursion</a> (<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-sublis-expr-non-quoteps" data-sym="SUBLIS-EXPR-NON-QUOTEPS" title="(mutual-recursion
 (defun sublis-expr-non-quoteps (alist term)
   (let ((temp (assoc-equal term alist)))
     (cond (temp (cdr temp)) ((variablep term) term) ((fquotep term) term)
           (t
...">sublis-expr-non-quoteps</a>
    (alist term)
    (let ((temp (<a class="sym-link system" href="axioms.html#def-assoc-equal" data-sym="ASSOC-EQUAL">assoc-equal</a> term alist)))
      (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (temp (cdr temp))
        ((<a class="sym-link system" href="axioms.html#def-variablep" data-sym="VARIABLEP">variablep</a> term) term)
        ((<a class="sym-link system" href="axioms.html#def-fquotep" data-sym="FQUOTEP">fquotep</a> term) term)
        (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (let ((new-args (sublis-expr-non-quoteps-lst alist (<a class="sym-link system" href="axioms.html#def-fargs" data-sym="FARGS">fargs</a> term))))
            (if (<a class="sym-link system" href="basis-b.html#def-quote-listp" data-sym="QUOTE-LISTP">quote-listp</a> new-args)
              term
              (cons (<a class="sym-link system" href="axioms.html#def-ffn-symb" data-sym="FFN-SYMB">ffn-symb</a> term) new-args)))))))
  (<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> sublis-expr-non-quoteps-lst
    (alist lst)
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> lst) nil)
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (cons (<a class="sym-link local-def" href="#def-sublis-expr-non-quoteps" data-sym="SUBLIS-EXPR-NON-QUOTEPS" title="(mutual-recursion
 (defun sublis-expr-non-quoteps (alist term)
   (let ((temp (assoc-equal term alist)))
     (cond (temp (cdr temp)) ((variablep term) term) ((fquotep term) term)
           (t
...">sublis-expr-non-quoteps</a> alist (car lst))
          (sublis-expr-non-quoteps-lst alist (cdr lst)))))))</pre>
  </div>

<div class="form-block function" id="def-invert-abbreviations-alist" data-defines="INVERT-ABBREVIATIONS-ALIST" data-references="?,QUOTE,LIST,CAR,CDR,CONS,NULL,IF,ALISTP,XARGS,DECLARE,ALIST,DEFUN" data-used-by="ABBREVIATE" data-part-name="INVERT-ABBREVIATIONS-ALIST" data-part-args="ALIST" data-part-declare="ALIST,ALISTP,XARGS,DECLARE" data-part-body="INVERT-ABBREVIATIONS-ALIST,?,QUOTE,LIST,CAR,CDR,CONS,ALIST,NULL,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="INVERT-ABBREVIATIONS-ALIST">invert-abbreviations-alist</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-invert-abbreviations-alist" data-sym="INVERT-ABBREVIATIONS-ALIST" title="(defun invert-abbreviations-alist (alist)
  (declare (xargs :guard (alistp alist)))
  (if (null alist)
      nil
      (cons (cons (cdr (car alist)) (list &#39;? (car (car alist))))">invert-abbreviations-alist</a>
  (alist)
  (declare (xargs <span class="keyword">:guard</span> (<a class="sym-link system" href="axioms.html#def-alistp" data-sym="ALISTP">alistp</a> alist)))
  (if (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> alist)
    nil
    (cons (cons (cdr (car alist)) (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> '? (car (car alist))))
      (<a class="sym-link local-def" href="#def-invert-abbreviations-alist" data-sym="INVERT-ABBREVIATIONS-ALIST" title="(defun invert-abbreviations-alist (alist)
  (declare (xargs :guard (alistp alist)))
  (if (null alist)
      nil
      (cons (cons (cdr (car alist)) (list &#39;? (car (car alist))))">invert-abbreviations-alist</a> (cdr alist)))))</pre>
  </div>

<div class="form-block function" id="def-abbreviate" data-defines="ABBREVIATE" data-references="INVERT-ABBREVIATIONS-ALIST,SUBLIS-EXPR-NON-QUOTEPS,NULL,IF,ABBREVIATIONS,TERM,DEFUN" data-used-by="UNTRANS0" data-part-name="ABBREVIATE" data-part-args="ABBREVIATIONS,TERM" data-part-body="INVERT-ABBREVIATIONS-ALIST,SUBLIS-EXPR-NON-QUOTEPS,TERM,ABBREVIATIONS,NULL,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="ABBREVIATE">abbreviate</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-abbreviate" data-sym="ABBREVIATE" title="(defun abbreviate (term abbreviations)
  (if (null abbreviations)
      term
      (sublis-expr-non-quoteps (invert-abbreviations-alist abbreviations)
                               term)))">abbreviate</a>
  (term <a class="sym-link local-def" href="#def-abbreviations" data-sym="ABBREVIATIONS" title="(defmacro abbreviations (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">abbreviations</a>)
  (if (<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> <a class="sym-link local-def" href="#def-abbreviations" data-sym="ABBREVIATIONS" title="(defmacro abbreviations (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">abbreviations</a>)
    term
    (<a class="sym-link local-def" href="#def-sublis-expr-non-quoteps" data-sym="SUBLIS-EXPR-NON-QUOTEPS" title="(mutual-recursion
 (defun sublis-expr-non-quoteps (alist term)
   (let ((temp (assoc-equal term alist)))
     (cond (temp (cdr temp)) ((variablep term) term) ((fquotep term) term)
           (t
...">sublis-expr-non-quoteps</a> (<a class="sym-link local-def" href="#def-invert-abbreviations-alist" data-sym="INVERT-ABBREVIATIONS-ALIST" title="(defun invert-abbreviations-alist (alist)
  (declare (xargs :guard (alistp alist)))
  (if (null alist)
      nil
      (cons (cons (cdr (car alist)) (list &#39;? (car (car alist))))">invert-abbreviations-alist</a> <a class="sym-link local-def" href="#def-abbreviations" data-sym="ABBREVIATIONS" title="(defmacro abbreviations (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">abbreviations</a>)
      term)))</pre>
  </div>

<div class="form-block macro" id="def-untrans0" data-defines="UNTRANS0" data-references="STATE,W,ABBREVIATE,UNTRANSLATE,QUASIQUOTE,ABBREVIATIONS,IFF-FLG,&OPTIONAL,TERM,DEFMACRO" data-used-by="UNTRANS0-LST-FN" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="UNTRANS0">untrans0</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-untrans0" data-sym="UNTRANS0" title="(defmacro untrans0 (term &amp;optional iff-flg abbreviations)
  `(untranslate (abbreviate ,term ,abbreviations) ,iff-flg (w state)))">untrans0</a>
  (term &amp;optional iff-flg <a class="sym-link local-def" href="#def-abbreviations" data-sym="ABBREVIATIONS" title="(defmacro abbreviations (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">abbreviations</a>)
  `(untranslate (<a class="sym-link local-def" href="#def-abbreviate" data-sym="ABBREVIATE" title="(defun abbreviate (term abbreviations)
  (if (null abbreviations)
      term
      (sublis-expr-non-quoteps (invert-abbreviations-alist abbreviations)
                               term)))">abbreviate</a> ,TERM ,ABBREVIATIONS)
    ,IFF-FLG
    (<a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a> state)))</pre>
  </div>

<div class="form-block function" id="def-untrans0-lst-fn" data-defines="UNTRANS0-LST-FN" data-references="CDR,CAR,UNTRANS0,CONS,CONSP,IF,STATE,ABBREVIATIONS,IFF-FLG,TERMLIST,DEFUN" data-used-by="UNTRANS0-LST" data-part-name="UNTRANS0-LST-FN" data-part-args="STATE,ABBREVIATIONS,IFF-FLG,TERMLIST" data-part-body="STATE,CDR,UNTRANS0-LST-FN,ABBREVIATIONS,IFF-FLG,CAR,UNTRANS0,CONS,TERMLIST,CONSP,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="UNTRANS0-LST-FN">untrans0-lst-fn</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-untrans0-lst-fn" data-sym="UNTRANS0-LST-FN" title="(defun untrans0-lst-fn (termlist iff-flg abbreviations state)
  (if (consp termlist)
      (cons (untrans0 (car termlist) iff-flg abbreviations)
            (untrans0-lst-fn (cdr termlist) iff-flg abbreviations state))
      nil))">untrans0-lst-fn</a>
  (termlist iff-flg <a class="sym-link local-def" href="#def-abbreviations" data-sym="ABBREVIATIONS" title="(defmacro abbreviations (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">abbreviations</a> state)
  (if (consp termlist)
    (cons (<a class="sym-link local-def" href="#def-untrans0" data-sym="UNTRANS0" title="(defmacro untrans0 (term &amp;optional iff-flg abbreviations)
  `(untranslate (abbreviate ,term ,abbreviations) ,iff-flg (w state)))">untrans0</a> (car termlist) iff-flg <a class="sym-link local-def" href="#def-abbreviations" data-sym="ABBREVIATIONS" title="(defmacro abbreviations (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">abbreviations</a>)
      (<a class="sym-link local-def" href="#def-untrans0-lst-fn" data-sym="UNTRANS0-LST-FN" title="(defun untrans0-lst-fn (termlist iff-flg abbreviations state)
  (if (consp termlist)
      (cons (untrans0 (car termlist) iff-flg abbreviations)
            (untrans0-lst-fn (cdr termlist) iff-flg abbreviations state))
      nil))">untrans0-lst-fn</a> (cdr termlist) iff-flg <a class="sym-link local-def" href="#def-abbreviations" data-sym="ABBREVIATIONS" title="(defmacro abbreviations (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">abbreviations</a> state))
    nil))</pre>
  </div>

<div class="form-block macro" id="def-untrans0-lst" data-defines="UNTRANS0-LST" data-references="STATE,UNTRANS0-LST-FN,QUASIQUOTE,ABBREVIATIONS,IFF-FLG,&OPTIONAL,TERMLIST,DEFMACRO" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="UNTRANS0-LST">untrans0-lst</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-untrans0-lst" data-sym="UNTRANS0-LST" title="(defmacro untrans0-lst (termlist &amp;optional iff-flg abbreviations)
  `(untrans0-lst-fn ,termlist ,iff-flg ,abbreviations state))">untrans0-lst</a>
  (termlist &amp;optional iff-flg <a class="sym-link local-def" href="#def-abbreviations" data-sym="ABBREVIATIONS" title="(defmacro abbreviations (&amp;optional state-stack-supplied-p)
  `(access pc-state
           (car
            ,(if state-stack-supplied-p
                 &#39;state-stack
...">abbreviations</a>)
  `(<a class="sym-link local-def" href="#def-untrans0-lst-fn" data-sym="UNTRANS0-LST-FN" title="(defun untrans0-lst-fn (termlist iff-flg abbreviations state)
  (if (consp termlist)
      (cons (untrans0 (car termlist) iff-flg abbreviations)
            (untrans0-lst-fn (cdr termlist) iff-flg abbreviations state))
      nil))">untrans0-lst-fn</a> ,TERMLIST ,IFF-FLG ,ABBREVIATIONS state))</pre>
  </div>


  </main>
  
<script>
// ACL2 Book HTML Documentation - Interactive Features
// Generated by cert2 - build2 system

// State
let activeFilter = null;
let activePartFilter = null;
let activeNameFilter = null;
let currentFontSize = 14;

// Theme management
function getStoredTheme() {
  return localStorage.getItem('acl2-theme') || 'dark';
}

function setTheme(theme) {
  if (theme === 'light') {
    document.documentElement.setAttribute('data-theme', 'light');
    document.getElementById('theme-toggle').textContent = '🌙';
  } else {
    document.documentElement.removeAttribute('data-theme');
    document.getElementById('theme-toggle').textContent = '☀️';
  }
  localStorage.setItem('acl2-theme', theme);
}

function toggleTheme() {
  const current = getStoredTheme();
  setTheme(current === 'dark' ? 'light' : 'dark');
}

// Font size management
function getStoredFontSize() {
  return parseInt(localStorage.getItem('acl2-fontsize') || '14', 10);
}

function setFontSize(size) {
  size = Math.max(10, Math.min(24, size)); // Clamp between 10-24
  currentFontSize = size;
  document.body.style.fontSize = size + 'px';
  localStorage.setItem('acl2-fontsize', size.toString());
}

function increaseFontSize() {
  setFontSize(currentFontSize + 2);
}

function decreaseFontSize() {
  setFontSize(currentFontSize - 2);
}

// Get all form blocks
function getFormBlocks() {
  return document.querySelectorAll('.form-block');
}

// Clear all filters
function clearFilter() {
  activeFilter = null;
  activePartFilter = null;
  activeNameFilter = null;
  getFormBlocks().forEach(b => {
    b.classList.remove('hidden', 'dimmed');
  });
  document.querySelectorAll('.part-btn').forEach(b => b.classList.remove('active'));
  const status = document.querySelector('.filter-status');
  status.classList.remove('active');
  // Slide name filter back to original position
  document.querySelector('.controls-left').style.transform = '';
  // Clear the name filter input
  const nameInput = document.getElementById('name-filter');
  if (nameInput) nameInput.value = '';
}

// Show filter status and slide name filter right
function showFilterStatus(text) {
  const status = document.querySelector('.filter-status');
  status.classList.add('active');
  status.querySelector('.filter-text').textContent = text;
  // Slide name filter to the right to make room
  setTimeout(() => {
    const statusWidth = status.offsetWidth;
    document.querySelector('.controls-left').style.transform = `translateX(${statusWidth + 15}px)`;
  }, 10);
}

// Filter to show only forms that define or reference a symbol
function filterBySymbol(symName, showUsedBy) {
  clearFilter();
  activeFilter = symName;
  
  const blocks = getFormBlocks();
  let visibleCount = 0;
  
  blocks.forEach(block => {
    const definesName = block.dataset.defines;
    const references = (block.dataset.references || '').split(',');
    const usedBy = (block.dataset.usedBy || '').split(',');
    
    let show = false;
    if (showUsedBy) {
      // Show forms that USE this symbol
      show = references.includes(symName) || definesName === symName;
    } else {
      // Show forms that this symbol USES
      show = usedBy.includes(symName) || definesName === symName;
    }
    
    if (show) {
      block.classList.remove('hidden');
      visibleCount++;
    } else {
      block.classList.add('hidden');
    }
  });
  
  // Update status
  showFilterStatus(`Filtering by: ${symName} (${visibleCount} items)`);
}

// Filter by defthm part (term, hints, rule-classes, etc.)
function filterByPart(formId, partName) {
  clearFilter();
  activePartFilter = { formId, partName };
  
  // Get the part's referenced symbols
  // data-part-term becomes dataset.partTerm, data-part-hints becomes dataset.partHints, etc.
  const block = document.getElementById(formId);
  const datasetKey = 'part' + partName.charAt(0).toUpperCase() + partName.slice(1).replace(/-([a-z])/g, (g) => g[1].toUpperCase());
  const partData = block.dataset[datasetKey];
  if (!partData) return;
  
  const partSyms = partData.split(',').filter(s => s);
  
  // Highlight the button
  block.querySelector(`.part-btn[data-part="${partName}"]`).classList.add('active');
  
  // Hide forms not referenced by this part
  getFormBlocks().forEach(b => {
    const definesName = b.dataset.defines;
    if (b.id === formId || partSyms.includes(definesName)) {
      b.classList.remove('hidden');
    } else {
      b.classList.add('hidden');
    }
  });
  
  // Update status
  showFilterStatus(`Filtering ${formId} :${partName} (${partSyms.length} references)`);
}

// Filter by name (substring or regex)
function filterByName(pattern, useRegex) {
  // Clear other filters but keep the input value
  activeFilter = null;
  activePartFilter = null;
  document.querySelectorAll('.part-btn').forEach(b => b.classList.remove('active'));
  
  if (!pattern || pattern.trim() === '') {
    // Empty pattern - show all
    activeNameFilter = null;
    getFormBlocks().forEach(b => b.classList.remove('hidden'));
    const status = document.querySelector('.filter-status');
    status.classList.remove('active');
    document.querySelector('.controls-left').style.transform = '';
    return;
  }
  
  activeNameFilter = pattern;
  
  let matcher;
  let isValidRegex = true;
  
  if (useRegex) {
    try {
      matcher = new RegExp(pattern, 'i');
    } catch (e) {
      // Invalid regex - show error in status and don't filter
      showFilterStatus(`Invalid regex: ${e.message}`);
      return;
    }
  } else {
    // Plain substring match (case-insensitive)
    const lowerPattern = pattern.toLowerCase();
    matcher = { test: (s) => s.toLowerCase().includes(lowerPattern) };
  }
  
  const blocks = getFormBlocks();
  let visibleCount = 0;
  
  blocks.forEach(block => {
    const definesName = block.dataset.defines || '';
    if (matcher.test(definesName)) {
      block.classList.remove('hidden');
      visibleCount++;
    } else {
      block.classList.add('hidden');
    }
  });
  
  // Update status
  const modeText = useRegex ? 'regex' : 'name';
  showFilterStatus(`Filtering by ${modeText}: "${pattern}" (${visibleCount} matches)`);
}

// Click on a name to show what references it
function handleNameClick(symName) {
  if (activeFilter === symName) {
    clearFilter();
  } else {
    filterBySymbol(symName, true);
  }
}

// Navigate to a definition (same file or different)
function navigateTo(symName, file) {
  if (file) {
    // External file - navigate
    window.location.href = file + '.html#def-' + symName.toLowerCase();
  } else {
    // Same file - scroll
    const target = document.getElementById('def-' + symName.toLowerCase());
    if (target) {
      target.scrollIntoView({ behavior: 'smooth', block: 'center' });
      target.classList.add('highlight');
      setTimeout(() => target.classList.remove('highlight'), 400);
    }
  }
}

// Initialize
document.addEventListener('DOMContentLoaded', () => {
  // Part buttons
  document.querySelectorAll('.part-btn').forEach(btn => {
    btn.addEventListener('click', (e) => {
      e.stopPropagation();
      const formId = btn.closest('.form-block').id;
      const partName = btn.dataset.part;
      if (activePartFilter && activePartFilter.formId === formId && 
          activePartFilter.partName === partName) {
        clearFilter();
      } else {
        filterByPart(formId, partName);
      }
    });
  });
  
  // Clear filter button
  document.querySelector('.clear-filter').addEventListener('click', clearFilter);
  
  // Name filter input
  const nameFilter = document.getElementById('name-filter');
  const regexToggle = document.getElementById('regex-toggle');
  
  let filterTimeout = null;
  nameFilter.addEventListener('input', () => {
    // Debounce the filter to avoid excessive updates while typing
    clearTimeout(filterTimeout);
    filterTimeout = setTimeout(() => {
      filterByName(nameFilter.value, regexToggle.checked);
    }, 150);
  });
  
  // Re-filter when regex toggle changes
  regexToggle.addEventListener('change', () => {
    if (nameFilter.value) {
      filterByName(nameFilter.value, regexToggle.checked);
    }
  });
  
  // Allow Escape key to clear filter when in input
  nameFilter.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
      clearFilter();
      nameFilter.blur();
    }
  });
  
  // Symbol references (old span-based refs)
  document.querySelectorAll('.sym-ref').forEach(ref => {
    ref.addEventListener('click', (e) => {
      e.stopPropagation();
      const sym = ref.dataset.sym;
      const file = ref.dataset.file;
      if (file) {
        navigateTo(sym, file);
      } else {
        handleNameClick(sym);
      }
    });
  });
  
  // Symbol links (new anchor-based links)
  // These use standard <a> tags so navigation happens automatically
  // But we need to clear filters if target would be hidden
  document.querySelectorAll('.sym-link').forEach(link => {
    link.addEventListener('click', (e) => {
      const href = link.getAttribute('href');
      if (href && href.startsWith('#')) {
        // Local link - check if target is hidden by filter
        const targetId = href.substring(1);
        const target = document.getElementById(targetId);
        if (target) {
          // If target is hidden, clear the filter first
          if (target.classList.contains('hidden')) {
            clearFilter();
          }
          // Add highlight effect after a short delay
          setTimeout(() => {
            target.classList.add('highlight');
            setTimeout(() => target.classList.remove('highlight'), 400);
          }, 100);
        }
      }
      // For external links, default behavior handles navigation
    });
  });
  
  // Form names (show what uses them)
  document.querySelectorAll('.form-name').forEach(name => {
    name.addEventListener('click', (e) => {
      handleNameClick(name.dataset.sym);
    });
  });
  
  // Handle hash navigation (when arriving at page with #anchor)
  if (window.location.hash) {
    const target = document.querySelector(window.location.hash);
    if (target) {
      setTimeout(() => {
        target.scrollIntoView({ behavior: 'smooth', block: 'center' });
        target.classList.add('highlight');
        setTimeout(() => target.classList.remove('highlight'), 400);
      }, 200);
    }
  }
  
  // Initialize theme from storage
  setTheme(getStoredTheme());
  
  // Initialize font size from storage
  currentFontSize = getStoredFontSize();
  setFontSize(currentFontSize);
  
  // Theme toggle button
  document.getElementById('theme-toggle').addEventListener('click', toggleTheme);
  
  // Font size buttons
  document.getElementById('font-larger').addEventListener('click', increaseFontSize);
  document.getElementById('font-smaller').addEventListener('click', decreaseFontSize);
});

</script>

</body>
</html>