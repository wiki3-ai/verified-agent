<!DOCTYPE html>
<html lang="en" vocab="http://schema.org/" typeof="SoftwareSourceCode">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>hons-raw - ACL2 Book</title>
  <meta property="name" content="hons-raw">
  <meta property="programmingLanguage" content="ACL2">
  
<style>
/* ACL2 Book HTML Documentation Styles */
/* Generated by cert2 - build2 system */

/* Dark theme (default) */
:root {
  --bg: #1e1e2e;
  --fg: #cdd6f4;
  --comment: #6c7086;
  --keyword: #cba6f7;
  --string: #a6e3a1;
  --function: #89b4fa;
  --type: #f9e2af;
  --link: #89dceb;
  --link-hover: #f5c2e7;
  --highlight: rgba(137, 180, 250, 0.2);
  --border: #313244;
  --block-bg: rgba(49, 50, 68, 0.5);
  --btn-bg: #313244;
  --btn-hover: rgba(137, 180, 250, 0.2);
}

/* Light theme */
[data-theme="light"] {
  --bg: #eff1f5;
  --fg: #4c4f69;
  --comment: #6c6f85;
  --keyword: #8839ef;
  --string: #40a02b;
  --function: #1e66f5;
  --type: #df8e1d;
  --link: #04a5e5;
  --link-hover: #ea76cb;
  --highlight: rgba(30, 102, 245, 0.15);
  --border: #ccd0da;
  --block-bg: rgba(204, 208, 218, 0.3);
  --btn-bg: #ccd0da;
  --btn-hover: rgba(30, 102, 245, 0.15);
}

body {
  font-family: 'JetBrains Mono', 'Fira Code', monospace;
  background: var(--bg);
  color: var(--fg);
  margin: 0;
  padding: 20px;
  line-height: 1.6;
  font-size: 14px;
  transition: background 0.1s, color 0.1s;
}

/* Controls toolbar */
.controls-left {
  position: fixed;
  top: 10px;
  left: 20px;
  display: flex;
  gap: 8px;
  align-items: center;
  z-index: 200;
  transition: transform 0.1s ease;
}

.controls-right {
  position: fixed;
  top: 10px;
  right: 20px;
  display: flex;
  gap: 8px;
  align-items: center;
  z-index: 200;
}

.control-btn {
  padding: 6px 12px;
  background: var(--btn-bg);
  border: 1px solid var(--border);
  border-radius: 4px;
  color: var(--fg);
  cursor: pointer;
  font-family: inherit;
  font-size: 14px;
  transition: all 0.1s;
}

.control-btn:hover {
  background: var(--btn-hover);
  border-color: var(--link);
}

.name-filter {
  padding: 6px 10px;
  background: var(--btn-bg);
  border: 1px solid var(--border);
  border-radius: 4px;
  color: var(--fg);
  font-family: inherit;
  font-size: 13px;
  width: 150px;
  transition: all 0.1s;
}

.name-filter:focus {
  outline: none;
  border-color: var(--link);
  width: 200px;
}

.name-filter::placeholder {
  color: var(--comment);
}

.regex-label {
  display: flex;
  align-items: center;
  gap: 4px;
  color: var(--comment);
  font-size: 12px;
  cursor: pointer;
}

.regex-label input {
  cursor: pointer;
}

.book-header {
  border-bottom: 2px solid var(--border);
  padding-bottom: 20px;
  margin-bottom: 20px;
}

.book-header h1 {
  color: var(--keyword);
  margin: 0;
}

.book-header .path {
  color: var(--comment);
  font-size: 0.9em;
}

.book-header .path .source-link {
  color: var(--comment);
  text-decoration: none;
}

.book-header .path .source-link:hover {
  color: var(--link);
  text-decoration: underline;
}

.form-block {
  margin: 10px 0;
  padding: 15px;
  background: var(--block-bg);
  border-radius: 8px;
  border-left: 3px solid var(--border);
}

.form-block.theorem { border-left-color: var(--keyword); }
.form-block.function { border-left-color: var(--function); }
.form-block.macro { border-left-color: var(--type); }
.form-block.include-book { border-left-color: var(--string); }

.form-block.hidden { display: none; }
.form-block.dimmed { opacity: 0.3; }

.form-block.highlight {
  animation: highlight-pulse 0.4s ease-out;
}

@keyframes highlight-pulse {
  0% { background: var(--highlight); box-shadow: 0 0 20px var(--link); }
  100% { background: rgba(49, 50, 68, 0.5); box-shadow: none; }
}

.form-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
}

.form-name {
  color: var(--function);
  font-weight: bold;
  cursor: pointer;
}

.form-name:hover {
  color: var(--link-hover);
  text-decoration: underline;
}

.form-type {
  color: var(--comment);
  font-size: 0.85em;
}

pre.code {
  margin: 0;
  overflow-x: auto;
  white-space: pre-wrap;
  word-wrap: break-word;
}

.sym-ref {
  color: var(--link);
  cursor: pointer;
  border-radius: 2px;
}

.sym-ref:hover {
  background: var(--highlight);
  color: var(--link-hover);
}

.sym-ref.local-def { color: var(--function); font-weight: bold; }
.sym-ref.external { color: var(--type); }

/* Symbol links (clickable hyperlinks) */
.sym-link {
  color: var(--link);
  text-decoration: none;
  border-radius: 2px;
  cursor: pointer;
  position: relative;
}

.sym-link:hover {
  background: var(--highlight);
  color: var(--link-hover);
  text-decoration: underline;
}

.sym-link.local-def {
  color: var(--function);
  font-weight: bold;
}

.sym-link.external {
  color: var(--type);
}

/* Tooltips using title attribute with custom styling */
.sym-link[title] {
  /* Browser will show title on hover */
}

/* Syntax highlighting in code blocks */
.keyword {
  color: var(--keyword);
}

.string {
  color: var(--string);
}

.number {
  color: #f77524; /* orange */
}

/* Include-book path links */
.include-path {
  color: var(--string);
  text-decoration: none;
  border-radius: 2px;
  cursor: pointer;
}

.include-path:hover {
  background: var(--highlight);
  color: var(--link-hover);
  text-decoration: underline;
}

/* Part buttons for defthm */
.part-buttons {
  display: flex;
  gap: 5px;
  margin: 10px 0;
  flex-wrap: wrap;
}

.part-btn {
  padding: 4px 10px;
  background: var(--border);
  border: 1px solid var(--comment);
  border-radius: 4px;
  color: var(--fg);
  cursor: pointer;
  font-size: 0.85em;
  font-family: inherit;
}

.part-btn:hover {
  background: var(--highlight);
  border-color: var(--link);
}

.part-btn.active {
  background: var(--link);
  color: var(--bg);
  border-color: var(--link);
}

/* References panel */
.refs-panel {
  margin-top: 10px;
  padding: 10px;
  background: rgba(0,0,0,0.2);
  border-radius: 4px;
  display: none;
}

.refs-panel.visible { display: block; }

.refs-panel h4 {
  margin: 0 0 5px 0;
  color: var(--comment);
  font-size: 0.9em;
}

.refs-list {
  display: flex;
  flex-wrap: wrap;
  gap: 5px;
}

/* Included books section */
.includes-section {
  margin-bottom: 20px;
  padding: 15px;
  background: rgba(49, 50, 68, 0.3);
  border-radius: 8px;
  border: 1px solid var(--border);
}

.includes-section h2 {
  margin: 0 0 10px 0;
  color: var(--comment);
  font-size: 1em;
  font-weight: normal;
}

.includes-list {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.include-link {
  padding: 6px 12px;
  background: var(--border);
  border-radius: 4px;
  color: var(--link);
  text-decoration: none;
  font-size: 0.9em;
  transition: all 0.1s;
}

.include-link:hover {
  background: var(--highlight);
  color: var(--link-hover);
}

.include-link.local {
  border-left: 2px solid var(--comment);
}

/* Filter status */
.filter-status {
  position: fixed;
  top: 10px;
  left: 20px;
  background: var(--bg);
  padding: 6px 12px;
  border: 1px solid var(--border);
  border-radius: 4px;
  z-index: 201;
  display: none;
  align-items: center;
  gap: 10px;
}

.filter-status.active {
  display: flex;
  align-items: center;
  gap: 10px;
}

.clear-filter {
  padding: 5px 15px;
  background: var(--keyword);
  color: var(--bg);
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

/* RDFa vocab indicator */
[vocab] { /* semantic web annotations present */ }

</style>

</head>
<body>
  <div class="controls-left">
    <input type="text" id="name-filter" class="name-filter" placeholder="Filter by name..." title="Filter definitions by name">
    <label class="regex-label"><input type="checkbox" id="regex-toggle"> regex</label>
  </div>

  <div class="controls-right">
    <button class="control-btn" id="theme-toggle" title="Toggle light/dark theme">☀️</button>
    <button class="control-btn" id="font-smaller" title="Decrease font size">A-</button>
    <button class="control-btn" id="font-larger" title="Increase font size">A+</button>
  </div>

  <div class="filter-status">
    <span class="filter-text">Filtering...</span>
    <button class="clear-filter">Clear Filter</button>
  </div>
  
  <div class="book-header">
    <h1 property="name">hons-raw</h1>
    <div class="path"><a href="hons-raw.lisp" class="source-link">hons-raw</a></div>
  </div>
  
  <main property="text">
<div class="form-block other" id="form-0" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-in-package" data-sym="IN-PACKAGE">in-package</a> <span class="string">"ACL2"</span>)</pre>
  </div>

<div class="form-block function" id="def-hl-mht-fn" data-defines="HL-MHT-FN" data-references="T,MAKE-HASH-TABLE,EQ,COND,IGNORABLE,DECLARE,LOCK-FREE,SHARED,WEAK,REHASH-THRESHOLD,REHASH-SIZE,SIZE,EQL,QUOTE,TEST,&KEY,DEFUN" data-used-by="HL-MHT" data-part-name="HL-MHT-FN" data-part-args="LOCK-FREE,SHARED,WEAK,REHASH-THRESHOLD,REHASH-SIZE,SIZE,EQL,QUOTE,TEST,&KEY" data-part-declare="LOCK-FREE,WEAK,SHARED,IGNORABLE,DECLARE" data-part-body="T,WEAK,REHASH-THRESHOLD,REHASH-SIZE,SIZE,TEST,MAKE-HASH-TABLE,SHARED,EQ,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-MHT-FN">hl-mht-fn</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-mht-fn" data-sym="HL-MHT-FN" title="(defun hl-mht-fn
       (
        &amp;key (test &#39;eql) (size &#39;60) (rehash-size &#39;1.5) (rehash-threshold &#39;0.7)
        (weak &#39;nil) (shared &#39;nil) (lock-free &#39;nil))
  (declare (ignorable shared weak lock-free))
...">hl-mht-fn</a>
  (&amp;key (test '<a class="sym-link system" href="axioms.html#def-eql" data-sym="EQL">eql</a>)
    (size '<span class="number">60</span>)
    (rehash-size '<span class="number">1.5</span>)
    (rehash-threshold '<span class="number">0.7</span>)
    (weak 'nil)
    (shared 'nil)
    (lock-free 'nil))
  (declare (ignorable shared weak lock-free))
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> shared <span class="keyword">:default</span>) (make-hash-table <span class="keyword">:test</span> test
        <span class="keyword">:size</span> size
        <span class="keyword">:rehash-size</span> rehash-size
        <span class="keyword">:rehash-threshold</span> rehash-threshold
        <span class="keyword">:weakness</span> weak))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (make-hash-table <span class="keyword">:test</span> test
        <span class="keyword">:size</span> size
        <span class="keyword">:rehash-size</span> rehash-size
        <span class="keyword">:rehash-threshold</span> rehash-threshold
        <span class="keyword">:weakness</span> weak))))</pre>
  </div>

<div class="form-block macro" id="def-hl-mht" data-defines="HL-MHT" data-references="HL-MHT-FN,QUASIQUOTE,ARGS,&REST,DEFMACRO" data-used-by="HL-MAYBE-RESIZE-HT,HL-HSPACE-HONS-CLEAR,HL-HSPACE-NUMBER-SUBTREES,HL-HSPACE-RESTORE-FAL-FOR-SERIALIZE,HL-HSPACE-FAST-ALIST-FORK,HL-HSPACE-MAKE-FAST-ALIST,HL-HSPACE-HONS-ACONS!,HL-HSPACE-HONS-ACONS,HL-FLEX-ACONS,HL-HSPACE-INIT,HL-INITIALIZE-FALTABLE-TABLE" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-MHT">hl-mht</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-hl-mht" data-sym="HL-MHT" title="(defmacro hl-mht (&amp;rest args) `(hl-mht-fn ,@args))">hl-mht</a> (&amp;rest <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>) `(<a class="sym-link local-def" href="#def-hl-mht-fn" data-sym="HL-MHT-FN" title="(defun hl-mht-fn
       (
        &amp;key (test &#39;eql) (size &#39;60) (rehash-size &#39;1.5) (rehash-threshold &#39;0.7)
        (weak &#39;nil) (shared &#39;nil) (lock-free &#39;nil))
  (declare (ignorable shared weak lock-free))
...">hl-mht-fn</a> ,@ARGS))</pre>
  </div>

<div class="form-block other" id="form-3" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defconstant hl-cache-table-size <span class="number">400000</span>)</pre>
  </div>

<div class="form-block other" id="form-4" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defconstant hl-cache-table-cutoff
  (let ((ans (floor (<a class="sym-link system" href="axioms.html#def-_2A" data-sym="*">*</a> <span class="number">0.75</span> hl-cache-table-size))))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-_3E" data-sym="&gt;">&gt;</a> ans most-positive-fixnum) (error <span class="string">"Hl-cache-table-cutoff is too big to be a fixnum!"</span>))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> ans))))</pre>
  </div>

<div class="form-block other" id="form-5" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defstruct hl-cache
  (<a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a> (<a class="sym-link local-def" href="#def-hl-mht" data-sym="HL-MHT" title="(defmacro hl-mht (&amp;rest args) `(hl-mht-fn ,@args))">hl-mht</a> <span class="keyword">:test</span> (function <a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a>) <span class="keyword">:size</span> hl-cache-table-size)
    <span class="keyword">:type</span> hash-table)
  (<a class="sym-link system" href="axioms.html#def-count" data-sym="COUNT">count</a> <span class="number">0</span> <span class="keyword">:type</span> fixnum))</pre>
  </div>

<div class="form-block function" id="def-hl-cache-set" data-defines="HL-CACHE-SET" data-references="GETHASH,+,T,SETF,CLRHASH,HL-CACHE-TABLE-CUTOFF,FIXNUM,THE,>=,COND,HL-CACHE-COUNT,COUNT,HL-CACHE-TABLE,TABLE,LET,HL-CACHE,TYPE,DECLARE,CACHE,VAL,KEY,DEFUN" data-used-by="HL-HSPACE-NORM-AUX-CONSP" data-part-name="HL-CACHE-SET" data-part-args="CACHE,VAL,KEY" data-part-declare="CACHE,HL-CACHE,TYPE,DECLARE" data-part-body="VAL,KEY,GETHASH,+,T,SETF,CLRHASH,HL-CACHE-TABLE-CUTOFF,FIXNUM,THE,>=,COND,HL-CACHE-COUNT,COUNT,CACHE,HL-CACHE-TABLE,TABLE,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-CACHE-SET">hl-cache-set</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-cache-set" data-sym="HL-CACHE-SET" title="(defun hl-cache-set (key val cache)
  (declare (type hl-cache cache))
  (let ((table (hl-cache-table cache)) (count (hl-cache-count cache)))
    (cond
     ((&gt;= (the fixnum count) (the fixnum hl-cache-table-cutoff))
...">hl-cache-set</a>
  (key val cache)
  (declare (type hl-cache cache))
  (let ((<a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a> (hl-cache-table cache)) (<a class="sym-link system" href="axioms.html#def-count" data-sym="COUNT">count</a> (hl-cache-count cache)))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-_3E_3D" data-sym="&gt;=">&gt;=</a> (<a class="sym-link system" href="axioms.html#def-the" data-sym="THE">the</a> fixnum <a class="sym-link system" href="axioms.html#def-count" data-sym="COUNT">count</a>) (<a class="sym-link system" href="axioms.html#def-the" data-sym="THE">the</a> fixnum hl-cache-table-cutoff)) (clrhash <a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a>)
        (setf (hl-cache-count cache) <span class="number">1</span>))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (setf (hl-cache-count cache)
          (<a class="sym-link system" href="axioms.html#def-the" data-sym="THE">the</a> fixnum (<a class="sym-link system" href="axioms.html#def-_2B" data-sym="+">+</a> <span class="number">1</span> (<a class="sym-link system" href="axioms.html#def-the" data-sym="THE">the</a> fixnum <a class="sym-link system" href="axioms.html#def-count" data-sym="COUNT">count</a>))))))
    (setf (gethash key <a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a>) val)))</pre>
  </div>

<div class="form-block function" id="def-hl-cache-get" data-defines="HL-CACHE-GET" data-references="T,MV,IF,GETHASH,VAL,HL-CACHE-TABLE,TABLE,LET*,HL-CACHE,TYPE,DECLARE,CACHE,KEY,DEFUN" data-used-by="HL-HSPACE-NORM-AUX-CONSP" data-part-name="HL-CACHE-GET" data-part-args="CACHE,KEY" data-part-declare="CACHE,HL-CACHE,TYPE,DECLARE" data-part-body="T,MV,IF,KEY,GETHASH,VAL,CACHE,HL-CACHE-TABLE,TABLE,LET*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-CACHE-GET">hl-cache-get</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-cache-get" data-sym="HL-CACHE-GET" title="(defun hl-cache-get (key cache)
  (declare (type hl-cache cache))
  (let* ((table (hl-cache-table cache)) (val (gethash key table)))
    (if val
        (mv t val)">hl-cache-get</a>
  (key cache)
  (declare (type hl-cache cache))
  (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((<a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a> (hl-cache-table cache)) (val (gethash key <a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a>)))
    (if val
      (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> val)
      (<a class="sym-link system" href="axioms.html#def-mv" data-sym="MV">mv</a> nil nil))))</pre>
  </div>

<div class="form-block function" id="def-hl-cache-clear" data-defines="HL-CACHE-CLEAR" data-references="HL-CACHE-COUNT,SETF,HL-CACHE-TABLE,CLRHASH,PROGN,HL-CACHE,TYPE,DECLARE,CACHE,DEFUN" data-used-by="HL-HSPACE-HONS-CLEAR" data-part-name="HL-CACHE-CLEAR" data-part-args="CACHE" data-part-declare="CACHE,HL-CACHE,TYPE,DECLARE" data-part-body="HL-CACHE-COUNT,SETF,CACHE,HL-CACHE-TABLE,CLRHASH,PROGN" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-CACHE-CLEAR">hl-cache-clear</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-cache-clear" data-sym="HL-CACHE-CLEAR" title="(defun hl-cache-clear (cache)
  (declare (type hl-cache cache))
  (progn (clrhash (hl-cache-table cache)) (setf (hl-cache-count cache) 0)))">hl-cache-clear</a>
  (cache)
  (declare (type hl-cache cache))
  (<a class="sym-link system" href="axioms.html#def-progn" data-sym="PROGN">progn</a> (clrhash (hl-cache-table cache))
    (setf (hl-cache-count cache) <span class="number">0</span>)))</pre>
  </div>

<div class="form-block other" id="form-9" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defparameter *hl-hspace-str-ht-default-size* <span class="number">1000</span>)</pre>
  </div>

<div class="form-block other" id="form-10" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defparameter *hl-ctables-nil-ht-default-size* <span class="number">5000</span>)</pre>
  </div>

<div class="form-block other" id="form-11" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defparameter *hl-ctables-cdr-ht-default-size* <span class="number">100000</span>)</pre>
  </div>

<div class="form-block other" id="form-12" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defparameter *hl-ctables-cdr-ht-eql-default-size* <span class="number">1000</span>)</pre>
  </div>

<div class="form-block other" id="form-13" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defparameter *hl-hspace-addr-ht-default-size* <span class="number">150000</span>)</pre>
  </div>

<div class="form-block other" id="form-14" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defparameter *hl-hspace-sbits-default-size*
  *hl-hspace-addr-ht-default-size*)</pre>
  </div>

<div class="form-block other" id="form-15" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defparameter *hl-hspace-other-ht-default-size* <span class="number">1000</span>)</pre>
  </div>

<div class="form-block other" id="form-16" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defparameter *hl-hspace-fal-ht-default-size* <span class="number">1000</span>)</pre>
  </div>

<div class="form-block other" id="form-17" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defparameter *hl-hspace-persist-ht-default-size* <span class="number">100</span>)</pre>
  </div>

<div class="form-block other" id="form-18" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defstruct hl-ctables
  (nil-ht (<a class="sym-link local-def" href="#def-hl-mht" data-sym="HL-MHT" title="(defmacro hl-mht (&amp;rest args) `(hl-mht-fn ,@args))">hl-mht</a> <span class="keyword">:test</span> (function <a class="sym-link system" href="axioms.html#def-eql" data-sym="EQL">eql</a>) <span class="keyword">:size</span> *hl-ctables-nil-ht-default-size*)
    <span class="keyword">:type</span> hash-table)
  (cdr-ht (<a class="sym-link local-def" href="#def-hl-mht" data-sym="HL-MHT" title="(defmacro hl-mht (&amp;rest args) `(hl-mht-fn ,@args))">hl-mht</a> <span class="keyword">:test</span> (function <a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a>) <span class="keyword">:size</span> *hl-ctables-cdr-ht-default-size*)
    <span class="keyword">:type</span> hash-table)
  (cdr-ht-eql (<a class="sym-link local-def" href="#def-hl-mht" data-sym="HL-MHT" title="(defmacro hl-mht (&amp;rest args) `(hl-mht-fn ,@args))">hl-mht</a> <span class="keyword">:test</span> (function <a class="sym-link system" href="axioms.html#def-eql" data-sym="EQL">eql</a>)
      <span class="keyword">:size</span> *hl-ctables-cdr-ht-eql-default-size*)
    <span class="keyword">:type</span> hash-table))</pre>
  </div>

<div class="form-block function" id="def-hl-initialize-faltable-table" data-defines="HL-INITIALIZE-FALTABLE-TABLE" data-references="MAX,EQ,FUNCTION,HL-MHT,TABLE,LET,FAL-HT-SIZE,DEFUN" data-used-by="HL-FALTABLE-INIT" data-part-name="HL-INITIALIZE-FALTABLE-TABLE" data-part-args="FAL-HT-SIZE" data-part-body="FAL-HT-SIZE,MAX,EQ,FUNCTION,HL-MHT,TABLE,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-INITIALIZE-FALTABLE-TABLE">hl-initialize-faltable-table</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-initialize-faltable-table" data-sym="HL-INITIALIZE-FALTABLE-TABLE" title="(defun hl-initialize-faltable-table (fal-ht-size)
  (let ((table (hl-mht :test #&#39;eq :size (max 100 fal-ht-size) :weak :key)))
    table))">hl-initialize-faltable-table</a>
  (fal-ht-size)
  (let ((<a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a> (<a class="sym-link local-def" href="#def-hl-mht" data-sym="HL-MHT" title="(defmacro hl-mht (&amp;rest args) `(hl-mht-fn ,@args))">hl-mht</a> <span class="keyword">:test</span> (function <a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a>) <span class="keyword">:size</span> (max <span class="number">100</span> fal-ht-size) <span class="keyword">:weak</span> <span class="keyword">:key</span>)))
    <a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a>))</pre>
  </div>

<div class="form-block other" id="form-20" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defstruct hl-falslot
  (key nil)
  (val nil)
  (uniquep <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <span class="keyword">:type</span> boolean))</pre>
  </div>

<div class="form-block other" id="form-21" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defstruct (hl-faltable (<span class="keyword">:constructor</span> hl-faltable-init-raw))
  (slot1 (make-hl-falslot) <span class="keyword">:type</span> hl-falslot)
  (slot2 (make-hl-falslot) <span class="keyword">:type</span> hl-falslot)
  (eject1 nil <span class="keyword">:type</span> boolean)
  (<a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a> (<a class="sym-link local-def" href="#def-hl-initialize-faltable-table" data-sym="HL-INITIALIZE-FALTABLE-TABLE" title="(defun hl-initialize-faltable-table (fal-ht-size)
  (let ((table (hl-mht :test #&#39;eq :size (max 100 fal-ht-size) :weak :key)))
    table))">hl-initialize-faltable-table</a> *hl-hspace-fal-ht-default-size*)
    <span class="keyword">:type</span> hash-table))</pre>
  </div>

<div class="form-block function" id="def-hl-faltable-init" data-defines="HL-FALTABLE-INIT" data-references="HL-INITIALIZE-FALTABLE-TABLE,HL-FALTABLE-INIT-RAW,*HL-HSPACE-FAL-HT-DEFAULT-SIZE*,SIZE,&KEY,DEFUN" data-used-by="HL-HSPACE-HONS-CLEAR,HL-HSPACE-INIT" data-part-name="HL-FALTABLE-INIT" data-part-args="*HL-HSPACE-FAL-HT-DEFAULT-SIZE*,SIZE,&KEY" data-part-body="SIZE,HL-INITIALIZE-FALTABLE-TABLE,HL-FALTABLE-INIT-RAW" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-FALTABLE-INIT">hl-faltable-init</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-faltable-init" data-sym="HL-FALTABLE-INIT" title="(defun hl-faltable-init (&amp;key (size *hl-hspace-fal-ht-default-size*))
  (hl-faltable-init-raw :table (hl-initialize-faltable-table size)))">hl-faltable-init</a>
  (&amp;key (size *hl-hspace-fal-ht-default-size*))
  (hl-faltable-init-raw <span class="keyword">:table</span> (<a class="sym-link local-def" href="#def-hl-initialize-faltable-table" data-sym="HL-INITIALIZE-FALTABLE-TABLE" title="(defun hl-initialize-faltable-table (fal-ht-size)
  (let ((table (hl-mht :test #&#39;eq :size (max 100 fal-ht-size) :weak :key)))
    table))">hl-initialize-faltable-table</a> size)))</pre>
  </div>

<div class="form-block other" id="form-23" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defstruct (hl-hspace (<span class="keyword">:constructor</span> hl-hspace-init-raw))
  (str-ht (<a class="sym-link local-def" href="#def-hl-mht" data-sym="HL-MHT" title="(defmacro hl-mht (&amp;rest args) `(hl-mht-fn ,@args))">hl-mht</a> <span class="keyword">:test</span> (function equal) <span class="keyword">:size</span> *hl-hspace-str-ht-default-size*)
    <span class="keyword">:type</span> hash-table)
  (ctables (make-hl-ctables) <span class="keyword">:type</span> hl-ctables)
  (norm-cache (make-hl-cache) <span class="keyword">:type</span> hl-cache)
  (faltable (<a class="sym-link local-def" href="#def-hl-faltable-init" data-sym="HL-FALTABLE-INIT" title="(defun hl-faltable-init (&amp;key (size *hl-hspace-fal-ht-default-size*))
  (hl-faltable-init-raw :table (hl-initialize-faltable-table size)))">hl-faltable-init</a>) <span class="keyword">:type</span> hl-faltable)
  (persist-ht (<a class="sym-link local-def" href="#def-hl-mht" data-sym="HL-MHT" title="(defmacro hl-mht (&amp;rest args) `(hl-mht-fn ,@args))">hl-mht</a> <span class="keyword">:test</span> (function <a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a>)
      <span class="keyword">:size</span> *hl-hspace-persist-ht-default-size*)
    <span class="keyword">:type</span> hash-table))</pre>
  </div>

<div class="form-block function" id="def-hl-hspace-init" data-defines="HL-HSPACE-INIT" data-references="HL-FALTABLE-INIT,MAKE-HL-CACHE,EQ,EQL,MAKE-HL-CTABLES,MAX,EQUAL,FUNCTION,HL-MHT,HL-HSPACE-INIT-RAW,IGNORE,DECLARE,*HL-HSPACE-PERSIST-HT-DEFAULT-SIZE*,PERSIST-HT-SIZE,*HL-HSPACE-FAL-HT-DEFAULT-SIZE*,FAL-HT-SIZE,*HL-HSPACE-OTHER-HT-DEFAULT-SIZE*,OTHER-HT-SIZE,*HL-HSPACE-SBITS-DEFAULT-SIZE*,SBITS-SIZE,*HL-HSPACE-ADDR-HT-DEFAULT-SIZE*,ADDR-HT-SIZE,*HL-CTABLES-CDR-HT-EQL-DEFAULT-SIZE*,CDR-HT-EQL-SIZE,*HL-CTABLES-CDR-HT-DEFAULT-SIZE*,CDR-HT-SIZE,*HL-CTABLES-NIL-HT-DEFAULT-SIZE*,NIL-HT-SIZE,*HL-HSPACE-STR-HT-DEFAULT-SIZE*,STR-HT-SIZE,&KEY,DEFUN" data-used-by="HL-MAYBE-INITIALIZE-DEFAULT-HS" data-part-name="HL-HSPACE-INIT" data-part-args="*HL-HSPACE-PERSIST-HT-DEFAULT-SIZE*,PERSIST-HT-SIZE,*HL-HSPACE-FAL-HT-DEFAULT-SIZE*,FAL-HT-SIZE,*HL-HSPACE-OTHER-HT-DEFAULT-SIZE*,OTHER-HT-SIZE,*HL-HSPACE-SBITS-DEFAULT-SIZE*,SBITS-SIZE,*HL-HSPACE-ADDR-HT-DEFAULT-SIZE*,ADDR-HT-SIZE,*HL-CTABLES-CDR-HT-EQL-DEFAULT-SIZE*,CDR-HT-EQL-SIZE,*HL-CTABLES-CDR-HT-DEFAULT-SIZE*,CDR-HT-SIZE,*HL-CTABLES-NIL-HT-DEFAULT-SIZE*,NIL-HT-SIZE,*HL-HSPACE-STR-HT-DEFAULT-SIZE*,STR-HT-SIZE,&KEY" data-part-declare="OTHER-HT-SIZE,SBITS-SIZE,ADDR-HT-SIZE,IGNORE,DECLARE" data-part-body="PERSIST-HT-SIZE,FAL-HT-SIZE,HL-FALTABLE-INIT,MAKE-HL-CACHE,CDR-HT-EQL-SIZE,CDR-HT-SIZE,EQ,NIL-HT-SIZE,EQL,MAKE-HL-CTABLES,STR-HT-SIZE,MAX,EQUAL,FUNCTION,HL-MHT,HL-HSPACE-INIT-RAW" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-HSPACE-INIT">hl-hspace-init</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-hspace-init" data-sym="HL-HSPACE-INIT" title="(defun hl-hspace-init
       (
        &amp;key (str-ht-size *hl-hspace-str-ht-default-size*)
        (nil-ht-size *hl-ctables-nil-ht-default-size*)
        (cdr-ht-size *hl-ctables-cdr-ht-default-size*)
...">hl-hspace-init</a>
  (&amp;key (str-ht-size *hl-hspace-str-ht-default-size*)
    (nil-ht-size *hl-ctables-nil-ht-default-size*)
    (cdr-ht-size *hl-ctables-cdr-ht-default-size*)
    (cdr-ht-eql-size *hl-ctables-cdr-ht-eql-default-size*)
    (addr-ht-size *hl-hspace-addr-ht-default-size*)
    (sbits-size *hl-hspace-sbits-default-size*)
    (other-ht-size *hl-hspace-other-ht-default-size*)
    (fal-ht-size *hl-hspace-fal-ht-default-size*)
    (persist-ht-size *hl-hspace-persist-ht-default-size*))
  (declare (ignore addr-ht-size sbits-size other-ht-size))
  (hl-hspace-init-raw <span class="keyword">:str-ht</span> (<a class="sym-link local-def" href="#def-hl-mht" data-sym="HL-MHT" title="(defmacro hl-mht (&amp;rest args) `(hl-mht-fn ,@args))">hl-mht</a> <span class="keyword">:test</span> (function equal) <span class="keyword">:size</span> (max <span class="number">100</span> str-ht-size))
    <span class="keyword">:ctables</span> (make-hl-ctables <span class="keyword">:nil-ht</span> (<a class="sym-link local-def" href="#def-hl-mht" data-sym="HL-MHT" title="(defmacro hl-mht (&amp;rest args) `(hl-mht-fn ,@args))">hl-mht</a> <span class="keyword">:test</span> (function <a class="sym-link system" href="axioms.html#def-eql" data-sym="EQL">eql</a>) <span class="keyword">:size</span> (max <span class="number">100</span> nil-ht-size))
      <span class="keyword">:cdr-ht</span> (<a class="sym-link local-def" href="#def-hl-mht" data-sym="HL-MHT" title="(defmacro hl-mht (&amp;rest args) `(hl-mht-fn ,@args))">hl-mht</a> <span class="keyword">:test</span> (function <a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a>) <span class="keyword">:size</span> (max <span class="number">100</span> cdr-ht-size))
      <span class="keyword">:cdr-ht-eql</span> (<a class="sym-link local-def" href="#def-hl-mht" data-sym="HL-MHT" title="(defmacro hl-mht (&amp;rest args) `(hl-mht-fn ,@args))">hl-mht</a> <span class="keyword">:test</span> (function <a class="sym-link system" href="axioms.html#def-eql" data-sym="EQL">eql</a>) <span class="keyword">:size</span> (max <span class="number">100</span> cdr-ht-eql-size)))
    <span class="keyword">:norm-cache</span> (make-hl-cache)
    <span class="keyword">:faltable</span> (<a class="sym-link local-def" href="#def-hl-faltable-init" data-sym="HL-FALTABLE-INIT" title="(defun hl-faltable-init (&amp;key (size *hl-hspace-fal-ht-default-size*))
  (hl-faltable-init-raw :table (hl-initialize-faltable-table size)))">hl-faltable-init</a> <span class="keyword">:size</span> fal-ht-size)
    <span class="keyword">:persist-ht</span> (<a class="sym-link local-def" href="#def-hl-mht" data-sym="HL-MHT" title="(defmacro hl-mht (&amp;rest args) `(hl-mht-fn ,@args))">hl-mht</a> <span class="keyword">:test</span> (function <a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a>) <span class="keyword">:size</span> (max <span class="number">100</span> persist-ht-size))))</pre>
  </div>

<div class="form-block macro" id="def-hl-flex-alist-maxed-out" data-defines="HL-FLEX-ALIST-MAXED-OUT" data-references="CDDR,18CDRS,16CDRS,12CDRS,LET*,8CDRS,CONSP,AND,CDDDDR,4CDRS,LET,QUASIQUOTE,X,DEFMACRO" data-used-by="HL-FLEX-ACONS" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-FLEX-ALIST-MAXED-OUT">hl-flex-alist-maxed-out</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-hl-flex-alist-maxed-out" data-sym="HL-FLEX-ALIST-MAXED-OUT" title="(defmacro hl-flex-alist-maxed-out (x)
  `(let ((4cdrs (cddddr ,x)))
     (and (consp 4cdrs)
          (let ((8cdrs (cddddr 4cdrs)))
            (and (consp 8cdrs)
...">hl-flex-alist-maxed-out</a>
  (x)
  `(let ((4cdrs (<a class="sym-link system" href="axioms.html#def-cddddr" data-sym="CDDDDR">cddddr</a> ,X)))
    (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (consp 4cdrs)
      (let ((8cdrs (<a class="sym-link system" href="axioms.html#def-cddddr" data-sym="CDDDDR">cddddr</a> 4cdrs)))
        (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (consp 8cdrs)
          (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((12cdrs (<a class="sym-link system" href="axioms.html#def-cddddr" data-sym="CDDDDR">cddddr</a> 8cdrs)))
            (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (consp 12cdrs)
              (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((16cdrs (<a class="sym-link system" href="axioms.html#def-cddddr" data-sym="CDDDDR">cddddr</a> 12cdrs)) (18cdrs (<a class="sym-link system" href="axioms.html#def-cddr" data-sym="CDDR">cddr</a> 16cdrs)))
                (consp 18cdrs)))))))))</pre>
  </div>

<div class="form-block macro" id="def-hl-flex-assoc" data-defines="HL-FLEX-ASSOC" data-references="HASH-TABLE,THE,GETHASH,ASSOC,LISTP,IF,LET,QUASIQUOTE,AL,KEY,DEFMACRO" data-used-by="HL-HSPACE-HONS-NORMED,HL-HSPACE-HONSP" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-FLEX-ASSOC">hl-flex-assoc</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-hl-flex-assoc" data-sym="HL-FLEX-ASSOC" title="(defmacro hl-flex-assoc (key al)
  `(let ((key ,key) (al ,al))
     (if (listp al)
         (assoc key al)
         (gethash key (the hash-table al)))))">hl-flex-assoc</a>
  (key al)
  `(let ((key ,KEY) (al ,AL))
    (if (<a class="sym-link system" href="axioms.html#def-listp" data-sym="LISTP">listp</a> al)
      (<a class="sym-link system" href="axioms.html#def-assoc" data-sym="ASSOC">assoc</a> key al)
      (gethash key (<a class="sym-link system" href="axioms.html#def-the" data-sym="THE">the</a> hash-table al)))))</pre>
  </div>

<div class="form-block macro" id="def-hl-flex-acons" data-defines="HL-FLEX-ACONS" data-references="THE,CONS,CAR,GETHASH,SETF,DO,IN,PAIR,FOR,LOOP,HASH-TABLE,TYPE,DECLARE,T,HL-MHT,HT,HL-FLEX-ALIST-MAXED-OUT,LISTP,COND,LET,QUASIQUOTE,SHARED,&OPTIONAL,AL,ELEM,DEFMACRO" data-used-by="HL-HSPACE-CLASSIC-RESTORE,HL-HSPACE-HONS-NORMED" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-FLEX-ACONS">hl-flex-acons</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-hl-flex-acons" data-sym="HL-FLEX-ACONS" title="(defmacro hl-flex-acons (elem al &amp;optional shared)
  `(let ((elem ,elem) (al ,al) (shared ,shared))
     (cond
      ((listp al)
       (cond
...">hl-flex-acons</a>
  (elem al &amp;optional shared)
  `(let ((elem ,ELEM) (al ,AL) (shared ,SHARED))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-listp" data-sym="LISTP">listp</a> al) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link local-def" href="#def-hl-flex-alist-maxed-out" data-sym="HL-FLEX-ALIST-MAXED-OUT" title="(defmacro hl-flex-alist-maxed-out (x)
  `(let ((4cdrs (cddddr ,x)))
     (and (consp 4cdrs)
          (let ((8cdrs (cddddr 4cdrs)))
            (and (consp 8cdrs)
...">hl-flex-alist-maxed-out</a> al) (let ((ht (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (shared (<a class="sym-link local-def" href="#def-hl-mht" data-sym="HL-MHT" title="(defmacro hl-mht (&amp;rest args) `(hl-mht-fn ,@args))">hl-mht</a> <span class="keyword">:shared</span> <span class="keyword">:default</span>)) (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-hl-mht" data-sym="HL-MHT" title="(defmacro hl-mht (&amp;rest args) `(hl-mht-fn ,@args))">hl-mht</a>)))))
              (declare (type hash-table ht))
              (loop for
                pair
                in
                al
                do
                (setf (gethash (car pair) ht) pair))
              (setf (gethash (car elem) ht) elem)
              ht))
          (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (cons elem al))))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (setf (gethash (car elem) (<a class="sym-link system" href="axioms.html#def-the" data-sym="THE">the</a> hash-table al)) elem) al))))</pre>
  </div>

<div class="form-block macro" id="def-hl-hspace-find-flex-alist-for-cdr" data-defines="HL-HSPACE-FIND-FLEX-ALIST-FOR-CDR" data-references="HL-CTABLES-CDR-HT-EQL,T,HL-CTABLES-CDR-HT,GETHASH,STRINGP,SYMBOLP,CONSP,OR,HL-CTABLES-NIL-HT,NULL,COND,LET,QUASIQUOTE,CTABLES,B,DEFMACRO" data-used-by="HL-HSPACE-HONSP" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-HSPACE-FIND-FLEX-ALIST-FOR-CDR">hl-hspace-find-flex-alist-for-cdr</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-hl-hspace-find-flex-alist-for-cdr" data-sym="HL-HSPACE-FIND-FLEX-ALIST-FOR-CDR" title="(defmacro hl-hspace-find-flex-alist-for-cdr (b ctables)
  `(let ((b ,b) (ctables ,ctables))
     (cond ((null b) (hl-ctables-nil-ht ctables))
           ((or (consp b) (symbolp b) (stringp b))
            (gethash b (hl-ctables-cdr-ht ctables)))">hl-hspace-find-flex-alist-for-cdr</a>
  (b ctables)
  `(let ((b ,B) (ctables ,CTABLES))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> b) (hl-ctables-nil-ht ctables))
      ((<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (consp b) (symbolp b) (stringp b)) (gethash b (hl-ctables-cdr-ht ctables)))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (gethash b (hl-ctables-cdr-ht-eql ctables))))))</pre>
  </div>

<div class="form-block other" id="form-29" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(declaim (inline <a class="sym-link local-def" href="#def-hl-hspace-honsp" data-sym="HL-HSPACE-HONSP" title="(defun hl-hspace-honsp (x hs)
  (let* ((a (car x))
         (b (cdr x))
         (ctables (hl-hspace-ctables hs))
         (hons-set (hl-hspace-find-flex-alist-for-cdr b ctables))
...">hl-hspace-honsp</a>))</pre>
  </div>

<div class="form-block function" id="def-hl-hspace-honsp" data-defines="HL-HSPACE-HONSP" data-references="EQ,HL-FLEX-ASSOC,ENTRY,HL-HSPACE-FIND-FLEX-ALIST-FOR-CDR,HONS-SET,HL-HSPACE-CTABLES,CTABLES,CDR,B,CAR,A,LET*,HS,X,DEFUN" data-used-by="HL-HSPACE-NORM,HL-HSPACE-NORM-AUX,HL-HSPACE-HONS-EQUAL,HL-HSPACE-HONS-EQUAL-1,HL-HSPACE-HONS-EQUAL-LITE,HL-HSPACE-NORMEDP,HL-HSPACE-HONSP-WRAPPER" data-part-name="HL-HSPACE-HONSP" data-part-args="HS,X" data-part-body="EQ,HL-FLEX-ASSOC,ENTRY,HL-HSPACE-FIND-FLEX-ALIST-FOR-CDR,HONS-SET,HS,HL-HSPACE-CTABLES,CTABLES,CDR,B,X,CAR,A,LET*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-HSPACE-HONSP">hl-hspace-honsp</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-hspace-honsp" data-sym="HL-HSPACE-HONSP" title="(defun hl-hspace-honsp (x hs)
  (let* ((a (car x))
         (b (cdr x))
         (ctables (hl-hspace-ctables hs))
         (hons-set (hl-hspace-find-flex-alist-for-cdr b ctables))
...">hl-hspace-honsp</a>
  (x hs)
  (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((a (car x)) (b (cdr x))
      (ctables (hl-hspace-ctables hs))
      (hons-set (<a class="sym-link local-def" href="#def-hl-hspace-find-flex-alist-for-cdr" data-sym="HL-HSPACE-FIND-FLEX-ALIST-FOR-CDR" title="(defmacro hl-hspace-find-flex-alist-for-cdr (b ctables)
  `(let ((b ,b) (ctables ,ctables))
     (cond ((null b) (hl-ctables-nil-ht ctables))
           ((or (consp b) (symbolp b) (stringp b))
            (gethash b (hl-ctables-cdr-ht ctables)))">hl-hspace-find-flex-alist-for-cdr</a> b ctables))
      (entry (<a class="sym-link local-def" href="#def-hl-flex-assoc" data-sym="HL-FLEX-ASSOC" title="(defmacro hl-flex-assoc (key al)
  `(let ((key ,key) (al ,al))
     (if (listp al)
         (assoc key al)
         (gethash key (the hash-table al)))))">hl-flex-assoc</a> a hons-set)))
    (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> x entry)))</pre>
  </div>

<div class="form-block function" id="def-hl-hspace-honsp-wrapper" data-defines="HL-HSPACE-HONSP-WRAPPER" data-references="HL-HSPACE-HONSP,*DEFAULT-HS*,SPECIAL,DECLARE,X,DEFUN" data-part-name="HL-HSPACE-HONSP-WRAPPER" data-part-args="X" data-part-declare="*DEFAULT-HS*,SPECIAL,DECLARE" data-part-body="*DEFAULT-HS*,X,HL-HSPACE-HONSP" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-HSPACE-HONSP-WRAPPER">hl-hspace-honsp-wrapper</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-hspace-honsp-wrapper" data-sym="HL-HSPACE-HONSP-WRAPPER" title="(defun hl-hspace-honsp-wrapper (x)
  (declare (special *default-hs*))
  (hl-hspace-honsp x *default-hs*))">hl-hspace-honsp-wrapper</a>
  (x)
  (declare (special *default-hs*))
  (<a class="sym-link local-def" href="#def-hl-hspace-honsp" data-sym="HL-HSPACE-HONSP" title="(defun hl-hspace-honsp (x hs)
  (let* ((a (car x))
         (b (cdr x))
         (ctables (hl-hspace-ctables hs))
         (hons-set (hl-hspace-find-flex-alist-for-cdr b ctables))
...">hl-hspace-honsp</a> x *default-hs*))</pre>
  </div>

<div class="form-block function" id="def-hl-hspace-faltable-wrapper" data-defines="HL-HSPACE-FALTABLE-WRAPPER" data-references="HL-HSPACE-FALTABLE,*DEFAULT-HS*,SPECIAL,DECLARE,DEFUN" data-part-name="HL-HSPACE-FALTABLE-WRAPPER" data-part-declare="*DEFAULT-HS*,SPECIAL,DECLARE" data-part-body="*DEFAULT-HS*,HL-HSPACE-FALTABLE" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-HSPACE-FALTABLE-WRAPPER">hl-hspace-faltable-wrapper</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-hspace-faltable-wrapper" data-sym="HL-HSPACE-FALTABLE-WRAPPER" title="(defun hl-hspace-faltable-wrapper ()
  (declare (special *default-hs*))
  (hl-hspace-faltable *default-hs*))">hl-hspace-faltable-wrapper</a>
  nil
  (declare (special *default-hs*))
  (hl-hspace-faltable *default-hs*))</pre>
  </div>

<div class="form-block function" id="def-hl-hspace-normedp" data-defines="HL-HSPACE-NORMEDP" data-references="T,EQ,AND,GETHASH,ENTRY,HL-HSPACE-STR-HT,STR-HT,LET*,STRINGP,HL-HSPACE-HONSP,CONSP,COND,HL-HSPACE,TYPE,DECLARE,HS,X,DEFUN" data-used-by="HL-CHECK-ALIST-FOR-SERIALIZE-RESTORE,HL-MAKE-FAST-NORM-KEYS,HL-ALIST-LONGEST-NORMED-TAIL,HL-HSPACE-NORMEDP-WRAPPER" data-part-name="HL-HSPACE-NORMEDP" data-part-args="HS,X" data-part-declare="HS,HL-HSPACE,TYPE,DECLARE" data-part-body="T,EQ,AND,GETHASH,ENTRY,HL-HSPACE-STR-HT,STR-HT,LET*,STRINGP,HS,HL-HSPACE-HONSP,X,CONSP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-HSPACE-NORMEDP">hl-hspace-normedp</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-hspace-normedp" data-sym="HL-HSPACE-NORMEDP" title="(defun hl-hspace-normedp (x hs)
  (declare (type hl-hspace hs))
  (cond ((consp x) (hl-hspace-honsp x hs))
        ((stringp x)
         (let* ((str-ht (hl-hspace-str-ht hs)) (entry (gethash x str-ht)))
...">hl-hspace-normedp</a>
  (x hs)
  (declare (type hl-hspace hs))
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((consp x) (<a class="sym-link local-def" href="#def-hl-hspace-honsp" data-sym="HL-HSPACE-HONSP" title="(defun hl-hspace-honsp (x hs)
  (let* ((a (car x))
         (b (cdr x))
         (ctables (hl-hspace-ctables hs))
         (hons-set (hl-hspace-find-flex-alist-for-cdr b ctables))
...">hl-hspace-honsp</a> x hs))
    ((stringp x) (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((str-ht (hl-hspace-str-ht hs)) (entry (gethash x str-ht)))
        (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> entry (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> x entry))))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)))</pre>
  </div>

<div class="form-block function" id="def-hl-hspace-normedp-wrapper" data-defines="HL-HSPACE-NORMEDP-WRAPPER" data-references="HL-HSPACE-NORMEDP,*DEFAULT-HS*,SPECIAL,DECLARE,X,DEFUN" data-part-name="HL-HSPACE-NORMEDP-WRAPPER" data-part-args="X" data-part-declare="*DEFAULT-HS*,SPECIAL,DECLARE" data-part-body="*DEFAULT-HS*,X,HL-HSPACE-NORMEDP" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-HSPACE-NORMEDP-WRAPPER">hl-hspace-normedp-wrapper</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-hspace-normedp-wrapper" data-sym="HL-HSPACE-NORMEDP-WRAPPER" title="(defun hl-hspace-normedp-wrapper (x)
  (declare (special *default-hs*))
  (hl-hspace-normedp x *default-hs*))">hl-hspace-normedp-wrapper</a>
  (x)
  (declare (special *default-hs*))
  (<a class="sym-link local-def" href="#def-hl-hspace-normedp" data-sym="HL-HSPACE-NORMEDP" title="(defun hl-hspace-normedp (x hs)
  (declare (type hl-hspace hs))
  (cond ((consp x) (hl-hspace-honsp x hs))
        ((stringp x)
         (let* ((str-ht (hl-hspace-str-ht hs)) (entry (gethash x str-ht)))
...">hl-hspace-normedp</a> x *default-hs*))</pre>
  </div>

<div class="form-block function" id="def-hl-hspace-hons-equal-lite" data-defines="HL-HSPACE-HONS-EQUAL-LITE" data-references="EQUAL,HL-HSPACE-HONSP,CONSP,AND,T,EQ,COND,HL-HSPACE,TYPE,DECLARE,HS,Y,X,DEFUN" data-used-by="HONS-EQUAL-LITE" data-part-name="HL-HSPACE-HONS-EQUAL-LITE" data-part-args="HS,Y,X" data-part-declare="HS,HL-HSPACE,TYPE,DECLARE" data-part-body="EQUAL,HS,HL-HSPACE-HONSP,CONSP,AND,T,Y,X,EQ,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-HSPACE-HONS-EQUAL-LITE">hl-hspace-hons-equal-lite</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-hspace-hons-equal-lite" data-sym="HL-HSPACE-HONS-EQUAL-LITE" title="(defun hl-hspace-hons-equal-lite (x y hs)
  (declare (type hl-hspace hs))
  (cond ((eq x y) t)
        ((and (consp x) (consp y) (hl-hspace-honsp x hs)
              (hl-hspace-honsp y hs))
...">hl-hspace-hons-equal-lite</a>
  (x y hs)
  (declare (type hl-hspace hs))
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> x y) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)
    ((<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (consp x)
       (consp y)
       (<a class="sym-link local-def" href="#def-hl-hspace-honsp" data-sym="HL-HSPACE-HONSP" title="(defun hl-hspace-honsp (x hs)
  (let* ((a (car x))
         (b (cdr x))
         (ctables (hl-hspace-ctables hs))
         (hons-set (hl-hspace-find-flex-alist-for-cdr b ctables))
...">hl-hspace-honsp</a> x hs)
       (<a class="sym-link local-def" href="#def-hl-hspace-honsp" data-sym="HL-HSPACE-HONSP" title="(defun hl-hspace-honsp (x hs)
  (let* ((a (car x))
         (b (cdr x))
         (ctables (hl-hspace-ctables hs))
         (hons-set (hl-hspace-find-flex-alist-for-cdr b ctables))
...">hl-hspace-honsp</a> y hs)) nil)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (equal x y))))</pre>
  </div>

<div class="form-block function" id="def-hl-hspace-hons-equal-1" data-defines="HL-HSPACE-HONS-EQUAL-1" data-references="EQUAL,CDR,CAR,HL-HSPACE-HONSP,NOT,AND,CONSP,T,EQ,COND,HL-HSPACE,TYPE,DECLARE,HS,Y,X,DEFUN" data-used-by="HL-HSPACE-HONS-EQUAL" data-part-name="HL-HSPACE-HONS-EQUAL-1" data-part-args="HS,Y,X" data-part-declare="HS,HL-HSPACE,TYPE,DECLARE" data-part-body="EQUAL,CDR,CAR,HL-HSPACE-HONS-EQUAL-1,HS,HL-HSPACE-HONSP,NOT,AND,CONSP,T,Y,X,EQ,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-HSPACE-HONS-EQUAL-1">hl-hspace-hons-equal-1</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-hspace-hons-equal-1" data-sym="HL-HSPACE-HONS-EQUAL-1" title="(defun hl-hspace-hons-equal-1 (x y hs)
  (declare (type hl-hspace hs))
  (cond ((eq x y) t)
        ((consp x)
         (and (consp y) (not (hl-hspace-honsp y hs))
...">hl-hspace-hons-equal-1</a>
  (x y hs)
  (declare (type hl-hspace hs))
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> x y) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)
    ((consp x) (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (consp y)
        (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link local-def" href="#def-hl-hspace-honsp" data-sym="HL-HSPACE-HONSP" title="(defun hl-hspace-honsp (x hs)
  (let* ((a (car x))
         (b (cdr x))
         (ctables (hl-hspace-ctables hs))
         (hons-set (hl-hspace-find-flex-alist-for-cdr b ctables))
...">hl-hspace-honsp</a> y hs))
        (<a class="sym-link local-def" href="#def-hl-hspace-hons-equal-1" data-sym="HL-HSPACE-HONS-EQUAL-1" title="(defun hl-hspace-hons-equal-1 (x y hs)
  (declare (type hl-hspace hs))
  (cond ((eq x y) t)
        ((consp x)
         (and (consp y) (not (hl-hspace-honsp y hs))
...">hl-hspace-hons-equal-1</a> (car x) (car y) hs)
        (<a class="sym-link local-def" href="#def-hl-hspace-hons-equal-1" data-sym="HL-HSPACE-HONS-EQUAL-1" title="(defun hl-hspace-hons-equal-1 (x y hs)
  (declare (type hl-hspace hs))
  (cond ((eq x y) t)
        ((consp x)
         (and (consp y) (not (hl-hspace-honsp y hs))
...">hl-hspace-hons-equal-1</a> (cdr x) (cdr y) hs)))
    ((consp y) nil)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (equal x y))))</pre>
  </div>

<div class="form-block function" id="def-hl-hspace-hons-equal" data-defines="HL-HSPACE-HONS-EQUAL" data-references="EQUAL,CDR,CAR,HL-HSPACE-HONS-EQUAL-1,HL-HSPACE-HONSP,AND,CONSP,T,EQ,COND,HL-HSPACE,TYPE,DECLARE,HS,Y,X,DEFUN" data-used-by="HONS-EQUAL" data-part-name="HL-HSPACE-HONS-EQUAL" data-part-args="HS,Y,X" data-part-declare="HS,HL-HSPACE,TYPE,DECLARE" data-part-body="EQUAL,HL-HSPACE-HONS-EQUAL,CDR,CAR,HL-HSPACE-HONS-EQUAL-1,HS,HL-HSPACE-HONSP,AND,CONSP,T,Y,X,EQ,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-HSPACE-HONS-EQUAL">hl-hspace-hons-equal</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-hspace-hons-equal" data-sym="HL-HSPACE-HONS-EQUAL" title="(defun hl-hspace-hons-equal (x y hs)
  (declare (type hl-hspace hs))
  (cond ((eq x y) t)
        ((consp x)
         (and (consp y)
...">hl-hspace-hons-equal</a>
  (x y hs)
  (declare (type hl-hspace hs))
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> x y) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)
    ((consp x) (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (consp y)
        (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link local-def" href="#def-hl-hspace-honsp" data-sym="HL-HSPACE-HONSP" title="(defun hl-hspace-honsp (x hs)
  (let* ((a (car x))
         (b (cdr x))
         (ctables (hl-hspace-ctables hs))
         (hons-set (hl-hspace-find-flex-alist-for-cdr b ctables))
...">hl-hspace-honsp</a> x hs) (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link local-def" href="#def-hl-hspace-honsp" data-sym="HL-HSPACE-HONSP" title="(defun hl-hspace-honsp (x hs)
  (let* ((a (car x))
         (b (cdr x))
         (ctables (hl-hspace-ctables hs))
         (hons-set (hl-hspace-find-flex-alist-for-cdr b ctables))
...">hl-hspace-honsp</a> y hs) nil)
              (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link local-def" href="#def-hl-hspace-hons-equal-1" data-sym="HL-HSPACE-HONS-EQUAL-1" title="(defun hl-hspace-hons-equal-1 (x y hs)
  (declare (type hl-hspace hs))
  (cond ((eq x y) t)
        ((consp x)
         (and (consp y) (not (hl-hspace-honsp y hs))
...">hl-hspace-hons-equal-1</a> (car x) (car y) hs)
                  (<a class="sym-link local-def" href="#def-hl-hspace-hons-equal-1" data-sym="HL-HSPACE-HONS-EQUAL-1" title="(defun hl-hspace-hons-equal-1 (x y hs)
  (declare (type hl-hspace hs))
  (cond ((eq x y) t)
        ((consp x)
         (and (consp y) (not (hl-hspace-honsp y hs))
...">hl-hspace-hons-equal-1</a> (cdr x) (cdr y) hs)))))
          ((<a class="sym-link local-def" href="#def-hl-hspace-honsp" data-sym="HL-HSPACE-HONSP" title="(defun hl-hspace-honsp (x hs)
  (let* ((a (car x))
         (b (cdr x))
         (ctables (hl-hspace-ctables hs))
         (hons-set (hl-hspace-find-flex-alist-for-cdr b ctables))
...">hl-hspace-honsp</a> y hs) (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link local-def" href="#def-hl-hspace-hons-equal-1" data-sym="HL-HSPACE-HONS-EQUAL-1" title="(defun hl-hspace-hons-equal-1 (x y hs)
  (declare (type hl-hspace hs))
  (cond ((eq x y) t)
        ((consp x)
         (and (consp y) (not (hl-hspace-honsp y hs))
...">hl-hspace-hons-equal-1</a> (car y) (car x) hs)
              (<a class="sym-link local-def" href="#def-hl-hspace-hons-equal-1" data-sym="HL-HSPACE-HONS-EQUAL-1" title="(defun hl-hspace-hons-equal-1 (x y hs)
  (declare (type hl-hspace hs))
  (cond ((eq x y) t)
        ((consp x)
         (and (consp y) (not (hl-hspace-honsp y hs))
...">hl-hspace-hons-equal-1</a> (cdr y) (cdr x) hs)))
          (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link local-def" href="#def-hl-hspace-hons-equal" data-sym="HL-HSPACE-HONS-EQUAL" title="(defun hl-hspace-hons-equal (x y hs)
  (declare (type hl-hspace hs))
  (cond ((eq x y) t)
        ((consp x)
         (and (consp y)
...">hl-hspace-hons-equal</a> (car x) (car y) hs)
              (<a class="sym-link local-def" href="#def-hl-hspace-hons-equal" data-sym="HL-HSPACE-HONS-EQUAL" title="(defun hl-hspace-hons-equal (x y hs)
  (declare (type hl-hspace hs))
  (cond ((eq x y) t)
        ((consp x)
         (and (consp y)
...">hl-hspace-hons-equal</a> (cdr x) (cdr y) hs))))))
    ((consp y) nil)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (equal x y))))</pre>
  </div>

<div class="form-block other" id="form-38" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defparameter *hl-addr-limit-should-clear-memo-tables* <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)</pre>
  </div>

<div class="form-block macro" id="def-hons-note" data-defines="HONS-NOTE" data-references="STRING,CONCATENATE,FORMAT,*THE-LIVE-STATE*,SCRIPT-MODE,QUOTE,F-GET-GLOBAL,NOT,AND,QUASIQUOTE,ARGS,&REST,CONTROL-STRING,NOTE-STREAM,DEFMACRO" data-used-by="HL-HSPACE-HONS-WASH,HL-HSPACE-HONS-CLEAR" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="HONS-NOTE">hons-note</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-hons-note" data-sym="HONS-NOTE" title="(defmacro hons-note (note-stream control-string &amp;rest args)
  `(and (not (f-get-global &#39;script-mode *the-live-state*))
        (format ,note-stream
                (concatenate &#39;string &quot;; Hons-Note: &quot; ,control-string) ,@args)))">hons-note</a>
  (note-stream control-string &amp;rest <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>)
  `(<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-f-get-global" data-sym="F-GET-GLOBAL">f-get-global</a> 'script-mode *the-live-state*))
    (format ,NOTE-STREAM
      (<a class="sym-link system" href="axioms.html#def-concatenate" data-sym="CONCATENATE">concatenate</a> '<a class="sym-link system" href="axioms.html#def-string" data-sym="STRING">string</a> <span class="string">"; Hons-Note: "</span> ,CONTROL-STRING)
      ,@ARGS)))</pre>
  </div>

<div class="form-block macro" id="def-time_24-hons-note" data-defines="TIME$-HONS-NOTE" data-references="TIME$,*THE-LIVE-STATE*,SCRIPT-MODE,QUOTE,F-GET-GLOBAL,IF,QUASIQUOTE,ARGS,&REST,FORM,DEFMACRO" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="TIME$-HONS-NOTE">time$-hons-note</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-time_24-hons-note" data-sym="TIME$-HONS-NOTE" title="(defmacro time$-hons-note (form &amp;rest args)
  `(if (f-get-global &#39;script-mode *the-live-state*)
       ,form
       (time$ ,form :msg
              ,(let ((msg (cadr (assoc-keyword :msg args))))
...">time$-hons-note</a>
  (form &amp;rest <a class="sym-link system" href="defuns.html#def-args" data-sym="ARGS">args</a>)
  `(if (<a class="sym-link system" href="axioms.html#def-f-get-global" data-sym="F-GET-GLOBAL">f-get-global</a> 'script-mode *the-live-state*)
    ,FORM
    (<a class="sym-link system" href="axioms.html#def-time_24" data-sym="TIME$">time$</a> ,FORM
      <span class="keyword">:msg</span> ,(LET ((MSG (CADR (ASSOC-KEYWORD :MSG ARGS))))
   (AND MSG (CONCATENATE &#39;STRING &quot;; Hons-Note: &quot; MSG)))
      ,@(REMOVE-KEYWORD :MSG ARGS))))</pre>
  </div>

<div class="form-block function" id="def-hl-hspace-norm-atom" data-defines="HL-HSPACE-NORM-ATOM" data-references="T,SETF,OR,GETHASH,ENTRY,HL-HSPACE-STR-HT,STR-HT,LET*,ARRAY,QUOTE,TYPEP,COND,HS,X,DEFUN" data-used-by="HL-HSPACE-NORM,HL-HSPACE-NORM-AUX" data-part-name="HL-HSPACE-NORM-ATOM" data-part-args="HS,X" data-part-body="T,SETF,OR,GETHASH,ENTRY,HS,HL-HSPACE-STR-HT,STR-HT,LET*,ARRAY,QUOTE,X,TYPEP,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-HSPACE-NORM-ATOM">hl-hspace-norm-atom</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-hspace-norm-atom" data-sym="HL-HSPACE-NORM-ATOM" title="(defun hl-hspace-norm-atom (x hs)
  (cond
   ((typep x &#39;array)
    (let* ((str-ht (hl-hspace-str-ht hs)) (entry (gethash x str-ht)))
      (or entry (setf (gethash x str-ht) x))))">hl-hspace-norm-atom</a>
  (x hs)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((typep x 'array) (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((str-ht (hl-hspace-str-ht hs)) (entry (gethash x str-ht)))
        (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> entry (setf (gethash x str-ht) x))))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> x)))</pre>
  </div>

<div class="form-block function" id="def-hl-hspace-hons-normed" data-defines="HL-HSPACE-HONS-NORMED" data-references="WHEN,HL-FLEX-ACONS,NEW-FLEX-ALIST,LISTP,WAS-ALISTP,HL-FLEX-ASSOC,FLEX-ALIST,HL-CTABLES-CDR-HT-EQL,HL-CTABLES-CDR-HT,ARRAY,QUOTE,TYPEP,SYMBOLP,MAIN-TABLE,SETF,CONS,CDR,CAR,CONSP,AND,NEW-CONS,OR,GETHASH,ENTRY,HL-CTABLES-NIL-HT,NIL-HT,LET*,EQ,IF,HL-HSPACE-CTABLES,CTABLES,LET,HS,HINT,B,A,DEFUN" data-used-by="HL-HSPACE-HONS,HL-HSPACE-NORM-AUX-CONSP" data-part-name="HL-HSPACE-HONS-NORMED" data-part-args="HS,HINT,B,A" data-part-body="WHEN,HL-FLEX-ACONS,NEW-FLEX-ALIST,LISTP,WAS-ALISTP,HL-FLEX-ASSOC,FLEX-ALIST,HL-CTABLES-CDR-HT-EQL,HL-CTABLES-CDR-HT,ARRAY,QUOTE,TYPEP,SYMBOLP,MAIN-TABLE,SETF,CONS,CDR,CAR,HINT,CONSP,AND,NEW-CONS,OR,A,GETHASH,ENTRY,HL-CTABLES-NIL-HT,NIL-HT,LET*,B,EQ,IF,HS,HL-HSPACE-CTABLES,CTABLES,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-HSPACE-HONS-NORMED">hl-hspace-hons-normed</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-hspace-hons-normed" data-sym="HL-HSPACE-HONS-NORMED" title="(defun hl-hspace-hons-normed (a b hint hs)
  (let ((ctables (hl-hspace-ctables hs)))
    (if (eq b nil)
        (let* ((nil-ht (hl-ctables-nil-ht ctables)) (entry (gethash a nil-ht)))
          (or entry
...">hl-hspace-hons-normed</a>
  (a b hint hs)
  (let ((ctables (hl-hspace-ctables hs)))
    (if (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> b nil)
      (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((nil-ht (hl-ctables-nil-ht ctables)) (entry (gethash a nil-ht)))
        (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> entry
          (let ((new-cons (if (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (consp hint) (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (car hint) a) (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (cdr hint) b))
                 hint
                 (cons a b))))
            (setf (gethash a nil-ht) new-cons))))
      (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((main-table (if (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (consp b) (symbolp b) (typep b 'array))
             (hl-ctables-cdr-ht ctables)
             (hl-ctables-cdr-ht-eql ctables))) (flex-alist (gethash b main-table))
          (entry (<a class="sym-link local-def" href="#def-hl-flex-assoc" data-sym="HL-FLEX-ASSOC" title="(defmacro hl-flex-assoc (key al)
  `(let ((key ,key) (al ,al))
     (if (listp al)
         (assoc key al)
         (gethash key (the hash-table al)))))">hl-flex-assoc</a> a flex-alist)))
        (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> entry
          (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((was-alistp (<a class="sym-link system" href="axioms.html#def-listp" data-sym="LISTP">listp</a> flex-alist)) (new-cons (if (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (consp hint) (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (car hint) a) (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> (cdr hint) b))
                  hint
                  (cons a b)))
              (new-flex-alist (<a class="sym-link local-def" href="#def-hl-flex-acons" data-sym="HL-FLEX-ACONS" title="(defmacro hl-flex-acons (elem al &amp;optional shared)
  `(let ((elem ,elem) (al ,al) (shared ,shared))
     (cond
      ((listp al)
       (cond
...">hl-flex-acons</a> new-cons flex-alist)))
            (when was-alistp
              (setf (gethash b main-table) new-flex-alist))
            new-cons))))))</pre>
  </div>

<div class="form-block macro" id="def-hl-hspace-norm-aux-consp" data-defines="HL-HSPACE-NORM-AUX-CONSP" data-references="HL-CACHE-SET,HL-HSPACE-HONS-NORMED,CDR,CAR,HL-HSPACE-NORM-AUX,LET*,IF,HL-CACHE-GET,MV-LET,QUASIQUOTE,LIST,X-PRIME,D,A,VAL,PRESENT-P,QUOTE,INTERSECTP-EQ,NOT,SYMBOLP,AND,ASSERT,HS,CACHE,X,DEFMACRO" data-used-by="HL-HSPACE-NORM-EXPENSIVE,HL-HSPACE-NORM-AUX" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-HSPACE-NORM-AUX-CONSP">hl-hspace-norm-aux-consp</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-hl-hspace-norm-aux-consp" data-sym="HL-HSPACE-NORM-AUX-CONSP" title="(defmacro hl-hspace-norm-aux-consp (x cache hs)
  (assert (and (symbolp x) (symbolp cache) (symbolp hs)))
  (assert (not (intersectp-eq &#39;(present-p val a d x-prime) (list x cache hs))))
  `(mv-let (present-p val) (hl-cache-get ,x ,cache)
           (if present-p
...">hl-hspace-norm-aux-consp</a>
  (x cache hs)
  (assert (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (symbolp x) (symbolp cache) (symbolp hs)))
  (assert (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-intersectp-eq" data-sym="INTERSECTP-EQ">intersectp-eq</a> '(present-p val a d x-prime)
        (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> x cache hs))))
  `(<a class="sym-link system" href="axioms.html#def-mv-let" data-sym="MV-LET">mv-let</a> (present-p val)
    (<a class="sym-link local-def" href="#def-hl-cache-get" data-sym="HL-CACHE-GET" title="(defun hl-cache-get (key cache)
  (declare (type hl-cache cache))
  (let* ((table (hl-cache-table cache)) (val (gethash key table)))
    (if val
        (mv t val)">hl-cache-get</a> ,X ,CACHE)
    (if present-p
      val
      (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((a (<a class="sym-link local-def" href="#def-hl-hspace-norm-aux" data-sym="HL-HSPACE-NORM-AUX" title="(defun hl-hspace-norm-aux (x cache hs)
  (declare (type hl-cache cache)
           (type hl-hspace hs))
  (cond ((atom x) (hl-hspace-norm-atom x hs)) ((hl-hspace-honsp x hs) x)
        (t (hl-hspace-norm-aux-consp x cache hs))))">hl-hspace-norm-aux</a> (car ,X) ,CACHE ,HS)) (d (<a class="sym-link local-def" href="#def-hl-hspace-norm-aux" data-sym="HL-HSPACE-NORM-AUX" title="(defun hl-hspace-norm-aux (x cache hs)
  (declare (type hl-cache cache)
           (type hl-hspace hs))
  (cond ((atom x) (hl-hspace-norm-atom x hs)) ((hl-hspace-honsp x hs) x)
        (t (hl-hspace-norm-aux-consp x cache hs))))">hl-hspace-norm-aux</a> (cdr ,X) ,CACHE ,HS))
          (x-prime (<a class="sym-link local-def" href="#def-hl-hspace-hons-normed" data-sym="HL-HSPACE-HONS-NORMED" title="(defun hl-hspace-hons-normed (a b hint hs)
  (let ((ctables (hl-hspace-ctables hs)))
    (if (eq b nil)
        (let* ((nil-ht (hl-ctables-nil-ht ctables)) (entry (gethash a nil-ht)))
          (or entry
...">hl-hspace-hons-normed</a> a d ,X ,HS)))
        (<a class="sym-link local-def" href="#def-hl-cache-set" data-sym="HL-CACHE-SET" title="(defun hl-cache-set (key val cache)
  (declare (type hl-cache cache))
  (let ((table (hl-cache-table cache)) (count (hl-cache-count cache)))
    (cond
     ((&gt;= (the fixnum count) (the fixnum hl-cache-table-cutoff))
...">hl-cache-set</a> ,X x-prime ,CACHE)
        x-prime))))</pre>
  </div>

<div class="form-block function" id="def-hl-hspace-norm-aux" data-defines="HL-HSPACE-NORM-AUX" data-references="HL-HSPACE-NORM-AUX-CONSP,T,HL-HSPACE-HONSP,HL-HSPACE-NORM-ATOM,ATOM,COND,HL-HSPACE,HL-CACHE,TYPE,DECLARE,HS,CACHE,X,DEFUN" data-used-by="HL-HSPACE-NORM-AUX-CONSP" data-part-name="HL-HSPACE-NORM-AUX" data-part-args="HS,CACHE,X" data-part-declare="HS,HL-HSPACE,CACHE,HL-CACHE,TYPE,DECLARE" data-part-body="CACHE,HL-HSPACE-NORM-AUX-CONSP,T,HL-HSPACE-HONSP,HS,HL-HSPACE-NORM-ATOM,X,ATOM,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-HSPACE-NORM-AUX">hl-hspace-norm-aux</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-hspace-norm-aux" data-sym="HL-HSPACE-NORM-AUX" title="(defun hl-hspace-norm-aux (x cache hs)
  (declare (type hl-cache cache)
           (type hl-hspace hs))
  (cond ((atom x) (hl-hspace-norm-atom x hs)) ((hl-hspace-honsp x hs) x)
        (t (hl-hspace-norm-aux-consp x cache hs))))">hl-hspace-norm-aux</a>
  (x cache hs)
  (declare (type hl-cache cache)
    (type hl-hspace hs))
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-atom" data-sym="ATOM">atom</a> x) (<a class="sym-link local-def" href="#def-hl-hspace-norm-atom" data-sym="HL-HSPACE-NORM-ATOM" title="(defun hl-hspace-norm-atom (x hs)
  (cond
   ((typep x &#39;array)
    (let* ((str-ht (hl-hspace-str-ht hs)) (entry (gethash x str-ht)))
      (or entry (setf (gethash x str-ht) x))))">hl-hspace-norm-atom</a> x hs))
    ((<a class="sym-link local-def" href="#def-hl-hspace-honsp" data-sym="HL-HSPACE-HONSP" title="(defun hl-hspace-honsp (x hs)
  (let* ((a (car x))
         (b (cdr x))
         (ctables (hl-hspace-ctables hs))
         (hons-set (hl-hspace-find-flex-alist-for-cdr b ctables))
...">hl-hspace-honsp</a> x hs) x)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-hl-hspace-norm-aux-consp" data-sym="HL-HSPACE-NORM-AUX-CONSP" title="(defmacro hl-hspace-norm-aux-consp (x cache hs)
  (assert (and (symbolp x) (symbolp cache) (symbolp hs)))
  (assert (not (intersectp-eq &#39;(present-p val a d x-prime) (list x cache hs))))
  `(mv-let (present-p val) (hl-cache-get ,x ,cache)
           (if present-p
...">hl-hspace-norm-aux-consp</a> x cache hs))))</pre>
  </div>

<div class="form-block other" id="form-45" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(declaim (inline <a class="sym-link local-def" href="#def-hl-hspace-norm-expensive" data-sym="HL-HSPACE-NORM-EXPENSIVE" title="(defun hl-hspace-norm-expensive (x hs)
  (let ((cache (hl-hspace-norm-cache hs)))
    (hl-hspace-norm-aux-consp x cache hs)))">hl-hspace-norm-expensive</a>))</pre>
  </div>

<div class="form-block function" id="def-hl-hspace-norm-expensive" data-defines="HL-HSPACE-NORM-EXPENSIVE" data-references="HL-HSPACE-NORM-AUX-CONSP,HL-HSPACE-NORM-CACHE,CACHE,LET,HS,X,DEFUN" data-used-by="HL-HSPACE-NORM" data-part-name="HL-HSPACE-NORM-EXPENSIVE" data-part-args="HS,X" data-part-body="X,HL-HSPACE-NORM-AUX-CONSP,HS,HL-HSPACE-NORM-CACHE,CACHE,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-HSPACE-NORM-EXPENSIVE">hl-hspace-norm-expensive</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-hspace-norm-expensive" data-sym="HL-HSPACE-NORM-EXPENSIVE" title="(defun hl-hspace-norm-expensive (x hs)
  (let ((cache (hl-hspace-norm-cache hs)))
    (hl-hspace-norm-aux-consp x cache hs)))">hl-hspace-norm-expensive</a>
  (x hs)
  (let ((cache (hl-hspace-norm-cache hs)))
    (<a class="sym-link local-def" href="#def-hl-hspace-norm-aux-consp" data-sym="HL-HSPACE-NORM-AUX-CONSP" title="(defmacro hl-hspace-norm-aux-consp (x cache hs)
  (assert (and (symbolp x) (symbolp cache) (symbolp hs)))
  (assert (not (intersectp-eq &#39;(present-p val a d x-prime) (list x cache hs))))
  `(mv-let (present-p val) (hl-cache-get ,x ,cache)
           (if present-p
...">hl-hspace-norm-aux-consp</a> x cache hs)))</pre>
  </div>

<div class="form-block other" id="form-47" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(declaim (inline <a class="sym-link local-def" href="#def-hl-hspace-norm" data-sym="HL-HSPACE-NORM" title="(defun hl-hspace-norm (x hs)
  (cond ((atom x) (hl-hspace-norm-atom x hs)) ((hl-hspace-honsp x hs) x)
        (t (hl-hspace-norm-expensive x hs))))">hl-hspace-norm</a>))</pre>
  </div>

<div class="form-block function" id="def-hl-hspace-norm" data-defines="HL-HSPACE-NORM" data-references="HL-HSPACE-NORM-EXPENSIVE,T,HL-HSPACE-HONSP,HL-HSPACE-NORM-ATOM,ATOM,COND,HS,X,DEFUN" data-used-by="HONS-COPY,HL-HSPACE-NUMBER-SUBTREES,HL-FAST-ALIST-FORK-AUX-SLOW,HL-FAST-ALIST-FORK-AUX-REALLY-SLOW,HL-MAKE-FAST-NORM-KEYS,HL-HSPACE-HONS-ACONS!,HL-HSPACE-HONS-ACONS,HL-HSPACE-HONS-GET,HL-HSPACE-HONS,HL-HSPACE-PERSISTENT-NORM" data-part-name="HL-HSPACE-NORM" data-part-args="HS,X" data-part-body="HL-HSPACE-NORM-EXPENSIVE,T,HL-HSPACE-HONSP,HS,HL-HSPACE-NORM-ATOM,X,ATOM,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-HSPACE-NORM">hl-hspace-norm</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-hspace-norm" data-sym="HL-HSPACE-NORM" title="(defun hl-hspace-norm (x hs)
  (cond ((atom x) (hl-hspace-norm-atom x hs)) ((hl-hspace-honsp x hs) x)
        (t (hl-hspace-norm-expensive x hs))))">hl-hspace-norm</a>
  (x hs)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-atom" data-sym="ATOM">atom</a> x) (<a class="sym-link local-def" href="#def-hl-hspace-norm-atom" data-sym="HL-HSPACE-NORM-ATOM" title="(defun hl-hspace-norm-atom (x hs)
  (cond
   ((typep x &#39;array)
    (let* ((str-ht (hl-hspace-str-ht hs)) (entry (gethash x str-ht)))
      (or entry (setf (gethash x str-ht) x))))">hl-hspace-norm-atom</a> x hs))
    ((<a class="sym-link local-def" href="#def-hl-hspace-honsp" data-sym="HL-HSPACE-HONSP" title="(defun hl-hspace-honsp (x hs)
  (let* ((a (car x))
         (b (cdr x))
         (ctables (hl-hspace-ctables hs))
         (hons-set (hl-hspace-find-flex-alist-for-cdr b ctables))
...">hl-hspace-honsp</a> x hs) x)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-hl-hspace-norm-expensive" data-sym="HL-HSPACE-NORM-EXPENSIVE" title="(defun hl-hspace-norm-expensive (x hs)
  (let ((cache (hl-hspace-norm-cache hs)))
    (hl-hspace-norm-aux-consp x cache hs)))">hl-hspace-norm-expensive</a> x hs))))</pre>
  </div>

<div class="form-block function" id="def-hl-hspace-persistent-norm" data-defines="HL-HSPACE-PERSISTENT-NORM" data-references="T,GETHASH,SETF,HL-HSPACE-PERSIST-HT,PERSIST-HT,CONSP,WHEN,HL-HSPACE-NORM,LET,HS,X,DEFUN" data-used-by="HONS-COPY-PERSISTENT" data-part-name="HL-HSPACE-PERSISTENT-NORM" data-part-args="HS,X" data-part-body="T,GETHASH,SETF,HL-HSPACE-PERSIST-HT,PERSIST-HT,CONSP,WHEN,HS,HL-HSPACE-NORM,X,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-HSPACE-PERSISTENT-NORM">hl-hspace-persistent-norm</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-hspace-persistent-norm" data-sym="HL-HSPACE-PERSISTENT-NORM" title="(defun hl-hspace-persistent-norm (x hs)
  (let ((x (hl-hspace-norm x hs)))
    (when (consp x)
      (let ((persist-ht (hl-hspace-persist-ht hs)))
        (setf (gethash x persist-ht) t)))">hl-hspace-persistent-norm</a>
  (x hs)
  (let ((x (<a class="sym-link local-def" href="#def-hl-hspace-norm" data-sym="HL-HSPACE-NORM" title="(defun hl-hspace-norm (x hs)
  (cond ((atom x) (hl-hspace-norm-atom x hs)) ((hl-hspace-honsp x hs) x)
        (t (hl-hspace-norm-expensive x hs))))">hl-hspace-norm</a> x hs)))
    (when (consp x)
      (let ((persist-ht (hl-hspace-persist-ht hs)))
        (setf (gethash x persist-ht) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)))
    x))</pre>
  </div>

<div class="form-block macro" id="def-hl-hspace-hons" data-defines="HL-HSPACE-HONS" data-references="HL-HSPACE-NORM,HL-HSPACE-HONS-NORMED,HL-HSPACE,TYPE,DECLARE,LET,QUASIQUOTE,HS,Y,X,DEFMACRO" data-used-by="HONS,HL-FAST-ALIST-CLEAN-AUX,HL-FAST-ALIST-FORK-AUX-FAST,HL-FAST-ALIST-FORK-AUX-SLOW,HL-FAST-ALIST-FORK-AUX-REALLY-SLOW,HL-HSPACE-HONS-ACONS!" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-HSPACE-HONS">hl-hspace-hons</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-hl-hspace-hons" data-sym="HL-HSPACE-HONS" title="(defmacro hl-hspace-hons (x y hs)
  `(let ((x ,x) (y ,y) (hs ,hs))
     (declare (type hl-hspace hs))
     (hl-hspace-hons-normed (hl-hspace-norm x hs) (hl-hspace-norm y hs) nil
                            hs)))">hl-hspace-hons</a>
  (x y hs)
  `(let ((x ,X) (y ,Y) (hs ,HS))
    (declare (type hl-hspace hs))
    (<a class="sym-link local-def" href="#def-hl-hspace-hons-normed" data-sym="HL-HSPACE-HONS-NORMED" title="(defun hl-hspace-hons-normed (a b hint hs)
  (let ((ctables (hl-hspace-ctables hs)))
    (if (eq b nil)
        (let* ((nil-ht (hl-ctables-nil-ht ctables)) (entry (gethash a nil-ht)))
          (or entry
...">hl-hspace-hons-normed</a> (<a class="sym-link local-def" href="#def-hl-hspace-norm" data-sym="HL-HSPACE-NORM" title="(defun hl-hspace-norm (x hs)
  (cond ((atom x) (hl-hspace-norm-atom x hs)) ((hl-hspace-honsp x hs) x)
        (t (hl-hspace-norm-expensive x hs))))">hl-hspace-norm</a> x hs)
      (<a class="sym-link local-def" href="#def-hl-hspace-norm" data-sym="HL-HSPACE-NORM" title="(defun hl-hspace-norm (x hs)
  (cond ((atom x) (hl-hspace-norm-atom x hs)) ((hl-hspace-honsp x hs) x)
        (t (hl-hspace-norm-expensive x hs))))">hl-hspace-norm</a> y hs)
      nil
      hs)))</pre>
  </div>

<div class="form-block other" id="form-51" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defvar *defeat-slow-alist-action* nil)</pre>
  </div>

<div class="form-block function" id="def-get-slow-alist-action" data-defines="GET-SLOW-ALIST-ACTION" data-references="CDR,CONSP,SLOW-ALIST-WARNING,HONS-ASSOC-EQUAL,WARNING,W,HONS,QUOTE,TABLE-ALIST,ALIST,LET*,T,EQ,*DEFEAT-SLOW-ALIST-ACTION*,NOT,IF,AND,STATE,STOLEN-P,DEFUN" data-used-by="HL-ALIST-STOLEN-WARNING,HL-SLOW-ALIST-WARNING" data-part-name="GET-SLOW-ALIST-ACTION" data-part-args="STATE,STOLEN-P" data-part-body="CDR,CONSP,SLOW-ALIST-WARNING,HONS-ASSOC-EQUAL,WARNING,STATE,W,HONS,QUOTE,TABLE-ALIST,ALIST,LET*,T,EQ,*DEFEAT-SLOW-ALIST-ACTION*,NOT,STOLEN-P,IF,AND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="GET-SLOW-ALIST-ACTION">get-slow-alist-action</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-get-slow-alist-action" data-sym="GET-SLOW-ALIST-ACTION" title="(defun get-slow-alist-action (stolen-p state)
  (and
   (if stolen-p
       (not *defeat-slow-alist-action*)
       (not (eq *defeat-slow-alist-action* t)))
...">get-slow-alist-action</a>
  (stolen-p state)
  (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (if stolen-p
      (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> *defeat-slow-alist-action*)
      (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> *defeat-slow-alist-action* <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)))
    (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((alist (<a class="sym-link system" href="axioms.html#def-table-alist" data-sym="TABLE-ALIST">table-alist</a> '<a class="sym-link local-def" href="#def-hons" data-sym="HONS" title="(defun hons (x y)
  (hl-maybe-initialize-default-hs)
  (hl-hspace-hons x y *default-hs*))">hons</a> (<a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a> state))) (warning (hons-assoc-equal 'slow-alist-warning alist)))
      (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (consp warning) (cdr warning)))))</pre>
  </div>

<div class="form-block function" id="def-hl-slow-alist-warning" data-defines="HL-SLOW-ALIST-WARNING" data-references="BREAK$,SET-SLOW-ALIST-ACTION,EQ,*ERROR-OUTPUT*,FORMAT,NORMAL-STRING,SLOW-ALIST-WARNING,CAR,BOOK-NAME-TO-FILENAME,STRING,CONCATENATE,IF,BOOK-STRING,INCLUDE-BOOK-PATH,QUOTE,GLOBAL-VAL,PATH,W,WRLD,LET*,WHEN,*THE-LIVE-STATE*,GET-SLOW-ALIST-ACTION,ACTION,LET,NAME,DEFUN" data-used-by="HL-HSPACE-FAST-ALIST-LEN,HL-HSPACE-FAST-ALIST-FORK,HL-HSPACE-HONS-ACONS!,HL-HSPACE-HONS-ACONS,HL-HSPACE-HONS-GET" data-part-name="HL-SLOW-ALIST-WARNING" data-part-args="NAME" data-part-body="BREAK$,SET-SLOW-ALIST-ACTION,EQ,NAME,*ERROR-OUTPUT*,FORMAT,NORMAL-STRING,SLOW-ALIST-WARNING,CAR,BOOK-NAME-TO-FILENAME,STRING,CONCATENATE,IF,BOOK-STRING,INCLUDE-BOOK-PATH,QUOTE,GLOBAL-VAL,PATH,W,WRLD,LET*,WHEN,*THE-LIVE-STATE*,GET-SLOW-ALIST-ACTION,ACTION,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-SLOW-ALIST-WARNING">hl-slow-alist-warning</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-slow-alist-warning" data-sym="HL-SLOW-ALIST-WARNING" title="(defun hl-slow-alist-warning (name)
  (let ((action (get-slow-alist-action nil *the-live-state*)))
    (when action
      (let* ((wrld (w *the-live-state*))
             (path (global-val &#39;include-book-path wrld))
...">hl-slow-alist-warning</a>
  (name)
  (let ((action (<a class="sym-link local-def" href="#def-get-slow-alist-action" data-sym="GET-SLOW-ALIST-ACTION" title="(defun get-slow-alist-action (stolen-p state)
  (and
   (if stolen-p
       (not *defeat-slow-alist-action*)
       (not (eq *defeat-slow-alist-action* t)))
...">get-slow-alist-action</a> nil *the-live-state*)))
    (when action
      (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((wrld (<a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a> *the-live-state*)) (path (<a class="sym-link system" href="axioms.html#def-global-val" data-sym="GLOBAL-VAL">global-val</a> 'include-book-path wrld))
          (book-string (if path
              (<a class="sym-link system" href="axioms.html#def-concatenate" data-sym="CONCATENATE">concatenate</a> '<a class="sym-link system" href="axioms.html#def-string" data-sym="STRING">string</a>
                <span class="string">"
This violation occurred while attempting to include the book:
"</span>
                (<a class="sym-link system" href="basis-a.html#def-book-name-to-filename" data-sym="BOOK-NAME-TO-FILENAME">book-name-to-filename</a> (car path) wrld 'slow-alist-warning))
              <span class="string">""</span>))
          (normal-string <span class="string">"
*****************************************************************
Fast alist discipline violated in ~a.
See :DOC slow-alist-warning to suppress or break on this warning.~a
*****************************************************************~%"</span>))
        (format *error-output* normal-string name book-string))
      (when (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> action <span class="keyword">:break</span>)
        (format *error-output*
          <span class="string">"
To avoid the following break and get only the above warning:~%  ~s~%"</span>
          '(set-slow-alist-action <span class="keyword">:warning</span>))
        (<a class="sym-link system" href="axioms.html#def-break_24" data-sym="BREAK$">break$</a>)))))</pre>
  </div>

<div class="form-block function" id="def-hl-faltable-maphash" data-defines="HL-FALTABLE-MAPHASH" data-references="MAPHASH,HL-FALSLOT-VAL,FUNCALL,WHEN,T,SETF,HL-FALSLOT-KEY,REMHASH,HL-FALSLOT-UNIQUEP,UNLESS,HL-FALTABLE-TABLE,TABLE,HL-FALTABLE-SLOT2,SLOT2,HL-FALTABLE-SLOT1,SLOT1,LET,HL-FALTABLE,TYPE,DECLARE,FALTABLE,F,DEFUN" data-used-by="HL-HSPACE-FAST-ALIST-SUMMARY,HL-HSPACE-HONS-CLEAR" data-part-name="HL-FALTABLE-MAPHASH" data-part-args="FALTABLE,F" data-part-declare="FALTABLE,HL-FALTABLE,TYPE,DECLARE" data-part-body="MAPHASH,HL-FALSLOT-VAL,F,FUNCALL,WHEN,T,SETF,HL-FALSLOT-KEY,REMHASH,HL-FALSLOT-UNIQUEP,UNLESS,HL-FALTABLE-TABLE,TABLE,HL-FALTABLE-SLOT2,SLOT2,FALTABLE,HL-FALTABLE-SLOT1,SLOT1,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-FALTABLE-MAPHASH">hl-faltable-maphash</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-faltable-maphash" data-sym="HL-FALTABLE-MAPHASH" title="(defun hl-faltable-maphash (f faltable)
  (declare (type hl-faltable faltable))
  (let ((slot1 (hl-faltable-slot1 faltable))
        (slot2 (hl-faltable-slot2 faltable))
        (table (hl-faltable-table faltable)))
...">hl-faltable-maphash</a>
  (f faltable)
  (declare (type hl-faltable faltable))
  (let ((slot1 (hl-faltable-slot1 faltable)) (slot2 (hl-faltable-slot2 faltable))
      (<a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a> (hl-faltable-table faltable)))
    (unless (hl-falslot-uniquep slot1)
      (remhash (hl-falslot-key slot1) <a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a>)
      (setf (hl-falslot-uniquep slot1) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>))
    (unless (hl-falslot-uniquep slot2)
      (remhash (hl-falslot-key slot2) <a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a>)
      (setf (hl-falslot-uniquep slot2) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>))
    (when (hl-falslot-key slot1)
      (funcall f (hl-falslot-key slot1) (hl-falslot-val slot1)))
    (when (hl-falslot-key slot2)
      (funcall f (hl-falslot-key slot2) (hl-falslot-val slot2)))
    (maphash f <a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a>)))</pre>
  </div>

<div class="form-block function" id="def-hl-faltable-load-empty-slot" data-defines="HL-FALTABLE-LOAD-EMPTY-SLOT" data-references="T,REMHASH,AND,HL-FALSLOT-KEY,HL-FALSLOT-VAL,HL-FALSLOT-UNIQUEP,SETF,GETHASH,VAL,HL-FALTABLE-TABLE,TABLE,LET*,HL-FALSLOT,HL-FALTABLE,TYPE,DECLARE,FALTABLE,SLOT,ALIST,DEFUN" data-used-by="HL-FALTABLE-GENERAL-LOOKUP" data-part-name="HL-FALTABLE-LOAD-EMPTY-SLOT" data-part-args="FALTABLE,SLOT,ALIST" data-part-declare="SLOT,HL-FALSLOT,FALTABLE,HL-FALTABLE,TYPE,DECLARE" data-part-body="T,REMHASH,AND,HL-FALSLOT-KEY,HL-FALSLOT-VAL,SLOT,HL-FALSLOT-UNIQUEP,SETF,ALIST,GETHASH,VAL,FALTABLE,HL-FALTABLE-TABLE,TABLE,LET*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-FALTABLE-LOAD-EMPTY-SLOT">hl-faltable-load-empty-slot</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-faltable-load-empty-slot" data-sym="HL-FALTABLE-LOAD-EMPTY-SLOT" title="(defun hl-faltable-load-empty-slot (alist slot faltable)
  (declare (type hl-faltable faltable)
           (type hl-falslot slot))
  (let* ((table (hl-faltable-table faltable)) (val (gethash alist table)))
    (setf (hl-falslot-uniquep slot) nil)
...">hl-faltable-load-empty-slot</a>
  (alist slot faltable)
  (declare (type hl-faltable faltable)
    (type hl-falslot slot))
  (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((<a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a> (hl-faltable-table faltable)) (val (gethash alist <a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a>)))
    (setf (hl-falslot-uniquep slot) nil)
    (setf (hl-falslot-val slot) val)
    (setf (hl-falslot-key slot) (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> val alist))
    (remhash alist <a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a>)
    (setf (hl-falslot-uniquep slot) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)))</pre>
  </div>

<div class="form-block function" id="def-hl-faltable-eject" data-defines="HL-FALTABLE-EJECT" data-references="T,HL-FALSLOT-VAL,HL-FALTABLE-TABLE,GETHASH,HL-FALSLOT-UNIQUEP,SETF,WHEN,HL-FALSLOT-KEY,KEY,LET,HL-FALSLOT,HL-FALTABLE,TYPE,DECLARE,FALTABLE,SLOT,DEFUN" data-used-by="HL-FALTABLE-CLEAR-CACHE,HL-FALTABLE-GET-FREE-SLOT" data-part-name="HL-FALTABLE-EJECT" data-part-args="FALTABLE,SLOT" data-part-declare="SLOT,HL-FALSLOT,FALTABLE,HL-FALTABLE,TYPE,DECLARE" data-part-body="T,HL-FALSLOT-VAL,FALTABLE,HL-FALTABLE-TABLE,GETHASH,HL-FALSLOT-UNIQUEP,SETF,WHEN,SLOT,HL-FALSLOT-KEY,KEY,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-FALTABLE-EJECT">hl-faltable-eject</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-faltable-eject" data-sym="HL-FALTABLE-EJECT" title="(defun hl-faltable-eject (slot faltable)
  (declare (type hl-faltable faltable)
           (type hl-falslot slot))
  (let ((key (hl-falslot-key slot)))
    (when key
...">hl-faltable-eject</a>
  (slot faltable)
  (declare (type hl-faltable faltable)
    (type hl-falslot slot))
  (let ((key (hl-falslot-key slot)))
    (when key
      (setf (hl-falslot-uniquep slot) nil)
      (setf (gethash key (hl-faltable-table faltable))
        (hl-falslot-val slot))
      (setf (hl-falslot-key slot) nil)
      (setf (hl-falslot-val slot) nil)
      (setf (hl-falslot-uniquep slot) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>))))</pre>
  </div>

<div class="form-block function" id="def-hl-faltable-get-free-slot" data-defines="HL-FALTABLE-GET-FREE-SLOT" data-references="NOT,SETF,HL-FALTABLE-EJECT,HL-FALTABLE-SLOT2,HL-FALTABLE-SLOT1,IF,LOSER,HL-FALTABLE-EJECT1,EJECT1,LET*,HL-FALTABLE,TYPE,DECLARE,FALTABLE,DEFUN" data-used-by="HL-HSPACE-FAST-ALIST-FORK,HL-HSPACE-HONS-ACONS!,HL-HSPACE-HONS-ACONS,HL-FALTABLE-GENERAL-LOOKUP" data-part-name="HL-FALTABLE-GET-FREE-SLOT" data-part-args="FALTABLE" data-part-declare="FALTABLE,HL-FALTABLE,TYPE,DECLARE" data-part-body="NOT,SETF,HL-FALTABLE-EJECT,HL-FALTABLE-SLOT2,HL-FALTABLE-SLOT1,IF,LOSER,FALTABLE,HL-FALTABLE-EJECT1,EJECT1,LET*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-FALTABLE-GET-FREE-SLOT">hl-faltable-get-free-slot</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-faltable-get-free-slot" data-sym="HL-FALTABLE-GET-FREE-SLOT" title="(defun hl-faltable-get-free-slot (faltable)
  (declare (type hl-faltable faltable))
  (let* ((eject1 (hl-faltable-eject1 faltable))
         (loser
          (if eject1
...">hl-faltable-get-free-slot</a>
  (faltable)
  (declare (type hl-faltable faltable))
  (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((eject1 (hl-faltable-eject1 faltable)) (loser (if eject1
          (hl-faltable-slot1 faltable)
          (hl-faltable-slot2 faltable))))
    (<a class="sym-link local-def" href="#def-hl-faltable-eject" data-sym="HL-FALTABLE-EJECT" title="(defun hl-faltable-eject (slot faltable)
  (declare (type hl-faltable faltable)
           (type hl-falslot slot))
  (let ((key (hl-falslot-key slot)))
    (when key
...">hl-faltable-eject</a> loser faltable)
    (setf (hl-faltable-eject1 faltable) (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> eject1))
    loser))</pre>
  </div>

<div class="form-block function" id="def-hl-faltable-slot-lookup" data-defines="HL-FALTABLE-SLOT-LOOKUP" data-references="NOT,HL-FALTABLE-EJECT1,T,SETF,HL-FALTABLE-TABLE,REMHASH,HL-FALSLOT-UNIQUEP,RETURN-FROM,UNLESS,HL-FALTABLE-SLOT2,SLOT2,LET,HL-FALSLOT-KEY,EQ,IF,SLOT,HL-FALTABLE-SLOT1,SLOT1,LET*,HL-FALTABLE,TYPE,DECLARE,FALTABLE,ALIST,DEFUN" data-used-by="HL-FALTABLE-REMOVE,HL-FALTABLE-GENERAL-LOOKUP" data-part-name="HL-FALTABLE-SLOT-LOOKUP" data-part-args="FALTABLE,ALIST" data-part-declare="FALTABLE,HL-FALTABLE,TYPE,DECLARE" data-part-body="NOT,HL-FALTABLE-EJECT1,T,SETF,HL-FALTABLE-TABLE,REMHASH,HL-FALSLOT-UNIQUEP,HL-FALTABLE-SLOT-LOOKUP,RETURN-FROM,UNLESS,HL-FALTABLE-SLOT2,SLOT2,LET,HL-FALSLOT-KEY,ALIST,EQ,IF,SLOT,FALTABLE,HL-FALTABLE-SLOT1,SLOT1,LET*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-FALTABLE-SLOT-LOOKUP">hl-faltable-slot-lookup</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-faltable-slot-lookup" data-sym="HL-FALTABLE-SLOT-LOOKUP" title="(defun hl-faltable-slot-lookup (alist faltable)
  (declare (type hl-faltable faltable))
  (let* ((slot1 (hl-faltable-slot1 faltable))
         (slot
          (if (eq alist (hl-falslot-key slot1))
...">hl-faltable-slot-lookup</a>
  (alist faltable)
  (declare (type hl-faltable faltable))
  (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((slot1 (hl-faltable-slot1 faltable)) (slot (if (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> alist (hl-falslot-key slot1))
          slot1
          (let ((slot2 (hl-faltable-slot2 faltable)))
            (if (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> alist (hl-falslot-key slot2))
              slot2
              nil)))))
    (unless slot (return-from <a class="sym-link local-def" href="#def-hl-faltable-slot-lookup" data-sym="HL-FALTABLE-SLOT-LOOKUP" title="(defun hl-faltable-slot-lookup (alist faltable)
  (declare (type hl-faltable faltable))
  (let* ((slot1 (hl-faltable-slot1 faltable))
         (slot
          (if (eq alist (hl-falslot-key slot1))
...">hl-faltable-slot-lookup</a> nil))
    (unless (hl-falslot-uniquep slot)
      (remhash alist (hl-faltable-table faltable))
      (setf (hl-falslot-uniquep slot) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>))
    (setf (hl-faltable-eject1 faltable) (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> slot slot1)))
    slot))</pre>
  </div>

<div class="form-block function" id="def-hl-faltable-general-lookup" data-defines="HL-FALTABLE-GENERAL-LOOKUP" data-references="HL-FALTABLE-LOAD-EMPTY-SLOT,HL-FALTABLE-GET-FREE-SLOT,SLOT,LET,HL-FALTABLE-SLOT-LOOKUP,OR,HL-FALTABLE,TYPE,DECLARE,FALTABLE,ALIST,DEFUN" data-used-by="WITH-STOLEN-ALIST-RAW,WITH-FAST-ALIST-RAW,HL-HSPACE-RESTORE-FAL-FOR-SERIALIZE,HL-HSPACE-FAST-ALIST-LEN,HL-HSPACE-FAST-ALIST-CLEAN,HL-HSPACE-FAST-ALIST-FORK,HL-HSPACE-MAKE-FAST-ALIST,HL-HSPACE-HONS-ACONS!,HL-HSPACE-HONS-ACONS,HL-HSPACE-HONS-GET" data-part-name="HL-FALTABLE-GENERAL-LOOKUP" data-part-args="FALTABLE,ALIST" data-part-declare="FALTABLE,HL-FALTABLE,TYPE,DECLARE" data-part-body="HL-FALTABLE-LOAD-EMPTY-SLOT,HL-FALTABLE-GET-FREE-SLOT,SLOT,LET,FALTABLE,ALIST,HL-FALTABLE-SLOT-LOOKUP,OR" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-FALTABLE-GENERAL-LOOKUP">hl-faltable-general-lookup</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-faltable-general-lookup" data-sym="HL-FALTABLE-GENERAL-LOOKUP" title="(defun hl-faltable-general-lookup (alist faltable)
  (declare (type hl-faltable faltable))
  (or (hl-faltable-slot-lookup alist faltable)
      (let ((slot (hl-faltable-get-free-slot faltable)))
        (hl-faltable-load-empty-slot alist slot faltable)">hl-faltable-general-lookup</a>
  (alist faltable)
  (declare (type hl-faltable faltable))
  (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link local-def" href="#def-hl-faltable-slot-lookup" data-sym="HL-FALTABLE-SLOT-LOOKUP" title="(defun hl-faltable-slot-lookup (alist faltable)
  (declare (type hl-faltable faltable))
  (let* ((slot1 (hl-faltable-slot1 faltable))
         (slot
          (if (eq alist (hl-falslot-key slot1))
...">hl-faltable-slot-lookup</a> alist faltable)
    (let ((slot (<a class="sym-link local-def" href="#def-hl-faltable-get-free-slot" data-sym="HL-FALTABLE-GET-FREE-SLOT" title="(defun hl-faltable-get-free-slot (faltable)
  (declare (type hl-faltable faltable))
  (let* ((eject1 (hl-faltable-eject1 faltable))
         (loser
          (if eject1
...">hl-faltable-get-free-slot</a> faltable)))
      (<a class="sym-link local-def" href="#def-hl-faltable-load-empty-slot" data-sym="HL-FALTABLE-LOAD-EMPTY-SLOT" title="(defun hl-faltable-load-empty-slot (alist slot faltable)
  (declare (type hl-faltable faltable)
           (type hl-falslot slot))
  (let* ((table (hl-faltable-table faltable)) (val (gethash alist table)))
    (setf (hl-falslot-uniquep slot) nil)
...">hl-faltable-load-empty-slot</a> alist slot faltable)
      slot)))</pre>
  </div>

<div class="form-block function" id="def-hl-faltable-remove" data-defines="HL-FALTABLE-REMOVE" data-references="HL-FALTABLE-TABLE,REMHASH,T,NOT,HL-FALTABLE-EJECT1,HL-FALSLOT-VAL,HL-FALSLOT-KEY,SETF,COND,HL-FALTABLE-SLOT-LOOKUP,SLOT,LET,HL-FALTABLE,TYPE,DECLARE,FALTABLE,ALIST,DEFUN" data-used-by="HL-HSPACE-FAST-ALIST-FREE" data-part-name="HL-FALTABLE-REMOVE" data-part-args="FALTABLE,ALIST" data-part-declare="FALTABLE,HL-FALTABLE,TYPE,DECLARE" data-part-body="HL-FALTABLE-TABLE,REMHASH,T,NOT,HL-FALTABLE-EJECT1,HL-FALSLOT-VAL,HL-FALSLOT-KEY,SETF,COND,FALTABLE,ALIST,HL-FALTABLE-SLOT-LOOKUP,SLOT,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-FALTABLE-REMOVE">hl-faltable-remove</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-faltable-remove" data-sym="HL-FALTABLE-REMOVE" title="(defun hl-faltable-remove (alist faltable)
  (declare (type hl-faltable faltable))
  (let ((slot (hl-faltable-slot-lookup alist faltable)))
    (cond
     (slot (setf (hl-falslot-key slot) nil) (setf (hl-falslot-val slot) nil)
...">hl-faltable-remove</a>
  (alist faltable)
  (declare (type hl-faltable faltable))
  (let ((slot (<a class="sym-link local-def" href="#def-hl-faltable-slot-lookup" data-sym="HL-FALTABLE-SLOT-LOOKUP" title="(defun hl-faltable-slot-lookup (alist faltable)
  (declare (type hl-faltable faltable))
  (let* ((slot1 (hl-faltable-slot1 faltable))
         (slot
          (if (eq alist (hl-falslot-key slot1))
...">hl-faltable-slot-lookup</a> alist faltable)))
    (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> (slot (setf (hl-falslot-key slot) nil)
        (setf (hl-falslot-val slot) nil)
        (setf (hl-faltable-eject1 faltable)
          (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (hl-faltable-eject1 faltable))))
      (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (remhash alist (hl-faltable-table faltable))))))</pre>
  </div>

<div class="form-block function" id="def-hl-hspace-fast-alist-free" data-defines="HL-HSPACE-FAST-ALIST-FREE" data-references="HL-HSPACE-FALTABLE,HL-FALTABLE-REMOVE,T,ATOM,COND,HL-HSPACE,TYPE,DECLARE,HS,ALIST,DEFUN" data-used-by="FAST-ALIST-FREE,HL-HSPACE-FAST-ALIST-LEN" data-part-name="HL-HSPACE-FAST-ALIST-FREE" data-part-args="HS,ALIST" data-part-declare="HS,HL-HSPACE,TYPE,DECLARE" data-part-body="HS,HL-HSPACE-FALTABLE,HL-FALTABLE-REMOVE,T,ALIST,ATOM,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-HSPACE-FAST-ALIST-FREE">hl-hspace-fast-alist-free</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-hspace-fast-alist-free" data-sym="HL-HSPACE-FAST-ALIST-FREE" title="(defun hl-hspace-fast-alist-free (alist hs)
  (declare (type hl-hspace hs))
  (cond ((atom alist) alist)
        (t (hl-faltable-remove alist (hl-hspace-faltable hs)) alist)))">hl-hspace-fast-alist-free</a>
  (alist hs)
  (declare (type hl-hspace hs))
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-atom" data-sym="ATOM">atom</a> alist) alist)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-hl-faltable-remove" data-sym="HL-FALTABLE-REMOVE" title="(defun hl-faltable-remove (alist faltable)
  (declare (type hl-faltable faltable))
  (let ((slot (hl-faltable-slot-lookup alist faltable)))
    (cond
     (slot (setf (hl-falslot-key slot) nil) (setf (hl-falslot-val slot) nil)
...">hl-faltable-remove</a> alist (hl-hspace-faltable hs)) alist)))</pre>
  </div>

<div class="form-block function" id="def-hl-hspace-hons-get" data-defines="HL-HSPACE-HONS-GET" data-references="HONS-ASSOC-EQUAL,HONS-GET,QUOTE,HL-SLOW-ALIST-WARNING,PROGN,HL-HSPACE-NORM,GETHASH,VALUES,HL-FALSLOT-VAL,VAL,HL-FALTABLE-GENERAL-LOOKUP,SLOT,HL-HSPACE-FALTABLE,FALTABLE,LET*,ATOM,IF,HL-HSPACE,TYPE,DECLARE,HS,ALIST,KEY,DEFUN" data-used-by="HONS-GET" data-part-name="HL-HSPACE-HONS-GET" data-part-args="HS,ALIST,KEY" data-part-declare="HS,HL-HSPACE,TYPE,DECLARE" data-part-body="HONS-ASSOC-EQUAL,HONS-GET,QUOTE,HL-SLOW-ALIST-WARNING,PROGN,KEY,HL-HSPACE-NORM,GETHASH,VALUES,HL-FALSLOT-VAL,VAL,HL-FALTABLE-GENERAL-LOOKUP,SLOT,HS,HL-HSPACE-FALTABLE,FALTABLE,LET*,ALIST,ATOM,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-HSPACE-HONS-GET">hl-hspace-hons-get</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-hspace-hons-get" data-sym="HL-HSPACE-HONS-GET" title="(defun hl-hspace-hons-get (key alist hs)
  (declare (type hl-hspace hs))
  (if (atom alist)
      nil
      (let* ((faltable (hl-hspace-faltable hs))
...">hl-hspace-hons-get</a>
  (key alist hs)
  (declare (type hl-hspace hs))
  (if (<a class="sym-link system" href="axioms.html#def-atom" data-sym="ATOM">atom</a> alist)
    nil
    (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((faltable (hl-hspace-faltable hs)) (slot (<a class="sym-link local-def" href="#def-hl-faltable-general-lookup" data-sym="HL-FALTABLE-GENERAL-LOOKUP" title="(defun hl-faltable-general-lookup (alist faltable)
  (declare (type hl-faltable faltable))
  (or (hl-faltable-slot-lookup alist faltable)
      (let ((slot (hl-faltable-get-free-slot faltable)))
        (hl-faltable-load-empty-slot alist slot faltable)">hl-faltable-general-lookup</a> alist faltable))
        (val (hl-falslot-val slot)))
      (if val
        (values (gethash (<a class="sym-link local-def" href="#def-hl-hspace-norm" data-sym="HL-HSPACE-NORM" title="(defun hl-hspace-norm (x hs)
  (cond ((atom x) (hl-hspace-norm-atom x hs)) ((hl-hspace-honsp x hs) x)
        (t (hl-hspace-norm-expensive x hs))))">hl-hspace-norm</a> key hs) val))
        (<a class="sym-link system" href="axioms.html#def-progn" data-sym="PROGN">progn</a> (<a class="sym-link local-def" href="#def-hl-slow-alist-warning" data-sym="HL-SLOW-ALIST-WARNING" title="(defun hl-slow-alist-warning (name)
  (let ((action (get-slow-alist-action nil *the-live-state*)))
    (when action
      (let* ((wrld (w *the-live-state*))
             (path (global-val &#39;include-book-path wrld))
...">hl-slow-alist-warning</a> '<a class="sym-link local-def" href="#def-hons-get" data-sym="HONS-GET" title="(defun hons-get (key fal)
  (hl-maybe-initialize-default-hs)
  (hl-hspace-hons-get key fal *default-hs*))">hons-get</a>)
          (hons-assoc-equal key alist))))))</pre>
  </div>

<div class="form-block function" id="def-hl-hspace-hons-acons" data-defines="HL-HSPACE-HONS-ACONS" data-references="PROGN,HONS-ACONS,HL-SLOW-ALIST-WARNING,NOT,VAL,HL-FALTABLE-GENERAL-LOOKUP,HL-FALSLOT-KEY,HL-FALSLOT-VAL,HASH-TABLE,GETHASH,SETF,HL-FALTABLE-GET-FREE-SLOT,SLOT,HL-MHT,TAB,THE,<=,FIXNUM,QUOTE,TYPEP,AND,SIZE,ATOM,IF,HL-HSPACE-FALTABLE,FALTABLE,ANS,CONS,ENTRY,HL-HSPACE-NORM,LET*,HL-HSPACE,TYPE,DECLARE,HS,ALIST,VALUE,KEY,DEFUN" data-used-by="HONS-ACONS" data-part-name="HL-HSPACE-HONS-ACONS" data-part-args="HS,ALIST,VALUE,KEY" data-part-declare="HS,HL-HSPACE,TYPE,DECLARE" data-part-body="PROGN,HONS-ACONS,HL-SLOW-ALIST-WARNING,NOT,VAL,HL-FALTABLE-GENERAL-LOOKUP,HL-FALSLOT-KEY,HL-FALSLOT-VAL,HASH-TABLE,GETHASH,SETF,HL-FALTABLE-GET-FREE-SLOT,SLOT,HL-MHT,TAB,THE,<=,FIXNUM,QUOTE,TYPEP,AND,SIZE,ATOM,IF,HL-HSPACE-FALTABLE,FALTABLE,ALIST,ANS,VALUE,CONS,ENTRY,HS,HL-HSPACE-NORM,KEY,LET*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-HSPACE-HONS-ACONS">hl-hspace-hons-acons</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-hspace-hons-acons" data-sym="HL-HSPACE-HONS-ACONS" title="(defun hl-hspace-hons-acons (key value alist hs)
  (declare (type hl-hspace hs))
  (let* ((key (hl-hspace-norm key hs))
         (entry (cons key value))
         (ans (cons entry alist))
...">hl-hspace-hons-acons</a>
  (key <a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> alist hs)
  (declare (type hl-hspace hs))
  (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((key (<a class="sym-link local-def" href="#def-hl-hspace-norm" data-sym="HL-HSPACE-NORM" title="(defun hl-hspace-norm (x hs)
  (cond ((atom x) (hl-hspace-norm-atom x hs)) ((hl-hspace-honsp x hs) x)
        (t (hl-hspace-norm-expensive x hs))))">hl-hspace-norm</a> key hs)) (entry (cons key <a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a>))
      (ans (cons entry alist))
      (faltable (hl-hspace-faltable hs)))
    (if (<a class="sym-link system" href="axioms.html#def-atom" data-sym="ATOM">atom</a> alist)
      (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((size (if (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (typep alist 'fixnum) (<a class="sym-link system" href="axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> <span class="number">60</span> (<a class="sym-link system" href="axioms.html#def-the" data-sym="THE">the</a> fixnum alist)))
             alist
             <span class="number">60</span>)) (tab (<a class="sym-link local-def" href="#def-hl-mht" data-sym="HL-MHT" title="(defmacro hl-mht (&amp;rest args) `(hl-mht-fn ,@args))">hl-mht</a> <span class="keyword">:size</span> size))
          (slot (<a class="sym-link local-def" href="#def-hl-faltable-get-free-slot" data-sym="HL-FALTABLE-GET-FREE-SLOT" title="(defun hl-faltable-get-free-slot (faltable)
  (declare (type hl-faltable faltable))
  (let* ((eject1 (hl-faltable-eject1 faltable))
         (loser
          (if eject1
...">hl-faltable-get-free-slot</a> faltable)))
        (setf (gethash key (<a class="sym-link system" href="axioms.html#def-the" data-sym="THE">the</a> hash-table tab)) entry)
        (setf (hl-falslot-val slot) tab)
        (setf (hl-falslot-key slot) ans))
      (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((slot (<a class="sym-link local-def" href="#def-hl-faltable-general-lookup" data-sym="HL-FALTABLE-GENERAL-LOOKUP" title="(defun hl-faltable-general-lookup (alist faltable)
  (declare (type hl-faltable faltable))
  (or (hl-faltable-slot-lookup alist faltable)
      (let ((slot (hl-faltable-get-free-slot faltable)))
        (hl-faltable-load-empty-slot alist slot faltable)">hl-faltable-general-lookup</a> alist faltable)) (val (hl-falslot-val slot)))
        (if (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> val)
          (<a class="sym-link local-def" href="#def-hl-slow-alist-warning" data-sym="HL-SLOW-ALIST-WARNING" title="(defun hl-slow-alist-warning (name)
  (let ((action (get-slow-alist-action nil *the-live-state*)))
    (when action
      (let* ((wrld (w *the-live-state*))
             (path (global-val &#39;include-book-path wrld))
...">hl-slow-alist-warning</a> '<a class="sym-link local-def" href="#def-hons-acons" data-sym="HONS-ACONS" title="(defun hons-acons (key val fal)
  (hl-maybe-initialize-default-hs)
  (hl-hspace-hons-acons key val fal *default-hs*))">hons-acons</a>)
          (<a class="sym-link system" href="axioms.html#def-progn" data-sym="PROGN">progn</a> (setf (hl-falslot-key slot) nil)
            (setf (gethash key (<a class="sym-link system" href="axioms.html#def-the" data-sym="THE">the</a> hash-table val)) entry)
            (setf (hl-falslot-key slot) ans)))))
    ans))</pre>
  </div>

<div class="form-block function" id="def-hl-alist-stolen-warning" data-defines="HL-ALIST-STOLEN-WARNING" data-references="BREAK$,CAR,BOOK-NAME-TO-FILENAME,STRING,CONCATENATE,IF,SET-SLOW-ALIST-ACTION,*ERROR-OUTPUT*,FORMAT,INCLUDE-BOOK-PATH,GLOBAL-VAL,PATH,W,WRLD,LET*,STOLEN,QUOTE,*DEFEAT-SLOW-ALIST-ACTION*,EQ,NOT,AND,WHEN,*THE-LIVE-STATE*,T,GET-SLOW-ALIST-ACTION,ACTION,LET,NAME,DEFUN" data-used-by="HL-HSPACE-RESTORE-FAL-FOR-SERIALIZE,HL-HSPACE-FAST-ALIST-FORK,HL-HSPACE-HONS-ACONS!" data-part-name="HL-ALIST-STOLEN-WARNING" data-part-args="NAME" data-part-body="BREAK$,HL-ALIST-STOLEN-WARNING,CAR,BOOK-NAME-TO-FILENAME,STRING,CONCATENATE,IF,SET-SLOW-ALIST-ACTION,NAME,*ERROR-OUTPUT*,FORMAT,INCLUDE-BOOK-PATH,GLOBAL-VAL,PATH,W,WRLD,LET*,STOLEN,QUOTE,*DEFEAT-SLOW-ALIST-ACTION*,EQ,NOT,AND,WHEN,*THE-LIVE-STATE*,T,GET-SLOW-ALIST-ACTION,ACTION,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-ALIST-STOLEN-WARNING">hl-alist-stolen-warning</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-alist-stolen-warning" data-sym="HL-ALIST-STOLEN-WARNING" title="(defun hl-alist-stolen-warning (name)
  (let ((action (get-slow-alist-action t *the-live-state*)))
    (when (and action (not (eq *defeat-slow-alist-action* &#39;stolen)))
      (let* ((wrld (w *the-live-state*))
             (path (global-val &#39;include-book-path wrld)))
...">hl-alist-stolen-warning</a>
  (name)
  (let ((action (<a class="sym-link local-def" href="#def-get-slow-alist-action" data-sym="GET-SLOW-ALIST-ACTION" title="(defun get-slow-alist-action (stolen-p state)
  (and
   (if stolen-p
       (not *defeat-slow-alist-action*)
       (not (eq *defeat-slow-alist-action* t)))
...">get-slow-alist-action</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> *the-live-state*)))
    (when (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> action (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> *defeat-slow-alist-action* 'stolen)))
      (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((wrld (<a class="sym-link system" href="axioms.html#def-w" data-sym="W">w</a> *the-live-state*)) (path (<a class="sym-link system" href="axioms.html#def-global-val" data-sym="GLOBAL-VAL">global-val</a> 'include-book-path wrld)))
        (format *error-output*
          <span class="string">"
*****************************************************************
Fast alist stolen by ~a.
See the documentation for fast alists for how to fix the problem,
or suppress this warning message with:~%  ~a~a
****************************************************************~%"</span>
          name
          '(set-slow-alist-action nil)
          (if path
            (<a class="sym-link system" href="axioms.html#def-concatenate" data-sym="CONCATENATE">concatenate</a> '<a class="sym-link system" href="axioms.html#def-string" data-sym="STRING">string</a>
              <span class="string">"
This violation occurred while attempting to include the book:
"</span>
              (<a class="sym-link system" href="basis-a.html#def-book-name-to-filename" data-sym="BOOK-NAME-TO-FILENAME">book-name-to-filename</a> (car path)
                wrld
                '<a class="sym-link local-def" href="#def-hl-alist-stolen-warning" data-sym="HL-ALIST-STOLEN-WARNING" title="(defun hl-alist-stolen-warning (name)
  (let ((action (get-slow-alist-action t *the-live-state*)))
    (when (and action (not (eq *defeat-slow-alist-action* &#39;stolen)))
      (let* ((wrld (w *the-live-state*))
             (path (global-val &#39;include-book-path wrld)))
...">hl-alist-stolen-warning</a>))
            <span class="string">""</span>)))
      (when (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> action <span class="keyword">:break</span>)
        (format *error-output*
          <span class="string">"
To avoid the following break and get only the above warning:~%  ~s~%"</span>
          '(set-slow-alist-action <span class="keyword">:warning</span>))
        (<a class="sym-link system" href="axioms.html#def-break_24" data-sym="BREAK$">break$</a>)))))</pre>
  </div>

<div class="form-block function" id="def-hl-hspace-hons-acons_21" data-defines="HL-HSPACE-HONS-ACONS!" data-references="PROGN,HONS-ACONS,HL-SLOW-ALIST-WARNING,NOT,VAL,HASH-TABLE,GETHASH,HL-FALTABLE-GET-FREE-SLOT,HL-MHT,TAB,THE,<=,FIXNUM,TYPEP,AND,SIZE,ATOM,IF,HL-FALSLOT-VAL,SETF,HONS-ACONS!,QUOTE,HL-ALIST-STOLEN-WARNING,HL-FALSLOT-KEY,WHEN,HL-FALTABLE-GENERAL-LOOKUP,SLOT,LET,HL-HSPACE-FALTABLE,FALTABLE,ANS,HL-HSPACE-HONS,ENTRY,HL-HSPACE-NORM,LET*,HL-HSPACE,TYPE,DECLARE,HS,ALIST,VALUE,KEY,DEFUN" data-used-by="HONS-ACONS!" data-part-name="HL-HSPACE-HONS-ACONS!" data-part-args="HS,ALIST,VALUE,KEY" data-part-declare="HS,HL-HSPACE,TYPE,DECLARE" data-part-body="PROGN,HONS-ACONS,HL-SLOW-ALIST-WARNING,NOT,VAL,HASH-TABLE,GETHASH,HL-FALTABLE-GET-FREE-SLOT,HL-MHT,TAB,THE,<=,FIXNUM,TYPEP,AND,SIZE,ATOM,IF,HL-FALSLOT-VAL,SETF,HONS-ACONS!,QUOTE,HL-ALIST-STOLEN-WARNING,HL-FALSLOT-KEY,WHEN,HL-FALTABLE-GENERAL-LOOKUP,SLOT,LET,HL-HSPACE-FALTABLE,FALTABLE,ALIST,ANS,VALUE,HL-HSPACE-HONS,ENTRY,HS,HL-HSPACE-NORM,KEY,LET*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-HSPACE-HONS-ACONS!">hl-hspace-hons-acons!</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-hspace-hons-acons_21" data-sym="HL-HSPACE-HONS-ACONS!" title="(defun hl-hspace-hons-acons! (key value alist hs)
  (declare (type hl-hspace hs))
  (let* ((key (hl-hspace-norm key hs))
         (entry (hl-hspace-hons key value hs))
         (ans (hl-hspace-hons entry alist hs))
...">hl-hspace-hons-acons!</a>
  (key <a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> alist hs)
  (declare (type hl-hspace hs))
  (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((key (<a class="sym-link local-def" href="#def-hl-hspace-norm" data-sym="HL-HSPACE-NORM" title="(defun hl-hspace-norm (x hs)
  (cond ((atom x) (hl-hspace-norm-atom x hs)) ((hl-hspace-honsp x hs) x)
        (t (hl-hspace-norm-expensive x hs))))">hl-hspace-norm</a> key hs)) (entry (<a class="sym-link local-def" href="#def-hl-hspace-hons" data-sym="HL-HSPACE-HONS" title="(defmacro hl-hspace-hons (x y hs)
  `(let ((x ,x) (y ,y) (hs ,hs))
     (declare (type hl-hspace hs))
     (hl-hspace-hons-normed (hl-hspace-norm x hs) (hl-hspace-norm y hs) nil
                            hs)))">hl-hspace-hons</a> key <a class="sym-link system" href="axioms.html#def-value" data-sym="VALUE">value</a> hs))
      (ans (<a class="sym-link local-def" href="#def-hl-hspace-hons" data-sym="HL-HSPACE-HONS" title="(defmacro hl-hspace-hons (x y hs)
  `(let ((x ,x) (y ,y) (hs ,hs))
     (declare (type hl-hspace hs))
     (hl-hspace-hons-normed (hl-hspace-norm x hs) (hl-hspace-norm y hs) nil
                            hs)))">hl-hspace-hons</a> entry alist hs))
      (faltable (hl-hspace-faltable hs)))
    (let ((slot (<a class="sym-link local-def" href="#def-hl-faltable-general-lookup" data-sym="HL-FALTABLE-GENERAL-LOOKUP" title="(defun hl-faltable-general-lookup (alist faltable)
  (declare (type hl-faltable faltable))
  (or (hl-faltable-slot-lookup alist faltable)
      (let ((slot (hl-faltable-get-free-slot faltable)))
        (hl-faltable-load-empty-slot alist slot faltable)">hl-faltable-general-lookup</a> ans faltable)))
      (when (hl-falslot-key slot)
        (<a class="sym-link local-def" href="#def-hl-alist-stolen-warning" data-sym="HL-ALIST-STOLEN-WARNING" title="(defun hl-alist-stolen-warning (name)
  (let ((action (get-slow-alist-action t *the-live-state*)))
    (when (and action (not (eq *defeat-slow-alist-action* &#39;stolen)))
      (let* ((wrld (w *the-live-state*))
             (path (global-val &#39;include-book-path wrld)))
...">hl-alist-stolen-warning</a> '<a class="sym-link local-def" href="#def-hons-acons_21" data-sym="HONS-ACONS!" title="(defun hons-acons! (key val fal)
  (hl-maybe-initialize-default-hs)
  (hl-hspace-hons-acons! key val fal *default-hs*))">hons-acons!</a>)
        (setf (hl-falslot-key slot) nil)
        (setf (hl-falslot-val slot) nil)))
    (if (<a class="sym-link system" href="axioms.html#def-atom" data-sym="ATOM">atom</a> alist)
      (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((size (if (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (typep alist 'fixnum) (<a class="sym-link system" href="axioms.html#def-_3C_3D" data-sym="&lt;=">&lt;=</a> <span class="number">60</span> (<a class="sym-link system" href="axioms.html#def-the" data-sym="THE">the</a> fixnum alist)))
             alist
             <span class="number">60</span>)) (tab (<a class="sym-link local-def" href="#def-hl-mht" data-sym="HL-MHT" title="(defmacro hl-mht (&amp;rest args) `(hl-mht-fn ,@args))">hl-mht</a> <span class="keyword">:size</span> size))
          (slot (<a class="sym-link local-def" href="#def-hl-faltable-get-free-slot" data-sym="HL-FALTABLE-GET-FREE-SLOT" title="(defun hl-faltable-get-free-slot (faltable)
  (declare (type hl-faltable faltable))
  (let* ((eject1 (hl-faltable-eject1 faltable))
         (loser
          (if eject1
...">hl-faltable-get-free-slot</a> faltable)))
        (setf (gethash key (<a class="sym-link system" href="axioms.html#def-the" data-sym="THE">the</a> hash-table tab)) entry)
        (setf (hl-falslot-val slot) tab)
        (setf (hl-falslot-key slot) ans))
      (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((slot (<a class="sym-link local-def" href="#def-hl-faltable-general-lookup" data-sym="HL-FALTABLE-GENERAL-LOOKUP" title="(defun hl-faltable-general-lookup (alist faltable)
  (declare (type hl-faltable faltable))
  (or (hl-faltable-slot-lookup alist faltable)
      (let ((slot (hl-faltable-get-free-slot faltable)))
        (hl-faltable-load-empty-slot alist slot faltable)">hl-faltable-general-lookup</a> alist faltable)) (val (hl-falslot-val slot)))
        (if (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> val)
          (<a class="sym-link local-def" href="#def-hl-slow-alist-warning" data-sym="HL-SLOW-ALIST-WARNING" title="(defun hl-slow-alist-warning (name)
  (let ((action (get-slow-alist-action nil *the-live-state*)))
    (when action
      (let* ((wrld (w *the-live-state*))
             (path (global-val &#39;include-book-path wrld))
...">hl-slow-alist-warning</a> '<a class="sym-link local-def" href="#def-hons-acons" data-sym="HONS-ACONS" title="(defun hons-acons (key val fal)
  (hl-maybe-initialize-default-hs)
  (hl-hspace-hons-acons key val fal *default-hs*))">hons-acons</a>)
          (<a class="sym-link system" href="axioms.html#def-progn" data-sym="PROGN">progn</a> (setf (hl-falslot-key slot) nil)
            (setf (gethash key (<a class="sym-link system" href="axioms.html#def-the" data-sym="THE">the</a> hash-table val)) entry)
            (setf (hl-falslot-key slot) ans)))))
    ans))</pre>
  </div>

<div class="form-block function" id="def-hl-alist-longest-normed-tail" data-defines="HL-ALIST-LONGEST-NORMED-TAIL" data-references="CDR,SETQ,HL-HSPACE-NORMEDP,NOT,AND,WHEN,CAR,PAIR,DO,CONSP,WHILE,ON,TAIL,FOR,LOOP,OK-TAIL,LET,HL-HSPACE,TYPE,DECLARE,HS,ALIST,DEFUN" data-used-by="HL-HSPACE-MAKE-FAST-ALIST" data-part-name="HL-ALIST-LONGEST-NORMED-TAIL" data-part-args="HS,ALIST" data-part-declare="HS,HL-HSPACE,TYPE,DECLARE" data-part-body="CDR,SETQ,HS,HL-HSPACE-NORMEDP,NOT,AND,WHEN,CAR,PAIR,DO,CONSP,WHILE,ON,TAIL,FOR,LOOP,ALIST,OK-TAIL,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-ALIST-LONGEST-NORMED-TAIL">hl-alist-longest-normed-tail</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-alist-longest-normed-tail" data-sym="HL-ALIST-LONGEST-NORMED-TAIL" title="(defun hl-alist-longest-normed-tail (alist hs)
  (declare (type hl-hspace hs))
  (let ((ok-tail alist))
    (loop for tail on alist
          while (consp tail)
...">hl-alist-longest-normed-tail</a>
  (alist hs)
  (declare (type hl-hspace hs))
  (let ((ok-tail alist))
    (loop for
      tail
      on
      alist
      while
      (consp tail)
      do
      (let ((pair (car tail)))
        (when (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (consp pair) (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link local-def" href="#def-hl-hspace-normedp" data-sym="HL-HSPACE-NORMEDP" title="(defun hl-hspace-normedp (x hs)
  (declare (type hl-hspace hs))
  (cond ((consp x) (hl-hspace-honsp x hs))
        ((stringp x)
         (let* ((str-ht (hl-hspace-str-ht hs)) (entry (gethash x str-ht)))
...">hl-hspace-normedp</a> (car pair) hs)))
          (setq ok-tail (cdr tail)))))
    ok-tail))</pre>
  </div>

<div class="form-block function" id="def-hl-make-fast-norm-keys" data-defines="HL-MAKE-FAST-NORM-KEYS" data-references="SETQ,SETF,CDR,HL-HSPACE-NORM,HL-HSPACE-NORMEDP,CONS,CAR,PAIR,DO,NOT,CONSP,AND,WHILE,ON,REST,FOR,LOOP,LAST-CONS,LIST,FIRST-CONS,LET*,EQ,IF,HL-HSPACE,TYPE,DECLARE,HS,TAIL,ALIST,DEFUN" data-used-by="HL-HSPACE-MAKE-FAST-ALIST" data-part-name="HL-MAKE-FAST-NORM-KEYS" data-part-args="HS,TAIL,ALIST" data-part-declare="HS,HL-HSPACE,TYPE,DECLARE" data-part-body="SETQ,SETF,CDR,HL-HSPACE-NORM,HS,HL-HSPACE-NORMEDP,CONS,CAR,PAIR,DO,NOT,CONSP,AND,WHILE,ON,REST,FOR,LOOP,LAST-CONS,LIST,FIRST-CONS,LET*,ALIST,TAIL,EQ,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-MAKE-FAST-NORM-KEYS">hl-make-fast-norm-keys</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-make-fast-norm-keys" data-sym="HL-MAKE-FAST-NORM-KEYS" title="(defun hl-make-fast-norm-keys (alist tail hs)
  (declare (type hl-hspace hs))
  (if (eq tail alist)
      alist
      (let* ((first-cons (list nil)) (last-cons first-cons))
...">hl-make-fast-norm-keys</a>
  (alist tail hs)
  (declare (type hl-hspace hs))
  (if (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> tail alist)
    alist
    (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((first-cons (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> nil)) (last-cons first-cons))
      (loop for
        <a class="sym-link system" href="axioms.html#def-rest" data-sym="REST">rest</a>
        on
        alist
        while
        (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (consp <a class="sym-link system" href="axioms.html#def-rest" data-sym="REST">rest</a>) (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> <a class="sym-link system" href="axioms.html#def-rest" data-sym="REST">rest</a> tail)))
        do
        (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((pair (car <a class="sym-link system" href="axioms.html#def-rest" data-sym="REST">rest</a>)) (cons (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> (if (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (consp pair) (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link local-def" href="#def-hl-hspace-normedp" data-sym="HL-HSPACE-NORMEDP" title="(defun hl-hspace-normedp (x hs)
  (declare (type hl-hspace hs))
  (cond ((consp x) (hl-hspace-honsp x hs))
        ((stringp x)
         (let* ((str-ht (hl-hspace-str-ht hs)) (entry (gethash x str-ht)))
...">hl-hspace-normedp</a> (car pair) hs)))
                  (cons (<a class="sym-link local-def" href="#def-hl-hspace-norm" data-sym="HL-HSPACE-NORM" title="(defun hl-hspace-norm (x hs)
  (cond ((atom x) (hl-hspace-norm-atom x hs)) ((hl-hspace-honsp x hs) x)
        (t (hl-hspace-norm-expensive x hs))))">hl-hspace-norm</a> (car pair) hs) (cdr pair))
                  pair))))
          (setf (cdr last-cons) cons)
          (setq last-cons cons)))
      (setf (cdr last-cons) tail)
      (cdr first-cons))))</pre>
  </div>

<div class="form-block function" id="def-hl-make-fast-alist-put-pairs" data-defines="HL-MAKE-FAST-ALIST-PUT-PAIRS" data-references="SETF,GETHASH,NOT,AND,WHEN,CAR,PAIR,LET,DO,CONSP,WHILE,ON,REST,FOR,LOOP,HASH-TABLE,TYPE,DECLARE,HT,ALIST,DEFUN" data-used-by="HL-HSPACE-RESTORE-FAL-FOR-SERIALIZE,HL-HSPACE-MAKE-FAST-ALIST" data-part-name="HL-MAKE-FAST-ALIST-PUT-PAIRS" data-part-args="HT,ALIST" data-part-declare="HT,HASH-TABLE,TYPE,DECLARE" data-part-body="SETF,HT,GETHASH,NOT,AND,WHEN,CAR,PAIR,LET,DO,CONSP,WHILE,ALIST,ON,REST,FOR,LOOP" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-MAKE-FAST-ALIST-PUT-PAIRS">hl-make-fast-alist-put-pairs</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-make-fast-alist-put-pairs" data-sym="HL-MAKE-FAST-ALIST-PUT-PAIRS" title="(defun hl-make-fast-alist-put-pairs (alist ht)
  (declare (type hash-table ht))
  (loop for rest on alist
        while (consp rest)
        do (let ((pair (car rest)))
...">hl-make-fast-alist-put-pairs</a>
  (alist ht)
  (declare (type hash-table ht))
  (loop for
    <a class="sym-link system" href="axioms.html#def-rest" data-sym="REST">rest</a>
    on
    alist
    while
    (consp <a class="sym-link system" href="axioms.html#def-rest" data-sym="REST">rest</a>)
    do
    (let ((pair (car <a class="sym-link system" href="axioms.html#def-rest" data-sym="REST">rest</a>)))
      (when (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (consp pair) (<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (gethash (car pair) ht)))
        (setf (gethash (car pair) ht) pair)))))</pre>
  </div>

<div class="form-block function" id="def-hl-hspace-make-fast-alist" data-defines="HL-HSPACE-MAKE-FAST-ALIST" data-references="HL-FALSLOT-KEY,SETF,HL-MAKE-FAST-ALIST-PUT-PAIRS,LEN,ASH,MAX,HL-MHT,SETQ,HL-MAKE-FAST-NORM-KEYS,HL-ALIST-LONGEST-NORMED-TAIL,TAIL,HL-FALSLOT-VAL,ALIST-TABLE,HL-FALTABLE-GENERAL-LOOKUP,SLOT,HL-HSPACE-FALTABLE,FALTABLE,LET*,ATOM,IF,HL-HSPACE,TYPE,DECLARE,HS,ALIST,DEFUN" data-used-by="MAKE-FAST-ALIST" data-part-name="HL-HSPACE-MAKE-FAST-ALIST" data-part-args="HS,ALIST" data-part-declare="HS,HL-HSPACE,TYPE,DECLARE" data-part-body="HL-FALSLOT-KEY,SETF,HL-MAKE-FAST-ALIST-PUT-PAIRS,LEN,ASH,MAX,HL-MHT,SETQ,HL-MAKE-FAST-NORM-KEYS,HL-ALIST-LONGEST-NORMED-TAIL,TAIL,HL-FALSLOT-VAL,ALIST-TABLE,HL-FALTABLE-GENERAL-LOOKUP,SLOT,HS,HL-HSPACE-FALTABLE,FALTABLE,LET*,ALIST,ATOM,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-HSPACE-MAKE-FAST-ALIST">hl-hspace-make-fast-alist</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-hspace-make-fast-alist" data-sym="HL-HSPACE-MAKE-FAST-ALIST" title="(defun hl-hspace-make-fast-alist (alist hs)
  (declare (type hl-hspace hs))
  (if (atom alist)
      alist
      (let* ((faltable (hl-hspace-faltable hs))
...">hl-hspace-make-fast-alist</a>
  (alist hs)
  (declare (type hl-hspace hs))
  (if (<a class="sym-link system" href="axioms.html#def-atom" data-sym="ATOM">atom</a> alist)
    alist
    (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((faltable (hl-hspace-faltable hs)) (slot (<a class="sym-link local-def" href="#def-hl-faltable-general-lookup" data-sym="HL-FALTABLE-GENERAL-LOOKUP" title="(defun hl-faltable-general-lookup (alist faltable)
  (declare (type hl-faltable faltable))
  (or (hl-faltable-slot-lookup alist faltable)
      (let ((slot (hl-faltable-get-free-slot faltable)))
        (hl-faltable-load-empty-slot alist slot faltable)">hl-faltable-general-lookup</a> alist faltable))
        (alist-table (hl-falslot-val slot)))
      (if alist-table
        alist
        (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((tail (<a class="sym-link local-def" href="#def-hl-alist-longest-normed-tail" data-sym="HL-ALIST-LONGEST-NORMED-TAIL" title="(defun hl-alist-longest-normed-tail (alist hs)
  (declare (type hl-hspace hs))
  (let ((ok-tail alist))
    (loop for tail on alist
          while (consp tail)
...">hl-alist-longest-normed-tail</a> alist hs)) (alist (<a class="sym-link local-def" href="#def-hl-make-fast-norm-keys" data-sym="HL-MAKE-FAST-NORM-KEYS" title="(defun hl-make-fast-norm-keys (alist tail hs)
  (declare (type hl-hspace hs))
  (if (eq tail alist)
      alist
      (let* ((first-cons (list nil)) (last-cons first-cons))
...">hl-make-fast-norm-keys</a> alist tail hs)))
          (setq alist-table
            (<a class="sym-link local-def" href="#def-hl-mht" data-sym="HL-MHT" title="(defmacro hl-mht (&amp;rest args) `(hl-mht-fn ,@args))">hl-mht</a> <span class="keyword">:size</span> (max <span class="number">60</span> (ash (<a class="sym-link system" href="axioms.html#def-len" data-sym="LEN">len</a> alist) <span class="number">-3</span>))))
          (<a class="sym-link local-def" href="#def-hl-make-fast-alist-put-pairs" data-sym="HL-MAKE-FAST-ALIST-PUT-PAIRS" title="(defun hl-make-fast-alist-put-pairs (alist ht)
  (declare (type hash-table ht))
  (loop for rest on alist
        while (consp rest)
        do (let ((pair (car rest)))
...">hl-make-fast-alist-put-pairs</a> alist alist-table)
          (setf (hl-falslot-val slot) alist-table)
          (setf (hl-falslot-key slot) alist)
          alist)))))</pre>
  </div>

<div class="form-block function" id="def-hl-fast-alist-fork-aux-really-slow" data-defines="HL-FAST-ALIST-FORK-AUX-REALLY-SLOW" data-references="CONS,CDAR,HL-HSPACE-HONS,SETQ,PROGN,IF,UNLESS,HONS-ASSOC-EQUAL,ENTRY,CAAR,HL-HSPACE-NORM,KEY,LET*,T,CDR,CAR,ATOM,COND,HS,HONSP,ANS,ALIST,DEFUN" data-used-by="HL-HSPACE-FAST-ALIST-FORK" data-part-name="HL-FAST-ALIST-FORK-AUX-REALLY-SLOW" data-part-args="HS,HONSP,ANS,ALIST" data-part-body="CONS,CDAR,HL-HSPACE-HONS,SETQ,PROGN,IF,UNLESS,HONS-ASSOC-EQUAL,ENTRY,CAAR,HL-HSPACE-NORM,KEY,LET*,T,HS,HONSP,CDR,HL-FAST-ALIST-FORK-AUX-REALLY-SLOW,CAR,ANS,ALIST,ATOM,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-FAST-ALIST-FORK-AUX-REALLY-SLOW">hl-fast-alist-fork-aux-really-slow</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-fast-alist-fork-aux-really-slow" data-sym="HL-FAST-ALIST-FORK-AUX-REALLY-SLOW" title="(defun hl-fast-alist-fork-aux-really-slow (alist ans honsp hs)
  (cond ((atom alist) ans)
        ((atom (car alist))
         (hl-fast-alist-fork-aux-really-slow (cdr alist) ans honsp hs))
        (t
...">hl-fast-alist-fork-aux-really-slow</a>
  (alist ans honsp hs)
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-atom" data-sym="ATOM">atom</a> alist) ans)
    ((<a class="sym-link system" href="axioms.html#def-atom" data-sym="ATOM">atom</a> (car alist)) (<a class="sym-link local-def" href="#def-hl-fast-alist-fork-aux-really-slow" data-sym="HL-FAST-ALIST-FORK-AUX-REALLY-SLOW" title="(defun hl-fast-alist-fork-aux-really-slow (alist ans honsp hs)
  (cond ((atom alist) ans)
        ((atom (car alist))
         (hl-fast-alist-fork-aux-really-slow (cdr alist) ans honsp hs))
        (t
...">hl-fast-alist-fork-aux-really-slow</a> (cdr alist)
        ans
        honsp
        hs))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((key (<a class="sym-link local-def" href="#def-hl-hspace-norm" data-sym="HL-HSPACE-NORM" title="(defun hl-hspace-norm (x hs)
  (cond ((atom x) (hl-hspace-norm-atom x hs)) ((hl-hspace-honsp x hs) x)
        (t (hl-hspace-norm-expensive x hs))))">hl-hspace-norm</a> (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> alist) hs)) (entry (hons-assoc-equal key ans)))
        (unless entry
          (if honsp
            (<a class="sym-link system" href="axioms.html#def-progn" data-sym="PROGN">progn</a> (setq entry (<a class="sym-link local-def" href="#def-hl-hspace-hons" data-sym="HL-HSPACE-HONS" title="(defmacro hl-hspace-hons (x y hs)
  `(let ((x ,x) (y ,y) (hs ,hs))
     (declare (type hl-hspace hs))
     (hl-hspace-hons-normed (hl-hspace-norm x hs) (hl-hspace-norm y hs) nil
                            hs)))">hl-hspace-hons</a> key (<a class="sym-link system" href="axioms.html#def-cdar" data-sym="CDAR">cdar</a> alist) hs))
              (setq ans (<a class="sym-link local-def" href="#def-hl-hspace-hons" data-sym="HL-HSPACE-HONS" title="(defmacro hl-hspace-hons (x y hs)
  `(let ((x ,x) (y ,y) (hs ,hs))
     (declare (type hl-hspace hs))
     (hl-hspace-hons-normed (hl-hspace-norm x hs) (hl-hspace-norm y hs) nil
                            hs)))">hl-hspace-hons</a> entry ans hs)))
            (<a class="sym-link system" href="axioms.html#def-progn" data-sym="PROGN">progn</a> (setq entry (cons key (<a class="sym-link system" href="axioms.html#def-cdar" data-sym="CDAR">cdar</a> alist)))
              (setq ans (cons entry ans)))))
        (<a class="sym-link local-def" href="#def-hl-fast-alist-fork-aux-really-slow" data-sym="HL-FAST-ALIST-FORK-AUX-REALLY-SLOW" title="(defun hl-fast-alist-fork-aux-really-slow (alist ans honsp hs)
  (cond ((atom alist) ans)
        ((atom (car alist))
         (hl-fast-alist-fork-aux-really-slow (cdr alist) ans honsp hs))
        (t
...">hl-fast-alist-fork-aux-really-slow</a> (cdr alist)
          ans
          honsp
          hs)))))</pre>
  </div>

<div class="form-block function" id="def-hl-fast-alist-fork-aux-slow" data-defines="HL-FAST-ALIST-FORK-AUX-SLOW" data-references="CONS,SETF,CDAR,HL-HSPACE-HONS,SETQ,PROGN,IF,UNLESS,GETHASH,ENTRY,CAAR,HL-HSPACE-NORM,KEY,LET*,T,CDR,CAR,ATOM,COND,HASH-TABLE,HL-HSPACE,TYPE,DECLARE,HS,HONSP,TABLE,ANS,ALIST,DEFUN" data-used-by="HL-HSPACE-FAST-ALIST-FORK" data-part-name="HL-FAST-ALIST-FORK-AUX-SLOW" data-part-args="HS,HONSP,TABLE,ANS,ALIST" data-part-declare="TABLE,HASH-TABLE,HS,HL-HSPACE,TYPE,DECLARE" data-part-body="CONS,SETF,CDAR,HL-HSPACE-HONS,SETQ,PROGN,IF,UNLESS,GETHASH,ENTRY,CAAR,HL-HSPACE-NORM,KEY,LET*,T,HS,HONSP,TABLE,CDR,HL-FAST-ALIST-FORK-AUX-SLOW,CAR,ANS,ALIST,ATOM,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-FAST-ALIST-FORK-AUX-SLOW">hl-fast-alist-fork-aux-slow</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-fast-alist-fork-aux-slow" data-sym="HL-FAST-ALIST-FORK-AUX-SLOW" title="(defun hl-fast-alist-fork-aux-slow (alist ans table honsp hs)
  (declare (type hl-hspace hs)
           (type hash-table table))
  (cond ((atom alist) ans)
        ((atom (car alist))
...">hl-fast-alist-fork-aux-slow</a>
  (alist ans <a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a> honsp hs)
  (declare (type hl-hspace hs)
    (type hash-table <a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a>))
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-atom" data-sym="ATOM">atom</a> alist) ans)
    ((<a class="sym-link system" href="axioms.html#def-atom" data-sym="ATOM">atom</a> (car alist)) (<a class="sym-link local-def" href="#def-hl-fast-alist-fork-aux-slow" data-sym="HL-FAST-ALIST-FORK-AUX-SLOW" title="(defun hl-fast-alist-fork-aux-slow (alist ans table honsp hs)
  (declare (type hl-hspace hs)
           (type hash-table table))
  (cond ((atom alist) ans)
        ((atom (car alist))
...">hl-fast-alist-fork-aux-slow</a> (cdr alist) ans <a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a> honsp hs))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((key (<a class="sym-link local-def" href="#def-hl-hspace-norm" data-sym="HL-HSPACE-NORM" title="(defun hl-hspace-norm (x hs)
  (cond ((atom x) (hl-hspace-norm-atom x hs)) ((hl-hspace-honsp x hs) x)
        (t (hl-hspace-norm-expensive x hs))))">hl-hspace-norm</a> (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> alist) hs)) (entry (gethash key <a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a>)))
        (unless entry
          (if honsp
            (<a class="sym-link system" href="axioms.html#def-progn" data-sym="PROGN">progn</a> (setq entry (<a class="sym-link local-def" href="#def-hl-hspace-hons" data-sym="HL-HSPACE-HONS" title="(defmacro hl-hspace-hons (x y hs)
  `(let ((x ,x) (y ,y) (hs ,hs))
     (declare (type hl-hspace hs))
     (hl-hspace-hons-normed (hl-hspace-norm x hs) (hl-hspace-norm y hs) nil
                            hs)))">hl-hspace-hons</a> key (<a class="sym-link system" href="axioms.html#def-cdar" data-sym="CDAR">cdar</a> alist) hs))
              (setq ans (<a class="sym-link local-def" href="#def-hl-hspace-hons" data-sym="HL-HSPACE-HONS" title="(defmacro hl-hspace-hons (x y hs)
  `(let ((x ,x) (y ,y) (hs ,hs))
     (declare (type hl-hspace hs))
     (hl-hspace-hons-normed (hl-hspace-norm x hs) (hl-hspace-norm y hs) nil
                            hs)))">hl-hspace-hons</a> entry ans hs))
              (setf (gethash key <a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a>) entry))
            (<a class="sym-link system" href="axioms.html#def-progn" data-sym="PROGN">progn</a> (setq entry (cons key (<a class="sym-link system" href="axioms.html#def-cdar" data-sym="CDAR">cdar</a> alist)))
              (setq ans (cons entry ans))
              (setf (gethash key <a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a>) entry))))
        (<a class="sym-link local-def" href="#def-hl-fast-alist-fork-aux-slow" data-sym="HL-FAST-ALIST-FORK-AUX-SLOW" title="(defun hl-fast-alist-fork-aux-slow (alist ans table honsp hs)
  (declare (type hl-hspace hs)
           (type hash-table table))
  (cond ((atom alist) ans)
        ((atom (car alist))
...">hl-fast-alist-fork-aux-slow</a> (cdr alist) ans <a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a> honsp hs)))))</pre>
  </div>

<div class="form-block function" id="def-hl-fast-alist-fork-aux-fast" data-defines="HL-FAST-ALIST-FORK-AUX-FAST" data-references="CONS,SETF,CDAR,HL-HSPACE-HONS,SETQ,PROGN,IF,UNLESS,GETHASH,ENTRY,CAAR,KEY,LET*,T,CDR,CAR,ATOM,COND,HASH-TABLE,HL-HSPACE,TYPE,DECLARE,HS,HONSP,TABLE,ANS,ALIST,DEFUN" data-used-by="HL-HSPACE-FAST-ALIST-FORK" data-part-name="HL-FAST-ALIST-FORK-AUX-FAST" data-part-args="HS,HONSP,TABLE,ANS,ALIST" data-part-declare="TABLE,HASH-TABLE,HS,HL-HSPACE,TYPE,DECLARE" data-part-body="CONS,SETF,CDAR,HL-HSPACE-HONS,SETQ,PROGN,IF,UNLESS,GETHASH,ENTRY,CAAR,KEY,LET*,T,HS,HONSP,TABLE,CDR,HL-FAST-ALIST-FORK-AUX-FAST,CAR,ANS,ALIST,ATOM,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-FAST-ALIST-FORK-AUX-FAST">hl-fast-alist-fork-aux-fast</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-fast-alist-fork-aux-fast" data-sym="HL-FAST-ALIST-FORK-AUX-FAST" title="(defun hl-fast-alist-fork-aux-fast (alist ans table honsp hs)
  (declare (type hl-hspace hs)
           (type hash-table table))
  (cond ((atom alist) ans)
        ((atom (car alist))
...">hl-fast-alist-fork-aux-fast</a>
  (alist ans <a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a> honsp hs)
  (declare (type hl-hspace hs)
    (type hash-table <a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a>))
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-atom" data-sym="ATOM">atom</a> alist) ans)
    ((<a class="sym-link system" href="axioms.html#def-atom" data-sym="ATOM">atom</a> (car alist)) (<a class="sym-link local-def" href="#def-hl-fast-alist-fork-aux-fast" data-sym="HL-FAST-ALIST-FORK-AUX-FAST" title="(defun hl-fast-alist-fork-aux-fast (alist ans table honsp hs)
  (declare (type hl-hspace hs)
           (type hash-table table))
  (cond ((atom alist) ans)
        ((atom (car alist))
...">hl-fast-alist-fork-aux-fast</a> (cdr alist) ans <a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a> honsp hs))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((key (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> alist)) (entry (gethash key <a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a>)))
        (unless entry
          (if honsp
            (<a class="sym-link system" href="axioms.html#def-progn" data-sym="PROGN">progn</a> (setq entry (<a class="sym-link local-def" href="#def-hl-hspace-hons" data-sym="HL-HSPACE-HONS" title="(defmacro hl-hspace-hons (x y hs)
  `(let ((x ,x) (y ,y) (hs ,hs))
     (declare (type hl-hspace hs))
     (hl-hspace-hons-normed (hl-hspace-norm x hs) (hl-hspace-norm y hs) nil
                            hs)))">hl-hspace-hons</a> key (<a class="sym-link system" href="axioms.html#def-cdar" data-sym="CDAR">cdar</a> alist) hs))
              (setq ans (<a class="sym-link local-def" href="#def-hl-hspace-hons" data-sym="HL-HSPACE-HONS" title="(defmacro hl-hspace-hons (x y hs)
  `(let ((x ,x) (y ,y) (hs ,hs))
     (declare (type hl-hspace hs))
     (hl-hspace-hons-normed (hl-hspace-norm x hs) (hl-hspace-norm y hs) nil
                            hs)))">hl-hspace-hons</a> entry ans hs))
              (setf (gethash key <a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a>) entry))
            (<a class="sym-link system" href="axioms.html#def-progn" data-sym="PROGN">progn</a> (setq entry (car alist))
              (setq ans (cons entry ans))
              (setf (gethash key <a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a>) entry))))
        (<a class="sym-link local-def" href="#def-hl-fast-alist-fork-aux-fast" data-sym="HL-FAST-ALIST-FORK-AUX-FAST" title="(defun hl-fast-alist-fork-aux-fast (alist ans table honsp hs)
  (declare (type hl-hspace hs)
           (type hash-table table))
  (cond ((atom alist) ans)
        ((atom (car alist))
...">hl-fast-alist-fork-aux-fast</a> (cdr alist) ans <a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a> honsp hs)))))</pre>
  </div>

<div class="form-block function" id="def-hl-hspace-fast-alist-fork" data-defines="HL-HSPACE-FAST-ALIST-FORK" data-references="FAST-ALIST-FORK!,HL-ALIST-STOLEN-WARNING,SETQ,WHEN,HL-FAST-ALIST-FORK-AUX-SLOW,HL-FAST-ALIST-FORK-AUX-FAST,NEW-ALIST,HL-FAST-ALIST-FORK-AUX-REALLY-SLOW,RETURN-FROM,FAST-ALIST-FORK,QUOTE,HL-SLOW-ALIST-WARNING,UNLESS,HL-FALSLOT-KEY,SETF,LEN,ASH,T,HASH-TABLE,THE,HASH-TABLE-SIZE,MAX,NATP,COND,HL-MHT,ANS-TABLE,HL-FALTABLE-GET-FREE-SLOT,ANS-SLOT,HL-FALSLOT-VAL,HL-FALTABLE-GENERAL-LOOKUP,SLOT,LET,ALIST-TABLE,HL-HSPACE-FALTABLE,FALTABLE,LET*,ATOM,IF,HL-HSPACE,TYPE,DECLARE,HS,HONSP,ANS,ALIST,DEFUN" data-used-by="FAST-ALIST-FORK!,FAST-ALIST-FORK,HL-HSPACE-FAST-ALIST-LEN,HL-HSPACE-FAST-ALIST-CLEAN" data-part-name="HL-HSPACE-FAST-ALIST-FORK" data-part-args="HS,HONSP,ANS,ALIST" data-part-declare="HS,HL-HSPACE,TYPE,DECLARE" data-part-body="FAST-ALIST-FORK!,HL-ALIST-STOLEN-WARNING,SETQ,WHEN,HL-FAST-ALIST-FORK-AUX-SLOW,HL-FAST-ALIST-FORK-AUX-FAST,NEW-ALIST,HONSP,HL-FAST-ALIST-FORK-AUX-REALLY-SLOW,HL-HSPACE-FAST-ALIST-FORK,RETURN-FROM,FAST-ALIST-FORK,QUOTE,HL-SLOW-ALIST-WARNING,UNLESS,HL-FALSLOT-KEY,SETF,LEN,ASH,T,HASH-TABLE,THE,HASH-TABLE-SIZE,MAX,NATP,COND,HL-MHT,ANS-TABLE,HL-FALTABLE-GET-FREE-SLOT,ANS-SLOT,HL-FALSLOT-VAL,HL-FALTABLE-GENERAL-LOOKUP,SLOT,LET,ALIST-TABLE,HS,HL-HSPACE-FALTABLE,FALTABLE,LET*,ANS,ALIST,ATOM,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-HSPACE-FAST-ALIST-FORK">hl-hspace-fast-alist-fork</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-hspace-fast-alist-fork" data-sym="HL-HSPACE-FAST-ALIST-FORK" title="(defun hl-hspace-fast-alist-fork (alist ans honsp hs)
  (declare (type hl-hspace hs))
  (if (atom alist)
      ans
      (let* ((faltable (hl-hspace-faltable hs))
...">hl-hspace-fast-alist-fork</a>
  (alist ans honsp hs)
  (declare (type hl-hspace hs))
  (if (<a class="sym-link system" href="axioms.html#def-atom" data-sym="ATOM">atom</a> alist)
    ans
    (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((faltable (hl-hspace-faltable hs)) (alist-table (let ((slot (<a class="sym-link local-def" href="#def-hl-faltable-general-lookup" data-sym="HL-FALTABLE-GENERAL-LOOKUP" title="(defun hl-faltable-general-lookup (alist faltable)
  (declare (type hl-faltable faltable))
  (or (hl-faltable-slot-lookup alist faltable)
      (let ((slot (hl-faltable-get-free-slot faltable)))
        (hl-faltable-load-empty-slot alist slot faltable)">hl-faltable-general-lookup</a> alist faltable)))
            (hl-falslot-val slot)))
        (ans-slot (if (<a class="sym-link system" href="axioms.html#def-atom" data-sym="ATOM">atom</a> ans)
            (<a class="sym-link local-def" href="#def-hl-faltable-get-free-slot" data-sym="HL-FALTABLE-GET-FREE-SLOT" title="(defun hl-faltable-get-free-slot (faltable)
  (declare (type hl-faltable faltable))
  (let* ((eject1 (hl-faltable-eject1 faltable))
         (loser
          (if eject1
...">hl-faltable-get-free-slot</a> faltable)
            (<a class="sym-link local-def" href="#def-hl-faltable-general-lookup" data-sym="HL-FALTABLE-GENERAL-LOOKUP" title="(defun hl-faltable-general-lookup (alist faltable)
  (declare (type hl-faltable faltable))
  (or (hl-faltable-slot-lookup alist faltable)
      (let ((slot (hl-faltable-get-free-slot faltable)))
        (hl-faltable-load-empty-slot alist slot faltable)">hl-faltable-general-lookup</a> ans faltable)))
        (ans-table (if (<a class="sym-link system" href="axioms.html#def-atom" data-sym="ATOM">atom</a> ans)
            (<a class="sym-link local-def" href="#def-hl-mht" data-sym="HL-MHT" title="(defmacro hl-mht (&amp;rest args) `(hl-mht-fn ,@args))">hl-mht</a> <span class="keyword">:size</span> (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-natp" data-sym="NATP">natp</a> ans) (max <span class="number">60</span> ans))
                (alist-table (hash-table-size (<a class="sym-link system" href="axioms.html#def-the" data-sym="THE">the</a> hash-table alist-table)))
                (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (max <span class="number">60</span> (ash (<a class="sym-link system" href="axioms.html#def-len" data-sym="LEN">len</a> alist) <span class="number">-3</span>)))))
            (hl-falslot-val ans-slot))))
      (setf (hl-falslot-key ans-slot) nil)
      (unless ans-table
        (<a class="sym-link local-def" href="#def-hl-slow-alist-warning" data-sym="HL-SLOW-ALIST-WARNING" title="(defun hl-slow-alist-warning (name)
  (let ((action (get-slow-alist-action nil *the-live-state*)))
    (when action
      (let* ((wrld (w *the-live-state*))
             (path (global-val &#39;include-book-path wrld))
...">hl-slow-alist-warning</a> '<a class="sym-link local-def" href="#def-fast-alist-fork" data-sym="FAST-ALIST-FORK" title="(defun fast-alist-fork (alist ans)
  (hl-maybe-initialize-default-hs)
  (hl-hspace-fast-alist-fork alist ans nil *default-hs*))">fast-alist-fork</a>)
        (return-from <a class="sym-link local-def" href="#def-hl-hspace-fast-alist-fork" data-sym="HL-HSPACE-FAST-ALIST-FORK" title="(defun hl-hspace-fast-alist-fork (alist ans honsp hs)
  (declare (type hl-hspace hs))
  (if (atom alist)
      ans
      (let* ((faltable (hl-hspace-faltable hs))
...">hl-hspace-fast-alist-fork</a>
          (<a class="sym-link local-def" href="#def-hl-fast-alist-fork-aux-really-slow" data-sym="HL-FAST-ALIST-FORK-AUX-REALLY-SLOW" title="(defun hl-fast-alist-fork-aux-really-slow (alist ans honsp hs)
  (cond ((atom alist) ans)
        ((atom (car alist))
         (hl-fast-alist-fork-aux-really-slow (cdr alist) ans honsp hs))
        (t
...">hl-fast-alist-fork-aux-really-slow</a> alist ans honsp hs)))
      (let ((new-alist (if alist-table
             (<a class="sym-link local-def" href="#def-hl-fast-alist-fork-aux-fast" data-sym="HL-FAST-ALIST-FORK-AUX-FAST" title="(defun hl-fast-alist-fork-aux-fast (alist ans table honsp hs)
  (declare (type hl-hspace hs)
           (type hash-table table))
  (cond ((atom alist) ans)
        ((atom (car alist))
...">hl-fast-alist-fork-aux-fast</a> alist ans ans-table honsp hs)
             (<a class="sym-link local-def" href="#def-hl-fast-alist-fork-aux-slow" data-sym="HL-FAST-ALIST-FORK-AUX-SLOW" title="(defun hl-fast-alist-fork-aux-slow (alist ans table honsp hs)
  (declare (type hl-hspace hs)
           (type hash-table table))
  (cond ((atom alist) ans)
        ((atom (car alist))
...">hl-fast-alist-fork-aux-slow</a> alist ans ans-table honsp hs))))
        (when honsp
          (setq ans-slot
            (<a class="sym-link local-def" href="#def-hl-faltable-general-lookup" data-sym="HL-FALTABLE-GENERAL-LOOKUP" title="(defun hl-faltable-general-lookup (alist faltable)
  (declare (type hl-faltable faltable))
  (or (hl-faltable-slot-lookup alist faltable)
      (let ((slot (hl-faltable-get-free-slot faltable)))
        (hl-faltable-load-empty-slot alist slot faltable)">hl-faltable-general-lookup</a> new-alist faltable))
          (when (hl-falslot-key ans-slot)
            (<a class="sym-link local-def" href="#def-hl-alist-stolen-warning" data-sym="HL-ALIST-STOLEN-WARNING" title="(defun hl-alist-stolen-warning (name)
  (let ((action (get-slow-alist-action t *the-live-state*)))
    (when (and action (not (eq *defeat-slow-alist-action* &#39;stolen)))
      (let* ((wrld (w *the-live-state*))
             (path (global-val &#39;include-book-path wrld)))
...">hl-alist-stolen-warning</a> '<a class="sym-link local-def" href="#def-fast-alist-fork_21" data-sym="FAST-ALIST-FORK!" title="(defun fast-alist-fork! (alist ans)
  (hl-maybe-initialize-default-hs)
  (hl-hspace-fast-alist-fork alist ans t *default-hs*))">fast-alist-fork!</a>)
            (return-from <a class="sym-link local-def" href="#def-hl-hspace-fast-alist-fork" data-sym="HL-HSPACE-FAST-ALIST-FORK" title="(defun hl-hspace-fast-alist-fork (alist ans honsp hs)
  (declare (type hl-hspace hs))
  (if (atom alist)
      ans
      (let* ((faltable (hl-hspace-faltable hs))
...">hl-hspace-fast-alist-fork</a> new-alist)))
        (unless (<a class="sym-link system" href="axioms.html#def-atom" data-sym="ATOM">atom</a> new-alist)
          (setf (hl-falslot-val ans-slot) ans-table)
          (setf (hl-falslot-key ans-slot) new-alist))
        new-alist))))</pre>
  </div>

<div class="form-block function" id="def-hl-fast-alist-clean-aux" data-defines="HL-FAST-ALIST-CLEAN-AUX" data-references="SETF,CONS,CDAR,HL-HSPACE-HONS,IF,ENTRY,KEY,LET*,T,CDR,CAAR,GETHASH,CAR,OR,ATOM,COND,HASH-TABLE,HL-HSPACE,TYPE,DECLARE,HS,HONSP,TABLE,ANS,ALIST,DEFUN" data-used-by="HL-HSPACE-FAST-ALIST-CLEAN" data-part-name="HL-FAST-ALIST-CLEAN-AUX" data-part-args="HS,HONSP,TABLE,ANS,ALIST" data-part-declare="TABLE,HASH-TABLE,HS,HL-HSPACE,TYPE,DECLARE" data-part-body="SETF,CONS,CDAR,HL-HSPACE-HONS,IF,ENTRY,KEY,LET*,T,HS,HONSP,CDR,HL-FAST-ALIST-CLEAN-AUX,TABLE,CAAR,GETHASH,CAR,OR,ANS,ALIST,ATOM,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-FAST-ALIST-CLEAN-AUX">hl-fast-alist-clean-aux</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-fast-alist-clean-aux" data-sym="HL-FAST-ALIST-CLEAN-AUX" title="(defun hl-fast-alist-clean-aux (alist ans table honsp hs)
  (declare (type hl-hspace hs)
           (type hash-table table))
  (cond ((atom alist) ans)
        ((or (atom (car alist)) (gethash (caar alist) table))
...">hl-fast-alist-clean-aux</a>
  (alist ans <a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a> honsp hs)
  (declare (type hl-hspace hs)
    (type hash-table <a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a>))
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-atom" data-sym="ATOM">atom</a> alist) ans)
    ((<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-atom" data-sym="ATOM">atom</a> (car alist)) (gethash (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> alist) <a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a>)) (<a class="sym-link local-def" href="#def-hl-fast-alist-clean-aux" data-sym="HL-FAST-ALIST-CLEAN-AUX" title="(defun hl-fast-alist-clean-aux (alist ans table honsp hs)
  (declare (type hl-hspace hs)
           (type hash-table table))
  (cond ((atom alist) ans)
        ((or (atom (car alist)) (gethash (caar alist) table))
...">hl-fast-alist-clean-aux</a> (cdr alist) ans <a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a> honsp hs))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((key (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> alist)) (entry (if honsp
              (<a class="sym-link local-def" href="#def-hl-hspace-hons" data-sym="HL-HSPACE-HONS" title="(defmacro hl-hspace-hons (x y hs)
  `(let ((x ,x) (y ,y) (hs ,hs))
     (declare (type hl-hspace hs))
     (hl-hspace-hons-normed (hl-hspace-norm x hs) (hl-hspace-norm y hs) nil
                            hs)))">hl-hspace-hons</a> key (<a class="sym-link system" href="axioms.html#def-cdar" data-sym="CDAR">cdar</a> alist) hs)
              (car alist)))
          (ans (if honsp
              (<a class="sym-link local-def" href="#def-hl-hspace-hons" data-sym="HL-HSPACE-HONS" title="(defmacro hl-hspace-hons (x y hs)
  `(let ((x ,x) (y ,y) (hs ,hs))
     (declare (type hl-hspace hs))
     (hl-hspace-hons-normed (hl-hspace-norm x hs) (hl-hspace-norm y hs) nil
                            hs)))">hl-hspace-hons</a> entry ans hs)
              (cons entry ans))))
        (setf (gethash key <a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a>) entry)
        (<a class="sym-link local-def" href="#def-hl-fast-alist-clean-aux" data-sym="HL-FAST-ALIST-CLEAN-AUX" title="(defun hl-fast-alist-clean-aux (alist ans table honsp hs)
  (declare (type hl-hspace hs)
           (type hash-table table))
  (cond ((atom alist) ans)
        ((or (atom (car alist)) (gethash (caar alist) table))
...">hl-fast-alist-clean-aux</a> (cdr alist) ans <a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a> honsp hs)))))</pre>
  </div>

<div class="form-block function" id="def-hl-hspace-fast-alist-clean" data-defines="HL-HSPACE-FAST-ALIST-CLEAN" data-references="HL-FAST-ALIST-CLEAN-AUX,NEW-ALIST,LET,CLRHASH,HL-FALSLOT-KEY,SETF,HL-HSPACE-FAST-ALIST-FORK,RETURN-FROM,NULL,HL-FALSLOT-VAL,TABLE,HL-FALTABLE-GENERAL-LOOKUP,SLOT,HL-HSPACE-FALTABLE,FALTABLE,LAST,CDR,ANS,LET*,T,ATOM,COND,HL-HSPACE,TYPE,DECLARE,HS,HONSP,ALIST,DEFUN" data-used-by="FAST-ALIST-CLEAN!,FAST-ALIST-CLEAN" data-part-name="HL-HSPACE-FAST-ALIST-CLEAN" data-part-args="HS,HONSP,ALIST" data-part-declare="HS,HL-HSPACE,TYPE,DECLARE" data-part-body="HL-FAST-ALIST-CLEAN-AUX,NEW-ALIST,LET,CLRHASH,HL-FALSLOT-KEY,SETF,HONSP,HL-HSPACE-FAST-ALIST-FORK,HL-HSPACE-FAST-ALIST-CLEAN,RETURN-FROM,NULL,HL-FALSLOT-VAL,TABLE,HL-FALTABLE-GENERAL-LOOKUP,SLOT,HS,HL-HSPACE-FALTABLE,FALTABLE,LAST,CDR,ANS,LET*,T,ALIST,ATOM,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-HSPACE-FAST-ALIST-CLEAN">hl-hspace-fast-alist-clean</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-hspace-fast-alist-clean" data-sym="HL-HSPACE-FAST-ALIST-CLEAN" title="(defun hl-hspace-fast-alist-clean (alist honsp hs)
  (declare (type hl-hspace hs))
  (cond ((atom alist) alist)
        (t
         (let* ((ans (cdr (last alist)))
...">hl-hspace-fast-alist-clean</a>
  (alist honsp hs)
  (declare (type hl-hspace hs))
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-atom" data-sym="ATOM">atom</a> alist) alist)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((ans (cdr (<a class="sym-link system" href="axioms.html#def-last" data-sym="LAST">last</a> alist))) (faltable (hl-hspace-faltable hs))
          (slot (<a class="sym-link local-def" href="#def-hl-faltable-general-lookup" data-sym="HL-FALTABLE-GENERAL-LOOKUP" title="(defun hl-faltable-general-lookup (alist faltable)
  (declare (type hl-faltable faltable))
  (or (hl-faltable-slot-lookup alist faltable)
      (let ((slot (hl-faltable-get-free-slot faltable)))
        (hl-faltable-load-empty-slot alist slot faltable)">hl-faltable-general-lookup</a> alist faltable))
          (<a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a> (hl-falslot-val slot)))
        (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a> <a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a>) (return-from <a class="sym-link local-def" href="#def-hl-hspace-fast-alist-clean" data-sym="HL-HSPACE-FAST-ALIST-CLEAN" title="(defun hl-hspace-fast-alist-clean (alist honsp hs)
  (declare (type hl-hspace hs))
  (cond ((atom alist) alist)
        (t
         (let* ((ans (cdr (last alist)))
...">hl-hspace-fast-alist-clean</a>
              (<a class="sym-link local-def" href="#def-hl-hspace-fast-alist-fork" data-sym="HL-HSPACE-FAST-ALIST-FORK" title="(defun hl-hspace-fast-alist-fork (alist ans honsp hs)
  (declare (type hl-hspace hs))
  (if (atom alist)
      ans
      (let* ((faltable (hl-hspace-faltable hs))
...">hl-hspace-fast-alist-fork</a> alist ans honsp hs)))
          (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (setf (hl-falslot-key slot) nil)
            (clrhash <a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a>)
            (let ((new-alist (<a class="sym-link local-def" href="#def-hl-fast-alist-clean-aux" data-sym="HL-FAST-ALIST-CLEAN-AUX" title="(defun hl-fast-alist-clean-aux (alist ans table honsp hs)
  (declare (type hl-hspace hs)
           (type hash-table table))
  (cond ((atom alist) ans)
        ((or (atom (car alist)) (gethash (caar alist) table))
...">hl-fast-alist-clean-aux</a> alist ans <a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a> honsp hs)))
              (setf (hl-falslot-key slot) new-alist))))))))</pre>
  </div>

<div class="form-block function" id="def-hl-hspace-fast-alist-len" data-defines="HL-HSPACE-FAST-ALIST-LEN" data-references="HL-HSPACE-FAST-ALIST-FREE,RESULT,HL-HSPACE-FAST-ALIST-FORK,FAST-ALIST,FAST-ALIST-LEN,QUOTE,HL-SLOW-ALIST-WARNING,PROGN,HASH-TABLE-COUNT,HL-FALSLOT-VAL,VAL,HL-FALTABLE-GENERAL-LOOKUP,SLOT,HL-HSPACE-FALTABLE,FALTABLE,LET*,ATOM,IF,HL-HSPACE,TYPE,DECLARE,HS,ALIST,DEFUN" data-used-by="FAST-ALIST-LEN" data-part-name="HL-HSPACE-FAST-ALIST-LEN" data-part-args="HS,ALIST" data-part-declare="HS,HL-HSPACE,TYPE,DECLARE" data-part-body="HL-HSPACE-FAST-ALIST-FREE,HL-HSPACE-FAST-ALIST-LEN,RESULT,HL-HSPACE-FAST-ALIST-FORK,FAST-ALIST,FAST-ALIST-LEN,QUOTE,HL-SLOW-ALIST-WARNING,PROGN,HASH-TABLE-COUNT,HL-FALSLOT-VAL,VAL,HL-FALTABLE-GENERAL-LOOKUP,SLOT,HS,HL-HSPACE-FALTABLE,FALTABLE,LET*,ALIST,ATOM,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-HSPACE-FAST-ALIST-LEN">hl-hspace-fast-alist-len</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-hspace-fast-alist-len" data-sym="HL-HSPACE-FAST-ALIST-LEN" title="(defun hl-hspace-fast-alist-len (alist hs)
  (declare (type hl-hspace hs))
  (if (atom alist)
      0
      (let* ((faltable (hl-hspace-faltable hs))
...">hl-hspace-fast-alist-len</a>
  (alist hs)
  (declare (type hl-hspace hs))
  (if (<a class="sym-link system" href="axioms.html#def-atom" data-sym="ATOM">atom</a> alist)
    <span class="number">0</span>
    (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((faltable (hl-hspace-faltable hs)) (slot (<a class="sym-link local-def" href="#def-hl-faltable-general-lookup" data-sym="HL-FALTABLE-GENERAL-LOOKUP" title="(defun hl-faltable-general-lookup (alist faltable)
  (declare (type hl-faltable faltable))
  (or (hl-faltable-slot-lookup alist faltable)
      (let ((slot (hl-faltable-get-free-slot faltable)))
        (hl-faltable-load-empty-slot alist slot faltable)">hl-faltable-general-lookup</a> alist faltable))
        (val (hl-falslot-val slot)))
      (if val
        (hash-table-count val)
        (<a class="sym-link system" href="axioms.html#def-progn" data-sym="PROGN">progn</a> (<a class="sym-link local-def" href="#def-hl-slow-alist-warning" data-sym="HL-SLOW-ALIST-WARNING" title="(defun hl-slow-alist-warning (name)
  (let ((action (get-slow-alist-action nil *the-live-state*)))
    (when action
      (let* ((wrld (w *the-live-state*))
             (path (global-val &#39;include-book-path wrld))
...">hl-slow-alist-warning</a> '<a class="sym-link local-def" href="#def-fast-alist-len" data-sym="FAST-ALIST-LEN" title="(defun fast-alist-len (fal)
  (hl-maybe-initialize-default-hs)
  (hl-hspace-fast-alist-len fal *default-hs*))">fast-alist-len</a>)
          (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((fast-alist (<a class="sym-link local-def" href="#def-hl-hspace-fast-alist-fork" data-sym="HL-HSPACE-FAST-ALIST-FORK" title="(defun hl-hspace-fast-alist-fork (alist ans honsp hs)
  (declare (type hl-hspace hs))
  (if (atom alist)
      ans
      (let* ((faltable (hl-hspace-faltable hs))
...">hl-hspace-fast-alist-fork</a> alist nil nil hs)) (result (<a class="sym-link local-def" href="#def-hl-hspace-fast-alist-len" data-sym="HL-HSPACE-FAST-ALIST-LEN" title="(defun hl-hspace-fast-alist-len (alist hs)
  (declare (type hl-hspace hs))
  (if (atom alist)
      0
      (let* ((faltable (hl-hspace-faltable hs))
...">hl-hspace-fast-alist-len</a> fast-alist hs)))
            (<a class="sym-link local-def" href="#def-hl-hspace-fast-alist-free" data-sym="HL-HSPACE-FAST-ALIST-FREE" title="(defun hl-hspace-fast-alist-free (alist hs)
  (declare (type hl-hspace hs))
  (cond ((atom alist) alist)
        (t (hl-faltable-remove alist (hl-hspace-faltable hs)) alist)))">hl-hspace-fast-alist-free</a> fast-alist hs)
            result))))))</pre>
  </div>

<div class="form-block function" id="def-hl-check-alist-for-serialize-restore" data-defines="HL-CHECK-ALIST-FOR-SERIALIZE-RESTORE" data-references="T,ERROR,CAAR,HL-HSPACE-NORMEDP,NOT,CDR,CAR,ATOM,COND,HL-HSPACE,TYPE,DECLARE,HS,ALIST,DEFUN" data-used-by="HL-HSPACE-RESTORE-FAL-FOR-SERIALIZE" data-part-name="HL-CHECK-ALIST-FOR-SERIALIZE-RESTORE" data-part-args="HS,ALIST" data-part-declare="HS,HL-HSPACE,TYPE,DECLARE" data-part-body="T,ERROR,CAAR,HL-HSPACE-NORMEDP,NOT,HS,CDR,HL-CHECK-ALIST-FOR-SERIALIZE-RESTORE,CAR,ALIST,ATOM,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-CHECK-ALIST-FOR-SERIALIZE-RESTORE">hl-check-alist-for-serialize-restore</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-check-alist-for-serialize-restore" data-sym="HL-CHECK-ALIST-FOR-SERIALIZE-RESTORE" title="(defun hl-check-alist-for-serialize-restore (alist hs)
  (declare (type hl-hspace hs))
  (cond ((atom alist) nil)
        ((atom (car alist))
         (hl-check-alist-for-serialize-restore (cdr alist) hs))
...">hl-check-alist-for-serialize-restore</a>
  (alist hs)
  (declare (type hl-hspace hs))
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-atom" data-sym="ATOM">atom</a> alist) nil)
    ((<a class="sym-link system" href="axioms.html#def-atom" data-sym="ATOM">atom</a> (car alist)) (<a class="sym-link local-def" href="#def-hl-check-alist-for-serialize-restore" data-sym="HL-CHECK-ALIST-FOR-SERIALIZE-RESTORE" title="(defun hl-check-alist-for-serialize-restore (alist hs)
  (declare (type hl-hspace hs))
  (cond ((atom alist) nil)
        ((atom (car alist))
         (hl-check-alist-for-serialize-restore (cdr alist) hs))
...">hl-check-alist-for-serialize-restore</a> (cdr alist) hs))
    ((<a class="sym-link system" href="axioms.html#def-not" data-sym="NOT">not</a> (<a class="sym-link local-def" href="#def-hl-hspace-normedp" data-sym="HL-HSPACE-NORMEDP" title="(defun hl-hspace-normedp (x hs)
  (declare (type hl-hspace hs))
  (cond ((consp x) (hl-hspace-honsp x hs))
        ((stringp x)
         (let* ((str-ht (hl-hspace-str-ht hs)) (entry (gethash x str-ht)))
...">hl-hspace-normedp</a> (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> alist) hs)) (error <span class="string">"Can&#39;t restore an alist from the serialized file since it has ~
                 a key that was not re-honsed.~%  ~
                  - Problematic key: ~S~%  ~
                  - Tail of alist: ~S~%"</span>
        (<a class="sym-link system" href="axioms.html#def-caar" data-sym="CAAR">caar</a> alist)
        alist))
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link local-def" href="#def-hl-check-alist-for-serialize-restore" data-sym="HL-CHECK-ALIST-FOR-SERIALIZE-RESTORE" title="(defun hl-check-alist-for-serialize-restore (alist hs)
  (declare (type hl-hspace hs))
  (cond ((atom alist) nil)
        ((atom (car alist))
         (hl-check-alist-for-serialize-restore (cdr alist) hs))
...">hl-check-alist-for-serialize-restore</a> (cdr alist) hs))))</pre>
  </div>

<div class="form-block function" id="def-hl-hspace-restore-fal-for-serialize" data-defines="HL-HSPACE-RESTORE-FAL-FOR-SERIALIZE" data-references="HL-FALSLOT-KEY,SETF,QUOTE,HL-ALIST-STOLEN-WARNING,HL-FALSLOT-VAL,WHEN,HL-MAKE-FAST-ALIST-PUT-PAIRS,HL-CHECK-ALIST-FOR-SERIALIZE-RESTORE,MAX,HL-MHT,NEW-HT,HL-FALTABLE-GENERAL-LOOKUP,SLOT,HL-HSPACE-FALTABLE,FALTABLE,LET*,HL-HSPACE,TYPE,DECLARE,HS,COUNT,ALIST,DEFUN" data-used-by="HL-RESTORE-FAL-FOR-SERIALIZE" data-part-name="HL-HSPACE-RESTORE-FAL-FOR-SERIALIZE" data-part-args="HS,COUNT,ALIST" data-part-declare="HS,HL-HSPACE,TYPE,DECLARE" data-part-body="HL-FALSLOT-KEY,SETF,HL-HSPACE-RESTORE-FAL-FOR-SERIALIZE,QUOTE,HL-ALIST-STOLEN-WARNING,HL-FALSLOT-VAL,WHEN,HL-MAKE-FAST-ALIST-PUT-PAIRS,HL-CHECK-ALIST-FOR-SERIALIZE-RESTORE,COUNT,MAX,HL-MHT,NEW-HT,ALIST,HL-FALTABLE-GENERAL-LOOKUP,SLOT,HS,HL-HSPACE-FALTABLE,FALTABLE,LET*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-HSPACE-RESTORE-FAL-FOR-SERIALIZE">hl-hspace-restore-fal-for-serialize</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-hspace-restore-fal-for-serialize" data-sym="HL-HSPACE-RESTORE-FAL-FOR-SERIALIZE" title="(defun hl-hspace-restore-fal-for-serialize (alist count hs)
  (declare (type hl-hspace hs))
  (let* ((faltable (hl-hspace-faltable hs))
         (slot (hl-faltable-general-lookup alist faltable))
         (new-ht (hl-mht :size (max 60 count))))
...">hl-hspace-restore-fal-for-serialize</a>
  (alist <a class="sym-link system" href="axioms.html#def-count" data-sym="COUNT">count</a> hs)
  (declare (type hl-hspace hs))
  (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((faltable (hl-hspace-faltable hs)) (slot (<a class="sym-link local-def" href="#def-hl-faltable-general-lookup" data-sym="HL-FALTABLE-GENERAL-LOOKUP" title="(defun hl-faltable-general-lookup (alist faltable)
  (declare (type hl-faltable faltable))
  (or (hl-faltable-slot-lookup alist faltable)
      (let ((slot (hl-faltable-get-free-slot faltable)))
        (hl-faltable-load-empty-slot alist slot faltable)">hl-faltable-general-lookup</a> alist faltable))
      (new-ht (<a class="sym-link local-def" href="#def-hl-mht" data-sym="HL-MHT" title="(defmacro hl-mht (&amp;rest args) `(hl-mht-fn ,@args))">hl-mht</a> <span class="keyword">:size</span> (max <span class="number">60</span> <a class="sym-link system" href="axioms.html#def-count" data-sym="COUNT">count</a>))))
    (<a class="sym-link local-def" href="#def-hl-check-alist-for-serialize-restore" data-sym="HL-CHECK-ALIST-FOR-SERIALIZE-RESTORE" title="(defun hl-check-alist-for-serialize-restore (alist hs)
  (declare (type hl-hspace hs))
  (cond ((atom alist) nil)
        ((atom (car alist))
         (hl-check-alist-for-serialize-restore (cdr alist) hs))
...">hl-check-alist-for-serialize-restore</a> alist hs)
    (<a class="sym-link local-def" href="#def-hl-make-fast-alist-put-pairs" data-sym="HL-MAKE-FAST-ALIST-PUT-PAIRS" title="(defun hl-make-fast-alist-put-pairs (alist ht)
  (declare (type hash-table ht))
  (loop for rest on alist
        while (consp rest)
        do (let ((pair (car rest)))
...">hl-make-fast-alist-put-pairs</a> alist new-ht)
    (when (hl-falslot-val slot)
      (<a class="sym-link local-def" href="#def-hl-alist-stolen-warning" data-sym="HL-ALIST-STOLEN-WARNING" title="(defun hl-alist-stolen-warning (name)
  (let ((action (get-slow-alist-action t *the-live-state*)))
    (when (and action (not (eq *defeat-slow-alist-action* &#39;stolen)))
      (let* ((wrld (w *the-live-state*))
             (path (global-val &#39;include-book-path wrld)))
...">hl-alist-stolen-warning</a> '<a class="sym-link local-def" href="#def-hl-hspace-restore-fal-for-serialize" data-sym="HL-HSPACE-RESTORE-FAL-FOR-SERIALIZE" title="(defun hl-hspace-restore-fal-for-serialize (alist count hs)
  (declare (type hl-hspace hs))
  (let* ((faltable (hl-hspace-faltable hs))
         (slot (hl-faltable-general-lookup alist faltable))
         (new-ht (hl-mht :size (max 60 count))))
...">hl-hspace-restore-fal-for-serialize</a>))
    (setf (hl-falslot-val slot) new-ht)
    (setf (hl-falslot-key slot) alist)))</pre>
  </div>

<div class="form-block function" id="def-hl-restore-fal-for-serialize" data-defines="HL-RESTORE-FAL-FOR-SERIALIZE" data-references="HL-HSPACE-RESTORE-FAL-FOR-SERIALIZE,*DEFAULT-HS*,SPECIAL,DECLARE,COUNT,ALIST,DEFUN" data-part-name="HL-RESTORE-FAL-FOR-SERIALIZE" data-part-args="COUNT,ALIST" data-part-declare="*DEFAULT-HS*,SPECIAL,DECLARE" data-part-body="*DEFAULT-HS*,COUNT,ALIST,HL-HSPACE-RESTORE-FAL-FOR-SERIALIZE" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-RESTORE-FAL-FOR-SERIALIZE">hl-restore-fal-for-serialize</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-restore-fal-for-serialize" data-sym="HL-RESTORE-FAL-FOR-SERIALIZE" title="(defun hl-restore-fal-for-serialize (alist count)
  (declare (special *default-hs*))
  (hl-hspace-restore-fal-for-serialize alist count *default-hs*))">hl-restore-fal-for-serialize</a>
  (alist <a class="sym-link system" href="axioms.html#def-count" data-sym="COUNT">count</a>)
  (declare (special *default-hs*))
  (<a class="sym-link local-def" href="#def-hl-hspace-restore-fal-for-serialize" data-sym="HL-HSPACE-RESTORE-FAL-FOR-SERIALIZE" title="(defun hl-hspace-restore-fal-for-serialize (alist count hs)
  (declare (type hl-hspace hs))
  (let* ((faltable (hl-hspace-faltable hs))
         (slot (hl-faltable-general-lookup alist faltable))
         (new-ht (hl-mht :size (max 60 count))))
...">hl-hspace-restore-fal-for-serialize</a> alist
    <a class="sym-link system" href="axioms.html#def-count" data-sym="COUNT">count</a>
    *default-hs*))</pre>
  </div>

<div class="form-block function" id="def-hl-hspace-number-subtrees-aux" data-defines="HL-HSPACE-NUMBER-SUBTREES-AUX" data-references="CDR,CAR,SETF,PROGN,T,GETHASH,ATOM,COND,HASH-TABLE,TYPE,DECLARE,SEEN,X,DEFUN" data-used-by="HL-HSPACE-NUMBER-SUBTREES" data-part-name="HL-HSPACE-NUMBER-SUBTREES-AUX" data-part-args="SEEN,X" data-part-declare="SEEN,HASH-TABLE,TYPE,DECLARE" data-part-body="CDR,CAR,HL-HSPACE-NUMBER-SUBTREES-AUX,SETF,PROGN,T,SEEN,GETHASH,X,ATOM,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-HSPACE-NUMBER-SUBTREES-AUX">hl-hspace-number-subtrees-aux</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-hspace-number-subtrees-aux" data-sym="HL-HSPACE-NUMBER-SUBTREES-AUX" title="(defun hl-hspace-number-subtrees-aux (x seen)
  (declare (type hash-table seen))
  (cond ((atom x) nil) ((gethash x seen) nil)
        (t
         (progn
...">hl-hspace-number-subtrees-aux</a>
  (x seen)
  (declare (type hash-table seen))
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-atom" data-sym="ATOM">atom</a> x) nil)
    ((gethash x seen) nil)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-progn" data-sym="PROGN">progn</a> (setf (gethash x seen) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)
        (<a class="sym-link local-def" href="#def-hl-hspace-number-subtrees-aux" data-sym="HL-HSPACE-NUMBER-SUBTREES-AUX" title="(defun hl-hspace-number-subtrees-aux (x seen)
  (declare (type hash-table seen))
  (cond ((atom x) nil) ((gethash x seen) nil)
        (t
         (progn
...">hl-hspace-number-subtrees-aux</a> (car x) seen)
        (<a class="sym-link local-def" href="#def-hl-hspace-number-subtrees-aux" data-sym="HL-HSPACE-NUMBER-SUBTREES-AUX" title="(defun hl-hspace-number-subtrees-aux (x seen)
  (declare (type hash-table seen))
  (cond ((atom x) nil) ((gethash x seen) nil)
        (t
         (progn
...">hl-hspace-number-subtrees-aux</a> (cdr x) seen)))))</pre>
  </div>

<div class="form-block function" id="def-hl-hspace-number-subtrees" data-defines="HL-HSPACE-NUMBER-SUBTREES" data-references="HASH-TABLE-COUNT,HL-HSPACE-NUMBER-SUBTREES-AUX,EQ,QUOTE,HL-MHT,SEEN,HL-HSPACE-NORM,LET,HL-HSPACE,TYPE,DECLARE,HS,X,DEFUN" data-used-by="NUMBER-SUBTREES" data-part-name="HL-HSPACE-NUMBER-SUBTREES" data-part-args="HS,X" data-part-declare="HS,HL-HSPACE,TYPE,DECLARE" data-part-body="HASH-TABLE-COUNT,HL-HSPACE-NUMBER-SUBTREES-AUX,EQ,QUOTE,HL-MHT,SEEN,HS,HL-HSPACE-NORM,X,LET" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-HSPACE-NUMBER-SUBTREES">hl-hspace-number-subtrees</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-hspace-number-subtrees" data-sym="HL-HSPACE-NUMBER-SUBTREES" title="(defun hl-hspace-number-subtrees (x hs)
  (declare (type hl-hspace hs))
  (let ((x (hl-hspace-norm x hs)) (seen (hl-mht :test &#39;eq :size 10000)))
    (hl-hspace-number-subtrees-aux x seen)
    (hash-table-count seen)))">hl-hspace-number-subtrees</a>
  (x hs)
  (declare (type hl-hspace hs))
  (let ((x (<a class="sym-link local-def" href="#def-hl-hspace-norm" data-sym="HL-HSPACE-NORM" title="(defun hl-hspace-norm (x hs)
  (cond ((atom x) (hl-hspace-norm-atom x hs)) ((hl-hspace-honsp x hs) x)
        (t (hl-hspace-norm-expensive x hs))))">hl-hspace-norm</a> x hs)) (seen (<a class="sym-link local-def" href="#def-hl-mht" data-sym="HL-MHT" title="(defmacro hl-mht (&amp;rest args) `(hl-mht-fn ,@args))">hl-mht</a> <span class="keyword">:test</span> '<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> <span class="keyword">:size</span> <span class="number">10000</span>)))
    (<a class="sym-link local-def" href="#def-hl-hspace-number-subtrees-aux" data-sym="HL-HSPACE-NUMBER-SUBTREES-AUX" title="(defun hl-hspace-number-subtrees-aux (x seen)
  (declare (type hash-table seen))
  (cond ((atom x) nil) ((gethash x seen) nil)
        (t
         (progn
...">hl-hspace-number-subtrees-aux</a> x seen)
    (hash-table-count seen)))</pre>
  </div>

<div class="form-block function" id="def-hl-faltable-clear-cache" data-defines="HL-FALTABLE-CLEAR-CACHE" data-references="HL-FALTABLE-EJECT1,SETF,HL-FALTABLE-SLOT2,HL-FALTABLE-SLOT1,HL-FALTABLE-EJECT,HL-FALTABLE,TYPE,DECLARE,FALTABLE,DEFUN" data-used-by="HL-HSPACE-HONS-CLEAR" data-part-name="HL-FALTABLE-CLEAR-CACHE" data-part-args="FALTABLE" data-part-declare="FALTABLE,HL-FALTABLE,TYPE,DECLARE" data-part-body="FALTABLE,HL-FALTABLE-SLOT1,HL-FALTABLE-EJECT" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-FALTABLE-CLEAR-CACHE">hl-faltable-clear-cache</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-faltable-clear-cache" data-sym="HL-FALTABLE-CLEAR-CACHE" title="(defun hl-faltable-clear-cache (faltable)
  (declare (type hl-faltable faltable))
  (hl-faltable-eject (hl-faltable-slot1 faltable) faltable)
  (hl-faltable-eject (hl-faltable-slot2 faltable) faltable)
  (setf (hl-faltable-eject1 faltable) nil))">hl-faltable-clear-cache</a>
  (faltable)
  (declare (type hl-faltable faltable))
  (<a class="sym-link local-def" href="#def-hl-faltable-eject" data-sym="HL-FALTABLE-EJECT" title="(defun hl-faltable-eject (slot faltable)
  (declare (type hl-faltable faltable)
           (type hl-falslot slot))
  (let ((key (hl-falslot-key slot)))
    (when key
...">hl-faltable-eject</a> (hl-faltable-slot1 faltable) faltable)
  (<a class="sym-link local-def" href="#def-hl-faltable-eject" data-sym="HL-FALTABLE-EJECT" title="(defun hl-faltable-eject (slot faltable)
  (declare (type hl-faltable faltable)
           (type hl-falslot slot))
  (let ((key (hl-falslot-key slot)))
    (when key
...">hl-faltable-eject</a> (hl-faltable-slot2 faltable) faltable)
  (setf (hl-faltable-eject1 faltable) nil))</pre>
  </div>

<div class="form-block function" id="def-hl-system-gc" data-defines="HL-SYSTEM-GC" data-references="GC$,DEFUN" data-used-by="HL-HSPACE-HONS-CLEAR" data-part-name="HL-SYSTEM-GC" data-part-body="GC$" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-SYSTEM-GC">hl-system-gc</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-system-gc" data-sym="HL-SYSTEM-GC" title="(defun hl-system-gc () (gc$))">hl-system-gc</a> nil (<a class="sym-link system" href="axioms.html#def-gc_24" data-sym="GC$">gc$</a>))</pre>
  </div>

<div class="form-block function" id="def-hl-hspace-classic-restore" data-defines="HL-HSPACE-CLASSIC-RESTORE" data-references="WHEN,HL-FLEX-ACONS,NEW-FLEX-ALIST,LISTP,WAS-ALISTP,FLEX-ALIST,ARRAY,QUOTE,TYPEP,SYMBOLP,CONSP,OR,MAIN-TABLE,EQ,IF,SETF,CDR,B,CAR,A,LET*,T,GETHASH,ATOM,COND,HASH-TABLE,TYPE,DECLARE,SEEN-HT,CDR-HT-EQL,CDR-HT,NIL-HT,X,DEFUN" data-used-by="HL-HSPACE-HONS-CLEAR" data-part-name="HL-HSPACE-CLASSIC-RESTORE" data-part-args="SEEN-HT,CDR-HT-EQL,CDR-HT,NIL-HT,X" data-part-declare="SEEN-HT,CDR-HT-EQL,CDR-HT,NIL-HT,HASH-TABLE,TYPE,DECLARE" data-part-body="WHEN,HL-FLEX-ACONS,NEW-FLEX-ALIST,LISTP,WAS-ALISTP,FLEX-ALIST,ARRAY,QUOTE,TYPEP,SYMBOLP,CONSP,OR,MAIN-TABLE,EQ,IF,SETF,CDR,B,CDR-HT-EQL,CDR-HT,NIL-HT,CAR,HL-HSPACE-CLASSIC-RESTORE,A,LET*,T,SEEN-HT,GETHASH,X,ATOM,COND" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-HSPACE-CLASSIC-RESTORE">hl-hspace-classic-restore</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-hspace-classic-restore" data-sym="HL-HSPACE-CLASSIC-RESTORE" title="(defun hl-hspace-classic-restore (x nil-ht cdr-ht cdr-ht-eql seen-ht)
  (declare (type hash-table nil-ht)
           (type hash-table cdr-ht)
           (type hash-table cdr-ht-eql)
           (type hash-table seen-ht))
...">hl-hspace-classic-restore</a>
  (x nil-ht cdr-ht cdr-ht-eql seen-ht)
  (declare (type hash-table nil-ht)
    (type hash-table cdr-ht)
    (type hash-table cdr-ht-eql)
    (type hash-table seen-ht))
  (<a class="sym-link system" href="axioms.html#def-cond" data-sym="COND">cond</a> ((<a class="sym-link system" href="axioms.html#def-atom" data-sym="ATOM">atom</a> x) x)
    ((gethash x seen-ht) x)
    (<a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((a (<a class="sym-link local-def" href="#def-hl-hspace-classic-restore" data-sym="HL-HSPACE-CLASSIC-RESTORE" title="(defun hl-hspace-classic-restore (x nil-ht cdr-ht cdr-ht-eql seen-ht)
  (declare (type hash-table nil-ht)
           (type hash-table cdr-ht)
           (type hash-table cdr-ht-eql)
           (type hash-table seen-ht))
...">hl-hspace-classic-restore</a> (car x)
             nil-ht
             cdr-ht
             cdr-ht-eql
             seen-ht)) (b (<a class="sym-link local-def" href="#def-hl-hspace-classic-restore" data-sym="HL-HSPACE-CLASSIC-RESTORE" title="(defun hl-hspace-classic-restore (x nil-ht cdr-ht cdr-ht-eql seen-ht)
  (declare (type hash-table nil-ht)
           (type hash-table cdr-ht)
           (type hash-table cdr-ht-eql)
           (type hash-table seen-ht))
...">hl-hspace-classic-restore</a> (cdr x)
              nil-ht
              cdr-ht
              cdr-ht-eql
              seen-ht)))
        (setf (gethash x seen-ht) <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>)
        (if (<a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a> b nil)
          (setf (gethash a nil-ht) x)
          (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((main-table (if (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (consp b) (symbolp b) (typep b 'array))
                 cdr-ht
                 cdr-ht-eql)) (flex-alist (gethash b main-table))
              (was-alistp (<a class="sym-link system" href="axioms.html#def-listp" data-sym="LISTP">listp</a> flex-alist))
              (new-flex-alist (<a class="sym-link local-def" href="#def-hl-flex-acons" data-sym="HL-FLEX-ACONS" title="(defmacro hl-flex-acons (elem al &amp;optional shared)
  `(let ((elem ,elem) (al ,al) (shared ,shared))
     (cond
      ((listp al)
       (cond
...">hl-flex-acons</a> x flex-alist)))
            (when was-alistp
              (setf (gethash b main-table) new-flex-alist))
            x))))))</pre>
  </div>

<div class="form-block function" id="def-hl-hspace-hons-clear" data-defines="HL-HSPACE-HONS-CLEAR" data-references="HASH-TABLE-COUNT,ASSOCIATED-HASH-TABLE,ALIST,HL-FALTABLE-MAPHASH,HL-HSPACE-CLASSIC-RESTORE,IGNORE,VAL,KEY,LAMBDA,MAPHASH,HL-SYSTEM-GC,WHEN,CLRHASH,HONS-NOTE,SETF,HL-CACHE-CLEAR,HL-FALTABLE-CLEAR-CACHE,*STANDARD-CO*,GET-OUTPUT-STREAM-FROM-CHANNEL,NOTE-STREAM,SEEN-HT,TEMP-PERSIST-HT,HL-FALTABLE-INIT,TEMP-FALTABLE,MAKE-HL-CTABLES,TEMP-CTABLES,TEMP-CDR-HT-EQL,EQ,TEMP-CDR-HT,EQL,FUNCTION,HL-MHT,TEMP-NIL-HT,HL-HSPACE-NORM-CACHE,NORM-CACHE,HL-HSPACE-PERSIST-HT,PERSIST-HT,HL-HSPACE-FALTABLE,FALTABLE,HL-CTABLES-CDR-HT-EQL,CDR-HT-EQL,HL-CTABLES-CDR-HT,CDR-HT,HL-CTABLES-NIL-HT,NIL-HT,HL-HSPACE-CTABLES,CTABLES,LET*,HL-HSPACE,TYPE,DECLARE,HS,GC,DEFUN" data-used-by="HONS-CLEAR!" data-part-name="HL-HSPACE-HONS-CLEAR" data-part-args="HS,GC" data-part-declare="HS,HL-HSPACE,TYPE,DECLARE" data-part-body="HASH-TABLE-COUNT,ASSOCIATED-HASH-TABLE,ALIST,HL-FALTABLE-MAPHASH,HL-HSPACE-CLASSIC-RESTORE,IGNORE,DECLARE,VAL,KEY,LAMBDA,MAPHASH,HL-SYSTEM-GC,GC,WHEN,CLRHASH,HONS-NOTE,SETF,HL-CACHE-CLEAR,HL-FALTABLE-CLEAR-CACHE,*STANDARD-CO*,GET-OUTPUT-STREAM-FROM-CHANNEL,NOTE-STREAM,SEEN-HT,TEMP-PERSIST-HT,HL-FALTABLE-INIT,TEMP-FALTABLE,MAKE-HL-CTABLES,TEMP-CTABLES,TEMP-CDR-HT-EQL,EQ,TEMP-CDR-HT,EQL,FUNCTION,HL-MHT,TEMP-NIL-HT,HL-HSPACE-NORM-CACHE,NORM-CACHE,HL-HSPACE-PERSIST-HT,PERSIST-HT,HL-HSPACE-FALTABLE,FALTABLE,HL-CTABLES-CDR-HT-EQL,CDR-HT-EQL,HL-CTABLES-CDR-HT,CDR-HT,HL-CTABLES-NIL-HT,NIL-HT,HS,HL-HSPACE-CTABLES,CTABLES,LET*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-HSPACE-HONS-CLEAR">hl-hspace-hons-clear</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-hspace-hons-clear" data-sym="HL-HSPACE-HONS-CLEAR" title="(defun hl-hspace-hons-clear (gc hs)
  (declare (type hl-hspace hs))
  (let* ((ctables (hl-hspace-ctables hs))
         (nil-ht (hl-ctables-nil-ht ctables))
         (cdr-ht (hl-ctables-cdr-ht ctables))
...">hl-hspace-hons-clear</a>
  (gc hs)
  (declare (type hl-hspace hs))
  (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((ctables (hl-hspace-ctables hs)) (nil-ht (hl-ctables-nil-ht ctables))
      (cdr-ht (hl-ctables-cdr-ht ctables))
      (cdr-ht-eql (hl-ctables-cdr-ht-eql ctables))
      (faltable (hl-hspace-faltable hs))
      (persist-ht (hl-hspace-persist-ht hs))
      (norm-cache (hl-hspace-norm-cache hs))
      (temp-nil-ht (<a class="sym-link local-def" href="#def-hl-mht" data-sym="HL-MHT" title="(defmacro hl-mht (&amp;rest args) `(hl-mht-fn ,@args))">hl-mht</a> <span class="keyword">:test</span> (function <a class="sym-link system" href="axioms.html#def-eql" data-sym="EQL">eql</a>)))
      (temp-cdr-ht (<a class="sym-link local-def" href="#def-hl-mht" data-sym="HL-MHT" title="(defmacro hl-mht (&amp;rest args) `(hl-mht-fn ,@args))">hl-mht</a> <span class="keyword">:test</span> (function <a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a>)))
      (temp-cdr-ht-eql (<a class="sym-link local-def" href="#def-hl-mht" data-sym="HL-MHT" title="(defmacro hl-mht (&amp;rest args) `(hl-mht-fn ,@args))">hl-mht</a> <span class="keyword">:test</span> (function <a class="sym-link system" href="axioms.html#def-eql" data-sym="EQL">eql</a>)))
      (temp-ctables (make-hl-ctables <span class="keyword">:nil-ht</span> temp-nil-ht
          <span class="keyword">:cdr-ht</span> temp-cdr-ht
          <span class="keyword">:cdr-ht-eql</span> temp-cdr-ht-eql))
      (temp-faltable (<a class="sym-link local-def" href="#def-hl-faltable-init" data-sym="HL-FALTABLE-INIT" title="(defun hl-faltable-init (&amp;key (size *hl-hspace-fal-ht-default-size*))
  (hl-faltable-init-raw :table (hl-initialize-faltable-table size)))">hl-faltable-init</a>))
      (temp-persist-ht (<a class="sym-link local-def" href="#def-hl-mht" data-sym="HL-MHT" title="(defmacro hl-mht (&amp;rest args) `(hl-mht-fn ,@args))">hl-mht</a> <span class="keyword">:test</span> (function <a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a>)))
      (seen-ht (<a class="sym-link local-def" href="#def-hl-mht" data-sym="HL-MHT" title="(defmacro hl-mht (&amp;rest args) `(hl-mht-fn ,@args))">hl-mht</a> <span class="keyword">:test</span> (function <a class="sym-link system" href="axioms.html#def-eq" data-sym="EQ">eq</a>) <span class="keyword">:size</span> <span class="number">10000</span>))
      (note-stream (get-output-stream-from-channel <a class="sym-link system" href="axioms.html#def-_2Astandard-co_2A" data-sym="*STANDARD-CO*">*standard-co*</a>)))
    (<a class="sym-link local-def" href="#def-hl-faltable-clear-cache" data-sym="HL-FALTABLE-CLEAR-CACHE" title="(defun hl-faltable-clear-cache (faltable)
  (declare (type hl-faltable faltable))
  (hl-faltable-eject (hl-faltable-slot1 faltable) faltable)
  (hl-faltable-eject (hl-faltable-slot2 faltable) faltable)
  (setf (hl-faltable-eject1 faltable) nil))">hl-faltable-clear-cache</a> faltable)
    (<a class="sym-link local-def" href="#def-hl-cache-clear" data-sym="HL-CACHE-CLEAR" title="(defun hl-cache-clear (cache)
  (declare (type hl-cache cache))
  (progn (clrhash (hl-cache-table cache)) (setf (hl-cache-count cache) 0)))">hl-cache-clear</a> norm-cache)
    (setf (hl-hspace-faltable hs) temp-faltable)
    (setf (hl-hspace-persist-ht hs) temp-persist-ht)
    (setf (hl-hspace-ctables hs) temp-ctables)
    (<a class="sym-link local-def" href="#def-hons-note" data-sym="HONS-NOTE" title="(defmacro hons-note (note-stream control-string &amp;rest args)
  `(and (not (f-get-global &#39;script-mode *the-live-state*))
        (format ,note-stream
                (concatenate &#39;string &quot;; Hons-Note: &quot; ,control-string) ,@args)))">hons-note</a> note-stream <span class="string">"clearing normed objects.~%"</span>)
    (clrhash nil-ht)
    (clrhash cdr-ht)
    (clrhash cdr-ht-eql)
    (when gc (<a class="sym-link local-def" href="#def-hl-system-gc" data-sym="HL-SYSTEM-GC" title="(defun hl-system-gc () (gc$))">hl-system-gc</a>))
    (<a class="sym-link local-def" href="#def-hons-note" data-sym="HONS-NOTE" title="(defmacro hons-note (note-stream control-string &amp;rest args)
  `(and (not (f-get-global &#39;script-mode *the-live-state*))
        (format ,note-stream
                (concatenate &#39;string &quot;; Hons-Note: &quot; ,control-string) ,@args)))">hons-note</a> note-stream
      <span class="string">"re-norming persistently normed objects.~%"</span>)
    (maphash (lambda (key val)
        (declare (ignore val))
        (<a class="sym-link local-def" href="#def-hl-hspace-classic-restore" data-sym="HL-HSPACE-CLASSIC-RESTORE" title="(defun hl-hspace-classic-restore (x nil-ht cdr-ht cdr-ht-eql seen-ht)
  (declare (type hash-table nil-ht)
           (type hash-table cdr-ht)
           (type hash-table cdr-ht-eql)
           (type hash-table seen-ht))
...">hl-hspace-classic-restore</a> key
          nil-ht
          cdr-ht
          cdr-ht-eql
          seen-ht))
      persist-ht)
    (<a class="sym-link local-def" href="#def-hons-note" data-sym="HONS-NOTE" title="(defmacro hons-note (note-stream control-string &amp;rest args)
  `(and (not (f-get-global &#39;script-mode *the-live-state*))
        (format ,note-stream
                (concatenate &#39;string &quot;; Hons-Note: &quot; ,control-string) ,@args)))">hons-note</a> note-stream <span class="string">"re-norming fast alist keys.~%"</span>)
    (<a class="sym-link local-def" href="#def-hl-faltable-maphash" data-sym="HL-FALTABLE-MAPHASH" title="(defun hl-faltable-maphash (f faltable)
  (declare (type hl-faltable faltable))
  (let ((slot1 (hl-faltable-slot1 faltable))
        (slot2 (hl-faltable-slot2 faltable))
        (table (hl-faltable-table faltable)))
...">hl-faltable-maphash</a> (lambda (alist associated-hash-table)
        (declare (ignore alist))
        (maphash (lambda (key val)
            (declare (ignore val))
            (<a class="sym-link local-def" href="#def-hl-hspace-classic-restore" data-sym="HL-HSPACE-CLASSIC-RESTORE" title="(defun hl-hspace-classic-restore (x nil-ht cdr-ht cdr-ht-eql seen-ht)
  (declare (type hash-table nil-ht)
           (type hash-table cdr-ht)
           (type hash-table cdr-ht-eql)
           (type hash-table seen-ht))
...">hl-hspace-classic-restore</a> key
              nil-ht
              cdr-ht
              cdr-ht-eql
              seen-ht))
          associated-hash-table))
      faltable)
    (<a class="sym-link local-def" href="#def-hons-note" data-sym="HONS-NOTE" title="(defmacro hons-note (note-stream control-string &amp;rest args)
  `(and (not (f-get-global &#39;script-mode *the-live-state*))
        (format ,note-stream
                (concatenate &#39;string &quot;; Hons-Note: &quot; ,control-string) ,@args)))">hons-note</a> note-stream
      <span class="string">"finished re-norming ~a conses.~%"</span>
      (hash-table-count seen-ht))
    (setf (hl-hspace-ctables hs) ctables)
    (setf (hl-hspace-faltable hs) faltable)
    (setf (hl-hspace-persist-ht hs) persist-ht))
  nil)</pre>
  </div>

<div class="form-block function" id="def-hl-hspace-hons-wash" data-defines="HL-HSPACE-HONS-WASH" data-references="T,HONS-NOTE,IGNORE,HL-HSPACE,TYPE,DECLARE,HS,DEFUN" data-used-by="HONS-WASH!" data-part-name="HL-HSPACE-HONS-WASH" data-part-args="HS" data-part-declare="IGNORE,HS,HL-HSPACE,TYPE,DECLARE" data-part-body="T,HONS-NOTE" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-HSPACE-HONS-WASH">hl-hspace-hons-wash</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-hspace-hons-wash" data-sym="HL-HSPACE-HONS-WASH" title="(defun hl-hspace-hons-wash (hs)
  (declare (type hl-hspace hs))
  (declare (ignore hs))
  (hons-note t &quot;washing is not available for classic honsing.~%&quot;)
  nil)">hl-hspace-hons-wash</a>
  (hs)
  (declare (type hl-hspace hs))
  (declare (ignore hs))
  (<a class="sym-link local-def" href="#def-hons-note" data-sym="HONS-NOTE" title="(defmacro hons-note (note-stream control-string &amp;rest args)
  `(and (not (f-get-global &#39;script-mode *the-live-state*))
        (format ,note-stream
                (concatenate &#39;string &quot;; Hons-Note: &quot; ,control-string) ,@args)))">hons-note</a> <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
    <span class="string">"washing is not available for classic honsing.~%"</span>)
  nil)</pre>
  </div>

<div class="form-block function" id="def-hl-maybe-resize-ht" data-defines="HL-MAYBE-RESIZE-HT" data-references="GETHASH,SETF,VAL,KEY,LAMBDA,MAPHASH,HASH-TABLE-TEST,HL-MHT,NEW-HT,LET,<,AND,IF,TARGET-SIZE,*,MAX,MIN-REASONABLE-SIZE,HASH-TABLE-COUNT,SRC-COUNT,HASH-TABLE-SIZE,SRC-SIZE,LET*,HASH-TABLE,TYPE,DECLARE,SRC,SIZE,DEFUN" data-used-by="HL-HSPACE-RESIZE" data-part-name="HL-MAYBE-RESIZE-HT" data-part-args="SRC,SIZE" data-part-declare="SRC,HASH-TABLE,TYPE,DECLARE" data-part-body="GETHASH,SETF,VAL,KEY,LAMBDA,MAPHASH,HASH-TABLE-TEST,HL-MHT,NEW-HT,LET,<,AND,IF,SIZE,TARGET-SIZE,*,MAX,MIN-REASONABLE-SIZE,HASH-TABLE-COUNT,SRC-COUNT,SRC,HASH-TABLE-SIZE,SRC-SIZE,LET*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-MAYBE-RESIZE-HT">hl-maybe-resize-ht</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-maybe-resize-ht" data-sym="HL-MAYBE-RESIZE-HT" title="(defun hl-maybe-resize-ht (size src)
  (declare (type hash-table src))
  (let* ((src-size (hash-table-size src))
         (src-count (hash-table-count src))
         (min-reasonable-size (max 100 (* src-count 1.2)))
...">hl-maybe-resize-ht</a>
  (size src)
  (declare (type hash-table src))
  (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((src-size (hash-table-size src)) (src-count (hash-table-count src))
      (min-reasonable-size (max <span class="number">100</span> (<a class="sym-link system" href="axioms.html#def-_2A" data-sym="*">*</a> src-count <span class="number">1.2</span>)))
      (target-size (max min-reasonable-size size)))
    (if (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (&lt; (<a class="sym-link system" href="axioms.html#def-_2A" data-sym="*">*</a> src-size <span class="number">0.8</span>) target-size)
        (&lt; target-size (<a class="sym-link system" href="axioms.html#def-_2A" data-sym="*">*</a> src-size <span class="number">1.2</span>)))
      src
      (let ((new-ht (<a class="sym-link local-def" href="#def-hl-mht" data-sym="HL-MHT" title="(defmacro hl-mht (&amp;rest args) `(hl-mht-fn ,@args))">hl-mht</a> <span class="keyword">:test</span> (hash-table-test src) <span class="keyword">:size</span> size)))
        (maphash (lambda (key val) (setf (gethash key new-ht) val))
          src)
        new-ht))))</pre>
  </div>

<div class="form-block function" id="def-hl-hspace-resize" data-defines="HL-HSPACE-RESIZE" data-references="HL-CTABLES-CDR-HT-EQL,HL-CTABLES-CDR-HT,HL-CTABLES-NIL-HT,HL-HSPACE-CTABLES,CTABLES,LET,HL-HSPACE-PERSIST-HT,HL-FALTABLE-TABLE,TABLE,HL-HSPACE-FALTABLE,FALTABLE,LET*,HL-MAYBE-RESIZE-HT,HL-HSPACE-STR-HT,SETF,NATP,WHEN,IGNORE,HL-HSPACE,TYPE,DECLARE,HS,PERSIST-HT-SIZE,FAL-HT-SIZE,SBITS-SIZE,OTHER-HT-SIZE,ADDR-HT-SIZE,CDR-HT-EQL-SIZE,CDR-HT-SIZE,NIL-HT-SIZE,STR-HT-SIZE,DEFUN" data-used-by="HONS-RESIZE-FN" data-part-name="HL-HSPACE-RESIZE" data-part-args="HS,PERSIST-HT-SIZE,FAL-HT-SIZE,SBITS-SIZE,OTHER-HT-SIZE,ADDR-HT-SIZE,CDR-HT-EQL-SIZE,CDR-HT-SIZE,NIL-HT-SIZE,STR-HT-SIZE" data-part-declare="SBITS-SIZE,OTHER-HT-SIZE,ADDR-HT-SIZE,IGNORE,HS,HL-HSPACE,TYPE,DECLARE" data-part-body="HL-MAYBE-RESIZE-HT,HS,HL-HSPACE-STR-HT,SETF,STR-HT-SIZE,NATP,WHEN" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-HSPACE-RESIZE">hl-hspace-resize</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-hspace-resize" data-sym="HL-HSPACE-RESIZE" title="(defun hl-hspace-resize
       (str-ht-size nil-ht-size cdr-ht-size cdr-ht-eql-size addr-ht-size
        other-ht-size sbits-size fal-ht-size persist-ht-size hs)
  (declare (type hl-hspace hs)
           (ignore addr-ht-size other-ht-size sbits-size))
...">hl-hspace-resize</a>
  (str-ht-size nil-ht-size
    cdr-ht-size
    cdr-ht-eql-size
    addr-ht-size
    other-ht-size
    sbits-size
    fal-ht-size
    persist-ht-size
    hs)
  (declare (type hl-hspace hs)
    (ignore addr-ht-size other-ht-size sbits-size))
  (when (<a class="sym-link system" href="axioms.html#def-natp" data-sym="NATP">natp</a> str-ht-size)
    (setf (hl-hspace-str-ht hs)
      (<a class="sym-link local-def" href="#def-hl-maybe-resize-ht" data-sym="HL-MAYBE-RESIZE-HT" title="(defun hl-maybe-resize-ht (size src)
  (declare (type hash-table src))
  (let* ((src-size (hash-table-size src))
         (src-count (hash-table-count src))
         (min-reasonable-size (max 100 (* src-count 1.2)))
...">hl-maybe-resize-ht</a> str-ht-size (hl-hspace-str-ht hs))))
  (when (<a class="sym-link system" href="axioms.html#def-natp" data-sym="NATP">natp</a> fal-ht-size)
    (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((faltable (hl-hspace-faltable hs)) (<a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a> (hl-faltable-table faltable)))
      (setf (hl-faltable-table faltable)
        (<a class="sym-link local-def" href="#def-hl-maybe-resize-ht" data-sym="HL-MAYBE-RESIZE-HT" title="(defun hl-maybe-resize-ht (size src)
  (declare (type hash-table src))
  (let* ((src-size (hash-table-size src))
         (src-count (hash-table-count src))
         (min-reasonable-size (max 100 (* src-count 1.2)))
...">hl-maybe-resize-ht</a> fal-ht-size <a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a>))))
  (when (<a class="sym-link system" href="axioms.html#def-natp" data-sym="NATP">natp</a> persist-ht-size)
    (setf (hl-hspace-persist-ht hs)
      (<a class="sym-link local-def" href="#def-hl-maybe-resize-ht" data-sym="HL-MAYBE-RESIZE-HT" title="(defun hl-maybe-resize-ht (size src)
  (declare (type hash-table src))
  (let* ((src-size (hash-table-size src))
         (src-count (hash-table-count src))
         (min-reasonable-size (max 100 (* src-count 1.2)))
...">hl-maybe-resize-ht</a> persist-ht-size
        (hl-hspace-persist-ht hs))))
  (let ((ctables (hl-hspace-ctables hs)))
    (when (<a class="sym-link system" href="axioms.html#def-natp" data-sym="NATP">natp</a> nil-ht-size)
      (setf (hl-ctables-nil-ht ctables)
        (<a class="sym-link local-def" href="#def-hl-maybe-resize-ht" data-sym="HL-MAYBE-RESIZE-HT" title="(defun hl-maybe-resize-ht (size src)
  (declare (type hash-table src))
  (let* ((src-size (hash-table-size src))
         (src-count (hash-table-count src))
         (min-reasonable-size (max 100 (* src-count 1.2)))
...">hl-maybe-resize-ht</a> nil-ht-size (hl-ctables-nil-ht ctables))))
    (when (<a class="sym-link system" href="axioms.html#def-natp" data-sym="NATP">natp</a> cdr-ht-size)
      (setf (hl-ctables-cdr-ht ctables)
        (<a class="sym-link local-def" href="#def-hl-maybe-resize-ht" data-sym="HL-MAYBE-RESIZE-HT" title="(defun hl-maybe-resize-ht (size src)
  (declare (type hash-table src))
  (let* ((src-size (hash-table-size src))
         (src-count (hash-table-count src))
         (min-reasonable-size (max 100 (* src-count 1.2)))
...">hl-maybe-resize-ht</a> cdr-ht-size (hl-ctables-cdr-ht ctables))))
    (when (<a class="sym-link system" href="axioms.html#def-natp" data-sym="NATP">natp</a> cdr-ht-eql-size)
      (setf (hl-ctables-cdr-ht-eql ctables)
        (<a class="sym-link local-def" href="#def-hl-maybe-resize-ht" data-sym="HL-MAYBE-RESIZE-HT" title="(defun hl-maybe-resize-ht (size src)
  (declare (type hash-table src))
  (let* ((src-size (hash-table-size src))
         (src-count (hash-table-count src))
         (min-reasonable-size (max 100 (* src-count 1.2)))
...">hl-maybe-resize-ht</a> cdr-ht-eql-size
          (hl-ctables-cdr-ht-eql ctables)))))
  nil)</pre>
  </div>

<div class="form-block function" id="def-hl-get-final-cdr" data-defines="HL-GET-FINAL-CDR" data-references="CDR,ATOM,IF,ALIST,DEFUN" data-used-by="HL-HSPACE-FAST-ALIST-SUMMARY" data-part-name="HL-GET-FINAL-CDR" data-part-args="ALIST" data-part-body="CDR,HL-GET-FINAL-CDR,ALIST,ATOM,IF" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-GET-FINAL-CDR">hl-get-final-cdr</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-get-final-cdr" data-sym="HL-GET-FINAL-CDR" title="(defun hl-get-final-cdr (alist)
  (if (atom alist)
      alist
      (hl-get-final-cdr (cdr alist))))">hl-get-final-cdr</a>
  (alist)
  (if (<a class="sym-link system" href="axioms.html#def-atom" data-sym="ATOM">atom</a> alist)
    alist
    (<a class="sym-link local-def" href="#def-hl-get-final-cdr" data-sym="HL-GET-FINAL-CDR" title="(defun hl-get-final-cdr (alist)
  (if (atom alist)
      alist
      (hl-get-final-cdr (cdr alist))))">hl-get-final-cdr</a> (cdr alist))))</pre>
  </div>

<div class="form-block function" id="def-hl-hspace-fast-alist-summary" data-defines="HL-HSPACE-FAST-ALIST-SUMMARY" data-references="THIRD,DO,IN,ENTRY,FOR,LOOP,SECOND,=,AND,FIRST,>,OR,Y,X,SORT,SETQ,LIST,PUSH,INCF,HASH-TABLE-COUNT,COUNT,HASH-TABLE-SIZE,SIZE,HL-GET-FINAL-CDR,FINAL-CDR,ASSOCIATED-HT,ALIST,LAMBDA,HL-FALTABLE-MAPHASH,FORCE-OUTPUT,T,FORMAT,REPORT-ENTRIES,TOTAL-NUM,TOTAL-SIZES,TOTAL-COUNT,HL-FALTABLE-TABLE,TABLE,HL-HSPACE-FALTABLE,FALTABLE,LET*,HL-HSPACE,TYPE,DECLARE,HS,DEFUN" data-used-by="FAST-ALIST-SUMMARY" data-part-name="HL-HSPACE-FAST-ALIST-SUMMARY" data-part-args="HS" data-part-declare="HS,HL-HSPACE,TYPE,DECLARE" data-part-body="THIRD,DO,IN,ENTRY,FOR,LOOP,SECOND,=,AND,FIRST,>,OR,Y,X,SORT,SETQ,LIST,PUSH,INCF,HASH-TABLE-COUNT,COUNT,HASH-TABLE-SIZE,SIZE,HL-GET-FINAL-CDR,FINAL-CDR,ASSOCIATED-HT,ALIST,LAMBDA,HL-FALTABLE-MAPHASH,FORCE-OUTPUT,T,FORMAT,REPORT-ENTRIES,TOTAL-NUM,TOTAL-SIZES,TOTAL-COUNT,HL-FALTABLE-TABLE,TABLE,HS,HL-HSPACE-FALTABLE,FALTABLE,LET*" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-HSPACE-FAST-ALIST-SUMMARY">hl-hspace-fast-alist-summary</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-hspace-fast-alist-summary" data-sym="HL-HSPACE-FAST-ALIST-SUMMARY" title="(defun hl-hspace-fast-alist-summary (hs)
  (declare (type hl-hspace hs))
  (let* ((faltable (hl-hspace-faltable hs))
         (table (hl-faltable-table faltable))
         (total-count 0)
...">hl-hspace-fast-alist-summary</a>
  (hs)
  (declare (type hl-hspace hs))
  (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((faltable (hl-hspace-faltable hs)) (<a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a> (hl-faltable-table faltable))
      (total-count <span class="number">0</span>)
      (total-sizes <span class="number">0</span>)
      (total-num <span class="number">0</span>)
      (report-entries))
    (format <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <span class="string">"~%Fast Alists Summary:~%~%"</span>)
    (force-output)
    (<a class="sym-link local-def" href="#def-hl-faltable-maphash" data-sym="HL-FALTABLE-MAPHASH" title="(defun hl-faltable-maphash (f faltable)
  (declare (type hl-faltable faltable))
  (let ((slot1 (hl-faltable-slot1 faltable))
        (slot2 (hl-faltable-slot2 faltable))
        (table (hl-faltable-table faltable)))
...">hl-faltable-maphash</a> (lambda (alist associated-ht)
        (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((final-cdr (<a class="sym-link local-def" href="#def-hl-get-final-cdr" data-sym="HL-GET-FINAL-CDR" title="(defun hl-get-final-cdr (alist)
  (if (atom alist)
      alist
      (hl-get-final-cdr (cdr alist))))">hl-get-final-cdr</a> alist)) (size (hash-table-size associated-ht))
            (<a class="sym-link system" href="axioms.html#def-count" data-sym="COUNT">count</a> (hash-table-count associated-ht)))
          (incf total-sizes size)
          (incf total-count <a class="sym-link system" href="axioms.html#def-count" data-sym="COUNT">count</a>)
          (incf total-num)
          (push (<a class="sym-link system" href="axioms.html#def-list" data-sym="LIST">list</a> <a class="sym-link system" href="axioms.html#def-count" data-sym="COUNT">count</a> size final-cdr) report-entries)))
      faltable)
    (format <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <span class="string">" - Number of fast alists: ~15:D~%"</span> total-num)
    (format <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
      <span class="string">" - Size of FAL table:     ~15:D~%"</span>
      (hash-table-size <a class="sym-link system" href="axioms.html#def-table" data-sym="TABLE">table</a>))
    (format <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <span class="string">" - Total of counts:       ~15:D~%"</span> total-count)
    (format <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <span class="string">" - Total of sizes:        ~15:D~%"</span> total-sizes)
    (format <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <span class="string">"~%"</span>)
    (force-output)
    (setq report-entries
      (sort report-entries
        (lambda (x y)
          (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> (<a class="sym-link system" href="axioms.html#def-_3E" data-sym="&gt;">&gt;</a> (<a class="sym-link system" href="axioms.html#def-first" data-sym="FIRST">first</a> x) (<a class="sym-link system" href="axioms.html#def-first" data-sym="FIRST">first</a> y))
            (<a class="sym-link system" href="axioms.html#def-and" data-sym="AND">and</a> (<a class="sym-link system" href="axioms.html#def-_3D" data-sym="=">=</a> (<a class="sym-link system" href="axioms.html#def-first" data-sym="FIRST">first</a> x) (<a class="sym-link system" href="axioms.html#def-first" data-sym="FIRST">first</a> y)) (<a class="sym-link system" href="axioms.html#def-_3E" data-sym="&gt;">&gt;</a> (<a class="sym-link system" href="axioms.html#def-second" data-sym="SECOND">second</a> x) (<a class="sym-link system" href="axioms.html#def-second" data-sym="SECOND">second</a> y)))))))
    (format <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <span class="string">"Summary of individual fast alists:~%~%"</span>)
    (format <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <span class="string">"      Count           Size         Name~%"</span>)
    (format <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <span class="string">"  (used slots)     (capacity)~%"</span>)
    (format <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
      <span class="string">"--------------------------------------------------~%"</span>)
    (loop for
      entry
      in
      report-entries
      do
      (format <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
        <span class="string">"~10:D ~16:D        ~:D~%"</span>
        (<a class="sym-link system" href="axioms.html#def-first" data-sym="FIRST">first</a> entry)
        (<a class="sym-link system" href="axioms.html#def-second" data-sym="SECOND">second</a> entry)
        (<a class="sym-link system" href="axioms.html#def-third" data-sym="THIRD">third</a> entry)))
    (format <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
      <span class="string">"--------------------------------------------------~%"</span>)
    (format <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <span class="string">"~%"</span>)
    (force-output)))</pre>
  </div>

<div class="form-block function" id="def-hl-hspace-hons-summary" data-defines="HL-HSPACE-HONS-SUMMARY" data-references="HL-HSPACE-FALTABLE,HL-FALTABLE-TABLE,FAL-HT,HL-HSPACE-PERSIST-HT,PERSIST-HT,HL-HSPACE-STR-HT,STR-HT,LET,/,*,HASH-TABLE-SIZE,HASH-TABLE-COUNT,HL-CTABLES-CDR-HT-EQL,CDR-HT-EQL,HL-CTABLES-CDR-HT,CDR-HT,HL-CTABLES-NIL-HT,NIL-HT,HL-HSPACE-CTABLES,CTABLES,LET*,T,FORMAT,HL-HSPACE,TYPE,DECLARE,HS,DEFUN" data-used-by="HONS-SUMMARY" data-part-name="HL-HSPACE-HONS-SUMMARY" data-part-args="HS" data-part-declare="HS,HL-HSPACE,TYPE,DECLARE" data-part-body="T,FORMAT" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-HSPACE-HONS-SUMMARY">hl-hspace-hons-summary</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-hspace-hons-summary" data-sym="HL-HSPACE-HONS-SUMMARY" title="(defun hl-hspace-hons-summary (hs)
  (declare (type hl-hspace hs))
  (format t &quot;~%Normed Objects Summary~%~%&quot;)
  (let* ((ctables (hl-hspace-ctables hs))
         (nil-ht (hl-ctables-nil-ht ctables))
...">hl-hspace-hons-summary</a>
  (hs)
  (declare (type hl-hspace hs))
  (format <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> <span class="string">"~%Normed Objects Summary~%~%"</span>)
  (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((ctables (hl-hspace-ctables hs)) (nil-ht (hl-ctables-nil-ht ctables))
      (cdr-ht (hl-ctables-cdr-ht ctables))
      (cdr-ht-eql (hl-ctables-cdr-ht-eql ctables)))
    (format <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
      <span class="string">" - NIL-HT:       ~15:D count, ~15:D size (~5,2f% full)~%"</span>
      (hash-table-count nil-ht)
      (hash-table-size nil-ht)
      (<a class="sym-link system" href="axioms.html#def-_2A" data-sym="*">*</a> (<a class="sym-link system" href="axioms.html#def-_2F" data-sym="/">/</a> (hash-table-count nil-ht) (hash-table-size nil-ht))
        <span class="number">100.0</span>))
    (format <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
      <span class="string">" - CDR-HT:       ~15:D count, ~15:D size (~5,2f% full)~%"</span>
      (hash-table-count cdr-ht)
      (hash-table-size cdr-ht)
      (<a class="sym-link system" href="axioms.html#def-_2A" data-sym="*">*</a> (<a class="sym-link system" href="axioms.html#def-_2F" data-sym="/">/</a> (hash-table-count cdr-ht) (hash-table-size cdr-ht))
        <span class="number">100.0</span>))
    (format <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
      <span class="string">" - CDR-HT-EQL:   ~15:D count, ~15:D size (~5,2f% full)~%"</span>
      (hash-table-count cdr-ht-eql)
      (hash-table-size cdr-ht-eql)
      (<a class="sym-link system" href="axioms.html#def-_2A" data-sym="*">*</a> (<a class="sym-link system" href="axioms.html#def-_2F" data-sym="/">/</a> (hash-table-count cdr-ht-eql)
          (hash-table-size cdr-ht-eql))
        <span class="number">100.0</span>)))
  (let ((str-ht (hl-hspace-str-ht hs)) (persist-ht (hl-hspace-persist-ht hs))
      (fal-ht (hl-faltable-table (hl-hspace-faltable hs))))
    (format <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
      <span class="string">" - STR-HT:       ~15:D count, ~15:D size (~5,2f% full)~%"</span>
      (hash-table-count str-ht)
      (hash-table-size str-ht)
      (<a class="sym-link system" href="axioms.html#def-_2A" data-sym="*">*</a> (<a class="sym-link system" href="axioms.html#def-_2F" data-sym="/">/</a> (hash-table-count str-ht) (hash-table-size str-ht))
        <span class="number">100.0</span>))
    (format <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
      <span class="string">" - PERSIST-HT:   ~15:D count, ~15:D size (~5,2f% full)~%"</span>
      (hash-table-count persist-ht)
      (hash-table-size persist-ht)
      (<a class="sym-link system" href="axioms.html#def-_2A" data-sym="*">*</a> (<a class="sym-link system" href="axioms.html#def-_2F" data-sym="/">/</a> (hash-table-count persist-ht)
          (hash-table-size persist-ht))
        <span class="number">100.0</span>))
    (format <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
      <span class="string">" - FAL-HT:       ~15:D count, ~15:D size (~5,2f% full)~%~%"</span>
      (hash-table-count fal-ht)
      (hash-table-size fal-ht)
      (<a class="sym-link system" href="axioms.html#def-_2A" data-sym="*">*</a> (<a class="sym-link system" href="axioms.html#def-_2F" data-sym="/">/</a> (hash-table-count fal-ht) (hash-table-size fal-ht))
        <span class="number">100.0</span>)))
  nil)</pre>
  </div>

<div class="form-block other" id="form-92" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(defparameter *default-hs* (<a class="sym-link local-def" href="#def-hl-hspace-init" data-sym="HL-HSPACE-INIT" title="(defun hl-hspace-init
       (
        &amp;key (str-ht-size *hl-hspace-str-ht-default-size*)
        (nil-ht-size *hl-ctables-nil-ht-default-size*)
        (cdr-ht-size *hl-ctables-cdr-ht-default-size*)
...">hl-hspace-init</a>))</pre>
  </div>

<div class="form-block other" id="form-93" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(declaim (type (<a class="sym-link system" href="axioms.html#def-or" data-sym="OR">or</a> hl-hspace <a class="sym-link system" href="axioms.html#def-null" data-sym="NULL">null</a>) *default-hs*))</pre>
  </div>

<div class="form-block other" id="form-94" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(declaim (inline <a class="sym-link local-def" href="#def-hl-maybe-initialize-default-hs" data-sym="HL-MAYBE-INITIALIZE-DEFAULT-HS" title="(defun hl-maybe-initialize-default-hs ()
  (unless *default-hs* (setq *default-hs* (hl-hspace-init))))">hl-maybe-initialize-default-hs</a>))</pre>
  </div>

<div class="form-block function" id="def-hl-maybe-initialize-default-hs" data-defines="HL-MAYBE-INITIALIZE-DEFAULT-HS" data-references="HL-HSPACE-INIT,SETQ,*DEFAULT-HS*,UNLESS,DEFUN" data-used-by="WITH-STOLEN-ALIST-RAW,WITH-FAST-ALIST-RAW,MAKE-FAST-ALIST,FAST-ALIST-SUMMARY,NUMBER-SUBTREES,FAST-ALIST-LEN,FAST-ALIST-FREE,HONS-GET,FAST-ALIST-CLEAN!,FAST-ALIST-CLEAN,FAST-ALIST-FORK!,FAST-ALIST-FORK,HONS-ACONS!,HONS-ACONS,HONS-RESIZE-FN,HONS-WASH!,HONS-CLEAR!,HONS-SUMMARY,HONS-EQUAL-LITE,HONS-EQUAL,HONS-COPY-PERSISTENT,HONS-COPY,HONS,HL-MAYBE-INITIALIZE-DEFAULT-HS-WRAPPER" data-part-name="HL-MAYBE-INITIALIZE-DEFAULT-HS" data-part-body="HL-HSPACE-INIT,SETQ,*DEFAULT-HS*,UNLESS" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-MAYBE-INITIALIZE-DEFAULT-HS">hl-maybe-initialize-default-hs</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-maybe-initialize-default-hs" data-sym="HL-MAYBE-INITIALIZE-DEFAULT-HS" title="(defun hl-maybe-initialize-default-hs ()
  (unless *default-hs* (setq *default-hs* (hl-hspace-init))))">hl-maybe-initialize-default-hs</a>
  nil
  (unless *default-hs* (setq *default-hs* (<a class="sym-link local-def" href="#def-hl-hspace-init" data-sym="HL-HSPACE-INIT" title="(defun hl-hspace-init
       (
        &amp;key (str-ht-size *hl-hspace-str-ht-default-size*)
        (nil-ht-size *hl-ctables-nil-ht-default-size*)
        (cdr-ht-size *hl-ctables-cdr-ht-default-size*)
...">hl-hspace-init</a>))))</pre>
  </div>

<div class="form-block function" id="def-hl-maybe-initialize-default-hs-wrapper" data-defines="HL-MAYBE-INITIALIZE-DEFAULT-HS-WRAPPER" data-references="HL-MAYBE-INITIALIZE-DEFAULT-HS,DEFUN" data-part-name="HL-MAYBE-INITIALIZE-DEFAULT-HS-WRAPPER" data-part-body="HL-MAYBE-INITIALIZE-DEFAULT-HS" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HL-MAYBE-INITIALIZE-DEFAULT-HS-WRAPPER">hl-maybe-initialize-default-hs-wrapper</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hl-maybe-initialize-default-hs-wrapper" data-sym="HL-MAYBE-INITIALIZE-DEFAULT-HS-WRAPPER" title="(defun hl-maybe-initialize-default-hs-wrapper ()
  (hl-maybe-initialize-default-hs))">hl-maybe-initialize-default-hs-wrapper</a>
  nil
  (<a class="sym-link local-def" href="#def-hl-maybe-initialize-default-hs" data-sym="HL-MAYBE-INITIALIZE-DEFAULT-HS" title="(defun hl-maybe-initialize-default-hs ()
  (unless *default-hs* (setq *default-hs* (hl-hspace-init))))">hl-maybe-initialize-default-hs</a>))</pre>
  </div>

<div class="form-block function" id="def-hons" data-defines="HONS" data-references="*DEFAULT-HS*,HL-HSPACE-HONS,HL-MAYBE-INITIALIZE-DEFAULT-HS,Y,X,DEFUN" data-used-by="GET-SLOW-ALIST-ACTION" data-part-name="HONS" data-part-args="Y,X" data-part-body="HL-MAYBE-INITIALIZE-DEFAULT-HS" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HONS">hons</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hons" data-sym="HONS" title="(defun hons (x y)
  (hl-maybe-initialize-default-hs)
  (hl-hspace-hons x y *default-hs*))">hons</a>
  (x y)
  (<a class="sym-link local-def" href="#def-hl-maybe-initialize-default-hs" data-sym="HL-MAYBE-INITIALIZE-DEFAULT-HS" title="(defun hl-maybe-initialize-default-hs ()
  (unless *default-hs* (setq *default-hs* (hl-hspace-init))))">hl-maybe-initialize-default-hs</a>)
  (<a class="sym-link local-def" href="#def-hl-hspace-hons" data-sym="HL-HSPACE-HONS" title="(defmacro hl-hspace-hons (x y hs)
  `(let ((x ,x) (y ,y) (hs ,hs))
     (declare (type hl-hspace hs))
     (hl-hspace-hons-normed (hl-hspace-norm x hs) (hl-hspace-norm y hs) nil
                            hs)))">hl-hspace-hons</a> x y *default-hs*))</pre>
  </div>

<div class="form-block function" id="def-hons-copy" data-defines="HONS-COPY" data-references="*DEFAULT-HS*,HL-HSPACE-NORM,HL-MAYBE-INITIALIZE-DEFAULT-HS,X,DEFUN" data-part-name="HONS-COPY" data-part-args="X" data-part-body="HL-MAYBE-INITIALIZE-DEFAULT-HS" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HONS-COPY">hons-copy</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hons-copy" data-sym="HONS-COPY" title="(defun hons-copy (x)
  (hl-maybe-initialize-default-hs)
  (hl-hspace-norm x *default-hs*))">hons-copy</a>
  (x)
  (<a class="sym-link local-def" href="#def-hl-maybe-initialize-default-hs" data-sym="HL-MAYBE-INITIALIZE-DEFAULT-HS" title="(defun hl-maybe-initialize-default-hs ()
  (unless *default-hs* (setq *default-hs* (hl-hspace-init))))">hl-maybe-initialize-default-hs</a>)
  (<a class="sym-link local-def" href="#def-hl-hspace-norm" data-sym="HL-HSPACE-NORM" title="(defun hl-hspace-norm (x hs)
  (cond ((atom x) (hl-hspace-norm-atom x hs)) ((hl-hspace-honsp x hs) x)
        (t (hl-hspace-norm-expensive x hs))))">hl-hspace-norm</a> x *default-hs*))</pre>
  </div>

<div class="form-block function" id="def-hons-copy-persistent" data-defines="HONS-COPY-PERSISTENT" data-references="*DEFAULT-HS*,HL-HSPACE-PERSISTENT-NORM,HL-MAYBE-INITIALIZE-DEFAULT-HS,X,DEFUN" data-part-name="HONS-COPY-PERSISTENT" data-part-args="X" data-part-body="HL-MAYBE-INITIALIZE-DEFAULT-HS" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HONS-COPY-PERSISTENT">hons-copy-persistent</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hons-copy-persistent" data-sym="HONS-COPY-PERSISTENT" title="(defun hons-copy-persistent (x)
  (hl-maybe-initialize-default-hs)
  (hl-hspace-persistent-norm x *default-hs*))">hons-copy-persistent</a>
  (x)
  (<a class="sym-link local-def" href="#def-hl-maybe-initialize-default-hs" data-sym="HL-MAYBE-INITIALIZE-DEFAULT-HS" title="(defun hl-maybe-initialize-default-hs ()
  (unless *default-hs* (setq *default-hs* (hl-hspace-init))))">hl-maybe-initialize-default-hs</a>)
  (<a class="sym-link local-def" href="#def-hl-hspace-persistent-norm" data-sym="HL-HSPACE-PERSISTENT-NORM" title="(defun hl-hspace-persistent-norm (x hs)
  (let ((x (hl-hspace-norm x hs)))
    (when (consp x)
      (let ((persist-ht (hl-hspace-persist-ht hs)))
        (setf (gethash x persist-ht) t)))">hl-hspace-persistent-norm</a> x *default-hs*))</pre>
  </div>

<div class="form-block other" id="form-100" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(declaim (inline <a class="sym-link local-def" href="#def-hons-equal" data-sym="HONS-EQUAL" title="(defun hons-equal (x y)
  (hl-maybe-initialize-default-hs)
  (hl-hspace-hons-equal x y *default-hs*))">hons-equal</a>))</pre>
  </div>

<div class="form-block function" id="def-hons-equal" data-defines="HONS-EQUAL" data-references="*DEFAULT-HS*,HL-HSPACE-HONS-EQUAL,HL-MAYBE-INITIALIZE-DEFAULT-HS,Y,X,DEFUN" data-part-name="HONS-EQUAL" data-part-args="Y,X" data-part-body="HL-MAYBE-INITIALIZE-DEFAULT-HS" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HONS-EQUAL">hons-equal</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hons-equal" data-sym="HONS-EQUAL" title="(defun hons-equal (x y)
  (hl-maybe-initialize-default-hs)
  (hl-hspace-hons-equal x y *default-hs*))">hons-equal</a>
  (x y)
  (<a class="sym-link local-def" href="#def-hl-maybe-initialize-default-hs" data-sym="HL-MAYBE-INITIALIZE-DEFAULT-HS" title="(defun hl-maybe-initialize-default-hs ()
  (unless *default-hs* (setq *default-hs* (hl-hspace-init))))">hl-maybe-initialize-default-hs</a>)
  (<a class="sym-link local-def" href="#def-hl-hspace-hons-equal" data-sym="HL-HSPACE-HONS-EQUAL" title="(defun hl-hspace-hons-equal (x y hs)
  (declare (type hl-hspace hs))
  (cond ((eq x y) t)
        ((consp x)
         (and (consp y)
...">hl-hspace-hons-equal</a> x y *default-hs*))</pre>
  </div>

<div class="form-block other" id="form-102" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(declaim (inline <a class="sym-link local-def" href="#def-hons-equal-lite" data-sym="HONS-EQUAL-LITE" title="(defun hons-equal-lite (x y)
  (hl-maybe-initialize-default-hs)
  (hl-hspace-hons-equal-lite x y *default-hs*))">hons-equal-lite</a>))</pre>
  </div>

<div class="form-block function" id="def-hons-equal-lite" data-defines="HONS-EQUAL-LITE" data-references="*DEFAULT-HS*,HL-HSPACE-HONS-EQUAL-LITE,HL-MAYBE-INITIALIZE-DEFAULT-HS,Y,X,DEFUN" data-part-name="HONS-EQUAL-LITE" data-part-args="Y,X" data-part-body="HL-MAYBE-INITIALIZE-DEFAULT-HS" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HONS-EQUAL-LITE">hons-equal-lite</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hons-equal-lite" data-sym="HONS-EQUAL-LITE" title="(defun hons-equal-lite (x y)
  (hl-maybe-initialize-default-hs)
  (hl-hspace-hons-equal-lite x y *default-hs*))">hons-equal-lite</a>
  (x y)
  (<a class="sym-link local-def" href="#def-hl-maybe-initialize-default-hs" data-sym="HL-MAYBE-INITIALIZE-DEFAULT-HS" title="(defun hl-maybe-initialize-default-hs ()
  (unless *default-hs* (setq *default-hs* (hl-hspace-init))))">hl-maybe-initialize-default-hs</a>)
  (<a class="sym-link local-def" href="#def-hl-hspace-hons-equal-lite" data-sym="HL-HSPACE-HONS-EQUAL-LITE" title="(defun hl-hspace-hons-equal-lite (x y hs)
  (declare (type hl-hspace hs))
  (cond ((eq x y) t)
        ((and (consp x) (consp y) (hl-hspace-honsp x hs)
              (hl-hspace-honsp y hs))
...">hl-hspace-hons-equal-lite</a> x y *default-hs*))</pre>
  </div>

<div class="form-block function" id="def-hons-summary" data-defines="HONS-SUMMARY" data-references="*DEFAULT-HS*,HL-HSPACE-HONS-SUMMARY,HL-MAYBE-INITIALIZE-DEFAULT-HS,DEFUN" data-part-name="HONS-SUMMARY" data-part-body="HL-MAYBE-INITIALIZE-DEFAULT-HS" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HONS-SUMMARY">hons-summary</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hons-summary" data-sym="HONS-SUMMARY" title="(defun hons-summary ()
  (hl-maybe-initialize-default-hs)
  (hl-hspace-hons-summary *default-hs*))">hons-summary</a>
  nil
  (<a class="sym-link local-def" href="#def-hl-maybe-initialize-default-hs" data-sym="HL-MAYBE-INITIALIZE-DEFAULT-HS" title="(defun hl-maybe-initialize-default-hs ()
  (unless *default-hs* (setq *default-hs* (hl-hspace-init))))">hl-maybe-initialize-default-hs</a>)
  (<a class="sym-link local-def" href="#def-hl-hspace-hons-summary" data-sym="HL-HSPACE-HONS-SUMMARY" title="(defun hl-hspace-hons-summary (hs)
  (declare (type hl-hspace hs))
  (format t &quot;~%Normed Objects Summary~%~%&quot;)
  (let* ((ctables (hl-hspace-ctables hs))
         (nil-ht (hl-ctables-nil-ht ctables))
...">hl-hspace-hons-summary</a> *default-hs*))</pre>
  </div>

<div class="form-block function" id="def-hons-clear_21" data-defines="HONS-CLEAR!" data-references="*DEFAULT-HS*,HL-HSPACE-HONS-CLEAR,HL-MAYBE-INITIALIZE-DEFAULT-HS,GC,DEFUN" data-used-by="HONS-CLEAR" data-part-name="HONS-CLEAR!" data-part-args="GC" data-part-body="HL-MAYBE-INITIALIZE-DEFAULT-HS" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HONS-CLEAR!">hons-clear!</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hons-clear_21" data-sym="HONS-CLEAR!" title="(defun hons-clear! (gc)
  (hl-maybe-initialize-default-hs)
  (hl-hspace-hons-clear gc *default-hs*))">hons-clear!</a>
  (gc)
  (<a class="sym-link local-def" href="#def-hl-maybe-initialize-default-hs" data-sym="HL-MAYBE-INITIALIZE-DEFAULT-HS" title="(defun hl-maybe-initialize-default-hs ()
  (unless *default-hs* (setq *default-hs* (hl-hspace-init))))">hl-maybe-initialize-default-hs</a>)
  (<a class="sym-link local-def" href="#def-hl-hspace-hons-clear" data-sym="HL-HSPACE-HONS-CLEAR" title="(defun hl-hspace-hons-clear (gc hs)
  (declare (type hl-hspace hs))
  (let* ((ctables (hl-hspace-ctables hs))
         (nil-ht (hl-ctables-nil-ht ctables))
         (cdr-ht (hl-ctables-cdr-ht ctables))
...">hl-hspace-hons-clear</a> gc *default-hs*))</pre>
  </div>

<div class="form-block function" id="def-hons-clear" data-defines="HONS-CLEAR" data-references="HONS-CLEAR!,GC,DEFUN" data-part-name="HONS-CLEAR" data-part-args="GC" data-part-body="GC,HONS-CLEAR!" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HONS-CLEAR">hons-clear</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hons-clear" data-sym="HONS-CLEAR" title="(defun hons-clear (gc) (hons-clear! gc))">hons-clear</a> (gc) (<a class="sym-link local-def" href="#def-hons-clear_21" data-sym="HONS-CLEAR!" title="(defun hons-clear! (gc)
  (hl-maybe-initialize-default-hs)
  (hl-hspace-hons-clear gc *default-hs*))">hons-clear!</a> gc))</pre>
  </div>

<div class="form-block function" id="def-hons-wash_21" data-defines="HONS-WASH!" data-references="*DEFAULT-HS*,HL-HSPACE-HONS-WASH,HL-MAYBE-INITIALIZE-DEFAULT-HS,DEFUN" data-used-by="HONS-WASH" data-part-name="HONS-WASH!" data-part-body="HL-MAYBE-INITIALIZE-DEFAULT-HS" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HONS-WASH!">hons-wash!</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hons-wash_21" data-sym="HONS-WASH!" title="(defun hons-wash! ()
  (hl-maybe-initialize-default-hs)
  (hl-hspace-hons-wash *default-hs*)
  nil)">hons-wash!</a>
  nil
  (<a class="sym-link local-def" href="#def-hl-maybe-initialize-default-hs" data-sym="HL-MAYBE-INITIALIZE-DEFAULT-HS" title="(defun hl-maybe-initialize-default-hs ()
  (unless *default-hs* (setq *default-hs* (hl-hspace-init))))">hl-maybe-initialize-default-hs</a>)
  (<a class="sym-link local-def" href="#def-hl-hspace-hons-wash" data-sym="HL-HSPACE-HONS-WASH" title="(defun hl-hspace-hons-wash (hs)
  (declare (type hl-hspace hs))
  (declare (ignore hs))
  (hons-note t &quot;washing is not available for classic honsing.~%&quot;)
  nil)">hl-hspace-hons-wash</a> *default-hs*)
  nil)</pre>
  </div>

<div class="form-block function" id="def-hons-wash" data-defines="HONS-WASH" data-references="HONS-WASH!,DEFUN" data-part-name="HONS-WASH" data-part-body="HONS-WASH!" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HONS-WASH">hons-wash</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hons-wash" data-sym="HONS-WASH" title="(defun hons-wash () (hons-wash!))">hons-wash</a> nil (<a class="sym-link local-def" href="#def-hons-wash_21" data-sym="HONS-WASH!" title="(defun hons-wash! ()
  (hl-maybe-initialize-default-hs)
  (hl-hspace-hons-wash *default-hs*)
  nil)">hons-wash!</a>))</pre>
  </div>

<div class="form-block function" id="def-hons-resize-fn" data-defines="HONS-RESIZE-FN" data-references="*DEFAULT-HS*,HL-HSPACE-RESIZE,HL-MAYBE-INITIALIZE-DEFAULT-HS,PERSIST-HT,FAL-HT,SBITS,OTHER-HT,ADDR-HT,CDR-HT-EQL,CDR-HT,NIL-HT,STR-HT,DEFUN" data-part-name="HONS-RESIZE-FN" data-part-args="PERSIST-HT,FAL-HT,SBITS,OTHER-HT,ADDR-HT,CDR-HT-EQL,CDR-HT,NIL-HT,STR-HT" data-part-body="HL-MAYBE-INITIALIZE-DEFAULT-HS" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HONS-RESIZE-FN">hons-resize-fn</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hons-resize-fn" data-sym="HONS-RESIZE-FN" title="(defun hons-resize-fn
       (str-ht nil-ht cdr-ht cdr-ht-eql addr-ht other-ht sbits fal-ht
        persist-ht)
  (hl-maybe-initialize-default-hs)
  (hl-hspace-resize str-ht nil-ht cdr-ht cdr-ht-eql addr-ht other-ht sbits">hons-resize-fn</a>
  (str-ht nil-ht
    cdr-ht
    cdr-ht-eql
    addr-ht
    other-ht
    sbits
    fal-ht
    persist-ht)
  (<a class="sym-link local-def" href="#def-hl-maybe-initialize-default-hs" data-sym="HL-MAYBE-INITIALIZE-DEFAULT-HS" title="(defun hl-maybe-initialize-default-hs ()
  (unless *default-hs* (setq *default-hs* (hl-hspace-init))))">hl-maybe-initialize-default-hs</a>)
  (<a class="sym-link local-def" href="#def-hl-hspace-resize" data-sym="HL-HSPACE-RESIZE" title="(defun hl-hspace-resize
       (str-ht-size nil-ht-size cdr-ht-size cdr-ht-eql-size addr-ht-size
        other-ht-size sbits-size fal-ht-size persist-ht-size hs)
  (declare (type hl-hspace hs)
           (ignore addr-ht-size other-ht-size sbits-size))
...">hl-hspace-resize</a> str-ht
    nil-ht
    cdr-ht
    cdr-ht-eql
    addr-ht
    other-ht
    sbits
    fal-ht
    persist-ht
    *default-hs*))</pre>
  </div>

<div class="form-block other" id="form-110" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(declaim (inline <a class="sym-link local-def" href="#def-hons-acons" data-sym="HONS-ACONS" title="(defun hons-acons (key val fal)
  (hl-maybe-initialize-default-hs)
  (hl-hspace-hons-acons key val fal *default-hs*))">hons-acons</a>))</pre>
  </div>

<div class="form-block function" id="def-hons-acons" data-defines="HONS-ACONS" data-references="*DEFAULT-HS*,HL-HSPACE-HONS-ACONS,HL-MAYBE-INITIALIZE-DEFAULT-HS,FAL,VAL,KEY,DEFUN" data-used-by="HL-HSPACE-HONS-ACONS!,HL-HSPACE-HONS-ACONS" data-part-name="HONS-ACONS" data-part-args="FAL,VAL,KEY" data-part-body="HL-MAYBE-INITIALIZE-DEFAULT-HS" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HONS-ACONS">hons-acons</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hons-acons" data-sym="HONS-ACONS" title="(defun hons-acons (key val fal)
  (hl-maybe-initialize-default-hs)
  (hl-hspace-hons-acons key val fal *default-hs*))">hons-acons</a>
  (key val fal)
  (<a class="sym-link local-def" href="#def-hl-maybe-initialize-default-hs" data-sym="HL-MAYBE-INITIALIZE-DEFAULT-HS" title="(defun hl-maybe-initialize-default-hs ()
  (unless *default-hs* (setq *default-hs* (hl-hspace-init))))">hl-maybe-initialize-default-hs</a>)
  (<a class="sym-link local-def" href="#def-hl-hspace-hons-acons" data-sym="HL-HSPACE-HONS-ACONS" title="(defun hl-hspace-hons-acons (key value alist hs)
  (declare (type hl-hspace hs))
  (let* ((key (hl-hspace-norm key hs))
         (entry (cons key value))
         (ans (cons entry alist))
...">hl-hspace-hons-acons</a> key val fal *default-hs*))</pre>
  </div>

<div class="form-block other" id="form-112" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(declaim (inline <a class="sym-link local-def" href="#def-hons-acons_21" data-sym="HONS-ACONS!" title="(defun hons-acons! (key val fal)
  (hl-maybe-initialize-default-hs)
  (hl-hspace-hons-acons! key val fal *default-hs*))">hons-acons!</a>))</pre>
  </div>

<div class="form-block function" id="def-hons-acons_21" data-defines="HONS-ACONS!" data-references="*DEFAULT-HS*,HL-HSPACE-HONS-ACONS!,HL-MAYBE-INITIALIZE-DEFAULT-HS,FAL,VAL,KEY,DEFUN" data-used-by="HL-HSPACE-HONS-ACONS!" data-part-name="HONS-ACONS!" data-part-args="FAL,VAL,KEY" data-part-body="HL-MAYBE-INITIALIZE-DEFAULT-HS" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HONS-ACONS!">hons-acons!</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hons-acons_21" data-sym="HONS-ACONS!" title="(defun hons-acons! (key val fal)
  (hl-maybe-initialize-default-hs)
  (hl-hspace-hons-acons! key val fal *default-hs*))">hons-acons!</a>
  (key val fal)
  (<a class="sym-link local-def" href="#def-hl-maybe-initialize-default-hs" data-sym="HL-MAYBE-INITIALIZE-DEFAULT-HS" title="(defun hl-maybe-initialize-default-hs ()
  (unless *default-hs* (setq *default-hs* (hl-hspace-init))))">hl-maybe-initialize-default-hs</a>)
  (<a class="sym-link local-def" href="#def-hl-hspace-hons-acons_21" data-sym="HL-HSPACE-HONS-ACONS!" title="(defun hl-hspace-hons-acons! (key value alist hs)
  (declare (type hl-hspace hs))
  (let* ((key (hl-hspace-norm key hs))
         (entry (hl-hspace-hons key value hs))
         (ans (hl-hspace-hons entry alist hs))
...">hl-hspace-hons-acons!</a> key val fal *default-hs*))</pre>
  </div>

<div class="form-block function" id="def-fast-alist-fork" data-defines="FAST-ALIST-FORK" data-references="*DEFAULT-HS*,HL-HSPACE-FAST-ALIST-FORK,HL-MAYBE-INITIALIZE-DEFAULT-HS,ANS,ALIST,DEFUN" data-used-by="HL-HSPACE-FAST-ALIST-FORK" data-part-name="FAST-ALIST-FORK" data-part-args="ANS,ALIST" data-part-body="HL-MAYBE-INITIALIZE-DEFAULT-HS" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="FAST-ALIST-FORK">fast-alist-fork</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-fast-alist-fork" data-sym="FAST-ALIST-FORK" title="(defun fast-alist-fork (alist ans)
  (hl-maybe-initialize-default-hs)
  (hl-hspace-fast-alist-fork alist ans nil *default-hs*))">fast-alist-fork</a>
  (alist ans)
  (<a class="sym-link local-def" href="#def-hl-maybe-initialize-default-hs" data-sym="HL-MAYBE-INITIALIZE-DEFAULT-HS" title="(defun hl-maybe-initialize-default-hs ()
  (unless *default-hs* (setq *default-hs* (hl-hspace-init))))">hl-maybe-initialize-default-hs</a>)
  (<a class="sym-link local-def" href="#def-hl-hspace-fast-alist-fork" data-sym="HL-HSPACE-FAST-ALIST-FORK" title="(defun hl-hspace-fast-alist-fork (alist ans honsp hs)
  (declare (type hl-hspace hs))
  (if (atom alist)
      ans
      (let* ((faltable (hl-hspace-faltable hs))
...">hl-hspace-fast-alist-fork</a> alist ans nil *default-hs*))</pre>
  </div>

<div class="form-block function" id="def-fast-alist-fork_21" data-defines="FAST-ALIST-FORK!" data-references="*DEFAULT-HS*,T,HL-HSPACE-FAST-ALIST-FORK,HL-MAYBE-INITIALIZE-DEFAULT-HS,ANS,ALIST,DEFUN" data-used-by="HL-HSPACE-FAST-ALIST-FORK" data-part-name="FAST-ALIST-FORK!" data-part-args="ANS,ALIST" data-part-body="HL-MAYBE-INITIALIZE-DEFAULT-HS" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="FAST-ALIST-FORK!">fast-alist-fork!</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-fast-alist-fork_21" data-sym="FAST-ALIST-FORK!" title="(defun fast-alist-fork! (alist ans)
  (hl-maybe-initialize-default-hs)
  (hl-hspace-fast-alist-fork alist ans t *default-hs*))">fast-alist-fork!</a>
  (alist ans)
  (<a class="sym-link local-def" href="#def-hl-maybe-initialize-default-hs" data-sym="HL-MAYBE-INITIALIZE-DEFAULT-HS" title="(defun hl-maybe-initialize-default-hs ()
  (unless *default-hs* (setq *default-hs* (hl-hspace-init))))">hl-maybe-initialize-default-hs</a>)
  (<a class="sym-link local-def" href="#def-hl-hspace-fast-alist-fork" data-sym="HL-HSPACE-FAST-ALIST-FORK" title="(defun hl-hspace-fast-alist-fork (alist ans honsp hs)
  (declare (type hl-hspace hs))
  (if (atom alist)
      ans
      (let* ((faltable (hl-hspace-faltable hs))
...">hl-hspace-fast-alist-fork</a> alist ans <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> *default-hs*))</pre>
  </div>

<div class="form-block function" id="def-fast-alist-clean" data-defines="FAST-ALIST-CLEAN" data-references="*DEFAULT-HS*,HL-HSPACE-FAST-ALIST-CLEAN,HL-MAYBE-INITIALIZE-DEFAULT-HS,ALIST,DEFUN" data-part-name="FAST-ALIST-CLEAN" data-part-args="ALIST" data-part-body="HL-MAYBE-INITIALIZE-DEFAULT-HS" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="FAST-ALIST-CLEAN">fast-alist-clean</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-fast-alist-clean" data-sym="FAST-ALIST-CLEAN" title="(defun fast-alist-clean (alist)
  (hl-maybe-initialize-default-hs)
  (hl-hspace-fast-alist-clean alist nil *default-hs*))">fast-alist-clean</a>
  (alist)
  (<a class="sym-link local-def" href="#def-hl-maybe-initialize-default-hs" data-sym="HL-MAYBE-INITIALIZE-DEFAULT-HS" title="(defun hl-maybe-initialize-default-hs ()
  (unless *default-hs* (setq *default-hs* (hl-hspace-init))))">hl-maybe-initialize-default-hs</a>)
  (<a class="sym-link local-def" href="#def-hl-hspace-fast-alist-clean" data-sym="HL-HSPACE-FAST-ALIST-CLEAN" title="(defun hl-hspace-fast-alist-clean (alist honsp hs)
  (declare (type hl-hspace hs))
  (cond ((atom alist) alist)
        (t
         (let* ((ans (cdr (last alist)))
...">hl-hspace-fast-alist-clean</a> alist nil *default-hs*))</pre>
  </div>

<div class="form-block function" id="def-fast-alist-clean_21" data-defines="FAST-ALIST-CLEAN!" data-references="*DEFAULT-HS*,T,HL-HSPACE-FAST-ALIST-CLEAN,HL-MAYBE-INITIALIZE-DEFAULT-HS,ALIST,DEFUN" data-part-name="FAST-ALIST-CLEAN!" data-part-args="ALIST" data-part-body="HL-MAYBE-INITIALIZE-DEFAULT-HS" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="FAST-ALIST-CLEAN!">fast-alist-clean!</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-fast-alist-clean_21" data-sym="FAST-ALIST-CLEAN!" title="(defun fast-alist-clean! (alist)
  (hl-maybe-initialize-default-hs)
  (hl-hspace-fast-alist-clean alist t *default-hs*))">fast-alist-clean!</a>
  (alist)
  (<a class="sym-link local-def" href="#def-hl-maybe-initialize-default-hs" data-sym="HL-MAYBE-INITIALIZE-DEFAULT-HS" title="(defun hl-maybe-initialize-default-hs ()
  (unless *default-hs* (setq *default-hs* (hl-hspace-init))))">hl-maybe-initialize-default-hs</a>)
  (<a class="sym-link local-def" href="#def-hl-hspace-fast-alist-clean" data-sym="HL-HSPACE-FAST-ALIST-CLEAN" title="(defun hl-hspace-fast-alist-clean (alist honsp hs)
  (declare (type hl-hspace hs))
  (cond ((atom alist) alist)
        (t
         (let* ((ans (cdr (last alist)))
...">hl-hspace-fast-alist-clean</a> alist <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a> *default-hs*))</pre>
  </div>

<div class="form-block other" id="form-118" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(declaim (inline <a class="sym-link local-def" href="#def-hons-get" data-sym="HONS-GET" title="(defun hons-get (key fal)
  (hl-maybe-initialize-default-hs)
  (hl-hspace-hons-get key fal *default-hs*))">hons-get</a>))</pre>
  </div>

<div class="form-block function" id="def-hons-get" data-defines="HONS-GET" data-references="*DEFAULT-HS*,HL-HSPACE-HONS-GET,HL-MAYBE-INITIALIZE-DEFAULT-HS,FAL,KEY,DEFUN" data-used-by="HL-HSPACE-HONS-GET" data-part-name="HONS-GET" data-part-args="FAL,KEY" data-part-body="HL-MAYBE-INITIALIZE-DEFAULT-HS" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="HONS-GET">hons-get</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-hons-get" data-sym="HONS-GET" title="(defun hons-get (key fal)
  (hl-maybe-initialize-default-hs)
  (hl-hspace-hons-get key fal *default-hs*))">hons-get</a>
  (key fal)
  (<a class="sym-link local-def" href="#def-hl-maybe-initialize-default-hs" data-sym="HL-MAYBE-INITIALIZE-DEFAULT-HS" title="(defun hl-maybe-initialize-default-hs ()
  (unless *default-hs* (setq *default-hs* (hl-hspace-init))))">hl-maybe-initialize-default-hs</a>)
  (<a class="sym-link local-def" href="#def-hl-hspace-hons-get" data-sym="HL-HSPACE-HONS-GET" title="(defun hl-hspace-hons-get (key alist hs)
  (declare (type hl-hspace hs))
  (if (atom alist)
      nil
      (let* ((faltable (hl-hspace-faltable hs))
...">hl-hspace-hons-get</a> key fal *default-hs*))</pre>
  </div>

<div class="form-block other" id="form-120" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(declaim (inline <a class="sym-link local-def" href="#def-fast-alist-free" data-sym="FAST-ALIST-FREE" title="(defun fast-alist-free (fal)
  (hl-maybe-initialize-default-hs)
  (hl-hspace-fast-alist-free fal *default-hs*))">fast-alist-free</a>))</pre>
  </div>

<div class="form-block function" id="def-fast-alist-free" data-defines="FAST-ALIST-FREE" data-references="*DEFAULT-HS*,HL-HSPACE-FAST-ALIST-FREE,HL-MAYBE-INITIALIZE-DEFAULT-HS,FAL,DEFUN" data-used-by="FAST-ALIST-FREE-ON-EXIT-RAW,WITH-STOLEN-ALIST-RAW,WITH-FAST-ALIST-RAW" data-part-name="FAST-ALIST-FREE" data-part-args="FAL" data-part-body="HL-MAYBE-INITIALIZE-DEFAULT-HS" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="FAST-ALIST-FREE">fast-alist-free</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-fast-alist-free" data-sym="FAST-ALIST-FREE" title="(defun fast-alist-free (fal)
  (hl-maybe-initialize-default-hs)
  (hl-hspace-fast-alist-free fal *default-hs*))">fast-alist-free</a>
  (fal)
  (<a class="sym-link local-def" href="#def-hl-maybe-initialize-default-hs" data-sym="HL-MAYBE-INITIALIZE-DEFAULT-HS" title="(defun hl-maybe-initialize-default-hs ()
  (unless *default-hs* (setq *default-hs* (hl-hspace-init))))">hl-maybe-initialize-default-hs</a>)
  (<a class="sym-link local-def" href="#def-hl-hspace-fast-alist-free" data-sym="HL-HSPACE-FAST-ALIST-FREE" title="(defun hl-hspace-fast-alist-free (alist hs)
  (declare (type hl-hspace hs))
  (cond ((atom alist) alist)
        (t (hl-faltable-remove alist (hl-hspace-faltable hs)) alist)))">hl-hspace-fast-alist-free</a> fal *default-hs*))</pre>
  </div>

<div class="form-block other" id="form-122" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(declaim (inline <a class="sym-link local-def" href="#def-fast-alist-len" data-sym="FAST-ALIST-LEN" title="(defun fast-alist-len (fal)
  (hl-maybe-initialize-default-hs)
  (hl-hspace-fast-alist-len fal *default-hs*))">fast-alist-len</a>))</pre>
  </div>

<div class="form-block function" id="def-fast-alist-len" data-defines="FAST-ALIST-LEN" data-references="*DEFAULT-HS*,HL-HSPACE-FAST-ALIST-LEN,HL-MAYBE-INITIALIZE-DEFAULT-HS,FAL,DEFUN" data-used-by="HL-HSPACE-FAST-ALIST-LEN" data-part-name="FAST-ALIST-LEN" data-part-args="FAL" data-part-body="HL-MAYBE-INITIALIZE-DEFAULT-HS" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="FAST-ALIST-LEN">fast-alist-len</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-fast-alist-len" data-sym="FAST-ALIST-LEN" title="(defun fast-alist-len (fal)
  (hl-maybe-initialize-default-hs)
  (hl-hspace-fast-alist-len fal *default-hs*))">fast-alist-len</a>
  (fal)
  (<a class="sym-link local-def" href="#def-hl-maybe-initialize-default-hs" data-sym="HL-MAYBE-INITIALIZE-DEFAULT-HS" title="(defun hl-maybe-initialize-default-hs ()
  (unless *default-hs* (setq *default-hs* (hl-hspace-init))))">hl-maybe-initialize-default-hs</a>)
  (<a class="sym-link local-def" href="#def-hl-hspace-fast-alist-len" data-sym="HL-HSPACE-FAST-ALIST-LEN" title="(defun hl-hspace-fast-alist-len (alist hs)
  (declare (type hl-hspace hs))
  (if (atom alist)
      0
      (let* ((faltable (hl-hspace-faltable hs))
...">hl-hspace-fast-alist-len</a> fal *default-hs*))</pre>
  </div>

<div class="form-block other" id="form-124" typeof="Code">
    <div class="form-header"><span class="form-type">other</span></div>
    <pre class="code" property="text">(declaim (inline <a class="sym-link local-def" href="#def-number-subtrees" data-sym="NUMBER-SUBTREES" title="(defun number-subtrees (x)
  (hl-maybe-initialize-default-hs)
  (hl-hspace-number-subtrees x *default-hs*))">number-subtrees</a>))</pre>
  </div>

<div class="form-block function" id="def-number-subtrees" data-defines="NUMBER-SUBTREES" data-references="*DEFAULT-HS*,HL-HSPACE-NUMBER-SUBTREES,HL-MAYBE-INITIALIZE-DEFAULT-HS,X,DEFUN" data-part-name="NUMBER-SUBTREES" data-part-args="X" data-part-body="HL-MAYBE-INITIALIZE-DEFAULT-HS" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="NUMBER-SUBTREES">number-subtrees</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-number-subtrees" data-sym="NUMBER-SUBTREES" title="(defun number-subtrees (x)
  (hl-maybe-initialize-default-hs)
  (hl-hspace-number-subtrees x *default-hs*))">number-subtrees</a>
  (x)
  (<a class="sym-link local-def" href="#def-hl-maybe-initialize-default-hs" data-sym="HL-MAYBE-INITIALIZE-DEFAULT-HS" title="(defun hl-maybe-initialize-default-hs ()
  (unless *default-hs* (setq *default-hs* (hl-hspace-init))))">hl-maybe-initialize-default-hs</a>)
  (<a class="sym-link local-def" href="#def-hl-hspace-number-subtrees" data-sym="HL-HSPACE-NUMBER-SUBTREES" title="(defun hl-hspace-number-subtrees (x hs)
  (declare (type hl-hspace hs))
  (let ((x (hl-hspace-norm x hs)) (seen (hl-mht :test &#39;eq :size 10000)))
    (hl-hspace-number-subtrees-aux x seen)
    (hash-table-count seen)))">hl-hspace-number-subtrees</a> x *default-hs*))</pre>
  </div>

<div class="form-block function" id="def-fast-alist-summary" data-defines="FAST-ALIST-SUMMARY" data-references="*DEFAULT-HS*,HL-HSPACE-FAST-ALIST-SUMMARY,HL-MAYBE-INITIALIZE-DEFAULT-HS,DEFUN" data-part-name="FAST-ALIST-SUMMARY" data-part-body="HL-MAYBE-INITIALIZE-DEFAULT-HS" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="FAST-ALIST-SUMMARY">fast-alist-summary</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-fast-alist-summary" data-sym="FAST-ALIST-SUMMARY" title="(defun fast-alist-summary ()
  (hl-maybe-initialize-default-hs)
  (hl-hspace-fast-alist-summary *default-hs*))">fast-alist-summary</a>
  nil
  (<a class="sym-link local-def" href="#def-hl-maybe-initialize-default-hs" data-sym="HL-MAYBE-INITIALIZE-DEFAULT-HS" title="(defun hl-maybe-initialize-default-hs ()
  (unless *default-hs* (setq *default-hs* (hl-hspace-init))))">hl-maybe-initialize-default-hs</a>)
  (<a class="sym-link local-def" href="#def-hl-hspace-fast-alist-summary" data-sym="HL-HSPACE-FAST-ALIST-SUMMARY" title="(defun hl-hspace-fast-alist-summary (hs)
  (declare (type hl-hspace hs))
  (let* ((faltable (hl-hspace-faltable hs))
         (table (hl-faltable-table faltable))
         (total-count 0)
...">hl-hspace-fast-alist-summary</a> *default-hs*))</pre>
  </div>

<div class="form-block function" id="def-make-fast-alist" data-defines="MAKE-FAST-ALIST" data-references="*DEFAULT-HS*,HL-HSPACE-MAKE-FAST-ALIST,HL-MAYBE-INITIALIZE-DEFAULT-HS,ALIST,DEFUN" data-used-by="WITH-STOLEN-ALIST-RAW,WITH-FAST-ALIST-RAW" data-part-name="MAKE-FAST-ALIST" data-part-args="ALIST" data-part-body="HL-MAYBE-INITIALIZE-DEFAULT-HS" typeof="SoftwareSourceCode">
    <div class="form-header"><span class="form-name" property="name" data-sym="MAKE-FAST-ALIST">make-fast-alist</span><span class="form-type">function</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defun" data-sym="DEFUN">defun</a> <a class="sym-link local-def" href="#def-make-fast-alist" data-sym="MAKE-FAST-ALIST" title="(defun make-fast-alist (alist)
  (hl-maybe-initialize-default-hs)
  (hl-hspace-make-fast-alist alist *default-hs*))">make-fast-alist</a>
  (alist)
  (<a class="sym-link local-def" href="#def-hl-maybe-initialize-default-hs" data-sym="HL-MAYBE-INITIALIZE-DEFAULT-HS" title="(defun hl-maybe-initialize-default-hs ()
  (unless *default-hs* (setq *default-hs* (hl-hspace-init))))">hl-maybe-initialize-default-hs</a>)
  (<a class="sym-link local-def" href="#def-hl-hspace-make-fast-alist" data-sym="HL-HSPACE-MAKE-FAST-ALIST" title="(defun hl-hspace-make-fast-alist (alist hs)
  (declare (type hl-hspace hs))
  (if (atom alist)
      alist
      (let* ((faltable (hl-hspace-faltable hs))
...">hl-hspace-make-fast-alist</a> alist *default-hs*))</pre>
  </div>

<div class="form-block macro" id="def-with-fast-alist-raw" data-defines="WITH-FAST-ALIST-RAW" data-references="FAST-ALIST-FREE,OUR-MULTIPLE-VALUE-PROG1,MAKE-FAST-ALIST,T,HL-FALSLOT-KEY,*DEFAULT-HS*,HL-HSPACE-FALTABLE,HL-FALTABLE-GENERAL-LOOKUP,SLOT,LET*,HL-MAYBE-INITIALIZE-DEFAULT-HS,PROGN,QUASIQUOTE,LEGAL-VARIABLEP,IF,ALIST-VAR,GENSYM,ALIST-WAS-FAST-P,LET,FORM,ALIST,DEFMACRO" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="WITH-FAST-ALIST-RAW">with-fast-alist-raw</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-with-fast-alist-raw" data-sym="WITH-FAST-ALIST-RAW" title="(defmacro with-fast-alist-raw (alist form)
  (let ((alist-was-fast-p (gensym))
        (alist-var
         (if (legal-variablep alist)
             alist
...">with-fast-alist-raw</a>
  (alist form)
  (let ((alist-was-fast-p (gensym)) (alist-var (if (<a class="sym-link system" href="basis-a.html#def-legal-variablep" data-sym="LEGAL-VARIABLEP">legal-variablep</a> alist)
          alist
          (gensym))))
    `(<a class="sym-link system" href="axioms.html#def-progn" data-sym="PROGN">progn</a> (<a class="sym-link local-def" href="#def-hl-maybe-initialize-default-hs" data-sym="HL-MAYBE-INITIALIZE-DEFAULT-HS" title="(defun hl-maybe-initialize-default-hs ()
  (unless *default-hs* (setq *default-hs* (hl-hspace-init))))">hl-maybe-initialize-default-hs</a>)
      (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((,ALIST-VAR ,ALIST) (,ALIST-WAS-FAST-P (let ((slot (<a class="sym-link local-def" href="#def-hl-faltable-general-lookup" data-sym="HL-FALTABLE-GENERAL-LOOKUP" title="(defun hl-faltable-general-lookup (alist faltable)
  (declare (type hl-faltable faltable))
  (or (hl-faltable-slot-lookup alist faltable)
      (let ((slot (hl-faltable-get-free-slot faltable)))
        (hl-faltable-load-empty-slot alist slot faltable)">hl-faltable-general-lookup</a> ,ALIST-VAR
                   (hl-hspace-faltable *default-hs*))))
              (if (hl-falslot-key slot)
                <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
                nil)))
          (,ALIST-VAR (if ,ALIST-WAS-FAST-P
              ,ALIST-VAR
              (<a class="sym-link local-def" href="#def-make-fast-alist" data-sym="MAKE-FAST-ALIST" title="(defun make-fast-alist (alist)
  (hl-maybe-initialize-default-hs)
  (hl-hspace-make-fast-alist alist *default-hs*))">make-fast-alist</a> ,ALIST-VAR))))
        (our-multiple-value-prog1 ,FORM
          (if ,ALIST-WAS-FAST-P
            nil
            (<a class="sym-link local-def" href="#def-fast-alist-free" data-sym="FAST-ALIST-FREE" title="(defun fast-alist-free (fal)
  (hl-maybe-initialize-default-hs)
  (hl-hspace-fast-alist-free fal *default-hs*))">fast-alist-free</a> ,ALIST-VAR)))))))</pre>
  </div>

<div class="form-block macro" id="def-with-stolen-alist-raw" data-defines="WITH-STOLEN-ALIST-RAW" data-references="FAST-ALIST-FREE,OUR-MULTIPLE-VALUE-PROG1,MAKE-FAST-ALIST,T,HL-FALSLOT-KEY,*DEFAULT-HS*,HL-HSPACE-FALTABLE,HL-FALTABLE-GENERAL-LOOKUP,SLOT,LET*,HL-MAYBE-INITIALIZE-DEFAULT-HS,PROGN,QUASIQUOTE,LEGAL-VARIABLEP,IF,ALIST-VAR,GENSYM,ALIST-WAS-FAST-P,LET,FORM,ALIST,DEFMACRO" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="WITH-STOLEN-ALIST-RAW">with-stolen-alist-raw</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-with-stolen-alist-raw" data-sym="WITH-STOLEN-ALIST-RAW" title="(defmacro with-stolen-alist-raw (alist form)
  (let ((alist-was-fast-p (gensym))
        (alist-var
         (if (legal-variablep alist)
             alist
...">with-stolen-alist-raw</a>
  (alist form)
  (let ((alist-was-fast-p (gensym)) (alist-var (if (<a class="sym-link system" href="basis-a.html#def-legal-variablep" data-sym="LEGAL-VARIABLEP">legal-variablep</a> alist)
          alist
          (gensym))))
    `(<a class="sym-link system" href="axioms.html#def-progn" data-sym="PROGN">progn</a> (<a class="sym-link local-def" href="#def-hl-maybe-initialize-default-hs" data-sym="HL-MAYBE-INITIALIZE-DEFAULT-HS" title="(defun hl-maybe-initialize-default-hs ()
  (unless *default-hs* (setq *default-hs* (hl-hspace-init))))">hl-maybe-initialize-default-hs</a>)
      (<a class="sym-link system" href="axioms.html#def-let_2A" data-sym="LET*">let*</a> ((,ALIST-VAR ,ALIST) (,ALIST-WAS-FAST-P (let ((slot (<a class="sym-link local-def" href="#def-hl-faltable-general-lookup" data-sym="HL-FALTABLE-GENERAL-LOOKUP" title="(defun hl-faltable-general-lookup (alist faltable)
  (declare (type hl-faltable faltable))
  (or (hl-faltable-slot-lookup alist faltable)
      (let ((slot (hl-faltable-get-free-slot faltable)))
        (hl-faltable-load-empty-slot alist slot faltable)">hl-faltable-general-lookup</a> ,ALIST-VAR
                   (hl-hspace-faltable *default-hs*))))
              (if (hl-falslot-key slot)
                <a class="sym-link system" href="axioms.html#def-t" data-sym="T">t</a>
                nil)))
          (,ALIST-VAR (if ,ALIST-WAS-FAST-P
              ,ALIST-VAR
              (<a class="sym-link local-def" href="#def-make-fast-alist" data-sym="MAKE-FAST-ALIST" title="(defun make-fast-alist (alist)
  (hl-maybe-initialize-default-hs)
  (hl-hspace-make-fast-alist alist *default-hs*))">make-fast-alist</a> ,ALIST-VAR))))
        (our-multiple-value-prog1 ,FORM
          (if ,ALIST-WAS-FAST-P
            (<a class="sym-link local-def" href="#def-make-fast-alist" data-sym="MAKE-FAST-ALIST" title="(defun make-fast-alist (alist)
  (hl-maybe-initialize-default-hs)
  (hl-hspace-make-fast-alist alist *default-hs*))">make-fast-alist</a> ,ALIST-VAR)
            (<a class="sym-link local-def" href="#def-fast-alist-free" data-sym="FAST-ALIST-FREE" title="(defun fast-alist-free (fal)
  (hl-maybe-initialize-default-hs)
  (hl-hspace-fast-alist-free fal *default-hs*))">fast-alist-free</a> ,ALIST-VAR)))))))</pre>
  </div>

<div class="form-block macro" id="def-fast-alist-free-on-exit-raw" data-defines="FAST-ALIST-FREE-ON-EXIT-RAW" data-references="FAST-ALIST-FREE,OUR-MULTIPLE-VALUE-PROG1,QUASIQUOTE,FORM,ALIST,DEFMACRO" typeof="Code">
    <div class="form-header"><span class="form-name" property="name" data-sym="FAST-ALIST-FREE-ON-EXIT-RAW">fast-alist-free-on-exit-raw</span><span class="form-type">macro</span></div>
    <pre class="code" property="text">(<a class="sym-link system" href="axioms.html#def-defmacro" data-sym="DEFMACRO">defmacro</a> <a class="sym-link local-def" href="#def-fast-alist-free-on-exit-raw" data-sym="FAST-ALIST-FREE-ON-EXIT-RAW" title="(defmacro fast-alist-free-on-exit-raw (alist form)
  `(our-multiple-value-prog1 ,form (fast-alist-free ,alist)))">fast-alist-free-on-exit-raw</a>
  (alist form)
  `(our-multiple-value-prog1 ,FORM (<a class="sym-link local-def" href="#def-fast-alist-free" data-sym="FAST-ALIST-FREE" title="(defun fast-alist-free (fal)
  (hl-maybe-initialize-default-hs)
  (hl-hspace-fast-alist-free fal *default-hs*))">fast-alist-free</a> ,ALIST)))</pre>
  </div>


  </main>
  
<script>
// ACL2 Book HTML Documentation - Interactive Features
// Generated by cert2 - build2 system

// State
let activeFilter = null;
let activePartFilter = null;
let activeNameFilter = null;
let currentFontSize = 14;

// Theme management
function getStoredTheme() {
  return localStorage.getItem('acl2-theme') || 'dark';
}

function setTheme(theme) {
  if (theme === 'light') {
    document.documentElement.setAttribute('data-theme', 'light');
    document.getElementById('theme-toggle').textContent = '🌙';
  } else {
    document.documentElement.removeAttribute('data-theme');
    document.getElementById('theme-toggle').textContent = '☀️';
  }
  localStorage.setItem('acl2-theme', theme);
}

function toggleTheme() {
  const current = getStoredTheme();
  setTheme(current === 'dark' ? 'light' : 'dark');
}

// Font size management
function getStoredFontSize() {
  return parseInt(localStorage.getItem('acl2-fontsize') || '14', 10);
}

function setFontSize(size) {
  size = Math.max(10, Math.min(24, size)); // Clamp between 10-24
  currentFontSize = size;
  document.body.style.fontSize = size + 'px';
  localStorage.setItem('acl2-fontsize', size.toString());
}

function increaseFontSize() {
  setFontSize(currentFontSize + 2);
}

function decreaseFontSize() {
  setFontSize(currentFontSize - 2);
}

// Get all form blocks
function getFormBlocks() {
  return document.querySelectorAll('.form-block');
}

// Clear all filters
function clearFilter() {
  activeFilter = null;
  activePartFilter = null;
  activeNameFilter = null;
  getFormBlocks().forEach(b => {
    b.classList.remove('hidden', 'dimmed');
  });
  document.querySelectorAll('.part-btn').forEach(b => b.classList.remove('active'));
  const status = document.querySelector('.filter-status');
  status.classList.remove('active');
  // Slide name filter back to original position
  document.querySelector('.controls-left').style.transform = '';
  // Clear the name filter input
  const nameInput = document.getElementById('name-filter');
  if (nameInput) nameInput.value = '';
}

// Show filter status and slide name filter right
function showFilterStatus(text) {
  const status = document.querySelector('.filter-status');
  status.classList.add('active');
  status.querySelector('.filter-text').textContent = text;
  // Slide name filter to the right to make room
  setTimeout(() => {
    const statusWidth = status.offsetWidth;
    document.querySelector('.controls-left').style.transform = `translateX(${statusWidth + 15}px)`;
  }, 10);
}

// Filter to show only forms that define or reference a symbol
function filterBySymbol(symName, showUsedBy) {
  clearFilter();
  activeFilter = symName;
  
  const blocks = getFormBlocks();
  let visibleCount = 0;
  
  blocks.forEach(block => {
    const definesName = block.dataset.defines;
    const references = (block.dataset.references || '').split(',');
    const usedBy = (block.dataset.usedBy || '').split(',');
    
    let show = false;
    if (showUsedBy) {
      // Show forms that USE this symbol
      show = references.includes(symName) || definesName === symName;
    } else {
      // Show forms that this symbol USES
      show = usedBy.includes(symName) || definesName === symName;
    }
    
    if (show) {
      block.classList.remove('hidden');
      visibleCount++;
    } else {
      block.classList.add('hidden');
    }
  });
  
  // Update status
  showFilterStatus(`Filtering by: ${symName} (${visibleCount} items)`);
}

// Filter by defthm part (term, hints, rule-classes, etc.)
function filterByPart(formId, partName) {
  clearFilter();
  activePartFilter = { formId, partName };
  
  // Get the part's referenced symbols
  // data-part-term becomes dataset.partTerm, data-part-hints becomes dataset.partHints, etc.
  const block = document.getElementById(formId);
  const datasetKey = 'part' + partName.charAt(0).toUpperCase() + partName.slice(1).replace(/-([a-z])/g, (g) => g[1].toUpperCase());
  const partData = block.dataset[datasetKey];
  if (!partData) return;
  
  const partSyms = partData.split(',').filter(s => s);
  
  // Highlight the button
  block.querySelector(`.part-btn[data-part="${partName}"]`).classList.add('active');
  
  // Hide forms not referenced by this part
  getFormBlocks().forEach(b => {
    const definesName = b.dataset.defines;
    if (b.id === formId || partSyms.includes(definesName)) {
      b.classList.remove('hidden');
    } else {
      b.classList.add('hidden');
    }
  });
  
  // Update status
  showFilterStatus(`Filtering ${formId} :${partName} (${partSyms.length} references)`);
}

// Filter by name (substring or regex)
function filterByName(pattern, useRegex) {
  // Clear other filters but keep the input value
  activeFilter = null;
  activePartFilter = null;
  document.querySelectorAll('.part-btn').forEach(b => b.classList.remove('active'));
  
  if (!pattern || pattern.trim() === '') {
    // Empty pattern - show all
    activeNameFilter = null;
    getFormBlocks().forEach(b => b.classList.remove('hidden'));
    const status = document.querySelector('.filter-status');
    status.classList.remove('active');
    document.querySelector('.controls-left').style.transform = '';
    return;
  }
  
  activeNameFilter = pattern;
  
  let matcher;
  let isValidRegex = true;
  
  if (useRegex) {
    try {
      matcher = new RegExp(pattern, 'i');
    } catch (e) {
      // Invalid regex - show error in status and don't filter
      showFilterStatus(`Invalid regex: ${e.message}`);
      return;
    }
  } else {
    // Plain substring match (case-insensitive)
    const lowerPattern = pattern.toLowerCase();
    matcher = { test: (s) => s.toLowerCase().includes(lowerPattern) };
  }
  
  const blocks = getFormBlocks();
  let visibleCount = 0;
  
  blocks.forEach(block => {
    const definesName = block.dataset.defines || '';
    if (matcher.test(definesName)) {
      block.classList.remove('hidden');
      visibleCount++;
    } else {
      block.classList.add('hidden');
    }
  });
  
  // Update status
  const modeText = useRegex ? 'regex' : 'name';
  showFilterStatus(`Filtering by ${modeText}: "${pattern}" (${visibleCount} matches)`);
}

// Click on a name to show what references it
function handleNameClick(symName) {
  if (activeFilter === symName) {
    clearFilter();
  } else {
    filterBySymbol(symName, true);
  }
}

// Navigate to a definition (same file or different)
function navigateTo(symName, file) {
  if (file) {
    // External file - navigate
    window.location.href = file + '.html#def-' + symName.toLowerCase();
  } else {
    // Same file - scroll
    const target = document.getElementById('def-' + symName.toLowerCase());
    if (target) {
      target.scrollIntoView({ behavior: 'smooth', block: 'center' });
      target.classList.add('highlight');
      setTimeout(() => target.classList.remove('highlight'), 400);
    }
  }
}

// Initialize
document.addEventListener('DOMContentLoaded', () => {
  // Part buttons
  document.querySelectorAll('.part-btn').forEach(btn => {
    btn.addEventListener('click', (e) => {
      e.stopPropagation();
      const formId = btn.closest('.form-block').id;
      const partName = btn.dataset.part;
      if (activePartFilter && activePartFilter.formId === formId && 
          activePartFilter.partName === partName) {
        clearFilter();
      } else {
        filterByPart(formId, partName);
      }
    });
  });
  
  // Clear filter button
  document.querySelector('.clear-filter').addEventListener('click', clearFilter);
  
  // Name filter input
  const nameFilter = document.getElementById('name-filter');
  const regexToggle = document.getElementById('regex-toggle');
  
  let filterTimeout = null;
  nameFilter.addEventListener('input', () => {
    // Debounce the filter to avoid excessive updates while typing
    clearTimeout(filterTimeout);
    filterTimeout = setTimeout(() => {
      filterByName(nameFilter.value, regexToggle.checked);
    }, 150);
  });
  
  // Re-filter when regex toggle changes
  regexToggle.addEventListener('change', () => {
    if (nameFilter.value) {
      filterByName(nameFilter.value, regexToggle.checked);
    }
  });
  
  // Allow Escape key to clear filter when in input
  nameFilter.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
      clearFilter();
      nameFilter.blur();
    }
  });
  
  // Symbol references (old span-based refs)
  document.querySelectorAll('.sym-ref').forEach(ref => {
    ref.addEventListener('click', (e) => {
      e.stopPropagation();
      const sym = ref.dataset.sym;
      const file = ref.dataset.file;
      if (file) {
        navigateTo(sym, file);
      } else {
        handleNameClick(sym);
      }
    });
  });
  
  // Symbol links (new anchor-based links)
  // These use standard <a> tags so navigation happens automatically
  // But we need to clear filters if target would be hidden
  document.querySelectorAll('.sym-link').forEach(link => {
    link.addEventListener('click', (e) => {
      const href = link.getAttribute('href');
      if (href && href.startsWith('#')) {
        // Local link - check if target is hidden by filter
        const targetId = href.substring(1);
        const target = document.getElementById(targetId);
        if (target) {
          // If target is hidden, clear the filter first
          if (target.classList.contains('hidden')) {
            clearFilter();
          }
          // Add highlight effect after a short delay
          setTimeout(() => {
            target.classList.add('highlight');
            setTimeout(() => target.classList.remove('highlight'), 400);
          }, 100);
        }
      }
      // For external links, default behavior handles navigation
    });
  });
  
  // Form names (show what uses them)
  document.querySelectorAll('.form-name').forEach(name => {
    name.addEventListener('click', (e) => {
      handleNameClick(name.dataset.sym);
    });
  });
  
  // Handle hash navigation (when arriving at page with #anchor)
  if (window.location.hash) {
    const target = document.querySelector(window.location.hash);
    if (target) {
      setTimeout(() => {
        target.scrollIntoView({ behavior: 'smooth', block: 'center' });
        target.classList.add('highlight');
        setTimeout(() => target.classList.remove('highlight'), 400);
      }, 200);
    }
  }
  
  // Initialize theme from storage
  setTheme(getStoredTheme());
  
  // Initialize font size from storage
  currentFontSize = getStoredFontSize();
  setFontSize(currentFontSize);
  
  // Theme toggle button
  document.getElementById('theme-toggle').addEventListener('click', toggleTheme);
  
  // Font size buttons
  document.getElementById('font-larger').addEventListener('click', increaseFontSize);
  document.getElementById('font-smaller').addEventListener('click', decreaseFontSize);
});

</script>

</body>
</html>